const d="dGhpcy5kb2N1bWVudD17Y3VycmVudFNjcmlwdDp7c3JjOnRoaXMubG9jYXRpb24uaHJlZn19LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBtbz10eXBlb2YgZG9jdW1lbnQ8InUiP2RvY3VtZW50LmN1cnJlbnRTY3JpcHQ6bnVsbDsoYXN5bmMoKT0+e2Z1bmN0aW9uIEJyKHQsZSl7dCYmdChlKX1mdW5jdGlvbiBwZyh0KXtyZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHQpLm1hcCgoW2Uscl0pPT5bcixlXSkpfWZ1bmN0aW9uIGdvKHQpe3JldHVybiB0LnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCJcXCQmIil9Y29uc3Qgd3Q9Y2xhc3N7Y29uc3RydWN0b3IoKXtsZXQgdD1mdW5jdGlvbiguLi5lKXtyZXR1cm4gdC5fY2FsbCguLi5lKX07cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZih0LG5ldy50YXJnZXQucHJvdG90eXBlKX1fY2FsbCguLi50KXt0aHJvdyBFcnJvcigiTXVzdCBpbXBsZW1lbnQgX2NhbGwgbWV0aG9kIGluIHN1YmNsYXNzIil9fTtmdW5jdGlvbiBoZyh0KXtyZXR1cm4gdD8ucHJvdG90eXBlPy5fX3Byb3RvX18/LmNvbnN0cnVjdG9yPy5uYW1lPT09IlR5cGVkQXJyYXkifWZ1bmN0aW9uIF9vKHQpe3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyKHQpfHx0eXBlb2YgdD09ImJpZ2ludCJ9ZnVuY3Rpb24gZmcodCl7cmV0dXJuIHQhPW51bGx9ZnVuY3Rpb24geW8odCl7Y29uc3QgZT1bXTtsZXQgcj10O2Zvcig7QXJyYXkuaXNBcnJheShyKTspZS5wdXNoKHIubGVuZ3RoKSxyPXJbMF07cmV0dXJuIGV9ZnVuY3Rpb24gd28odCxlLHI9dm9pZCAwKXtjb25zdCBuPXRbZV07aWYobiE9PXZvaWQgMClyZXR1cm4gZGVsZXRlIHRbZV0sbjtpZihyPT09dm9pZCAwKXRocm93IEVycm9yKGBLZXkgJHtlfSBkb2VzIG5vdCBleGlzdCBpbiBvYmplY3QuYCk7cmV0dXJuIHJ9ZnVuY3Rpb24gbHQoLi4udCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sdCl9ZnVuY3Rpb24gbWcoLi4udCl7cmV0dXJuIHQucmVkdWNlKChlLHIpPT5lLmZsYXRNYXAobj0+ci5tYXAoYT0+W24sYV0pKSl9ZnVuY3Rpb24gZGEodCxlKXtyZXR1cm4gTWF0aC5hYnMoKHQrZSklKDIqZSktZSl9dmFyIEtlPXt9LGdnPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGRlZmF1bHQ6S2V9KTtjb25zdCBfZz0iMy4wLjAtYWxwaGEuMCIsdm89dHlwZW9mIHNlbGY8InUiLHlnPXZvJiYiY2FjaGVzImluIHNlbGYsJGk9ISRvKEtlKSx3Zz0hJG8oS2UpLHhpPSRpJiZ3ZyxraT14aT9LZS5kaXJuYW1lKEtlLmRpcm5hbWUoS2UuZmlsZVVSTFRvUGF0aChtbyYmbW8uc3JjfHxuZXcgVVJMKCJhc3NldHMvd29ya2VyLUQyNTdDemJCLmpzIixkb2N1bWVudC5iYXNlVVJJKS5ocmVmKSkpOiIuLyIsdmc9eGk/S2Uuam9pbihraSwiLy5jYWNoZS8iKTpudWxsLGJvPSIvbW9kZWxzLyIsYmc9eGk/S2Uuam9pbihraSxibyk6Ym8sdHQ9e2JhY2tlbmRzOntvbm54Ont9LHRmanM6e319LF9fZGlybmFtZTpraSx2ZXJzaW9uOl9nLGFsbG93UmVtb3RlTW9kZWxzOiEwLHJlbW90ZUhvc3Q6Imh0dHBzOi8vaHVnZ2luZ2ZhY2UuY28vIixyZW1vdGVQYXRoVGVtcGxhdGU6Inttb2RlbH0vcmVzb2x2ZS97cmV2aXNpb259LyIsYWxsb3dMb2NhbE1vZGVsczohdm8sbG9jYWxNb2RlbFBhdGg6YmcsdXNlRlM6JGksdXNlQnJvd3NlckNhY2hlOnlnLHVzZUZTQ2FjaGU6JGksY2FjaGVEaXI6dmcsdXNlQ3VzdG9tQ2FjaGU6ITEsY3VzdG9tQ2FjaGU6bnVsbH07ZnVuY3Rpb24gJG8odCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmxlbmd0aD09PTB9dmFyIFNpPXt9O2NsYXNzIGNhe19DT05URU5UX1RZUEVfTUFQPXt0eHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIsY3NzOiJ0ZXh0L2NzcyIsanM6InRleHQvamF2YXNjcmlwdCIsanNvbjoiYXBwbGljYXRpb24vanNvbiIscG5nOiJpbWFnZS9wbmciLGpwZzoiaW1hZ2UvanBlZyIsanBlZzoiaW1hZ2UvanBlZyIsZ2lmOiJpbWFnZS9naWYifTtjb25zdHJ1Y3RvcihlKXtpZih0aGlzLmZpbGVQYXRoPWUsdGhpcy5oZWFkZXJzPW5ldyBIZWFkZXJzLHRoaXMuZXhpc3RzPUtlLmV4aXN0c1N5bmMoZSksdGhpcy5leGlzdHMpe3RoaXMuc3RhdHVzPTIwMCx0aGlzLnN0YXR1c1RleHQ9Ik9LIjtsZXQgcj1LZS5zdGF0U3luYyhlKTt0aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LWxlbmd0aCIsci5zaXplLnRvU3RyaW5nKCkpLHRoaXMudXBkYXRlQ29udGVudFR5cGUoKTtsZXQgbj10aGlzO3RoaXMuYm9keT1uZXcgUmVhZGFibGVTdHJlYW0oe3N0YXJ0KGEpe24uYXJyYXlCdWZmZXIoKS50aGVuKGk9PnthLmVucXVldWUobmV3IFVpbnQ4QXJyYXkoaSkpLGEuY2xvc2UoKX0pfX0pfWVsc2UgdGhpcy5zdGF0dXM9NDA0LHRoaXMuc3RhdHVzVGV4dD0iTm90IEZvdW5kIix0aGlzLmJvZHk9bnVsbH11cGRhdGVDb250ZW50VHlwZSgpe2NvbnN0IGU9dGhpcy5maWxlUGF0aC50b1N0cmluZygpLnNwbGl0KCIuIikucG9wKCkudG9Mb3dlckNhc2UoKTt0aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLHRoaXMuX0NPTlRFTlRfVFlQRV9NQVBbZV0/PyJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iKX1jbG9uZSgpe2xldCBlPW5ldyBjYSh0aGlzLmZpbGVQYXRoKTtyZXR1cm4gZS5leGlzdHM9dGhpcy5leGlzdHMsZS5zdGF0dXM9dGhpcy5zdGF0dXMsZS5zdGF0dXNUZXh0PXRoaXMuc3RhdHVzVGV4dCxlLmhlYWRlcnM9bmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKSxlfWFzeW5jIGFycmF5QnVmZmVyKCl7cmV0dXJuKGF3YWl0IEtlLnByb21pc2VzLnJlYWRGaWxlKHRoaXMuZmlsZVBhdGgpKS5idWZmZXJ9YXN5bmMgYmxvYigpe2NvbnN0IGU9YXdhaXQgS2UucHJvbWlzZXMucmVhZEZpbGUodGhpcy5maWxlUGF0aCk7cmV0dXJuIG5ldyBCbG9iKFtlXSx7dHlwZTp0aGlzLmhlYWRlcnMuZ2V0KCJjb250ZW50LXR5cGUiKX0pfWFzeW5jIHRleHQoKXtyZXR1cm4gYXdhaXQgS2UucHJvbWlzZXMucmVhZEZpbGUodGhpcy5maWxlUGF0aCwidXRmOCIpfWFzeW5jIGpzb24oKXtyZXR1cm4gSlNPTi5wYXJzZShhd2FpdCB0aGlzLnRleHQoKSl9fWZ1bmN0aW9uIEVpKHQsZT1udWxsKXtsZXQgcjt0cnl7cj1uZXcgVVJMKHQpfWNhdGNoe3JldHVybiExfXJldHVybiBlJiYhZS5pbmNsdWRlcyhyLmhvc3RuYW1lKT8hMTpyLnByb3RvY29sPT09Imh0dHA6Inx8ci5wcm90b2NvbD09PSJodHRwczoifWFzeW5jIGZ1bmN0aW9uIHBhKHQpe2lmKHR0LnVzZUZTJiYhRWkodCkpcmV0dXJuIG5ldyBjYSh0KTtpZih0eXBlb2YgcHJvY2VzczwidSImJnByb2Nlc3M/LnJlbGVhc2U/Lm5hbWU9PT0ibm9kZSIpe2NvbnN0IGU9ISFTaT8uVEVTVElOR19SRU1PVEVMWSxyPXR0LnZlcnNpb24sbj1uZXcgSGVhZGVycztpZihuLnNldCgiVXNlci1BZ2VudCIsYHRyYW5zZm9ybWVycy5qcy8ke3J9OyBpc19jaS8ke2V9O2ApLEVpKHQsWyJodWdnaW5nZmFjZS5jbyIsImhmLmNvIl0pKXtjb25zdCBhPVNpPy5IRl9UT0tFTj8/U2k/LkhGX0FDQ0VTU19UT0tFTjthJiZuLnNldCgiQXV0aG9yaXphdGlvbiIsYEJlYXJlciAke2F9YCl9cmV0dXJuIGZldGNoKHQse2hlYWRlcnM6bn0pfWVsc2UgcmV0dXJuIGZldGNoKHQpfWNvbnN0ICRnPXs0MDA6IkJhZCByZXF1ZXN0IGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBsb2FkIGZpbGUiLDQwMToiVW5hdXRob3JpemVkIGFjY2VzcyB0byBmaWxlIiw0MDM6IkZvcmJpZGRlbiBhY2Nlc3MgdG8gZmlsZSIsNDA0OiJDb3VsZCBub3QgbG9jYXRlIGZpbGUiLDQwODoiUmVxdWVzdCB0aW1lb3V0IGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBsb2FkIGZpbGUiLDUwMDoiSW50ZXJuYWwgc2VydmVyIGVycm9yIGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBsb2FkIGZpbGUiLDUwMjoiQmFkIGdhdGV3YXkgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGxvYWQgZmlsZSIsNTAzOiJTZXJ2aWNlIHVuYXZhaWxhYmxlIGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBsb2FkIGZpbGUiLDUwNDoiR2F0ZXdheSB0aW1lb3V0IGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBsb2FkIGZpbGUifTtmdW5jdGlvbiB4Zyh0LGUscil7aWYoIXIpcmV0dXJuIG51bGw7Y29uc3Qgbj0kZ1t0XT8/YEVycm9yICgke3R9KSBvY2N1cnJlZCB3aGlsZSB0cnlpbmcgdG8gbG9hZCBmaWxlYDt0aHJvdyBFcnJvcihgJHtufTogIiR7ZX0iLmApfWNsYXNzIHhve2NvbnN0cnVjdG9yKGUpe3RoaXMucGF0aD1lfWFzeW5jIG1hdGNoKGUpe2xldCByPUtlLmpvaW4odGhpcy5wYXRoLGUpLG49bmV3IGNhKHIpO2lmKG4uZXhpc3RzKXJldHVybiBufWFzeW5jIHB1dChlLHIpe2NvbnN0IG49QnVmZmVyLmZyb20oYXdhaXQgci5hcnJheUJ1ZmZlcigpKTtsZXQgYT1LZS5qb2luKHRoaXMucGF0aCxlKTt0cnl7YXdhaXQgS2UucHJvbWlzZXMubWtkaXIoS2UuZGlybmFtZShhKSx7cmVjdXJzaXZlOiEwfSksYXdhaXQgS2UucHJvbWlzZXMud3JpdGVGaWxlKGEsbil9Y2F0Y2goaSl7Y29uc29sZS53YXJuKCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB3cml0aW5nIHRoZSBmaWxlIHRvIGNhY2hlOiIsaSl9fX1hc3luYyBmdW5jdGlvbiBrZyh0LC4uLmUpe2ZvcihsZXQgciBvZiBlKXRyeXtsZXQgbj1hd2FpdCB0Lm1hdGNoKHIpO2lmKG4pcmV0dXJuIG59Y2F0Y2h7Y29udGludWV9fWFzeW5jIGZ1bmN0aW9uIENpKHQsZSxyPSEwLG49e30pe2lmKCF0dC5hbGxvd0xvY2FsTW9kZWxzKXtpZihuLmxvY2FsX2ZpbGVzX29ubHkpdGhyb3cgRXJyb3IoIkludmFsaWQgY29uZmlndXJhdGlvbiBkZXRlY3RlZDogbG9jYWwgbW9kZWxzIGFyZSBkaXNhYmxlZCAoYGVudi5hbGxvd0xvY2FsTW9kZWxzPWZhbHNlYCkgYnV0IHlvdSBoYXZlIHJlcXVlc3RlZCB0byBvbmx5IHVzZSBsb2NhbCBtb2RlbHMgKGBsb2NhbF9maWxlc19vbmx5PXRydWVgKS4iKTtpZighdHQuYWxsb3dSZW1vdGVNb2RlbHMpdGhyb3cgRXJyb3IoIkludmFsaWQgY29uZmlndXJhdGlvbiBkZXRlY3RlZDogYm90aCBsb2NhbCBhbmQgcmVtb3RlIG1vZGVscyBhcmUgZGlzYWJsZWQuIEZpeCBieSBzZXR0aW5nIGBlbnYuYWxsb3dMb2NhbE1vZGVsc2Agb3IgYGVudi5hbGxvd1JlbW90ZU1vZGVsc2AgdG8gYHRydWVgLiIpfUJyKG4ucHJvZ3Jlc3NfY2FsbGJhY2sse3N0YXR1czoiaW5pdGlhdGUiLG5hbWU6dCxmaWxlOmV9KTtsZXQgYTtpZighYSYmdHQudXNlQnJvd3NlckNhY2hlKXtpZih0eXBlb2YgY2FjaGVzPiJ1Iil0aHJvdyBFcnJvcigiQnJvd3NlciBjYWNoZSBpcyBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQuIik7dHJ5e2E9YXdhaXQgY2FjaGVzLm9wZW4oInRyYW5zZm9ybWVycy1jYWNoZSIpfWNhdGNoKHYpe2NvbnNvbGUud2FybigiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgb3BlbmluZyB0aGUgYnJvd3NlciBjYWNoZToiLHYpfX1pZighYSYmdHQudXNlRlNDYWNoZSYmKGE9bmV3IHhvKG4uY2FjaGVfZGlyPz90dC5jYWNoZURpcikpLCFhJiZ0dC51c2VDdXN0b21DYWNoZSl0aHJvdyBFcnJvcigiYGVudi51c2VDdXN0b21DYWNoZT10cnVlYCwgYnV0IGBlbnYuY3VzdG9tQ2FjaGVgIGlzIG5vdCBkZWZpbmVkLiIpO2NvbnN0IGk9bi5yZXZpc2lvbj8/Im1haW4iO2xldCBzPWhhKHQsZSksbz1oYSh0dC5sb2NhbE1vZGVsUGF0aCxzKSxsPWhhKHR0LnJlbW90ZUhvc3QsdHQucmVtb3RlUGF0aFRlbXBsYXRlLnJlcGxhY2VBbGwoInttb2RlbH0iLHQpLnJlcGxhY2VBbGwoIntyZXZpc2lvbn0iLGVuY29kZVVSSUNvbXBvbmVudChpKSksZSksZD1pPT09Im1haW4iP3M6aGEodCxpLGUpLGMsdT1hIGluc3RhbmNlb2YgeG8/ZDpsLGg9ITEsZjthJiYoZj1hd2FpdCBrZyhhLG8sdSkpO2NvbnN0IGc9ZiE9PXZvaWQgMDtpZihmPT09dm9pZCAwKXtpZih0dC5hbGxvd0xvY2FsTW9kZWxzKWlmKEVpKHMpKXtpZihuLmxvY2FsX2ZpbGVzX29ubHkpdGhyb3cgbmV3IEVycm9yKGBcYGxvY2FsX2ZpbGVzX29ubHk9dHJ1ZVxgLCBidXQgYXR0ZW1wdGVkIHRvIGxvYWQgYSByZW1vdGUgZmlsZSBmcm9tOiAke3N9LmApO2lmKCF0dC5hbGxvd1JlbW90ZU1vZGVscyl0aHJvdyBuZXcgRXJyb3IoYFxgZW52LmFsbG93UmVtb3RlTW9kZWxzPWZhbHNlXGAsIGJ1dCBhdHRlbXB0ZWQgdG8gbG9hZCBhIHJlbW90ZSBmaWxlIGZyb206ICR7c30uYCl9ZWxzZSB0cnl7Zj1hd2FpdCBwYShvKSxjPW99Y2F0Y2godil7Y29uc29sZS53YXJuKGBVbmFibGUgdG8gbG9hZCBmcm9tIGxvY2FsIHBhdGggIiR7b30iOiAiJHt2fSJgKX1pZihmPT09dm9pZCAwfHxmLnN0YXR1cz09PTQwNCl7aWYobi5sb2NhbF9maWxlc19vbmx5fHwhdHQuYWxsb3dSZW1vdGVNb2RlbHMpe2lmKHIpdGhyb3cgRXJyb3IoYFxgbG9jYWxfZmlsZXNfb25seT10cnVlXGAgb3IgXGBlbnYuYWxsb3dSZW1vdGVNb2RlbHM9ZmFsc2VcYCBhbmQgZmlsZSB3YXMgbm90IGZvdW5kIGxvY2FsbHkgYXQgIiR7b30iLmApO3JldHVybiBudWxsfWlmKGY9YXdhaXQgcGEobCksZi5zdGF0dXMhPT0yMDApcmV0dXJuIHhnKGYuc3RhdHVzLGwscik7Yz11fWg9YSYmdHlwZW9mIFJlc3BvbnNlPCJ1IiYmZiBpbnN0YW5jZW9mIFJlc3BvbnNlJiZmLnN0YXR1cz09PTIwMH1CcihuLnByb2dyZXNzX2NhbGxiYWNrLHtzdGF0dXM6ImRvd25sb2FkIixuYW1lOnQsZmlsZTplfSk7Y29uc3QgeT17c3RhdHVzOiJwcm9ncmVzcyIsbmFtZTp0LGZpbGU6ZX07bGV0IHc7cmV0dXJuIG4ucHJvZ3Jlc3NfY2FsbGJhY2s/ZyYmdHlwZW9mIG5hdmlnYXRvcjwidSImJi9maXJlZm94L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KT8odz1uZXcgVWludDhBcnJheShhd2FpdCBmLmFycmF5QnVmZmVyKCkpLEJyKG4ucHJvZ3Jlc3NfY2FsbGJhY2ssey4uLnkscHJvZ3Jlc3M6MTAwLGxvYWRlZDp3Lmxlbmd0aCx0b3RhbDp3Lmxlbmd0aH0pKTp3PWF3YWl0IFNnKGYsdj0+e0JyKG4ucHJvZ3Jlc3NfY2FsbGJhY2ssey4uLnksLi4udn0pfSk6dz1uZXcgVWludDhBcnJheShhd2FpdCBmLmFycmF5QnVmZmVyKCkpLGgmJmMmJmF3YWl0IGEubWF0Y2goYyk9PT12b2lkIDAmJmF3YWl0IGEucHV0KGMsbmV3IFJlc3BvbnNlKHcse2hlYWRlcnM6Zi5oZWFkZXJzfSkpLmNhdGNoKHY9Pntjb25zb2xlLndhcm4oYFVuYWJsZSB0byBhZGQgcmVzcG9uc2UgdG8gYnJvd3NlciBjYWNoZTogJHt2fS5gKX0pLEJyKG4ucHJvZ3Jlc3NfY2FsbGJhY2sse3N0YXR1czoiZG9uZSIsbmFtZTp0LGZpbGU6ZX0pLHd9YXN5bmMgZnVuY3Rpb24gUnIodCxlLHI9ITAsbj17fSl7bGV0IGE9YXdhaXQgQ2kodCxlLHIsbik7aWYoYT09PW51bGwpcmV0dXJue307bGV0IGk9bmV3IFRleHREZWNvZGVyKCJ1dGYtOCIpLmRlY29kZShhKTtyZXR1cm4gSlNPTi5wYXJzZShpKX1hc3luYyBmdW5jdGlvbiBTZyh0LGUpe2NvbnN0IHI9dC5oZWFkZXJzLmdldCgiQ29udGVudC1MZW5ndGgiKTtyPT09bnVsbCYmY29uc29sZS53YXJuKCJVbmFibGUgdG8gZGV0ZXJtaW5lIGNvbnRlbnQtbGVuZ3RoIGZyb20gcmVzcG9uc2UgaGVhZGVycy4gV2lsbCBleHBhbmQgYnVmZmVyIHdoZW4gbmVlZGVkLiIpO2xldCBuPXBhcnNlSW50KHI/PyIwIiksYT1uZXcgVWludDhBcnJheShuKSxpPTA7Y29uc3Qgcz10LmJvZHkuZ2V0UmVhZGVyKCk7YXN5bmMgZnVuY3Rpb24gbygpe2NvbnN0e2RvbmU6bCx2YWx1ZTpkfT1hd2FpdCBzLnJlYWQoKTtpZihsKXJldHVybjtsZXQgYz1pK2QubGVuZ3RoO2lmKGM+bil7bj1jO2xldCBoPW5ldyBVaW50OEFycmF5KG4pO2guc2V0KGEpLGE9aH1hLnNldChkLGkpLGk9Yztjb25zdCB1PWkvbioxMDA7cmV0dXJuIGUoe3Byb2dyZXNzOnUsbG9hZGVkOmksdG90YWw6bn0pLG8oKX1yZXR1cm4gYXdhaXQgbygpLGF9ZnVuY3Rpb24gaGEoLi4udCl7cmV0dXJuIHQ9dC5tYXAoKGUscik9PihyJiYoZT1lLnJlcGxhY2UobmV3IFJlZ0V4cCgiXi8iKSwiIikpLHIhPT10Lmxlbmd0aC0xJiYoZT1lLnJlcGxhY2UobmV3IFJlZ0V4cCgiLyQiKSwiIikpLGUpKSx0LmpvaW4oIi8iKX1mdW5jdGlvbiBFZyh0LFtlLHIsbl0sW2EsaV0scz0iYmlsaW5lYXIiLG89ITEpe2NvbnN0IGw9aS9uLGQ9YS9yLGM9bmV3IHQuY29uc3RydWN0b3IoYSppKmUpLHU9cipuLGg9YSppO2ZvcihsZXQgZj0wO2Y8YTsrK2YpZm9yKGxldCBnPTA7ZzxpOysrZyl7Y29uc3QgeT1mKmkrZyx3PShnKy41KS9sLS41LHY9KGYrLjUpL2QtLjU7bGV0IGs9TWF0aC5mbG9vcih3KSxFPU1hdGguZmxvb3Iodik7Y29uc3QgeD1NYXRoLm1pbihrKzEsbi0xKSxJPU1hdGgubWluKEUrMSxyLTEpO2s9TWF0aC5tYXgoaywwKSxFPU1hdGgubWF4KEUsMCk7Y29uc3QgVD13LWssQj12LUUsVT0oMS1UKSooMS1CKSxIPVQqKDEtQiksSz0oMS1UKSpCLE89VCpCLEc9RSpuLG5lPUkqbixxPUcrayxEPUcreCxMPW5lK2ssVj1uZSt4O2ZvcihsZXQgdGU9MDt0ZTxlOysrdGUpe2NvbnN0IFg9dGUqdTtjW3RlKmgreV09VSp0W1grcV0rSCp0W1grRF0rSyp0W1grTF0rTyp0W1grVl19fXJldHVybiBjfWZ1bmN0aW9uIENnKHQsZSxyKXtjb25zdCBuPW5ldyBBcnJheShyLmxlbmd0aCksYT1uZXcgQXJyYXkoci5sZW5ndGgpO2ZvcihsZXQgbz1yLmxlbmd0aC0xLGw9MTtvPj0wOy0tbylhW29dPWwsbltvXT1lW3Jbb11dLGwqPW5bb107Y29uc3QgaT1yLm1hcCgobyxsKT0+YVtyLmluZGV4T2YobCldKSxzPW5ldyB0LmNvbnN0cnVjdG9yKHQubGVuZ3RoKTtmb3IobGV0IG89MDtvPHQubGVuZ3RoOysrbyl7bGV0IGw9MDtmb3IobGV0IGQ9ZS5sZW5ndGgtMSxjPW87ZD49MDstLWQpbCs9YyVlW2RdKmlbZF0sYz1NYXRoLmZsb29yKGMvZVtkXSk7c1tsXT10W29dfXJldHVybltzLG5dfWZ1bmN0aW9uIGR0KHQpe2NvbnN0IGU9Q3QodClbMF0scj10Lm1hcChhPT5NYXRoLmV4cChhLWUpKSxuPXIucmVkdWNlKChhLGkpPT5hK2ksMCk7cmV0dXJuIHIubWFwKGE9PmEvbil9ZnVuY3Rpb24gSWcodCl7cmV0dXJuIGR0KHQpLm1hcChlPT5NYXRoLmxvZyhlKSl9ZnVuY3Rpb24gRHIodCxlPTApe3JldHVybiB0PUFycmF5LmZyb20odCkubWFwKChyLG4pPT5bbixyXSkuc29ydCgocixuKT0+blsxXS1yWzFdKSxlIT09bnVsbCYmZT4wJiYodD10LnNsaWNlKDAsZSkpLHR9ZnVuY3Rpb24ga28odCl7aWYodC5sZW5ndGg9PT0wKXRocm93IEVycm9yKCJBcnJheSBtdXN0IG5vdCBiZSBlbXB0eSIpO2xldCBlPXRbMF0scj0wO2ZvcihsZXQgbj0xO248dC5sZW5ndGg7KytuKXRbbl08ZSYmKGU9dFtuXSxyPW4pO3JldHVybltlLHJdfWZ1bmN0aW9uIEN0KHQpe2lmKHQubGVuZ3RoPT09MCl0aHJvdyBFcnJvcigiQXJyYXkgbXVzdCBub3QgYmUgZW1wdHkiKTtsZXQgZT10WzBdLHI9MDtmb3IobGV0IG49MTtuPHQubGVuZ3RoOysrbil0W25dPmUmJihlPXRbbl0scj1uKTtyZXR1cm5bTnVtYmVyKGUpLHJdfWZ1bmN0aW9uIFNvKHQpe3JldHVybiB0PjAmJih0JnQtMSk9PT0wfWNsYXNzIEVve2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMuc2l6ZT1lfDAsdGhpcy5zaXplPD0xfHwhU28odGhpcy5zaXplKSl0aHJvdyBuZXcgRXJyb3IoIkZGVCBzaXplIG11c3QgYmUgYSBwb3dlciBvZiB0d28gbGFyZ2VyIHRoYW4gMSIpO3RoaXMuX2NzaXplPWU8PDEsdGhpcy50YWJsZT1uZXcgRmxvYXQ2NEFycmF5KHRoaXMuc2l6ZSoyKTtmb3IobGV0IG49MDtuPHRoaXMudGFibGUubGVuZ3RoO24rPTIpe2NvbnN0IGE9TWF0aC5QSSpuL3RoaXMuc2l6ZTt0aGlzLnRhYmxlW25dPU1hdGguY29zKGEpLHRoaXMudGFibGVbbisxXT0tTWF0aC5zaW4oYSl9bGV0IHI9MDtmb3IobGV0IG49MTt0aGlzLnNpemU+bjtuPDw9MSkrK3I7dGhpcy5fd2lkdGg9ciUyPT09MD9yLTE6cix0aGlzLl9iaXRyZXY9bmV3IEludDMyQXJyYXkoMTw8dGhpcy5fd2lkdGgpO2ZvcihsZXQgbj0wO248dGhpcy5fYml0cmV2Lmxlbmd0aDsrK24pe3RoaXMuX2JpdHJldltuXT0wO2ZvcihsZXQgYT0wO2E8dGhpcy5fd2lkdGg7YSs9Mil7Y29uc3QgaT10aGlzLl93aWR0aC1hLTI7dGhpcy5fYml0cmV2W25dfD0obj4+PmEmMyk8PGl9fX1jcmVhdGVDb21wbGV4QXJyYXkoKXtyZXR1cm4gbmV3IEZsb2F0NjRBcnJheSh0aGlzLl9jc2l6ZSl9ZnJvbUNvbXBsZXhBcnJheShlLHIpe2NvbnN0IG49cnx8bmV3IEFycmF5KGUubGVuZ3RoPj4+MSk7Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKz0yKW5bYT4+PjFdPWVbYV07cmV0dXJuIG59dG9Db21wbGV4QXJyYXkoZSxyKXtjb25zdCBuPXJ8fHRoaXMuY3JlYXRlQ29tcGxleEFycmF5KCk7Zm9yKGxldCBhPTA7YTxuLmxlbmd0aDthKz0yKW5bYV09ZVthPj4+MV0sblthKzFdPTA7cmV0dXJuIG59Y29tcGxldGVTcGVjdHJ1bShlKXtjb25zdCByPXRoaXMuX2NzaXplLG49cj4+PjE7Zm9yKGxldCBhPTI7YTxuO2ErPTIpZVtyLWFdPWVbYV0sZVtyLWErMV09LWVbYSsxXX10cmFuc2Zvcm0oZSxyKXtpZihlPT09cil0aHJvdyBuZXcgRXJyb3IoIklucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBtdXN0IGJlIGRpZmZlcmVudCIpO3RoaXMuX3RyYW5zZm9ybTQoZSxyLDEpfXJlYWxUcmFuc2Zvcm0oZSxyKXtpZihlPT09cil0aHJvdyBuZXcgRXJyb3IoIklucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBtdXN0IGJlIGRpZmZlcmVudCIpO3RoaXMuX3JlYWxUcmFuc2Zvcm00KGUsciwxKX1pbnZlcnNlVHJhbnNmb3JtKGUscil7aWYoZT09PXIpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCBhbmQgb3V0cHV0IGJ1ZmZlcnMgbXVzdCBiZSBkaWZmZXJlbnQiKTt0aGlzLl90cmFuc2Zvcm00KGUsciwtMSk7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDsrK24pZVtuXS89dGhpcy5zaXplfV90cmFuc2Zvcm00KGUscixuKXtjb25zdCBhPXRoaXMuX2NzaXplO2xldCBpPTE8PHRoaXMuX3dpZHRoLHM9YS9pPDwxLG8sbDtjb25zdCBkPXRoaXMuX2JpdHJldjtpZihzPT09NClmb3Iobz0wLGw9MDtvPGE7bys9cywrK2wpe2NvbnN0IGM9ZFtsXTt0aGlzLl9zaW5nbGVUcmFuc2Zvcm0yKHIsZSxvLGMsaSl9ZWxzZSBmb3Iobz0wLGw9MDtvPGE7bys9cywrK2wpe2NvbnN0IGM9ZFtsXTt0aGlzLl9zaW5nbGVUcmFuc2Zvcm00KHIsZSxvLGMsaSxuKX1mb3IoaT4+PTI7aT49MjtpPj49Mil7cz1hL2k8PDE7Y29uc3QgYz1zPj4+Mjtmb3Iobz0wO288YTtvKz1zKXtjb25zdCB1PW8rYy0xO2ZvcihsZXQgaD1vLGY9MDtoPHU7aCs9MixmKz1pKXtjb25zdCBnPWgseT1nK2Msdz15K2Msdj13K2Msaz1lW2ddLEU9ZVtnKzFdLHg9ZVt5XSxJPWVbeSsxXSxUPWVbd10sQj1lW3crMV0sVT1lW3ZdLEg9ZVt2KzFdLEs9dGhpcy50YWJsZVtmXSxPPW4qdGhpcy50YWJsZVtmKzFdLEc9eCpLLUkqTyxuZT14Kk8rSSpLLHE9dGhpcy50YWJsZVsyKmZdLEQ9bip0aGlzLnRhYmxlWzIqZisxXSxMPVQqcS1CKkQsVj1UKkQrQipxLHRlPXRoaXMudGFibGVbMypmXSxYPW4qdGhpcy50YWJsZVszKmYrMV0sdWU9VSp0ZS1IKlgsRj1VKlgrSCp0ZSxvZT1rK0wsJGU9RStWLFVlPWstTCxEZT1FLVYsVmU9Ryt1ZSxTdD1uZStGLFdlPW4qKEctdWUpLEhlPW4qKG5lLUYpO2VbZ109b2UrVmUsZVtnKzFdPSRlK1N0LGVbeV09VWUrSGUsZVt5KzFdPURlLVdlLGVbd109b2UtVmUsZVt3KzFdPSRlLVN0LGVbdl09VWUtSGUsZVt2KzFdPURlK1dlfX19fV9zaW5nbGVUcmFuc2Zvcm0yKGUscixuLGEsaSl7Y29uc3Qgcz1lW2FdLG89ZVthKzFdLGw9ZVthK2ldLGQ9ZVthK2krMV07cltuXT1zK2wscltuKzFdPW8rZCxyW24rMl09cy1sLHJbbiszXT1vLWR9X3NpbmdsZVRyYW5zZm9ybTQoZSxyLG4sYSxpLHMpe2NvbnN0IG89aSoyLGw9aSozLGQ9ZVthXSxjPWVbYSsxXSx1PWVbYStpXSxoPWVbYStpKzFdLGY9ZVthK29dLGc9ZVthK28rMV0seT1lW2ErbF0sdz1lW2ErbCsxXSx2PWQrZixrPWMrZyxFPWQtZix4PWMtZyxJPXUreSxUPWgrdyxCPXMqKHUteSksVT1zKihoLXcpO3Jbbl09ditJLHJbbisxXT1rK1QscltuKzJdPUUrVSxyW24rM109eC1CLHJbbis0XT12LUkscltuKzVdPWstVCxyW24rNl09RS1VLHJbbis3XT14K0J9X3JlYWxUcmFuc2Zvcm00KGUscixuKXtjb25zdCBhPXRoaXMuX2NzaXplO2xldCBpPTE8PHRoaXMuX3dpZHRoLHM9YS9pPDwxLG8sbDtjb25zdCBkPXRoaXMuX2JpdHJldjtpZihzPT09NClmb3Iobz0wLGw9MDtvPGE7bys9cywrK2wpe2NvbnN0IGM9ZFtsXTt0aGlzLl9zaW5nbGVSZWFsVHJhbnNmb3JtMihyLGUsbyxjPj4+MSxpPj4+MSl9ZWxzZSBmb3Iobz0wLGw9MDtvPGE7bys9cywrK2wpe2NvbnN0IGM9ZFtsXTt0aGlzLl9zaW5nbGVSZWFsVHJhbnNmb3JtNChyLGUsbyxjPj4+MSxpPj4+MSxuKX1mb3IoaT4+PTI7aT49MjtpPj49Mil7cz1hL2k8PDE7Y29uc3QgYz1zPj4+Mjtmb3Iobz0wO288YTtvKz1zKXtjb25zdCB1PW8rYy0xO2ZvcihsZXQgaD1vLGY9MDtoPHU7aCs9MixmKz1pKXtjb25zdCBnPWgseT1nK2Msdz15K2Msdj13K2Msaz1lW2ddLEU9ZVtnKzFdLHg9ZVt5XSxJPWVbeSsxXSxUPWVbd10sQj1lW3crMV0sVT1lW3ZdLEg9ZVt2KzFdLEs9dGhpcy50YWJsZVtmXSxPPW4qdGhpcy50YWJsZVtmKzFdLEc9eCpLLUkqTyxuZT14Kk8rSSpLLHE9dGhpcy50YWJsZVsyKmZdLEQ9bip0aGlzLnRhYmxlWzIqZisxXSxMPVQqcS1CKkQsVj1UKkQrQipxLHRlPXRoaXMudGFibGVbMypmXSxYPW4qdGhpcy50YWJsZVszKmYrMV0sdWU9VSp0ZS1IKlgsRj1VKlgrSCp0ZSxvZT1rK0wsJGU9RStWLFVlPWstTCxEZT1FLVYsVmU9Ryt1ZSxTdD1uZStGLFdlPW4qKEctdWUpLEhlPW4qKG5lLUYpO2VbZ109b2UrVmUsZVtnKzFdPSRlK1N0LGVbeV09VWUrSGUsZVt5KzFdPURlLVdlLGVbd109b2UtVmUsZVt3KzFdPSRlLVN0LGVbdl09VWUtSGUsZVt2KzFdPURlK1dlfX19fV9zaW5nbGVSZWFsVHJhbnNmb3JtMihlLHIsbixhLGkpe2NvbnN0IHM9ZVthXSxvPWVbYStpXTtyW25dPXMrbyxyW24rMV09MCxyW24rMl09cy1vLHJbbiszXT0wfV9zaW5nbGVSZWFsVHJhbnNmb3JtNChlLHIsbixhLGkscyl7Y29uc3Qgbz1pKjIsbD1pKjMsZD1lW2FdLGM9ZVthK2ldLHU9ZVthK29dLGg9ZVthK2xdLGY9ZCt1LGc9ZC11LHk9YytoLHc9cyooYy1oKTtyW25dPWYreSxyW24rMV09MCxyW24rMl09ZyxyW24rM109LXcscltuKzRdPWYteSxyW24rNV09MCxyW24rNl09ZyxyW24rN109d319Y2xhc3MgQWd7Y29uc3RydWN0b3IoZSl7Y29uc3Qgcj0yKihlLTEpLG49MiooMiplLTEpLGE9MioqTWF0aC5jZWlsKE1hdGgubG9nMihuKSk7dGhpcy5idWZmZXJTaXplPWEsdGhpcy5fYT1yO2NvbnN0IGk9bmV3IEZsb2F0NjRBcnJheShuKSxzPW5ldyBGbG9hdDY0QXJyYXkoYSk7dGhpcy5fY2hpcnBCdWZmZXI9bmV3IEZsb2F0NjRBcnJheShhKSx0aGlzLl9idWZmZXIxPW5ldyBGbG9hdDY0QXJyYXkoYSksdGhpcy5fYnVmZmVyMj1uZXcgRmxvYXQ2NEFycmF5KGEpLHRoaXMuX291dEJ1ZmZlcjE9bmV3IEZsb2F0NjRBcnJheShhKSx0aGlzLl9vdXRCdWZmZXIyPW5ldyBGbG9hdDY0QXJyYXkoYSk7Y29uc3Qgbz0tMipNYXRoLlBJL2UsbD1NYXRoLmNvcyhvKSxkPU1hdGguc2luKG8pO2ZvcihsZXQgYz0wO2M8bj4+MTsrK2Mpe2NvbnN0IHU9KGMrMS1lKSoqMi8yLGg9TWF0aC5zcXJ0KGwqKjIrZCoqMikqKnUsZj11Kk1hdGguYXRhbjIoZCxsKSxnPTIqYztpW2ddPWgqTWF0aC5jb3MoZiksaVtnKzFdPWgqTWF0aC5zaW4oZiksc1tnXT1pW2ddLHNbZysxXT0taVtnKzFdfXRoaXMuX3NsaWNlZENoaXJwQnVmZmVyPWkuc3ViYXJyYXkocixuKSx0aGlzLl9mPW5ldyBFbyhhPj4xKSx0aGlzLl9mLnRyYW5zZm9ybSh0aGlzLl9jaGlycEJ1ZmZlcixzKX1fdHJhbnNmb3JtKGUscixuKXtjb25zdCBhPXRoaXMuX2J1ZmZlcjEsaT10aGlzLl9idWZmZXIyLHM9dGhpcy5fb3V0QnVmZmVyMSxvPXRoaXMuX291dEJ1ZmZlcjIsbD10aGlzLl9jaGlycEJ1ZmZlcixkPXRoaXMuX3NsaWNlZENoaXJwQnVmZmVyLGM9dGhpcy5fYTtpZihuKWZvcihsZXQgdT0wO3U8ZC5sZW5ndGg7dSs9Mil7Y29uc3QgaD11KzEsZj11Pj4xLGc9cltmXTthW3VdPWcqZFt1XSxhW2hdPWcqZFtoXX1lbHNlIGZvcihsZXQgdT0wO3U8ZC5sZW5ndGg7dSs9Mil7Y29uc3QgaD11KzE7YVt1XT1yW3VdKmRbdV0tcltoXSpkW2hdLGFbaF09clt1XSpkW2hdK3JbaF0qZFt1XX10aGlzLl9mLnRyYW5zZm9ybShzLGEpO2ZvcihsZXQgdT0wO3U8bC5sZW5ndGg7dSs9Mil7Y29uc3QgaD11KzE7aVt1XT1zW3VdKmxbdV0tc1toXSpsW2hdLGlbaF09c1t1XSpsW2hdK3NbaF0qbFt1XX10aGlzLl9mLmludmVyc2VUcmFuc2Zvcm0obyxpKTtmb3IobGV0IHU9MDt1PG8ubGVuZ3RoO3UrPTIpe2NvbnN0IGg9b1t1K2NdLGY9b1t1K2MrMV0sZz1kW3VdLHk9ZFt1KzFdO2VbdV09aCpnLWYqeSxlW3UrMV09aCp5K2YqZ319dHJhbnNmb3JtKGUscil7dGhpcy5fdHJhbnNmb3JtKGUsciwhMSl9cmVhbFRyYW5zZm9ybShlLHIpe3RoaXMuX3RyYW5zZm9ybShlLHIsITApfX1jbGFzcyBUZ3tjb25zdHJ1Y3RvcihlKXt0aGlzLmZmdF9sZW5ndGg9ZSx0aGlzLmlzUG93ZXJPZlR3bz1TbyhlKSx0aGlzLmlzUG93ZXJPZlR3bz8odGhpcy5mZnQ9bmV3IEVvKGUpLHRoaXMub3V0cHV0QnVmZmVyU2l6ZT0yKmUpOih0aGlzLmZmdD1uZXcgQWcoZSksdGhpcy5vdXRwdXRCdWZmZXJTaXplPXRoaXMuZmZ0LmJ1ZmZlclNpemUpfXJlYWxUcmFuc2Zvcm0oZSxyKXt0aGlzLmZmdC5yZWFsVHJhbnNmb3JtKGUscil9dHJhbnNmb3JtKGUscil7dGhpcy5mZnQudHJhbnNmb3JtKGUscil9fWZ1bmN0aW9uIE9nKHQsZSl7aWYoZSUyPT09MHx8ZTw9MCl0aHJvdyBuZXcgRXJyb3IoIldpbmRvdyBzaXplIG11c3QgYmUgYSBwb3NpdGl2ZSBvZGQgbnVtYmVyIik7Y29uc3Qgcj1uZXcgdC5jb25zdHJ1Y3Rvcih0Lmxlbmd0aCksbj1uZXcgdC5jb25zdHJ1Y3RvcihlKSxhPU1hdGguZmxvb3IoZS8yKTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoOysraSl7bGV0IHM9MDtmb3IobGV0IG89LWE7bzw9YTsrK28pe2xldCBsPWkrbztsPDA/bD1NYXRoLmFicyhsKTpsPj10Lmxlbmd0aCYmKGw9MioodC5sZW5ndGgtMSktbCksbltzKytdPXRbbF19bi5zb3J0KCkscltpXT1uW2FdfXJldHVybiByfWZ1bmN0aW9uIGFuKHQsZSl7Y29uc3Qgcj1NYXRoLnBvdygxMCxlKTtyZXR1cm4gTWF0aC5yb3VuZCh0KnIpL3J9ZnVuY3Rpb24gTWcodCl7Y29uc3QgZT1NYXRoLnJvdW5kKHQpO3JldHVybiBNYXRoLmFicyh0KSUxPT09LjU/ZSUyPT09MD9lOmUtMTplfXZhciBJaT1PYmplY3QuZGVmaW5lUHJvcGVydHksemc9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixCZz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxSZz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFE9KHQsZSk9PigpPT4odCYmKGU9dCh0PTApKSxlKSxQcj0odCxlKT0+KCk9PihlfHx0KChlPXtleHBvcnRzOnt9fSkuZXhwb3J0cyxlKSxlLmV4cG9ydHMpLE5yPSh0LGUpPT57Zm9yKHZhciByIGluIGUpSWkodCxyLHtnZXQ6ZVtyXSxlbnVtZXJhYmxlOiEwfSl9LERnPSh0LGUscixuKT0+e2lmKGUmJnR5cGVvZiBlPT0ib2JqZWN0Inx8dHlwZW9mIGU9PSJmdW5jdGlvbiIpZm9yKGxldCBhIG9mIEJnKGUpKSFSZy5jYWxsKHQsYSkmJmEhPT1yJiZJaSh0LGEse2dldDooKT0+ZVthXSxlbnVtZXJhYmxlOiEobj16ZyhlLGEpKXx8bi5lbnVtZXJhYmxlfSk7cmV0dXJuIHR9LHdyPXQ9PkRnKElpKHt9LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0KSxzbix1cixVcixBaSxUaT1RKCgpPT57c249bmV3IE1hcCx1cj1bXSxVcj0odCxlLHIpPT57aWYoZSYmdHlwZW9mIGUuaW5pdD09ImZ1bmN0aW9uIiYmdHlwZW9mIGUuY3JlYXRlSW5mZXJlbmNlU2Vzc2lvbkhhbmRsZXI9PSJmdW5jdGlvbiIpe2xldCBuPXNuLmdldCh0KTtpZihuPT09dm9pZCAwKXNuLnNldCh0LHtiYWNrZW5kOmUscHJpb3JpdHk6cn0pO2Vsc2V7aWYobi5wcmlvcml0eT5yKXJldHVybjtpZihuLnByaW9yaXR5PT09ciYmbi5iYWNrZW5kIT09ZSl0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCByZWdpc3RlciBiYWNrZW5kICIke3R9IiB1c2luZyBwcmlvcml0eSAke3J9YCl9aWYocj49MCl7bGV0IGE9dXIuaW5kZXhPZih0KTthIT09LTEmJnVyLnNwbGljZShhLDEpO2ZvcihsZXQgaT0wO2k8dXIubGVuZ3RoO2krKylpZihzbi5nZXQodXJbaV0pLnByaW9yaXR5PD1yKXt1ci5zcGxpY2UoaSwwLHQpO3JldHVybn11ci5wdXNoKHQpfXJldHVybn10aHJvdyBuZXcgVHlwZUVycm9yKCJub3QgYSB2YWxpZCBiYWNrZW5kIil9LEFpPWFzeW5jIHQ9PntsZXQgZT10Lmxlbmd0aD09PTA/dXI6dCxyPVtdO2ZvcihsZXQgbiBvZiBlKXtsZXQgYT1zbi5nZXQobik7aWYoYSl7aWYoYS5pbml0aWFsaXplZClyZXR1cm4gYS5iYWNrZW5kO2lmKGEuYWJvcnRlZCljb250aW51ZTtsZXQgaT0hIWEuaW5pdFByb21pc2U7dHJ5e3JldHVybiBpfHwoYS5pbml0UHJvbWlzZT1hLmJhY2tlbmQuaW5pdChuKSksYXdhaXQgYS5pbml0UHJvbWlzZSxhLmluaXRpYWxpemVkPSEwLGEuYmFja2VuZH1jYXRjaChzKXtpfHxyLnB1c2goe25hbWU6bixlcnI6c30pLGEuYWJvcnRlZD0hMH1maW5hbGx5e2RlbGV0ZSBhLmluaXRQcm9taXNlfX19dGhyb3cgbmV3IEVycm9yKGBubyBhdmFpbGFibGUgYmFja2VuZCBmb3VuZC4gRVJSOiAke3IubWFwKG49PmBbJHtuLm5hbWV9XSAke24uZXJyfWApLmpvaW4oIiwgIil9YCl9fSksUGc9USgoKT0+e1RpKCl9KSxDbyxOZz1RKCgpPT57Q289IjEuMTcuMSJ9KSxPaSxXcixJbz1RKCgpPT57TmcoKSxPaT0id2FybmluZyIsV3I9e3dhc206e30sd2ViZ2w6e30sd2ViZ3B1Ont9LHZlcnNpb25zOntjb21tb246Q299LHNldCBsb2dMZXZlbCh0KXtpZih0IT09dm9pZCAwKXtpZih0eXBlb2YgdCE9InN0cmluZyJ8fFsidmVyYm9zZSIsImluZm8iLCJ3YXJuaW5nIiwiZXJyb3IiLCJmYXRhbCJdLmluZGV4T2YodCk9PT0tMSl0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGxvZ2dpbmcgbGV2ZWw6ICR7dH1gKTtPaT10fX0sZ2V0IGxvZ0xldmVsKCl7cmV0dXJuIE9pfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyLCJsb2dMZXZlbCIse2VudW1lcmFibGU6ITB9KX0pLFBlLFVnPVEoKCk9PntJbygpLFBlPVdyfSksQW8sVG8sV2c9USgoKT0+e0FvPSh0LGUpPT57bGV0IHI9dHlwZW9mIGRvY3VtZW50PCJ1Ij9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTpuZXcgT2Zmc2NyZWVuQ2FudmFzKDEsMSk7ci53aWR0aD10LmRpbXNbM10sci5oZWlnaHQ9dC5kaW1zWzJdO2xldCBuPXIuZ2V0Q29udGV4dCgiMmQiKTtpZihuIT1udWxsKXtsZXQgYSxpO2U/LnRlbnNvckxheW91dCE9PXZvaWQgMCYmZS50ZW5zb3JMYXlvdXQ9PT0iTkhXQyI/KGE9dC5kaW1zWzJdLGk9dC5kaW1zWzNdKTooYT10LmRpbXNbM10saT10LmRpbXNbMl0pO2xldCBzPWU/LmZvcm1hdCE9PXZvaWQgMD9lLmZvcm1hdDoiUkdCIixvPWU/Lm5vcm0sbCxkO289PT12b2lkIDB8fG8ubWVhbj09PXZvaWQgMD9sPVsyNTUsMjU1LDI1NSwyNTVdOnR5cGVvZiBvLm1lYW49PSJudW1iZXIiP2w9W28ubWVhbixvLm1lYW4sby5tZWFuLG8ubWVhbl06KGw9W28ubWVhblswXSxvLm1lYW5bMV0sby5tZWFuWzJdLDBdLG8ubWVhblszXSE9PXZvaWQgMCYmKGxbM109by5tZWFuWzNdKSksbz09PXZvaWQgMHx8by5iaWFzPT09dm9pZCAwP2Q9WzAsMCwwLDBdOnR5cGVvZiBvLmJpYXM9PSJudW1iZXIiP2Q9W28uYmlhcyxvLmJpYXMsby5iaWFzLG8uYmlhc106KGQ9W28uYmlhc1swXSxvLmJpYXNbMV0sby5iaWFzWzJdLDBdLG8uYmlhc1szXSE9PXZvaWQgMCYmKGRbM109by5iaWFzWzNdKSk7bGV0IGM9aSphLHU9MCxoPWMsZj1jKjIsZz0tMTtzPT09IlJHQkEiPyh1PTAsaD1jLGY9YyoyLGc9YyozKTpzPT09IlJHQiI/KHU9MCxoPWMsZj1jKjIpOnM9PT0iUkJHIiYmKHU9MCxmPWMsaD1jKjIpO2ZvcihsZXQgeT0wO3k8aTt5KyspZm9yKGxldCB3PTA7dzxhO3crKyl7bGV0IHY9KHQuZGF0YVt1KytdLWRbMF0pKmxbMF0saz0odC5kYXRhW2grK10tZFsxXSkqbFsxXSxFPSh0LmRhdGFbZisrXS1kWzJdKSpsWzJdLHg9Zz09PS0xPzI1NToodC5kYXRhW2crK10tZFszXSkqbFszXTtuLmZpbGxTdHlsZT0icmdiYSgiK3YrIiwiK2srIiwiK0UrIiwiK3grIikiLG4uZmlsbFJlY3Qodyx5LDEsMSl9aWYoInRvRGF0YVVSTCJpbiByKXJldHVybiByLnRvRGF0YVVSTCgpO3Rocm93IG5ldyBFcnJvcigidG9EYXRhVVJMIGlzIG5vdCBzdXBwb3J0ZWQiKX1lbHNlIHRocm93IG5ldyBFcnJvcigiQ2FuIG5vdCBhY2Nlc3MgaW1hZ2UgZGF0YSIpfSxUbz0odCxlKT0+e2xldCByPXR5cGVvZiBkb2N1bWVudDwidSI/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKTpuZXcgT2Zmc2NyZWVuQ2FudmFzKDEsMSkuZ2V0Q29udGV4dCgiMmQiKSxuO2lmKHIhPW51bGwpe2xldCBhLGkscztlPy50ZW5zb3JMYXlvdXQhPT12b2lkIDAmJmUudGVuc29yTGF5b3V0PT09Ik5IV0MiPyhhPXQuZGltc1syXSxpPXQuZGltc1sxXSxzPXQuZGltc1szXSk6KGE9dC5kaW1zWzNdLGk9dC5kaW1zWzJdLHM9dC5kaW1zWzFdKTtsZXQgbz1lIT09dm9pZCAwJiZlLmZvcm1hdCE9PXZvaWQgMD9lLmZvcm1hdDoiUkdCIixsPWU/Lm5vcm0sZCxjO2w9PT12b2lkIDB8fGwubWVhbj09PXZvaWQgMD9kPVsyNTUsMjU1LDI1NSwyNTVdOnR5cGVvZiBsLm1lYW49PSJudW1iZXIiP2Q9W2wubWVhbixsLm1lYW4sbC5tZWFuLGwubWVhbl06KGQ9W2wubWVhblswXSxsLm1lYW5bMV0sbC5tZWFuWzJdLDI1NV0sbC5tZWFuWzNdIT09dm9pZCAwJiYoZFszXT1sLm1lYW5bM10pKSxsPT09dm9pZCAwfHxsLmJpYXM9PT12b2lkIDA/Yz1bMCwwLDAsMF06dHlwZW9mIGwuYmlhcz09Im51bWJlciI/Yz1bbC5iaWFzLGwuYmlhcyxsLmJpYXMsbC5iaWFzXTooYz1bbC5iaWFzWzBdLGwuYmlhc1sxXSxsLmJpYXNbMl0sMF0sbC5iaWFzWzNdIT09dm9pZCAwJiYoY1szXT1sLmJpYXNbM10pKTtsZXQgdT1pKmE7aWYoZSE9PXZvaWQgMCYmKGUuZm9ybWF0IT09dm9pZCAwJiZzPT09NCYmZS5mb3JtYXQhPT0iUkdCQSJ8fHM9PT0zJiZlLmZvcm1hdCE9PSJSR0IiJiZlLmZvcm1hdCE9PSJCR1IiKSl0aHJvdyBuZXcgRXJyb3IoIlRlbnNvciBmb3JtYXQgZG9lc24ndCBtYXRjaCBpbnB1dCB0ZW5zb3IgZGltcyIpO2xldCBoPTQsZj0wLGc9MSx5PTIsdz0zLHY9MCxrPXUsRT11KjIseD0tMTtvPT09IlJHQkEiPyh2PTAsaz11LEU9dSoyLHg9dSozKTpvPT09IlJHQiI/KHY9MCxrPXUsRT11KjIpOm89PT0iUkJHIiYmKHY9MCxFPXUsaz11KjIpLG49ci5jcmVhdGVJbWFnZURhdGEoYSxpKTtmb3IobGV0IEk9MDtJPGkqYTtmKz1oLGcrPWgseSs9aCx3Kz1oLEkrKyluLmRhdGFbZl09KHQuZGF0YVt2KytdLWNbMF0pKmRbMF0sbi5kYXRhW2ddPSh0LmRhdGFbaysrXS1jWzFdKSpkWzFdLG4uZGF0YVt5XT0odC5kYXRhW0UrK10tY1syXSkqZFsyXSxuLmRhdGFbd109eD09PS0xPzI1NToodC5kYXRhW3grK10tY1szXSkqZFszXX1lbHNlIHRocm93IG5ldyBFcnJvcigiQ2FuIG5vdCBhY2Nlc3MgaW1hZ2UgZGF0YSIpO3JldHVybiBufX0pLGZhLE9vLE1vLHpvLEJvLExnPVEoKCk9Pnt6aSgpLGZhPSh0LGUpPT57aWYodD09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkltYWdlIGJ1ZmZlciBtdXN0IGJlIGRlZmluZWQiKTtpZihlLmhlaWdodD09PXZvaWQgMHx8ZS53aWR0aD09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkltYWdlIGhlaWdodCBhbmQgd2lkdGggbXVzdCBiZSBkZWZpbmVkIik7aWYoZS50ZW5zb3JMYXlvdXQ9PT0iTkhXQyIpdGhyb3cgbmV3IEVycm9yKCJOSFdDIFRlbnNvciBsYXlvdXQgaXMgbm90IHN1cHBvcnRlZCB5ZXQiKTtsZXR7aGVpZ2h0OnIsd2lkdGg6bn09ZSxhPWUubm9ybT8/e21lYW46MjU1LGJpYXM6MH0saSxzO3R5cGVvZiBhLm1lYW49PSJudW1iZXIiP2k9W2EubWVhbixhLm1lYW4sYS5tZWFuLGEubWVhbl06aT1bYS5tZWFuWzBdLGEubWVhblsxXSxhLm1lYW5bMl0sYS5tZWFuWzNdPz8yNTVdLHR5cGVvZiBhLmJpYXM9PSJudW1iZXIiP3M9W2EuYmlhcyxhLmJpYXMsYS5iaWFzLGEuYmlhc106cz1bYS5iaWFzWzBdLGEuYmlhc1sxXSxhLmJpYXNbMl0sYS5iaWFzWzNdPz8wXTtsZXQgbz1lLmZvcm1hdCE9PXZvaWQgMD9lLmZvcm1hdDoiUkdCQSIsbD1lLnRlbnNvckZvcm1hdCE9PXZvaWQgMCYmZS50ZW5zb3JGb3JtYXQhPT12b2lkIDA/ZS50ZW5zb3JGb3JtYXQ6IlJHQiIsZD1yKm4sYz1sPT09IlJHQkEiP25ldyBGbG9hdDMyQXJyYXkoZCo0KTpuZXcgRmxvYXQzMkFycmF5KGQqMyksdT00LGg9MCxmPTEsZz0yLHk9Myx3PTAsdj1kLGs9ZCoyLEU9LTE7bz09PSJSR0IiJiYodT0zLGg9MCxmPTEsZz0yLHk9LTEpLGw9PT0iUkdCQSI/RT1kKjM6bD09PSJSQkciPyh3PTAsaz1kLHY9ZCoyKTpsPT09IkJHUiImJihrPTAsdj1kLHc9ZCoyKTtmb3IobGV0IHg9MDt4PGQ7eCsrLGgrPXUsZys9dSxmKz11LHkrPXUpY1t3KytdPSh0W2hdK3NbMF0pL2lbMF0sY1t2KytdPSh0W2ZdK3NbMV0pL2lbMV0sY1trKytdPSh0W2ddK3NbMl0pL2lbMl0sRSE9PS0xJiZ5IT09LTEmJihjW0UrK109KHRbeV0rc1szXSkvaVszXSk7cmV0dXJuIGw9PT0iUkdCQSI/bmV3IEJ0KCJmbG9hdDMyIixjLFsxLDQscixuXSk6bmV3IEJ0KCJmbG9hdDMyIixjLFsxLDMscixuXSl9LE9vPWFzeW5jKHQsZSk9PntsZXQgcj10eXBlb2YgSFRNTEltYWdlRWxlbWVudDwidSImJnQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50LG49dHlwZW9mIEltYWdlRGF0YTwidSImJnQgaW5zdGFuY2VvZiBJbWFnZURhdGEsYT10eXBlb2YgSW1hZ2VCaXRtYXA8InUiJiZ0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXAsaT10eXBlb2YgdD09InN0cmluZyIscyxvPWU/P3t9LGw9KCk9PntpZih0eXBlb2YgZG9jdW1lbnQ8InUiKXJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtpZih0eXBlb2YgT2Zmc2NyZWVuQ2FudmFzPCJ1IilyZXR1cm4gbmV3IE9mZnNjcmVlbkNhbnZhcygxLDEpO3Rocm93IG5ldyBFcnJvcigiQ2FudmFzIGlzIG5vdCBzdXBwb3J0ZWQiKX0sZD1jPT5jIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnR8fGMgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXM/Yy5nZXRDb250ZXh0KCIyZCIpOm51bGw7aWYocil7bGV0IGM9bCgpO2Mud2lkdGg9dC53aWR0aCxjLmhlaWdodD10LmhlaWdodDtsZXQgdT1kKGMpO2lmKHUhPW51bGwpe2xldCBoPXQuaGVpZ2h0LGY9dC53aWR0aDtpZihlIT09dm9pZCAwJiZlLnJlc2l6ZWRIZWlnaHQhPT12b2lkIDAmJmUucmVzaXplZFdpZHRoIT09dm9pZCAwJiYoaD1lLnJlc2l6ZWRIZWlnaHQsZj1lLnJlc2l6ZWRXaWR0aCksZSE9PXZvaWQgMCl7aWYobz1lLGUudGVuc29yRm9ybWF0IT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigiSW1hZ2UgaW5wdXQgY29uZmlnIGZvcm1hdCBtdXN0IGJlIFJHQkEgZm9yIEhUTUxJbWFnZUVsZW1lbnQiKTtvLnRlbnNvckZvcm1hdD0iUkdCQSIsby5oZWlnaHQ9aCxvLndpZHRoPWZ9ZWxzZSBvLnRlbnNvckZvcm1hdD0iUkdCQSIsby5oZWlnaHQ9aCxvLndpZHRoPWY7dS5kcmF3SW1hZ2UodCwwLDApLHM9dS5nZXRJbWFnZURhdGEoMCwwLGYsaCkuZGF0YX1lbHNlIHRocm93IG5ldyBFcnJvcigiQ2FuIG5vdCBhY2Nlc3MgaW1hZ2UgZGF0YSIpfWVsc2UgaWYobil7bGV0IGMsdTtpZihlIT09dm9pZCAwJiZlLnJlc2l6ZWRXaWR0aCE9PXZvaWQgMCYmZS5yZXNpemVkSGVpZ2h0IT09dm9pZCAwPyhjPWUucmVzaXplZEhlaWdodCx1PWUucmVzaXplZFdpZHRoKTooYz10LmhlaWdodCx1PXQud2lkdGgpLGUhPT12b2lkIDAmJihvPWUpLG8uZm9ybWF0PSJSR0JBIixvLmhlaWdodD1jLG8ud2lkdGg9dSxlIT09dm9pZCAwKXtsZXQgaD1sKCk7aC53aWR0aD11LGguaGVpZ2h0PWM7bGV0IGY9ZChoKTtpZihmIT1udWxsKWYucHV0SW1hZ2VEYXRhKHQsMCwwKSxzPWYuZ2V0SW1hZ2VEYXRhKDAsMCx1LGMpLmRhdGE7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkNhbiBub3QgYWNjZXNzIGltYWdlIGRhdGEiKX1lbHNlIHM9dC5kYXRhfWVsc2UgaWYoYSl7aWYoZT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIlBsZWFzZSBwcm92aWRlIGltYWdlIGNvbmZpZyB3aXRoIGZvcm1hdCBmb3IgSW1hZ2ViaXRtYXAiKTtsZXQgYz1sKCk7Yy53aWR0aD10LndpZHRoLGMuaGVpZ2h0PXQuaGVpZ2h0O2xldCB1PWQoYyk7aWYodSE9bnVsbCl7bGV0IGg9dC5oZWlnaHQsZj10LndpZHRoO3JldHVybiB1LmRyYXdJbWFnZSh0LDAsMCxmLGgpLHM9dS5nZXRJbWFnZURhdGEoMCwwLGYsaCkuZGF0YSxvLmhlaWdodD1oLG8ud2lkdGg9ZixmYShzLG8pfWVsc2UgdGhyb3cgbmV3IEVycm9yKCJDYW4gbm90IGFjY2VzcyBpbWFnZSBkYXRhIil9ZWxzZXtpZihpKXJldHVybiBuZXcgUHJvbWlzZSgoYyx1KT0+e2xldCBoPWwoKSxmPWQoaCk7aWYoIXR8fCFmKXJldHVybiB1KCk7bGV0IGc9bmV3IEltYWdlO2cuY3Jvc3NPcmlnaW49IkFub255bW91cyIsZy5zcmM9dCxnLm9ubG9hZD0oKT0+e2gud2lkdGg9Zy53aWR0aCxoLmhlaWdodD1nLmhlaWdodCxmLmRyYXdJbWFnZShnLDAsMCxoLndpZHRoLGguaGVpZ2h0KTtsZXQgeT1mLmdldEltYWdlRGF0YSgwLDAsaC53aWR0aCxoLmhlaWdodCk7by5oZWlnaHQ9aC5oZWlnaHQsby53aWR0aD1oLndpZHRoLGMoZmEoeS5kYXRhLG8pKX19KTt0aHJvdyBuZXcgRXJyb3IoIklucHV0IGRhdGEgcHJvdmlkZWQgaXMgbm90IHN1cHBvcnRlZCAtIGFib3J0ZWQgdGVuc29yIGNyZWF0aW9uIil9aWYocyE9PXZvaWQgMClyZXR1cm4gZmEocyxvKTt0aHJvdyBuZXcgRXJyb3IoIklucHV0IGRhdGEgcHJvdmlkZWQgaXMgbm90IHN1cHBvcnRlZCAtIGFib3J0ZWQgdGVuc29yIGNyZWF0aW9uIil9LE1vPSh0LGUpPT57bGV0e3dpZHRoOnIsaGVpZ2h0Om4sZG93bmxvYWQ6YSxkaXNwb3NlOml9PWUscz1bMSxuLHIsNF07cmV0dXJuIG5ldyBCdCh7bG9jYXRpb246InRleHR1cmUiLHR5cGU6ImZsb2F0MzIiLHRleHR1cmU6dCxkaW1zOnMsZG93bmxvYWQ6YSxkaXNwb3NlOml9KX0sem89KHQsZSk9PntsZXR7ZGF0YVR5cGU6cixkaW1zOm4sZG93bmxvYWQ6YSxkaXNwb3NlOml9PWU7cmV0dXJuIG5ldyBCdCh7bG9jYXRpb246ImdwdS1idWZmZXIiLHR5cGU6cj8/ImZsb2F0MzIiLGdwdUJ1ZmZlcjp0LGRpbXM6bixkb3dubG9hZDphLGRpc3Bvc2U6aX0pfSxCbz0odCxlLHIpPT5uZXcgQnQoe2xvY2F0aW9uOiJjcHUtcGlubmVkIix0eXBlOnQsZGF0YTplLGRpbXM6cj8/W2UubGVuZ3RoXX0pfSksb24sbWEsTWksUm8sRmc9USgoKT0+e29uPW5ldyBNYXAoW1siZmxvYXQzMiIsRmxvYXQzMkFycmF5XSxbInVpbnQ4IixVaW50OEFycmF5XSxbImludDgiLEludDhBcnJheV0sWyJ1aW50MTYiLFVpbnQxNkFycmF5XSxbImZsb2F0MTYiLFVpbnQxNkFycmF5XSxbImludDE2IixJbnQxNkFycmF5XSxbImludDMyIixJbnQzMkFycmF5XSxbImJvb2wiLFVpbnQ4QXJyYXldLFsiZmxvYXQ2NCIsRmxvYXQ2NEFycmF5XSxbInVpbnQzMiIsVWludDMyQXJyYXldXSksbWE9bmV3IE1hcChbW0Zsb2F0MzJBcnJheSwiZmxvYXQzMiJdLFtVaW50OEFycmF5LCJ1aW50OCJdLFtJbnQ4QXJyYXksImludDgiXSxbVWludDE2QXJyYXksInVpbnQxNiJdLFtJbnQxNkFycmF5LCJpbnQxNiJdLFtJbnQzMkFycmF5LCJpbnQzMiJdLFtGbG9hdDY0QXJyYXksImZsb2F0NjQiXSxbVWludDMyQXJyYXksInVpbnQzMiJdXSksTWk9ITEsUm89KCk9PntpZighTWkpe01pPSEwO2xldCB0PXR5cGVvZiBCaWdJbnQ2NEFycmF5PCJ1IiYmdHlwZW9mIEJpZ0ludDY0QXJyYXkuZnJvbT09ImZ1bmN0aW9uIixlPXR5cGVvZiBCaWdVaW50NjRBcnJheTwidSImJnR5cGVvZiBCaWdVaW50NjRBcnJheS5mcm9tPT0iZnVuY3Rpb24iO3QmJihvbi5zZXQoImludDY0IixCaWdJbnQ2NEFycmF5KSxtYS5zZXQoQmlnSW50NjRBcnJheSwiaW50NjQiKSksZSYmKG9uLnNldCgidWludDY0IixCaWdVaW50NjRBcnJheSksbWEuc2V0KEJpZ1VpbnQ2NEFycmF5LCJ1aW50NjQiKSl9fX0pLERvLFBvLFZnPVEoKCk9Pnt6aSgpLERvPXQ9PntsZXQgZT0xO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtsZXQgbj10W3JdO2lmKHR5cGVvZiBuIT0ibnVtYmVyInx8IU51bWJlci5pc1NhZmVJbnRlZ2VyKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoYGRpbXNbJHtyfV0gbXVzdCBiZSBhbiBpbnRlZ2VyLCBnb3Q6ICR7bn1gKTtpZihuPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoYGRpbXNbJHtyfV0gbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyLCBnb3Q6ICR7bn1gKTtlKj1ufXJldHVybiBlfSxQbz0odCxlKT0+e3N3aXRjaCh0LmxvY2F0aW9uKXtjYXNlImNwdSI6cmV0dXJuIG5ldyBCdCh0LnR5cGUsdC5kYXRhLGUpO2Nhc2UiY3B1LXBpbm5lZCI6cmV0dXJuIG5ldyBCdCh7bG9jYXRpb246ImNwdS1waW5uZWQiLGRhdGE6dC5kYXRhLHR5cGU6dC50eXBlLGRpbXM6ZX0pO2Nhc2UidGV4dHVyZSI6cmV0dXJuIG5ldyBCdCh7bG9jYXRpb246InRleHR1cmUiLHRleHR1cmU6dC50ZXh0dXJlLHR5cGU6dC50eXBlLGRpbXM6ZX0pO2Nhc2UiZ3B1LWJ1ZmZlciI6cmV0dXJuIG5ldyBCdCh7bG9jYXRpb246ImdwdS1idWZmZXIiLGdwdUJ1ZmZlcjp0LmdwdUJ1ZmZlcix0eXBlOnQudHlwZSxkaW1zOmV9KTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdGVuc29yUmVzaGFwZTogdGVuc29yIGxvY2F0aW9uICR7dC5sb2NhdGlvbn0gaXMgbm90IHN1cHBvcnRlZGApfX19KSxCdCx6aT1RKCgpPT57V2coKSxMZygpLEZnKCksVmcoKSxCdD1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUscil7Um8oKTtsZXQgbixhO2lmKHR5cGVvZiB0PT0ib2JqZWN0IiYmImxvY2F0aW9uImluIHQpc3dpdGNoKHRoaXMuZGF0YUxvY2F0aW9uPXQubG9jYXRpb24sbj10LnR5cGUsYT10LmRpbXMsdC5sb2NhdGlvbil7Y2FzZSJjcHUtcGlubmVkIjp7bGV0IHM9b24uZ2V0KG4pO2lmKCFzKXRocm93IG5ldyBUeXBlRXJyb3IoYHVuc3VwcG9ydGVkIHR5cGUgIiR7bn0iIHRvIGNyZWF0ZSB0ZW5zb3IgZnJvbSBwaW5uZWQgYnVmZmVyYCk7aWYoISh0LmRhdGEgaW5zdGFuY2VvZiBzKSl0aHJvdyBuZXcgVHlwZUVycm9yKGBidWZmZXIgc2hvdWxkIGJlIG9mIHR5cGUgJHtzLm5hbWV9YCk7dGhpcy5jcHVEYXRhPXQuZGF0YTticmVha31jYXNlInRleHR1cmUiOntpZihuIT09ImZsb2F0MzIiKXRocm93IG5ldyBUeXBlRXJyb3IoYHVuc3VwcG9ydGVkIHR5cGUgIiR7bn0iIHRvIGNyZWF0ZSB0ZW5zb3IgZnJvbSB0ZXh0dXJlYCk7dGhpcy5ncHVUZXh0dXJlRGF0YT10LnRleHR1cmUsdGhpcy5kb3dubG9hZGVyPXQuZG93bmxvYWQsdGhpcy5kaXNwb3Nlcj10LmRpc3Bvc2U7YnJlYWt9Y2FzZSJncHUtYnVmZmVyIjp7aWYobiE9PSJmbG9hdDMyIiYmbiE9PSJmbG9hdDE2IiYmbiE9PSJpbnQzMiImJm4hPT0iaW50NjQiJiZuIT09InVpbnQzMiImJm4hPT0iYm9vbCIpdGhyb3cgbmV3IFR5cGVFcnJvcihgdW5zdXBwb3J0ZWQgdHlwZSAiJHtufSIgdG8gY3JlYXRlIHRlbnNvciBmcm9tIGdwdSBidWZmZXJgKTt0aGlzLmdwdUJ1ZmZlckRhdGE9dC5ncHVCdWZmZXIsdGhpcy5kb3dubG9hZGVyPXQuZG93bmxvYWQsdGhpcy5kaXNwb3Nlcj10LmRpc3Bvc2U7YnJlYWt9ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFRlbnNvciBjb25zdHJ1Y3RvcjogdW5zdXBwb3J0ZWQgbG9jYXRpb24gJyR7dGhpcy5kYXRhTG9jYXRpb259J2ApfWVsc2V7bGV0IHMsbztpZih0eXBlb2YgdD09InN0cmluZyIpaWYobj10LG89cix0PT09InN0cmluZyIpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkEgc3RyaW5nIHRlbnNvcidzIGRhdGEgbXVzdCBiZSBhIHN0cmluZyBhcnJheS4iKTtzPWV9ZWxzZXtsZXQgbD1vbi5nZXQodCk7aWYobD09PXZvaWQgMCl0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnN1cHBvcnRlZCB0ZW5zb3IgdHlwZTogJHt0fS5gKTtpZihBcnJheS5pc0FycmF5KGUpKXtpZih0PT09ImZsb2F0MTYiKXRocm93IG5ldyBUeXBlRXJyb3IoIkNyZWF0aW5nIGEgZmxvYXQxNiB0ZW5zb3IgZnJvbSBudW1iZXIgYXJyYXkgaXMgbm90IHN1cHBvcnRlZC4gUGxlYXNlIHVzZSBVaW50MTZBcnJheSBhcyBkYXRhLiIpO3Q9PT0idWludDY0Inx8dD09PSJpbnQ2NCI/cz1sLmZyb20oZSxCaWdJbnQpOnM9bC5mcm9tKGUpfWVsc2UgaWYoZSBpbnN0YW5jZW9mIGwpcz1lO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcihgQSAke259IHRlbnNvcidzIGRhdGEgbXVzdCBiZSB0eXBlIG9mICR7bH1gKX1lbHNlIGlmKG89ZSxBcnJheS5pc0FycmF5KHQpKXtpZih0Lmxlbmd0aD09PTApdGhyb3cgbmV3IFR5cGVFcnJvcigiVGVuc29yIHR5cGUgY2Fubm90IGJlIGluZmVycmVkIGZyb20gYW4gZW1wdHkgYXJyYXkuIik7bGV0IGw9dHlwZW9mIHRbMF07aWYobD09PSJzdHJpbmciKW49InN0cmluZyIscz10O2Vsc2UgaWYobD09PSJib29sZWFuIiluPSJib29sIixzPVVpbnQ4QXJyYXkuZnJvbSh0KTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgZWxlbWVudCB0eXBlIG9mIGRhdGEgYXJyYXk6ICR7bH0uYCl9ZWxzZXtsZXQgbD1tYS5nZXQodC5jb25zdHJ1Y3Rvcik7aWYobD09PXZvaWQgMCl0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnN1cHBvcnRlZCB0eXBlIGZvciB0ZW5zb3IgZGF0YTogJHt0LmNvbnN0cnVjdG9yfS5gKTtuPWwscz10fWlmKG89PT12b2lkIDApbz1bcy5sZW5ndGhdO2Vsc2UgaWYoIUFycmF5LmlzQXJyYXkobykpdGhyb3cgbmV3IFR5cGVFcnJvcigiQSB0ZW5zb3IncyBkaW1zIG11c3QgYmUgYSBudW1iZXIgYXJyYXkiKTthPW8sdGhpcy5jcHVEYXRhPXMsdGhpcy5kYXRhTG9jYXRpb249ImNwdSJ9bGV0IGk9RG8oYSk7aWYodGhpcy5jcHVEYXRhJiZpIT09dGhpcy5jcHVEYXRhLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYFRlbnNvcidzIHNpemUoJHtpfSkgZG9lcyBub3QgbWF0Y2ggZGF0YSBsZW5ndGgoJHt0aGlzLmNwdURhdGEubGVuZ3RofSkuYCk7dGhpcy50eXBlPW4sdGhpcy5kaW1zPWEsdGhpcy5zaXplPWl9c3RhdGljIGFzeW5jIGZyb21JbWFnZSh0LGUpe3JldHVybiBPbyh0LGUpfXN0YXRpYyBmcm9tVGV4dHVyZSh0LGUpe3JldHVybiBNbyh0LGUpfXN0YXRpYyBmcm9tR3B1QnVmZmVyKHQsZSl7cmV0dXJuIHpvKHQsZSl9c3RhdGljIGZyb21QaW5uZWRCdWZmZXIodCxlLHIpe3JldHVybiBCbyh0LGUscil9dG9EYXRhVVJMKHQpe3JldHVybiBBbyh0aGlzLHQpfXRvSW1hZ2VEYXRhKHQpe3JldHVybiBUbyh0aGlzLHQpfWdldCBkYXRhKCl7aWYodGhpcy5lbnN1cmVWYWxpZCgpLCF0aGlzLmNwdURhdGEpdGhyb3cgbmV3IEVycm9yKCJUaGUgZGF0YSBpcyBub3Qgb24gQ1BVLiBVc2UgYGdldERhdGEoKWAgdG8gZG93bmxvYWQgR1BVIGRhdGEgdG8gQ1BVLCBvciB1c2UgYHRleHR1cmVgIG9yIGBncHVCdWZmZXJgIHByb3BlcnR5IHRvIGFjY2VzcyB0aGUgR1BVIGRhdGEgZGlyZWN0bHkuIik7cmV0dXJuIHRoaXMuY3B1RGF0YX1nZXQgbG9jYXRpb24oKXtyZXR1cm4gdGhpcy5kYXRhTG9jYXRpb259Z2V0IHRleHR1cmUoKXtpZih0aGlzLmVuc3VyZVZhbGlkKCksIXRoaXMuZ3B1VGV4dHVyZURhdGEpdGhyb3cgbmV3IEVycm9yKCJUaGUgZGF0YSBpcyBub3Qgc3RvcmVkIGFzIGEgV2ViR0wgdGV4dHVyZS4iKTtyZXR1cm4gdGhpcy5ncHVUZXh0dXJlRGF0YX1nZXQgZ3B1QnVmZmVyKCl7aWYodGhpcy5lbnN1cmVWYWxpZCgpLCF0aGlzLmdwdUJ1ZmZlckRhdGEpdGhyb3cgbmV3IEVycm9yKCJUaGUgZGF0YSBpcyBub3Qgc3RvcmVkIGFzIGEgV2ViR1BVIGJ1ZmZlci4iKTtyZXR1cm4gdGhpcy5ncHVCdWZmZXJEYXRhfWFzeW5jIGdldERhdGEodCl7c3dpdGNoKHRoaXMuZW5zdXJlVmFsaWQoKSx0aGlzLmRhdGFMb2NhdGlvbil7Y2FzZSJjcHUiOmNhc2UiY3B1LXBpbm5lZCI6cmV0dXJuIHRoaXMuZGF0YTtjYXNlInRleHR1cmUiOmNhc2UiZ3B1LWJ1ZmZlciI6e2lmKCF0aGlzLmRvd25sb2FkZXIpdGhyb3cgbmV3IEVycm9yKCJUaGUgY3VycmVudCB0ZW5zb3IgaXMgbm90IGNyZWF0ZWQgd2l0aCBhIHNwZWNpZmllZCBkYXRhIGRvd25sb2FkZXIuIik7aWYodGhpcy5pc0Rvd25sb2FkaW5nKXRocm93IG5ldyBFcnJvcigiVGhlIGN1cnJlbnQgdGVuc29yIGlzIGJlaW5nIGRvd25sb2FkZWQuIik7dHJ5e3RoaXMuaXNEb3dubG9hZGluZz0hMDtsZXQgZT1hd2FpdCB0aGlzLmRvd25sb2FkZXIoKTtyZXR1cm4gdGhpcy5kb3dubG9hZGVyPXZvaWQgMCx0aGlzLmRhdGFMb2NhdGlvbj0iY3B1Iix0aGlzLmNwdURhdGE9ZSx0JiZ0aGlzLmRpc3Bvc2VyJiYodGhpcy5kaXNwb3NlcigpLHRoaXMuZGlzcG9zZXI9dm9pZCAwKSxlfWZpbmFsbHl7dGhpcy5pc0Rvd25sb2FkaW5nPSExfX1kZWZhdWx0OnRocm93IG5ldyBFcnJvcihgY2Fubm90IGdldCBkYXRhIGZyb20gbG9jYXRpb246ICR7dGhpcy5kYXRhTG9jYXRpb259YCl9fWRpc3Bvc2UoKXtpZih0aGlzLmlzRG93bmxvYWRpbmcpdGhyb3cgbmV3IEVycm9yKCJUaGUgY3VycmVudCB0ZW5zb3IgaXMgYmVpbmcgZG93bmxvYWRlZC4iKTt0aGlzLmRpc3Bvc2VyJiYodGhpcy5kaXNwb3NlcigpLHRoaXMuZGlzcG9zZXI9dm9pZCAwKSx0aGlzLmNwdURhdGE9dm9pZCAwLHRoaXMuZ3B1VGV4dHVyZURhdGE9dm9pZCAwLHRoaXMuZ3B1QnVmZmVyRGF0YT12b2lkIDAsdGhpcy5kb3dubG9hZGVyPXZvaWQgMCx0aGlzLmlzRG93bmxvYWRpbmc9dm9pZCAwLHRoaXMuZGF0YUxvY2F0aW9uPSJub25lIn1lbnN1cmVWYWxpZCgpe2lmKHRoaXMuZGF0YUxvY2F0aW9uPT09Im5vbmUiKXRocm93IG5ldyBFcnJvcigiVGhlIHRlbnNvciBpcyBkaXNwb3NlZC4iKX1yZXNoYXBlKHQpe2lmKHRoaXMuZW5zdXJlVmFsaWQoKSx0aGlzLmRvd25sb2FkZXJ8fHRoaXMuZGlzcG9zZXIpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgcmVzaGFwZSBhIHRlbnNvciB0aGF0IG93bnMgR1BVIHJlc291cmNlLiIpO3JldHVybiBQbyh0aGlzLHQpfX19KSxodCxCaT1RKCgpPT57emkoKSxodD1CdH0pLGxuLFJpLFJ0LER0LE5vPVEoKCk9PntJbygpLGxuPSh0LGUpPT57V3Iud2FzbS50cmFjZSYmY29uc29sZS50aW1lU3RhbXAoYCR7dH06Ok9SVDo6JHtlfWApfSxSaT0odCxlKT0+e2xldCByPW5ldyBFcnJvcigpLnN0YWNrPy5zcGxpdCgvXHJcbnxccnxcbi9nKXx8W10sbj0hMTtmb3IobGV0IGE9MDthPHIubGVuZ3RoO2ErKyl7aWYobiYmIXJbYV0uaW5jbHVkZXMoIlRSQUNFX0ZVTkMiKSl7bGV0IGk9YEZVTkNfJHt0fTo6JHtyW2FdLnRyaW0oKS5zcGxpdCgiICIpWzFdfWA7ZSYmKGkrPWA6OiR7ZX1gKSxsbigiQ1BVIixpKTtyZXR1cm59clthXS5pbmNsdWRlcygiVFJBQ0VfRlVOQyIpJiYobj0hMCl9fSxSdD10PT57V3Iud2FzbS50cmFjZSYmUmkoIkJFR0lOIix0KX0sRHQ9dD0+e1dyLndhc20udHJhY2UmJlJpKCJFTkQiLHQpfX0pLFVvLEhnPVEoKCk9PntUaSgpLEJpKCksTm8oKSxVbz1jbGFzcyB1Z3tjb25zdHJ1Y3RvcihlKXt0aGlzLmhhbmRsZXI9ZX1hc3luYyBydW4oZSxyLG4pe1J0KCk7bGV0IGE9e30saT17fTtpZih0eXBlb2YgZSE9Im9iamVjdCJ8fGU9PT1udWxsfHxlIGluc3RhbmNlb2YgaHR8fEFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2ZlZWRzJyBtdXN0IGJlIGFuIG9iamVjdCB0aGF0IHVzZSBpbnB1dCBuYW1lcyBhcyBrZXlzIGFuZCBPbm54VmFsdWUgYXMgY29ycmVzcG9uZGluZyB2YWx1ZXMuIik7bGV0IHM9ITA7aWYodHlwZW9mIHI9PSJvYmplY3QiKXtpZihyPT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmV4cGVjdGVkIGFyZ3VtZW50WzFdOiBjYW5ub3QgYmUgbnVsbC4iKTtpZihyIGluc3RhbmNlb2YgaHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2ZldGNoZXMnIGNhbm5vdCBiZSBhIFRlbnNvciIpO2lmKEFycmF5LmlzQXJyYXkocikpe2lmKHIubGVuZ3RoPT09MCl0aHJvdyBuZXcgVHlwZUVycm9yKCInZmV0Y2hlcycgY2Fubm90IGJlIGFuIGVtcHR5IGFycmF5LiIpO3M9ITE7Zm9yKGxldCBkIG9mIHIpe2lmKHR5cGVvZiBkIT0ic3RyaW5nIil0aHJvdyBuZXcgVHlwZUVycm9yKCInZmV0Y2hlcycgbXVzdCBiZSBhIHN0cmluZyBhcnJheSBvciBhbiBvYmplY3QuIik7aWYodGhpcy5vdXRwdXROYW1lcy5pbmRleE9mKGQpPT09LTEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoYCdmZXRjaGVzJyBjb250YWlucyBpbnZhbGlkIG91dHB1dCBuYW1lOiAke2R9LmApO2FbZF09bnVsbH1pZih0eXBlb2Ygbj09Im9iamVjdCImJm4hPT1udWxsKWk9bjtlbHNlIGlmKHR5cGVvZiBuPCJ1Iil0aHJvdyBuZXcgVHlwZUVycm9yKCInb3B0aW9ucycgbXVzdCBiZSBhbiBvYmplY3QuIil9ZWxzZXtsZXQgZD0hMSxjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpO2ZvcihsZXQgdSBvZiB0aGlzLm91dHB1dE5hbWVzKWlmKGMuaW5kZXhPZih1KSE9PS0xKXtsZXQgaD1yW3VdOyhoPT09bnVsbHx8aCBpbnN0YW5jZW9mIGh0KSYmKGQ9ITAscz0hMSxhW3VdPWgpfWlmKGQpe2lmKHR5cGVvZiBuPT0ib2JqZWN0IiYmbiE9PW51bGwpaT1uO2Vsc2UgaWYodHlwZW9mIG48InUiKXRocm93IG5ldyBUeXBlRXJyb3IoIidvcHRpb25zJyBtdXN0IGJlIGFuIG9iamVjdC4iKX1lbHNlIGk9cn19ZWxzZSBpZih0eXBlb2YgcjwidSIpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5leHBlY3RlZCBhcmd1bWVudFsxXTogbXVzdCBiZSAnZmV0Y2hlcycgb3IgJ29wdGlvbnMnLiIpO2ZvcihsZXQgZCBvZiB0aGlzLmlucHV0TmFtZXMpaWYodHlwZW9mIGVbZF0+InUiKXRocm93IG5ldyBFcnJvcihgaW5wdXQgJyR7ZH0nIGlzIG1pc3NpbmcgaW4gJ2ZlZWRzJy5gKTtpZihzKWZvcihsZXQgZCBvZiB0aGlzLm91dHB1dE5hbWVzKWFbZF09bnVsbDtsZXQgbz1hd2FpdCB0aGlzLmhhbmRsZXIucnVuKGUsYSxpKSxsPXt9O2ZvcihsZXQgZCBpbiBvKWlmKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sZCkpe2xldCBjPW9bZF07YyBpbnN0YW5jZW9mIGh0P2xbZF09YzpsW2RdPW5ldyBodChjLnR5cGUsYy5kYXRhLGMuZGltcyl9cmV0dXJuIER0KCksbH1hc3luYyByZWxlYXNlKCl7cmV0dXJuIHRoaXMuaGFuZGxlci5kaXNwb3NlKCl9c3RhdGljIGFzeW5jIGNyZWF0ZShlLHIsbixhKXtSdCgpO2xldCBpLHM9e307aWYodHlwZW9mIGU9PSJzdHJpbmciKXtpZihpPWUsdHlwZW9mIHI9PSJvYmplY3QiJiZyIT09bnVsbClzPXI7ZWxzZSBpZih0eXBlb2YgcjwidSIpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ29wdGlvbnMnIG11c3QgYmUgYW4gb2JqZWN0LiIpfWVsc2UgaWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpe2lmKGk9ZSx0eXBlb2Ygcj09Im9iamVjdCImJnIhPT1udWxsKXM9cjtlbHNlIGlmKHR5cGVvZiByPCJ1Iil0aHJvdyBuZXcgVHlwZUVycm9yKCInb3B0aW9ucycgbXVzdCBiZSBhbiBvYmplY3QuIil9ZWxzZSBpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcjwidSImJmUgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcil7bGV0IGQ9ZSxjPTAsdT1lLmJ5dGVMZW5ndGg7aWYodHlwZW9mIHI9PSJvYmplY3QiJiZyIT09bnVsbClzPXI7ZWxzZSBpZih0eXBlb2Ygcj09Im51bWJlciIpe2lmKGM9ciwhTnVtYmVyLmlzU2FmZUludGVnZXIoYykpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIidieXRlT2Zmc2V0JyBtdXN0IGJlIGFuIGludGVnZXIuIik7aWYoYzwwfHxjPj1kLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoYCdieXRlT2Zmc2V0JyBpcyBvdXQgb2YgcmFuZ2UgWzAsICR7ZC5ieXRlTGVuZ3RofSkuYCk7aWYodT1lLmJ5dGVMZW5ndGgtYyx0eXBlb2Ygbj09Im51bWJlciIpe2lmKHU9biwhTnVtYmVyLmlzU2FmZUludGVnZXIodSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIidieXRlTGVuZ3RoJyBtdXN0IGJlIGFuIGludGVnZXIuIik7aWYodTw9MHx8Yyt1PmQuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihgJ2J5dGVMZW5ndGgnIGlzIG91dCBvZiByYW5nZSAoMCwgJHtkLmJ5dGVMZW5ndGgtY31dLmApO2lmKHR5cGVvZiBhPT0ib2JqZWN0IiYmYSE9PW51bGwpcz1hO2Vsc2UgaWYodHlwZW9mIGE8InUiKXRocm93IG5ldyBUeXBlRXJyb3IoIidvcHRpb25zJyBtdXN0IGJlIGFuIG9iamVjdC4iKX1lbHNlIGlmKHR5cGVvZiBuPCJ1Iil0aHJvdyBuZXcgVHlwZUVycm9yKCInYnl0ZUxlbmd0aCcgbXVzdCBiZSBhIG51bWJlci4iKX1lbHNlIGlmKHR5cGVvZiByPCJ1Iil0aHJvdyBuZXcgVHlwZUVycm9yKCInb3B0aW9ucycgbXVzdCBiZSBhbiBvYmplY3QuIik7aT1uZXcgVWludDhBcnJheShkLGMsdSl9ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmV4cGVjdGVkIGFyZ3VtZW50WzBdOiBtdXN0IGJlICdwYXRoJyBvciAnYnVmZmVyJy4iKTtsZXQgbz0ocy5leGVjdXRpb25Qcm92aWRlcnN8fFtdKS5tYXAoZD0+dHlwZW9mIGQ9PSJzdHJpbmciP2Q6ZC5uYW1lKSxsPWF3YWl0KGF3YWl0IEFpKG8pKS5jcmVhdGVJbmZlcmVuY2VTZXNzaW9uSGFuZGxlcihpLHMpO3JldHVybiBEdCgpLG5ldyB1ZyhsKX1zdGFydFByb2ZpbGluZygpe3RoaXMuaGFuZGxlci5zdGFydFByb2ZpbGluZygpfWVuZFByb2ZpbGluZygpe3RoaXMuaGFuZGxlci5lbmRQcm9maWxpbmcoKX1nZXQgaW5wdXROYW1lcygpe3JldHVybiB0aGlzLmhhbmRsZXIuaW5wdXROYW1lc31nZXQgb3V0cHV0TmFtZXMoKXtyZXR1cm4gdGhpcy5oYW5kbGVyLm91dHB1dE5hbWVzfX19KSxEaSxHZz1RKCgpPT57SGcoKSxEaT1Vb30pLHFnPVEoKCk9Pnt9KSxXbyxMbyxqZz1RKCgpPT57VGkoKSxCaSgpLFdvPSJUcmFpbmluZyBiYWNrZW5kIGNvdWxkIG5vdCBiZSByZXNvbHZlZC4gTWFrZSBzdXJlIHlvdSdyZSB1c2luZyB0aGUgY29ycmVjdCBjb25maWd1cmF0aW9uICYgV2ViQXNzZW1ibHkgZmlsZXMuIixMbz1jbGFzcyBkZ3tjb25zdHJ1Y3RvcihlLHIsbil7dGhpcy5oYW5kbGVyPWUsdGhpcy5oYXNPcHRpbWl6ZXJNb2RlbD1yLHRoaXMuaGFzRXZhbE1vZGVsPW59Z2V0IHRyYWluaW5nSW5wdXROYW1lcygpe3JldHVybiB0aGlzLmhhbmRsZXIuaW5wdXROYW1lc31nZXQgdHJhaW5pbmdPdXRwdXROYW1lcygpe3JldHVybiB0aGlzLmhhbmRsZXIub3V0cHV0TmFtZXN9Z2V0IGV2YWxJbnB1dE5hbWVzKCl7aWYodGhpcy5oYXNFdmFsTW9kZWwpcmV0dXJuIHRoaXMuaGFuZGxlci5ldmFsSW5wdXROYW1lczt0aHJvdyBuZXcgRXJyb3IoIlRoaXMgdHJhaW5pbmcgc2Vzc2lvbiBoYXMgbm8gZXZhbE1vZGVsIGxvYWRlZC4iKX1nZXQgZXZhbE91dHB1dE5hbWVzKCl7aWYodGhpcy5oYXNFdmFsTW9kZWwpcmV0dXJuIHRoaXMuaGFuZGxlci5ldmFsT3V0cHV0TmFtZXM7dGhyb3cgbmV3IEVycm9yKCJUaGlzIHRyYWluaW5nIHNlc3Npb24gaGFzIG5vIGV2YWxNb2RlbCBsb2FkZWQuIil9c3RhdGljIGFzeW5jIGNyZWF0ZShlLHIpe2xldCBuPWUuZXZhbE1vZGVsfHwiIixhPWUub3B0aW1pemVyTW9kZWx8fCIiLGk9cnx8e30scz0oaS5leGVjdXRpb25Qcm92aWRlcnN8fFtdKS5tYXAobD0+dHlwZW9mIGw9PSJzdHJpbmciP2w6bC5uYW1lKSxvPWF3YWl0IEFpKHMpO2lmKG8uY3JlYXRlVHJhaW5pbmdTZXNzaW9uSGFuZGxlcil7bGV0IGw9YXdhaXQgby5jcmVhdGVUcmFpbmluZ1Nlc3Npb25IYW5kbGVyKGUuY2hlY2twb2ludFN0YXRlLGUudHJhaW5Nb2RlbCxuLGEsaSk7cmV0dXJuIG5ldyBkZyhsLCEhZS5vcHRpbWl6ZXJNb2RlbCwhIWUuZXZhbE1vZGVsKX1lbHNlIHRocm93IG5ldyBFcnJvcihXbyl9dHlwZU5hcnJvd2luZ0ZvclJ1blN0ZXAoZSxyLG4sYSxpKXtsZXQgcz17fSxvPXt9O2lmKHR5cGVvZiBuIT0ib2JqZWN0Inx8bj09PW51bGx8fG4gaW5zdGFuY2VvZiBodHx8QXJyYXkuaXNBcnJheShuKSl0aHJvdyBuZXcgVHlwZUVycm9yKCInZmVlZHMnIG11c3QgYmUgYW4gb2JqZWN0IHRoYXQgdXNlIGlucHV0IG5hbWVzIGFzIGtleXMgYW5kIE9ubnhWYWx1ZSBhcyBjb3JyZXNwb25kaW5nIHZhbHVlcy4iKTtsZXQgbD0hMDtpZih0eXBlb2YgYT09Im9iamVjdCIpe2lmKGE9PT1udWxsKXRocm93IG5ldyBUeXBlRXJyb3IoIlVuZXhwZWN0ZWQgYXJndW1lbnRbMV06IGNhbm5vdCBiZSBudWxsLiIpO2lmKGEgaW5zdGFuY2VvZiBodCl0aHJvdyBuZXcgVHlwZUVycm9yKCInZmV0Y2hlcycgY2Fubm90IGJlIGEgVGVuc29yIik7aWYoQXJyYXkuaXNBcnJheShhKSl7aWYoYS5sZW5ndGg9PT0wKXRocm93IG5ldyBUeXBlRXJyb3IoIidmZXRjaGVzJyBjYW5ub3QgYmUgYW4gZW1wdHkgYXJyYXkuIik7bD0hMTtmb3IobGV0IGQgb2YgYSl7aWYodHlwZW9mIGQhPSJzdHJpbmciKXRocm93IG5ldyBUeXBlRXJyb3IoIidmZXRjaGVzJyBtdXN0IGJlIGEgc3RyaW5nIGFycmF5IG9yIGFuIG9iamVjdC4iKTtpZihyLmluZGV4T2YoZCk9PT0tMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihgJ2ZldGNoZXMnIGNvbnRhaW5zIGludmFsaWQgb3V0cHV0IG5hbWU6ICR7ZH0uYCk7c1tkXT1udWxsfWlmKHR5cGVvZiBpPT0ib2JqZWN0IiYmaSE9PW51bGwpbz1pO2Vsc2UgaWYodHlwZW9mIGk8InUiKXRocm93IG5ldyBUeXBlRXJyb3IoIidvcHRpb25zJyBtdXN0IGJlIGFuIG9iamVjdC4iKX1lbHNle2xldCBkPSExLGM9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYSk7Zm9yKGxldCB1IG9mIHIpaWYoYy5pbmRleE9mKHUpIT09LTEpe2xldCBoPWFbdV07KGg9PT1udWxsfHxoIGluc3RhbmNlb2YgaHQpJiYoZD0hMCxsPSExLHNbdV09aCl9aWYoZCl7aWYodHlwZW9mIGk9PSJvYmplY3QiJiZpIT09bnVsbClvPWk7ZWxzZSBpZih0eXBlb2YgaTwidSIpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ29wdGlvbnMnIG11c3QgYmUgYW4gb2JqZWN0LiIpfWVsc2Ugbz1hfX1lbHNlIGlmKHR5cGVvZiBhPCJ1Iil0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmV4cGVjdGVkIGFyZ3VtZW50WzFdOiBtdXN0IGJlICdmZXRjaGVzJyBvciAnb3B0aW9ucycuIik7Zm9yKGxldCBkIG9mIGUpaWYodHlwZW9mIG5bZF0+InUiKXRocm93IG5ldyBFcnJvcihgaW5wdXQgJyR7ZH0nIGlzIG1pc3NpbmcgaW4gJ2ZlZWRzJy5gKTtpZihsKWZvcihsZXQgZCBvZiByKXNbZF09bnVsbDtyZXR1cm5bcyxvXX1jb252ZXJ0SGFuZGxlclJldHVyblR5cGVUb01hcE9mVGVuc29ycyhlKXtsZXQgcj17fTtmb3IobGV0IG4gaW4gZSlpZihPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pKXtsZXQgYT1lW25dO2EgaW5zdGFuY2VvZiBodD9yW25dPWE6cltuXT1uZXcgaHQoYS50eXBlLGEuZGF0YSxhLmRpbXMpfXJldHVybiByfWFzeW5jIGxhenlSZXNldEdyYWQoKXthd2FpdCB0aGlzLmhhbmRsZXIubGF6eVJlc2V0R3JhZCgpfWFzeW5jIHJ1blRyYWluU3RlcChlLHIsbil7bGV0W2EsaV09dGhpcy50eXBlTmFycm93aW5nRm9yUnVuU3RlcCh0aGlzLnRyYWluaW5nSW5wdXROYW1lcyx0aGlzLnRyYWluaW5nT3V0cHV0TmFtZXMsZSxyLG4pLHM9YXdhaXQgdGhpcy5oYW5kbGVyLnJ1blRyYWluU3RlcChlLGEsaSk7cmV0dXJuIHRoaXMuY29udmVydEhhbmRsZXJSZXR1cm5UeXBlVG9NYXBPZlRlbnNvcnMocyl9YXN5bmMgcnVuT3B0aW1pemVyU3RlcChlKXtpZih0aGlzLmhhc09wdGltaXplck1vZGVsKWF3YWl0IHRoaXMuaGFuZGxlci5ydW5PcHRpbWl6ZXJTdGVwKGV8fHt9KTtlbHNlIHRocm93IG5ldyBFcnJvcigiVGhpcyBUcmFpbmluZ1Nlc3Npb24gaGFzIG5vIE9wdGltaXplck1vZGVsIGxvYWRlZC4iKX1hc3luYyBydW5FdmFsU3RlcChlLHIsbil7aWYodGhpcy5oYXNFdmFsTW9kZWwpe2xldFthLGldPXRoaXMudHlwZU5hcnJvd2luZ0ZvclJ1blN0ZXAodGhpcy5ldmFsSW5wdXROYW1lcyx0aGlzLmV2YWxPdXRwdXROYW1lcyxlLHIsbikscz1hd2FpdCB0aGlzLmhhbmRsZXIucnVuRXZhbFN0ZXAoZSxhLGkpO3JldHVybiB0aGlzLmNvbnZlcnRIYW5kbGVyUmV0dXJuVHlwZVRvTWFwT2ZUZW5zb3JzKHMpfWVsc2UgdGhyb3cgbmV3IEVycm9yKCJUaGlzIFRyYWluaW5nU2Vzc2lvbiBoYXMgbm8gRXZhbE1vZGVsIGxvYWRlZC4iKX1hc3luYyBnZXRQYXJhbWV0ZXJzU2l6ZShlPSEwKXtyZXR1cm4gdGhpcy5oYW5kbGVyLmdldFBhcmFtZXRlcnNTaXplKGUpfWFzeW5jIGxvYWRQYXJhbWV0ZXJzQnVmZmVyKGUscj0hMCl7bGV0IG49YXdhaXQgdGhpcy5nZXRQYXJhbWV0ZXJzU2l6ZShyKTtpZihlLmxlbmd0aCE9PTQqbil0aHJvdyBuZXcgRXJyb3IoIlNpemUgb2YgdGhlIGJ1ZmZlciBwYXNzZWQgaW50byBsb2FkUGFyYW1ldGVyc0J1ZmZlciBtdXN0IG1hdGNoIHRoZSBudW1iZXIgb2YgcGFyYW1ldGVycyBpbiB0aGUgbW9kZWwuIFBsZWFzZSB1c2UgZ2V0UGFyYW1ldGVyc1NpemUgbWV0aG9kIHRvIGNoZWNrLiIpO3JldHVybiB0aGlzLmhhbmRsZXIubG9hZFBhcmFtZXRlcnNCdWZmZXIoZSxyKX1hc3luYyBnZXRDb250aWd1b3VzUGFyYW1ldGVycyhlPSEwKXtyZXR1cm4gdGhpcy5oYW5kbGVyLmdldENvbnRpZ3VvdXNQYXJhbWV0ZXJzKGUpfWFzeW5jIHJlbGVhc2UoKXtyZXR1cm4gdGhpcy5oYW5kbGVyLmRpc3Bvc2UoKX19fSksUGksS2c9USgoKT0+e2pnKCksUGk9TG99KSxGbz17fTtOcihGbyx7SW5mZXJlbmNlU2Vzc2lvbjooKT0+RGksVFJBQ0U6KCk9PmxuLFRSQUNFX0ZVTkNfQkVHSU46KCk9PlJ0LFRSQUNFX0ZVTkNfRU5EOigpPT5EdCxUZW5zb3I6KCk9Pmh0LFRyYWluaW5nU2Vzc2lvbjooKT0+UGksZW52OigpPT5QZSxyZWdpc3RlckJhY2tlbmQ6KCk9PlVyfSk7dmFyIFB0PVEoKCk9PntQZygpLFVnKCksR2coKSxCaSgpLE5vKCkscWcoKSxLZygpfSksTmk9e307TnIoTmkse2NyZWF0ZVJlYWRTdHJlYW06KCk9PkdvLHJlYWRGaWxlOigpPT5WbyxyZWFkRmlsZVN5bmM6KCk9PkhvfSk7dmFyIFZvLEhvLEdvLHFvPVEoKCk9PntWbz12b2lkIDAsSG89dm9pZCAwLEdvPXZvaWQgMH0pLFVpPXt9O05yKFVpLHtqb2luOigpPT5qb30pO3ZhciBqbyxLbz1RKCgpPT57am89dm9pZCAwfSksWWc9UHIoKHQsZSk9Pnt2YXIgcj0oKCk9Pnt2YXIgbj10eXBlb2YgZG9jdW1lbnQ8InUiJiZkb2N1bWVudC5jdXJyZW50U2NyaXB0P2RvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjOnZvaWQgMDtyZXR1cm4gdHlwZW9mIF9fZmlsZW5hbWU8InUiJiYobj1ufHxfX2ZpbGVuYW1lKSxmdW5jdGlvbihhPXt9KXt2YXIgaT1hLHMsbztpLnJlYWR5PW5ldyBQcm9taXNlKChtLGIpPT57cz1tLG89Yn0pLGkubW91bnRFeHRlcm5hbERhdGE9KG0sYik9PnsoaS5GYXx8KGkuRmE9bmV3IE1hcCkpLnNldChtLGIpfSxpLnVubW91bnRFeHRlcm5hbERhdGE9KCk9PntkZWxldGUgaS5GYX0saS5qc2VwSW5pdD0obSxiLFMsQSxQLFksYWUseWUpPT57aS5hYj1tLGkuUWE9YixpLlNhPVMsaS5MYT1BLGkuUmE9UCxpLnNhPVksaS5UYT1hZSxpLlVhPXllLGI9KGxlLGRlLGdlKT0+KC4uLkVlKT0+e2xldCB6ZT1FdCx6PWRlPy4oKTtFZT1sZSguLi5FZSk7bGV0IF9lPWRlPy4oKTtyZXR1cm4geiE9PV9lJiYobGU9X2UsZ2UoeiksZGU9Z2U9bnVsbCksRXQhPXplP2RpKCk6RWV9LFM9bGU9PmFzeW5jKC4uLmRlKT0+e3RyeXtpZihpLkVhKXRocm93IEVycm9yKCJTZXNzaW9uIGFscmVhZHkgc3RhcnRlZCIpO2xldCBnZT1pLkVhPXtWYTpkZVswXSxlcnJvcnM6W119LEVlPWF3YWl0IGxlKC4uLmRlKTtpZihpLkVhIT09Z2UpdGhyb3cgRXJyb3IoIlNlc3Npb24gbWlzbWF0Y2giKTttLmZsdXNoKCk7bGV0IHplPWdlLmVycm9ycztpZigwPHplLmxlbmd0aCl7bGV0IHo9YXdhaXQgUHJvbWlzZS5hbGwoemUpO2lmKHo9ei5maWx0ZXIoX2U9Pl9lKSwwPHoubGVuZ3RoKXRocm93IEVycm9yKHouam9pbihgCmApKX1yZXR1cm4gRWV9ZmluYWxseXtpLkVhPW51bGx9fSxpLl9PcnRSdW49UyhiKGkuX09ydFJ1biwoKT0+aS5fT3J0UnVuLGxlPT5pLl9PcnRSdW49bGUpKSxpLl9PcnRSdW5XaXRoQmluZGluZz1TKGIoaS5fT3J0UnVuV2l0aEJpbmRpbmcsKCk9PmkuX09ydFJ1bldpdGhCaW5kaW5nLGxlPT5pLl9PcnRSdW5XaXRoQmluZGluZz1sZSkpLGkuX09ydEJpbmRJbnB1dD1iKGkuX09ydEJpbmRJbnB1dCwoKT0+aS5fT3J0QmluZElucHV0LGxlPT5pLl9PcnRCaW5kSW5wdXQ9bGUpLGkuanNlcFJlZ2lzdGVyQnVmZmVyPShsZSxkZSxnZSxFZSk9Pm0ucmVnaXN0ZXJCdWZmZXIobGUsZGUsZ2UsRWUpLGkuanNlcFVucmVnaXN0ZXJCdWZmZXJzPWxlPT57bS51bnJlZ2lzdGVyQnVmZmVycyhsZSl9LGkuanNlcEdldEJ1ZmZlcj1sZT0+bS5nZXRCdWZmZXIobGUpLGkuanNlcENyZWF0ZURvd25sb2FkZXI9KGxlLGRlLGdlKT0+bS5jcmVhdGVEb3dubG9hZGVyKGxlLGRlLGdlKX07dmFyIGw9T2JqZWN0LmFzc2lnbih7fSxpKSxkPSIuL3RoaXMucHJvZ3JhbSIsYz0obSxiKT0+e3Rocm93IGJ9LHU9dHlwZW9mIHdpbmRvdz09Im9iamVjdCIsaD10eXBlb2YgaW1wb3J0U2NyaXB0cz09ImZ1bmN0aW9uIixmPXR5cGVvZiBwcm9jZXNzPT0ib2JqZWN0IiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnM9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlPT0ic3RyaW5nIixnPSIiLHksdyx2O2lmKGYpe3ZhciBrPShxbygpLHdyKE5pKSksRT0oS28oKSx3cihVaSkpO2c9aD9FLmRpcm5hbWUoZykrIi8iOl9fZGlybmFtZSsiLyIseT0obSxiKT0+KG09JGUobSk/bmV3IFVSTChtKTpFLm5vcm1hbGl6ZShtKSxrLnJlYWRGaWxlU3luYyhtLGI/dm9pZCAwOiJ1dGY4IikpLHY9bT0+KG09eShtLCEwKSxtLmJ1ZmZlcnx8KG09bmV3IFVpbnQ4QXJyYXkobSkpLG0pLHc9KG0sYixTLEE9ITApPT57bT0kZShtKT9uZXcgVVJMKG0pOkUubm9ybWFsaXplKG0pLGsucmVhZEZpbGUobSxBP3ZvaWQgMDoidXRmOCIsKFAsWSk9PntQP1MoUCk6YihBP1kuYnVmZmVyOlkpfSl9LCFpLnRoaXNQcm9ncmFtJiYxPHByb2Nlc3MuYXJndi5sZW5ndGgmJihkPXByb2Nlc3MuYXJndlsxXS5yZXBsYWNlKC9cXC9nLCIvIikpLHByb2Nlc3MuYXJndi5zbGljZSgyKSxjPShtLGIpPT57dGhyb3cgcHJvY2Vzcy5leGl0Q29kZT1tLGJ9LGkuaW5zcGVjdD0oKT0+IltFbXNjcmlwdGVuIE1vZHVsZSBvYmplY3RdIn1lbHNlKHV8fGgpJiYoaD9nPXNlbGYubG9jYXRpb24uaHJlZjp0eXBlb2YgZG9jdW1lbnQ8InUiJiZkb2N1bWVudC5jdXJyZW50U2NyaXB0JiYoZz1kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYyksbiYmKGc9biksZy5pbmRleE9mKCJibG9iOiIpIT09MD9nPWcuc3Vic3RyKDAsZy5yZXBsYWNlKC9bPyNdLiovLCIiKS5sYXN0SW5kZXhPZigiLyIpKzEpOmc9IiIseT1tPT57dmFyIGI9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBiLm9wZW4oIkdFVCIsbSwhMSksYi5zZW5kKG51bGwpLGIucmVzcG9uc2VUZXh0fSxoJiYodj1tPT57dmFyIGI9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBiLm9wZW4oIkdFVCIsbSwhMSksYi5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixiLnNlbmQobnVsbCksbmV3IFVpbnQ4QXJyYXkoYi5yZXNwb25zZSl9KSx3PShtLGIsUyk9Pnt2YXIgQT1uZXcgWE1MSHR0cFJlcXVlc3Q7QS5vcGVuKCJHRVQiLG0sITApLEEucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsQS5vbmxvYWQ9KCk9PntBLnN0YXR1cz09MjAwfHxBLnN0YXR1cz09MCYmQS5yZXNwb25zZT9iKEEucmVzcG9uc2UpOlMoKX0sQS5vbmVycm9yPVMsQS5zZW5kKG51bGwpfSk7dmFyIHg9Y29uc29sZS5sb2cuYmluZChjb25zb2xlKSxJPWNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlKTtPYmplY3QuYXNzaWduKGksbCksbD1udWxsLHR5cGVvZiBXZWJBc3NlbWJseSE9Im9iamVjdCImJkYoIm5vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWQiKTt2YXIgVCxCPSExLFUsSCxLLE8sRyxuZSxxO2Z1bmN0aW9uIEQoKXt2YXIgbT1ULmJ1ZmZlcjtpLkhFQVA4PUg9bmV3IEludDhBcnJheShtKSxpLkhFQVAxNj1uZXcgSW50MTZBcnJheShtKSxpLkhFQVBVOD1LPW5ldyBVaW50OEFycmF5KG0pLGkuSEVBUFUxNj1uZXcgVWludDE2QXJyYXkobSksaS5IRUFQMzI9Tz1uZXcgSW50MzJBcnJheShtKSxpLkhFQVBVMzI9Rz1uZXcgVWludDMyQXJyYXkobSksaS5IRUFQRjMyPW5lPW5ldyBGbG9hdDMyQXJyYXkobSksaS5IRUFQRjY0PXE9bmV3IEZsb2F0NjRBcnJheShtKX12YXIgTD1bXSxWPVtdLHRlPVtdLFg9MCx1ZT1udWxsO2Z1bmN0aW9uIEYobSl7dGhyb3cgbT0iQWJvcnRlZCgiK20rIikiLEkobSksQj0hMCxVPTEsbT1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKG0rIi4gQnVpbGQgd2l0aCAtc0FTU0VSVElPTlMgZm9yIG1vcmUgaW5mby4iKSxvKG0pLG19dmFyIG9lPW09Pm0uc3RhcnRzV2l0aCgiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCIpLCRlPW09Pm0uc3RhcnRzV2l0aCgiZmlsZTovLyIpLFVlO2lmKFVlPSJvcnQtd2FzbS1zaW1kLndhc20iLCFvZShVZSkpe3ZhciBEZT1VZTtVZT1pLmxvY2F0ZUZpbGU/aS5sb2NhdGVGaWxlKERlLGcpOmcrRGV9ZnVuY3Rpb24gVmUobSl7aWYodilyZXR1cm4gdihtKTt0aHJvdyJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCJ9ZnVuY3Rpb24gU3QobSl7aWYodXx8aCl7aWYodHlwZW9mIGZldGNoPT0iZnVuY3Rpb24iJiYhJGUobSkpcmV0dXJuIGZldGNoKG0se2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKGI9PntpZighYi5vayl0aHJvdyJmYWlsZWQgdG8gbG9hZCB3YXNtIGJpbmFyeSBmaWxlIGF0ICciK20rIiciO3JldHVybiBiLmFycmF5QnVmZmVyKCl9KS5jYXRjaCgoKT0+VmUobSkpO2lmKHcpcmV0dXJuIG5ldyBQcm9taXNlKChiLFMpPT57dyhtLEE9PmIobmV3IFVpbnQ4QXJyYXkoQSkpLFMpfSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCk9PlZlKG0pKX1mdW5jdGlvbiBXZShtLGIsUyl7cmV0dXJuIFN0KG0pLnRoZW4oQT0+V2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoQSxiKSkudGhlbihBPT5BKS50aGVuKFMsQT0+e0koYGZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICR7QX1gKSxGKEEpfSl9ZnVuY3Rpb24gSGUobSxiKXt2YXIgUz1VZTtyZXR1cm4gdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nIT0iZnVuY3Rpb24ifHxvZShTKXx8JGUoUyl8fGZ8fHR5cGVvZiBmZXRjaCE9ImZ1bmN0aW9uIj9XZShTLG0sYik6ZmV0Y2goUyx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oQT0+V2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcoQSxtKS50aGVuKGIsZnVuY3Rpb24oUCl7cmV0dXJuIEkoYHdhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAke1B9YCksSSgiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKSxXZShTLG0sYil9KSl9dmFyIE10LHp0PXs5MzEwNTY6KG0sYixTLEEpPT57aWYodHlwZW9mIGk+InUifHwhaS5GYSlyZXR1cm4gMTtpZihtPWV0KG0+Pj4wKSxtLnN0YXJ0c1dpdGgoIi4vIikmJihtPW0uc3Vic3RyaW5nKDIpKSxtPWkuRmEuZ2V0KG0pLCFtKXJldHVybiAyO2lmKGI+Pj49MCxTPj4+PTAsYitTPm0uYnl0ZUxlbmd0aClyZXR1cm4gMzt0cnl7cmV0dXJuIEsuc2V0KG0uc3ViYXJyYXkoYixiK1MpLEE+Pj4wPj4+MCksMH1jYXRjaHtyZXR1cm4gNH19LDkzMTU1NzptPT5pLlFhKG0pLDkzMTU5MDptPT5pLlNhKG0pLDkzMTYyMjoobSxiLFMpPT57aS5MYShtLGIsUywhMCl9LDkzMTY2MToobSxiLFMpPT57aS5MYShtLGIsUyl9LDkzMTY5NDptPT57aS5zYSgiQWJzIixtLHZvaWQgMCl9LDkzMTc0NTptPT57aS5zYSgiTmVnIixtLHZvaWQgMCl9LDkzMTc5NjptPT57aS5zYSgiRmxvb3IiLG0sdm9pZCAwKX0sOTMxODQ5Om09PntpLnNhKCJDZWlsIixtLHZvaWQgMCl9LDkzMTkwMTptPT57aS5zYSgiUmVjaXByb2NhbCIsbSx2b2lkIDApfSw5MzE5NTk6bT0+e2kuc2EoIlNxcnQiLG0sdm9pZCAwKX0sOTMyMDExOm09PntpLnNhKCJFeHAiLG0sdm9pZCAwKX0sOTMyMDYyOm09PntpLnNhKCJFcmYiLG0sdm9pZCAwKX0sOTMyMTEzOm09PntpLnNhKCJTaWdtb2lkIixtLHZvaWQgMCl9LDkzMjE2ODptPT57aS5zYSgiTG9nIixtLHZvaWQgMCl9LDkzMjIxOTptPT57aS5zYSgiU2luIixtLHZvaWQgMCl9LDkzMjI3MDptPT57aS5zYSgiQ29zIixtLHZvaWQgMCl9LDkzMjMyMTptPT57aS5zYSgiVGFuIixtLHZvaWQgMCl9LDkzMjM3MjptPT57aS5zYSgiQXNpbiIsbSx2b2lkIDApfSw5MzI0MjQ6bT0+e2kuc2EoIkFjb3MiLG0sdm9pZCAwKX0sOTMyNDc2Om09PntpLnNhKCJBdGFuIixtLHZvaWQgMCl9LDkzMjUyODptPT57aS5zYSgiU2luaCIsbSx2b2lkIDApfSw5MzI1ODA6bT0+e2kuc2EoIkNvc2giLG0sdm9pZCAwKX0sOTMyNjMyOm09PntpLnNhKCJBc2luaCIsbSx2b2lkIDApfSw5MzI2ODU6bT0+e2kuc2EoIkFjb3NoIixtLHZvaWQgMCl9LDkzMjczODptPT57aS5zYSgiQXRhbmgiLG0sdm9pZCAwKX0sOTMyNzkxOm09PntpLnNhKCJUYW5oIixtLHZvaWQgMCl9LDkzMjg0MzptPT57aS5zYSgiTm90IixtLHZvaWQgMCl9LDkzMjg5NDoobSxiLFMpPT57aS5zYSgiQ2xpcCIsbSx7bWluOmIsbWF4OlN9KX0sOTMyOTYzOm09PntpLnNhKCJDbGlwIixtLHZvaWQgMCl9LDkzMzAxNToobSxiKT0+e2kuc2EoIkVsdSIsbSx7YWxwaGE6Yn0pfSw5MzMwNzM6bT0+e2kuc2EoIlJlbHUiLG0sdm9pZCAwKX0sOTMzMTI1OihtLGIpPT57aS5zYSgiTGVha3lSZWx1IixtLHthbHBoYTpifSl9LDkzMzE4OToobSxiKT0+e2kuc2EoIlRocmVzaG9sZGVkUmVsdSIsbSx7YWxwaGE6Yn0pfSw5MzMyNTk6KG0sYik9PntpLnNhKCJDYXN0IixtLHt0bzpifSl9LDkzMzMxNzptPT57aS5zYSgiQWRkIixtLHZvaWQgMCl9LDkzMzM2ODptPT57aS5zYSgiU3ViIixtLHZvaWQgMCl9LDkzMzQxOTptPT57aS5zYSgiTXVsIixtLHZvaWQgMCl9LDkzMzQ3MDptPT57aS5zYSgiRGl2IixtLHZvaWQgMCl9LDkzMzUyMTptPT57aS5zYSgiUG93IixtLHZvaWQgMCl9LDkzMzU3MjptPT57aS5zYSgiRXF1YWwiLG0sdm9pZCAwKX0sOTMzNjI1Om09PntpLnNhKCJHcmVhdGVyIixtLHZvaWQgMCl9LDkzMzY4MDptPT57aS5zYSgiR3JlYXRlck9yRXF1YWwiLG0sdm9pZCAwKX0sOTMzNzQyOm09PntpLnNhKCJMZXNzIixtLHZvaWQgMCl9LDkzMzc5NDptPT57aS5zYSgiTGVzc09yRXF1YWwiLG0sdm9pZCAwKX0sOTMzODUzOihtLGIsUyxBLFApPT57aS5zYSgiUmVkdWNlTWVhbiIsbSx7a2VlcERpbXM6ISFiLG5vb3BXaXRoRW1wdHlBeGVzOiEhUyxheGVzOkE/QXJyYXkuZnJvbShPLnN1YmFycmF5KEE+Pj4wLFA+Pj4wKSk6W119KX0sOTM0MDEyOihtLGIsUyxBLFApPT57aS5zYSgiUmVkdWNlTWF4IixtLHtrZWVwRGltczohIWIsbm9vcFdpdGhFbXB0eUF4ZXM6ISFTLGF4ZXM6QT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoQT4+PjAsUD4+PjApKTpbXX0pfSw5MzQxNzA6KG0sYixTLEEsUCk9PntpLnNhKCJSZWR1Y2VNaW4iLG0se2tlZXBEaW1zOiEhYixub29wV2l0aEVtcHR5QXhlczohIVMsYXhlczpBP0FycmF5LmZyb20oTy5zdWJhcnJheShBPj4+MCxQPj4+MCkpOltdfSl9LDkzNDMyODoobSxiLFMsQSxQKT0+e2kuc2EoIlJlZHVjZVByb2QiLG0se2tlZXBEaW1zOiEhYixub29wV2l0aEVtcHR5QXhlczohIVMsYXhlczpBP0FycmF5LmZyb20oTy5zdWJhcnJheShBPj4+MCxQPj4+MCkpOltdfSl9LDkzNDQ4NzoobSxiLFMsQSxQKT0+e2kuc2EoIlJlZHVjZVN1bSIsbSx7a2VlcERpbXM6ISFiLG5vb3BXaXRoRW1wdHlBeGVzOiEhUyxheGVzOkE/QXJyYXkuZnJvbShPLnN1YmFycmF5KEE+Pj4wLFA+Pj4wKSk6W119KX0sOTM0NjQ1OihtLGIsUyxBLFApPT57aS5zYSgiUmVkdWNlTDEiLG0se2tlZXBEaW1zOiEhYixub29wV2l0aEVtcHR5QXhlczohIVMsYXhlczpBP0FycmF5LmZyb20oTy5zdWJhcnJheShBPj4+MCxQPj4+MCkpOltdfSl9LDkzNDgwMjoobSxiLFMsQSxQKT0+e2kuc2EoIlJlZHVjZUwyIixtLHtrZWVwRGltczohIWIsbm9vcFdpdGhFbXB0eUF4ZXM6ISFTLGF4ZXM6QT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoQT4+PjAsUD4+PjApKTpbXX0pfSw5MzQ5NTk6KG0sYixTLEEsUCk9PntpLnNhKCJSZWR1Y2VMb2dTdW0iLG0se2tlZXBEaW1zOiEhYixub29wV2l0aEVtcHR5QXhlczohIVMsYXhlczpBP0FycmF5LmZyb20oTy5zdWJhcnJheShBPj4+MCxQPj4+MCkpOltdfSl9LDkzNTEyMDoobSxiLFMsQSxQKT0+e2kuc2EoIlJlZHVjZVN1bVNxdWFyZSIsbSx7a2VlcERpbXM6ISFiLG5vb3BXaXRoRW1wdHlBeGVzOiEhUyxheGVzOkE/QXJyYXkuZnJvbShPLnN1YmFycmF5KEE+Pj4wLFA+Pj4wKSk6W119KX0sOTM1Mjg0OihtLGIsUyxBLFApPT57aS5zYSgiUmVkdWNlTG9nU3VtRXhwIixtLHtrZWVwRGltczohIWIsbm9vcFdpdGhFbXB0eUF4ZXM6ISFTLGF4ZXM6QT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoQT4+PjAsUD4+PjApKTpbXX0pfSw5MzU0NDg6bT0+e2kuc2EoIldoZXJlIixtLHZvaWQgMCl9LDkzNTUwMToobSxiLFMpPT57aS5zYSgiVHJhbnNwb3NlIixtLHtwZXJtOmI/QXJyYXkuZnJvbShPLnN1YmFycmF5KGI+Pj4wLFM+Pj4wKSk6W119KX0sOTM1NjA5OihtLGIsUyxBLFAsWSxhZSx5ZSxsZSxkZSxnZSxFZSx6ZSx6LF9lKT0+e2kuc2EoIkNvbnZUcmFuc3Bvc2UiLG0se2Zvcm1hdDpsZT8iTkhXQyI6Ik5DSFciLGF1dG9QYWQ6YixkaWxhdGlvbnM6W1NdLGdyb3VwOkEsa2VybmVsX3NoYXBlOltQXSxwYWRzOltZLGFlXSxzdHJpZGVzOlt5ZV0sd0lzQ29uc3Q6KCk9PiEhSFtkZT4+PjBdLG91dHB1dFBhZGRpbmc6Z2U/QXJyYXkuZnJvbShPLnN1YmFycmF5KGdlPj4+MCxFZT4+PjApKTpbXSxvdXRwdXRTaGFwZTp6ZT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoemU+Pj4wLHo+Pj4wKSk6W10sYWN0aXZhdGlvbjpldChfZSl9KX0sOTM2MDExOihtLGIsUyxBLFAsWSxhZSx5ZSxsZSxkZSxnZSxFZSx6ZSx6KT0+e2kuc2EoIkNvbnZUcmFuc3Bvc2UiLG0se2Zvcm1hdDp5ZT8iTkhXQyI6Ik5DSFciLGF1dG9QYWQ6YixkaWxhdGlvbnM6QXJyYXkuZnJvbShPLnN1YmFycmF5KFM+Pj4wLChTPj4+MCkrMj4+PjApKSxncm91cDpBLGtlcm5lbFNoYXBlOkFycmF5LmZyb20oTy5zdWJhcnJheShQPj4+MCwoUD4+PjApKzI+Pj4wKSkscGFkczpBcnJheS5mcm9tKE8uc3ViYXJyYXkoWT4+PjAsKFk+Pj4wKSs0Pj4+MCkpLHN0cmlkZXM6QXJyYXkuZnJvbShPLnN1YmFycmF5KGFlPj4+MCwoYWU+Pj4wKSsyPj4+MCkpLHdJc0NvbnN0OigpPT4hIUhbbGU+Pj4wXSxvdXRwdXRQYWRkaW5nOmRlP0FycmF5LmZyb20oTy5zdWJhcnJheShkZT4+PjAsZ2U+Pj4wKSk6W10sb3V0cHV0U2hhcGU6RWU/QXJyYXkuZnJvbShPLnN1YmFycmF5KEVlPj4+MCx6ZT4+PjApKTpbXSxhY3RpdmF0aW9uOmV0KHopfSl9LDkzNjU3NjoobSxiLFMsQSxQLFksYWUseWUsbGUsZGUsZ2UsRWUsemUseixfZSk9PntpLnNhKCJDb252VHJhbnNwb3NlIixtLHtmb3JtYXQ6bGU/Ik5IV0MiOiJOQ0hXIixhdXRvUGFkOmIsZGlsYXRpb25zOltTXSxncm91cDpBLGtlcm5lbF9zaGFwZTpbUF0scGFkczpbWSxhZV0sc3RyaWRlczpbeWVdLHdJc0NvbnN0OigpPT4hIUhbZGU+Pj4wXSxvdXRwdXRQYWRkaW5nOmdlP0FycmF5LmZyb20oTy5zdWJhcnJheShnZT4+PjAsRWU+Pj4wKSk6W10sb3V0cHV0U2hhcGU6emU/QXJyYXkuZnJvbShPLnN1YmFycmF5KHplPj4+MCx6Pj4+MCkpOltdLGFjdGl2YXRpb246ZXQoX2UpfSl9LDkzNjk3ODoobSxiLFMsQSxQLFksYWUseWUsbGUsZGUsZ2UsRWUsemUseik9PntpLnNhKCJDb252VHJhbnNwb3NlIixtLHtmb3JtYXQ6eWU/Ik5IV0MiOiJOQ0hXIixhdXRvUGFkOmIsZGlsYXRpb25zOkFycmF5LmZyb20oTy5zdWJhcnJheShTPj4+MCwoUz4+PjApKzI+Pj4wKSksZ3JvdXA6QSxrZXJuZWxTaGFwZTpBcnJheS5mcm9tKE8uc3ViYXJyYXkoUD4+PjAsKFA+Pj4wKSsyPj4+MCkpLHBhZHM6QXJyYXkuZnJvbShPLnN1YmFycmF5KFk+Pj4wLChZPj4+MCkrND4+PjApKSxzdHJpZGVzOkFycmF5LmZyb20oTy5zdWJhcnJheShhZT4+PjAsKGFlPj4+MCkrMj4+PjApKSx3SXNDb25zdDooKT0+ISFIW2xlPj4+MF0sb3V0cHV0UGFkZGluZzpkZT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoZGU+Pj4wLGdlPj4+MCkpOltdLG91dHB1dFNoYXBlOkVlP0FycmF5LmZyb20oTy5zdWJhcnJheShFZT4+PjAsemU+Pj4wKSk6W10sYWN0aXZhdGlvbjpldCh6KX0pfSw5Mzc1NDM6KG0sYik9PntpLnNhKCJHbG9iYWxBdmVyYWdlUG9vbCIsbSx7Zm9ybWF0OmI/Ik5IV0MiOiJOQ0hXIn0pfSw5Mzc2MzQ6KG0sYixTLEEsUCxZLGFlLHllLGxlLGRlLGdlLEVlLHplLHosX2UsQWUpPT57aS5zYSgiQXZlcmFnZVBvb2wiLG0se2Zvcm1hdDpBZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOmIsY2VpbF9tb2RlOlMsY291bnRfaW5jbHVkZV9wYWQ6QSxzdG9yYWdlX29yZGVyOlAsZGlsYXRpb25zOltZLGFlXSxrZXJuZWxfc2hhcGU6W3llLGxlXSxwYWRzOltkZSxnZSxFZSx6ZV0sc3RyaWRlczpbeixfZV19KX0sOTM3OTE4OihtLGIpPT57aS5zYSgiR2xvYmFsQXZlcmFnZVBvb2wiLG0se2Zvcm1hdDpiPyJOSFdDIjoiTkNIVyJ9KX0sOTM4MDA5OihtLGIsUyxBLFAsWSxhZSx5ZSxsZSxkZSxnZSxFZSx6ZSx6LF9lLEFlKT0+e2kuc2EoIkF2ZXJhZ2VQb29sIixtLHtmb3JtYXQ6QWU/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDpiLGNlaWxfbW9kZTpTLGNvdW50X2luY2x1ZGVfcGFkOkEsc3RvcmFnZV9vcmRlcjpQLGRpbGF0aW9uczpbWSxhZV0sa2VybmVsX3NoYXBlOlt5ZSxsZV0scGFkczpbZGUsZ2UsRWUsemVdLHN0cmlkZXM6W3osX2VdfSl9LDkzODI5MzoobSxiKT0+e2kuc2EoIkdsb2JhbE1heFBvb2wiLG0se2Zvcm1hdDpiPyJOSFdDIjoiTkNIVyJ9KX0sOTM4MzgwOihtLGIsUyxBLFAsWSxhZSx5ZSxsZSxkZSxnZSxFZSx6ZSx6LF9lLEFlKT0+e2kuc2EoIk1heFBvb2wiLG0se2Zvcm1hdDpBZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOmIsY2VpbF9tb2RlOlMsY291bnRfaW5jbHVkZV9wYWQ6QSxzdG9yYWdlX29yZGVyOlAsZGlsYXRpb25zOltZLGFlXSxrZXJuZWxfc2hhcGU6W3llLGxlXSxwYWRzOltkZSxnZSxFZSx6ZV0sc3RyaWRlczpbeixfZV19KX0sOTM4NjYwOihtLGIpPT57aS5zYSgiR2xvYmFsTWF4UG9vbCIsbSx7Zm9ybWF0OmI/Ik5IV0MiOiJOQ0hXIn0pfSw5Mzg3NDc6KG0sYixTLEEsUCxZLGFlLHllLGxlLGRlLGdlLEVlLHplLHosX2UsQWUpPT57aS5zYSgiTWF4UG9vbCIsbSx7Zm9ybWF0OkFlPyJOSFdDIjoiTkNIVyIsYXV0b19wYWQ6YixjZWlsX21vZGU6Uyxjb3VudF9pbmNsdWRlX3BhZDpBLHN0b3JhZ2Vfb3JkZXI6UCxkaWxhdGlvbnM6W1ksYWVdLGtlcm5lbF9zaGFwZTpbeWUsbGVdLHBhZHM6W2RlLGdlLEVlLHplXSxzdHJpZGVzOlt6LF9lXX0pfSw5MzkwMjc6KG0sYixTLEEsUCk9PntpLnNhKCJHZW1tIixtLHthbHBoYTpiLGJldGE6Uyx0cmFuc0E6QSx0cmFuc0I6UH0pfSw5MzkxMzE6bT0+e2kuc2EoIk1hdE11bCIsbSx2b2lkIDApfSw5MzkxODU6KG0sYixTLEEpPT57aS5zYSgiQXJnTWF4IixtLHtrZWVwRGltczohIWIsc2VsZWN0TGFzdEluZGV4OiEhUyxheGlzOkF9KX0sOTM5MjkzOihtLGIsUyxBKT0+e2kuc2EoIkFyZ01pbiIsbSx7a2VlcERpbXM6ISFiLHNlbGVjdExhc3RJbmRleDohIVMsYXhpczpBfSl9LDkzOTQwMToobSxiKT0+e2kuc2EoIlNvZnRtYXgiLG0se2F4aXM6Yn0pfSw5Mzk0NjQ6KG0sYik9PntpLnNhKCJDb25jYXQiLG0se2F4aXM6Yn0pfSw5Mzk1MjQ6KG0sYixTLEEsUCk9PntpLnNhKCJTcGxpdCIsbSx7YXhpczpiLG51bU91dHB1dHM6UyxzcGxpdFNpemVzOkE/QXJyYXkuZnJvbShPLnN1YmFycmF5KEE+Pj4wLFA+Pj4wKSk6W119KX0sOTM5NjY0Om09PntpLnNhKCJFeHBhbmQiLG0sdm9pZCAwKX0sOTM5NzE4OihtLGIpPT57aS5zYSgiR2F0aGVyIixtLHtheGlzOk51bWJlcihiKX0pfSw5Mzk3ODk6KG0sYik9PntpLnNhKCJHYXRoZXJFbGVtZW50cyIsbSx7YXhpczpOdW1iZXIoYil9KX0sOTM5ODY4OihtLGIsUyxBLFAsWSxhZSx5ZSxsZSxkZSxnZSk9PntpLnNhKCJSZXNpemUiLG0se2FudGlhbGlhczpiLGF4ZXM6Uz9BcnJheS5mcm9tKE8uc3ViYXJyYXkoUz4+PjAsQT4+PjApKTpbXSxjb29yZGluYXRlVHJhbnNmb3JtTW9kZTpldChQKSxjdWJpY0NvZWZmQTpZLGV4Y2x1ZGVPdXRzaWRlOmFlLGV4dHJhcG9sYXRpb25WYWx1ZTp5ZSxrZWVwQXNwZWN0UmF0aW9Qb2xpY3k6ZXQobGUpLG1vZGU6ZXQoZGUpLG5lYXJlc3RNb2RlOmV0KGdlKX0pfSw5NDAyMTQ6KG0sYixTLEEsUCxZLGFlKT0+e2kuc2EoIlNsaWNlIixtLHtzdGFydHM6Yj9BcnJheS5mcm9tKE8uc3ViYXJyYXkoYj4+PjAsUz4+PjApKTpbXSxlbmRzOkE/QXJyYXkuZnJvbShPLnN1YmFycmF5KEE+Pj4wLFA+Pj4wKSk6W10sYXhlczpZP0FycmF5LmZyb20oTy5zdWJhcnJheShZPj4+MCxhZT4+PjApKTpbXX0pfSw5NDA0MzA6bT0+e2kuc2EoIlRpbGUiLG0sdm9pZCAwKX0sOTQwNDgyOihtLGIsUyk9PntpLnNhKCJMYXllck5vcm1hbGl6YXRpb24iLG0se2F4aXM6TnVtYmVyKGIpLGVwc2lsb246TnVtYmVyKFMpfSl9LDk0MDU4OToobSxiLFMpPT57aS5zYSgiSW5zdGFuY2VOb3JtYWxpemF0aW9uIixtLHtlcHNpbG9uOmIsZm9ybWF0OlM/Ik5IV0MiOiJOQ0hXIn0pfSw5NDA3MDM6KG0sYixTKT0+e2kuc2EoIkluc3RhbmNlTm9ybWFsaXphdGlvbiIsbSx7ZXBzaWxvbjpiLGZvcm1hdDpTPyJOSFdDIjoiTkNIVyJ9KX0sOTQwODE3Om09PntpLnNhKCJSYW5nZSIsbSx2b2lkIDApfSw5NDA4NzA6KG0sYik9PntpLnNhKCJFaW5zdW0iLG0se2VxdWF0aW9uOmV0KGIpfSl9LDk0MDk1MToobSxiLFMsQSxQKT0+e2kuc2EoIlBhZCIsbSx7bW9kZTpiLHZhbHVlOlMscGFkczpBP0FycmF5LmZyb20oTy5zdWJhcnJheShBPj4+MCxQPj4+MCkpOltdfSl9LDk0MTA3ODoobSxiLFMsQSxQLFkpPT57aS5zYSgiQmF0Y2hOb3JtYWxpemF0aW9uIixtLHtlcHNpbG9uOmIsbW9tZW50dW06UyxzcGF0aWFsOiEhUCx0cmFpbmluZ01vZGU6ISFBLGZvcm1hdDpZPyJOSFdDIjoiTkNIVyJ9KX0sOTQxMjQ3OihtLGIsUyxBLFAsWSk9PntpLnNhKCJCYXRjaE5vcm1hbGl6YXRpb24iLG0se2Vwc2lsb246Yixtb21lbnR1bTpTLHNwYXRpYWw6ISFQLHRyYWluaW5nTW9kZTohIUEsZm9ybWF0Olk/Ik5IV0MiOiJOQ0hXIn0pfSw5NDE0MTY6KG0sYixTKT0+e2kuc2EoIkN1bVN1bSIsbSx7ZXhjbHVzaXZlOk51bWJlcihiKSxyZXZlcnNlOk51bWJlcihTKX0pfSw5NDE1MTM6KG0sYixTLEEsUCxZLGFlLHllLGxlKT0+e2kuc2EoIkF0dGVudGlvbiIsbSx7bnVtSGVhZHM6Yixpc1VuaWRpcmVjdGlvbmFsOlMsbWFza0ZpbHRlclZhbHVlOkEsc2NhbGU6UCxkb1JvdGFyeTpZLHFrdkhpZGRlblNpemVzOmFlP0FycmF5LmZyb20oTy5zdWJhcnJheShOdW1iZXIoeWUpPj4+MCxOdW1iZXIoeWUpK2FlPj4+MCkpOltdLHBhc3RQcmVzZW50U2hhcmVCdWZmZXI6ISFsZX0pfSw5NDE3ODU6bT0+e2kuc2EoIkdlbHUiLG0sdm9pZCAwKX0sOTQxODM3OihtLGIsUyxBLFAsWSk9PntpLnNhKCJNdWx0aUhlYWRBdHRlbnRpb24iLG0se251bUhlYWRzOmIsaXNVbmlkaXJlY3Rpb25hbDpTLG1hc2tGaWx0ZXJWYWx1ZTpBLHNjYWxlOlAsZG9Sb3Rhcnk6WX0pfSw5NDE5OTY6bT0+e2kuc2EoIkJpYXNBZGQiLG0sdm9pZCAwKX0sOTQyMDUxOm09PntpLnNhKCJCaWFzU3BsaXRHZWx1IixtLHZvaWQgMCl9LDk0MjExMjoobSxiKT0+e2kuc2EoIlNraXBMYXllck5vcm1hbGl6YXRpb24iLG0se2Vwc2lsb246Yn0pfSw5NDIxOTM6KG0sYixTLEEsUCxZLGFlLHllLGxlLGRlLGdlLEVlLHplKT0+e2kuc2EoIkNvbnYiLG0se2Zvcm1hdDpsZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOmIsZGlsYXRpb25zOltTXSxncm91cDpBLGtlcm5lbF9zaGFwZTpbUF0scGFkczpZP0FycmF5LmZyb20oTy5zdWJhcnJheShZPj4+MCxhZT4+PjApKTpbXSxzdHJpZGVzOlt5ZV0sd19pc19jb25zdDooKT0+ISFIW2RlPj4+MF0sYWN0aXZhdGlvbjpldChnZSksYWN0aXZhdGlvbl9wYXJhbXM6RWU/QXJyYXkuZnJvbShuZS5zdWJhcnJheShFZT4+PjAsemU+Pj4wKSk6W119KX0sOTQyNTYzOihtLGIsUyxBLFAsWSxhZSx5ZSxsZSxkZSxnZSxFZSx6ZSx6LF9lLEFlKT0+e2kuc2EoIkNvbnYiLG0se2Zvcm1hdDpFZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOmIsZGlsYXRpb25zOltTLEFdLGdyb3VwOlAsa2VybmVsX3NoYXBlOltZLGFlXSxwYWRzOnllP0FycmF5LmZyb20oTy5zdWJhcnJheSh5ZT4+PjAsbGU+Pj4wKSk6W10sc3RyaWRlczpbZGUsZ2VdLHdfaXNfY29uc3Q6KCk9PiEhSFt6ZT4+PjBdLGFjdGl2YXRpb246ZXQoeiksYWN0aXZhdGlvbl9wYXJhbXM6X2U/QXJyYXkuZnJvbShuZS5zdWJhcnJheShfZT4+PjAsQWU+Pj4wKSk6W119KX0sOTQyOTU0Om09PntpLlRhKG0pfSw5NDI5ODg6KG0sYik9PmkuVWEobSxiLGkuRWEuVmEsaS5FYS5lcnJvcnMpfTtmdW5jdGlvbiBxdChtKXt0aGlzLm5hbWU9IkV4aXRTdGF0dXMiLHRoaXMubWVzc2FnZT1gUHJvZ3JhbSB0ZXJtaW5hdGVkIHdpdGggZXhpdCgke219KWAsdGhpcy5zdGF0dXM9bX1mdW5jdGlvbiBhaShtKXt0aGlzLkphPW0tMjQsdGhpcy5PYT1mdW5jdGlvbihiKXtHW3RoaXMuSmErND4+PjI+Pj4wXT1ifSx0aGlzLk5hPWZ1bmN0aW9uKGIpe0dbdGhpcy5KYSs4Pj4+Mj4+PjBdPWJ9LHRoaXMuJGE9ZnVuY3Rpb24oYixTKXt0aGlzLk1hKCksdGhpcy5PYShiKSx0aGlzLk5hKFMpfSx0aGlzLk1hPWZ1bmN0aW9uKCl7R1t0aGlzLkphKzE2Pj4+Mj4+PjBdPTB9fXZhciBtcj0wLGpuPXR5cGVvZiBUZXh0RGVjb2RlcjwidSI/bmV3IFRleHREZWNvZGVyKCJ1dGY4Iik6dm9pZCAwLEFyPShtLGIsUyk9PntiPj4+PTA7dmFyIEE9YitTO2ZvcihTPWI7bVtTXSYmIShTPj1BKTspKytTO2lmKDE2PFMtYiYmbS5idWZmZXImJmpuKXJldHVybiBqbi5kZWNvZGUobS5zdWJhcnJheShiLFMpKTtmb3IoQT0iIjtiPFM7KXt2YXIgUD1tW2IrK107aWYoUCYxMjgpe3ZhciBZPW1bYisrXSY2MztpZigoUCYyMjQpPT0xOTIpQSs9U3RyaW5nLmZyb21DaGFyQ29kZSgoUCYzMSk8PDZ8WSk7ZWxzZXt2YXIgYWU9bVtiKytdJjYzO1A9KFAmMjQwKT09MjI0PyhQJjE1KTw8MTJ8WTw8NnxhZTooUCY3KTw8MTh8WTw8MTJ8YWU8PDZ8bVtiKytdJjYzLDY1NTM2PlA/QSs9U3RyaW5nLmZyb21DaGFyQ29kZShQKTooUC09NjU1MzYsQSs9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxQPj4xMCw1NjMyMHxQJjEwMjMpKX19ZWxzZSBBKz1TdHJpbmcuZnJvbUNoYXJDb2RlKFApfXJldHVybiBBfSxldD0obSxiKT0+KG0+Pj49MCk/QXIoSyxtLGIpOiIiLFFyPW09Pntmb3IodmFyIGI9MCxTPTA7UzxtLmxlbmd0aDsrK1Mpe3ZhciBBPW0uY2hhckNvZGVBdChTKTsxMjc+PUE/YisrOjIwNDc+PUE/Yis9Mjo1NTI5Njw9QSYmNTczNDM+PUE/KGIrPTQsKytTKTpiKz0zfXJldHVybiBifSxLbj0obSxiLFMsQSk9PntpZihTPj4+PTAsISgwPEEpKXJldHVybiAwO3ZhciBQPVM7QT1TK0EtMTtmb3IodmFyIFk9MDtZPG0ubGVuZ3RoOysrWSl7dmFyIGFlPW0uY2hhckNvZGVBdChZKTtpZig1NTI5Njw9YWUmJjU3MzQzPj1hZSl7dmFyIHllPW0uY2hhckNvZGVBdCgrK1kpO2FlPTY1NTM2KygoYWUmMTAyMyk8PDEwKXx5ZSYxMDIzfWlmKDEyNz49YWUpe2lmKFM+PUEpYnJlYWs7YltTKys+Pj4wXT1hZX1lbHNle2lmKDIwNDc+PWFlKXtpZihTKzE+PUEpYnJlYWs7YltTKys+Pj4wXT0xOTJ8YWU+PjZ9ZWxzZXtpZig2NTUzNT49YWUpe2lmKFMrMj49QSlicmVhaztiW1MrKz4+PjBdPTIyNHxhZT4+MTJ9ZWxzZXtpZihTKzM+PUEpYnJlYWs7YltTKys+Pj4wXT0yNDB8YWU+PjE4LGJbUysrPj4+MF09MTI4fGFlPj4xMiY2M31iW1MrKz4+PjBdPTEyOHxhZT4+NiY2M31iW1MrKz4+PjBdPTEyOHxhZSY2M319cmV0dXJuIGJbUz4+PjBdPTAsUy1QfSxvcj1tPT5tJTQ9PT0wJiYobSUxMDAhPT0wfHxtJTQwMD09PTApLGlpPVswLDMxLDYwLDkxLDEyMSwxNTIsMTgyLDIxMywyNDQsMjc0LDMwNSwzMzVdLGxyPVswLDMxLDU5LDkwLDEyMCwxNTEsMTgxLDIxMiwyNDMsMjczLDMwNCwzMzRdLFpyPW09Pnt2YXIgYj1RcihtKSsxLFM9bm4oYik7cmV0dXJuIFMmJktuKG0sSyxTLGIpLFN9LFRyPVtdLEpyPShtLGIpPT57VHIubGVuZ3RoPTA7Zm9yKHZhciBTO1M9S1ttKys+Pj4wXTspe3ZhciBBPVMhPTEwNTtBJj1TIT0xMTIsYis9QSYmYiU4PzQ6MCxUci5wdXNoKFM9PTExMj9HW2I+Pj4yPj4+MF06Uz09MTA1P09bYj4+PjI+Pj4wXTpxW2I+Pj4zPj4+MF0pLGIrPUE/ODo0fXJldHVybiBUcn0sZW49e30sSnQ9KCk9PntpZighdG4pe3ZhciBtPXtVU0VSOiJ3ZWJfdXNlciIsTE9HTkFNRToid2ViX3VzZXIiLFBBVEg6Ii8iLFBXRDoiLyIsSE9NRToiL2hvbWUvd2ViX3VzZXIiLExBTkc6KHR5cGVvZiBuYXZpZ2F0b3I9PSJvYmplY3QiJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdfHwiQyIpLnJlcGxhY2UoIi0iLCJfIikrIi5VVEYtOCIsXzpkfHwiLi90aGlzLnByb2dyYW0ifSxiO2ZvcihiIGluIGVuKWVuW2JdPT09dm9pZCAwP2RlbGV0ZSBtW2JdOm1bYl09ZW5bYl07dmFyIFM9W107Zm9yKGIgaW4gbSlTLnB1c2goYCR7Yn09JHttW2JdfWApO3RuPVN9cmV0dXJuIHRufSx0bixzaT1bbnVsbCxbXSxbXV0sb3Q9WzMxLDI5LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXSxvaT1bMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO2Z1bmN0aW9uIExlKG0pe3ZhciBiPUFycmF5KFFyKG0pKzEpO3JldHVybiBLbihtLGIsMCxiLmxlbmd0aCksYn1mdW5jdGlvbiBZbihtLGIsUyxBKXtmdW5jdGlvbiBQKHosX2UsQWUpe2Zvcih6PXR5cGVvZiB6PT0ibnVtYmVyIj96LnRvU3RyaW5nKCk6enx8IiI7ei5sZW5ndGg8X2U7KXo9QWVbMF0rejtyZXR1cm4gen1mdW5jdGlvbiBZKHosX2Upe3JldHVybiBQKHosX2UsIjAiKX1mdW5jdGlvbiBhZSh6LF9lKXtmdW5jdGlvbiBBZShtaSl7cmV0dXJuIDA+bWk/LTE6MDxtaT8xOjB9dmFyIHRyO3JldHVybih0cj1BZSh6LmdldEZ1bGxZZWFyKCktX2UuZ2V0RnVsbFllYXIoKSkpPT09MCYmKHRyPUFlKHouZ2V0TW9udGgoKS1fZS5nZXRNb250aCgpKSk9PT0wJiYodHI9QWUoei5nZXREYXRlKCktX2UuZ2V0RGF0ZSgpKSksdHJ9ZnVuY3Rpb24geWUoeil7c3dpdGNoKHouZ2V0RGF5KCkpe2Nhc2UgMDpyZXR1cm4gbmV3IERhdGUoei5nZXRGdWxsWWVhcigpLTEsMTEsMjkpO2Nhc2UgMTpyZXR1cm4gejtjYXNlIDI6cmV0dXJuIG5ldyBEYXRlKHouZ2V0RnVsbFllYXIoKSwwLDMpO2Nhc2UgMzpyZXR1cm4gbmV3IERhdGUoei5nZXRGdWxsWWVhcigpLDAsMik7Y2FzZSA0OnJldHVybiBuZXcgRGF0ZSh6LmdldEZ1bGxZZWFyKCksMCwxKTtjYXNlIDU6cmV0dXJuIG5ldyBEYXRlKHouZ2V0RnVsbFllYXIoKS0xLDExLDMxKTtjYXNlIDY6cmV0dXJuIG5ldyBEYXRlKHouZ2V0RnVsbFllYXIoKS0xLDExLDMwKX19ZnVuY3Rpb24gbGUoeil7dmFyIF9lPXouQ2E7Zm9yKHo9bmV3IERhdGUobmV3IERhdGUoei5EYSsxOTAwLDAsMSkuZ2V0VGltZSgpKTswPF9lOyl7dmFyIEFlPXouZ2V0TW9udGgoKSx0cj0ob3Ioei5nZXRGdWxsWWVhcigpKT9vdDpvaSlbQWVdO2lmKF9lPnRyLXouZ2V0RGF0ZSgpKV9lLT10ci16LmdldERhdGUoKSsxLHouc2V0RGF0ZSgxKSwxMT5BZT96LnNldE1vbnRoKEFlKzEpOih6LnNldE1vbnRoKDApLHouc2V0RnVsbFllYXIoei5nZXRGdWxsWWVhcigpKzEpKTtlbHNle3ouc2V0RGF0ZSh6LmdldERhdGUoKStfZSk7YnJlYWt9fXJldHVybiBBZT1uZXcgRGF0ZSh6LmdldEZ1bGxZZWFyKCkrMSwwLDQpLF9lPXllKG5ldyBEYXRlKHouZ2V0RnVsbFllYXIoKSwwLDQpKSxBZT15ZShBZSksMD49YWUoX2Useik/MD49YWUoQWUseik/ei5nZXRGdWxsWWVhcigpKzE6ei5nZXRGdWxsWWVhcigpOnouZ2V0RnVsbFllYXIoKS0xfW0+Pj49MCxiPj4+PTAsUz4+Pj0wLEE+Pj49MDt2YXIgZGU9R1tBKzQwPj4+Mj4+PjBdO0E9e1lhOk9bQT4+PjI+Pj4wXSxYYTpPW0ErND4+PjI+Pj4wXSxHYTpPW0ErOD4+PjI+Pj4wXSxLYTpPW0ErMTI+Pj4yPj4+MF0sSGE6T1tBKzE2Pj4+Mj4+PjBdLERhOk9bQSsyMD4+PjI+Pj4wXSx4YTpPW0ErMjQ+Pj4yPj4+MF0sQ2E6T1tBKzI4Pj4+Mj4+PjBdLGJiOk9bQSszMj4+PjI+Pj4wXSxXYTpPW0ErMzY+Pj4yPj4+MF0sWmE6ZGU/ZXQoZGUpOiIifSxTPWV0KFMpLGRlPXsiJWMiOiIlYSAlYiAlZCAlSDolTTolUyAlWSIsIiVEIjoiJW0vJWQvJXkiLCIlRiI6IiVZLSVtLSVkIiwiJWgiOiIlYiIsIiVyIjoiJUk6JU06JVMgJXAiLCIlUiI6IiVIOiVNIiwiJVQiOiIlSDolTTolUyIsIiV4IjoiJW0vJWQvJXkiLCIlWCI6IiVIOiVNOiVTIiwiJUVjIjoiJWMiLCIlRUMiOiIlQyIsIiVFeCI6IiVtLyVkLyV5IiwiJUVYIjoiJUg6JU06JVMiLCIlRXkiOiIleSIsIiVFWSI6IiVZIiwiJU9kIjoiJWQiLCIlT2UiOiIlZSIsIiVPSCI6IiVIIiwiJU9JIjoiJUkiLCIlT20iOiIlbSIsIiVPTSI6IiVNIiwiJU9TIjoiJVMiLCIlT3UiOiIldSIsIiVPVSI6IiVVIiwiJU9WIjoiJVYiLCIlT3ciOiIldyIsIiVPVyI6IiVXIiwiJU95IjoiJXkifTtmb3IodmFyIGdlIGluIGRlKVM9Uy5yZXBsYWNlKG5ldyBSZWdFeHAoZ2UsImciKSxkZVtnZV0pO3ZhciBFZT0iU3VuZGF5IE1vbmRheSBUdWVzZGF5IFdlZG5lc2RheSBUaHVyc2RheSBGcmlkYXkgU2F0dXJkYXkiLnNwbGl0KCIgIiksemU9IkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXIiLnNwbGl0KCIgIik7ZGU9eyIlYSI6ej0+RWVbei54YV0uc3Vic3RyaW5nKDAsMyksIiVBIjp6PT5FZVt6LnhhXSwiJWIiOno9PnplW3ouSGFdLnN1YnN0cmluZygwLDMpLCIlQiI6ej0+emVbei5IYV0sIiVDIjp6PT5ZKCh6LkRhKzE5MDApLzEwMHwwLDIpLCIlZCI6ej0+WSh6LkthLDIpLCIlZSI6ej0+UCh6LkthLDIsIiAiKSwiJWciOno9PmxlKHopLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpLCIlRyI6ej0+bGUoeiksIiVIIjp6PT5ZKHouR2EsMiksIiVJIjp6PT4oej16LkdhLHo9PTA/ej0xMjoxMjx6JiYoei09MTIpLFkoeiwyKSksIiVqIjp6PT57Zm9yKHZhciBfZT0wLEFlPTA7QWU8PXouSGEtMTtfZSs9KG9yKHouRGErMTkwMCk/b3Q6b2kpW0FlKytdKTtyZXR1cm4gWSh6LkthK19lLDMpfSwiJW0iOno9Plkoei5IYSsxLDIpLCIlTSI6ej0+WSh6LlhhLDIpLCIlbiI6KCk9PmAKYCwiJXAiOno9PjA8PXouR2EmJjEyPnouR2E/IkFNIjoiUE0iLCIlUyI6ej0+WSh6LllhLDIpLCIldCI6KCk9PiIJIiwiJXUiOno9PnoueGF8fDcsIiVVIjp6PT5ZKE1hdGguZmxvb3IoKHouQ2ErNy16LnhhKS83KSwyKSwiJVYiOno9Pnt2YXIgX2U9TWF0aC5mbG9vcigoei5DYSs3LSh6LnhhKzYpJTcpLzcpO2lmKDI+PSh6LnhhKzM3MS16LkNhLTIpJTcmJl9lKyssX2UpX2U9PTUzJiYoQWU9KHoueGErMzcxLXouQ2EpJTcsQWU9PTR8fEFlPT0zJiZvcih6LkRhKXx8KF9lPTEpKTtlbHNle19lPTUyO3ZhciBBZT0oei54YSs3LXouQ2EtMSklNzsoQWU9PTR8fEFlPT01JiZvcih6LkRhJTQwMC0xKSkmJl9lKyt9cmV0dXJuIFkoX2UsMil9LCIldyI6ej0+ei54YSwiJVciOno9PlkoTWF0aC5mbG9vcigoei5DYSs3LSh6LnhhKzYpJTcpLzcpLDIpLCIleSI6ej0+KHouRGErMTkwMCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMiksIiVZIjp6PT56LkRhKzE5MDAsIiV6Ijp6PT57ej16LldhO3ZhciBfZT0wPD16O3JldHVybiB6PU1hdGguYWJzKHopLzYwLChfZT8iKyI6Ii0iKSsoIjAwMDAiKyh6LzYwKjEwMCt6JTYwKSkuc2xpY2UoLTQpfSwiJVoiOno9PnouWmEsIiUlIjooKT0+IiUifSxTPVMucmVwbGFjZSgvJSUvZywiXDBcMCIpO2ZvcihnZSBpbiBkZSlTLmluY2x1ZGVzKGdlKSYmKFM9Uy5yZXBsYWNlKG5ldyBSZWdFeHAoZ2UsImciKSxkZVtnZV0oQSkpKTtyZXR1cm4gUz1TLnJlcGxhY2UoL1wwXDAvZywiJSIpLGdlPUxlKFMpLGdlLmxlbmd0aD5iPzA6KEguc2V0KGdlLG0+Pj4wKSxnZS5sZW5ndGgtMSl9dmFyIGdyPW09Pnt0cnl7bSgpfWNhdGNoKGIpe0YoYil9fTtmdW5jdGlvbiBYbigpe3ZhciBtPWhlLGI9e307Zm9yKGxldFtTLEFdb2YgT2JqZWN0LmVudHJpZXMobSkpYltTXT10eXBlb2YgQT09ImZ1bmN0aW9uIj9mdW5jdGlvbigpe21lLnB1c2goUyk7dHJ5e3JldHVybiBBLmFwcGx5KG51bGwsYXJndW1lbnRzKX1maW5hbGx5e0J8fChtZS5wb3AoKSxFdCYmZXI9PT0xJiZtZS5sZW5ndGg9PT0wJiYoZXI9MCxncihzYSksdHlwZW9mIEZpYmVyczwidSImJkZpYmVycy5jYigpKSl9fTpBO3JldHVybiBifXZhciBlcj0wLEV0PW51bGwsbGk9MCxtZT1bXSxPcj17fSxRbj17fSxvbz0wLHJuPW51bGwsdWk9W107ZnVuY3Rpb24gZGkoKXtyZXR1cm4gbmV3IFByb21pc2UoKG0sYik9Pntybj17cmVzb2x2ZTptLHJlamVjdDpifX0pfWZ1bmN0aW9uIGNpKCl7dmFyIG09bm4oNjU1NDgpLGI9bSsxMjtHW20+Pj4yPj4+MF09YixHW20rND4+PjI+Pj4wXT1iKzY1NTM2LGI9bWVbMF07dmFyIFM9T3JbYl07cmV0dXJuIFM9PT12b2lkIDAmJihTPW9vKyssT3JbYl09UyxRbltTXT1iKSxPW20rOD4+PjI+Pj4wXT1TLG19ZnVuY3Rpb24gcGkobSl7aWYoIUIpe2lmKGVyPT09MCl7dmFyIGI9ITEsUz0hMTttKChBPTApPT57aWYoIUImJihsaT1BLGI9ITAsUykpe2VyPTIsZ3IoKCk9Pm9hKEV0KSksdHlwZW9mIEJyb3dzZXI8InUiJiZCcm93c2VyLklhLlBhJiZCcm93c2VyLklhLnJlc3VtZSgpLEE9ITE7dHJ5e3ZhciBQPSgwLGhlW1FuW09bRXQrOD4+PjI+Pj4wXV1dKSgpfWNhdGNoKHllKXtQPXllLEE9ITB9dmFyIFk9ITE7aWYoIUV0KXt2YXIgYWU9cm47YWUmJihybj1udWxsLChBP2FlLnJlamVjdDphZS5yZXNvbHZlKShQKSxZPSEwKX1pZihBJiYhWSl0aHJvdyBQfX0pLFM9ITAsYnx8KGVyPTEsRXQ9Y2koKSx0eXBlb2YgQnJvd3NlcjwidSImJkJyb3dzZXIuSWEuUGEmJkJyb3dzZXIuSWEucGF1c2UoKSxncigoKT0+aWEoRXQpKSl9ZWxzZSBlcj09PTI/KGVyPTAsZ3IobGEpLGVhKEV0KSxFdD1udWxsLHVpLmZvckVhY2goQT0+e2lmKCFCKXRyeXtBKCk7dHJ5e1U9VT1BPVUsaS5vbkV4aXQ/LihBKSxCPSEwLGMoQSxuZXcgcXQoQSkpfWNhdGNoKFApe1AgaW5zdGFuY2VvZiBxdHx8UD09InVud2luZCJ8fGMoMSxQKX19Y2F0Y2goUCl7UCBpbnN0YW5jZW9mIHF0fHxQPT0idW53aW5kInx8YygxLFApfX0pKTpGKGBpbnZhbGlkIHN0YXRlOiAke2VyfWApO3JldHVybiBsaX19ZnVuY3Rpb24gWm4obSl7cmV0dXJuIHBpKGI9PnttKCkudGhlbihiKX0pfXZhciBoaT17bjpmdW5jdGlvbihtLGIsUyl7cmV0dXJuIFpuKGFzeW5jKCk9Pnthd2FpdCBpLlJhKG0sYixTKX0pfSxhOmZ1bmN0aW9uKG0sYixTKXt0aHJvdyBtPj4+PTAsbmV3IGFpKG0pLiRhKGI+Pj4wLFM+Pj4wKSxtcj1tLG1yfSxnOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LEo6ZnVuY3Rpb24oKXt9LEE6ZnVuY3Rpb24oKXt9LEM6ZnVuY3Rpb24oKXt9LEw6ZnVuY3Rpb24oKXtyZXR1cm4gMH0sSDpmdW5jdGlvbigpe30sRDpmdW5jdGlvbigpe30sRzpmdW5jdGlvbigpe30sbDpmdW5jdGlvbigpe30sQjpmdW5jdGlvbigpe30seTpmdW5jdGlvbigpe30sSTpmdW5jdGlvbigpe30sejpmdW5jdGlvbigpe30sbTooKT0+MSxxOmZ1bmN0aW9uKG0sYixTKXttPWIrMjA5NzE1Mj4+PjA8NDE5NDMwNS0hIW0/KG0+Pj4wKSs0Mjk0OTY3Mjk2KmI6TmFOLFM+Pj49MCxtPW5ldyBEYXRlKDFlMyptKSxPW1M+Pj4yPj4+MF09bS5nZXRVVENTZWNvbmRzKCksT1tTKzQ+Pj4yPj4+MF09bS5nZXRVVENNaW51dGVzKCksT1tTKzg+Pj4yPj4+MF09bS5nZXRVVENIb3VycygpLE9bUysxMj4+PjI+Pj4wXT1tLmdldFVUQ0RhdGUoKSxPW1MrMTY+Pj4yPj4+MF09bS5nZXRVVENNb250aCgpLE9bUysyMD4+PjI+Pj4wXT1tLmdldFVUQ0Z1bGxZZWFyKCktMTkwMCxPW1MrMjQ+Pj4yPj4+MF09bS5nZXRVVENEYXkoKSxPW1MrMjg+Pj4yPj4+MF09KG0uZ2V0VGltZSgpLURhdGUuVVRDKG0uZ2V0VVRDRnVsbFllYXIoKSwwLDEsMCwwLDAsMCkpLzg2NGU1fDB9LHI6ZnVuY3Rpb24obSxiLFMpe209YisyMDk3MTUyPj4+MDw0MTk0MzA1LSEhbT8obT4+PjApKzQyOTQ5NjcyOTYqYjpOYU4sUz4+Pj0wLG09bmV3IERhdGUoMWUzKm0pLE9bUz4+PjI+Pj4wXT1tLmdldFNlY29uZHMoKSxPW1MrND4+PjI+Pj4wXT1tLmdldE1pbnV0ZXMoKSxPW1MrOD4+PjI+Pj4wXT1tLmdldEhvdXJzKCksT1tTKzEyPj4+Mj4+PjBdPW0uZ2V0RGF0ZSgpLE9bUysxNj4+PjI+Pj4wXT1tLmdldE1vbnRoKCksT1tTKzIwPj4+Mj4+PjBdPW0uZ2V0RnVsbFllYXIoKS0xOTAwLE9bUysyND4+PjI+Pj4wXT1tLmdldERheSgpLE9bUysyOD4+PjI+Pj4wXT0ob3IobS5nZXRGdWxsWWVhcigpKT9paTpscilbbS5nZXRNb250aCgpXSttLmdldERhdGUoKS0xfDAsT1tTKzM2Pj4+Mj4+PjBdPS0oNjAqbS5nZXRUaW1lem9uZU9mZnNldCgpKSxiPW5ldyBEYXRlKG0uZ2V0RnVsbFllYXIoKSw2LDEpLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIEE9bmV3IERhdGUobS5nZXRGdWxsWWVhcigpLDAsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtPW1MrMzI+Pj4yPj4+MF09KGIhPUEmJm0uZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4oQSxiKSl8MH0sczpmdW5jdGlvbihtKXttPj4+PTA7dmFyIGI9bmV3IERhdGUoT1ttKzIwPj4+Mj4+PjBdKzE5MDAsT1ttKzE2Pj4+Mj4+PjBdLE9bbSsxMj4+PjI+Pj4wXSxPW20rOD4+PjI+Pj4wXSxPW20rND4+PjI+Pj4wXSxPW20+Pj4yPj4+MF0sMCksUz1PW20rMzI+Pj4yPj4+MF0sQT1iLmdldFRpbWV6b25lT2Zmc2V0KCksUD1uZXcgRGF0ZShiLmdldEZ1bGxZZWFyKCksNiwxKS5nZXRUaW1lem9uZU9mZnNldCgpLFk9bmV3IERhdGUoYi5nZXRGdWxsWWVhcigpLDAsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxhZT1NYXRoLm1pbihZLFApO3JldHVybiAwPlM/T1ttKzMyPj4+Mj4+PjBdPSsoUCE9WSYmYWU9PUEpOjA8UyE9KGFlPT1BKSYmKFA9TWF0aC5tYXgoWSxQKSxiLnNldFRpbWUoYi5nZXRUaW1lKCkrNmU0KigoMDxTP2FlOlApLUEpKSksT1ttKzI0Pj4+Mj4+PjBdPWIuZ2V0RGF5KCksT1ttKzI4Pj4+Mj4+PjBdPShvcihiLmdldEZ1bGxZZWFyKCkpP2lpOmxyKVtiLmdldE1vbnRoKCldK2IuZ2V0RGF0ZSgpLTF8MCxPW20+Pj4yPj4+MF09Yi5nZXRTZWNvbmRzKCksT1ttKzQ+Pj4yPj4+MF09Yi5nZXRNaW51dGVzKCksT1ttKzg+Pj4yPj4+MF09Yi5nZXRIb3VycygpLE9bbSsxMj4+PjI+Pj4wXT1iLmdldERhdGUoKSxPW20rMTY+Pj4yPj4+MF09Yi5nZXRNb250aCgpLE9bbSsyMD4+PjI+Pj4wXT1iLmdldFllYXIoKSxtPWIuZ2V0VGltZSgpLGlzTmFOKG0pPyhPW0puKCk+Pj4yPj4+MF09NjEsbT0tMSk6bS89MWUzLHRhKChNdD1tLDE8PStNYXRoLmFicyhNdCk/MDxNdD8rTWF0aC5mbG9vcihNdC80Mjk0OTY3Mjk2KT4+PjA6fn4rTWF0aC5jZWlsKChNdC0rKH5+TXQ+Pj4wKSkvNDI5NDk2NzI5Nik+Pj4wOjApKSxtPj4+MH0sbzpmdW5jdGlvbigpe3JldHVybi01Mn0scDpmdW5jdGlvbigpe30sdzpmdW5jdGlvbihtLGIsUyl7ZnVuY3Rpb24gQShsZSl7cmV0dXJuKGxlPWxlLnRvVGltZVN0cmluZygpLm1hdGNoKC9cKChbQS1aYS16IF0rKVwpJC8pKT9sZVsxXToiR01UIn1TPj4+PTA7dmFyIFA9bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLFk9bmV3IERhdGUoUCwwLDEpLGFlPW5ldyBEYXRlKFAsNiwxKTtQPVkuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgeWU9YWUuZ2V0VGltZXpvbmVPZmZzZXQoKTtHW20+Pj4wPj4+Mj4+PjBdPTYwKk1hdGgubWF4KFAseWUpLE9bYj4+PjA+Pj4yPj4+MF09KyhQIT15ZSksbT1BKFkpLGI9QShhZSksbT1acihtKSxiPVpyKGIpLHllPFA/KEdbUz4+PjI+Pj4wXT1tLEdbUys0Pj4+Mj4+PjBdPWIpOihHW1M+Pj4yPj4+MF09YixHW1MrND4+PjI+Pj4wXT1tKX0sZTooKT0+e0YoIiIpfSxiOmZ1bmN0aW9uKG0sYixTKXtyZXR1cm4gbT4+Pj0wLGI9SnIoYj4+PjAsUz4+PjApLHp0W21dLmFwcGx5KG51bGwsYil9LGk6ZnVuY3Rpb24obSxiLFMpe3JldHVybiBtPj4+PTAsYj1KcihiPj4+MCxTPj4+MCksenRbbV0uYXBwbHkobnVsbCxiKX0saDooKT0+RGF0ZS5ub3coKSx4OmZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5MDE3NjB9LGM6KCk9PnBlcmZvcm1hbmNlLm5vdygpLEs6ZnVuY3Rpb24obSxiLFMpe3JldHVybiBiPj4+PTAsSy5jb3B5V2l0aGluKG0+Pj4wPj4+MCxiPj4+MCxiKyhTPj4+MCk+Pj4wKX0sdTpmdW5jdGlvbihtKXttPj4+PTA7dmFyIGI9Sy5sZW5ndGg7aWYoNDI5NDkwMTc2MDxtKXJldHVybiExO2Zvcih2YXIgUz0xOzQ+PVM7Uyo9Mil7dmFyIEE9YiooMSsuMi9TKTtBPU1hdGgubWluKEEsbSsxMDA2NjMyOTYpO3ZhciBQPU1hdGg7QT1NYXRoLm1heChtLEEpO2U6e1A9KFAubWluLmNhbGwoUCw0Mjk0OTAxNzYwLEErKDY1NTM2LUElNjU1MzYpJTY1NTM2KS1ULmJ1ZmZlci5ieXRlTGVuZ3RoKzY1NTM1KS82NTUzNjt0cnl7VC5ncm93KFApLEQoKTt2YXIgWT0xO2JyZWFrIGV9Y2F0Y2h7fVk9dm9pZCAwfWlmKFkpcmV0dXJuITB9cmV0dXJuITF9LEU6ZnVuY3Rpb24obSxiKXttPj4+PTAsYj4+Pj0wO3ZhciBTPTA7cmV0dXJuIEp0KCkuZm9yRWFjaCgoQSxQKT0+e3ZhciBZPWIrUztmb3IoUD1HW20rNCpQPj4+Mj4+PjBdPVksWT0wO1k8QS5sZW5ndGg7KytZKUhbUCsrPj4+MD4+PjBdPUEuY2hhckNvZGVBdChZKTtIW1A+Pj4wPj4+MF09MCxTKz1BLmxlbmd0aCsxfSksMH0sRjpmdW5jdGlvbihtLGIpe20+Pj49MCxiPj4+PTA7dmFyIFM9SnQoKTtHW20+Pj4yPj4+MF09Uy5sZW5ndGg7dmFyIEE9MDtyZXR1cm4gUy5mb3JFYWNoKFA9PkErPVAubGVuZ3RoKzEpLEdbYj4+PjI+Pj4wXT1BLDB9LGY6KCk9PjUyLGs6ZnVuY3Rpb24oKXtyZXR1cm4gNTJ9LHQ6ZnVuY3Rpb24oKXtyZXR1cm4gNzB9LGo6ZnVuY3Rpb24obSxiLFMsQSl7Yj4+Pj0wLFM+Pj49MCxBPj4+PTA7Zm9yKHZhciBQPTAsWT0wO1k8UztZKyspe3ZhciBhZT1HW2I+Pj4yPj4+MF0seWU9R1tiKzQ+Pj4yPj4+MF07Yis9ODtmb3IodmFyIGxlPTA7bGU8eWU7bGUrKyl7dmFyIGRlPUtbYWUrbGU+Pj4wXSxnZT1zaVttXTtkZT09PTB8fGRlPT09MTA/KChtPT09MT94OkkpKEFyKGdlLDApKSxnZS5sZW5ndGg9MCk6Z2UucHVzaChkZSl9UCs9eWV9cmV0dXJuIEdbQT4+PjI+Pj4wXT1QLDB9LHY6WW4sZDpmdW5jdGlvbihtLGIsUyxBKXtyZXR1cm4gWW4obT4+PjAsYj4+PjAsUz4+PjAsQT4+PjApfX0saGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBtKFMpe3JldHVybiBoZT1TLmV4cG9ydHMsaGU9WG4oKSxoZT1maSgpLFQ9aGUuTSxEKCksVi51bnNoaWZ0KGhlLk4pLFgtLSxYPT0wJiZ1ZSYmKFM9dWUsdWU9bnVsbCxTKCkpLGhlfXZhciBiPXthOmhpfTtpZihYKyssaS5pbnN0YW50aWF0ZVdhc20pdHJ5e3JldHVybiBpLmluc3RhbnRpYXRlV2FzbShiLG0pfWNhdGNoKFMpe0koYE1vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6ICR7U31gKSxvKFMpfXJldHVybiBIZShiLGZ1bmN0aW9uKFMpe20oUy5pbnN0YW5jZSl9KS5jYXRjaChvKSx7fX0oKTtpLl9PcnRJbml0PShtLGIpPT4oaS5fT3J0SW5pdD1oZS5PKShtLGIpLGkuX09ydEdldExhc3RFcnJvcj0obSxiKT0+KGkuX09ydEdldExhc3RFcnJvcj1oZS5QKShtLGIpLGkuX09ydENyZWF0ZVNlc3Npb25PcHRpb25zPShtLGIsUyxBLFAsWSxhZSx5ZSxsZSxkZSk9PihpLl9PcnRDcmVhdGVTZXNzaW9uT3B0aW9ucz1oZS5RKShtLGIsUyxBLFAsWSxhZSx5ZSxsZSxkZSksaS5fT3J0QXBwZW5kRXhlY3V0aW9uUHJvdmlkZXI9KG0sYik9PihpLl9PcnRBcHBlbmRFeGVjdXRpb25Qcm92aWRlcj1oZS5SKShtLGIpLGkuX09ydEFkZEZyZWVEaW1lbnNpb25PdmVycmlkZT0obSxiLFMpPT4oaS5fT3J0QWRkRnJlZURpbWVuc2lvbk92ZXJyaWRlPWhlLlMpKG0sYixTKSxpLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnk9KG0sYixTKT0+KGkuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeT1oZS5UKShtLGIsUyksaS5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zPW09PihpLl9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnM9aGUuVSkobSksaS5fT3J0Q3JlYXRlU2Vzc2lvbj0obSxiLFMpPT4oaS5fT3J0Q3JlYXRlU2Vzc2lvbj1oZS5WKShtLGIsUyksaS5fT3J0UmVsZWFzZVNlc3Npb249bT0+KGkuX09ydFJlbGVhc2VTZXNzaW9uPWhlLlcpKG0pLGkuX09ydEdldElucHV0T3V0cHV0Q291bnQ9KG0sYixTKT0+KGkuX09ydEdldElucHV0T3V0cHV0Q291bnQ9aGUuWCkobSxiLFMpLGkuX09ydEdldElucHV0TmFtZT0obSxiKT0+KGkuX09ydEdldElucHV0TmFtZT1oZS5ZKShtLGIpLGkuX09ydEdldE91dHB1dE5hbWU9KG0sYik9PihpLl9PcnRHZXRPdXRwdXROYW1lPWhlLlopKG0sYiksaS5fT3J0RnJlZT1tPT4oaS5fT3J0RnJlZT1oZS5fKShtKSxpLl9PcnRDcmVhdGVUZW5zb3I9KG0sYixTLEEsUCxZKT0+KGkuX09ydENyZWF0ZVRlbnNvcj1oZS4kKShtLGIsUyxBLFAsWSksaS5fT3J0R2V0VGVuc29yRGF0YT0obSxiLFMsQSxQKT0+KGkuX09ydEdldFRlbnNvckRhdGE9aGUuYWEpKG0sYixTLEEsUCksaS5fT3J0UmVsZWFzZVRlbnNvcj1tPT4oaS5fT3J0UmVsZWFzZVRlbnNvcj1oZS5iYSkobSksaS5fT3J0Q3JlYXRlUnVuT3B0aW9ucz0obSxiLFMsQSk9PihpLl9PcnRDcmVhdGVSdW5PcHRpb25zPWhlLmNhKShtLGIsUyxBKSxpLl9PcnRBZGRSdW5Db25maWdFbnRyeT0obSxiLFMpPT4oaS5fT3J0QWRkUnVuQ29uZmlnRW50cnk9aGUuZGEpKG0sYixTKSxpLl9PcnRSZWxlYXNlUnVuT3B0aW9ucz1tPT4oaS5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9aGUuZWEpKG0pLGkuX09ydENyZWF0ZUJpbmRpbmc9bT0+KGkuX09ydENyZWF0ZUJpbmRpbmc9aGUuZmEpKG0pLGkuX09ydEJpbmRJbnB1dD0obSxiLFMpPT4oaS5fT3J0QmluZElucHV0PWhlLmdhKShtLGIsUyksaS5fT3J0QmluZE91dHB1dD0obSxiLFMsQSk9PihpLl9PcnRCaW5kT3V0cHV0PWhlLmhhKShtLGIsUyxBKSxpLl9PcnRDbGVhckJvdW5kT3V0cHV0cz1tPT4oaS5fT3J0Q2xlYXJCb3VuZE91dHB1dHM9aGUuaWEpKG0pLGkuX09ydFJlbGVhc2VCaW5kaW5nPW09PihpLl9PcnRSZWxlYXNlQmluZGluZz1oZS5qYSkobSksaS5fT3J0UnVuV2l0aEJpbmRpbmc9KG0sYixTLEEsUCk9PihpLl9PcnRSdW5XaXRoQmluZGluZz1oZS5rYSkobSxiLFMsQSxQKSxpLl9PcnRSdW49KG0sYixTLEEsUCxZLGFlLHllKT0+KGkuX09ydFJ1bj1oZS5sYSkobSxiLFMsQSxQLFksYWUseWUpLGkuX09ydEVuZFByb2ZpbGluZz1tPT4oaS5fT3J0RW5kUHJvZmlsaW5nPWhlLm1hKShtKSxpLl9Kc2VwT3V0cHV0PShtLGIsUyk9PihpLl9Kc2VwT3V0cHV0PWhlLm5hKShtLGIsUyksaS5fSnNlcEdldE5vZGVOYW1lPW09PihpLl9Kc2VwR2V0Tm9kZU5hbWU9aGUub2EpKG0pO3ZhciBKbj0oKT0+KEpuPWhlLnBhKSgpLG5uPWkuX21hbGxvYz1tPT4obm49aS5fbWFsbG9jPWhlLnFhKShtKSxlYT1pLl9mcmVlPW09PihlYT1pLl9mcmVlPWhlLnJhKShtKSx0YT1tPT4odGE9aGUudGEpKG0pLHJhPSgpPT4ocmE9aGUudWEpKCksbmE9bT0+KG5hPWhlLnZhKShtKSxhYT1tPT4oYWE9aGUud2EpKG0pLGlhPW09PihpYT1oZS55YSkobSksc2E9KCk9PihzYT1oZS56YSkoKSxvYT1tPT4ob2E9aGUuQWEpKG0pLGxhPSgpPT4obGE9aGUuQmEpKCk7aS5fX19zdGFydF9lbV9qcz05NDMxMDAsaS5fX19zdG9wX2VtX2pzPTk0MzI2MTtmdW5jdGlvbiBmaSgpe3ZhciBtPWhlO209T2JqZWN0LmFzc2lnbih7fSxtKTt2YXIgYj1BPT4oKT0+QSgpPj4+MCxTPUE9PlA9PkEoUCk+Pj4wO3JldHVybiBtLnBhPWIobS5wYSksbS5xYT1TKG0ucWEpLG0udWE9YihtLnVhKSxtLndhPVMobS53YSksbX1pLnN0YWNrQWxsb2M9YWEsaS5zdGFja1NhdmU9cmEsaS5zdGFja1Jlc3RvcmU9bmEsaS5VVEY4VG9TdHJpbmc9ZXQsaS5zdHJpbmdUb1VURjg9KG0sYixTKT0+S24obSxLLGIsUyksaS5sZW5ndGhCeXRlc1VURjg9UXI7dmFyIF9yO3VlPWZ1bmN0aW9uIG0oKXtfcnx8TXIoKSxfcnx8KHVlPW0pfTtmdW5jdGlvbiBNcigpe2lmKCEoMDxYKSl7aWYoaS5wcmVSdW4pZm9yKHR5cGVvZiBpLnByZVJ1bj09ImZ1bmN0aW9uIiYmKGkucHJlUnVuPVtpLnByZVJ1bl0pO2kucHJlUnVuLmxlbmd0aDspe3ZhciBtPWkucHJlUnVuLnNoaWZ0KCk7TC51bnNoaWZ0KG0pfWZvcig7MDxMLmxlbmd0aDspTC5zaGlmdCgpKGkpO2lmKCEoMDxYfHxfcnx8KF9yPSEwLGkuY2FsbGVkUnVuPSEwLEIpKSl7Zm9yKDswPFYubGVuZ3RoOylWLnNoaWZ0KCkoaSk7Zm9yKHMoaSk7MDx0ZS5sZW5ndGg7KXRlLnNoaWZ0KCkoaSl9fX1yZXR1cm4gTXIoKSxhLnJlYWR5fX0pKCk7dHlwZW9mIHQ9PSJvYmplY3QiJiZ0eXBlb2YgZT09Im9iamVjdCI/ZS5leHBvcnRzPXI6dHlwZW9mIGRlZmluZT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZCYmZGVmaW5lKFtdLCgpPT5yKX0pLFhnPVByKCgpPT57fSksUWc9UHIoKCk9Pnt9KSxZbz17fTtOcihZbyx7Y3B1czooKT0+WG99KTt2YXIgWG8sWmc9USgoKT0+e1hvPXZvaWQgMH0pLEpnPVByKCh0LGUpPT57dmFyIHI9KCgpPT57dmFyIG49dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdD9kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYzp2b2lkIDA7cmV0dXJuIHR5cGVvZiBfX2ZpbGVuYW1lPCJ1IiYmKG49bnx8X19maWxlbmFtZSksZnVuY3Rpb24oYT17fSl7ZnVuY3Rpb24gaSgpe3JldHVybiBMLmJ1ZmZlciE9dWUuYnVmZmVyJiZWZSgpLHVlfWZ1bmN0aW9uIHMoKXtyZXR1cm4gTC5idWZmZXIhPXVlLmJ1ZmZlciYmVmUoKSxGfWZ1bmN0aW9uIG8oKXtyZXR1cm4gTC5idWZmZXIhPXVlLmJ1ZmZlciYmVmUoKSxvZX1mdW5jdGlvbiBsKCl7cmV0dXJuIEwuYnVmZmVyIT11ZS5idWZmZXImJlZlKCksJGV9ZnVuY3Rpb24gZCgpe3JldHVybiBMLmJ1ZmZlciE9dWUuYnVmZmVyJiZWZSgpLFVlfWZ1bmN0aW9uIGMoKXtyZXR1cm4gTC5idWZmZXIhPXVlLmJ1ZmZlciYmVmUoKSxEZX12YXIgdT1hLGgsZjt1LnJlYWR5PW5ldyBQcm9taXNlKChwLF8pPT57aD1wLGY9X30pLHUubW91bnRFeHRlcm5hbERhdGE9KHAsXyk9PnsodS5jYnx8KHUuY2I9bmV3IE1hcCkpLnNldChwLF8pfSx1LnVubW91bnRFeHRlcm5hbERhdGE9KCk9PntkZWxldGUgdS5jYn0sdS5qc2VwSW5pdD0ocCxfLCQsQyxNLFcsaixmZSk9Pnt1Lk1iPXAsdS53Yj1fLHUueWI9JCx1LmtiPUMsdS54Yj1NLHUuRWE9Vyx1LnpiPWosdS5BYj1mZSxfPShjZSxwZSx3ZSk9PiguLi5NZSk9PntsZXQgTmU9cnIsUj1wZT8uKCk7TWU9Y2UoLi4uTWUpO2xldCBiZT1wZT8uKCk7cmV0dXJuIFIhPT1iZSYmKGNlPWJlLHdlKFIpLHBlPXdlPW51bGwpLHJyIT1OZT9SMygpOk1lfSwkPWNlPT5hc3luYyguLi5wZSk9Pnt0cnl7aWYodS5iYil0aHJvdyBFcnJvcigiU2Vzc2lvbiBhbHJlYWR5IHN0YXJ0ZWQiKTtsZXQgd2U9dS5iYj17Q2I6cGVbMF0sZXJyb3JzOltdfSxNZT1hd2FpdCBjZSguLi5wZSk7aWYodS5iYiE9PXdlKXRocm93IEVycm9yKCJTZXNzaW9uIG1pc21hdGNoIik7cC5mbHVzaCgpO2xldCBOZT13ZS5lcnJvcnM7aWYoMDxOZS5sZW5ndGgpe2xldCBSPWF3YWl0IFByb21pc2UuYWxsKE5lKTtpZihSPVIuZmlsdGVyKGJlPT5iZSksMDxSLmxlbmd0aCl0aHJvdyBFcnJvcihSLmpvaW4oYApgKSl9cmV0dXJuIE1lfWZpbmFsbHl7dS5iYj1udWxsfX0sdS5fT3J0UnVuPSQoXyh1Ll9PcnRSdW4sKCk9PnUuX09ydFJ1bixjZT0+dS5fT3J0UnVuPWNlKSksdS5fT3J0UnVuV2l0aEJpbmRpbmc9JChfKHUuX09ydFJ1bldpdGhCaW5kaW5nLCgpPT51Ll9PcnRSdW5XaXRoQmluZGluZyxjZT0+dS5fT3J0UnVuV2l0aEJpbmRpbmc9Y2UpKSx1Ll9PcnRCaW5kSW5wdXQ9Xyh1Ll9PcnRCaW5kSW5wdXQsKCk9PnUuX09ydEJpbmRJbnB1dCxjZT0+dS5fT3J0QmluZElucHV0PWNlKSx1LmpzZXBSZWdpc3RlckJ1ZmZlcj0oY2UscGUsd2UsTWUpPT5wLnJlZ2lzdGVyQnVmZmVyKGNlLHBlLHdlLE1lKSx1LmpzZXBVbnJlZ2lzdGVyQnVmZmVycz1jZT0+e3AudW5yZWdpc3RlckJ1ZmZlcnMoY2UpfSx1LmpzZXBHZXRCdWZmZXI9Y2U9PnAuZ2V0QnVmZmVyKGNlKSx1LmpzZXBDcmVhdGVEb3dubG9hZGVyPShjZSxwZSx3ZSk9PnAuY3JlYXRlRG93bmxvYWRlcihjZSxwZSx3ZSl9O3ZhciBnPU9iamVjdC5hc3NpZ24oe30sdSkseT0iLi90aGlzLnByb2dyYW0iLHc9KHAsXyk9Pnt0aHJvdyBffSx2PXR5cGVvZiB3aW5kb3c9PSJvYmplY3QiLGs9dHlwZW9mIGltcG9ydFNjcmlwdHM9PSJmdW5jdGlvbiIsRT10eXBlb2YgcHJvY2Vzcz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zPT0ib2JqZWN0IiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZT09InN0cmluZyIseD11LkVOVklST05NRU5UX0lTX1BUSFJFQUR8fCExLEk9IiI7ZnVuY3Rpb24gVChwKXtyZXR1cm4gdS5sb2NhdGVGaWxlP3UubG9jYXRlRmlsZShwLEkpOkkrcH12YXIgQixVLEg7aWYoRSl7dmFyIEs9KHFvKCksd3IoTmkpKSxPPShLbygpLHdyKFVpKSk7ST1rP08uZGlybmFtZShJKSsiLyI6X19kaXJuYW1lKyIvIixCPShfLCQpPT4oXz1BcihfKT9uZXcgVVJMKF8pOk8ubm9ybWFsaXplKF8pLEsucmVhZEZpbGVTeW5jKF8sJD92b2lkIDA6InV0ZjgiKSksSD1fPT4oXz1CKF8sITApLF8uYnVmZmVyfHwoXz1uZXcgVWludDhBcnJheShfKSksXyksVT0oXywkLEMsTT0hMCk9PntfPUFyKF8pP25ldyBVUkwoXyk6Ty5ub3JtYWxpemUoXyksSy5yZWFkRmlsZShfLE0/dm9pZCAwOiJ1dGY4IiwoVyxqKT0+e1c/QyhXKTokKE0/ai5idWZmZXI6ail9KX0sIXUudGhpc1Byb2dyYW0mJjE8cHJvY2Vzcy5hcmd2Lmxlbmd0aCYmKHk9cHJvY2Vzcy5hcmd2WzFdLnJlcGxhY2UoL1xcL2csIi8iKSkscHJvY2Vzcy5hcmd2LnNsaWNlKDIpLHc9KF8sJCk9Pnt0aHJvdyBwcm9jZXNzLmV4aXRDb2RlPV8sJH0sdS5pbnNwZWN0PSgpPT4iW0Vtc2NyaXB0ZW4gTW9kdWxlIG9iamVjdF0iO2xldCBwO3RyeXtwPVhnKCl9Y2F0Y2goXyl7dGhyb3cgY29uc29sZS5lcnJvcignVGhlICJ3b3JrZXJfdGhyZWFkcyIgbW9kdWxlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBub2RlLmpzIGJ1aWxkIC0gcGVyaGFwcyBhIG5ld2VyIHZlcnNpb24gaXMgbmVlZGVkPycpLF99Z2xvYmFsLldvcmtlcj1wLldvcmtlcn1lbHNlKHZ8fGspJiYoaz9JPXNlbGYubG9jYXRpb24uaHJlZjp0eXBlb2YgZG9jdW1lbnQ8InUiJiZkb2N1bWVudC5jdXJyZW50U2NyaXB0JiYoST1kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYyksdHlwZW9mIG48InUiJiZuJiYoST1uKSxJLmluZGV4T2YoImJsb2I6IikhPT0wP0k9SS5zdWJzdHIoMCxJLnJlcGxhY2UoL1s/I10uKi8sIiIpLmxhc3RJbmRleE9mKCIvIikrMSk6ST0iIixFfHwoQj1wPT57dmFyIF89bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBfLm9wZW4oIkdFVCIscCwhMSksXy5zZW5kKG51bGwpLF8ucmVzcG9uc2VUZXh0fSxrJiYoSD1wPT57dmFyIF89bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBfLm9wZW4oIkdFVCIscCwhMSksXy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixfLnNlbmQobnVsbCksbmV3IFVpbnQ4QXJyYXkoXy5yZXNwb25zZSl9KSxVPShwLF8sJCk9Pnt2YXIgQz1uZXcgWE1MSHR0cFJlcXVlc3Q7Qy5vcGVuKCJHRVQiLHAsITApLEMucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsQy5vbmxvYWQ9KCk9PntDLnN0YXR1cz09MjAwfHxDLnN0YXR1cz09MCYmQy5yZXNwb25zZT9fKEMucmVzcG9uc2UpOiQoKX0sQy5vbmVycm9yPSQsQy5zZW5kKG51bGwpfSkpO0UmJnR5cGVvZiBwZXJmb3JtYW5jZT4idSImJihnbG9iYWwucGVyZm9ybWFuY2U9UWcoKS5wZXJmb3JtYW5jZSk7dmFyIEc9Y29uc29sZS5sb2cuYmluZChjb25zb2xlKSxuZT1jb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSk7RSYmKEc9KC4uLnApPT5LLndyaXRlU3luYygxLHAuam9pbigiICIpK2AKYCksbmU9KC4uLnApPT5LLndyaXRlU3luYygyLHAuam9pbigiICIpK2AKYCkpO3ZhciBxPUcsRD1uZTtPYmplY3QuYXNzaWduKHUsZyksZz1udWxsLHR5cGVvZiBXZWJBc3NlbWJseSE9Im9iamVjdCImJm1yKCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkIik7dmFyIEwsVix0ZT0hMSxYLHVlLEYsb2UsJGUsVWUsRGU7ZnVuY3Rpb24gVmUoKXt2YXIgcD1MLmJ1ZmZlcjt1LkhFQVA4PXVlPW5ldyBJbnQ4QXJyYXkocCksdS5IRUFQMTY9bmV3IEludDE2QXJyYXkocCksdS5IRUFQVTg9Rj1uZXcgVWludDhBcnJheShwKSx1LkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KHApLHUuSEVBUDMyPW9lPW5ldyBJbnQzMkFycmF5KHApLHUuSEVBUFUzMj0kZT1uZXcgVWludDMyQXJyYXkocCksdS5IRUFQRjMyPVVlPW5ldyBGbG9hdDMyQXJyYXkocCksdS5IRUFQRjY0PURlPW5ldyBGbG9hdDY0QXJyYXkocCl9dmFyIFN0PTE2Nzc3MjE2O2lmKHgpTD11Lndhc21NZW1vcnk7ZWxzZSBpZih1Lndhc21NZW1vcnkpTD11Lndhc21NZW1vcnk7ZWxzZSBpZihMPW5ldyBXZWJBc3NlbWJseS5NZW1vcnkoe2luaXRpYWw6U3QvNjU1MzYsbWF4aW11bTo2NTUzNixzaGFyZWQ6ITB9KSwhKEwuYnVmZmVyIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXIpKXRocm93IEQoInJlcXVlc3RlZCBhIHNoYXJlZCBXZWJBc3NlbWJseS5NZW1vcnkgYnV0IHRoZSByZXR1cm5lZCBidWZmZXIgaXMgbm90IGEgU2hhcmVkQXJyYXlCdWZmZXIsIGluZGljYXRpbmcgdGhhdCB3aGlsZSB0aGUgYnJvd3NlciBoYXMgU2hhcmVkQXJyYXlCdWZmZXIgaXQgZG9lcyBub3QgaGF2ZSBXZWJBc3NlbWJseSB0aHJlYWRzIHN1cHBvcnQgLSB5b3UgbWF5IG5lZWQgdG8gc2V0IGEgZmxhZyIpLEUmJkQoIihvbiBub2RlIHlvdSBtYXkgbmVlZDogLS1leHBlcmltZW50YWwtd2FzbS10aHJlYWRzIC0tZXhwZXJpbWVudGFsLXdhc20tYnVsay1tZW1vcnkgYW5kL29yIHJlY2VudCB2ZXJzaW9uKSIpLEVycm9yKCJiYWQgbWVtb3J5Iik7VmUoKSxTdD1MLmJ1ZmZlci5ieXRlTGVuZ3RoO3ZhciBXZT1bXSxIZT1bXSxNdD1bXSx6dD0wLHF0PW51bGw7ZnVuY3Rpb24gYWkoKXtpZih6dC0tLHp0PT0wJiZxdCl7dmFyIHA9cXQ7cXQ9bnVsbCxwKCl9fWZ1bmN0aW9uIG1yKHApe3Rocm93IHA9IkFib3J0ZWQoIitwKyIpIixEKHApLHRlPSEwLFg9MSxwPW5ldyBXZWJBc3NlbWJseS5SdW50aW1lRXJyb3IocCsiLiBCdWlsZCB3aXRoIC1zQVNTRVJUSU9OUyBmb3IgbW9yZSBpbmZvLiIpLGYocCkscH12YXIgam49cD0+cC5zdGFydHNXaXRoKCJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIiksQXI9cD0+cC5zdGFydHNXaXRoKCJmaWxlOi8vIiksZXQ7ZXQ9Im9ydC13YXNtLXNpbWQtdGhyZWFkZWQud2FzbSIsam4oZXQpfHwoZXQ9VChldCkpO2Z1bmN0aW9uIFFyKHApe2lmKEgpcmV0dXJuIEgocCk7dGhyb3ciYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQifWZ1bmN0aW9uIEtuKHApe2lmKHZ8fGspe2lmKHR5cGVvZiBmZXRjaD09ImZ1bmN0aW9uIiYmIUFyKHApKXJldHVybiBmZXRjaChwLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbihfPT57aWYoIV8ub2spdGhyb3ciZmFpbGVkIHRvIGxvYWQgd2FzbSBiaW5hcnkgZmlsZSBhdCAnIitwKyInIjtyZXR1cm4gXy5hcnJheUJ1ZmZlcigpfSkuY2F0Y2goKCk9PlFyKHApKTtpZihVKXJldHVybiBuZXcgUHJvbWlzZSgoXywkKT0+e1UocCxDPT5fKG5ldyBVaW50OEFycmF5KEMpKSwkKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpPT5RcihwKSl9ZnVuY3Rpb24gb3IocCxfLCQpe3JldHVybiBLbihwKS50aGVuKEM9PldlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKEMsXykpLnRoZW4oQz0+QykudGhlbigkLEM9PntEKGBmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAke0N9YCksbXIoQyl9KX1mdW5jdGlvbiBpaShwLF8pe3ZhciAkPWV0O3JldHVybiB0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmchPSJmdW5jdGlvbiJ8fGpuKCQpfHxBcigkKXx8RXx8dHlwZW9mIGZldGNoIT0iZnVuY3Rpb24iP29yKCQscCxfKTpmZXRjaCgkLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbihDPT5XZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhDLHApLnRoZW4oXyxmdW5jdGlvbihNKXtyZXR1cm4gRChgd2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICR7TX1gKSxEKCJmYWxsaW5nIGJhY2sgdG8gQXJyYXlCdWZmZXIgaW5zdGFudGlhdGlvbiIpLG9yKCQscCxfKX0pKX12YXIgbHIsWnI9ezkzMjQyODoocCxfLCQsQyk9PntpZih0eXBlb2YgdT4idSJ8fCF1LmNiKXJldHVybiAxO2lmKHA9b3QocD4+PjApLHAuc3RhcnRzV2l0aCgiLi8iKSYmKHA9cC5zdWJzdHJpbmcoMikpLHA9dS5jYi5nZXQocCksIXApcmV0dXJuIDI7aWYoXz4+Pj0wLCQ+Pj49MCxDPj4+PTAsXyskPnAuYnl0ZUxlbmd0aClyZXR1cm4gMzt0cnl7cmV0dXJuIHMoKS5zZXQocC5zdWJhcnJheShfLF8rJCksQz4+PjApLDB9Y2F0Y2h7cmV0dXJuIDR9fSw5MzI5Mjk6cD0+dS53YihwKSw5MzI5NjI6cD0+dS55YihwKSw5MzI5OTQ6KHAsXywkKT0+e3Uua2IocCxfLCQsITApfSw5MzMwMzM6KHAsXywkKT0+e3Uua2IocCxfLCQpfSw5MzMwNjY6cD0+e3UuRWEoIkFicyIscCx2b2lkIDApfSw5MzMxMTc6cD0+e3UuRWEoIk5lZyIscCx2b2lkIDApfSw5MzMxNjg6cD0+e3UuRWEoIkZsb29yIixwLHZvaWQgMCl9LDkzMzIyMTpwPT57dS5FYSgiQ2VpbCIscCx2b2lkIDApfSw5MzMyNzM6cD0+e3UuRWEoIlJlY2lwcm9jYWwiLHAsdm9pZCAwKX0sOTMzMzMxOnA9Pnt1LkVhKCJTcXJ0IixwLHZvaWQgMCl9LDkzMzM4MzpwPT57dS5FYSgiRXhwIixwLHZvaWQgMCl9LDkzMzQzNDpwPT57dS5FYSgiRXJmIixwLHZvaWQgMCl9LDkzMzQ4NTpwPT57dS5FYSgiU2lnbW9pZCIscCx2b2lkIDApfSw5MzM1NDA6cD0+e3UuRWEoIkxvZyIscCx2b2lkIDApfSw5MzM1OTE6cD0+e3UuRWEoIlNpbiIscCx2b2lkIDApfSw5MzM2NDI6cD0+e3UuRWEoIkNvcyIscCx2b2lkIDApfSw5MzM2OTM6cD0+e3UuRWEoIlRhbiIscCx2b2lkIDApfSw5MzM3NDQ6cD0+e3UuRWEoIkFzaW4iLHAsdm9pZCAwKX0sOTMzNzk2OnA9Pnt1LkVhKCJBY29zIixwLHZvaWQgMCl9LDkzMzg0ODpwPT57dS5FYSgiQXRhbiIscCx2b2lkIDApfSw5MzM5MDA6cD0+e3UuRWEoIlNpbmgiLHAsdm9pZCAwKX0sOTMzOTUyOnA9Pnt1LkVhKCJDb3NoIixwLHZvaWQgMCl9LDkzNDAwNDpwPT57dS5FYSgiQXNpbmgiLHAsdm9pZCAwKX0sOTM0MDU3OnA9Pnt1LkVhKCJBY29zaCIscCx2b2lkIDApfSw5MzQxMTA6cD0+e3UuRWEoIkF0YW5oIixwLHZvaWQgMCl9LDkzNDE2MzpwPT57dS5FYSgiVGFuaCIscCx2b2lkIDApfSw5MzQyMTU6cD0+e3UuRWEoIk5vdCIscCx2b2lkIDApfSw5MzQyNjY6KHAsXywkKT0+e3UuRWEoIkNsaXAiLHAse21pbjpfLG1heDokfSl9LDkzNDMzNTpwPT57dS5FYSgiQ2xpcCIscCx2b2lkIDApfSw5MzQzODc6KHAsXyk9Pnt1LkVhKCJFbHUiLHAse2FscGhhOl99KX0sOTM0NDQ1OnA9Pnt1LkVhKCJSZWx1IixwLHZvaWQgMCl9LDkzNDQ5NzoocCxfKT0+e3UuRWEoIkxlYWt5UmVsdSIscCx7YWxwaGE6X30pfSw5MzQ1NjE6KHAsXyk9Pnt1LkVhKCJUaHJlc2hvbGRlZFJlbHUiLHAse2FscGhhOl99KX0sOTM0NjMxOihwLF8pPT57dS5FYSgiQ2FzdCIscCx7dG86X30pfSw5MzQ2ODk6cD0+e3UuRWEoIkFkZCIscCx2b2lkIDApfSw5MzQ3NDA6cD0+e3UuRWEoIlN1YiIscCx2b2lkIDApfSw5MzQ3OTE6cD0+e3UuRWEoIk11bCIscCx2b2lkIDApfSw5MzQ4NDI6cD0+e3UuRWEoIkRpdiIscCx2b2lkIDApfSw5MzQ4OTM6cD0+e3UuRWEoIlBvdyIscCx2b2lkIDApfSw5MzQ5NDQ6cD0+e3UuRWEoIkVxdWFsIixwLHZvaWQgMCl9LDkzNDk5NzpwPT57dS5FYSgiR3JlYXRlciIscCx2b2lkIDApfSw5MzUwNTI6cD0+e3UuRWEoIkdyZWF0ZXJPckVxdWFsIixwLHZvaWQgMCl9LDkzNTExNDpwPT57dS5FYSgiTGVzcyIscCx2b2lkIDApfSw5MzUxNjY6cD0+e3UuRWEoIkxlc3NPckVxdWFsIixwLHZvaWQgMCl9LDkzNTIyNToocCxfLCQsQyxNKT0+e3UuRWEoIlJlZHVjZU1lYW4iLHAse2tlZXBEaW1zOiEhXyxub29wV2l0aEVtcHR5QXhlczohISQsYXhlczpDP0FycmF5LmZyb20obygpLnN1YmFycmF5KEM+Pj4wLE0+Pj4wKSk6W119KX0sOTM1Mzg0OihwLF8sJCxDLE0pPT57dS5FYSgiUmVkdWNlTWF4IixwLHtrZWVwRGltczohIV8sbm9vcFdpdGhFbXB0eUF4ZXM6ISEkLGF4ZXM6Qz9BcnJheS5mcm9tKG8oKS5zdWJhcnJheShDPj4+MCxNPj4+MCkpOltdfSl9LDkzNTU0MjoocCxfLCQsQyxNKT0+e3UuRWEoIlJlZHVjZU1pbiIscCx7a2VlcERpbXM6ISFfLG5vb3BXaXRoRW1wdHlBeGVzOiEhJCxheGVzOkM/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoQz4+PjAsTT4+PjApKTpbXX0pfSw5MzU3MDA6KHAsXywkLEMsTSk9Pnt1LkVhKCJSZWR1Y2VQcm9kIixwLHtrZWVwRGltczohIV8sbm9vcFdpdGhFbXB0eUF4ZXM6ISEkLGF4ZXM6Qz9BcnJheS5mcm9tKG8oKS5zdWJhcnJheShDPj4+MCxNPj4+MCkpOltdfSl9LDkzNTg1OToocCxfLCQsQyxNKT0+e3UuRWEoIlJlZHVjZVN1bSIscCx7a2VlcERpbXM6ISFfLG5vb3BXaXRoRW1wdHlBeGVzOiEhJCxheGVzOkM/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoQz4+PjAsTT4+PjApKTpbXX0pfSw5MzYwMTc6KHAsXywkLEMsTSk9Pnt1LkVhKCJSZWR1Y2VMMSIscCx7a2VlcERpbXM6ISFfLG5vb3BXaXRoRW1wdHlBeGVzOiEhJCxheGVzOkM/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoQz4+PjAsTT4+PjApKTpbXX0pfSw5MzYxNzQ6KHAsXywkLEMsTSk9Pnt1LkVhKCJSZWR1Y2VMMiIscCx7a2VlcERpbXM6ISFfLG5vb3BXaXRoRW1wdHlBeGVzOiEhJCxheGVzOkM/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoQz4+PjAsTT4+PjApKTpbXX0pfSw5MzYzMzE6KHAsXywkLEMsTSk9Pnt1LkVhKCJSZWR1Y2VMb2dTdW0iLHAse2tlZXBEaW1zOiEhXyxub29wV2l0aEVtcHR5QXhlczohISQsYXhlczpDP0FycmF5LmZyb20obygpLnN1YmFycmF5KEM+Pj4wLE0+Pj4wKSk6W119KX0sOTM2NDkyOihwLF8sJCxDLE0pPT57dS5FYSgiUmVkdWNlU3VtU3F1YXJlIixwLHtrZWVwRGltczohIV8sbm9vcFdpdGhFbXB0eUF4ZXM6ISEkLGF4ZXM6Qz9BcnJheS5mcm9tKG8oKS5zdWJhcnJheShDPj4+MCxNPj4+MCkpOltdfSl9LDkzNjY1NjoocCxfLCQsQyxNKT0+e3UuRWEoIlJlZHVjZUxvZ1N1bUV4cCIscCx7a2VlcERpbXM6ISFfLG5vb3BXaXRoRW1wdHlBeGVzOiEhJCxheGVzOkM/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoQz4+PjAsTT4+PjApKTpbXX0pfSw5MzY4MjA6cD0+e3UuRWEoIldoZXJlIixwLHZvaWQgMCl9LDkzNjg3MzoocCxfLCQpPT57dS5FYSgiVHJhbnNwb3NlIixwLHtwZXJtOl8/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoXz4+PjAsJD4+PjApKTpbXX0pfSw5MzY5ODE6KHAsXywkLEMsTSxXLGosZmUsY2UscGUsd2UsTWUsTmUsUixiZSk9Pnt1LkVhKCJDb252VHJhbnNwb3NlIixwLHtmb3JtYXQ6Y2U/Ik5IV0MiOiJOQ0hXIixhdXRvUGFkOl8sZGlsYXRpb25zOlskXSxncm91cDpDLGtlcm5lbF9zaGFwZTpbTV0scGFkczpbVyxqXSxzdHJpZGVzOltmZV0sd0lzQ29uc3Q6KCk9PiEhaSgpW3BlPj4+MF0sb3V0cHV0UGFkZGluZzp3ZT9BcnJheS5mcm9tKG8oKS5zdWJhcnJheSh3ZT4+PjAsTWU+Pj4wKSk6W10sb3V0cHV0U2hhcGU6TmU/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoTmU+Pj4wLFI+Pj4wKSk6W10sYWN0aXZhdGlvbjpvdChiZSl9KX0sOTM3MzgzOihwLF8sJCxDLE0sVyxqLGZlLGNlLHBlLHdlLE1lLE5lLFIpPT57dS5FYSgiQ29udlRyYW5zcG9zZSIscCx7Zm9ybWF0OmZlPyJOSFdDIjoiTkNIVyIsYXV0b1BhZDpfLGRpbGF0aW9uczpBcnJheS5mcm9tKG8oKS5zdWJhcnJheSgkPj4+MCwoJD4+PjApKzI+Pj4wKSksZ3JvdXA6QyxrZXJuZWxTaGFwZTpBcnJheS5mcm9tKG8oKS5zdWJhcnJheShNPj4+MCwoTT4+PjApKzI+Pj4wKSkscGFkczpBcnJheS5mcm9tKG8oKS5zdWJhcnJheShXPj4+MCwoVz4+PjApKzQ+Pj4wKSksc3RyaWRlczpBcnJheS5mcm9tKG8oKS5zdWJhcnJheShqPj4+MCwoaj4+PjApKzI+Pj4wKSksd0lzQ29uc3Q6KCk9PiEhaSgpW2NlPj4+MF0sb3V0cHV0UGFkZGluZzpwZT9BcnJheS5mcm9tKG8oKS5zdWJhcnJheShwZT4+PjAsd2U+Pj4wKSk6W10sb3V0cHV0U2hhcGU6TWU/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoTWU+Pj4wLE5lPj4+MCkpOltdLGFjdGl2YXRpb246b3QoUil9KX0sOTM3OTQ4OihwLF8sJCxDLE0sVyxqLGZlLGNlLHBlLHdlLE1lLE5lLFIsYmUpPT57dS5FYSgiQ29udlRyYW5zcG9zZSIscCx7Zm9ybWF0OmNlPyJOSFdDIjoiTkNIVyIsYXV0b1BhZDpfLGRpbGF0aW9uczpbJF0sZ3JvdXA6QyxrZXJuZWxfc2hhcGU6W01dLHBhZHM6W1csal0sc3RyaWRlczpbZmVdLHdJc0NvbnN0OigpPT4hIWkoKVtwZT4+PjBdLG91dHB1dFBhZGRpbmc6d2U/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkod2U+Pj4wLE1lPj4+MCkpOltdLG91dHB1dFNoYXBlOk5lP0FycmF5LmZyb20obygpLnN1YmFycmF5KE5lPj4+MCxSPj4+MCkpOltdLGFjdGl2YXRpb246b3QoYmUpfSl9LDkzODM1MDoocCxfLCQsQyxNLFcsaixmZSxjZSxwZSx3ZSxNZSxOZSxSKT0+e3UuRWEoIkNvbnZUcmFuc3Bvc2UiLHAse2Zvcm1hdDpmZT8iTkhXQyI6Ik5DSFciLGF1dG9QYWQ6XyxkaWxhdGlvbnM6QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoJD4+PjAsKCQ+Pj4wKSsyPj4+MCkpLGdyb3VwOkMsa2VybmVsU2hhcGU6QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoTT4+PjAsKE0+Pj4wKSsyPj4+MCkpLHBhZHM6QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoVz4+PjAsKFc+Pj4wKSs0Pj4+MCkpLHN0cmlkZXM6QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoaj4+PjAsKGo+Pj4wKSsyPj4+MCkpLHdJc0NvbnN0OigpPT4hIWkoKVtjZT4+PjBdLG91dHB1dFBhZGRpbmc6cGU/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkocGU+Pj4wLHdlPj4+MCkpOltdLG91dHB1dFNoYXBlOk1lP0FycmF5LmZyb20obygpLnN1YmFycmF5KE1lPj4+MCxOZT4+PjApKTpbXSxhY3RpdmF0aW9uOm90KFIpfSl9LDkzODkxNToocCxfKT0+e3UuRWEoIkdsb2JhbEF2ZXJhZ2VQb29sIixwLHtmb3JtYXQ6Xz8iTkhXQyI6Ik5DSFcifSl9LDkzOTAwNjoocCxfLCQsQyxNLFcsaixmZSxjZSxwZSx3ZSxNZSxOZSxSLGJlLEJlKT0+e3UuRWEoIkF2ZXJhZ2VQb29sIixwLHtmb3JtYXQ6QmU/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDpfLGNlaWxfbW9kZTokLGNvdW50X2luY2x1ZGVfcGFkOkMsc3RvcmFnZV9vcmRlcjpNLGRpbGF0aW9uczpbVyxqXSxrZXJuZWxfc2hhcGU6W2ZlLGNlXSxwYWRzOltwZSx3ZSxNZSxOZV0sc3RyaWRlczpbUixiZV19KX0sOTM5MjkwOihwLF8pPT57dS5FYSgiR2xvYmFsQXZlcmFnZVBvb2wiLHAse2Zvcm1hdDpfPyJOSFdDIjoiTkNIVyJ9KX0sOTM5MzgxOihwLF8sJCxDLE0sVyxqLGZlLGNlLHBlLHdlLE1lLE5lLFIsYmUsQmUpPT57dS5FYSgiQXZlcmFnZVBvb2wiLHAse2Zvcm1hdDpCZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOl8sY2VpbF9tb2RlOiQsY291bnRfaW5jbHVkZV9wYWQ6QyxzdG9yYWdlX29yZGVyOk0sZGlsYXRpb25zOltXLGpdLGtlcm5lbF9zaGFwZTpbZmUsY2VdLHBhZHM6W3BlLHdlLE1lLE5lXSxzdHJpZGVzOltSLGJlXX0pfSw5Mzk2NjU6KHAsXyk9Pnt1LkVhKCJHbG9iYWxNYXhQb29sIixwLHtmb3JtYXQ6Xz8iTkhXQyI6Ik5DSFcifSl9LDkzOTc1MjoocCxfLCQsQyxNLFcsaixmZSxjZSxwZSx3ZSxNZSxOZSxSLGJlLEJlKT0+e3UuRWEoIk1heFBvb2wiLHAse2Zvcm1hdDpCZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOl8sY2VpbF9tb2RlOiQsY291bnRfaW5jbHVkZV9wYWQ6QyxzdG9yYWdlX29yZGVyOk0sZGlsYXRpb25zOltXLGpdLGtlcm5lbF9zaGFwZTpbZmUsY2VdLHBhZHM6W3BlLHdlLE1lLE5lXSxzdHJpZGVzOltSLGJlXX0pfSw5NDAwMzI6KHAsXyk9Pnt1LkVhKCJHbG9iYWxNYXhQb29sIixwLHtmb3JtYXQ6Xz8iTkhXQyI6Ik5DSFcifSl9LDk0MDExOToocCxfLCQsQyxNLFcsaixmZSxjZSxwZSx3ZSxNZSxOZSxSLGJlLEJlKT0+e3UuRWEoIk1heFBvb2wiLHAse2Zvcm1hdDpCZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOl8sY2VpbF9tb2RlOiQsY291bnRfaW5jbHVkZV9wYWQ6QyxzdG9yYWdlX29yZGVyOk0sZGlsYXRpb25zOltXLGpdLGtlcm5lbF9zaGFwZTpbZmUsY2VdLHBhZHM6W3BlLHdlLE1lLE5lXSxzdHJpZGVzOltSLGJlXX0pfSw5NDAzOTk6KHAsXywkLEMsTSk9Pnt1LkVhKCJHZW1tIixwLHthbHBoYTpfLGJldGE6JCx0cmFuc0E6Qyx0cmFuc0I6TX0pfSw5NDA1MDM6cD0+e3UuRWEoIk1hdE11bCIscCx2b2lkIDApfSw5NDA1NTc6KHAsXywkLEMpPT57dS5FYSgiQXJnTWF4IixwLHtrZWVwRGltczohIV8sc2VsZWN0TGFzdEluZGV4OiEhJCxheGlzOkN9KX0sOTQwNjY1OihwLF8sJCxDKT0+e3UuRWEoIkFyZ01pbiIscCx7a2VlcERpbXM6ISFfLHNlbGVjdExhc3RJbmRleDohISQsYXhpczpDfSl9LDk0MDc3MzoocCxfKT0+e3UuRWEoIlNvZnRtYXgiLHAse2F4aXM6X30pfSw5NDA4MzY6KHAsXyk9Pnt1LkVhKCJDb25jYXQiLHAse2F4aXM6X30pfSw5NDA4OTY6KHAsXywkLEMsTSk9Pnt1LkVhKCJTcGxpdCIscCx7YXhpczpfLG51bU91dHB1dHM6JCxzcGxpdFNpemVzOkM/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoQz4+PjAsTT4+PjApKTpbXX0pfSw5NDEwMzY6cD0+e3UuRWEoIkV4cGFuZCIscCx2b2lkIDApfSw5NDEwOTA6KHAsXyk9Pnt1LkVhKCJHYXRoZXIiLHAse2F4aXM6TnVtYmVyKF8pfSl9LDk0MTE2MToocCxfKT0+e3UuRWEoIkdhdGhlckVsZW1lbnRzIixwLHtheGlzOk51bWJlcihfKX0pfSw5NDEyNDA6KHAsXywkLEMsTSxXLGosZmUsY2UscGUsd2UpPT57dS5FYSgiUmVzaXplIixwLHthbnRpYWxpYXM6XyxheGVzOiQ/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoJD4+PjAsQz4+PjApKTpbXSxjb29yZGluYXRlVHJhbnNmb3JtTW9kZTpvdChNKSxjdWJpY0NvZWZmQTpXLGV4Y2x1ZGVPdXRzaWRlOmosZXh0cmFwb2xhdGlvblZhbHVlOmZlLGtlZXBBc3BlY3RSYXRpb1BvbGljeTpvdChjZSksbW9kZTpvdChwZSksbmVhcmVzdE1vZGU6b3Qod2UpfSl9LDk0MTU4NjoocCxfLCQsQyxNLFcsaik9Pnt1LkVhKCJTbGljZSIscCx7c3RhcnRzOl8/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoXz4+PjAsJD4+PjApKTpbXSxlbmRzOkM/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoQz4+PjAsTT4+PjApKTpbXSxheGVzOlc/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoVz4+PjAsaj4+PjApKTpbXX0pfSw5NDE4MDI6cD0+e3UuRWEoIlRpbGUiLHAsdm9pZCAwKX0sOTQxODU0OihwLF8sJCk9Pnt1LkVhKCJMYXllck5vcm1hbGl6YXRpb24iLHAse2F4aXM6TnVtYmVyKF8pLGVwc2lsb246TnVtYmVyKCQpfSl9LDk0MTk2MToocCxfLCQpPT57dS5FYSgiSW5zdGFuY2VOb3JtYWxpemF0aW9uIixwLHtlcHNpbG9uOl8sZm9ybWF0OiQ/Ik5IV0MiOiJOQ0hXIn0pfSw5NDIwNzU6KHAsXywkKT0+e3UuRWEoIkluc3RhbmNlTm9ybWFsaXphdGlvbiIscCx7ZXBzaWxvbjpfLGZvcm1hdDokPyJOSFdDIjoiTkNIVyJ9KX0sOTQyMTg5OnA9Pnt1LkVhKCJSYW5nZSIscCx2b2lkIDApfSw5NDIyNDI6KHAsXyk9Pnt1LkVhKCJFaW5zdW0iLHAse2VxdWF0aW9uOm90KF8pfSl9LDk0MjMyMzoocCxfLCQsQyxNKT0+e3UuRWEoIlBhZCIscCx7bW9kZTpfLHZhbHVlOiQscGFkczpDP0FycmF5LmZyb20obygpLnN1YmFycmF5KEM+Pj4wLE0+Pj4wKSk6W119KX0sOTQyNDUwOihwLF8sJCxDLE0sVyk9Pnt1LkVhKCJCYXRjaE5vcm1hbGl6YXRpb24iLHAse2Vwc2lsb246Xyxtb21lbnR1bTokLHNwYXRpYWw6ISFNLHRyYWluaW5nTW9kZTohIUMsZm9ybWF0Olc/Ik5IV0MiOiJOQ0hXIn0pfSw5NDI2MTk6KHAsXywkLEMsTSxXKT0+e3UuRWEoIkJhdGNoTm9ybWFsaXphdGlvbiIscCx7ZXBzaWxvbjpfLG1vbWVudHVtOiQsc3BhdGlhbDohIU0sdHJhaW5pbmdNb2RlOiEhQyxmb3JtYXQ6Vz8iTkhXQyI6Ik5DSFcifSl9LDk0Mjc4ODoocCxfLCQpPT57dS5FYSgiQ3VtU3VtIixwLHtleGNsdXNpdmU6TnVtYmVyKF8pLHJldmVyc2U6TnVtYmVyKCQpfSl9LDk0Mjg4NToocCxfLCQsQyxNLFcsaixmZSxjZSk9Pnt1LkVhKCJBdHRlbnRpb24iLHAse251bUhlYWRzOl8saXNVbmlkaXJlY3Rpb25hbDokLG1hc2tGaWx0ZXJWYWx1ZTpDLHNjYWxlOk0sZG9Sb3Rhcnk6Vyxxa3ZIaWRkZW5TaXplczpqP0FycmF5LmZyb20obygpLnN1YmFycmF5KE51bWJlcihmZSk+Pj4wLE51bWJlcihmZSkraj4+PjApKTpbXSxwYXN0UHJlc2VudFNoYXJlQnVmZmVyOiEhY2V9KX0sOTQzMTU3OnA9Pnt1LkVhKCJHZWx1IixwLHZvaWQgMCl9LDk0MzIwOToocCxfLCQsQyxNLFcpPT57dS5FYSgiTXVsdGlIZWFkQXR0ZW50aW9uIixwLHtudW1IZWFkczpfLGlzVW5pZGlyZWN0aW9uYWw6JCxtYXNrRmlsdGVyVmFsdWU6QyxzY2FsZTpNLGRvUm90YXJ5Old9KX0sOTQzMzY4OnA9Pnt1LkVhKCJCaWFzQWRkIixwLHZvaWQgMCl9LDk0MzQyMzpwPT57dS5FYSgiQmlhc1NwbGl0R2VsdSIscCx2b2lkIDApfSw5NDM0ODQ6KHAsXyk9Pnt1LkVhKCJTa2lwTGF5ZXJOb3JtYWxpemF0aW9uIixwLHtlcHNpbG9uOl99KX0sOTQzNTY1OihwLF8sJCxDLE0sVyxqLGZlLGNlLHBlLHdlLE1lLE5lKT0+e3UuRWEoIkNvbnYiLHAse2Zvcm1hdDpjZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOl8sZGlsYXRpb25zOlskXSxncm91cDpDLGtlcm5lbF9zaGFwZTpbTV0scGFkczpXP0FycmF5LmZyb20obygpLnN1YmFycmF5KFc+Pj4wLGo+Pj4wKSk6W10sc3RyaWRlczpbZmVdLHdfaXNfY29uc3Q6KCk9PiEhaSgpW3BlPj4+MF0sYWN0aXZhdGlvbjpvdCh3ZSksYWN0aXZhdGlvbl9wYXJhbXM6TWU/QXJyYXkuZnJvbShkKCkuc3ViYXJyYXkoTWU+Pj4wLE5lPj4+MCkpOltdfSl9LDk0MzkzNToocCxfLCQsQyxNLFcsaixmZSxjZSxwZSx3ZSxNZSxOZSxSLGJlLEJlKT0+e3UuRWEoIkNvbnYiLHAse2Zvcm1hdDpNZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOl8sZGlsYXRpb25zOlskLENdLGdyb3VwOk0sa2VybmVsX3NoYXBlOltXLGpdLHBhZHM6ZmU/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoZmU+Pj4wLGNlPj4+MCkpOltdLHN0cmlkZXM6W3BlLHdlXSx3X2lzX2NvbnN0OigpPT4hIWkoKVtOZT4+PjBdLGFjdGl2YXRpb246b3QoUiksYWN0aXZhdGlvbl9wYXJhbXM6YmU/QXJyYXkuZnJvbShkKCkuc3ViYXJyYXkoYmU+Pj4wLEJlPj4+MCkpOltdfSl9LDk0NDMyNjpwPT57dS56YihwKX0sOTQ0MzYwOihwLF8pPT51LkFiKHAsXyx1LmJiLkNiLHUuYmIuZXJyb3JzKX07ZnVuY3Rpb24gVHIocCl7dGhpcy5uYW1lPSJFeGl0U3RhdHVzIix0aGlzLm1lc3NhZ2U9YFByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoJHtwfSlgLHRoaXMuc3RhdHVzPXB9dmFyIEpyPXA9PntwLnRlcm1pbmF0ZSgpLHAub25tZXNzYWdlPSgpPT57fX0sZW49cD0+e21lLllhLmxlbmd0aD09MCYmKEV0KCksbWUubGIobWUuWWFbMF0pKTt2YXIgXz1tZS5ZYS5wb3AoKTtpZighXylyZXR1cm4gNjttZS5aYS5wdXNoKF8pLG1lLlFhW3AuWGFdPV8sXy5YYT1wLlhhO3ZhciAkPXtjbWQ6InJ1biIsc3RhcnRfcm91dGluZTpwLkRiLGFyZzpwLnRiLHB0aHJlYWRfcHRyOnAuWGF9O3JldHVybiBFJiZfLnVucmVmKCksXy5wb3N0TWVzc2FnZSgkLHAuSmIpLDB9LEp0PTAsdG49dHlwZW9mIFRleHREZWNvZGVyPCJ1Ij9uZXcgVGV4dERlY29kZXIoInV0ZjgiKTp2b2lkIDAsc2k9KHAsXywkKT0+e18+Pj49MDt2YXIgQz1fKyQ7Zm9yKCQ9XztwWyRdJiYhKCQ+PUMpOykrKyQ7aWYoMTY8JC1fJiZwLmJ1ZmZlciYmdG4pcmV0dXJuIHRuLmRlY29kZShwLmJ1ZmZlciBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyP3Auc2xpY2UoXywkKTpwLnN1YmFycmF5KF8sJCkpO2ZvcihDPSIiO188JDspe3ZhciBNPXBbXysrXTtpZihNJjEyOCl7dmFyIFc9cFtfKytdJjYzO2lmKChNJjIyNCk9PTE5MilDKz1TdHJpbmcuZnJvbUNoYXJDb2RlKChNJjMxKTw8NnxXKTtlbHNle3ZhciBqPXBbXysrXSY2MztNPShNJjI0MCk9PTIyND8oTSYxNSk8PDEyfFc8PDZ8ajooTSY3KTw8MTh8Vzw8MTJ8ajw8NnxwW18rK10mNjMsNjU1MzY+TT9DKz1TdHJpbmcuZnJvbUNoYXJDb2RlKE0pOihNLT02NTUzNixDKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fE0+PjEwLDU2MzIwfE0mMTAyMykpfX1lbHNlIEMrPVN0cmluZy5mcm9tQ2hhckNvZGUoTSl9cmV0dXJuIEN9LG90PShwLF8pPT4ocD4+Pj0wKT9zaShzKCkscCxfKToiIixvaT1wPT57dmFyIF89aG8oKTtyZXR1cm4gcD1wKCksd2koXykscH07ZnVuY3Rpb24gTGUocCxfKXt2YXIgJD1hcmd1bWVudHMubGVuZ3RoLTIsQz1hcmd1bWVudHM7cmV0dXJuIG9pKCgpPT57Zm9yKHZhciBNPWZvKDgqJCksVz1NPj4+MyxqPTA7ajwkO2orKyl7dmFyIGZlPUNbMitqXTtjKClbVytqPj4+MF09ZmV9cmV0dXJuIFptKHAsJCxNLF8pfSl9ZnVuY3Rpb24gWW4ocCl7aWYoeClyZXR1cm4gTGUoMCwxLHApO1g9cCwwPEp0fHwobWUuRWIoKSx1Lm9uRXhpdD8uKHApLHRlPSEwKSx3KHAsbmV3IFRyKHApKX12YXIgZ3I9cD0+e2lmKFg9cCx4KXRocm93IFFuKHApLCJ1bndpbmQiO1luKHApfSxYbj1wPT57cCBpbnN0YW5jZW9mIFRyfHxwPT0idW53aW5kInx8dygxLHApfTtmdW5jdGlvbiBlcigpe2Zvcih2YXIgcD11Lm51bVRocmVhZHM7cC0tOylFdCgpO1dlLnVuc2hpZnQoKCk9Pnt6dCsrLGxpKCgpPT5haSgpKX0pfWZ1bmN0aW9uIEV0KCl7dmFyIHA9VCgib3J0LXdhc20tc2ltZC10aHJlYWRlZC53b3JrZXIuanMiKTtwPW5ldyBXb3JrZXIocCksbWUuWWEucHVzaChwKX1mdW5jdGlvbiBsaShwKXt4P3AoKTpQcm9taXNlLmFsbChtZS5ZYS5tYXAobWUubGIpKS50aGVuKHApfXZhciBtZT17WWE6W10sWmE6W10scGI6W10sUWE6e30saGIoKXt4PyhtZS5yZWNlaXZlT2JqZWN0VHJhbnNmZXI9bWUuQmIsbWUudGhyZWFkSW5pdFRMUz1tZS5vYixtZS5zZXRFeGl0U3RhdHVzPW1lLm5iKTplcigpfSxuYjpwPT5YPXAsTmI6WyIkdGVybWluYXRlV29ya2VyIl0sRWI6KCk9Pntmb3IodmFyIHAgb2YgbWUuWmEpSnIocCk7Zm9yKHAgb2YgbWUuWWEpSnIocCk7bWUuWWE9W10sbWUuWmE9W10sbWUuUWE9W119LG1iOnA9Pnt2YXIgXz1wLlhhO2RlbGV0ZSBtZS5RYVtfXSxtZS5ZYS5wdXNoKHApLG1lLlphLnNwbGljZShtZS5aYS5pbmRleE9mKHApLDEpLHAuWGE9MCxjbyhfKX0sQmIoKXt9LG9iKCl7bWUucGIuZm9yRWFjaChwPT5wKCkpfSxsYjpwPT5uZXcgUHJvbWlzZShfPT57cC5vbm1lc3NhZ2U9Vz0+e1c9Vy5kYXRhO3ZhciBqPVcuY21kO2lmKFcudGFyZ2V0VGhyZWFkJiZXLnRhcmdldFRocmVhZCE9eWkoKSl7dmFyIGZlPW1lLlFhW1cudGFyZ2V0VGhyZWFkXTtmZT9mZS5wb3N0TWVzc2FnZShXLFcudHJhbnNmZXJMaXN0KTpEKGBJbnRlcm5hbCBlcnJvciEgV29ya2VyIHNlbnQgYSBtZXNzYWdlICIke2p9IiB0byB0YXJnZXQgcHRocmVhZCAke1cudGFyZ2V0VGhyZWFkfSwgYnV0IHRoYXQgdGhyZWFkIG5vIGxvbmdlciBleGlzdHMhYCl9ZWxzZSBqPT09ImNoZWNrTWFpbGJveCI/TXIoKTpqPT09InNwYXduVGhyZWFkIj9lbihXKTpqPT09ImNsZWFudXBUaHJlYWQiP21lLm1iKG1lLlFhW1cudGhyZWFkXSk6aj09PSJraWxsVGhyZWFkIj8oVz1XLnRocmVhZCxqPW1lLlFhW1ddLGRlbGV0ZSBtZS5RYVtXXSxKcihqKSxjbyhXKSxtZS5aYS5zcGxpY2UobWUuWmEuaW5kZXhPZihqKSwxKSxqLlhhPTApOmo9PT0iY2FuY2VsVGhyZWFkIj9tZS5RYVtXLnRocmVhZF0ucG9zdE1lc3NhZ2Uoe2NtZDoiY2FuY2VsIn0pOmo9PT0ibG9hZGVkIj8ocC5sb2FkZWQ9ITAsRSYmIXAuWGEmJnAudW5yZWYoKSxfKHApKTpqPT09ImFsZXJ0Ij9hbGVydChgVGhyZWFkICR7Vy50aHJlYWRJZH06ICR7Vy50ZXh0fWApOlcudGFyZ2V0PT09InNldGltbWVkaWF0ZSI/cC5wb3N0TWVzc2FnZShXKTpqPT09ImNhbGxIYW5kbGVyIj91W1cuaGFuZGxlcl0oLi4uVy5hcmdzKTpqJiZEKGB3b3JrZXIgc2VudCBhbiB1bmtub3duIGNvbW1hbmQgJHtqfWApfSxwLm9uZXJyb3I9Vz0+e3Rocm93IEQoYHdvcmtlciBzZW50IGFuIGVycm9yISAke1cuZmlsZW5hbWV9OiR7Vy5saW5lbm99OiAke1cubWVzc2FnZX1gKSxXfSxFJiYocC5vbigibWVzc2FnZSIsVz0+cC5vbm1lc3NhZ2Uoe2RhdGE6V30pKSxwLm9uKCJlcnJvciIsVz0+cC5vbmVycm9yKFcpKSk7dmFyICQ9W10sQz1bIm9uRXhpdCJdLE07Zm9yKE0gb2YgQyl1Lmhhc093blByb3BlcnR5KE0pJiYkLnB1c2goTSk7cC5wb3N0TWVzc2FnZSh7Y21kOiJsb2FkIixoYW5kbGVyczokLHVybE9yQmxvYjp1Lm1haW5TY3JpcHRVcmxPckJsb2J8fG4sd2FzbU1lbW9yeTpMLHdhc21Nb2R1bGU6Vn0pfSl9O3UuUFRocmVhZD1tZTt2YXIgT3I9cD0+e2Zvcig7MDxwLmxlbmd0aDspcC5zaGlmdCgpKHUpfTt1LmVzdGFibGlzaFN0YWNrU3BhY2U9KCk9Pnt2YXIgcD15aSgpLF89bCgpW3ArNTI+Pj4yPj4+MF07cD1sKClbcCs1Nj4+PjI+Pj4wXSx0ZyhfLF8tcCksd2koXyl9O2Z1bmN0aW9uIFFuKHApe2lmKHgpcmV0dXJuIExlKDEsMCxwKTtncihwKX11Lmludm9rZUVudHJ5UG9pbnQ9KHAsXyk9PntwPXJnLmFwcGx5KG51bGwsW3AsX10pLDA8SnQ/bWUubmIocCk6cG8ocCl9O2Z1bmN0aW9uIG9vKHApe3RoaXMuZ2I9cC0yNCx0aGlzLnNiPWZ1bmN0aW9uKF8pe2woKVt0aGlzLmdiKzQ+Pj4yPj4+MF09X30sdGhpcy5yYj1mdW5jdGlvbihfKXtsKClbdGhpcy5nYis4Pj4+Mj4+PjBdPV99LHRoaXMuaGI9ZnVuY3Rpb24oXywkKXt0aGlzLnFiKCksdGhpcy5zYihfKSx0aGlzLnJiKCQpfSx0aGlzLnFiPWZ1bmN0aW9uKCl7bCgpW3RoaXMuZ2IrMTY+Pj4yPj4+MF09MH19dmFyIHJuPTA7ZnVuY3Rpb24gdWkocCxfLCQsQyl7cmV0dXJuIHg/TGUoMiwxLHAsXywkLEMpOmRpKHAsXywkLEMpfWZ1bmN0aW9uIGRpKHAsXywkLEMpe2lmKHA+Pj49MCxfPj4+PTAsJD4+Pj0wLEM+Pj49MCx0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI+InUiKXJldHVybiBEKCJDdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IHN1cHBvcnQgU2hhcmVkQXJyYXlCdWZmZXIsIHB0aHJlYWRzIGFyZSBub3QgYXZhaWxhYmxlISIpLDY7dmFyIE09W107cmV0dXJuIHgmJk0ubGVuZ3RoPT09MD91aShwLF8sJCxDKToocD17RGI6JCxYYTpwLHRiOkMsSmI6TX0seD8ocC5MYj0ic3Bhd25UaHJlYWQiLHBvc3RNZXNzYWdlKHAsTSksMCk6ZW4ocCkpfWZ1bmN0aW9uIGNpKHAsXywkKXtyZXR1cm4geD9MZSgzLDEscCxfLCQpOjB9ZnVuY3Rpb24gcGkocCxfKXtpZih4KXJldHVybiBMZSg0LDEscCxfKX12YXIgWm49cD0+e2Zvcih2YXIgXz0wLCQ9MDskPHAubGVuZ3RoOysrJCl7dmFyIEM9cC5jaGFyQ29kZUF0KCQpOzEyNz49Qz9fKys6MjA0Nz49Qz9fKz0yOjU1Mjk2PD1DJiY1NzM0Mz49Qz8oXys9NCwrKyQpOl8rPTN9cmV0dXJuIF99LGhpPShwLF8sJCxDKT0+e2lmKCQ+Pj49MCwhKDA8QykpcmV0dXJuIDA7dmFyIE09JDtDPSQrQy0xO2Zvcih2YXIgVz0wO1c8cC5sZW5ndGg7KytXKXt2YXIgaj1wLmNoYXJDb2RlQXQoVyk7aWYoNTUyOTY8PWomJjU3MzQzPj1qKXt2YXIgZmU9cC5jaGFyQ29kZUF0KCsrVyk7aj02NTUzNisoKGomMTAyMyk8PDEwKXxmZSYxMDIzfWlmKDEyNz49ail7aWYoJD49QylicmVhaztfWyQrKz4+PjBdPWp9ZWxzZXtpZigyMDQ3Pj1qKXtpZigkKzE+PUMpYnJlYWs7X1skKys+Pj4wXT0xOTJ8aj4+Nn1lbHNle2lmKDY1NTM1Pj1qKXtpZigkKzI+PUMpYnJlYWs7X1skKys+Pj4wXT0yMjR8aj4+MTJ9ZWxzZXtpZigkKzM+PUMpYnJlYWs7X1skKys+Pj4wXT0yNDB8aj4+MTgsX1skKys+Pj4wXT0xMjh8aj4+MTImNjN9X1skKys+Pj4wXT0xMjh8aj4+NiY2M31fWyQrKz4+PjBdPTEyOHxqJjYzfX1yZXR1cm4gX1skPj4+MF09MCwkLU19LGhlPShwLF8sJCk9PmhpKHAscygpLF8sJCk7ZnVuY3Rpb24gSm4ocCxfKXtpZih4KXJldHVybiBMZSg1LDEscCxfKX1mdW5jdGlvbiBubihwLF8sJCl7aWYoeClyZXR1cm4gTGUoNiwxLHAsXywkKX1mdW5jdGlvbiBlYShwLF8sJCl7cmV0dXJuIHg/TGUoNywxLHAsXywkKTowfWZ1bmN0aW9uIHRhKHAsXyl7aWYoeClyZXR1cm4gTGUoOCwxLHAsXyl9ZnVuY3Rpb24gcmEocCxfLCQpe2lmKHgpcmV0dXJuIExlKDksMSxwLF8sJCl9ZnVuY3Rpb24gbmEocCxfLCQsQyl7aWYoeClyZXR1cm4gTGUoMTAsMSxwLF8sJCxDKX1mdW5jdGlvbiBhYShwLF8sJCxDKXtpZih4KXJldHVybiBMZSgxMSwxLHAsXywkLEMpfWZ1bmN0aW9uIGlhKHAsXywkLEMpe2lmKHgpcmV0dXJuIExlKDEyLDEscCxfLCQsQyl9ZnVuY3Rpb24gc2EocCl7aWYoeClyZXR1cm4gTGUoMTMsMSxwKX1mdW5jdGlvbiBvYShwLF8pe2lmKHgpcmV0dXJuIExlKDE0LDEscCxfKX1mdW5jdGlvbiBsYShwLF8sJCl7aWYoeClyZXR1cm4gTGUoMTUsMSxwLF8sJCl9dmFyIGZpPSgpPT57aWYoISgwPEp0KSl0cnl7eD9wbyhYKTpncihYKX1jYXRjaChwKXtYbihwKX19O2Z1bmN0aW9uIF9yKHApe3A+Pj49MCx0eXBlb2YgQXRvbWljcy5LYj09ImZ1bmN0aW9uIiYmKEF0b21pY3MuS2IobygpLHA+Pj4yLHApLnZhbHVlLnRoZW4oTXIpLHArPTEyOCxBdG9taWNzLnN0b3JlKG8oKSxwPj4+MiwxKSl9dS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX21haWxib3hfYXdhaXQ9X3I7dmFyIE1yPSgpPT57dmFyIHA9eWkoKTtpZihwJiYoX3IocCksIXRlKSl0cnl7Sm0oKSxmaSgpfWNhdGNoKF8pe1huKF8pfX07dS5jaGVja01haWxib3g9TXI7dmFyIG09W10sYj1wPT5wJTQ9PT0wJiYocCUxMDAhPT0wfHxwJTQwMD09PTApLFM9WzAsMzEsNjAsOTEsMTIxLDE1MiwxODIsMjEzLDI0NCwyNzQsMzA1LDMzNV0sQT1bMCwzMSw1OSw5MCwxMjAsMTUxLDE4MSwyMTIsMjQzLDI3MywzMDQsMzM0XTtmdW5jdGlvbiBQKHAsXywkLEMsTSxXLGosZmUpe3JldHVybiB4P0xlKDE2LDEscCxfLCQsQyxNLFcsaixmZSk6LTUyfWZ1bmN0aW9uIFkocCxfLCQsQyxNLFcsail7aWYoeClyZXR1cm4gTGUoMTcsMSxwLF8sJCxDLE0sVyxqKX12YXIgYWU9cD0+e3ZhciBfPVpuKHApKzEsJD11byhfKTtyZXR1cm4gJCYmaGUocCwkLF8pLCR9LHllPVtdLGxlPShwLF8pPT57eWUubGVuZ3RoPTA7Zm9yKHZhciAkOyQ9cygpW3ArKz4+PjBdOyl7dmFyIEM9JCE9MTA1O0MmPSQhPTExMixfKz1DJiZfJTg/NDowLHllLnB1c2goJD09MTEyP2woKVtfPj4+Mj4+PjBdOiQ9PTEwNT9vKClbXz4+PjI+Pj4wXTpjKClbXz4+PjM+Pj4wXSksXys9Qz84OjR9cmV0dXJuIHllfSxkZT17fSxnZT0oKT0+e2lmKCFFZSl7dmFyIHA9e1VTRVI6IndlYl91c2VyIixMT0dOQU1FOiJ3ZWJfdXNlciIsUEFUSDoiLyIsUFdEOiIvIixIT01FOiIvaG9tZS93ZWJfdXNlciIsTEFORzoodHlwZW9mIG5hdmlnYXRvcj09Im9iamVjdCImJm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fCJDIikucmVwbGFjZSgiLSIsIl8iKSsiLlVURi04IixfOnl8fCIuL3RoaXMucHJvZ3JhbSJ9LF87Zm9yKF8gaW4gZGUpZGVbX109PT12b2lkIDA/ZGVsZXRlIHBbX106cFtfXT1kZVtfXTt2YXIgJD1bXTtmb3IoXyBpbiBwKSQucHVzaChgJHtffT0ke3BbX119YCk7RWU9JH1yZXR1cm4gRWV9LEVlO2Z1bmN0aW9uIHplKHAsXyl7aWYoeClyZXR1cm4gTGUoMTgsMSxwLF8pO3A+Pj49MCxfPj4+PTA7dmFyICQ9MDtyZXR1cm4gZ2UoKS5mb3JFYWNoKChDLE0pPT57dmFyIFc9XyskO2ZvcihNPWwoKVtwKzQqTT4+PjI+Pj4wXT1XLFc9MDtXPEMubGVuZ3RoOysrVylpKClbTSsrPj4+MD4+PjBdPUMuY2hhckNvZGVBdChXKTtpKClbTT4+PjA+Pj4wXT0wLCQrPUMubGVuZ3RoKzF9KSwwfWZ1bmN0aW9uIHoocCxfKXtpZih4KXJldHVybiBMZSgxOSwxLHAsXyk7cD4+Pj0wLF8+Pj49MDt2YXIgJD1nZSgpO2woKVtwPj4+Mj4+PjBdPSQubGVuZ3RoO3ZhciBDPTA7cmV0dXJuICQuZm9yRWFjaChNPT5DKz1NLmxlbmd0aCsxKSxsKClbXz4+PjI+Pj4wXT1DLDB9ZnVuY3Rpb24gX2UocCl7cmV0dXJuIHg/TGUoMjAsMSxwKTo1Mn1mdW5jdGlvbiBBZShwLF8sJCxDKXtyZXR1cm4geD9MZSgyMSwxLHAsXywkLEMpOjUyfWZ1bmN0aW9uIHRyKHAsXywkLEMsTSl7cmV0dXJuIHg/TGUoMjIsMSxwLF8sJCxDLE0pOjcwfXZhciBtaT1bbnVsbCxbXSxbXV07ZnVuY3Rpb24gRm0ocCxfLCQsQyl7aWYoeClyZXR1cm4gTGUoMjMsMSxwLF8sJCxDKTtfPj4+PTAsJD4+Pj0wLEM+Pj49MDtmb3IodmFyIE09MCxXPTA7VzwkO1crKyl7dmFyIGo9bCgpW18+Pj4yPj4+MF0sZmU9bCgpW18rND4+PjI+Pj4wXTtfKz04O2Zvcih2YXIgY2U9MDtjZTxmZTtjZSsrKXt2YXIgcGU9cygpW2orY2U+Pj4wXSx3ZT1taVtwXTtwZT09PTB8fHBlPT09MTA/KChwPT09MT9xOkQpKHNpKHdlLDApKSx3ZS5sZW5ndGg9MCk6d2UucHVzaChwZSl9TSs9ZmV9cmV0dXJuIGwoKVtDPj4+Mj4+PjBdPU0sMH12YXIgVm09WzMxLDI5LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXSxIbT1bMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO2Z1bmN0aW9uIFQzKHApe3ZhciBfPUFycmF5KFpuKHApKzEpO3JldHVybiBoaShwLF8sMCxfLmxlbmd0aCksX312YXIgTzM9KHAsXyk9PntpKCkuc2V0KHAsXz4+PjApfTtmdW5jdGlvbiBHbShwLF8sJCxDKXtmdW5jdGlvbiBNKFIsYmUsQmUpe2ZvcihSPXR5cGVvZiBSPT0ibnVtYmVyIj9SLnRvU3RyaW5nKCk6Unx8IiI7Ui5sZW5ndGg8YmU7KVI9QmVbMF0rUjtyZXR1cm4gUn1mdW5jdGlvbiBXKFIsYmUpe3JldHVybiBNKFIsYmUsIjAiKX1mdW5jdGlvbiBqKFIsYmUpe2Z1bmN0aW9uIEJlKGxnKXtyZXR1cm4gMD5sZz8tMTowPGxnPzE6MH12YXIgenI7cmV0dXJuKHpyPUJlKFIuZ2V0RnVsbFllYXIoKS1iZS5nZXRGdWxsWWVhcigpKSk9PT0wJiYoenI9QmUoUi5nZXRNb250aCgpLWJlLmdldE1vbnRoKCkpKT09PTAmJih6cj1CZShSLmdldERhdGUoKS1iZS5nZXREYXRlKCkpKSx6cn1mdW5jdGlvbiBmZShSKXtzd2l0Y2goUi5nZXREYXkoKSl7Y2FzZSAwOnJldHVybiBuZXcgRGF0ZShSLmdldEZ1bGxZZWFyKCktMSwxMSwyOSk7Y2FzZSAxOnJldHVybiBSO2Nhc2UgMjpyZXR1cm4gbmV3IERhdGUoUi5nZXRGdWxsWWVhcigpLDAsMyk7Y2FzZSAzOnJldHVybiBuZXcgRGF0ZShSLmdldEZ1bGxZZWFyKCksMCwyKTtjYXNlIDQ6cmV0dXJuIG5ldyBEYXRlKFIuZ2V0RnVsbFllYXIoKSwwLDEpO2Nhc2UgNTpyZXR1cm4gbmV3IERhdGUoUi5nZXRGdWxsWWVhcigpLTEsMTEsMzEpO2Nhc2UgNjpyZXR1cm4gbmV3IERhdGUoUi5nZXRGdWxsWWVhcigpLTEsMTEsMzApfX1mdW5jdGlvbiBjZShSKXt2YXIgYmU9Ui4kYTtmb3IoUj1uZXcgRGF0ZShuZXcgRGF0ZShSLmFiKzE5MDAsMCwxKS5nZXRUaW1lKCkpOzA8YmU7KXt2YXIgQmU9Ui5nZXRNb250aCgpLHpyPShiKFIuZ2V0RnVsbFllYXIoKSk/Vm06SG0pW0JlXTtpZihiZT56ci1SLmdldERhdGUoKSliZS09enItUi5nZXREYXRlKCkrMSxSLnNldERhdGUoMSksMTE+QmU/Ui5zZXRNb250aChCZSsxKTooUi5zZXRNb250aCgwKSxSLnNldEZ1bGxZZWFyKFIuZ2V0RnVsbFllYXIoKSsxKSk7ZWxzZXtSLnNldERhdGUoUi5nZXREYXRlKCkrYmUpO2JyZWFrfX1yZXR1cm4gQmU9bmV3IERhdGUoUi5nZXRGdWxsWWVhcigpKzEsMCw0KSxiZT1mZShuZXcgRGF0ZShSLmdldEZ1bGxZZWFyKCksMCw0KSksQmU9ZmUoQmUpLDA+PWooYmUsUik/MD49aihCZSxSKT9SLmdldEZ1bGxZZWFyKCkrMTpSLmdldEZ1bGxZZWFyKCk6Ui5nZXRGdWxsWWVhcigpLTF9cD4+Pj0wLF8+Pj49MCwkPj4+PTAsQz4+Pj0wO3ZhciBwZT1sKClbQys0MD4+PjI+Pj4wXTtDPXtIYjpvKClbQz4+PjI+Pj4wXSxHYjpvKClbQys0Pj4+Mj4+PjBdLGViOm8oKVtDKzg+Pj4yPj4+MF0samI6bygpW0MrMTI+Pj4yPj4+MF0sZmI6bygpW0MrMTY+Pj4yPj4+MF0sYWI6bygpW0MrMjA+Pj4yPj4+MF0sV2E6bygpW0MrMjQ+Pj4yPj4+MF0sJGE6bygpW0MrMjg+Pj4yPj4+MF0sT2I6bygpW0MrMzI+Pj4yPj4+MF0sRmI6bygpW0MrMzY+Pj4yPj4+MF0sSWI6cGU/b3QocGUpOiIifSwkPW90KCQpLHBlPXsiJWMiOiIlYSAlYiAlZCAlSDolTTolUyAlWSIsIiVEIjoiJW0vJWQvJXkiLCIlRiI6IiVZLSVtLSVkIiwiJWgiOiIlYiIsIiVyIjoiJUk6JU06JVMgJXAiLCIlUiI6IiVIOiVNIiwiJVQiOiIlSDolTTolUyIsIiV4IjoiJW0vJWQvJXkiLCIlWCI6IiVIOiVNOiVTIiwiJUVjIjoiJWMiLCIlRUMiOiIlQyIsIiVFeCI6IiVtLyVkLyV5IiwiJUVYIjoiJUg6JU06JVMiLCIlRXkiOiIleSIsIiVFWSI6IiVZIiwiJU9kIjoiJWQiLCIlT2UiOiIlZSIsIiVPSCI6IiVIIiwiJU9JIjoiJUkiLCIlT20iOiIlbSIsIiVPTSI6IiVNIiwiJU9TIjoiJVMiLCIlT3UiOiIldSIsIiVPVSI6IiVVIiwiJU9WIjoiJVYiLCIlT3ciOiIldyIsIiVPVyI6IiVXIiwiJU95IjoiJXkifTtmb3IodmFyIHdlIGluIHBlKSQ9JC5yZXBsYWNlKG5ldyBSZWdFeHAod2UsImciKSxwZVt3ZV0pO3ZhciBNZT0iU3VuZGF5IE1vbmRheSBUdWVzZGF5IFdlZG5lc2RheSBUaHVyc2RheSBGcmlkYXkgU2F0dXJkYXkiLnNwbGl0KCIgIiksTmU9IkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXIiLnNwbGl0KCIgIik7cGU9eyIlYSI6Uj0+TWVbUi5XYV0uc3Vic3RyaW5nKDAsMyksIiVBIjpSPT5NZVtSLldhXSwiJWIiOlI9Pk5lW1IuZmJdLnN1YnN0cmluZygwLDMpLCIlQiI6Uj0+TmVbUi5mYl0sIiVDIjpSPT5XKChSLmFiKzE5MDApLzEwMHwwLDIpLCIlZCI6Uj0+VyhSLmpiLDIpLCIlZSI6Uj0+TShSLmpiLDIsIiAiKSwiJWciOlI9PmNlKFIpLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpLCIlRyI6Uj0+Y2UoUiksIiVIIjpSPT5XKFIuZWIsMiksIiVJIjpSPT4oUj1SLmViLFI9PTA/Uj0xMjoxMjxSJiYoUi09MTIpLFcoUiwyKSksIiVqIjpSPT57Zm9yKHZhciBiZT0wLEJlPTA7QmU8PVIuZmItMTtiZSs9KGIoUi5hYisxOTAwKT9WbTpIbSlbQmUrK10pO3JldHVybiBXKFIuamIrYmUsMyl9LCIlbSI6Uj0+VyhSLmZiKzEsMiksIiVNIjpSPT5XKFIuR2IsMiksIiVuIjooKT0+YApgLCIlcCI6Uj0+MDw9Ui5lYiYmMTI+Ui5lYj8iQU0iOiJQTSIsIiVTIjpSPT5XKFIuSGIsMiksIiV0IjooKT0+IgkiLCIldSI6Uj0+Ui5XYXx8NywiJVUiOlI9PlcoTWF0aC5mbG9vcigoUi4kYSs3LVIuV2EpLzcpLDIpLCIlViI6Uj0+e3ZhciBiZT1NYXRoLmZsb29yKChSLiRhKzctKFIuV2ErNiklNykvNyk7aWYoMj49KFIuV2ErMzcxLVIuJGEtMiklNyYmYmUrKyxiZSliZT09NTMmJihCZT0oUi5XYSszNzEtUi4kYSklNyxCZT09NHx8QmU9PTMmJmIoUi5hYil8fChiZT0xKSk7ZWxzZXtiZT01Mjt2YXIgQmU9KFIuV2ErNy1SLiRhLTEpJTc7KEJlPT00fHxCZT09NSYmYihSLmFiJTQwMC0xKSkmJmJlKyt9cmV0dXJuIFcoYmUsMil9LCIldyI6Uj0+Ui5XYSwiJVciOlI9PlcoTWF0aC5mbG9vcigoUi4kYSs3LShSLldhKzYpJTcpLzcpLDIpLCIleSI6Uj0+KFIuYWIrMTkwMCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMiksIiVZIjpSPT5SLmFiKzE5MDAsIiV6IjpSPT57Uj1SLkZiO3ZhciBiZT0wPD1SO3JldHVybiBSPU1hdGguYWJzKFIpLzYwLChiZT8iKyI6Ii0iKSsoIjAwMDAiKyhSLzYwKjEwMCtSJTYwKSkuc2xpY2UoLTQpfSwiJVoiOlI9PlIuSWIsIiUlIjooKT0+IiUifSwkPSQucmVwbGFjZSgvJSUvZywiXDBcMCIpO2Zvcih3ZSBpbiBwZSkkLmluY2x1ZGVzKHdlKSYmKCQ9JC5yZXBsYWNlKG5ldyBSZWdFeHAod2UsImciKSxwZVt3ZV0oQykpKTtyZXR1cm4gJD0kLnJlcGxhY2UoL1wwXDAvZywiJSIpLHdlPVQzKCQpLHdlLmxlbmd0aD5fPzA6KE8zKHdlLHApLHdlLmxlbmd0aC0xKX12YXIgZ2k9cD0+e3RyeXtwKCl9Y2F0Y2goXyl7bXIoXyl9fTtmdW5jdGlvbiBNMygpe3ZhciBwPXNlLF89e307Zm9yKGxldFskLENdb2YgT2JqZWN0LmVudHJpZXMocCkpX1skXT10eXBlb2YgQz09ImZ1bmN0aW9uIj9mdW5jdGlvbigpe19pLnB1c2goJCk7dHJ5e3JldHVybiBDLmFwcGx5KG51bGwsYXJndW1lbnRzKX1maW5hbGx5e3RlfHwoX2kucG9wKCkscnImJnlyPT09MSYmX2kubGVuZ3RoPT09MCYmKHlyPTAsSnQrPTEsZ2koYWcpLHR5cGVvZiBGaWJlcnM8InUiJiZGaWJlcnMuUGIoKSkpfX06QztyZXR1cm4gX312YXIgeXI9MCxycj1udWxsLHFtPTAsX2k9W10sam09e30sS209e30sejM9MCxsbz1udWxsLEIzPVtdO2Z1bmN0aW9uIFIzKCl7cmV0dXJuIG5ldyBQcm9taXNlKChwLF8pPT57bG89e3Jlc29sdmU6cCxyZWplY3Q6X319KX1mdW5jdGlvbiBEMygpe3ZhciBwPXVvKDY1NTQ4KSxfPXArMTI7bCgpW3A+Pj4yPj4+MF09XyxsKClbcCs0Pj4+Mj4+PjBdPV8rNjU1MzYsXz1faVswXTt2YXIgJD1qbVtfXTtyZXR1cm4gJD09PXZvaWQgMCYmKCQ9ejMrKyxqbVtfXT0kLEttWyRdPV8pLF89JCxvKClbcCs4Pj4+Mj4+PjBdPV8scH1mdW5jdGlvbiBQMygpe3ZhciBwPW8oKVtycis4Pj4+Mj4+PjBdO3JldHVybiBwPXNlW0ttW3BdXSwtLUp0LHAoKX1mdW5jdGlvbiBOMyhwKXtpZighdGUpe2lmKHlyPT09MCl7dmFyIF89ITEsJD0hMTtwKChDPTApPT57aWYoIXRlJiYocW09QyxfPSEwLCQpKXt5cj0yLGdpKCgpPT5pZyhycikpLHR5cGVvZiBCcm93c2VyPCJ1IiYmQnJvd3Nlci5pYi52YiYmQnJvd3Nlci5pYi5yZXN1bWUoKSxDPSExO3RyeXt2YXIgTT1QMygpfWNhdGNoKGZlKXtNPWZlLEM9ITB9dmFyIFc9ITE7aWYoIXJyKXt2YXIgaj1sbztqJiYobG89bnVsbCwoQz9qLnJlamVjdDpqLnJlc29sdmUpKE0pLFc9ITApfWlmKEMmJiFXKXRocm93IE19fSksJD0hMCxffHwoeXI9MSxycj1EMygpLHR5cGVvZiBCcm93c2VyPCJ1IiYmQnJvd3Nlci5pYi52YiYmQnJvd3Nlci5pYi5wYXVzZSgpLGdpKCgpPT5uZyhycikpKX1lbHNlIHlyPT09Mj8oeXI9MCxnaShzZyksWG0ocnIpLHJyPW51bGwsQjMuZm9yRWFjaChDPT57aWYoIXRlKXRyeXtDKCksZmkoKX1jYXRjaChNKXtYbihNKX19KSk6bXIoYGludmFsaWQgc3RhdGU6ICR7eXJ9YCk7cmV0dXJuIHFtfX1mdW5jdGlvbiBVMyhwKXtyZXR1cm4gTjMoXz0+e3AoKS50aGVuKF8pfSl9bWUuaGIoKTt2YXIgVzM9W1luLFFuLHVpLGNpLHBpLEpuLG5uLGVhLHRhLHJhLG5hLGFhLGlhLHNhLG9hLGxhLFAsWSx6ZSx6LF9lLEFlLHRyLEZtXSxMMz17cjpmdW5jdGlvbihwLF8sJCl7cmV0dXJuIFUzKGFzeW5jKCk9Pnthd2FpdCB1LnhiKHAsXywkKX0pfSxiOmZ1bmN0aW9uKHAsXywkKXt0aHJvdyBwPj4+PTAsbmV3IG9vKHApLmhiKF8+Pj4wLCQ+Pj4wKSxybj1wLHJufSxOOmZ1bmN0aW9uKHApe1FtKHA+Pj4wLCFrLDEsIXYsMTMxMDcyLCExKSxtZS5vYigpfSxsOmZ1bmN0aW9uKHApe3A+Pj49MCx4P3Bvc3RNZXNzYWdlKHtjbWQ6ImNsZWFudXBUaHJlYWQiLHRocmVhZDpwfSk6bWUubWIobWUuUWFbcF0pfSxKOmRpLGk6Y2ksVDpwaSxGOkpuLEg6bm4sVTplYSxSOnRhLEw6cmEsUTpuYSxwOmFhLEc6aWEsRDpzYSxTOm9hLEU6bGEscTooKT0+MSxCOmZ1bmN0aW9uKHAsXyl7cD4+Pj0wLHA9PV8+Pj4wP3NldFRpbWVvdXQoKCk9Pk1yKCkpOng/cG9zdE1lc3NhZ2Uoe3RhcmdldFRocmVhZDpwLGNtZDoiY2hlY2tNYWlsYm94In0pOihwPW1lLlFhW3BdKSYmcC5wb3N0TWVzc2FnZSh7Y21kOiJjaGVja01haWxib3gifSl9LEs6ZnVuY3Rpb24ocCxfLCQsQyl7Xz4+Pj0wLG0ubGVuZ3RoPSQsQz1DPj4+MD4+PjM7Zm9yKHZhciBNPTA7TTwkO00rKyltW01dPWMoKVtDK00+Pj4wXTtyZXR1cm4gcD0wPnA/WnJbLXAtMV06VzNbcF0sbWUudWI9XyxfPXAuYXBwbHkobnVsbCxtKSxtZS51Yj0wLF99LE06X3IsVzpmdW5jdGlvbihwKXtFJiZtZS5RYVtwPj4+MF0ucmVmKCl9LHU6ZnVuY3Rpb24ocCxfLCQpe3A9XysyMDk3MTUyPj4+MDw0MTk0MzA1LSEhcD8ocD4+PjApKzQyOTQ5NjcyOTYqXzpOYU4sJD4+Pj0wLHA9bmV3IERhdGUoMWUzKnApLG8oKVskPj4+Mj4+PjBdPXAuZ2V0VVRDU2Vjb25kcygpLG8oKVskKzQ+Pj4yPj4+MF09cC5nZXRVVENNaW51dGVzKCksbygpWyQrOD4+PjI+Pj4wXT1wLmdldFVUQ0hvdXJzKCksbygpWyQrMTI+Pj4yPj4+MF09cC5nZXRVVENEYXRlKCksbygpWyQrMTY+Pj4yPj4+MF09cC5nZXRVVENNb250aCgpLG8oKVskKzIwPj4+Mj4+PjBdPXAuZ2V0VVRDRnVsbFllYXIoKS0xOTAwLG8oKVskKzI0Pj4+Mj4+PjBdPXAuZ2V0VVRDRGF5KCkscD0ocC5nZXRUaW1lKCktRGF0ZS5VVEMocC5nZXRVVENGdWxsWWVhcigpLDAsMSwwLDAsMCwwKSkvODY0ZTV8MCxvKClbJCsyOD4+PjI+Pj4wXT1wfSx2OmZ1bmN0aW9uKHAsXywkKXtwPV8rMjA5NzE1Mj4+PjA8NDE5NDMwNS0hIXA/KHA+Pj4wKSs0Mjk0OTY3Mjk2Kl86TmFOLCQ+Pj49MCxwPW5ldyBEYXRlKDFlMypwKSxvKClbJD4+PjI+Pj4wXT1wLmdldFNlY29uZHMoKSxvKClbJCs0Pj4+Mj4+PjBdPXAuZ2V0TWludXRlcygpLG8oKVskKzg+Pj4yPj4+MF09cC5nZXRIb3VycygpLG8oKVskKzEyPj4+Mj4+PjBdPXAuZ2V0RGF0ZSgpLG8oKVskKzE2Pj4+Mj4+PjBdPXAuZ2V0TW9udGgoKSxvKClbJCsyMD4+PjI+Pj4wXT1wLmdldEZ1bGxZZWFyKCktMTkwMCxvKClbJCsyND4+PjI+Pj4wXT1wLmdldERheSgpLF89KGIocC5nZXRGdWxsWWVhcigpKT9TOkEpW3AuZ2V0TW9udGgoKV0rcC5nZXREYXRlKCktMXwwLG8oKVskKzI4Pj4+Mj4+PjBdPV8sbygpWyQrMzY+Pj4yPj4+MF09LSg2MCpwLmdldFRpbWV6b25lT2Zmc2V0KCkpLF89bmV3IERhdGUocC5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgQz1uZXcgRGF0ZShwLmdldEZ1bGxZZWFyKCksMCwxKS5nZXRUaW1lem9uZU9mZnNldCgpO3A9KF8hPUMmJnAuZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4oQyxfKSl8MCxvKClbJCszMj4+PjI+Pj4wXT1wfSx3OmZ1bmN0aW9uKHApe3A+Pj49MDt2YXIgXz1uZXcgRGF0ZShvKClbcCsyMD4+PjI+Pj4wXSsxOTAwLG8oKVtwKzE2Pj4+Mj4+PjBdLG8oKVtwKzEyPj4+Mj4+PjBdLG8oKVtwKzg+Pj4yPj4+MF0sbygpW3ArND4+PjI+Pj4wXSxvKClbcD4+PjI+Pj4wXSwwKSwkPW8oKVtwKzMyPj4+Mj4+PjBdLEM9Xy5nZXRUaW1lem9uZU9mZnNldCgpLE09bmV3IERhdGUoXy5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxXPW5ldyBEYXRlKF8uZ2V0RnVsbFllYXIoKSwwLDEpLmdldFRpbWV6b25lT2Zmc2V0KCksaj1NYXRoLm1pbihXLE0pO3JldHVybiAwPiQ/bygpW3ArMzI+Pj4yPj4+MF09KyhNIT1XJiZqPT1DKTowPCQhPShqPT1DKSYmKE09TWF0aC5tYXgoVyxNKSxfLnNldFRpbWUoXy5nZXRUaW1lKCkrNmU0KigoMDwkP2o6TSktQykpKSxvKClbcCsyND4+PjI+Pj4wXT1fLmdldERheSgpLCQ9KGIoXy5nZXRGdWxsWWVhcigpKT9TOkEpW18uZ2V0TW9udGgoKV0rXy5nZXREYXRlKCktMXwwLG8oKVtwKzI4Pj4+Mj4+PjBdPSQsbygpW3A+Pj4yPj4+MF09Xy5nZXRTZWNvbmRzKCksbygpW3ArND4+PjI+Pj4wXT1fLmdldE1pbnV0ZXMoKSxvKClbcCs4Pj4+Mj4+PjBdPV8uZ2V0SG91cnMoKSxvKClbcCsxMj4+PjI+Pj4wXT1fLmdldERhdGUoKSxvKClbcCsxNj4+PjI+Pj4wXT1fLmdldE1vbnRoKCksbygpW3ArMjA+Pj4yPj4+MF09Xy5nZXRZZWFyKCkscD1fLmdldFRpbWUoKSxpc05hTihwKT8obygpW1ltKCk+Pj4yPj4+MF09NjEscD0tMSk6cC89MWUzLGVnKChscj1wLDE8PStNYXRoLmFicyhscik/MDxscj8rTWF0aC5mbG9vcihsci80Mjk0OTY3Mjk2KT4+PjA6fn4rTWF0aC5jZWlsKChsci0rKH5+bHI+Pj4wKSkvNDI5NDk2NzI5Nik+Pj4wOjApKSxwPj4+MH0sczpQLHQ6WSxBOmZ1bmN0aW9uKHAsXywkKXtmdW5jdGlvbiBDKHBlKXtyZXR1cm4ocGU9cGUudG9UaW1lU3RyaW5nKCkubWF0Y2goL1woKFtBLVphLXogXSspXCkkLykpP3BlWzFdOiJHTVQifXA+Pj49MCxfPj4+PTAsJD4+Pj0wO3ZhciBNPW5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSxXPW5ldyBEYXRlKE0sMCwxKSxqPW5ldyBEYXRlKE0sNiwxKTtNPVcuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgZmU9ai5nZXRUaW1lem9uZU9mZnNldCgpLGNlPU1hdGgubWF4KE0sZmUpO2woKVtwPj4+Mj4+PjBdPTYwKmNlLG8oKVtfPj4+Mj4+PjBdPSsoTSE9ZmUpLHA9QyhXKSxfPUMoaikscD1hZShwKSxfPWFlKF8pLGZlPE0/KGwoKVskPj4+Mj4+PjBdPXAsbCgpWyQrND4+PjI+Pj4wXT1fKToobCgpWyQ+Pj4yPj4+MF09XyxsKClbJCs0Pj4+Mj4+PjBdPXApfSxkOigpPT57bXIoIiIpfSxjOmZ1bmN0aW9uKHAsXywkKXtyZXR1cm4gcD4+Pj0wLF89bGUoXz4+PjAsJD4+PjApLFpyW3BdLmFwcGx5KG51bGwsXyl9LGs6ZnVuY3Rpb24ocCxfLCQpe3JldHVybiBwPj4+PTAsXz1sZShfPj4+MCwkPj4+MCksWnJbcF0uYXBwbHkobnVsbCxfKX0sbTooKT0+e30sajooKT0+RGF0ZS5ub3coKSxWOigpPT57dGhyb3cgSnQrPTEsInVud2luZCJ9LEM6ZnVuY3Rpb24oKXtyZXR1cm4gNDI5NDkwMTc2MH0sZjooKT0+cGVyZm9ybWFuY2UudGltZU9yaWdpbitwZXJmb3JtYW5jZS5ub3coKSxnOigpPT5FPyhaZygpLHdyKFlvKSkuY3B1cygpLmxlbmd0aDpuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSx5OmZ1bmN0aW9uKHApe3A+Pj49MDt2YXIgXz1zKCkubGVuZ3RoO2lmKHA8PV98fDQyOTQ5MDE3NjA8cClyZXR1cm4hMTtmb3IodmFyICQ9MTs0Pj0kOyQqPTIpe3ZhciBDPV8qKDErLjIvJCk7Qz1NYXRoLm1pbihDLHArMTAwNjYzMjk2KTt2YXIgTT1NYXRoO0M9TWF0aC5tYXgocCxDKTtlOntNPShNLm1pbi5jYWxsKE0sNDI5NDkwMTc2MCxDKyg2NTUzNi1DJTY1NTM2KSU2NTUzNiktTC5idWZmZXIuYnl0ZUxlbmd0aCs2NTUzNSkvNjU1MzY7dHJ5e0wuZ3JvdyhNKSxWZSgpO3ZhciBXPTE7YnJlYWsgZX1jYXRjaHt9Vz12b2lkIDB9aWYoVylyZXR1cm4hMH1yZXR1cm4hMX0sTzp6ZSxQOnosSTpncixoOl9lLG86QWUseDp0cixuOkZtLGE6THx8dS53YXNtTWVtb3J5LHo6R20sZTpmdW5jdGlvbihwLF8sJCxDKXtyZXR1cm4gR20ocD4+PjAsXz4+PjAsJD4+PjAsQz4+PjApfX0sc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBwKCQsQyl7cmV0dXJuIHNlPSQuZXhwb3J0cyxzZT1NMygpLHNlPUYzKCksbWUucGIucHVzaChzZS5EYSksSGUudW5zaGlmdChzZS5YKSxWPUMsYWkoKSxzZX12YXIgXz17YTpMM307aWYoenQrKyx1Lmluc3RhbnRpYXRlV2FzbSl0cnl7cmV0dXJuIHUuaW5zdGFudGlhdGVXYXNtKF8scCl9Y2F0Y2goJCl7RChgTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogJHskfWApLGYoJCl9cmV0dXJuIGlpKF8sZnVuY3Rpb24oJCl7cCgkLmluc3RhbmNlLCQubW9kdWxlKX0pLmNhdGNoKGYpLHt9fSgpO3UuX09ydEluaXQ9KHAsXyk9Pih1Ll9PcnRJbml0PXNlLlkpKHAsXyksdS5fT3J0R2V0TGFzdEVycm9yPShwLF8pPT4odS5fT3J0R2V0TGFzdEVycm9yPXNlLlopKHAsXyksdS5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9KHAsXywkLEMsTSxXLGosZmUsY2UscGUpPT4odS5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9c2UuXykocCxfLCQsQyxNLFcsaixmZSxjZSxwZSksdS5fT3J0QXBwZW5kRXhlY3V0aW9uUHJvdmlkZXI9KHAsXyk9Pih1Ll9PcnRBcHBlbmRFeGVjdXRpb25Qcm92aWRlcj1zZS4kKShwLF8pLHUuX09ydEFkZEZyZWVEaW1lbnNpb25PdmVycmlkZT0ocCxfLCQpPT4odS5fT3J0QWRkRnJlZURpbWVuc2lvbk92ZXJyaWRlPXNlLmFhKShwLF8sJCksdS5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5PShwLF8sJCk9Pih1Ll9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnk9c2UuYmEpKHAsXywkKSx1Ll9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnM9cD0+KHUuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucz1zZS5jYSkocCksdS5fT3J0Q3JlYXRlU2Vzc2lvbj0ocCxfLCQpPT4odS5fT3J0Q3JlYXRlU2Vzc2lvbj1zZS5kYSkocCxfLCQpLHUuX09ydFJlbGVhc2VTZXNzaW9uPXA9Pih1Ll9PcnRSZWxlYXNlU2Vzc2lvbj1zZS5lYSkocCksdS5fT3J0R2V0SW5wdXRPdXRwdXRDb3VudD0ocCxfLCQpPT4odS5fT3J0R2V0SW5wdXRPdXRwdXRDb3VudD1zZS5mYSkocCxfLCQpLHUuX09ydEdldElucHV0TmFtZT0ocCxfKT0+KHUuX09ydEdldElucHV0TmFtZT1zZS5nYSkocCxfKSx1Ll9PcnRHZXRPdXRwdXROYW1lPShwLF8pPT4odS5fT3J0R2V0T3V0cHV0TmFtZT1zZS5oYSkocCxfKSx1Ll9PcnRGcmVlPXA9Pih1Ll9PcnRGcmVlPXNlLmlhKShwKSx1Ll9PcnRDcmVhdGVUZW5zb3I9KHAsXywkLEMsTSxXKT0+KHUuX09ydENyZWF0ZVRlbnNvcj1zZS5qYSkocCxfLCQsQyxNLFcpLHUuX09ydEdldFRlbnNvckRhdGE9KHAsXywkLEMsTSk9Pih1Ll9PcnRHZXRUZW5zb3JEYXRhPXNlLmthKShwLF8sJCxDLE0pLHUuX09ydFJlbGVhc2VUZW5zb3I9cD0+KHUuX09ydFJlbGVhc2VUZW5zb3I9c2UubGEpKHApLHUuX09ydENyZWF0ZVJ1bk9wdGlvbnM9KHAsXywkLEMpPT4odS5fT3J0Q3JlYXRlUnVuT3B0aW9ucz1zZS5tYSkocCxfLCQsQyksdS5fT3J0QWRkUnVuQ29uZmlnRW50cnk9KHAsXywkKT0+KHUuX09ydEFkZFJ1bkNvbmZpZ0VudHJ5PXNlLm5hKShwLF8sJCksdS5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9cD0+KHUuX09ydFJlbGVhc2VSdW5PcHRpb25zPXNlLm9hKShwKSx1Ll9PcnRDcmVhdGVCaW5kaW5nPXA9Pih1Ll9PcnRDcmVhdGVCaW5kaW5nPXNlLnBhKShwKSx1Ll9PcnRCaW5kSW5wdXQ9KHAsXywkKT0+KHUuX09ydEJpbmRJbnB1dD1zZS5xYSkocCxfLCQpLHUuX09ydEJpbmRPdXRwdXQ9KHAsXywkLEMpPT4odS5fT3J0QmluZE91dHB1dD1zZS5yYSkocCxfLCQsQyksdS5fT3J0Q2xlYXJCb3VuZE91dHB1dHM9cD0+KHUuX09ydENsZWFyQm91bmRPdXRwdXRzPXNlLnNhKShwKSx1Ll9PcnRSZWxlYXNlQmluZGluZz1wPT4odS5fT3J0UmVsZWFzZUJpbmRpbmc9c2UudGEpKHApLHUuX09ydFJ1bldpdGhCaW5kaW5nPShwLF8sJCxDLE0pPT4odS5fT3J0UnVuV2l0aEJpbmRpbmc9c2UudWEpKHAsXywkLEMsTSksdS5fT3J0UnVuPShwLF8sJCxDLE0sVyxqLGZlKT0+KHUuX09ydFJ1bj1zZS52YSkocCxfLCQsQyxNLFcsaixmZSksdS5fT3J0RW5kUHJvZmlsaW5nPXA9Pih1Ll9PcnRFbmRQcm9maWxpbmc9c2Uud2EpKHApLHUuX0pzZXBPdXRwdXQ9KHAsXywkKT0+KHUuX0pzZXBPdXRwdXQ9c2UueGEpKHAsXywkKSx1Ll9Kc2VwR2V0Tm9kZU5hbWU9cD0+KHUuX0pzZXBHZXROb2RlTmFtZT1zZS55YSkocCk7dmFyIFltPSgpPT4oWW09c2UuemEpKCkseWk9dS5fcHRocmVhZF9zZWxmPSgpPT4oeWk9dS5fcHRocmVhZF9zZWxmPXNlLkFhKSgpLHVvPXUuX21hbGxvYz1wPT4odW89dS5fbWFsbG9jPXNlLkJhKShwKSxYbT11Ll9mcmVlPXA9PihYbT11Ll9mcmVlPXNlLkNhKShwKTt1Ll9fZW1zY3JpcHRlbl90bHNfaW5pdD0oKT0+KHUuX19lbXNjcmlwdGVuX3Rsc19pbml0PXNlLkRhKSgpO3ZhciBRbT11Ll9fZW1zY3JpcHRlbl90aHJlYWRfaW5pdD0ocCxfLCQsQyxNLFcpPT4oUW09dS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQ9c2UuRmEpKHAsXywkLEMsTSxXKTt1Ll9fZW1zY3JpcHRlbl90aHJlYWRfY3Jhc2hlZD0oKT0+KHUuX19lbXNjcmlwdGVuX3RocmVhZF9jcmFzaGVkPXNlLkdhKSgpO3ZhciBabT0ocCxfLCQsQyk9PihabT1zZS5IYSkocCxfLCQsQyksY289cD0+KGNvPXNlLklhKShwKSxwbz11Ll9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdD1wPT4ocG89dS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2V4aXQ9c2UuSmEpKHApLEptPSgpPT4oSm09c2UuS2EpKCksZWc9cD0+KGVnPXNlLkxhKShwKSx0Zz0ocCxfKT0+KHRnPXNlLk1hKShwLF8pLGhvPSgpPT4oaG89c2UuTmEpKCksd2k9cD0+KHdpPXNlLk9hKShwKSxmbz1wPT4oZm89c2UuUGEpKHApLHJnPXUuZHluQ2FsbF9paT0ocCxfKT0+KHJnPXUuZHluQ2FsbF9paT1zZS5SYSkocCxfKSxuZz1wPT4obmc9c2UuU2EpKHApLGFnPSgpPT4oYWc9c2UuVGEpKCksaWc9cD0+KGlnPXNlLlVhKShwKSxzZz0oKT0+KHNnPXNlLlZhKSgpO3UuX19fc3RhcnRfZW1fanM9OTQ0NDcyLHUuX19fc3RvcF9lbV9qcz05NDQ2MzM7ZnVuY3Rpb24gRjMoKXt2YXIgcD1zZTtwPU9iamVjdC5hc3NpZ24oe30scCk7dmFyIF89Qz0+KCk9PkMoKT4+PjAsJD1DPT5NPT5DKE0pPj4+MDtyZXR1cm4gcC56YT1fKHAuemEpLHAuQWE9XyhwLkFhKSxwLkJhPSQocC5CYSkscC5lbXNjcmlwdGVuX21haW5fcnVudGltZV90aHJlYWRfaWQ9XyhwLmVtc2NyaXB0ZW5fbWFpbl9ydW50aW1lX3RocmVhZF9pZCkscC5OYT1fKHAuTmEpLHAuUGE9JChwLlBhKSxwfXUud2FzbU1lbW9yeT1MLHUuc3RhY2tBbGxvYz1mbyx1LnN0YWNrU2F2ZT1obyx1LnN0YWNrUmVzdG9yZT13aSx1LmtlZXBSdW50aW1lQWxpdmU9KCk9PjA8SnQsdS5VVEY4VG9TdHJpbmc9b3QsdS5zdHJpbmdUb1VURjg9aGUsdS5sZW5ndGhCeXRlc1VURjg9Wm4sdS5FeGl0U3RhdHVzPVRyLHUuUFRocmVhZD1tZTt2YXIgdmk7cXQ9ZnVuY3Rpb24gcCgpe3ZpfHxvZygpLHZpfHwocXQ9cCl9O2Z1bmN0aW9uIG9nKCl7aWYoISgwPHp0KSlpZih4KWgodSkseHx8T3IoSGUpLHN0YXJ0V29ya2VyKHUpO2Vsc2V7aWYodS5wcmVSdW4pZm9yKHR5cGVvZiB1LnByZVJ1bj09ImZ1bmN0aW9uIiYmKHUucHJlUnVuPVt1LnByZVJ1bl0pO3UucHJlUnVuLmxlbmd0aDspV2UudW5zaGlmdCh1LnByZVJ1bi5zaGlmdCgpKTtPcihXZSksMDx6dHx8dml8fCh2aT0hMCx1LmNhbGxlZFJ1bj0hMCx0ZXx8KHh8fE9yKEhlKSxoKHUpLHh8fE9yKE10KSkpfX1yZXR1cm4gb2coKSxhLnJlYWR5fX0pKCk7dHlwZW9mIHQ9PSJvYmplY3QiJiZ0eXBlb2YgZT09Im9iamVjdCI/ZS5leHBvcnRzPXI6dHlwZW9mIGRlZmluZT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZCYmZGVmaW5lKFtdLCgpPT5yKX0pLGVfPVByKCh0LGUpPT57ZS5leHBvcnRzPScidXNlIHN0cmljdCI7dmFyIE1vZHVsZT17fSxFTlZJUk9OTUVOVF9JU19OT0RFPXR5cGVvZiBwcm9jZXNzPT0ib2JqZWN0IiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnM9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlPT0ic3RyaW5nIjtpZihFTlZJUk9OTUVOVF9JU19OT0RFKXt2YXIgbm9kZVdvcmtlclRocmVhZHM9cmVxdWlyZSgid29ya2VyX3RocmVhZHMiKSxwYXJlbnRQb3J0PW5vZGVXb3JrZXJUaHJlYWRzLnBhcmVudFBvcnQ7cGFyZW50UG9ydC5vbigibWVzc2FnZSIsZT0+b25tZXNzYWdlKHtkYXRhOmV9KSk7dmFyIGZzPXJlcXVpcmUoImZzIiksdm09cmVxdWlyZSgidm0iKTtPYmplY3QuYXNzaWduKGdsb2JhbCx7c2VsZjpnbG9iYWwscmVxdWlyZSxNb2R1bGUsbG9jYXRpb246e2hyZWY6X19maWxlbmFtZX0sV29ya2VyOm5vZGVXb3JrZXJUaHJlYWRzLldvcmtlcixpbXBvcnRTY3JpcHRzOmU9PnZtLnJ1bkluVGhpc0NvbnRleHQoZnMucmVhZEZpbGVTeW5jKGUsInV0ZjgiKSx7ZmlsZW5hbWU6ZX0pLHBvc3RNZXNzYWdlOmU9PnBhcmVudFBvcnQucG9zdE1lc3NhZ2UoZSkscGVyZm9ybWFuY2U6Z2xvYmFsLnBlcmZvcm1hbmNlfHx7bm93OkRhdGUubm93fX0pfXZhciBpbml0aWFsaXplZEpTPSExO2Z1bmN0aW9uIHRocmVhZFByaW50RXJyKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5qb2luKCIgIik7aWYoRU5WSVJPTk1FTlRfSVNfTk9ERSl7ZnMud3JpdGVTeW5jKDIsZStgXG5gKTtyZXR1cm59Y29uc29sZS5lcnJvcihlKX1mdW5jdGlvbiB0aHJlYWRBbGVydCgpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbigiICIpO3Bvc3RNZXNzYWdlKHtjbWQ6ImFsZXJ0Iix0ZXh0OmUsdGhyZWFkSWQ6TW9kdWxlLl9wdGhyZWFkX3NlbGYoKX0pfXZhciBlcnI9dGhyZWFkUHJpbnRFcnI7c2VsZi5hbGVydD10aHJlYWRBbGVydCxNb2R1bGUuaW5zdGFudGlhdGVXYXNtPShlLHQpPT57dmFyIGE9TW9kdWxlLndhc21Nb2R1bGU7TW9kdWxlLndhc21Nb2R1bGU9bnVsbDt2YXIgcj1uZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UoYSxlKTtyZXR1cm4gdChyKX0sc2VsZi5vbnVuaGFuZGxlZHJlamVjdGlvbj1lPT57dGhyb3cgZS5yZWFzb258fGV9O2Z1bmN0aW9uIGhhbmRsZU1lc3NhZ2UoZSl7dHJ5e2lmKGUuZGF0YS5jbWQ9PT0ibG9hZCIpe2xldCBhPVtdO3NlbGYub25tZXNzYWdlPXI9PmEucHVzaChyKSxzZWxmLnN0YXJ0V29ya2VyPXI9PntNb2R1bGU9cixwb3N0TWVzc2FnZSh7Y21kOiJsb2FkZWQifSk7Zm9yKGxldCBzIG9mIGEpaGFuZGxlTWVzc2FnZShzKTtzZWxmLm9ubWVzc2FnZT1oYW5kbGVNZXNzYWdlfSxNb2R1bGUud2FzbU1vZHVsZT1lLmRhdGEud2FzbU1vZHVsZTtmb3IoY29uc3QgciBvZiBlLmRhdGEuaGFuZGxlcnMpTW9kdWxlW3JdPSguLi5zKT0+e3Bvc3RNZXNzYWdlKHtjbWQ6ImNhbGxIYW5kbGVyIixoYW5kbGVyOnIsYXJnczpzfSl9O2lmKE1vZHVsZS53YXNtTWVtb3J5PWUuZGF0YS53YXNtTWVtb3J5LE1vZHVsZS5idWZmZXI9TW9kdWxlLndhc21NZW1vcnkuYnVmZmVyLE1vZHVsZS5FTlZJUk9OTUVOVF9JU19QVEhSRUFEPSEwLHR5cGVvZiBlLmRhdGEudXJsT3JCbG9iPT0ic3RyaW5nIilpbXBvcnRTY3JpcHRzKGUuZGF0YS51cmxPckJsb2IpO2Vsc2V7dmFyIHQ9VVJMLmNyZWF0ZU9iamVjdFVSTChlLmRhdGEudXJsT3JCbG9iKTtpbXBvcnRTY3JpcHRzKHQpLFVSTC5yZXZva2VPYmplY3RVUkwodCl9b3J0V2FzbVRocmVhZGVkKE1vZHVsZSl9ZWxzZSBpZihlLmRhdGEuY21kPT09InJ1biIpe01vZHVsZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQoZS5kYXRhLnB0aHJlYWRfcHRyLDAsMCwxKSxNb2R1bGUuX19lbXNjcmlwdGVuX3RocmVhZF9tYWlsYm94X2F3YWl0KGUuZGF0YS5wdGhyZWFkX3B0ciksTW9kdWxlLmVzdGFibGlzaFN0YWNrU3BhY2UoKSxNb2R1bGUuUFRocmVhZC5yZWNlaXZlT2JqZWN0VHJhbnNmZXIoZS5kYXRhKSxNb2R1bGUuUFRocmVhZC50aHJlYWRJbml0VExTKCksaW5pdGlhbGl6ZWRKU3x8KGluaXRpYWxpemVkSlM9ITApO3RyeXtNb2R1bGUuaW52b2tlRW50cnlQb2ludChlLmRhdGEuc3RhcnRfcm91dGluZSxlLmRhdGEuYXJnKX1jYXRjaChhKXtpZihhIT0idW53aW5kIil0aHJvdyBhfX1lbHNlIGUuZGF0YS5jbWQ9PT0iY2FuY2VsIj9Nb2R1bGUuX3B0aHJlYWRfc2VsZigpJiZNb2R1bGUuX19lbXNjcmlwdGVuX3RocmVhZF9leGl0KC0xKTplLmRhdGEudGFyZ2V0PT09InNldGltbWVkaWF0ZSJ8fChlLmRhdGEuY21kPT09ImNoZWNrTWFpbGJveCI/aW5pdGlhbGl6ZWRKUyYmTW9kdWxlLmNoZWNrTWFpbGJveCgpOmUuZGF0YS5jbWQmJihlcnIoYHdvcmtlci5qcyByZWNlaXZlZCB1bmtub3duIGNvbW1hbmQgJHtlLmRhdGEuY21kfWApLGVycihlLmRhdGEpKSl9Y2F0Y2goYSl7dGhyb3cgTW9kdWxlLl9fZW1zY3JpcHRlbl90aHJlYWRfY3Jhc2hlZD8uKCksYX19c2VsZi5vbm1lc3NhZ2U9aGFuZGxlTWVzc2FnZTtcbid9KSxRbyxabyxXaSxnYSx1bixMaSxKbyxlbCx0bCxybCxydCxkbj1RKCgpPT57UW89WWcoKSxabz1KZygpLGdhPSExLHVuPSExLExpPSExLEpvPXQ9PntpZih0PT09MSlyZXR1cm4hMTtpZih0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI+InUiKXJldHVybiB0eXBlb2Ygc2VsZjwidSImJiFzZWxmLmNyb3NzT3JpZ2luSXNvbGF0ZWQmJmNvbnNvbGUud2FybigiZW52Lndhc20ubnVtVGhyZWFkcyBpcyBzZXQgdG8gIit0KyIsIGJ1dCB0aGlzIHdpbGwgbm90IHdvcmsgdW5sZXNzIHlvdSBlbmFibGUgY3Jvc3NPcmlnaW5Jc29sYXRlZCBtb2RlLiBTZWUgaHR0cHM6Ly93ZWIuZGV2L2Nyb3NzLW9yaWdpbi1pc29sYXRpb24tZ3VpZGUvIGZvciBtb3JlIGluZm8uIiksITE7dHlwZW9mIHByb2Nlc3M8InUiJiZwcm9jZXNzLnZlcnNpb25zJiZwcm9jZXNzLnZlcnNpb25zLm5vZGUmJmNvbnNvbGUud2FybigiZW52Lndhc20ubnVtVGhyZWFkcyBpcyBzZXQgdG8gIit0KyIsIGhvd2V2ZXIsIGN1cnJlbnRseSBvbm54cnVudGltZS13ZWIgZG9lcyBub3Qgc3VwcG9ydCBtdWx0aS10aHJlYWRzIGluIE5vZGUuanMuIFBsZWFzZSBjb25zaWRlciB1c2luZyBvbm54cnVudGltZS1ub2RlIGZvciBwZXJmb3JtYW5jZSBjcml0aWNhbCBzY2VuYXJpb3MuIik7dHJ5e3JldHVybiB0eXBlb2YgTWVzc2FnZUNoYW5uZWw8InUiJiZuZXcgTWVzc2FnZUNoYW5uZWwoKS5wb3J0MS5wb3N0TWVzc2FnZShuZXcgU2hhcmVkQXJyYXlCdWZmZXIoMSkpLFdlYkFzc2VtYmx5LnZhbGlkYXRlKG5ldyBVaW50OEFycmF5KFswLDk3LDExNSwxMDksMSwwLDAsMCwxLDQsMSw5NiwwLDAsMywyLDEsMCw1LDQsMSwzLDEsMSwxMCwxMSwxLDksMCw2NSwwLDI1NCwxNiwyLDAsMjYsMTFdKSl9Y2F0Y2h7cmV0dXJuITF9fSxlbD0oKT0+e3RyeXtyZXR1cm4gV2ViQXNzZW1ibHkudmFsaWRhdGUobmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNCwxLDk2LDAsMCwzLDIsMSwwLDEwLDMwLDEsMjgsMCw2NSwwLDI1MywxNSwyNTMsMTIsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyNTMsMTg2LDEsMjYsMTFdKSl9Y2F0Y2h7cmV0dXJuITF9fSx0bD0odCxlKT0+dD9lPyJvcnQtd2FzbS1zaW1kLXRocmVhZGVkLndhc20iOiJvcnQtd2FzbS1zaW1kLndhc20iOmU/Im9ydC13YXNtLXRocmVhZGVkLndhc20iOiJvcnQtd2FzbS53YXNtIixybD1hc3luYyB0PT57aWYoZ2EpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO2lmKHVuKXRocm93IG5ldyBFcnJvcigibXVsdGlwbGUgY2FsbHMgdG8gJ2luaXRpYWxpemVXZWJBc3NlbWJseSgpJyBkZXRlY3RlZC4iKTtpZihMaSl0aHJvdyBuZXcgRXJyb3IoInByZXZpb3VzIGNhbGwgdG8gJ2luaXRpYWxpemVXZWJBc3NlbWJseSgpJyBmYWlsZWQuIik7dW49ITA7bGV0IGU9dC5pbml0VGltZW91dCxyPXQubnVtVGhyZWFkcyxuPXQuc2ltZCxhPUpvKHIpLGk9biYmZWwoKSxzPXQud2FzbVBhdGhzLG89dHlwZW9mIHM9PSJzdHJpbmciP3M6dm9pZCAwLGw9dGwoaSxhKSxkPXR5cGVvZiBzPT0ib2JqZWN0Ij9zW2xdOnZvaWQgMCxjPSExLHU9W107aWYoZT4wJiZ1LnB1c2gobmV3IFByb21pc2UoaD0+e3NldFRpbWVvdXQoKCk9PntjPSEwLGgoKX0sZSl9KSksdS5wdXNoKG5ldyBQcm9taXNlKChoLGYpPT57bGV0IGc9YT9abzpRbyx5PXtsb2NhdGVGaWxlOih3LHYpPT57aWYoYSYmdy5lbmRzV2l0aCgiLndvcmtlci5qcyIpJiZ0eXBlb2YgQmxvYjwidSIpcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2VfKCldLHt0eXBlOiJ0ZXh0L2phdmFzY3JpcHQifSkpO2lmKHcuZW5kc1dpdGgoIi53YXNtIikpe2lmKGQpcmV0dXJuIGQ7bGV0IGs9bz8/djtyZXR1cm4gbD09PSJvcnQtd2FzbS1zaW1kLndhc20iP2srIm9ydC13YXNtLXNpbWQuanNlcC53YXNtIjpsPT09Im9ydC13YXNtLXNpbWQtdGhyZWFkZWQud2FzbSI/aysib3J0LXdhc20tc2ltZC10aHJlYWRlZC5qc2VwLndhc20iOmsrbH1yZXR1cm4gdit3fX07aWYoYSlpZih5Lm51bVRocmVhZHM9cix0eXBlb2YgQmxvYj4idSIpeS5tYWluU2NyaXB0VXJsT3JCbG9iPSh2b2lkIDApKF9fZGlybmFtZSwib3J0LXdhc20tdGhyZWFkZWQuanMiKTtlbHNle2xldCB3PWB2YXIgb3J0V2FzbVRocmVhZGVkPSR7Zy50b1N0cmluZygpfTtgO3kubWFpblNjcmlwdFVybE9yQmxvYj1uZXcgQmxvYihbd10se3R5cGU6InRleHQvamF2YXNjcmlwdCJ9KX1nKHkpLnRoZW4odz0+e3VuPSExLGdhPSEwLFdpPXcsaCgpfSx3PT57dW49ITEsTGk9ITAsZih3KX0pfSkpLGF3YWl0IFByb21pc2UucmFjZSh1KSxjKXRocm93IG5ldyBFcnJvcihgV2ViQXNzZW1ibHkgYmFja2VuZCBpbml0aWFsaXppbmcgZmFpbGVkIGR1ZSB0byB0aW1lb3V0OiAke2V9bXNgKX0scnQ9KCk9PntpZihnYSYmV2kpcmV0dXJuIFdpO3Rocm93IG5ldyBFcnJvcigiV2ViQXNzZW1ibHkgaXMgbm90IGluaXRpYWxpemVkIHlldC4iKX19KSxudCxfYSxHZSxGaT1RKCgpPT57ZG4oKSxudD0odCxlKT0+e2xldCByPXJ0KCksbj1yLmxlbmd0aEJ5dGVzVVRGOCh0KSsxLGE9ci5fbWFsbG9jKG4pO3JldHVybiByLnN0cmluZ1RvVVRGOCh0LGEsbiksZS5wdXNoKGEpLGF9LF9hPSh0LGUscixuKT0+e2lmKHR5cGVvZiB0PT0ib2JqZWN0IiYmdCE9PW51bGwpe2lmKHIuaGFzKHQpKXRocm93IG5ldyBFcnJvcigiQ2lyY3VsYXIgcmVmZXJlbmNlIGluIG9wdGlvbnMiKTtyLmFkZCh0KX1PYmplY3QuZW50cmllcyh0KS5mb3JFYWNoKChbYSxpXSk9PntsZXQgcz1lP2UrYTphO2lmKHR5cGVvZiBpPT0ib2JqZWN0IilfYShpLHMrIi4iLHIsbik7ZWxzZSBpZih0eXBlb2YgaT09InN0cmluZyJ8fHR5cGVvZiBpPT0ibnVtYmVyIiluKHMsaS50b1N0cmluZygpKTtlbHNlIGlmKHR5cGVvZiBpPT0iYm9vbGVhbiIpbihzLGk/IjEiOiIwIik7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYENhbid0IGhhbmRsZSBleHRyYSBjb25maWcgdHlwZTogJHt0eXBlb2YgaX1gKX0pfSxHZT10PT57bGV0IGU9cnQoKSxyPWUuc3RhY2tTYXZlKCk7dHJ5e2xldCBuPWUuc3RhY2tBbGxvYyg4KTtlLl9PcnRHZXRMYXN0RXJyb3IobixuKzQpO2xldCBhPWUuSEVBUDMyW24vNF0saT1lLkhFQVBVMzJbbi80KzFdLHM9aT9lLlVURjhUb1N0cmluZyhpKToiIjt0aHJvdyBuZXcgRXJyb3IoYCR7dH0gRVJST1JfQ09ERTogJHthfSwgRVJST1JfTUVTU0FHRTogJHtzfWApfWZpbmFsbHl7ZS5zdGFja1Jlc3RvcmUocil9fX0pLG5sLHRfPVEoKCk9PntkbigpLEZpKCksbmw9dD0+e2xldCBlPXJ0KCkscj0wLG49W10sYT10fHx7fTt0cnl7aWYodD8ubG9nU2V2ZXJpdHlMZXZlbD09PXZvaWQgMClhLmxvZ1NldmVyaXR5TGV2ZWw9MjtlbHNlIGlmKHR5cGVvZiB0LmxvZ1NldmVyaXR5TGV2ZWwhPSJudW1iZXIifHwhTnVtYmVyLmlzSW50ZWdlcih0LmxvZ1NldmVyaXR5TGV2ZWwpfHx0LmxvZ1NldmVyaXR5TGV2ZWw8MHx8dC5sb2dTZXZlcml0eUxldmVsPjQpdGhyb3cgbmV3IEVycm9yKGBsb2cgc2VydmVyaXR5IGxldmVsIGlzIG5vdCB2YWxpZDogJHt0LmxvZ1NldmVyaXR5TGV2ZWx9YCk7aWYodD8ubG9nVmVyYm9zaXR5TGV2ZWw9PT12b2lkIDApYS5sb2dWZXJib3NpdHlMZXZlbD0wO2Vsc2UgaWYodHlwZW9mIHQubG9nVmVyYm9zaXR5TGV2ZWwhPSJudW1iZXIifHwhTnVtYmVyLmlzSW50ZWdlcih0LmxvZ1ZlcmJvc2l0eUxldmVsKSl0aHJvdyBuZXcgRXJyb3IoYGxvZyB2ZXJib3NpdHkgbGV2ZWwgaXMgbm90IHZhbGlkOiAke3QubG9nVmVyYm9zaXR5TGV2ZWx9YCk7dD8udGVybWluYXRlPT09dm9pZCAwJiYoYS50ZXJtaW5hdGU9ITEpO2xldCBpPTA7cmV0dXJuIHQ/LnRhZyE9PXZvaWQgMCYmKGk9bnQodC50YWcsbikpLHI9ZS5fT3J0Q3JlYXRlUnVuT3B0aW9ucyhhLmxvZ1NldmVyaXR5TGV2ZWwsYS5sb2dWZXJib3NpdHlMZXZlbCwhIWEudGVybWluYXRlLGkpLHI9PT0wJiZHZSgiQ2FuJ3QgY3JlYXRlIHJ1biBvcHRpb25zLiIpLHQ/LmV4dHJhIT09dm9pZCAwJiZfYSh0LmV4dHJhLCIiLG5ldyBXZWFrU2V0LChzLG8pPT57bGV0IGw9bnQocyxuKSxkPW50KG8sbik7ZS5fT3J0QWRkUnVuQ29uZmlnRW50cnkocixsLGQpIT09MCYmR2UoYENhbid0IHNldCBhIHJ1biBjb25maWcgZW50cnk6ICR7c30gLSAke299LmApfSksW3Isbl19Y2F0Y2goaSl7dGhyb3cgciE9PTAmJmUuX09ydFJlbGVhc2VSdW5PcHRpb25zKHIpLG4uZm9yRWFjaChzPT5lLl9mcmVlKHMpKSxpfX19KSxhbCxpbCxzbCxvbCxsbCxyXz1RKCgpPT57ZG4oKSxGaSgpLGFsPXQ9Pntzd2l0Y2godCl7Y2FzZSJkaXNhYmxlZCI6cmV0dXJuIDA7Y2FzZSJiYXNpYyI6cmV0dXJuIDE7Y2FzZSJleHRlbmRlZCI6cmV0dXJuIDI7Y2FzZSJhbGwiOnJldHVybiA5OTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZ3JhcGggb3B0aW1pemF0aW9uIGxldmVsOiAke3R9YCl9fSxpbD10PT57c3dpdGNoKHQpe2Nhc2Uic2VxdWVudGlhbCI6cmV0dXJuIDA7Y2FzZSJwYXJhbGxlbCI6cmV0dXJuIDE7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGV4ZWN1dGlvbiBtb2RlOiAke3R9YCl9fSxzbD10PT57dC5leHRyYXx8KHQuZXh0cmE9e30pLHQuZXh0cmEuc2Vzc2lvbnx8KHQuZXh0cmEuc2Vzc2lvbj17fSk7bGV0IGU9dC5leHRyYS5zZXNzaW9uO2UudXNlX29ydF9tb2RlbF9ieXRlc19kaXJlY3RseXx8KGUudXNlX29ydF9tb2RlbF9ieXRlc19kaXJlY3RseT0iMSIpLHQuZXhlY3V0aW9uUHJvdmlkZXJzJiZ0LmV4ZWN1dGlvblByb3ZpZGVycy5zb21lKHI9Pih0eXBlb2Ygcj09InN0cmluZyI/cjpyLm5hbWUpPT09IndlYmdwdSIpJiYodC5lbmFibGVNZW1QYXR0ZXJuPSExKX0sb2w9KHQsZSxyKT0+e2ZvcihsZXQgbiBvZiBlKXtsZXQgYT10eXBlb2Ygbj09InN0cmluZyI/bjpuLm5hbWU7c3dpdGNoKGEpe2Nhc2Uid2Vibm4iOmlmKGE9IldFQk5OIix0eXBlb2YgbiE9InN0cmluZyIpe2xldCBzPW47aWYocz8uZGV2aWNlVHlwZSl7bGV0IG89bnQoImRldmljZVR5cGUiLHIpLGw9bnQocy5kZXZpY2VUeXBlLHIpO3J0KCkuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeSh0LG8sbCkhPT0wJiZHZShgQ2FuJ3Qgc2V0IGEgc2Vzc2lvbiBjb25maWcgZW50cnk6ICdkZXZpY2VUeXBlJyAtICR7cy5kZXZpY2VUeXBlfS5gKX1pZihzPy5udW1UaHJlYWRzKXtsZXQgbz1zLm51bVRocmVhZHM7KHR5cGVvZiBvIT0ibnVtYmVyInx8IU51bWJlci5pc0ludGVnZXIobyl8fG88MCkmJihvPTApO2xldCBsPW50KCJudW1UaHJlYWRzIixyKSxkPW50KG8udG9TdHJpbmcoKSxyKTtydCgpLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnkodCxsLGQpIT09MCYmR2UoYENhbid0IHNldCBhIHNlc3Npb24gY29uZmlnIGVudHJ5OiAnbnVtVGhyZWFkcycgLSAke3MubnVtVGhyZWFkc30uYCl9aWYocz8ucG93ZXJQcmVmZXJlbmNlKXtsZXQgbz1udCgicG93ZXJQcmVmZXJlbmNlIixyKSxsPW50KHMucG93ZXJQcmVmZXJlbmNlLHIpO3J0KCkuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeSh0LG8sbCkhPT0wJiZHZShgQ2FuJ3Qgc2V0IGEgc2Vzc2lvbiBjb25maWcgZW50cnk6ICdwb3dlclByZWZlcmVuY2UnIC0gJHtzLnBvd2VyUHJlZmVyZW5jZX0uYCl9fWJyZWFrO2Nhc2Uid2ViZ3B1IjppZihhPSJKUyIsdHlwZW9mIG4hPSJzdHJpbmciKXtsZXQgcz1uO2lmKHM/LnByZWZlcnJlZExheW91dCl7aWYocy5wcmVmZXJyZWRMYXlvdXQhPT0iTkNIVyImJnMucHJlZmVycmVkTGF5b3V0IT09Ik5IV0MiKXRocm93IG5ldyBFcnJvcihgcHJlZmVycmVkTGF5b3V0IG11c3QgYmUgZWl0aGVyICdOQ0hXJyBvciAnTkhXQyc6ICR7cy5wcmVmZXJyZWRMYXlvdXR9YCk7bGV0IG89bnQoInByZWZlcnJlZExheW91dCIsciksbD1udChzLnByZWZlcnJlZExheW91dCxyKTtydCgpLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnkodCxvLGwpIT09MCYmR2UoYENhbid0IHNldCBhIHNlc3Npb24gY29uZmlnIGVudHJ5OiAncHJlZmVycmVkTGF5b3V0JyAtICR7cy5wcmVmZXJyZWRMYXlvdXR9LmApfX1icmVhaztjYXNlIndhc20iOmNhc2UiY3B1Ijpjb250aW51ZTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgbm90IHN1cHBvcnRlZCBleGVjdXRpb24gcHJvdmlkZXI6ICR7YX1gKX1sZXQgaT1udChhLHIpO3J0KCkuX09ydEFwcGVuZEV4ZWN1dGlvblByb3ZpZGVyKHQsaSkhPT0wJiZHZShgQ2FuJ3QgYXBwZW5kIGV4ZWN1dGlvbiBwcm92aWRlcjogJHthfS5gKX19LGxsPXQ9PntsZXQgZT1ydCgpLHI9MCxuPVtdLGE9dHx8e307c2woYSk7dHJ5e2xldCBpPWFsKGEuZ3JhcGhPcHRpbWl6YXRpb25MZXZlbD8/ImFsbCIpLHM9aWwoYS5leGVjdXRpb25Nb2RlPz8ic2VxdWVudGlhbCIpLG89dHlwZW9mIGEubG9nSWQ9PSJzdHJpbmciP250KGEubG9nSWQsbik6MCxsPWEubG9nU2V2ZXJpdHlMZXZlbD8/MjtpZighTnVtYmVyLmlzSW50ZWdlcihsKXx8bDwwfHxsPjQpdGhyb3cgbmV3IEVycm9yKGBsb2cgc2VydmVyaXR5IGxldmVsIGlzIG5vdCB2YWxpZDogJHtsfWApO2xldCBkPWEubG9nVmVyYm9zaXR5TGV2ZWw/PzA7aWYoIU51bWJlci5pc0ludGVnZXIoZCl8fGQ8MHx8ZD40KXRocm93IG5ldyBFcnJvcihgbG9nIHZlcmJvc2l0eSBsZXZlbCBpcyBub3QgdmFsaWQ6ICR7ZH1gKTtsZXQgYz10eXBlb2YgYS5vcHRpbWl6ZWRNb2RlbEZpbGVQYXRoPT0ic3RyaW5nIj9udChhLm9wdGltaXplZE1vZGVsRmlsZVBhdGgsbik6MDtpZihyPWUuX09ydENyZWF0ZVNlc3Npb25PcHRpb25zKGksISFhLmVuYWJsZUNwdU1lbUFyZW5hLCEhYS5lbmFibGVNZW1QYXR0ZXJuLHMsISFhLmVuYWJsZVByb2ZpbGluZywwLG8sbCxkLGMpLHI9PT0wJiZHZSgiQ2FuJ3QgY3JlYXRlIHNlc3Npb24gb3B0aW9ucy4iKSxhLmV4ZWN1dGlvblByb3ZpZGVycyYmb2wocixhLmV4ZWN1dGlvblByb3ZpZGVycyxuKSxhLmZyZWVEaW1lbnNpb25PdmVycmlkZXMpZm9yKGxldFt1LGhdb2YgT2JqZWN0LmVudHJpZXMoYS5mcmVlRGltZW5zaW9uT3ZlcnJpZGVzKSl7aWYodHlwZW9mIHUhPSJzdHJpbmciKXRocm93IG5ldyBFcnJvcihgZnJlZSBkaW1lbnNpb24gb3ZlcnJpZGUgbmFtZSBtdXN0IGJlIGEgc3RyaW5nOiAke3V9YCk7aWYodHlwZW9mIGghPSJudW1iZXIifHwhTnVtYmVyLmlzSW50ZWdlcihoKXx8aDwwKXRocm93IG5ldyBFcnJvcihgZnJlZSBkaW1lbnNpb24gb3ZlcnJpZGUgdmFsdWUgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyOiAke2h9YCk7bGV0IGY9bnQodSxuKTtlLl9PcnRBZGRGcmVlRGltZW5zaW9uT3ZlcnJpZGUocixmLGgpIT09MCYmR2UoYENhbid0IHNldCBhIGZyZWUgZGltZW5zaW9uIG92ZXJyaWRlOiAke3V9IC0gJHtofS5gKX1yZXR1cm4gYS5leHRyYSE9PXZvaWQgMCYmX2EoYS5leHRyYSwiIixuZXcgV2Vha1NldCwodSxoKT0+e2xldCBmPW50KHUsbiksZz1udChoLG4pO2UuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeShyLGYsZykhPT0wJiZHZShgQ2FuJ3Qgc2V0IGEgc2Vzc2lvbiBjb25maWcgZW50cnk6ICR7dX0gLSAke2h9LmApfSksW3Isbl19Y2F0Y2goaSl7dGhyb3cgciE9PTAmJmUuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucyhyKSxuLmZvckVhY2gocz0+ZS5fZnJlZShzKSksaX19fSksVmksanQseWEsSGksd2EsR2kscWksWWU9USgoKT0+e1ZpPXQ9Pntzd2l0Y2godCl7Y2FzZSJpbnQ4IjpyZXR1cm4gMztjYXNlInVpbnQ4IjpyZXR1cm4gMjtjYXNlImJvb2wiOnJldHVybiA5O2Nhc2UiaW50MTYiOnJldHVybiA1O2Nhc2UidWludDE2IjpyZXR1cm4gNDtjYXNlImludDMyIjpyZXR1cm4gNjtjYXNlInVpbnQzMiI6cmV0dXJuIDEyO2Nhc2UiZmxvYXQxNiI6cmV0dXJuIDEwO2Nhc2UiZmxvYXQzMiI6cmV0dXJuIDE7Y2FzZSJmbG9hdDY0IjpyZXR1cm4gMTE7Y2FzZSJzdHJpbmciOnJldHVybiA4O2Nhc2UiaW50NjQiOnJldHVybiA3O2Nhc2UidWludDY0IjpyZXR1cm4gMTM7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGRhdGEgdHlwZTogJHt0fWApfX0sanQ9dD0+e3N3aXRjaCh0KXtjYXNlIDM6cmV0dXJuImludDgiO2Nhc2UgMjpyZXR1cm4idWludDgiO2Nhc2UgOTpyZXR1cm4iYm9vbCI7Y2FzZSA1OnJldHVybiJpbnQxNiI7Y2FzZSA0OnJldHVybiJ1aW50MTYiO2Nhc2UgNjpyZXR1cm4iaW50MzIiO2Nhc2UgMTI6cmV0dXJuInVpbnQzMiI7Y2FzZSAxMDpyZXR1cm4iZmxvYXQxNiI7Y2FzZSAxOnJldHVybiJmbG9hdDMyIjtjYXNlIDExOnJldHVybiJmbG9hdDY0IjtjYXNlIDg6cmV0dXJuInN0cmluZyI7Y2FzZSA3OnJldHVybiJpbnQ2NCI7Y2FzZSAxMzpyZXR1cm4idWludDY0IjtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZGF0YSB0eXBlOiAke3R9YCl9fSx5YT10PT5bdm9pZCAwLDQsMSwxLDIsMiw0LDgsdm9pZCAwLDEsMiw4LDQsOCx2b2lkIDAsdm9pZCAwLHZvaWQgMF1bdF0sSGk9dD0+e3N3aXRjaCh0KXtjYXNlImZsb2F0MTYiOnJldHVybiBVaW50MTZBcnJheTtjYXNlImZsb2F0MzIiOnJldHVybiBGbG9hdDMyQXJyYXk7Y2FzZSJ1aW50OCI6cmV0dXJuIFVpbnQ4QXJyYXk7Y2FzZSJpbnQ4IjpyZXR1cm4gSW50OEFycmF5O2Nhc2UidWludDE2IjpyZXR1cm4gVWludDE2QXJyYXk7Y2FzZSJpbnQxNiI6cmV0dXJuIEludDE2QXJyYXk7Y2FzZSJpbnQzMiI6cmV0dXJuIEludDMyQXJyYXk7Y2FzZSJib29sIjpyZXR1cm4gVWludDhBcnJheTtjYXNlImZsb2F0NjQiOnJldHVybiBGbG9hdDY0QXJyYXk7Y2FzZSJ1aW50MzIiOnJldHVybiBVaW50MzJBcnJheTtjYXNlImludDY0IjpyZXR1cm4gQmlnSW50NjRBcnJheTtjYXNlInVpbnQ2NCI6cmV0dXJuIEJpZ1VpbnQ2NEFycmF5O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCB0eXBlOiAke3R9YCl9fSx3YT10PT57c3dpdGNoKHQpe2Nhc2UidmVyYm9zZSI6cmV0dXJuIDA7Y2FzZSJpbmZvIjpyZXR1cm4gMTtjYXNlIndhcm5pbmciOnJldHVybiAyO2Nhc2UiZXJyb3IiOnJldHVybiAzO2Nhc2UiZmF0YWwiOnJldHVybiA0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBsb2dnaW5nIGxldmVsOiAke3R9YCl9fSxHaT10PT50PT09ImZsb2F0MzIifHx0PT09ImludDMyInx8dD09PSJpbnQ2NCJ8fHQ9PT0iYm9vbCJ8fHQ9PT0iZmxvYXQxNiJ8fHQ9PT0idWludDMyIixxaT10PT57c3dpdGNoKHQpe2Nhc2Uibm9uZSI6cmV0dXJuIDA7Y2FzZSJjcHUiOnJldHVybiAxO2Nhc2UiY3B1LXBpbm5lZCI6cmV0dXJuIDI7Y2FzZSJ0ZXh0dXJlIjpyZXR1cm4gMztjYXNlImdwdS1idWZmZXIiOnJldHVybiA0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBkYXRhIGxvY2F0aW9uOiAke3R9YCl9fX0pLHZhLHVsPVEoKCk9Pnt2YT1hc3luYyB0PT57aWYodHlwZW9mIHQ9PSJzdHJpbmciKWlmKHR5cGVvZiBwcm9jZXNzPCJ1IiYmcHJvY2Vzcy52ZXJzaW9ucyYmcHJvY2Vzcy52ZXJzaW9ucy5ub2RlKXRyeXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXdhaXQodm9pZCAwKSh0KSl9Y2F0Y2goZSl7aWYoZS5jb2RlPT09IkVSUl9GU19GSUxFX1RPT19MQVJHRSIpe2xldCByPSh2b2lkIDApKHQpLG49W107Zm9yIGF3YWl0KGxldCBhIG9mIHIpbi5wdXNoKGEpO3JldHVybiBuZXcgVWludDhBcnJheShCdWZmZXIuY29uY2F0KG4pKX10aHJvdyBlfWVsc2V7bGV0IGU9YXdhaXQgZmV0Y2godCk7aWYoIWUub2spdGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gbG9hZCBleHRlcm5hbCBkYXRhIGZpbGU6ICR7dH1gKTtsZXQgcj1lLmhlYWRlcnMuZ2V0KCJDb250ZW50LUxlbmd0aCIpLG49cj9wYXJzZUludChyLDEwKTowO2lmKG48MTA3Mzc0MTgyNClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgZS5hcnJheUJ1ZmZlcigpKTt7aWYoIWUuYm9keSl0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBsb2FkIGV4dGVybmFsIGRhdGEgZmlsZTogJHt0fSwgbm8gcmVzcG9uc2UgYm9keS5gKTtsZXQgYT1lLmJvZHkuZ2V0UmVhZGVyKCksaTt0cnl7aT1uZXcgQXJyYXlCdWZmZXIobil9Y2F0Y2gobyl7aWYobyBpbnN0YW5jZW9mIFJhbmdlRXJyb3Ipe2xldCBsPU1hdGguY2VpbChuLzY1NTM2KTtpPW5ldyBXZWJBc3NlbWJseS5NZW1vcnkoe2luaXRpYWw6bCxtYXhpbXVtOmx9KS5idWZmZXJ9ZWxzZSB0aHJvdyBvfWxldCBzPTA7Zm9yKDs7KXtsZXR7ZG9uZTpvLHZhbHVlOmx9PWF3YWl0IGEucmVhZCgpO2lmKG8pYnJlYWs7bGV0IGQ9bC5ieXRlTGVuZ3RoO25ldyBVaW50OEFycmF5KGkscyxkKS5zZXQobCkscys9ZH1yZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaSwwLG4pfX1lbHNlIHJldHVybiB0IGluc3RhbmNlb2YgQmxvYj9uZXcgVWludDhBcnJheShhd2FpdCB0LmFycmF5QnVmZmVyKCkpOnQgaW5zdGFuY2VvZiBVaW50OEFycmF5P3Q6bmV3IFVpbnQ4QXJyYXkodCl9fSksZGwsY2wscGwsaGwsZmwsbWwsYXQsdnI9USgoKT0+e1llKCksZGw9WyJWIiwiSSIsIlciLCJFIiwiRiJdLGNsPSh0LGUpPT57Y29uc29sZS5sb2coYFske2RsW3RdfSwke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1dJHtlfWApfSxmbD0odCxlKT0+e3BsPXQsaGw9ZX0sbWw9KHQsZSk9PntsZXQgcj13YSh0KSxuPXdhKHBsKTtyPj1uJiZjbChyLHR5cGVvZiBlPT0iZnVuY3Rpb24iP2UoKTplKX0sYXQ9KC4uLnQpPT57aGwmJm1sKC4uLnQpfX0pLGdsLG5fPVEoKCk9PntZZSgpLGdsPSh0LGUpPT5uZXcoSGkoZSkpKHQpfSksamk9USgoKT0+e30pLGNuLF9sLEtpLFlpLHlsLHdsLGFfPVEoKCk9Pnt2cigpLGppKCksY249dD0+TWF0aC5jZWlsKHQvMTYpKjE2LF9sPTEsS2k9KCk9Pl9sKyssWWk9YXN5bmModCxlLHIsbik9PntsZXQgYT1jbihyKSxpPXQuZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7c2l6ZTphLHVzYWdlOkdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUfEdQVUJ1ZmZlclVzYWdlLk1BUF9SRUFEfSk7dHJ5e2xldCBzPXQuZ2V0Q29tbWFuZEVuY29kZXIoKTt0LmVuZENvbXB1dGVQYXNzKCkscy5jb3B5QnVmZmVyVG9CdWZmZXIoZSwwLGksMCxhKSx0LmZsdXNoKCksYXdhaXQgaS5tYXBBc3luYyhHUFVNYXBNb2RlLlJFQUQpO2xldCBvPWkuZ2V0TWFwcGVkUmFuZ2UoKTtpZihuKXtsZXQgbD1uKCk7cmV0dXJuIGwuc2V0KG5ldyBVaW50OEFycmF5KG8sMCxyKSksbH1lbHNlIHJldHVybiBuZXcgVWludDhBcnJheShvLnNsaWNlKDAscikpfWZpbmFsbHl7aS5kZXN0cm95KCl9fSx5bD1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmJhY2tlbmQ9dCx0aGlzLnN0b3JhZ2VDYWNoZT1uZXcgTWFwLHRoaXMuZnJlZUJ1ZmZlcnM9bmV3IE1hcCx0aGlzLmZyZWVVbmlmb3JtQnVmZmVycz1uZXcgTWFwLHRoaXMuYnVmZmVyc0ZvclVwbG9hZGluZ1BlbmRpbmc9W10sdGhpcy5idWZmZXJzUGVuZGluZz1bXSx0aGlzLmV4dGVybmFsQnVmZmVycz1uZXcgTWFwfXVwbG9hZCh0LGUpe2xldCByPWUuYnVmZmVyLG49ZS5ieXRlT2Zmc2V0LGE9ZS5ieXRlTGVuZ3RoLGk9Y24oYSkscz10aGlzLnN0b3JhZ2VDYWNoZS5nZXQodCk7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJncHUgZGF0YSBmb3IgdXBsb2FkaW5nIGRvZXMgbm90IGV4aXN0Iik7aWYocy5vcmlnaW5hbFNpemUhPT1hKXRocm93IG5ldyBFcnJvcihgaW5jb25zaXN0ZW50IGRhdGEgc2l6ZS4gZ3B1IGRhdGEgc2l6ZT0ke3Mub3JpZ2luYWxTaXplfSwgZGF0YSBzaXplPSR7YX1gKTtsZXQgbz10aGlzLmJhY2tlbmQuZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7bWFwcGVkQXRDcmVhdGlvbjohMCxzaXplOmksdXNhZ2U6R1BVQnVmZmVyVXNhZ2UuTUFQX1dSSVRFfEdQVUJ1ZmZlclVzYWdlLkNPUFlfU1JDfSksbD1vLmdldE1hcHBlZFJhbmdlKCk7bmV3IFVpbnQ4QXJyYXkobCkuc2V0KG5ldyBVaW50OEFycmF5KHIsbixhKSksby51bm1hcCgpO2xldCBkPXRoaXMuYmFja2VuZC5nZXRDb21tYW5kRW5jb2RlcigpO3RoaXMuYmFja2VuZC5lbmRDb21wdXRlUGFzcygpLGQuY29weUJ1ZmZlclRvQnVmZmVyKG8sMCxzLmdwdURhdGEuYnVmZmVyLDAsaSksYXQoInZlcmJvc2UiLCgpPT5gW1dlYkdQVV0gR3B1RGF0YU1hbmFnZXIudXBsb2FkKGlkPSR7dH0pYCksdGhpcy5idWZmZXJzRm9yVXBsb2FkaW5nUGVuZGluZy5wdXNoKG8pfW1lbWNweSh0LGUpe2xldCByPXRoaXMuc3RvcmFnZUNhY2hlLmdldCh0KTtpZighcil0aHJvdyBuZXcgRXJyb3IoInNvdXJjZSBncHUgZGF0YSBmb3IgbWVtY3B5IGRvZXMgbm90IGV4aXN0Iik7bGV0IG49dGhpcy5zdG9yYWdlQ2FjaGUuZ2V0KGUpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiZGVzdGluYXRpb24gZ3B1IGRhdGEgZm9yIG1lbWNweSBkb2VzIG5vdCBleGlzdCIpO2lmKHIub3JpZ2luYWxTaXplIT09bi5vcmlnaW5hbFNpemUpdGhyb3cgbmV3IEVycm9yKCJpbmNvbnNpc3RlbnQgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBncHUgZGF0YSBzaXplIik7bGV0IGE9Y24oci5vcmlnaW5hbFNpemUpLGk9dGhpcy5iYWNrZW5kLmdldENvbW1hbmRFbmNvZGVyKCk7dGhpcy5iYWNrZW5kLmVuZENvbXB1dGVQYXNzKCksaS5jb3B5QnVmZmVyVG9CdWZmZXIoci5ncHVEYXRhLmJ1ZmZlciwwLG4uZ3B1RGF0YS5idWZmZXIsMCxhKX1yZWdpc3RlckV4dGVybmFsQnVmZmVyKHQsZSxyKXtsZXQgbjtpZihyKXtpZihuPXRoaXMuZXh0ZXJuYWxCdWZmZXJzLmdldChyKSxuPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigicHJldmlvdXMgYnVmZmVyIGlzIG5vdCByZWdpc3RlcmVkIik7aWYodD09PXIpcmV0dXJuIGF0KCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIEdwdURhdGFNYW5hZ2VyLnJlZ2lzdGVyRXh0ZXJuYWxCdWZmZXIoc2l6ZT0ke2V9KSA9PiBpZD0ke259LCBidWZmZXIgaXMgdGhlIHNhbWUsIHNraXAuYCksbjt0aGlzLmV4dGVybmFsQnVmZmVycy5kZWxldGUocil9ZWxzZSBuPUtpKCk7cmV0dXJuIHRoaXMuc3RvcmFnZUNhY2hlLnNldChuLHtncHVEYXRhOntpZDpuLHR5cGU6MCxidWZmZXI6dH0sb3JpZ2luYWxTaXplOmV9KSx0aGlzLmV4dGVybmFsQnVmZmVycy5zZXQodCxuKSxhdCgidmVyYm9zZSIsKCk9PmBbV2ViR1BVXSBHcHVEYXRhTWFuYWdlci5yZWdpc3RlckV4dGVybmFsQnVmZmVyKHNpemU9JHtlfSkgPT4gaWQ9JHtufSwgcmVnaXN0ZXJlZC5gKSxufXVucmVnaXN0ZXJFeHRlcm5hbEJ1ZmZlcih0KXtsZXQgZT10aGlzLmV4dGVybmFsQnVmZmVycy5nZXQodCk7ZSE9PXZvaWQgMCYmKHRoaXMuc3RvcmFnZUNhY2hlLmRlbGV0ZShlKSx0aGlzLmV4dGVybmFsQnVmZmVycy5kZWxldGUodCksYXQoInZlcmJvc2UiLCgpPT5gW1dlYkdQVV0gR3B1RGF0YU1hbmFnZXIudW5yZWdpc3RlckV4dGVybmFsQnVmZmVyKCkgPT4gaWQ9JHtlfWApKX1jcmVhdGUodCxlPUdQVUJ1ZmZlclVzYWdlLlNUT1JBR0V8R1BVQnVmZmVyVXNhZ2UuQ09QWV9TUkN8R1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1Qpe2xldCByPWNuKHQpLG4sYT0oZSZHUFVCdWZmZXJVc2FnZS5TVE9SQUdFKT09PUdQVUJ1ZmZlclVzYWdlLlNUT1JBR0UsaT0oZSZHUFVCdWZmZXJVc2FnZS5VTklGT1JNKT09PUdQVUJ1ZmZlclVzYWdlLlVOSUZPUk07aWYoYXx8aSl7bGV0IG89YT90aGlzLmZyZWVCdWZmZXJzOnRoaXMuZnJlZVVuaWZvcm1CdWZmZXJzLGw9by5nZXQocik7bHx8KGw9W10sby5zZXQocixsKSksbC5sZW5ndGg+MD9uPWwucG9wKCk6bj10aGlzLmJhY2tlbmQuZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7c2l6ZTpyLHVzYWdlOmV9KX1lbHNlIG49dGhpcy5iYWNrZW5kLmRldmljZS5jcmVhdGVCdWZmZXIoe3NpemU6cix1c2FnZTplfSk7bGV0IHM9e2lkOktpKCksdHlwZTowLGJ1ZmZlcjpufTtyZXR1cm4gdGhpcy5zdG9yYWdlQ2FjaGUuc2V0KHMuaWQse2dwdURhdGE6cyxvcmlnaW5hbFNpemU6dH0pLGF0KCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIEdwdURhdGFNYW5hZ2VyLmNyZWF0ZShzaXplPSR7dH0pID0+IGlkPSR7cy5pZH1gKSxzfWdldCh0KXtyZXR1cm4gdGhpcy5zdG9yYWdlQ2FjaGUuZ2V0KHQpPy5ncHVEYXRhfXJlbGVhc2UodCl7bGV0IGU9dGhpcy5zdG9yYWdlQ2FjaGUuZ2V0KHQpO2lmKCFlKXRocm93IG5ldyBFcnJvcigicmVsZWFzaW5nIGRhdGEgZG9lcyBub3QgZXhpc3QiKTtyZXR1cm4gYXQoInZlcmJvc2UiLCgpPT5gW1dlYkdQVV0gR3B1RGF0YU1hbmFnZXIucmVsZWFzZShpZD0ke3R9KSwgZ3B1RGF0YUlkPSR7ZS5ncHVEYXRhLmlkfWApLHRoaXMuc3RvcmFnZUNhY2hlLmRlbGV0ZSh0KSx0aGlzLmJ1ZmZlcnNQZW5kaW5nLnB1c2goZS5ncHVEYXRhLmJ1ZmZlciksZS5vcmlnaW5hbFNpemV9YXN5bmMgZG93bmxvYWQodCxlKXtsZXQgcj10aGlzLnN0b3JhZ2VDYWNoZS5nZXQodCk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJkYXRhIGRvZXMgbm90IGV4aXN0Iik7YXdhaXQgWWkodGhpcy5iYWNrZW5kLHIuZ3B1RGF0YS5idWZmZXIsci5vcmlnaW5hbFNpemUsZSl9cmVmcmVzaFBlbmRpbmdCdWZmZXJzKCl7Zm9yKGxldCB0IG9mIHRoaXMuYnVmZmVyc0ZvclVwbG9hZGluZ1BlbmRpbmcpdC5kZXN0cm95KCk7dGhpcy5idWZmZXJzRm9yVXBsb2FkaW5nUGVuZGluZz1bXTtmb3IobGV0IHQgb2YgdGhpcy5idWZmZXJzUGVuZGluZykodC51c2FnZSZHUFVCdWZmZXJVc2FnZS5TVE9SQUdFKT09PUdQVUJ1ZmZlclVzYWdlLlNUT1JBR0U/dGhpcy5mcmVlQnVmZmVycy5nZXQodC5zaXplKS5wdXNoKHQpOih0LnVzYWdlJkdQVUJ1ZmZlclVzYWdlLlVOSUZPUk0pPT09R1BVQnVmZmVyVXNhZ2UuVU5JRk9STT90aGlzLmZyZWVVbmlmb3JtQnVmZmVycy5nZXQodC5zaXplKS5wdXNoKHQpOnQuZGVzdHJveSgpO3RoaXMuYnVmZmVyc1BlbmRpbmc9W119ZGlzcG9zZSgpe3RoaXMuZnJlZUJ1ZmZlcnMuZm9yRWFjaCh0PT57dC5mb3JFYWNoKGU9PntlLmRlc3Ryb3koKX0pfSksdGhpcy5mcmVlVW5pZm9ybUJ1ZmZlcnMuZm9yRWFjaCh0PT57dC5mb3JFYWNoKGU9PntlLmRlc3Ryb3koKX0pfSksdGhpcy5zdG9yYWdlQ2FjaGUuZm9yRWFjaCh0PT57dC5ncHVEYXRhLmJ1ZmZlci5kZXN0cm95KCl9KSx0aGlzLnN0b3JhZ2VDYWNoZT1uZXcgTWFwLHRoaXMuZnJlZUJ1ZmZlcnM9bmV3IE1hcCx0aGlzLmZyZWVVbmlmb3JtQnVmZmVycz1uZXcgTWFwfX0sd2w9KC4uLnQpPT5uZXcgeWwoLi4udCl9KSx2bCxxZSxpdD1RKCgpPT57dmw9Y2xhc3N7Y29uc3RydWN0b3IodCl7T2JqZWN0LmFzc2lnbih0aGlzLHQpfWdldCBjYWNoZUtleSgpe3JldHVybiB0aGlzLmtleXx8KHRoaXMua2V5PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpLnNvcnQoKS5tYXAodD0+YCR7dGhpc1t0XX1gKS5qb2luKCI7IikpLHRoaXMua2V5fX0scWU9dD0+bmV3IHZsKHQpfSksYmwsTHIsZWUsYmEsJGwsWGksUWksSWU9USgoKT0+e2JsPWNsYXNze3N0YXRpYyBjYWxjTWF0TXVsU2hhcGUodCxlKXtyZXR1cm4gdFsxXSE9PWVbMF0/dm9pZCAwOlt0WzBdLGVbMV1dfX0sTHI9Y2xhc3N7c3RhdGljIGNhbGNTaGFwZSh0LGUscj0hMSl7bGV0IG49dC5sZW5ndGgsYT1lLmxlbmd0aDtpZihuPT09MClyZXR1cm4gZTtpZihhPT09MClyZXR1cm4gdDtsZXQgaT1NYXRoLm1heCh0Lmxlbmd0aCxlLmxlbmd0aCkscz1uZXcgQXJyYXkoaSk7aWYocil7aWYobjwyfHxhPDIpcmV0dXJuO2xldCBvPWJsLmNhbGNNYXRNdWxTaGFwZShbdFtuLTJdLHRbbi0xXV0sW2VbYS0yXSxlW2EtMV1dKTtpZihvPT09dm9pZCAwKXJldHVybjtbc1tpLTJdLHNbaS0xXV09b31mb3IobGV0IG89cj8zOjE7bzw9aTtvKyspe2xldCBsPW4tbzwwPzE6dFtuLW9dLGQ9YS1vPDA/MTplW2Etb107aWYobCE9PWQmJmw+MSYmZD4xKXJldHVybjtzW2ktb109TWF0aC5tYXgobCxkKX1yZXR1cm4gc31zdGF0aWMgaXNWYWxpZEJyb2FkY2FzdCh0LGUpe2xldCByPXQubGVuZ3RoLG49ZS5sZW5ndGg7aWYocj5uKXJldHVybiExO2ZvcihsZXQgYT0xO2E8PXI7YSsrKWlmKHRbci1hXSE9PTEmJnRbci1hXSE9PWVbbi1hXSlyZXR1cm4hMTtyZXR1cm4hMH19LGVlPWNsYXNzIGJpe3N0YXRpYyBzaXplKGUpe3JldHVybiBiaS5nZXRTaXplRnJvbURpbWVuc2lvblJhbmdlKGUsMCxlLmxlbmd0aCl9c3RhdGljIHNpemVGcm9tRGltZW5zaW9uKGUscil7aWYocjwwfHxyPmUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgaW52YWxpZCBkaW1lbnNpb24gb2YgJHtyfSBmb3Igc2l6ZUZyb21EaW1lbnNpb24gYXMgVGVuc29yIGhhcyAke2UubGVuZ3RofSBkaW1lbnNpb25zLmApO3JldHVybiBiaS5nZXRTaXplRnJvbURpbWVuc2lvblJhbmdlKGUscixlLmxlbmd0aCl9c3RhdGljIHNpemVUb0RpbWVuc2lvbihlLHIpe2lmKHI8MHx8cj5lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgZGltZW5zaW9uIG9mICR7cn0gZm9yIHNpemVUb0RpbWVuc2lvbiBhcyBUZW5zb3IgaGFzICR7ZS5sZW5ndGh9IGRpbWVuc2lvbnMuYCk7cmV0dXJuIGJpLmdldFNpemVGcm9tRGltZW5zaW9uUmFuZ2UoZSwwLHIpfXN0YXRpYyBnZXRTaXplRnJvbURpbWVuc2lvblJhbmdlKGUscixuKXtsZXQgYT0xO2ZvcihsZXQgaT1yO2k8bjtpKyspe2lmKGVbaV08MCl0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCBnZXQgdmFsaWQgc2l6ZSBmcm9tIHNwZWNpZmllZCBkaW1lbnNpb24gcmFuZ2UuIE1vc3QgbGlrZWx5IHRoZSByYW5nZSBjb250YWlucyBuZWdhdGl2ZSB2YWx1ZXMgaW4gdGhlbS4iKTthKj1lW2ldfXJldHVybiBhfXN0YXRpYyBjb21wdXRlU3RyaWRlcyhlKXtsZXQgcj1lLmxlbmd0aDtpZihyPT09MClyZXR1cm5bXTtpZihyPT09MSlyZXR1cm5bMV07bGV0IG49bmV3IEFycmF5KHIpO25bci0xXT0xLG5bci0yXT1lW3ItMV07Zm9yKGxldCBhPXItMzthPj0wOy0tYSluW2FdPW5bYSsxXSplW2ErMV07cmV0dXJuIG59c3RhdGljIG5vcm1hbGl6ZUF4aXMoZSxyKXtpZihlPC1yJiZlPj1yKXRocm93IG5ldyBFcnJvcigidW5zdXBwb3J0ZWQgYXhpcyBmb3IgdGhpcyBvcGVyYXRpb24uIik7cmV0dXJuIGU8MD9lK3I6ZX1zdGF0aWMgbm9ybWFsaXplQXhlcyhlLHIpe3JldHVybiBlLm1hcChuPT50aGlzLm5vcm1hbGl6ZUF4aXMobixyPz9lLmxlbmd0aCkpfXN0YXRpYyBzb3J0QmFzZWRPblBlcm0oZSxyKXtyZXR1cm4gcj9yLm1hcChuPT5lW25dKTplLnNsaWNlKCkucmV2ZXJzZSgpfXN0YXRpYyBwYWRTaGFwZShlLHIpe2xldCBuPWUubGVuZ3RoO3JldHVybiBlLm1hcCgoYSxpKT0+YStyW2ldK3JbaStuXSl9c3RhdGljIGFyZUVxdWFsKGUscil7cmV0dXJuIGUubGVuZ3RoIT09ci5sZW5ndGg/ITE6ZS5ldmVyeSgobixhKT0+bj09PXJbYV0pfX0sYmE9Y2xhc3MgdWF7c3RhdGljIGFkanVzdFBvb2xBdHRyaWJ1dGVzKGUscixuLGEsaSxzKXtpZighZSYmbi5sZW5ndGghPT1yLmxlbmd0aC0yKXRocm93IG5ldyBFcnJvcigibGVuZ3RoIG9mIHNwZWNpZmllZCBrZXJuZWwgc2hhcGVzIHNob3VsZCBiZSAyIGxlc3MgdGhhbiBsZW5ndGggb2YgaW5wdXQgZGltZW5zaW9ucyIpO2lmKGUpZm9yKGxldCBvPTA7bzxyLmxlbmd0aC0yO28rKylvPj1uLmxlbmd0aD9uLnB1c2gocltvKzJdKTpuW29dPXJbbysyXTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoO28rKylpZihvPGEubGVuZ3RoKXtpZihhW29dPDApdGhyb3cgbmV3IEVycm9yKCJzdHJpZGVzIHNob3VsZCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMSIpfWVsc2UgYS5wdXNoKDEpO2ZvcihsZXQgbz0wO288bi5sZW5ndGg7bysrKWlmKG88aS5sZW5ndGgpe2lmKGlbb108MCl0aHJvdyBuZXcgRXJyb3IoImRpbGF0aW9ucyBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDEiKX1lbHNlIGkucHVzaCgxKTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoKjI7bysrKWlmKG88cy5sZW5ndGgpe2lmKHNbb108MCl0aHJvdyBuZXcgRXJyb3IoInBhZCBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDEiKX1lbHNlIHMucHVzaCgwKTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoO28rKyl7aWYobltvXTw9MCl0aHJvdyBuZXcgRXJyb3IoImtlcm5lbCBzaGFwZXMgbmVlZCB0byBiZSBncmVhdGVyIHRoYW4gMCIpO2lmKHNbb10+PW5bb118fHNbbytuLmxlbmd0aF0+PW5bb10pdGhyb3cgbmV3IEVycm9yKCJwYWRzIHNob3VsZCBiZSBzbWFsbGVyIHRoYW4ga2VybmVsIil9fXN0YXRpYyBhZGp1c3RQYWRzQmFzZWRPbkF1dG9QYWQoZSxyLG4sYSxpLHMsbyl7aWYobyl7aWYoaS5sZW5ndGghPT0yKihlLmxlbmd0aC0yKSl0aHJvdyBuZXcgRXJyb3IoImxlbmd0aCBvZiBwYWRzIHNob3VsZCBiZSB0d2ljZSB0aGUgbGVuZ3RoIG9mIGRhdGEgZGltZW5zaW9ucyIpO2lmKHIubGVuZ3RoIT09ZS5sZW5ndGgtMil0aHJvdyBuZXcgRXJyb3IoImxlbmd0aCBvZiBzdHJpZGVzIHNob3VsZCBiZSB0aGUgbGVuZ3RoIG9mIGRhdGEgZGltZW5zaW9ucyIpO2lmKGEubGVuZ3RoIT09ZS5sZW5ndGgtMil0aHJvdyBuZXcgRXJyb3IoImxlbmd0aCBvZiBrZXJuZWwgc2hhcGVzIHNob3VsZCBiZSB0aGUgbGVuZ3RoIG9mIGRhdGEgZGltZW5zaW9ucyIpO2ZvcihsZXQgbD0wO2w8ZS5sZW5ndGgtMjtsKyspdWEuYWRqdXN0UGFkQW5kUmV0dXJuU2hhcGUoZVtsKyhzPzE6MildLHJbbF0sbltsXSxhW2xdLGksbCxsK2UubGVuZ3RoLTIsbyl9fXN0YXRpYyBjb21wdXRlUG9vbE91dHB1dFNoYXBlKGUscixuLGEsaSxzLG8pe2lmKHIubGVuZ3RoPD0wKXRocm93IG5ldyBFcnJvcigiaW5wdXQgc2hhcGUgbXVzdCBiZSBvZiBzaXplIGdyZWF0ZXIgdGhhbiAwIik7bGV0IGw9W3JbMF0sclsxXV07cmV0dXJuIHVhLmNvbXB1dGVTaGFwZUhlbHBlcihlLHIsbCxuLGEsaSxzLG8pLGx9c3RhdGljIGNvbXB1dGVDb252T3V0cHV0U2hhcGUoZSxyLG4sYSxpLHMsbyl7aWYoZS5sZW5ndGg8PTB8fHIubGVuZ3RoPD0wKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBpbnB1dCB0ZW5zb3IgZGltcyBvciBpbnZhbGlkIGZpbHRlciB0ZW5zb3IgZGltcyIpO2xldCBsPVtlWzBdLHJbMF1dO3JldHVybiB1YS5jb21wdXRlU2hhcGVIZWxwZXIoITEsZSxsLG4sYSxpLHMsbyksbH1zdGF0aWMgY29tcHV0ZVNoYXBlSGVscGVyKGUscixuLGEsaSxzLG8sbCl7aWYoZSlmb3IobGV0IGQ9MDtkPHIubGVuZ3RoLTI7ZCsrKW4ucHVzaCgxKTtlbHNlIGZvcihsZXQgZD0wO2Q8ci5sZW5ndGgtMjtkKyspbi5wdXNoKHVhLmFkanVzdFBhZEFuZFJldHVyblNoYXBlKHJbZCsyXSxhW2RdLGlbZF0sc1tkXSxvLGQsZCtyLmxlbmd0aC0yLGwpKX1zdGF0aWMgYWRqdXN0UGFkQW5kUmV0dXJuU2hhcGUoZSxyLG4sYSxpLHMsbyxsKXtsZXQgZD1uKihhLTEpKzE7aWYobCYmbCE9PSJOT1RTRVQiKXN3aXRjaChsKXtjYXNlIlZBTElEIjpyZXR1cm4gaVtzXT0wLGlbb109MCxNYXRoLmZsb29yKChlLWQpL3IrMSk7Y2FzZSJTQU1FX0xPV0VSIjpjYXNlIlNBTUVfVVBQRVIiOmlmKG4hPT0xKXRocm93IG5ldyBFcnJvcigiRGlsYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgU0FNRV9VUFBFUiBvciBTQU1FX0xPV0VSIik7e2xldCBjPSgoZStyLTEpL3ItMSkqcithLWU7cmV0dXJuIGlbc109TWF0aC5mbG9vcihsPT09IlNBTUVfTE9XRVIiPyhjKzEpLzI6Yy8yKSxpW29dPWMtaVtzXSxNYXRoLmZsb29yKChlK2MtYSkvcisxKX1kZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgQXV0b1BhZCB0eXBlIil9ZWxzZSByZXR1cm4gTWF0aC5mbG9vcigoZStpW3NdK2lbb10tZCkvcisxKX19LCRsPWNsYXNze3N0YXRpYyBnZXRTaGFwZU9mR2VtbVJlc3VsdCh0LGUscixuLGEpe2lmKHQubGVuZ3RoIT09Mnx8ci5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcigic2hhcGUgbmVlZCB0byBiZSBvZiBzaXplIDIiKTtsZXQgaSxzLG87ZT8oaT10WzFdLHM9dFswXSk6KGk9dFswXSxzPXRbMV0pO2xldCBsPS0xO2lmKG4/KG89clswXSxsPTEpOihvPXJbMV0sbD0wKSxyW2xdIT09cyl0aHJvdyBuZXcgRXJyb3IoImRpbWVuc2lvbiBtaXNtYXRjaCIpO2lmKGk8PTB8fG88PTB8fHM8PTApdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHNoYXBlIHNwZWNpZmllZCIpO2lmKGEmJiFMci5pc1ZhbGlkQnJvYWRjYXN0KGEsW2ksb10pKXRocm93IG5ldyBFcnJvcigiZ2VtbTogaW52YWxpZCBiaWFzIHNoYXBlIGZvciBicm9hZGNhc3QiKTtyZXR1cm5baSxvLHNdfX0sWGk9LTM0MDI4MjM0NjYzODUyODllMjMsUWk9MzQwMjgyMzQ2NjM4NTI4OWUyM30pLHhsLCRhLEl0LG5yLGllLHZ0LGJ0LGFyLEt0LHhlLHhhLEosdmUsWmksa2wsU2wscG4sc3QsQ2U9USgoKT0+e1llKCksSWUoKSx4bD02NCwkYT0odCxlKT0+e2lmKGU9PT0zKXRocm93IG5ldyBFcnJvcigidmVjMyBoYXMgc2FtZSBhbGlnbm1lbnQgYXMgdmVjNCwgdXNlIHZlYzQgaW5zdGVhZCIpO3N3aXRjaCh0KXtjYXNlIDEwOnJldHVybiBlPjE/YHZlYyR7ZX08ZjE2PmA6ImYxNiI7Y2FzZSAxOnJldHVybiBlPjE/YHZlYyR7ZX08ZjMyPmA6ImYzMiI7Y2FzZSA2OnJldHVybiBlPjE/YHZlYyR7ZX08aTMyPmA6ImkzMiI7Y2FzZSAxMjpyZXR1cm4gZT4xP2B2ZWMke2V9PHUzMj5gOiJ1MzIiO2Nhc2UgNzppZihlPjEpdGhyb3cgbmV3IEVycm9yKCJjdXJyZW50bHkgbm90IHN1cHBvcnRlZCB2ZWNYIG9mIHVpbnQ2NCB5ZXQiKTtyZXR1cm5bInZlYzI8dTMyPiIsImkzMiJdO2Nhc2UgMTM6aWYoZT4xKXRocm93IG5ldyBFcnJvcigiY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQgdmVjWCBvZiB1aW50NjQgeWV0Iik7cmV0dXJuWyJ2ZWMyPHUzMj4iLCJ1MzIiXTtjYXNlIDk6aWYoZSE9PTQpdGhyb3cgbmV3IEVycm9yKCJib29sIG11c3QgYmUgdmVjNCIpO3JldHVyblsidTMyIiwidmVjNDxib29sPiJdO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGRhdGEgdHlwZTogJHt0fWApfX0sSXQ9KHQsZT0xKT0+e2xldCByPSRhKHQsZSk7cmV0dXJuIHR5cGVvZiByPT0ic3RyaW5nIj9yOnJbMF19LG5yPSh0LGU9MSk9PntsZXQgcj0kYSh0LGUpO3JldHVybiB0eXBlb2Ygcj09InN0cmluZyI/cjpyWzFdfSxpZT10PT50Lmxlbmd0aD09PTA/W106W3t0eXBlOiJ1aW50MzIiLGRhdGE6dH0se3R5cGU6InVpbnQzMiIsZGF0YTplZS5jb21wdXRlU3RyaWRlcyh0KX1dLHZ0PXQ9PnQlND09PTA/NDp0JTI9PT0wPzI6MSxidD0odD0iZjMyIixlLHI9IjAiKT0+IWV8fGU9PT0xP2Ake3R9KCR7cn0pYDpgdmVjJHtlfTwke3R9Pigke3J9KWAsYXI9KHQsZSxyKT0+dD09PSJmMzIiP3I6ZT09PTE/YGYzMigke3J9KWA6YHZlYyR7ZX1mKCR7cn0pYCxLdD0odCxlKT0+ZT09PTQ/YCgke3R9LnggKyAke3R9LnkgKyAke3R9LnogKyAke3R9LncpYDplPT09Mj9gKCR7dH0ueCArICR7dH0ueSlgOmU9PT0zP2AoJHt0fS54ICsgJHt0fS55ICsgJHt0fS56KWA6dCx4ZT0odCxlLHIpPT50LnN0YXJ0c1dpdGgoInVuaWZvcm1zLiIpJiZyPjQ/dHlwZW9mIGU9PSJzdHJpbmciP2Ake3R9Wygke2V9KSAvIDRdWygke2V9KSAlIDRdYDpgJHt0fVske01hdGguZmxvb3IoZS80KX1dWyR7ZSU0fV1gOnI+MT9gJHt0fVske2V9XWA6dCx4YT0odCxlLHIsbixhKT0+e2xldCBpPXR5cGVvZiByPT0ibnVtYmVyIixzPWk/cjpyLmxlbmd0aCxvPVsuLi5uZXcgQXJyYXkocykua2V5cygpXSxsPXM8Mj8idTMyIjpzPD00P2B2ZWMke3N9PHUzMj5gOmBhcnJheTx1MzIsICR7c30+YCxkPSRhKGUsYSksYz10eXBlb2YgZD09InN0cmluZyI/ZDpkWzFdLHU9dHlwZW9mIGQ9PSJzdHJpbmciP2Q6ZFswXSxoPXtpbmRpY2VzOmwsdmFsdWU6YyxzdG9yYWdlOnUsdGVuc29yOmV9LGY9Rj0+dHlwZW9mIEY9PSJzdHJpbmciP0Y6YCR7Rn11YCxnPXtvZmZzZXRUb0luZGljZXM6ITEsaW5kaWNlc1RvT2Zmc2V0OiExLGJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0OiExLHNldDohMSxzZXRCeUluZGljZXM6ITEsZ2V0OiExLGdldEJ5SW5kaWNlczohMX0seT1pPyJ1bmlmb3Jtcy4iOiIiLHc9YCR7eX0ke3R9X3NoYXBlYCx2PWAke3l9JHt0fV9zdHJpZGVzYCxrPSIiO2ZvcihsZXQgRj0wO0Y8cy0xO0YrKylrKz1gCiAgICBsZXQgZGltJHtGfSA9IGN1cnJlbnQgLyAke3hlKHYsRixzKX07CiAgICBsZXQgcmVzdCR7Rn0gPSBjdXJyZW50ICUgJHt4ZSh2LEYscyl9OwogICAgaW5kaWNlc1ske0Z9XSA9IGRpbSR7Rn07CiAgICBjdXJyZW50ID0gcmVzdCR7Rn07CiAgICBgO2srPWBpbmRpY2VzWyR7cy0xfV0gPSBjdXJyZW50O2A7bGV0IEU9czwyPyIiOmAKICBmbiBvMmlfJHt0fShvZmZzZXQ6IHUzMikgLT4gJHtoLmluZGljZXN9IHsKICAgIHZhciBpbmRpY2VzOiAke2guaW5kaWNlc307CiAgICB2YXIgY3VycmVudCA9IG9mZnNldDsKICAgICR7a30KICAgIHJldHVybiBpbmRpY2VzOwogIH1gLHg9Rj0+KGcub2Zmc2V0VG9JbmRpY2VzPSEwLHM8Mj9GOmBvMmlfJHt0fSgke0Z9KWApLEk9W107aWYocz49Milmb3IobGV0IEY9cy0xO0Y+PTA7Ri0tKUkucHVzaChgJHt4ZSh2LEYscyl9ICogKGluZGljZXNbJHtGfV0pYCk7bGV0IFQ9czwyPyIiOmAKICBmbiBpMm9fJHt0fShpbmRpY2VzOiAke2guaW5kaWNlc30pIC0+IHUzMiB7CiAgICByZXR1cm4gJHtJLmpvaW4oIisiKX07CiAgfWAsQj1GPT4oZy5pbmRpY2VzVG9PZmZzZXQ9ITAsczwyP0Y6YGkyb18ke3R9KCR7Rn0pYCksVT0oLi4uRik9PnM9PT0wPyIwdSI6YCR7aC5pbmRpY2VzfSgke0YubWFwKGYpLmpvaW4oIiwiKX0pYCxIPShGLG9lKT0+czwyP2Ake0Z9YDpgJHt4ZShGLG9lLHMpfWAsSz0oRixvZSwkZSk9PnM8Mj9gJHtGfT0keyRlfTtgOmAke3hlKEYsb2Uscyl9PSR7JGV9O2AsTz17fSxHPShGLG9lKT0+e2cuYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQ9ITA7bGV0ICRlPWAke29lLm5hbWV9YnJvYWRjYXN0ZWRJbmRpY2VzVG8ke3R9T2Zmc2V0YDtpZigkZSBpbiBPKXJldHVybmAkeyRlfSgke0Z9KWA7bGV0IFVlPVtdO2ZvcihsZXQgRGU9cy0xO0RlPj0wO0RlLS0pe2xldCBWZT1vZS5pbmRpY2VzR2V0KCJvdXRwdXRJbmRpY2VzIixEZStvZS5yYW5rLXMpO1VlLnB1c2goYCR7SCh2LERlKX0gKiAoJHtWZX0gJSAke0godyxEZSl9KWApfXJldHVybiBPWyRlXT1gZm4gJHskZX0ob3V0cHV0SW5kaWNlczogJHtvZS50eXBlLmluZGljZXN9KSAtPiB1MzIgewogICAgICAgICAgICAgcmV0dXJuICR7VWUubGVuZ3RoPjA/VWUuam9pbigiKyIpOiIwdSJ9OwogICAgICAgICAgIH1gLGAkeyRlfSgke0Z9KWB9LG5lPShGLG9lKT0+KCgpPT57aWYoaC5zdG9yYWdlPT09aC52YWx1ZSlyZXR1cm5gJHt0fVske0Z9XT0ke29lfTtgO2lmKGguc3RvcmFnZT09PSJ2ZWMyPHUzMj4iJiZoLnZhbHVlPT09ImkzMiIpcmV0dXJuYCR7dH1bJHtGfV09dmVjMjx1MzI+KHUzMigke29lfSksIHNlbGVjdCgwdSwgMHhGRkZGRkZGRnUsICR7b2V9IDwgMCkpO2A7aWYoaC5zdG9yYWdlPT09InZlYzI8dTMyPiImJmgudmFsdWU9PT0idTMyIilyZXR1cm5gJHt0fVske0Z9XT12ZWMyPHUzMj4odTMyKCR7b2V9KSwgMHUpO2A7aWYoaC5zdG9yYWdlPT09InUzMiImJmgudmFsdWU9PT0idmVjNDxib29sPiIpcmV0dXJuYCR7dH1bJHtGfV09ZG90KHZlYzQ8dTMyPigweDEsIDB4MTAwLCAweDEwMDAwLCAweDEwMDAwMDApLCB2ZWM0PHUzMj4oJHtvZX0pKTtgO3Rocm93IG5ldyBFcnJvcihgbm90IHN1cHBvcnRlZCBjb21iaW5hdGlvbiBvZiBzdG9yYWdlIHR5cGUgJHtoLnN0b3JhZ2V9IGFuZCB2YWx1ZSB0eXBlICR7aC52YWx1ZX0geWV0YCl9KSgpLHE9Rj0+KCgpPT57aWYoaC5zdG9yYWdlPT09aC52YWx1ZSlyZXR1cm5gJHt0fVske0Z9XWA7aWYoaC5zdG9yYWdlPT09InZlYzI8dTMyPiImJmgudmFsdWU9PT0iaTMyIilyZXR1cm5gaTMyKCR7dH1bJHtGfV0ueClgO2lmKGguc3RvcmFnZT09PSJ2ZWMyPHUzMj4iJiZoLnZhbHVlPT09InUzMiIpcmV0dXJuYHUzMigke3R9WyR7Rn1dLngpYDtpZihoLnN0b3JhZ2U9PT0idTMyIiYmaC52YWx1ZT09PSJ2ZWM0PGJvb2w+IilyZXR1cm5gdmVjNDxib29sPihib29sKCR7dH1bJHtGfV0gJiAweEZGdSksIGJvb2woJHt0fVske0Z9XSAmIDB4RkYwMHUpLCBib29sKCR7dH1bJHtGfV0gJiAweEZGMDAwMHUpLCBib29sKCR7dH1bJHtGfV0gJiAweEZGMDAwMDAwdSkpYDt0aHJvdyBuZXcgRXJyb3IoYG5vdCBzdXBwb3J0ZWQgY29tYmluYXRpb24gb2Ygc3RvcmFnZSB0eXBlICR7aC5zdG9yYWdlfSBhbmQgdmFsdWUgdHlwZSAke2gudmFsdWV9IHlldGApfSkoKSxEPXM8Mj8iIjpgCiAgZm4gZ2V0XyR7dH1CeUluZGljZXMoaW5kaWNlczogJHtoLmluZGljZXN9KSAtPiAke2N9IHsKICAgIHJldHVybiAke3EoYGkyb18ke3R9KGluZGljZXMpYCl9OwogIH1gLEw9czwyPyIiOigoKT0+e2xldCBGPW8ubWFwKCRlPT5gZCR7JGV9OiB1MzJgKS5qb2luKCIsICIpLG9lPW8ubWFwKCRlPT5gZCR7JGV9YCkuam9pbigiLCAiKTtyZXR1cm5gCiAgZm4gZ2V0XyR7dH0oJHtGfSkgLT4gJHtjfSB7CiAgICByZXR1cm4gZ2V0XyR7dH1CeUluZGljZXMoJHtVKG9lKX0pOwogIH1gfSkoKSxWPSguLi5GKT0+e2lmKEYubGVuZ3RoIT09cyl0aHJvdyBuZXcgRXJyb3IoYGluZGljZXMgbGVuZ3RoIG11c3QgYmUgJHtzfWApO2xldCBvZT1GLm1hcChmKS5qb2luKCIsIik7cmV0dXJuIHM9PT0wP3EoIjB1Iik6cz09PTE/cShvZVswXSk6KGcuZ2V0PSEwLGcuZ2V0QnlJbmRpY2VzPSEwLGcuaW5kaWNlc1RvT2Zmc2V0PSEwLGBnZXRfJHt0fSgke29lfSlgKX0sdGU9Rj0+czwyP3EoRik6KGcuZ2V0QnlJbmRpY2VzPSEwLGcuaW5kaWNlc1RvT2Zmc2V0PSEwLGBnZXRfJHt0fUJ5SW5kaWNlcygke0Z9KWApLFg9czwyPyIiOmAKICBmbiBzZXRfJHt0fUJ5SW5kaWNlcyhpbmRpY2VzOiAke2guaW5kaWNlc30sIHZhbHVlOiAke2N9KSB7CiAgICAke25lKGBpMm9fJHt0fShpbmRpY2VzKWAsInZhbHVlIil9CiAgfWAsdWU9czwyPyIiOigoKT0+e2xldCBGPW8ubWFwKCRlPT5gZCR7JGV9OiB1MzJgKS5qb2luKCIsICIpLG9lPW8ubWFwKCRlPT5gZCR7JGV9YCkuam9pbigiLCAiKTtyZXR1cm5gCiAgZm4gc2V0XyR7dH0oJHtGfSwgdmFsdWU6ICR7Y30pIHsKICAgIHNldF8ke3R9QnlJbmRpY2VzKCR7VShvZSl9LCB2YWx1ZSk7CiAgfWB9KSgpO3JldHVybntpbXBsOigpPT57bGV0IEY9W10sb2U9ITE7cmV0dXJuIGcub2Zmc2V0VG9JbmRpY2VzJiYoRi5wdXNoKEUpLG9lPSEwKSxnLmluZGljZXNUb09mZnNldCYmKEYucHVzaChUKSxvZT0hMCksZy5icm9hZGNhc3RlZEluZGljZXNUb09mZnNldCYmKE9iamVjdC52YWx1ZXMoTykuZm9yRWFjaCgkZT0+Ri5wdXNoKCRlKSksb2U9ITApLGcuc2V0JiYoRi5wdXNoKHVlKSxvZT0hMCksZy5zZXRCeUluZGljZXMmJihGLnB1c2goWCksb2U9ITApLGcuZ2V0JiYoRi5wdXNoKEwpLG9lPSEwKSxnLmdldEJ5SW5kaWNlcyYmKEYucHVzaChEKSxvZT0hMCksIWkmJm9lJiZGLnVuc2hpZnQoYGNvbnN0ICR7d30gPSAke2guaW5kaWNlc30oJHtyLmpvaW4oIiwiKX0pO2AsYGNvbnN0ICR7dn0gPSAke2guaW5kaWNlc30oJHtlZS5jb21wdXRlU3RyaWRlcyhyKS5qb2luKCIsIil9KTtgKSxGLmpvaW4oYApgKX0sdHlwZTpoLG9mZnNldFRvSW5kaWNlczp4LGluZGljZXNUb09mZnNldDpCLGJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0OkcsaW5kaWNlczpVLGluZGljZXNHZXQ6SCxpbmRpY2VzU2V0Okssc2V0OiguLi5GKT0+e2lmKEYubGVuZ3RoIT09cysxKXRocm93IG5ldyBFcnJvcihgaW5kaWNlcyBsZW5ndGggbXVzdCBiZSAke3N9YCk7bGV0IG9lPUZbc107aWYodHlwZW9mIG9lIT0ic3RyaW5nIil0aHJvdyBuZXcgRXJyb3IoInZhbHVlIG11c3QgYmUgc3RyaW5nIik7bGV0ICRlPUYuc2xpY2UoMCxzKS5tYXAoZikuam9pbigiLCIpO3JldHVybiBzPT09MD9uZSgiMHUiLG9lKTpzPT09MT9uZSgkZVswXSxvZSk6KGcuc2V0PSEwLGcuc2V0QnlJbmRpY2VzPSEwLGcuaW5kaWNlc1RvT2Zmc2V0PSEwLGBzZXRfJHt0fSgkeyRlfSwgJHtvZX0pYCl9LHNldEJ5T2Zmc2V0Om5lLHNldEJ5SW5kaWNlczooRixvZSk9PnM8Mj9uZShGLG9lKTooZy5zZXRCeUluZGljZXM9ITAsZy5pbmRpY2VzVG9PZmZzZXQ9ITAsYHNldF8ke3R9QnlJbmRpY2VzKCR7Rn0sICR7b2V9KTtgKSxnZXQ6VixnZXRCeU9mZnNldDpxLGdldEJ5SW5kaWNlczp0ZSx1c2FnZTpuLG5hbWU6dCxzdHJpZGVzOnYsc2hhcGU6dyxyYW5rOnN9fSxKPSh0LGUscixuPTEpPT54YSh0LGUsciwiaW5wdXQiLG4pLHZlPSh0LGUscixuPTEpPT54YSh0LGUsciwib3V0cHV0IixuKSxaaT0odCxlLHIsbj0xKT0+eGEodCxlLHIsImludGVybmFsIixuKSxrbD1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLm5vcm1hbGl6ZWREaXNwYXRjaEdyb3VwPXQsdGhpcy5pbnRlcm5hbFZhcmlhYmxlcz1bXSx0aGlzLnZhcmlhYmxlcz1bXSx0aGlzLnVuaWZvcm1zPVtdLHRoaXMudmFyaWFibGVJbmRleD0wfWd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXModCl7cmV0dXJuYGlmIChnbG9iYWxfaWR4ID49ICR7dHlwZW9mIHQ9PSJudW1iZXIiP2Ake3R9dWA6dH0pIHsgcmV0dXJuOyB9YH1tYWluU3RhcnQodD14bCl7bGV0IGU9dHlwZW9mIHQ9PSJudW1iZXIiP3Q6dFswXSxyPXR5cGVvZiB0PT0ibnVtYmVyIj8xOnRbMV0sbj10eXBlb2YgdD09Im51bWJlciI/MTp0WzJdLGE9dGhpcy5ub3JtYWxpemVkRGlzcGF0Y2hHcm91cFsxXT09PTEmJnRoaXMubm9ybWFsaXplZERpc3BhdGNoR3JvdXBbMl09PT0xLGk9YT9gQGJ1aWx0aW4oZ2xvYmFsX2ludm9jYXRpb25faWQpIGdsb2JhbF9pZCA6IHZlYzM8dTMyPiwKICAgIEBidWlsdGluKHdvcmtncm91cF9pZCkgd29ya2dyb3VwX2lkIDogdmVjMzx1MzI+LAogICAgQGJ1aWx0aW4obG9jYWxfaW52b2NhdGlvbl9pZCkgbG9jYWxfaWQgOiB2ZWMzPHUzMj5gOmBAYnVpbHRpbihsb2NhbF9pbnZvY2F0aW9uX2lkKSBsb2NhbF9pZCA6IHZlYzM8dTMyPiwKICAgIEBidWlsdGluKGxvY2FsX2ludm9jYXRpb25faW5kZXgpIGxvY2FsX2lkeCA6IHUzMiwKICAgIEBidWlsdGluKHdvcmtncm91cF9pZCkgd29ya2dyb3VwX2lkIDogdmVjMzx1MzI+LAogICAgQGJ1aWx0aW4obnVtX3dvcmtncm91cHMpIG51bV93b3JrZ3JvdXBzIDogdmVjMzx1MzI+YCxzPWE/ImxldCBnbG9iYWxfaWR4ID0gZ2xvYmFsX2lkLng7IGxldCBsb2NhbF9pZHggPSBsb2NhbF9pZC54OyI6YGxldCBnbG9iYWxfaWR4ID0gKHdvcmtncm91cF9pZC56ICogbnVtX3dvcmtncm91cHNbMF0gKiBudW1fd29ya2dyb3Vwc1sxXSArCiAgICAgICAgICB3b3JrZ3JvdXBfaWQueSAqIG51bV93b3JrZ3JvdXBzWzBdICsgd29ya2dyb3VwX2lkLngpICogJHtlKnIqbn11ICsgbG9jYWxfaWR4O2A7cmV0dXJuYEBjb21wdXRlIEB3b3JrZ3JvdXBfc2l6ZSgke2V9LCAke3J9LCAke259KQogIGZuIG1haW4oJHtpfSkgewogICAgJHtzfQogIGB9YXBwZW5kVmFyaWFibGVVbmlmb3Jtcyh0KXt0LnJhbmshPT0wJiYodC5zaGFwZS5zdGFydHNXaXRoKCJ1bmlmb3Jtcy4iKSYmdGhpcy51bmlmb3Jtcy5wdXNoKHtuYW1lOnQuc2hhcGUucmVwbGFjZSgidW5pZm9ybXMuIiwiIiksdHlwZToidTMyIixsZW5ndGg6dC5yYW5rfSksdC5zdHJpZGVzLnN0YXJ0c1dpdGgoInVuaWZvcm1zLiIpJiZ0aGlzLnVuaWZvcm1zLnB1c2goe25hbWU6dC5zdHJpZGVzLnJlcGxhY2UoInVuaWZvcm1zLiIsIiIpLHR5cGU6InUzMiIsbGVuZ3RoOnQucmFua30pKX1kZWNsYXJlVmFyaWFibGUodCxlKXtpZih0LnVzYWdlPT09ImludGVybmFsIil0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCB1c2UgaW50ZXJuYWwgdmFyaWFibGUgd2l0aCBkZWNsYXJlVmFyaWFibGUoKS4gdXNlIHJlZ2lzdGVySW50ZXJuYWxWYXJpYWJsZXMoKSBpbnN0ZWFkLiIpO3RoaXMudmFyaWFibGVzLnB1c2godCksdGhpcy5hcHBlbmRWYXJpYWJsZVVuaWZvcm1zKHQpO2xldCByPXQudXNhZ2U9PT0iaW5wdXQiPyJyZWFkIjoicmVhZF93cml0ZSIsbj10LnR5cGUuc3RvcmFnZTtyZXR1cm5gQGdyb3VwKDApIEBiaW5kaW5nKCR7ZX0pIHZhcjxzdG9yYWdlLCAke3J9PiAke3QubmFtZX06IGFycmF5PCR7bn0+O2B9ZGVjbGFyZVZhcmlhYmxlcyguLi50KXtyZXR1cm4gdC5tYXAoZT0+dGhpcy5kZWNsYXJlVmFyaWFibGUoZSx0aGlzLnZhcmlhYmxlSW5kZXgrKykpLmpvaW4oYApgKX1yZWdpc3RlckludGVybmFsVmFyaWFibGUodCl7aWYodC51c2FnZSE9PSJpbnRlcm5hbCIpdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgdXNlIGlucHV0IG9yIG91dHB1dCB2YXJpYWJsZSB3aXRoIHJlZ2lzdGVySW50ZXJuYWxWYXJpYWJsZSgpLiB1c2UgZGVjbGFyZVZhcmlhYmxlcygpIGluc3RlYWQuIik7dGhpcy5pbnRlcm5hbFZhcmlhYmxlcy5wdXNoKHQpLHRoaXMuYXBwZW5kVmFyaWFibGVVbmlmb3Jtcyh0KX1yZWdpc3RlckludGVybmFsVmFyaWFibGVzKC4uLnQpe3JldHVybiB0LmZvckVhY2goZT0+dGhpcy5yZWdpc3RlckludGVybmFsVmFyaWFibGUoZSkpLHRoaXN9cmVnaXN0ZXJVbmlmb3JtKHQsZSxyPTEpe3JldHVybiB0aGlzLnVuaWZvcm1zLnB1c2goe25hbWU6dCx0eXBlOmUsbGVuZ3RoOnJ9KSx0aGlzfXJlZ2lzdGVyVW5pZm9ybXModCl7cmV0dXJuIHRoaXMudW5pZm9ybXM9dGhpcy51bmlmb3Jtcy5jb25jYXQodCksdGhpc311bmlmb3JtRGVjbGFyYXRpb24oKXtpZih0aGlzLnVuaWZvcm1zLmxlbmd0aD09PTApcmV0dXJuIiI7bGV0IHQ9W107Zm9yKGxldHtuYW1lOmUsdHlwZTpyLGxlbmd0aDpufW9mIHRoaXMudW5pZm9ybXMpaWYobiYmbj40KXQucHVzaChgJHtlfTphcnJheTx2ZWM0PCR7cn0+LCAke01hdGguY2VpbChuLzQpfT5gKTtlbHNle2xldCBhPW49PW51bGx8fG49PT0xP3I6YHZlYyR7bn08JHtyfT5gO3QucHVzaChgJHtlfToke2F9YCl9cmV0dXJuYAogICAgICBzdHJ1Y3QgVW5pZm9ybXMgeyAke3Quam9pbigiLCAiKX0gfTsKICAgICAgQGdyb3VwKDApIEBiaW5kaW5nKCR7dGhpcy52YXJpYWJsZUluZGV4fSkgdmFyPHVuaWZvcm0+IHVuaWZvcm1zOiBVbmlmb3JtcztgfWdldCBhZGRpdGlvbmFsSW1wbGVtZW50YXRpb25zKCl7cmV0dXJuIHRoaXMudW5pZm9ybURlY2xhcmF0aW9uKCkrdGhpcy52YXJpYWJsZXMubWFwKHQ9PnQuaW1wbCgpKS5qb2luKGAKYCkrdGhpcy5pbnRlcm5hbFZhcmlhYmxlcy5tYXAodD0+dC5pbXBsKCkpLmpvaW4oYApgKX19LFNsPXQ9Pm5ldyBrbCh0KSxwbj0odCxlKT0+e2xldCByPXQubGVuZ3RoLG49W107Zm9yKGxldCBhPTA7YTxyO2ErKyl7bGV0IGk9ci0xLWEscz10W2ldfHwxOyhlW2UubGVuZ3RoLTEtYV18fDEpPjEmJnM9PT0xJiZuLnVuc2hpZnQoaSl9cmV0dXJuIG59LHN0PXQ9PiEwfSksRWwsSmksQ2wsSWwsZHIsQWwsVGwsaG49USgoKT0+e0llKCksaXQoKSxDZSgpLEVsPXQ9PntpZighdHx8dC5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiVHJhbnNwb3NlIHJlcXVpcmVzIDEgaW5wdXQuIil9LEppPSh0LGUpPT5lJiZlLmxlbmd0aCE9PXQ/Wy4uLm5ldyBBcnJheSh0KS5rZXlzKCldLnJldmVyc2UoKTplLENsPSh0LGUpPT5lZS5zb3J0QmFzZWRPblBlcm0odCxKaSh0Lmxlbmd0aCxlKSksSWw9KHQsZSxyLG4pPT57bGV0IGE9W107YS5wdXNoKGBmbiBwZXJtKGk6ICR7bi50eXBlLmluZGljZXN9KSAtPiAke3IudHlwZS5pbmRpY2VzfSB7CiAgICB2YXIgYTogJHtyLnR5cGUuaW5kaWNlc307YCk7Zm9yKGxldCBpPTA7aTxlOysraSlhLnB1c2goci5pbmRpY2VzU2V0KCJhIix0W2ldLGBpWyR7aX1dYCkpO3JldHVybiBhLnB1c2goInJldHVybiBhO30iKSxhLmpvaW4oYApgKX0sZHI9KHQsZSk9PntsZXQgcj10LmRhdGFUeXBlLG49dC5kaW1zLmxlbmd0aCxhPUppKG4sZSksaT1zdChuKSxzPUNsKHQuZGltcyxhKSxvPWk/cy5sZW5ndGg6cyxsPWk/bjp0LmRpbXMsZD12ZSgib3V0cHV0IixyLG8pLGM9SigiYSIscixsKSx1PWg9PmAKICAke2gucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRfc2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMoYyxkKX0KCiAgJHtJbChhLG4sYyxkKX0KCiAgJHtoLm1haW5TdGFydCgpfQogICAgJHtoLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dF9zaXplIil9CgogICAgbGV0IGluZGljZXMgPSAke2Qub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9OwogICAgbGV0IGFJbmRpY2VzID0gcGVybShpbmRpY2VzKTsKCiAgICAke2Quc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLGMuZ2V0QnlJbmRpY2VzKCJhSW5kaWNlcyIpKX0KICB9YDtyZXR1cm57bmFtZToiVHJhbnNwb3NlIixzaGFkZXJDYWNoZTp7aGludDpgJHtlfWAsaW5wdXREZXBlbmRlbmNpZXM6aT9bInJhbmsiXTpbImRpbXMiXX0sZ2V0UnVuRGF0YTpoPT57bGV0IGY9ZWUuc2l6ZShzKTtyZXR1cm57b3V0cHV0czpbe2RpbXM6cyxkYXRhVHlwZTpoWzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoZi82NCl9LHByb2dyYW1Vbmlmb3JtczppP1t7dHlwZToidWludDMyIixkYXRhOmZ9LC4uLmllKGhbMF0uZGltcyksLi4uaWUocyldOlt7dHlwZToidWludDMyIixkYXRhOmZ9XX19LGdldFNoYWRlclNvdXJjZTp1fX0sQWw9KHQsZSk9PntFbCh0LmlucHV0cyksdC5jb21wdXRlKGRyKHQuaW5wdXRzWzBdLGUucGVybSkpfSxUbD10PT5xZSh7cGVybTp0LnBlcm19KX0pLE9sLE1sLHpsLEJsLFJsLERsLFBsLE5sLFVsLFdsLE50LExsLEZsLFZsLEhsLEdsLHFsLGpsLEtsLFlsLFhsLGlfPVEoKCk9PntJZSgpLENlKCksdHMoKSxobigpLE9sPXttYXg6InNlbGVjdChiZXN0VmFsdWUsIGNhbmRpZGF0ZSwgY2FuZGlkYXRlID4gYmVzdFZhbHVlKSIsbWluOiJzZWxlY3QoYmVzdFZhbHVlLCBjYW5kaWRhdGUsIGNhbmRpZGF0ZSA8IGJlc3RWYWx1ZSkiLG1lYW46ImJlc3RWYWx1ZSArIGNhbmRpZGF0ZSIsc3VtOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUiLHByb2Q6ImJlc3RWYWx1ZSAqIGNhbmRpZGF0ZSIsc3VtU3F1YXJlOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUgKiBjYW5kaWRhdGUiLGxvZ1N1bUV4cDoiYmVzdFZhbHVlICsgZXhwKGNhbmRpZGF0ZSkiLGwxOiJiZXN0VmFsdWUgKyBhYnMoY2FuZGlkYXRlKSIsbDI6ImJlc3RWYWx1ZSArIGNhbmRpZGF0ZSAqIGNhbmRpZGF0ZSIsbG9nU3VtOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUifSxNbD17bWF4OiJzZWxlY3QoYmVzdFZhbHVlLCBjYW5kaWRhdGUsIGNhbmRpZGF0ZSA+IGJlc3RWYWx1ZSkiLG1pbjoic2VsZWN0KGJlc3RWYWx1ZSwgY2FuZGlkYXRlLCBjYW5kaWRhdGUgPCBiZXN0VmFsdWUpIixtZWFuOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUiLHN1bToiYmVzdFZhbHVlICsgY2FuZGlkYXRlIixwcm9kOiJiZXN0VmFsdWUgKiBjYW5kaWRhdGUiLHN1bVNxdWFyZToiYmVzdFZhbHVlICsgY2FuZGlkYXRlIixsb2dTdW1FeHA6ImJlc3RWYWx1ZSArIGNhbmRpZGF0ZSIsbDE6ImJlc3RWYWx1ZSArIGNhbmRpZGF0ZSIsbDI6ImJlc3RWYWx1ZSArIGNhbmRpZGF0ZSIsbG9nU3VtOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUifSx6bD17bWF4OiJfQVtvZmZzZXRdIixtaW46Il9BW29mZnNldF0iLG1lYW46IjAiLHN1bToiMCIscHJvZDoiMSIsc3VtU3F1YXJlOiIwIixsb2dTdW1FeHA6IjAiLGwxOiIwIixsMjoiMCIsbG9nU3VtOiIwIn0sQmw9e21heDoiYmVzdFZhbHVlIixtaW46ImJlc3RWYWx1ZSIsc3VtOiJiZXN0VmFsdWUiLHByb2Q6ImJlc3RWYWx1ZSIsc3VtU3F1YXJlOiJiZXN0VmFsdWUiLGxvZ1N1bUV4cDoibG9nKGJlc3RWYWx1ZSkiLGwxOiJiZXN0VmFsdWUiLGwyOiJzcXJ0KGJlc3RWYWx1ZSkiLGxvZ1N1bToibG9nKGJlc3RWYWx1ZSkifSxSbD0odCxlKT0+e2xldCByPVtdO2ZvcihsZXQgbj1lLXQ7bjxlOysrbilyLnB1c2gobik7cmV0dXJuIHJ9LERsPSh0LGUpPT57bGV0IHI9W10sbj10Lmxlbmd0aDtmb3IobGV0IGk9MDtpPG47aSsrKWUuaW5kZXhPZihpKT09PS0xJiZyLnB1c2godFtpXSk7bGV0IGE9ZS5tYXAoaT0+dFtpXSk7cmV0dXJuW3IsYV19LFBsPSh0LGUpPT57bGV0IHI9dC5sZW5ndGgrZS5sZW5ndGgsbj1bXSxhPTA7Zm9yKGxldCBpPTA7aTxyO2krKyllLmluZGV4T2YoaSk9PT0tMT9uLnB1c2godFthKytdKTpuLnB1c2goMSk7cmV0dXJuIG59LE5sPSh0LGUpPT57Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDsrK3IpaWYodFt0Lmxlbmd0aC1yLTFdIT09ZS0xLXIpcmV0dXJuITE7cmV0dXJuITB9LFVsPSh0LGUpPT57bGV0IHI9W107aWYoIU5sKHQsZSkpe2ZvcihsZXQgbj0wO248ZTsrK24pdC5pbmRleE9mKG4pPT09LTEmJnIucHVzaChuKTt0LmZvckVhY2gobj0+ci5wdXNoKG4pKX1yZXR1cm4gcn0sV2w9KHQsZSxyLG4sYSxpLHMpPT57bGV0IG89clswXS5kaW1zLGw9ZWUuc2l6ZShpKSxkPWVlLnNpemUocyksYz1KKCJfQSIsclswXS5kYXRhVHlwZSxvKSx1PXZlKCJvdXRwdXQiLGEsaSksaD0zMixmPWAKICAgICAgICAgIHZhcjx3b3JrZ3JvdXA+IGFCZXN0VmFsdWVzIDogYXJyYXk8JHt1LnR5cGUuc3RvcmFnZX0sICR7aH0+OwogICAgICAgYDtyZXR1cm57bmFtZTp0LHNoYWRlckNhY2hlOmUsZ2V0U2hhZGVyU291cmNlOmc9PmAKICAgICAgICAke2cucmVnaXN0ZXJVbmlmb3JtKCJyZWR1Y2VTaXplIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyhjLHUpfQogICAgICAgICR7Zn0KICAgICAgICBmbiBESVZfQ0VJTChhIDogdTMyLCBiIDogdTMyKSAtPiB1MzIgewogICAgICAgICAgcmV0dXJuICgoYSAtIDF1KSAvIGIgKyAxdSk7CiAgICAgICAgIH0KICAgICAgICAgJHtnLm1haW5TdGFydChoKX0KCiAgICAgICAgICBsZXQgb3V0cHV0SW5kZXggPSBnbG9iYWxfaWR4IC8gJHtofTsKICAgICAgICAgIGxldCBvZmZzZXQgPSBvdXRwdXRJbmRleCAqIHVuaWZvcm1zLnJlZHVjZVNpemU7CgogICAgICAgICAgdmFyIGJlc3RWYWx1ZSA9ICR7dS50eXBlLnN0b3JhZ2V9KCR7emxbbl19KTsKICAgICAgICAgIGxldCBMZW5ndGggPSB1bmlmb3Jtcy5yZWR1Y2VTaXplOwogICAgICAgICAgZm9yICh2YXIgayA9IGxvY2FsX2lkeDsgayA8IExlbmd0aDsgayA9IGsgKyAke2h9KSB7CiAgICAgICAgICAgbGV0IGNhbmRpZGF0ZSA9ICR7dS50eXBlLnN0b3JhZ2V9KCR7Yy5nZXRCeU9mZnNldCgib2Zmc2V0ICsgayIpfSk7CiAgICAgICAgICAgYmVzdFZhbHVlID0gJHtPbFtuXX07CiAgICAgICAgICB9CiAgICAgICAgICBhQmVzdFZhbHVlc1tsb2NhbF9pZHhdID0gYmVzdFZhbHVlOwogICAgICAgICAgd29ya2dyb3VwQmFycmllcigpOwoKICAgICAgICAgdmFyIHJlZHVjZVNpemUgPSBtaW4oTGVuZ3RoLCAke2h9dSk7CiAgICAgICAgIGZvciAodmFyIGN1cnJlbnRTaXplID0gcmVkdWNlU2l6ZSAvIDJ1OyByZWR1Y2VTaXplID4gMXU7CiAgICAgICAgICAgICBjdXJyZW50U2l6ZSA9IHJlZHVjZVNpemUgLyAydSkgewogICAgICAgICAgIGxldCBpbnRlcnZhbCA9IERJVl9DRUlMKHJlZHVjZVNpemUsIDJ1KTsKICAgICAgICAgICBpZiAobG9jYWxfaWR4IDwgY3VycmVudFNpemUpIHsKICAgICAgICAgICAgbGV0IGNhbmRpZGF0ZSA9IGFCZXN0VmFsdWVzW2xvY2FsX2lkeCArIGludGVydmFsXTsKICAgICAgICAgICAgYmVzdFZhbHVlID0gJHtNbFtuXX07CiAgICAgICAgICAgIGFCZXN0VmFsdWVzW2xvY2FsX2lkeF0gPSBiZXN0VmFsdWU7CiAgICAgICAgICAgfQogICAgICAgICAgIHJlZHVjZVNpemUgPSBpbnRlcnZhbDsKICAgICAgICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CiAgICAgICAgIH0KCiAgICAgICAgIGlmIChsb2NhbF9pZHggPT0gMHUpIHsKICAgICAgICAgICR7dS5zZXRCeU9mZnNldCgib3V0cHV0SW5kZXgiLGAke249PT0ibWVhbiI/YGJlc3RWYWx1ZSAvICR7dS50eXBlLnN0b3JhZ2V9KHVuaWZvcm1zLnJlZHVjZVNpemUpYDpgJHtCbFtuXX1gfWApfTsKICAgICAgICAgfQogICAgICAgIH1gLGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6aSxkYXRhVHlwZTphfV0sZGlzcGF0Y2hHcm91cDp7eDpsfSxwcm9ncmFtVW5pZm9ybXM6W3t0eXBlOiJ1aW50MzIiLGRhdGE6ZH1dfSl9fSxOdD0odCxlLHIsbik9PntsZXQgYT10LmlucHV0cy5sZW5ndGg9PT0xP3I6ZXModC5pbnB1dHMsciksaT1hLmF4ZXM7aS5sZW5ndGg9PT0wJiYhYS5ub29wV2l0aEVtcHR5QXhlcyYmKGk9dC5pbnB1dHNbMF0uZGltcy5tYXAoKGYsZyk9PmcpKTtsZXQgcz1lZS5ub3JtYWxpemVBeGVzKGksdC5pbnB1dHNbMF0uZGltcy5sZW5ndGgpLG89cyxsPXQuaW5wdXRzWzBdLGQ9VWwobyx0LmlucHV0c1swXS5kaW1zLmxlbmd0aCk7ZC5sZW5ndGg+MCYmKGw9dC5jb21wdXRlKGRyKHQuaW5wdXRzWzBdLGQpLHtpbnB1dHM6WzBdLG91dHB1dHM6Wy0xXX0pWzBdLG89Umwoby5sZW5ndGgsbC5kaW1zLmxlbmd0aCkpO2xldFtjLHVdPURsKGwuZGltcyxvKSxoPWM7YS5rZWVwRGltcyYmKGg9UGwoYyxzKSksdC5jb21wdXRlKFdsKGUse2hpbnQ6YS5jYWNoZUtleSxpbnB1dERlcGVuZGVuY2llczpbInR5cGUiXX0sW2xdLG4sdC5pbnB1dHNbMF0uZGF0YVR5cGUsaCx1KSx7aW5wdXRzOltsXX0pfSxMbD0odCxlKT0+e050KHQsIlJlZHVjZU1lYW5TaGFyZWQiLGUsIm1lYW4iKX0sRmw9KHQsZSk9PntOdCh0LCJSZWR1Y2VMMVNoYXJlZCIsZSwibDEiKX0sVmw9KHQsZSk9PntOdCh0LCJSZWR1Y2VMMlNoYXJlZCIsZSwibDIiKX0sSGw9KHQsZSk9PntOdCh0LCJSZWR1Y2VMb2dTdW1FeHBTaGFyZWQiLGUsImxvZ1N1bUV4cCIpfSxHbD0odCxlKT0+e050KHQsIlJlZHVjZU1heFNoYXJlZCIsZSwibWF4Iil9LHFsPSh0LGUpPT57TnQodCwiUmVkdWNlTWluU2hhcmVkIixlLCJtaW4iKX0samw9KHQsZSk9PntOdCh0LCJSZWR1Y2VQcm9kU2hhcmVkIixlLCJwcm9kIil9LEtsPSh0LGUpPT57TnQodCwiUmVkdWNlU3VtU2hhcmVkIixlLCJzdW0iKX0sWWw9KHQsZSk9PntOdCh0LCJSZWR1Y2VTdW1TcXVhcmVTaGFyZWQiLGUsInN1bVNxdWFyZSIpfSxYbD0odCxlKT0+e050KHQsIlJlZHVjZUxvZ1N1bVNoYXJlZCIsZSwibG9nU3VtIil9fSksVXQsUWwsa2EsZXMsV3QsWmwsSmwsZXUsdHUscnUsbnUsYXUsaXUsc3Usb3UsTHQsbHUsdXUsZHUsY3UscHUsaHUsZnUsbXUsZ3UsX3UsdHM9USgoKT0+e0llKCksaXQoKSxDZSgpLGlfKCksVXQ9dD0+e2lmKCF0fHx0Lmxlbmd0aD09PTB8fHQubGVuZ3RoPjIpdGhyb3cgbmV3IEVycm9yKCJSZWR1Y2Ugb3AgcmVxdWlyZXMgMSBvciAyIGlucHV0cy4iKTtpZih0Lmxlbmd0aD09PTImJnRbMV0uZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBheGVzIGlucHV0IGRpbXMuIil9LFFsPXQ9PlsiIiwiIixgdmFyIHZhbHVlID0gJHt0LmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTtgLCIiXSxrYT0odCxlLHIsbixhLGkscz0hMSxvPSExKT0+e2xldCBsPVtdLGQ9clswXS5kaW1zLGM9ZC5sZW5ndGgsdT1lZS5ub3JtYWxpemVBeGVzKGEsYyksaD0hbyYmdS5sZW5ndGg9PT0wO2QuZm9yRWFjaCgoeSx3KT0+e2h8fHUuaW5kZXhPZih3KT49MD9zJiZsLnB1c2goMSk6bC5wdXNoKHkpfSk7bGV0IGY9bC5sZW5ndGgsZz1lZS5zaXplKGwpO3JldHVybntuYW1lOnQsc2hhZGVyQ2FjaGU6ZSxnZXRTaGFkZXJTb3VyY2U6eT0+e2xldCB3PVtdLHY9SigiX0EiLHJbMF0uZGF0YVR5cGUsYyksaz12ZSgib3V0cHV0IixpLGYpLEU9bih2LGssdSkseD1FWzJdO2ZvcihsZXQgST0wLFQ9MDtJPGM7SSsrKWh8fHUuaW5kZXhPZihJKT49MD8ocyYmVCsrLHg9YGZvcih2YXIgaiR7SX06IHUzMiA9IDA7IGoke0l9IDwgJHtkW0ldfTsgaiR7SX0rKykgewogICAgICAgICAgICAgICAgICAke0VbMl0uaW5jbHVkZXMoImxhc3RfaW5kZXgiKT9gbGV0IGxhc3RfaW5kZXggPSBqJHtJfTtgOiIifQogICAgICAgICAgICAgICAgICAke3YuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIsSSxgaiR7SX1gKX0KICAgICAgICAgICAgICAgICAgJHt4fQogICAgICAgICAgICAgICAgfWApOih3LnB1c2goYCR7di5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIixJLGsuaW5kaWNlc0dldCgib3V0cHV0X2luZGljZXMiLFQpKX07YCksVCsrKTtyZXR1cm5gCgogICAgICAgICR7eS5yZWdpc3RlclVuaWZvcm0oIm91dHB1dF9zaXplIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyh2LGspfQoKICAgICAgICAke3kubWFpblN0YXJ0KCl9CiAgICAgICAgICAke3kuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0X3NpemUiKX0KICAgICAgICAgIHZhciBpbnB1dF9pbmRpY2VzOiAke3YudHlwZS5pbmRpY2VzfTsKICAgICAgICAgIGxldCBvdXRwdXRfaW5kaWNlcyA9ICR7ay5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07CgogICAgICAgICAgJHt3LmpvaW4oYApgKX0KICAgICAgICAgICR7RVswXX0gICAgICAgLy8gaW5pdCBvcHMgZm9yIHJlZHVjZSBtYXgvbWluCiAgICAgICAgICAke0VbMV19CiAgICAgICAgICAke3h9CiAgICAgICAgICAke0VbM119CiAgICAgICAgICAke0UubGVuZ3RoPT09ND9rLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwidmFsdWUiKTpFLnNsaWNlKDQpLmpvaW4oYApgKX0KICAgICAgICB9YH0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpsLGRhdGFUeXBlOml9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChnLzY0KX0scHJvZ3JhbVVuaWZvcm1zOlt7dHlwZToidWludDMyIixkYXRhOmd9LC4uLmllKGQpLC4uLmllKGwpXX0pfX0sZXM9KHQsZSk9PntsZXQgcj1bXTtyZXR1cm4gdFsxXS5kaW1zWzBdPjAmJnRbMV0uZ2V0QmlnSW50NjRBcnJheSgpLmZvckVhY2gobj0+ci5wdXNoKE51bWJlcihuKSkpLHFlKHtheGVzOnIsa2VlcERpbXM6ZS5rZWVwRGltcyxub29wV2l0aEVtcHR5QXhlczplLm5vb3BXaXRoRW1wdHlBeGVzfSl9LFd0PSh0LGUscixuKT0+e2xldCBhPXQuaW5wdXRzLGk9YS5sZW5ndGg9PT0xP3I6ZXMoYSxyKTt0LmNvbXB1dGUoa2EoZSx7aGludDppLmNhY2hlS2V5LGlucHV0RGVwZW5kZW5jaWVzOlsicmFuayJdfSxbYVswXV0saS5ub29wV2l0aEVtcHR5QXhlcyYmaS5heGVzLmxlbmd0aD09PTA/UWw6bixpLmF4ZXMsYVswXS5kYXRhVHlwZSxpLmtlZXBEaW1zLGkubm9vcFdpdGhFbXB0eUF4ZXMpLHtpbnB1dHM6WzBdfSl9LFpsPSh0LGUpPT57VXQodC5pbnB1dHMpLFd0KHQsIlJlZHVjZUxvZ1N1bSIsZSwocixuKT0+W2B2YXIgdmFsdWUgPSAke24udHlwZS5zdG9yYWdlfSgwKTtgLCIiLGB2YWx1ZSArPSAke3IuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9O2AsInZhbHVlID0gbG9nKHZhbHVlKTsiXSl9LEpsPSh0LGUpPT57VXQodC5pbnB1dHMpLFd0KHQsIlJlZHVjZUwxIixlLChyLG4pPT5bYHZhciB2YWx1ZSA9ICR7bi50eXBlLnN0b3JhZ2V9KDApO2AsIiIsYHZhbHVlICs9IGFicygke3IuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9KTtgLCIiXSl9LGV1PSh0LGUpPT57VXQodC5pbnB1dHMpLFd0KHQsIlJlZHVjZUwyIixlLChyLG4pPT5bYHZhciB0ID0gJHtuLnR5cGUudmFsdWV9KDApOyB2YXIgdmFsdWUgPSAke24udHlwZS52YWx1ZX0oMCk7YCwiIixgdCA9ICR7ci5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07IHZhbHVlICs9ICh0ICogdCk7YCwidmFsdWUgPSBzcXJ0KHZhbHVlKTsiXSl9LHR1PSh0LGUpPT57VXQodC5pbnB1dHMpLFd0KHQsIlJlZHVjZUxvZ1N1bUV4cCIsZSwocixuKT0+W2B2YXIgdmFsdWUgPSAke24udHlwZS5zdG9yYWdlfSgwKTtgLCIiLGB2YWx1ZSArPSBleHAoJHtyLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfSk7YCwidmFsdWUgPSBsb2codmFsdWUpOyJdKX0scnU9KHQsZSk9PntVdCh0LmlucHV0cyksV3QodCwiUmVkdWNlTWF4IixlLChyLG4sYSk9PntsZXQgaT1bXTtmb3IobGV0IHM9MDtzPHIucmFuaztzKyspKGEuaW5kZXhPZihzKT49MHx8YS5sZW5ndGg9PT0wKSYmaS5wdXNoKHIuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIscywwKSk7cmV0dXJuW2Ake2kuam9pbihgCmApfWAsYHZhciB2YWx1ZSA9ICR7ci5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07YCxgdmFsdWUgPSBtYXgodmFsdWUsICR7ci5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX0pO2AsIiJdfSl9LG51PSh0LGUpPT57VXQodC5pbnB1dHMpLFd0KHQsIlJlZHVjZU1lYW4iLGUsKHIsbixhKT0+e2xldCBpPTE7Zm9yKGxldCBzPTA7czxyLnJhbms7cysrKShhLmluZGV4T2Yocyk+PTB8fGEubGVuZ3RoPT09MCkmJihpKj10LmlucHV0c1swXS5kaW1zW3NdKTtyZXR1cm5bInZhciBzdW0gPSBmMzIoMCk7IiwiIixgc3VtICs9IGYzMigke3IuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9KTtgLGBsZXQgdmFsdWUgPSAke24udHlwZS52YWx1ZX0oc3VtIC8gJHtpfSk7YF19KX0sYXU9KHQsZSk9PntVdCh0LmlucHV0cyksV3QodCwiUmVkdWNlTWluIixlLChyLG4sYSk9PntsZXQgaT1bXTtmb3IobGV0IHM9MDtzPHIucmFuaztzKyspKGEuaW5kZXhPZihzKT49MHx8YS5sZW5ndGg9PT0wKSYmaS5wdXNoKGBpbnB1dF9pbmRpY2VzWyR7c31dID0gMDtgKTtyZXR1cm5bYCR7aS5qb2luKGAKYCl9YCxgdmFyIHZhbHVlID0gJHtyLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTtgLGB2YWx1ZSA9IG1pbih2YWx1ZSwgJHtyLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfSk7YCwiIl19KX0saXU9KHQsZSk9PntVdCh0LmlucHV0cyksV3QodCwiUmVkdWNlUHJvZCIsZSwocixuKT0+W2B2YXIgdmFsdWUgPSAke24udHlwZS5zdG9yYWdlfSgxKTtgLCIiLGB2YWx1ZSAqPSAke3IuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9O2AsIiJdKX0sc3U9KHQsZSk9PntVdCh0LmlucHV0cyksV3QodCwiUmVkdWNlU3VtIixlLChyLG4pPT5bYHZhciB2YWx1ZSA9ICR7bi50eXBlLnN0b3JhZ2V9KDApO2AsIiIsYHZhbHVlICs9ICR7ci5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07YCwiIl0pfSxvdT0odCxlKT0+e1V0KHQuaW5wdXRzKSxXdCh0LCJSZWR1Y2VTdW1TcXVhcmUiLGUsKHIsbik9PltgdmFyIHQgPSAke24udHlwZS52YWx1ZX0oMCk7IHZhciB2YWx1ZSA9ICR7bi50eXBlLnZhbHVlfSgwKTtgLCIiLGB0ID0gJHtyLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTsgdmFsdWUgKz0gdCAqIHQ7YCwiIl0pfSxMdD0odCxlLHIpPT57aWYoZS5sZW5ndGg9PT0wKXJldHVybiByO2xldCBuPTEsYT0xO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKWUuaW5kZXhPZihpKT09PS0xP24qPXRbaV06YSo9dFtpXTtyZXR1cm4gYTwzMiYmbj4xMDI0fSxsdT0odCxlKT0+e0x0KHQuaW5wdXRzWzBdLmRpbXMsZS5heGVzLGUubm9vcFdpdGhFbXB0eUF4ZXMpP251KHQsZSk6TGwodCxlKX0sdXU9KHQsZSk9PntMdCh0LmlucHV0c1swXS5kaW1zLGUuYXhlcyxlLm5vb3BXaXRoRW1wdHlBeGVzKT9KbCh0LGUpOkZsKHQsZSl9LGR1PSh0LGUpPT57THQodC5pbnB1dHNbMF0uZGltcyxlLmF4ZXMsZS5ub29wV2l0aEVtcHR5QXhlcyk/ZXUodCxlKTpWbCh0LGUpfSxjdT0odCxlKT0+e0x0KHQuaW5wdXRzWzBdLmRpbXMsZS5heGVzLGUubm9vcFdpdGhFbXB0eUF4ZXMpP3R1KHQsZSk6SGwodCxlKX0scHU9KHQsZSk9PntMdCh0LmlucHV0c1swXS5kaW1zLGUuYXhlcyxlLm5vb3BXaXRoRW1wdHlBeGVzKT9ydSh0LGUpOkdsKHQsZSl9LGh1PSh0LGUpPT57THQodC5pbnB1dHNbMF0uZGltcyxlLmF4ZXMsZS5ub29wV2l0aEVtcHR5QXhlcyk/YXUodCxlKTpxbCh0LGUpfSxmdT0odCxlKT0+e0x0KHQuaW5wdXRzWzBdLmRpbXMsZS5heGVzLGUubm9vcFdpdGhFbXB0eUF4ZXMpP2l1KHQsZSk6amwodCxlKX0sbXU9KHQsZSk9PntMdCh0LmlucHV0c1swXS5kaW1zLGUuYXhlcyxlLm5vb3BXaXRoRW1wdHlBeGVzKT9zdSh0LGUpOktsKHQsZSl9LGd1PSh0LGUpPT57THQodC5pbnB1dHNbMF0uZGltcyxlLmF4ZXMsZS5ub29wV2l0aEVtcHR5QXhlcyk/b3UodCxlKTpZbCh0LGUpfSxfdT0odCxlKT0+e0x0KHQuaW5wdXRzWzBdLmRpbXMsZS5heGVzLGUubm9vcFdpdGhFbXB0eUF4ZXMpP1psKHQsZSk6WGwodCxlKX19KSxycyx5dSx3dSxucyxzXz1RKCgpPT57WWUoKSxpdCgpLHRzKCkscnM9dD0+e2lmKCF0fHx0Lmxlbmd0aD09PTB8fHQubGVuZ3RoPjIpdGhyb3cgbmV3IEVycm9yKCJBcmdNaW5NYXhPcCBvcCByZXF1aXJlcyAxIG9yIDIgaW5wdXRzLiIpO2lmKHRbMF0uZGF0YVR5cGUhPT0xKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCB0eXBlLiIpfSx5dT0odCxlKT0+e3JzKHQuaW5wdXRzKTtsZXQgcj0obixhLGkpPT57bGV0IHM9W107Zm9yKGxldCBvPTA7bzxuLnJhbms7bysrKShpLmluZGV4T2Yobyk+PTB8fGkubGVuZ3RoPT09MCkmJnMucHVzaChgaW5wdXRfaW5kaWNlc1ske299XSA9IDA7YCk7cmV0dXJuW2Ake3Muam9pbihgCmApfWAsYHZhciB2YWx1ZSA9ICR7bi5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07CnZhciBiZXN0X2luZGV4IDogaTMyID0gMDtgLGBpZiAoJHtuLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfSAke2Uuc2VsZWN0TGFzdEluZGV4PjA/Ijw9IjoiPCJ9IHZhbHVlKSB7CiAgICAgICAgIHZhbHVlID0gJHtuLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTsKICAgICAgICAgYmVzdF9pbmRleCA9IGkzMihsYXN0X2luZGV4KTsKICAgICAgIH1gLCIiLGEuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJiZXN0X2luZGV4IildfTt0LmNvbXB1dGUoa2EoIkFyZ01pbiIse2hpbnQ6ZS5jYWNoZUtleSxpbnB1dERlcGVuZGVuY2llczpbInJhbmsiXX0sW3QuaW5wdXRzWzBdXSxyLFtlLmF4aXNdLDcsZS5rZWVwRGltcykse2lucHV0czpbMF19KX0sd3U9KHQsZSk9Pntycyh0LmlucHV0cyk7bGV0IHI9KG4sYSxpKT0+e2xldCBzPVtdO2ZvcihsZXQgbz0wO288bi5yYW5rO28rKykoaS5pbmRleE9mKG8pPj0wfHxpLmxlbmd0aD09PTApJiZzLnB1c2goYGlucHV0X2luZGljZXNbJHtvfV0gPSAwO2ApO3JldHVybltgJHtzLmpvaW4oYApgKX1gLGB2YXIgdmFsdWUgPSAke24uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9Owp2YXIgYmVzdF9pbmRleCA6IGkzMiA9IDA7YCxgaWYgKCR7bi5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX0gJHtlLnNlbGVjdExhc3RJbmRleD4wPyI+PSI6Ij4ifSB2YWx1ZSkgewogICAgICAgICB2YWx1ZSA9ICR7bi5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07CiAgICAgICAgIGJlc3RfaW5kZXggPSBpMzIobGFzdF9pbmRleCk7CiAgICAgICB9YCwiIixhLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwiYmVzdF9pbmRleCIpXX07dC5jb21wdXRlKGthKCJhcmdNYXgiLHtoaW50OmUuY2FjaGVLZXksaW5wdXREZXBlbmRlbmNpZXM6WyJyYW5rIl19LFt0LmlucHV0c1swXV0scixbZS5heGlzXSw3LGUua2VlcERpbXMpLHtpbnB1dHM6WzBdfSl9LG5zPXQ9PnFlKHQpfSksdnUsYnUsJHUseHUsU2Esa3UsU3UsRXU9USgoKT0+e1llKCksamkoKSxDZSgpLHZ1PSh0LGUpPT57bGV0IHI9dFswXSxuPXRbMV0sYT10WzJdLGk9dFszXSxzPXRbNF0sbz10WzVdO2lmKHMmJm8pdGhyb3cgbmV3IEVycm9yKCJBdHRlbnRpb24gY2Fubm90IGhhdmUgYm90aCBwYXN0IGFuZCByZWxhdGl2ZV9wb3NpdGlvbl9iaWFzIik7aWYoci5kaW1zLmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAiaW5wdXQiIG11c3QgaGF2ZSAzIGRpbWVuc2lvbnMnKTtsZXQgbD1yLmRpbXNbMF0sZD1yLmRpbXNbMV0sYz1yLmRpbXNbMl07aWYoYS5kaW1zLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAiYmlhcyIgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAxIGRpbWVuc2lvbnMnKTtpZihuLmRpbXMubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoJ0lucHV0ICJ3ZWlnaHRzIiBpcyBleHBlY3RlZCB0byBoYXZlIDIgZGltZW5zaW9ucycpO2lmKG4uZGltc1swXSE9PWMpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCAxIGRpbWVuc2lvbiAwIHNob3VsZCBoYXZlIHNhbWUgbGVuZ3RoIGFzIGRpbWVuc2lvbiAyIG9mIGlucHV0IDAiKTtpZihhLmRpbXNbMF0hPT1uLmRpbXNbMV0pdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAiYmlhcyIgZGltZW5zaW9uIDAgc2hvdWxkIGhhdmUgc2FtZSBsZW5ndGggYXMgZGltZW5zaW9uIDEgb2YgaW5wdXQgIndlaWdodHMiJyk7bGV0IHU9YS5kaW1zWzBdLzMsaD11LGY9aDtpZihlLnFrdkhpZGRlblNpemVzLmxlbmd0aD4wKXtpZihlLnFrdkhpZGRlblNpemVzLmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKCJxa3ZfaGlkZGVuX3NpemVzIGF0dHJpYnV0ZSBzaG91bGQgaGF2ZSAzIGVsZW1lbnRzIik7Zm9yKGxldCBFIG9mIGUucWt2SGlkZGVuU2l6ZXMpaWYoRSVlLm51bUhlYWRzIT09MCl0aHJvdyBuZXcgRXJyb3IoInFrdl9oaWRkZW5fc2l6ZXMgc2hvdWxkIGJlIGRpdmlzaWJsZSBieSBudW1faGVhZHMiKTt1PWUucWt2SGlkZGVuU2l6ZXNbMF0saD1lLnFrdkhpZGRlblNpemVzWzFdLGY9ZS5xa3ZIaWRkZW5TaXplc1syXX1sZXQgZz1kO2lmKHUhPT1oKXRocm93IG5ldyBFcnJvcigicWt2X2hpZGRlbl9zaXplcyBmaXJzdCBlbGVtZW50IHNob3VsZCBiZSBzYW1lIGFzIHRoZSBzZWNvbmQiKTtpZihhLmRpbXNbMF0hPT11K2grZil0aHJvdyBuZXcgRXJyb3IoJ0lucHV0ICJiaWFzIiBkaW1lbnNpb24gMCBzaG91bGQgaGF2ZSBzYW1lIGxlbmd0aCBhcyBzdW0gb2YgUS9LL1YgaGlkZGVuIHNpemVzJyk7bGV0IHk9MDtpZihzKXtpZihoIT09Zil0aHJvdyBuZXcgRXJyb3IoJ0lucHV0ICJwYXN0IiBleHBlY3Qga19oaWRkZW5fc2l6ZSA9PSB2X2hpZGRlbl9zaXplJyk7aWYocy5kaW1zLmxlbmd0aCE9PTUpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAicGFzdCIgbXVzdCBoYXZlIDUgZGltZW5zaW9ucycpO2lmKHMuZGltc1swXSE9PTIpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAicGFzdCIgZmlyc3QgZGltZW5zaW9uIG11c3QgYmUgMicpO2lmKHMuZGltc1sxXSE9PWwpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAicGFzdCIgc2Vjb25kIGRpbWVuc2lvbiBtdXN0IGJlIGJhdGNoX3NpemUnKTtpZihzLmRpbXNbMl0hPT1lLm51bUhlYWRzKXRocm93IG5ldyBFcnJvcignSW5wdXQgInBhc3QiIHRoaXJkIGRpbWVuc2lvbiBtdXN0IGJlIG51bV9oZWFkcycpO2lmKHMuZGltc1s0XSE9PWgvZS5udW1IZWFkcyl0aHJvdyBuZXcgRXJyb3IoJ0lucHV0ICJwYXN0IiBmaWZ0aCBkaW1lbnNpb24gbXVzdCBiZSBrX2hpZGRlbl9zaXplIC8gbnVtX2hlYWRzJyk7ZS5wYXN0UHJlc2VudFNoYXJlQnVmZmVyfHwoeT1zLmRpbXNbM10pfWxldCB3PWcreSx2PS0xLGs9MDtpZihpKXRocm93IG5ldyBFcnJvcigiTWFzayBub3Qgc3VwcG9ydGVkIik7aWYocyl0aHJvdyBuZXcgRXJyb3IoInBhc3QgaXMgbm90IHN1cHBvcnRlZCIpO2lmKG8pdGhyb3cgbmV3IEVycm9yKCJyZWxhdGl2ZVBvc2l0aW9uQmlhcyBpcyBub3Qgc3VwcG9ydGVkIik7cmV0dXJue2JhdGNoU2l6ZTpsLHNlcXVlbmNlTGVuZ3RoOmQscGFzdFNlcXVlbmNlTGVuZ3RoOnksa3ZTZXF1ZW5jZUxlbmd0aDpnLHRvdGFsU2VxdWVuY2VMZW5ndGg6dyxtYXhTZXF1ZW5jZUxlbmd0aDp2LGlucHV0SGlkZGVuU2l6ZTpjLGhpZGRlblNpemU6dSx2SGlkZGVuU2l6ZTpmLGhlYWRTaXplOk1hdGguZmxvb3IodS9lLm51bUhlYWRzKSx2SGVhZFNpemU6TWF0aC5mbG9vcihmL2UubnVtSGVhZHMpLG51bUhlYWRzOmUubnVtSGVhZHMsaXNVbmlkaXJlY3Rpb25hbDohMSxwYXN0UHJlc2VudFNoYXJlQnVmZmVyOiExLG1hc2tGaWx0ZXJWYWx1ZTplLm1hc2tGaWx0ZXJWYWx1ZSxtYXNrVHlwZTprLHNjYWxlOmUuc2NhbGUsYnJvYWRjYXN0UmVzUG9zQmlhczohMSxwYXNzUGFzdEluS3Y6ITEscWt2Rm9ybWF0OjF9fSxidT0odCxlLHIsbik9PntsZXQgYT12dChuKSxpPTY0LHM9bi9hO3M8aT9pPTE6cy84PDY0JiYoaT1NYXRoLmNlaWwocy84KSk7bGV0IG89TWF0aC5jZWlsKG4vYS9pKSxsPVt7dHlwZTpqdChlLmRhdGFUeXBlKSxkYXRhOjEvbn0se3R5cGU6InVpbnQzMiIsZGF0YTpzfSx7dHlwZToidWludDMyIixkYXRhOm99XSxkPUl0KGUuZGF0YVR5cGUsYSksYz11PT57bGV0IGg9dmUoIngiLGUuZGF0YVR5cGUsZS5kaW1zLGEpLGY9InRocmVhZF9tYXhfdmVjdG9yIjthPT09Mj9mPSJtYXgodGhyZWFkX21heF92ZWN0b3IueCwgdGhyZWFkX21heF92ZWN0b3IueSkiOmE9PT00JiYoZj0ibWF4KG1heCh0aHJlYWRfbWF4X3ZlY3Rvci54LCB0aHJlYWRfbWF4X3ZlY3Rvci55KSwgbWF4KHRocmVhZF9tYXhfdmVjdG9yLnosIHRocmVhZF9tYXhfdmVjdG9yLncpKSIpO2xldCBnPW5yKGUuZGF0YVR5cGUpLHk9W3tuYW1lOiJkX2ludiIsdHlwZTpnfSx7bmFtZToiZF9jb21wIix0eXBlOiJ1MzIifSx7bmFtZToiZWxlbWVudHNfcGVyX3dnIix0eXBlOiJ1MzIifV07cmV0dXJuYAogIHZhcjx3b3JrZ3JvdXA+IHdnTWF4OiBhcnJheTxmMzIsICR7aX0+OwogIHZhcjx3b3JrZ3JvdXA+IHdnU3VtOiBhcnJheTxmMzIsICR7aX0+OwogICR7dS5yZWdpc3RlclVuaWZvcm1zKHkpLmRlY2xhcmVWYXJpYWJsZXMoaCl9CiAgJHt1Lm1haW5TdGFydChbaSwxLDFdKX0KICAgIGxldCBsb2NhbE9mZnNldCA9IGxvY2FsX2lkeCAqIHVuaWZvcm1zLmVsZW1lbnRzX3Blcl93ZzsKICAgIGxldCBvZmZzZXQ6IHUzMiA9IHdvcmtncm91cF9pZC54ICogdW5pZm9ybXMuZF9jb21wICsgbG9jYWxPZmZzZXQ7CgogICAgdmFyIHRocmVhZF9tYXhfdmVjdG9yID0gJHtidCgiZjMyIixhLCItMy40MDI4MjNlKzM4ZiIpfTsKICAgIGZvciAodmFyIGk6IHUzMiA9IDA7IGkgPCB1bmlmb3Jtcy5lbGVtZW50c19wZXJfd2cgJiYgaSArIGxvY2FsT2Zmc2V0IDwgdW5pZm9ybXMuZF9jb21wOyBpKyspIHsKICAgICAgdGhyZWFkX21heF92ZWN0b3IgPSBtYXgoJHthcihnLGEsInhbb2Zmc2V0ICsgaV0iKX0sIHRocmVhZF9tYXhfdmVjdG9yKTsKICAgIH0KICAgIHdnTWF4W2xvY2FsX2lkeF0gPSAke2Z9OwogICAgd29ya2dyb3VwQmFycmllcigpOwoKICAgIHZhciBtYXhWYWx1ZSA9IC0zLjQwMjgyM2UrMzhmOwogICAgZm9yICh2YXIgaSA9IDB1OyBpIDwgJHtpfTsgaSsrKSB7CiAgICAgIG1heFZhbHVlID0gbWF4KHdnTWF4W2ldLCBtYXhWYWx1ZSk7CiAgICB9CgogICAgdmFyIHN1bVZlY3RvciA9ICR7YnQoImYzMiIsYSwiMCIpfTsKICAgIGZvciAodmFyIGk6IHUzMiA9IDA7IGkgPCB1bmlmb3Jtcy5lbGVtZW50c19wZXJfd2cgJiYgaSArIGxvY2FsT2Zmc2V0IDwgdW5pZm9ybXMuZF9jb21wOyBpKyspIHsKICAgICAgc3VtVmVjdG9yICs9IGV4cCgke2FyKGcsYSwieFtvZmZzZXQgKyBpXSIpfSAtIG1heFZhbHVlKTsKICAgIH0KICAgIHdnU3VtW2xvY2FsX2lkeF0gPSAke0t0KCJzdW1WZWN0b3IiLGEpfTsKICAgIHdvcmtncm91cEJhcnJpZXIoKTsKCiAgICB2YXIgc3VtOiBmMzIgPSAwOwogICAgZm9yICh2YXIgaSA9IDB1OyBpIDwgJHtpfTsgaSsrKSB7CiAgICAgIHN1bSArPSB3Z1N1bVtpXTsKICAgIH0KCiAgICBpZiAoc3VtID09IDApIHsKICAgICAgZm9yICh2YXIgaTogdTMyID0gMDsgaSA8IHVuaWZvcm1zLmVsZW1lbnRzX3Blcl93ZyAmJiBpICsgbG9jYWxPZmZzZXQgPCB1bmlmb3Jtcy5kX2NvbXA7IGkrKykgewogICAgICAgIHhbb2Zmc2V0ICsgaV0gPSAke2J0KCJmMzIiLGEsInVuaWZvcm1zLmRfaW52Iil9OwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpOiB1MzIgPSAwOyBpIDwgdW5pZm9ybXMuZWxlbWVudHNfcGVyX3dnICYmIGkgKyBsb2NhbE9mZnNldCA8IHVuaWZvcm1zLmRfY29tcDsgaSsrKSB7CiAgICAgICAgbGV0IGYzMmlucHV0ID0gJHthcihnLGEsInhbb2Zmc2V0ICsgaV0iKX07CiAgICAgICAgeFtvZmZzZXQgKyBpXSA9ICR7aC50eXBlLnZhbHVlfShleHAoZjMyaW5wdXQgLSBtYXhWYWx1ZSkgLyBzdW0pOwogICAgICB9CiAgICB9CiAgfWB9O3QuY29tcHV0ZSh7bmFtZToiQXR0ZW50aW9uUHJvYnNTb2Z0bWF4IixzaGFkZXJDYWNoZTp7aGludDpgJHtpfTske2R9OyR7YX1gfSxnZXRTaGFkZXJTb3VyY2U6YyxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W10sZGlzcGF0Y2hHcm91cDp7eDpyfSxwcm9ncmFtVW5pZm9ybXM6bH0pfSx7aW5wdXRzOltlXSxvdXRwdXRzOltdfSl9LCR1PSh0LGUscixuLGEsaSk9PntsZXQgcz1bYS5iYXRjaFNpemUsYS5udW1IZWFkcyxhLnNlcXVlbmNlTGVuZ3RoLGEua3ZTZXF1ZW5jZUxlbmd0aCthLnBhc3RTZXF1ZW5jZUxlbmd0aF0sbz1pLnNjYWxlPT09MD8xL01hdGguc3FydChhLmhlYWRTaXplKTppLnNjYWxlLGw9dnQoYS5oZWFkU2l6ZSksZD1hLmhlYWRTaXplL2wsYz0xMix1PXt4Ok1hdGguY2VpbChhLnRvdGFsU2VxdWVuY2VMZW5ndGgvYykseTpNYXRoLmNlaWwoYS5zZXF1ZW5jZUxlbmd0aC9jKSx6OmEuYmF0Y2hTaXplKmEubnVtSGVhZHN9LGg9anQoZS5kYXRhVHlwZSksZj1be3R5cGU6InVpbnQzMiIsZGF0YTphLnNlcXVlbmNlTGVuZ3RofSx7dHlwZToidWludDMyIixkYXRhOmR9LHt0eXBlOiJ1aW50MzIiLGRhdGE6YS50b3RhbFNlcXVlbmNlTGVuZ3RofSx7dHlwZToidWludDMyIixkYXRhOmEua3ZTZXF1ZW5jZUxlbmd0aH0se3R5cGU6aCxkYXRhOm99XSxnPVtlLHJdLHk9dj0+e2xldCBrPUooInEiLGUuZGF0YVR5cGUsZS5kaW1zLGwpLEU9Sigia2V5IixyLmRhdGFUeXBlLHIuZGltcyxsKSx4PXZlKCJvdXRwdXQiLGUuZGF0YVR5cGUscyksST1JdChlLmRhdGFUeXBlKSxUPVt7bmFtZToiTSIsdHlwZToidTMyIn0se25hbWU6IksiLHR5cGU6InUzMiJ9LHtuYW1lOiJOIix0eXBlOiJ1MzIifSx7bmFtZToia3Zfc2VxdWVuY2VfbGVuZ3RoIix0eXBlOiJ1MzIifSx7bmFtZToiYWxwaGEiLHR5cGU6SX1dO3JldHVybmAKICBjb25zdCBiZXRhOiAke0l9ID0gMS4wOwogIGNvbnN0IFRJTEVfU0laRSA9ICR7Y311OwoKICB2YXI8d29ya2dyb3VwPiB0aWxlUTogYXJyYXk8JHtrLnR5cGUuc3RvcmFnZX0sICR7YypjfT47CiAgdmFyPHdvcmtncm91cD4gdGlsZUs6IGFycmF5PCR7ay50eXBlLnN0b3JhZ2V9LCAke2MqY30+OwogICR7di5yZWdpc3RlclVuaWZvcm1zKFQpLmRlY2xhcmVWYXJpYWJsZXMoayxFLHgpfQogICR7di5tYWluU3RhcnQoW2MsYywxXSl9CiAgICAvLyB4IGhvbGRzIHRoZSBOIGFuZCB5IGhvbGRzIHRoZSBNCiAgICBsZXQgaGVhZElkeCA9IHdvcmtncm91cF9pZC56OwogICAgbGV0IG0gPSB3b3JrZ3JvdXBfaWQueSAqIFRJTEVfU0laRTsKICAgIGxldCBuID0gd29ya2dyb3VwX2lkLnggKiBUSUxFX1NJWkU7CiAgICBsZXQgbG0gPSBtICsgbG9jYWxfaWQueTsKICAgIGxldCBsbiA9IG4gKyBsb2NhbF9pZC54OwoKICAgIGxldCBxT2Zmc2V0ID0gdW5pZm9ybXMuTSAqIHVuaWZvcm1zLksgKiBoZWFkSWR4ICsgbSAqIHVuaWZvcm1zLks7CiAgICBsZXQga09mZnNldCA9IHVuaWZvcm1zLmt2X3NlcXVlbmNlX2xlbmd0aCAqIHVuaWZvcm1zLksgKiBoZWFkSWR4ICsgbiAqIHVuaWZvcm1zLks7CgogICAgdmFyIHZhbHVlID0gJHtidChJLGwpfTsKICAgIGZvciAodmFyIHc6IHUzMiA9IDB1OyB3IDwgdW5pZm9ybXMuSzsgdyArPSBUSUxFX1NJWkUpIHsKICAgICAgaWYgKG0gKyBsb2NhbF9pZC55IDwgdW5pZm9ybXMuTSAmJiB3ICsgbG9jYWxfaWQueCA8IHVuaWZvcm1zLkspIHsKICAgICAgICB0aWxlUVtUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgbG9jYWxfaWQueF0gPSBxW3FPZmZzZXQgKyBsb2NhbF9pZC55ICogdW5pZm9ybXMuSyArIHcgKyBsb2NhbF9pZC54XTsKICAgICAgfQogICAgICBpZiAobiArIGxvY2FsX2lkLnkgPCB1bmlmb3Jtcy5OICYmIHcgKyBsb2NhbF9pZC54IDwgdW5pZm9ybXMuSykgewogICAgICAgIHRpbGVLW1RJTEVfU0laRSAqIGxvY2FsX2lkLnkgKyBsb2NhbF9pZC54XSA9IGtleVtrT2Zmc2V0ICsgbG9jYWxfaWQueSAqIHVuaWZvcm1zLksgKyB3ICsgbG9jYWxfaWQueF07CiAgICAgIH0KICAgICAgd29ya2dyb3VwQmFycmllcigpOwoKICAgICAgZm9yICh2YXIgazogdTMyID0gMHU7IGs8VElMRV9TSVpFICYmIHcrayA8IHVuaWZvcm1zLks7IGsrKykgewogICAgICAgIHZhbHVlICs9IHRpbGVRW1RJTEVfU0laRSAqIGxvY2FsX2lkLnkgKyBrXSAqIHRpbGVLW1RJTEVfU0laRSAqIGxvY2FsX2lkLnggKyBrXTsKICAgICAgfQoKICAgICAgd29ya2dyb3VwQmFycmllcigpOwogICAgfQoKICAgIGxldCBoZWFkT2Zmc2V0ID0gaGVhZElkeCAqIHVuaWZvcm1zLk0gKiB1bmlmb3Jtcy5OOwogICAgaWYgKGxtIDwgdW5pZm9ybXMuTSAmJiBsbiA8IHVuaWZvcm1zLk4pIHsKICAgICAgbGV0IG91dHB1dElkeCA9IGhlYWRPZmZzZXQgKyBsbSAqIHVuaWZvcm1zLk4gKyBsbjsKICAgICAgb3V0cHV0W291dHB1dElkeF0gPSAke0t0KCJ2YWx1ZSIsbCl9ICogdW5pZm9ybXMuYWxwaGE7CiAgICB9CiAgfWB9LHc9dC5jb21wdXRlKHtuYW1lOiJBdHRlbnRpb25Qcm9icyIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7bH1gLGlucHV0RGVwZW5kZW5jaWVzOlsidHlwZSIsInR5cGUiXX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpzLGRhdGFUeXBlOmUuZGF0YVR5cGUsZ3B1RGF0YVR5cGU6MH1dLGRpc3BhdGNoR3JvdXA6dSxwcm9ncmFtVW5pZm9ybXM6Zn0pLGdldFNoYWRlclNvdXJjZTp5fSx7aW5wdXRzOmcsb3V0cHV0czpbLTFdfSlbMF07cmV0dXJuIGJ1KHQsdyxhLmJhdGNoU2l6ZSphLm51bUhlYWRzKmEuc2VxdWVuY2VMZW5ndGgsYS50b3RhbFNlcXVlbmNlTGVuZ3RoKSx3fSx4dT0odCxlLHIsbik9PntsZXQgYT1bbi5iYXRjaFNpemUsbi5zZXF1ZW5jZUxlbmd0aCxuLnZIaWRkZW5TaXplXSxpPTEyLHM9e3g6TWF0aC5jZWlsKG4udkhlYWRTaXplL2kpLHk6TWF0aC5jZWlsKG4uc2VxdWVuY2VMZW5ndGgvaSksejpuLmJhdGNoU2l6ZSpuLm51bUhlYWRzfSxvPVt7dHlwZToidWludDMyIixkYXRhOm4uc2VxdWVuY2VMZW5ndGh9LHt0eXBlOiJ1aW50MzIiLGRhdGE6bi50b3RhbFNlcXVlbmNlTGVuZ3RofSx7dHlwZToidWludDMyIixkYXRhOm4udkhlYWRTaXplfSx7dHlwZToidWludDMyIixkYXRhOm4ubnVtSGVhZHN9LHt0eXBlOiJ1aW50MzIiLGRhdGE6bi52SGlkZGVuU2l6ZX1dLGw9ZD0+e2xldCBjPUooInByb2JzIixlLmRhdGFUeXBlLGUuZGltcyksdT1KKCJ2IixyLmRhdGFUeXBlLHIuZGltcyksaD12ZSgib3V0cHV0IixlLmRhdGFUeXBlLGEpLGY9W3tuYW1lOiJNIix0eXBlOiJ1MzIifSx7bmFtZToiSyIsdHlwZToidTMyIn0se25hbWU6Ik4iLHR5cGU6InUzMiJ9LHtuYW1lOiJudW1faGVhZHMiLHR5cGU6InUzMiJ9LHtuYW1lOiJ2X2hpZGRlbl9zaXplIix0eXBlOiJ1MzIifV07cmV0dXJuYAogIGNvbnN0IFRJTEVfU0laRSA9ICR7aX11OwogIHZhcjx3b3JrZ3JvdXA+IHRpbGVROiBhcnJheTwke2MudHlwZS52YWx1ZX0sICR7aSppfT47CiAgdmFyPHdvcmtncm91cD4gdGlsZUs6IGFycmF5PCR7Yy50eXBlLnZhbHVlfSwgJHtpKml9PjsKICAke2QucmVnaXN0ZXJVbmlmb3JtcyhmKS5kZWNsYXJlVmFyaWFibGVzKGMsdSxoKX0KICAke2QubWFpblN0YXJ0KFtpLGksMV0pfQogICBsZXQgaGVhZElkeCA9IHdvcmtncm91cF9pZC56OwogICBsZXQgbSA9IHdvcmtncm91cF9pZC55ICogVElMRV9TSVpFICsgbG9jYWxfaWQueTsKICAgbGV0IG4gPSB3b3JrZ3JvdXBfaWQueCAqIFRJTEVfU0laRSArIGxvY2FsX2lkLng7CgogICBsZXQgb2Zmc2V0QSA9IGhlYWRJZHggKiAodW5pZm9ybXMuTSAqIHVuaWZvcm1zLkspICsgbSAqIHVuaWZvcm1zLks7CiAgIGxldCBvZmZzZXRCID0gaGVhZElkeCAqICh1bmlmb3Jtcy5OICogdW5pZm9ybXMuSykgKyBuOwoKICAgdmFyIHZhbHVlID0gJHtjLnR5cGUuc3RvcmFnZX0oMCk7CiAgIGZvciAodmFyIHc6IHUzMiA9IDB1OyB3IDwgdW5pZm9ybXMuSzsgdyArPSBUSUxFX1NJWkUpIHsKICAgICBpZiAobSA8IHVuaWZvcm1zLk0gJiYgdyArIGxvY2FsX2lkLnggPCB1bmlmb3Jtcy5LKSB7CiAgICAgICB0aWxlUVtUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgbG9jYWxfaWQueF0gPSBwcm9ic1tvZmZzZXRBICsgdyArIGxvY2FsX2lkLnhdOwogICAgIH0KICAgICBpZiAobiA8IHVuaWZvcm1zLk4gJiYgdyArIGxvY2FsX2lkLnkgPCB1bmlmb3Jtcy5LKSB7CiAgICAgICB0aWxlS1tUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgbG9jYWxfaWQueF0gPSB2W29mZnNldEIgKyAodyArIGxvY2FsX2lkLnkpICogdW5pZm9ybXMuTl07CiAgICAgfQogICAgIHdvcmtncm91cEJhcnJpZXIoKTsKICAgICBmb3IgKHZhciBrOiB1MzIgPSAwdTsgazxUSUxFX1NJWkUgJiYgdytrIDwgdW5pZm9ybXMuSzsgaysrKSB7CiAgICAgICB2YWx1ZSArPSB0aWxlUVtUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsga10gKiB0aWxlS1tUSUxFX1NJWkUgKiBrICsgbG9jYWxfaWQueF07CiAgICAgfQogICAgIHdvcmtncm91cEJhcnJpZXIoKTsKICAgfQoKICAgLy8gd2UgbmVlZCB0byB0cmFuc3Bvc2Ugb3V0cHV0IGZyb20gQk5TSF92IHRvIEJTTkRfdgogICBsZXQgYmF0Y2hJZHggPSB3b3JrZ3JvdXBfaWQueiAvIHVuaWZvcm1zLm51bV9oZWFkczsKICAgbGV0IGN1cnJlbnRCYXRjaEhlYWROdW1iZXIgPSB3b3JrZ3JvdXBfaWQueiAlIHVuaWZvcm1zLm51bV9oZWFkczsKICAgbGV0IGhlYWRPZmZzZXQgPSAoYmF0Y2hJZHggKiB1bmlmb3Jtcy5NICogdW5pZm9ybXMubnVtX2hlYWRzICsgY3VycmVudEJhdGNoSGVhZE51bWJlcikgKiB1bmlmb3Jtcy5OOwogICBpZiAobSA8IHVuaWZvcm1zLk0gJiYgbiA8IHVuaWZvcm1zLk4pIHsKICAgICBsZXQgb3V0cHV0SWR4ID0gYmF0Y2hJZHggKiB1bmlmb3Jtcy5NICp1bmlmb3Jtcy52X2hpZGRlbl9zaXplICsgbSAqIHVuaWZvcm1zLnZfaGlkZGVuX3NpemUKICAgICAgICsgY3VycmVudEJhdGNoSGVhZE51bWJlciAqIHVuaWZvcm1zLk4gKyBuOwogICAgIG91dHB1dFtvdXRwdXRJZHhdID0gdmFsdWU7CiAgIH0KICB9YH07cmV0dXJuIHQuY29tcHV0ZSh7bmFtZToiQXR0ZW50aW9uU2NvcmUiLHNoYWRlckNhY2hlOntpbnB1dERlcGVuZGVuY2llczpbInR5cGUiLCJ0eXBlIl19LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6YSxkYXRhVHlwZTplLmRhdGFUeXBlLGdwdURhdGFUeXBlOjB9XSxkaXNwYXRjaEdyb3VwOnMscHJvZ3JhbVVuaWZvcm1zOm99KSxnZXRTaGFkZXJTb3VyY2U6bH0se2lucHV0czpbZSxyXSxvdXRwdXRzOlswXX0pWzBdfSxTYT0odCxlLHIsbixhLGkscyxvLGwsZCxjKT0+e2xldCB1PSR1KHQsZSxyLGwsZCxjKTt4dSh0LHUsbixkKX0sa3U9KHQsZSk9PntsZXQgcj1bZS5iYXRjaFNpemUsZS5udW1IZWFkcyxlLnNlcXVlbmNlTGVuZ3RoLGUuaGVhZFNpemVdLG49ZS5zZXF1ZW5jZUxlbmd0aCxhPWUuaW5wdXRIaWRkZW5TaXplLGk9ZS5oZWFkU2l6ZSxzPTEyLG89e3g6TWF0aC5jZWlsKGUuaGVhZFNpemUvcykseTpNYXRoLmNlaWwoZS5zZXF1ZW5jZUxlbmd0aC9zKSx6OmUuYmF0Y2hTaXplKmUubnVtSGVhZHN9LGw9W3QuaW5wdXRzWzBdLHQuaW5wdXRzWzFdLHQuaW5wdXRzWzJdXSxkPVt7dHlwZToidWludDMyIixkYXRhOm59LHt0eXBlOiJ1aW50MzIiLGRhdGE6YX0se3R5cGU6InVpbnQzMiIsZGF0YTppfSx7dHlwZToidWludDMyIixkYXRhOmUubnVtSGVhZHN9LHt0eXBlOiJ1aW50MzIiLGRhdGE6ZS5oZWFkU2l6ZX0se3R5cGU6InVpbnQzMiIsZGF0YTplLmhpZGRlblNpemV9LHt0eXBlOiJ1aW50MzIiLGRhdGE6ZS5oaWRkZW5TaXplK2UuaGlkZGVuU2l6ZStlLnZIaWRkZW5TaXplfV0sYz11PT57bGV0IGg9dmUoIm91dHB1dF9xIixsWzBdLmRhdGFUeXBlLHIpLGY9dmUoIm91dHB1dF9rIixsWzBdLmRhdGFUeXBlLHIpLGc9dmUoIm91dHB1dF92IixsWzBdLmRhdGFUeXBlLHIpLHk9SigiaW5wdXQiLGxbMF0uZGF0YVR5cGUsbFswXS5kaW1zKSx3PUooIndlaWdodCIsbFsxXS5kYXRhVHlwZSxsWzFdLmRpbXMpLHY9SigiYmlhcyIsbFsyXS5kYXRhVHlwZSxsWzJdLmRpbXMpLGs9eS50eXBlLnN0b3JhZ2UsRT1be25hbWU6Ik0iLHR5cGU6InUzMiJ9LHtuYW1lOiJLIix0eXBlOiJ1MzIifSx7bmFtZToiTiIsdHlwZToidTMyIn0se25hbWU6Im51bV9oZWFkcyIsdHlwZToidTMyIn0se25hbWU6ImhlYWRfc2l6ZSIsdHlwZToidTMyIn0se25hbWU6ImhpZGRlbl9zaXplIix0eXBlOiJ1MzIifSx7bmFtZToibGRiIix0eXBlOiJ1MzIifV07cmV0dXJuYAogIGNvbnN0IFRJTEVfU0laRSA9ICR7c311OwogIHZhcjx3b3JrZ3JvdXA+IHRpbGVJbnB1dDogYXJyYXk8JHtrfSwgJHtzKnN9PjsKICB2YXI8d29ya2dyb3VwPiB0aWxlV2VpZ2h0UTogYXJyYXk8JHtrfSwgJHtzKnN9PjsKICB2YXI8d29ya2dyb3VwPiB0aWxlV2VpZ2h0SzogYXJyYXk8JHtrfSwgJHtzKnN9PjsKICB2YXI8d29ya2dyb3VwPiB0aWxlV2VpZ2h0VjogYXJyYXk8JHtrfSwgJHtzKnN9PjsKICAke3UucmVnaXN0ZXJVbmlmb3JtcyhFKS5kZWNsYXJlVmFyaWFibGVzKHksdyx2LGgsZixnKX0KICAke3UubWFpblN0YXJ0KFtzLHMsMV0pfQogICAgbGV0IGJhdGNoSW5kZXggPSB3b3JrZ3JvdXBfaWQueiAvIHVuaWZvcm1zLm51bV9oZWFkczsKICAgIGxldCBoZWFkTnVtYmVyID0gd29ya2dyb3VwX2lkLnogJSB1bmlmb3Jtcy5udW1faGVhZHM7CiAgICBsZXQgbSA9IHdvcmtncm91cF9pZC55ICogVElMRV9TSVpFICsgbG9jYWxfaWQueTsKICAgIGxldCBuID0gd29ya2dyb3VwX2lkLnggKiBUSUxFX1NJWkUgKyBsb2NhbF9pZC54OwoKICAgIGxldCBpbnB1dE9mZnNldCA9IGJhdGNoSW5kZXggKiAodW5pZm9ybXMuTSAqIHVuaWZvcm1zLkspICsgbSAqIHVuaWZvcm1zLks7CiAgICBsZXQgYmlhc09mZnNldFEgPSBoZWFkTnVtYmVyICogdW5pZm9ybXMuaGVhZF9zaXplOwogICAgbGV0IGJpYXNPZmZzZXRLID0gdW5pZm9ybXMuaGlkZGVuX3NpemUgKyBiaWFzT2Zmc2V0UTsKICAgIGxldCBiaWFzT2Zmc2V0ViA9IHVuaWZvcm1zLmhpZGRlbl9zaXplICsgYmlhc09mZnNldEs7CgogICAgdmFyIHZhbHVlUSA9ICR7a30oMCk7CiAgICB2YXIgdmFsdWVLID0gJHtrfSgwKTsKICAgIHZhciB2YWx1ZVYgPSAke2t9KDApOwogICAgZm9yICh2YXIgdzogdTMyID0gMHU7IHcgPCB1bmlmb3Jtcy5LOyB3ICs9IFRJTEVfU0laRSkgewogICAgICBpZiAobSA8IHVuaWZvcm1zLk0gJiYgdyArIGxvY2FsX2lkLnggPCB1bmlmb3Jtcy5LKSB7CiAgICAgICAgdGlsZUlucHV0W1RJTEVfU0laRSAqIGxvY2FsX2lkLnkgKyBsb2NhbF9pZC54XSA9IGlucHV0W2lucHV0T2Zmc2V0ICsgdyArIGxvY2FsX2lkLnhdOwogICAgICB9CiAgICAgIGlmIChuIDwgdW5pZm9ybXMuTiAmJiB3ICsgbG9jYWxfaWQueSA8IHVuaWZvcm1zLkspIHsKICAgICAgICBsZXQgb2Zmc2V0ID0gbiArICh3ICsgbG9jYWxfaWQueSkgKiB1bmlmb3Jtcy5sZGI7CiAgICAgICAgdGlsZVdlaWdodFFbVElMRV9TSVpFICogbG9jYWxfaWQueSArIGxvY2FsX2lkLnhdID0gd2VpZ2h0W2JpYXNPZmZzZXRRICsgb2Zmc2V0XTsKICAgICAgICB0aWxlV2VpZ2h0S1tUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgbG9jYWxfaWQueF0gPSB3ZWlnaHRbYmlhc09mZnNldEsgKyBvZmZzZXRdOwogICAgICAgIHRpbGVXZWlnaHRWW1RJTEVfU0laRSAqIGxvY2FsX2lkLnkgKyBsb2NhbF9pZC54XSA9IHdlaWdodFtiaWFzT2Zmc2V0ViArIG9mZnNldF07CiAgICAgIH0KICAgICAgd29ya2dyb3VwQmFycmllcigpOwogICAgICBmb3IgKHZhciBrOiB1MzIgPSAwdTsgazxUSUxFX1NJWkUgJiYgdytrIDwgdW5pZm9ybXMuSzsgaysrKSB7CiAgICAgICAgbGV0IGlucHV0VGlsZU9mZnNldCA9IFRJTEVfU0laRSAqIGxvY2FsX2lkLnkgKyBrOwogICAgICAgIGxldCB3ZWlnaHRUaWxlT2Zmc2V0ID0gVElMRV9TSVpFICogayArIGxvY2FsX2lkLng7CiAgICAgICAgdmFsdWVRICs9IHRpbGVJbnB1dFtpbnB1dFRpbGVPZmZzZXRdICogdGlsZVdlaWdodFFbd2VpZ2h0VGlsZU9mZnNldF07CiAgICAgICAgdmFsdWVLICs9IHRpbGVJbnB1dFtpbnB1dFRpbGVPZmZzZXRdICogdGlsZVdlaWdodEtbd2VpZ2h0VGlsZU9mZnNldF07CiAgICAgICAgdmFsdWVWICs9IHRpbGVJbnB1dFtpbnB1dFRpbGVPZmZzZXRdICogdGlsZVdlaWdodFZbd2VpZ2h0VGlsZU9mZnNldF07CiAgICAgIH0KCiAgICAgIHdvcmtncm91cEJhcnJpZXIoKTsKICAgIH0KCiAgICBsZXQgaGVhZE9mZnNldCA9IChtICogdW5pZm9ybXMuTiArIG4pICUgdW5pZm9ybXMuaGVhZF9zaXplOwogICAgdmFsdWVRICs9IGJpYXNbaGVhZE9mZnNldCArIGJpYXNPZmZzZXRRXTsKICAgIHZhbHVlSyArPSBiaWFzW2hlYWRPZmZzZXQgKyBiaWFzT2Zmc2V0S107CiAgICB2YWx1ZVYgKz0gYmlhc1toZWFkT2Zmc2V0ICsgYmlhc09mZnNldFZdOwoKICAgIGxldCBvZmZzZXQgPSB3b3JrZ3JvdXBfaWQueiAqIHVuaWZvcm1zLk0gKiB1bmlmb3Jtcy5OOwogICAgaWYgKG0gPCB1bmlmb3Jtcy5NICYmIG4gPCB1bmlmb3Jtcy5OKSB7CiAgICAgIGxldCBvdXRwdXRJZHggPSBvZmZzZXQgKyBtICogdW5pZm9ybXMuTiArIG47CiAgICAgIG91dHB1dF9xW291dHB1dElkeF0gPSB2YWx1ZVE7CiAgICAgIG91dHB1dF9rW291dHB1dElkeF0gPSB2YWx1ZUs7CiAgICAgIG91dHB1dF92W291dHB1dElkeF0gPSB2YWx1ZVY7CiAgICB9CiAgfWB9O3JldHVybiB0LmNvbXB1dGUoe25hbWU6IkF0dGVudGlvblByZXBhcmUiLHNoYWRlckNhY2hlOntpbnB1dERlcGVuZGVuY2llczpbInR5cGUiLCJ0eXBlIiwidHlwZSJdfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnIsZGF0YVR5cGU6dC5pbnB1dHNbMF0uZGF0YVR5cGUsZ3B1RGF0YVR5cGU6MH0se2RpbXM6cixkYXRhVHlwZTp0LmlucHV0c1swXS5kYXRhVHlwZSxncHVEYXRhVHlwZTowfSx7ZGltczpyLGRhdGFUeXBlOnQuaW5wdXRzWzBdLmRhdGFUeXBlLGdwdURhdGFUeXBlOjB9XSxkaXNwYXRjaEdyb3VwOm8scHJvZ3JhbVVuaWZvcm1zOmR9KSxnZXRTaGFkZXJTb3VyY2U6Y30se2lucHV0czpsLG91dHB1dHM6Wy0xLC0xLC0xXX0pfSxTdT0odCxlKT0+e2xldCByPXZ1KHQuaW5wdXRzLGUpLFtuLGEsaV09a3UodCxyKTtyZXR1cm4gU2EodCxuLGEsaSx0LmlucHV0c1s0XSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0LmlucHV0c1s1XSxyLGUpfX0pLEN1LEl1LEF1LFR1LG9fPVEoKCk9PntQdCgpLEllKCksaXQoKSxDZSgpLEN1PSh0LGUpPT57aWYoIXR8fHQubGVuZ3RoIT09NSl0aHJvdyBuZXcgRXJyb3IoIkJhdGNoTm9ybWFsaXphdGlvbiByZXF1aXJlcyA1IGlucHV0cyIpO2xldCByPShuLGEsaSk9PntsZXQgcz1hLmxlbmd0aDtpZihzIT09bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGAke2l9OiBudW0gZGltZW5zaW9ucyAhPSAke3N9YCk7YS5mb3JFYWNoKChvLGwpPT57aWYobyE9PW5bbF0pdGhyb3cgbmV3IEVycm9yKGAke2l9OiBkaW1bJHtsfV0gZG8gbm90IG1hdGNoYCl9KX07aWYodFswXS5kaW1zLmxlbmd0aD4xKXtsZXQgbj1lLmZvcm1hdD09PSJOSFdDIj9lLnNwYXRpYWw/dFswXS5kaW1zLnNsaWNlKC0xKTp0WzBdLmRpbXMuc2xpY2UoLTEpLmNvbmNhdCh0WzBdLmRpbXMuc2xpY2UoMSx0WzBdLmRpbXMubGVuZ3RoLTEpKTp0WzBdLmRpbXMuc2xpY2UoMSxlLnNwYXRpYWw/Mjp2b2lkIDApO3IodFsxXS5kaW1zLG4sIkludmFsaWQgaW5wdXQgc2NhbGUiKSxyKHRbMl0uZGltcyxuLCJJbnZhbGlkIGlucHV0IEIiKSxyKHRbM10uZGltcyxuLCJJbnZhbGlkIGlucHV0IG1lYW4iKSxyKHRbNF0uZGltcyxuLCJJbnZhbGlkIGlucHV0IHZhciIpfWVsc2Ugcih0WzFdLmRpbXMsWzFdLCJJbnZhbGlkIGlucHV0IHNjYWxlIikscih0WzJdLmRpbXMsWzFdLCJJbnZhbGlkIGlucHV0IEIiKSxyKHRbM10uZGltcyxbMV0sIkludmFsaWQgaW5wdXQgbWVhbiIpLHIodFs0XS5kaW1zLFsxXSwiSW52YWxpZCBpbnB1dCB2YXIiKX0sSXU9KHQsZSk9PntsZXR7ZXBzaWxvbjpyLHNwYXRpYWw6bixmb3JtYXQ6YX09ZSxpPXRbMF0uZGltcyxzPW4/dnQoaVtpLmxlbmd0aC0xXSk6MSxvPWE9PT0iTkhXQyImJmkubGVuZ3RoPjE/czoxLGw9ZWUuc2l6ZShpKS9zLGQ9c3QoaS5sZW5ndGgpJiZuLGM9ZD9pLmxlbmd0aDppLHU9SigieCIsdFswXS5kYXRhVHlwZSx0WzBdLmRpbXMscyksaD1KKCJzY2FsZSIsdFsxXS5kYXRhVHlwZSx0WzFdLmRpbXMsbyksZj1KKCJiaWFzIix0WzJdLmRhdGFUeXBlLHRbMl0uZGltcyxvKSxnPUooImlucHV0TWVhbiIsdFszXS5kYXRhVHlwZSx0WzNdLmRpbXMsbykseT1KKCJpbnB1dFZhciIsdFs0XS5kYXRhVHlwZSx0WzRdLmRpbXMsbyksdz12ZSgieSIsdFswXS5kYXRhVHlwZSxjLHMpLHY9KCk9PntsZXQgRT0iIjtpZihuKUU9YGxldCBjT2Zmc2V0ID0gJHtpLmxlbmd0aD09PTE/IjB1IjphPT09Ik5IV0MiP2BvdXRwdXRJbmRpY2VzWyR7aS5sZW5ndGgtMX1dIC8gJHtzfWA6Im91dHB1dEluZGljZXNbMV0ifTtgO2Vsc2UgaWYoYT09PSJOQ0hXIilFPWAKICAgICAgICAgICAgJHt3LmluZGljZXNTZXQoIm91dHB1dEluZGljZXMiLCIwIiwiMCIpfQogICAgICAgICAgICBsZXQgY09mZnNldCA9ICR7dy5pbmRpY2VzVG9PZmZzZXQoIm91dHB1dEluZGljZXMiKX07YDtlbHNle0U9YHZhciBjSW5kaWNlcyA9ICR7aC50eXBlLmluZGljZXN9KDApOwogICAgICAgICAgICAgICAgICAgICAgIGNJbmRpY2VzWzBdID0gb3V0cHV0SW5kaWNlc1ske2kubGVuZ3RoLTF9XTtgO2ZvcihsZXQgeD0xO3g8aC5yYW5rO3grKylFKz1gY0luZGljZXNbJHt4fV0gPSBvdXRwdXRJbmRpY2VzWyR7eH1dO2A7RSs9YGxldCBjT2Zmc2V0ID0gJHtoLmluZGljZXNUb09mZnNldCgiY0luZGljZXMiKX07YH1yZXR1cm4gRX0saz1FPT5gCiAgY29uc3QgZXBzaWxvbiA9ICR7cn07CiAgJHtFLnJlZ2lzdGVyVW5pZm9ybSgib3V0cHV0U2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXModSxoLGYsZyx5LHcpfQogICR7RS5tYWluU3RhcnQoKX0KICAke0UuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0U2l6ZSIpfQogICAgdmFyIG91dHB1dEluZGljZXMgPSAke3cub2Zmc2V0VG9JbmRpY2VzKGBnbG9iYWxfaWR4ICogJHtzfWApfTsKICAgICR7digpfQogICAgbGV0IHNjYWxlID0gJHtoLmdldEJ5T2Zmc2V0KCJjT2Zmc2V0Iil9OwogICAgbGV0IGJpYXMgPSAke2YuZ2V0QnlPZmZzZXQoImNPZmZzZXQiKX07CiAgICBsZXQgaW5wdXRNZWFuID0gJHtnLmdldEJ5T2Zmc2V0KCJjT2Zmc2V0Iil9OwogICAgbGV0IGlucHV0VmFyID0gJHt5LmdldEJ5T2Zmc2V0KCJjT2Zmc2V0Iil9OwogICAgbGV0IHggPSAke3UuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKX07CiAgICBsZXQgdmFsdWUgPSAoeCAtIGlucHV0TWVhbikgKiBpbnZlcnNlU3FydChpbnB1dFZhciArIGVwc2lsb24pICogc2NhbGUgKyBiaWFzOwogICAgJHt3LnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwidmFsdWUiKX0KICB9YDtyZXR1cm57bmFtZToiQmF0Y2hOb3JtYWxpemF0aW9uIixzaGFkZXJDYWNoZTp7aGludDpgJHtlLmVwc2lsb259XyR7ZS5mb3JtYXR9XyR7bn1fJHtzfWAsaW5wdXREZXBlbmRlbmNpZXM6ZD9bInJhbmsiLCJ0eXBlIiwidHlwZSIsInR5cGUiLCJ0eXBlIl06dm9pZCAwfSxnZXRTaGFkZXJTb3VyY2U6ayxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnRbMF0uZGltcyxkYXRhVHlwZTp0WzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwobC82NCl9LHByb2dyYW1Vbmlmb3JtczpkP1t7dHlwZToidWludDMyIixkYXRhOmx9LC4uLmllKGkpXTpbe3R5cGU6InVpbnQzMiIsZGF0YTpsfV19KX19LEF1PXQ9PnFlKHQpLFR1PSh0LGUpPT57bGV0e2lucHV0czpyLG91dHB1dENvdW50Om59PXQsYT1BdSh7Li4uZSxvdXRwdXRDb3VudDpufSk7aWYoUGUud2ViZ3B1LnZhbGlkYXRlSW5wdXRDb250ZW50JiZDdShyLGEpLGUudHJhaW5pbmdNb2RlKXRocm93IG5ldyBFcnJvcigiQmF0Y2hOb3JtYWxpemF0aW9uIHRyYWluaW5nTW9kZSBpcyBub3Qgc3VwcG9ydGVkIHlldC4iKTt0LmNvbXB1dGUoSXUocixhKSl9fSksT3UsTXUsenUsbF89USgoKT0+e0llKCksQ2UoKSxPdT10PT57aWYodFswXS5kaW1zLmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKCJpbnB1dCBzaG91bGQgaGF2ZSAzIGRpbWVuc2lvbnMiKTtpZighWzMyMCw2NDAsMTI4MF0uaW5jbHVkZXModFswXS5kaW1zWzJdKSl0aHJvdyBuZXcgRXJyb3IoIm51bWJlciBvZiBjaGFubmVscyBzaG91bGQgYmUgMzIwLCA2NDAgb3IgMTI4MCIpO2lmKHRbMV0uZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiYmlhcyBpcyBleHBlY3RlZCB0byBoYXZlIDEgZGltZW5zaW9ucyIpO2lmKHRbMF0uZGltc1syXSE9PXRbMV0uZGltc1swXSl0aHJvdyBuZXcgRXJyb3IoImxhc3QgZGltZW5zaW9uIG9mIGlucHV0IGFuZCBiaWFzIGFyZSBub3QgdGhlIHNhbWUiKX0sTXU9dD0+e2xldCBlPXRbMF0uZGltcyxyPXRbMF0uZGltc1syXSxuPWVlLnNpemUoZSkvNCxhPXRbMF0uZGF0YVR5cGUsaT1KKCJpbnB1dCIsYSxlLDQpLHM9SigiYmlhcyIsYSxbcl0sNCksbz1KKCJyZXNpZHVhbCIsYSxlLDQpLGw9dmUoIm91dHB1dCIsYSxlLDQpO3JldHVybntuYW1lOiJCaWFzQWRkIixnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmUsZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKG4vNjQpfX0pLGdldFNoYWRlclNvdXJjZTpkPT5gCiAgY29uc3QgY2hhbm5lbHMgPSAke3J9dSAvIDQ7CiAgJHtkLmRlY2xhcmVWYXJpYWJsZXMoaSxzLG8sbCl9CgogICR7ZC5tYWluU3RhcnQoKX0KICAgICR7ZC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKG4pfQogICAgbGV0IHZhbHVlID0gJHtpLmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4Iil9CiAgICAgICsgJHtzLmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4ICUgY2hhbm5lbHMiKX0gKyAke28uZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKX07CiAgICAke2wuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJ2YWx1ZSIpfQogIH1gfX0senU9dD0+e091KHQuaW5wdXRzKSx0LmNvbXB1dGUoTXUodC5pbnB1dHMpKX19KSxCdSxSZSxSdSxEdSxQdSxOdSxVdSxXdSxMdSxGdSxWdSxIdSxHdSxxdSxqdSxLdSxFYSxZdSxDYSxYdSxRdSxadSxKdSxlZCx0ZCxyZCxuZCxhZCxpZCxzZCxvZCxsZCx1ZCxkZCxjZCxwZCxoZD1RKCgpPT57WWUoKSxJZSgpLGl0KCksQ2UoKSxCdT0odCxlLHIsbixhLGkpPT57bGV0IHM9TWF0aC5jZWlsKGUvNCksbz0iIjt0eXBlb2YgYT09InN0cmluZyI/bz1gJHthfShhKWA6bz1hKCJhIik7bGV0IGw9SigiaW5wdXREYXRhIixyLFtzXSw0KSxkPXZlKCJvdXRwdXREYXRhIixuLFtzXSw0KTtyZXR1cm5gCiAgICAgICR7dC5yZWdpc3RlclVuaWZvcm0oInZlY19zaXplIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyhsLGQpfQoKICAke2k/PyIifQoKICAke3QubWFpblN0YXJ0KCl9CiAgICAke3QuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMudmVjX3NpemUiKX0KCiAgICBsZXQgYSA9ICR7bC5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpfTsKICAgICR7ZC5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsbyl9CiAgfWB9LFJlPSh0LGUscixuLGEsaT10LmRhdGFUeXBlKT0+KHtuYW1lOmUsc2hhZGVyQ2FjaGU6e2hpbnQ6YSxpbnB1dERlcGVuZGVuY2llczpbInR5cGUiXX0sZ2V0U2hhZGVyU291cmNlOnM9PkJ1KHMsZWUuc2l6ZSh0LmRpbXMpLHQuZGF0YVR5cGUsaSxyLG4pLGdldFJ1bkRhdGE6cz0+KHtvdXRwdXRzOlt7ZGltczp0LmRpbXMsZGF0YVR5cGU6aX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGVlLnNpemUoc1swXS5kaW1zKS82NC80KX0scHJvZ3JhbVVuaWZvcm1zOlt7dHlwZToidWludDMyIixkYXRhOk1hdGguY2VpbChlZS5zaXplKHQuZGltcykvNCl9XX0pfSksUnU9dD0+e3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiQWJzIiwiYWJzIikpfSxEdT10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJBY29zIiwiYWNvcyIpKX0sUHU9dD0+e3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiQWNvc2giLCJhY29zaCIpKX0sTnU9dD0+e3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiQXNpbiIsImFzaW4iKSl9LFV1PXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIkFzaW5oIiwiYXNpbmgiKSl9LFd1PXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIkF0YW4iLCJhdGFuIikpfSxMdT10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJBdGFuaCIsImF0YW5oIikpfSxGdT10PT5xZSh0KSxWdT0odCxlKT0+e2xldCByO3N3aXRjaChlLnRvKXtjYXNlIDEwOnI9InZlYzQ8ZjE2PiI7YnJlYWs7Y2FzZSAxOnI9InZlYzQ8ZjMyPiI7YnJlYWs7Y2FzZSAxMjpyPSJ2ZWM0PHUzMj4iO2JyZWFrO2Nhc2UgNjpyPSJ2ZWM0PGkzMj4iO2JyZWFrO2Nhc2UgOTpyPSJ2ZWM0PGJvb2w+IjticmVhaztkZWZhdWx0OnRocm93IG5ldyBSYW5nZUVycm9yKGBub3Qgc3VwcG9ydGVkIHR5cGUgKHNwZWNpZmllZCBpbiBhdHRyaWJ1dGUgJ3RvJyBmcm9tICdDYXN0JyBvcGVyYXRvcik6ICR7ZS50b31gKX10LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIkNhc3QiLHIsdm9pZCAwLGUuY2FjaGVLZXksZS50bykpfSxIdT10PT57bGV0IGU9dC5sZW5ndGg+PTImJnRbMV0uZGF0YSE9PTA/dFsxXS5nZXRGbG9hdDMyQXJyYXkoKVswXTpYaSxyPXQubGVuZ3RoPj0zJiZ0WzJdLmRhdGEhPT0wP3RbMl0uZ2V0RmxvYXQzMkFycmF5KClbMF06UWk7cmV0dXJuIHFlKHttaW46ZSxtYXg6cn0pfSxHdT0odCxlKT0+e2xldCByPXQuaW5wdXRzLmxlbmd0aD09PTE/ZTpIdSh0LmlucHV0cyksbj1ucih0LmlucHV0c1swXS5kYXRhVHlwZSk7dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJDbGlwIixhPT5gY2xhbXAoJHthfSwgY2xpcF9taW5fLCBjbGlwX21heF8pYCxgCiAgICBjb25zdCBjbGlwX21pbl86IHZlYzQ8JHtufT4gPSB2ZWM0KCR7bn0oJHtyLm1pbn0pKTsKICAgIGNvbnN0IGNsaXBfbWF4XzogdmVjNDwke259PiA9IHZlYzQoJHtufSgke3IubWF4fSkpOwpgLHIuY2FjaGVLZXkpLHtpbnB1dHM6WzBdfSl9LHF1PXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIkNlaWwiLCJjZWlsIikpfSxqdT10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJDb3MiLCJjb3MiKSl9LEt1PXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIkNvc2giLCJjb3NoIikpfSxFYT10PT5xZSh0KSxZdT0odCxlKT0+e2xldCByPW5yKHQuaW5wdXRzWzBdLmRhdGFUeXBlKTt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIkVsdSIsbj0+YGVsdV92ZjMyKCR7bn0pYCxgCiAgY29uc3QgZWx1X2FscGhhXyA9ICR7cn0oJHtlLmFscGhhfSk7CgogIGZuIGVsdV9mMzIoYTogJHtyfSkgLT4gJHtyfSB7CiAgcmV0dXJuIHNlbGVjdCgoZXhwKGEpIC0gMS4wKSAqIGVsdV9hbHBoYV8sIGEsIGEgPj0gMC4wKTsKICB9CgogIGZuIGVsdV92ZjMyKHY6IHZlYzQ8JHtyfT4pIC0+IHZlYzQ8JHtyfT4gewogIHJldHVybiB2ZWM0KGVsdV9mMzIodi54KSwgZWx1X2YzMih2LnkpLCBlbHVfZjMyKHYueiksIGVsdV9mMzIodi53KSk7CiAgfWAsZS5jYWNoZUtleSkpfSxDYT0odCxlPSJmMzIiKT0+YApjb25zdCByMDogJHtlfSA9IDAuMzI3NTkxMTsKY29uc3QgcjE6ICR7ZX0gPSAwLjI1NDgyOTU5MjsKY29uc3QgcjI6ICR7ZX0gPSAtMC4yODQ0OTY3MzY7CmNvbnN0IHIzOiAke2V9ID0gMS40MjE0MTM3NDE7CmNvbnN0IHI0OiAke2V9ID0gLTEuNDUzMTUyMDI3Owpjb25zdCByNTogJHtlfSA9IDEuMDYxNDA1NDI5OwoKZm4gZXJmX3ZmMzIodjogJHt0fSkgLT4gJHt0fSB7CiAgbGV0IGFic3YgPSBhYnModik7CiAgbGV0IHggPSAxLjAgLyAoMS4wICsgcjAgKiBhYnN2KTsKICByZXR1cm4gc2lnbih2KSAqICgxLjAgLSAoKCgocjUgKiB4ICsgcjQpICogeCArIHIzKSAqIHggKyByMikgKiB4ICsgcjEpICogeCAqIGV4cCgtYWJzdiAqIGFic3YpKTsKfWAsWHU9dD0+e2xldCBlPW5yKHQuaW5wdXRzWzBdLmRhdGFUeXBlKTt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIkVyZiIscj0+YGVyZl92ZjMyKCR7cn0pYCxDYShgdmVjNDwke2V9PmAsZSkpKX0sUXU9dD0+e3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiRXhwIiwiZXhwIikpfSxadT10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJGbG9vciIsImZsb29yIikpfSxKdT10PT57bGV0IGU9bnIodC5pbnB1dHNbMF0uZGF0YVR5cGUpO3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiR2VsdSIscj0+YDAuNSAqICR7cn0gKiAoMS4wICsgZXJmX3ZmMzIoJHtyfSAqIDAuNzA3MTA2NzgxMTg2NTQ3NSkpYCxDYShgdmVjNDwke2V9PmAsZSkpKX0sZWQ9KHQsZSk9PntsZXQgcj1ucih0LmlucHV0c1swXS5kYXRhVHlwZSk7dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJMZWFreVJlbHUiLG49PmBzZWxlY3QobGVha3lfcmVsdV9hbHBoYV8gKiAke259LCAke259LCAke259ID49IHZlYzQ8JHtyfT4oMC4wKSlgLGBjb25zdCBsZWFreV9yZWx1X2FscGhhXyA9ICR7cn0oJHtlLmFscGhhfSk7YCxlLmNhY2hlS2V5KSl9LHRkPXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIk5vdCIsZT0+YCEke2V9YCkpfSxyZD10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJOZWciLGU9PmAtJHtlfWApKX0sbmQ9dD0+e3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiUmVjaXByb2NhbCIsZT0+YDEuMC8ke2V9YCkpfSxhZD10PT57bGV0IGU9bnIodC5pbnB1dHNbMF0uZGF0YVR5cGUpO3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiUmVsdSIscj0+YHNlbGVjdCh2ZWM0PCR7ZX0+KDAuMCksICR7cn0sICR7cn0gPiB2ZWM0PCR7ZX0+KDAuMCkpYCkpfSxpZD10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJTaWdtb2lkIixlPT5gKDEuMCAvICgxLjAgKyBleHAoLSR7ZX0pKSlgKSl9LHNkPXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIlNpbiIsInNpbiIpKX0sb2Q9dD0+e3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiU2luaCIsInNpbmgiKSl9LGxkPXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIlNxcnQiLCJzcXJ0IikpfSx1ZD10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJUYW4iLCJ0YW4iKSl9LGRkPXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIlRhbmgiLCJ0YW5oIikpfSxjZD0odCxlKT0+e2xldCByPW5yKHQuaW5wdXRzWzBdLmRhdGFUeXBlKTtyZXR1cm4gdC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJUaHJlc2hvbGRlZFJlbHUiLG49PmBzZWxlY3QodmVjNDwke3J9PigwLjApLCAke259LCAke259ID4gdGhyZXNob2xkZWRfcmVsdV9hbHBoYV8pYCxgY29uc3QgdGhyZXNob2xkZWRfcmVsdV9hbHBoYV8gPSB2ZWM0PCR7cn0+KCR7ZS5hbHBoYX0pO2AsZS5jYWNoZUtleSkpLDB9LHBkPXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIkxvZyIsImxvZyIpKX19KSxmZCxtZCxnZCx1Xz1RKCgpPT57SWUoKSxDZSgpLGhkKCksZmQ9dD0+e2lmKHRbMF0uZGltcy5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcigiaW5wdXQgc2hvdWxkIGhhdmUgMyBkaW1lbnNpb25zIik7aWYoIVsyNTYwLDUxMjAsMTAyNDBdLmluY2x1ZGVzKHRbMF0uZGltc1syXSkpdGhyb3cgbmV3IEVycm9yKCJoaWRkZW4gc3RhdGUgc2hvdWxkIGJlIDI1NjAsIDUxMjAgb3IgMTAyNDAiKTtpZih0WzFdLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoImJpYXMgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAxIGRpbWVuc2lvbnMiKTtpZih0WzBdLmRpbXNbMl0hPT10WzFdLmRpbXNbMF0pdGhyb3cgbmV3IEVycm9yKCJsYXN0IGRpbWVuc2lvbiBvZiBpbnB1dCBhbmQgYmlhcyBhcmUgbm90IHRoZSBzYW1lIil9LG1kPXQ9PntsZXQgZT10WzBdLmRpbXMuc2xpY2UoKTtlWzJdPWVbMl0vMjtsZXQgcj1KKCJpbnB1dCIsdFswXS5kYXRhVHlwZSx0WzBdLmRpbXMsNCksbj1KKCJiaWFzIix0WzBdLmRhdGFUeXBlLFt0WzBdLmRpbXNbMl1dLDQpLGE9dmUoIm91dHB1dCIsdFswXS5kYXRhVHlwZSxlLDQpLGk9ZWUuc2l6ZShlKS80LHM9SXQodFswXS5kYXRhVHlwZSk7cmV0dXJue25hbWU6IkJpYXNTcGxpdEdlbHUiLGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6ZSxkYXRhVHlwZTp0WzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoaS82NCl9fSksZ2V0U2hhZGVyU291cmNlOm89PmAKICBjb25zdCBNX1NRUlQyID0gc3FydCgyLjApOwogIGNvbnN0IGhhbGZDaGFubmVscyA9ICR7dFswXS5kaW1zWzJdLzQvMn11OwoKICAke28uZGVjbGFyZVZhcmlhYmxlcyhyLG4sYSl9CgogICR7Q2EoYHZlYzQ8JHtzfT5gLHMpfQoKICAke28ubWFpblN0YXJ0KCl9CiAgICAke28uZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcyhpKX0KICAgIGxldCBiaWFzSWR4ID0gZ2xvYmFsX2lkeCAlIGhhbGZDaGFubmVsczsKICAgIGxldCBiYXRjaEluZGV4ID0gZ2xvYmFsX2lkeCAvIGhhbGZDaGFubmVsczsKICAgIGxldCBpbnB1dE9mZnNldCA9IGJpYXNJZHggKyBiYXRjaEluZGV4ICogaGFsZkNoYW5uZWxzICogMjsKICAgIGxldCB2YWx1ZUxlZnQgPSBpbnB1dFtpbnB1dE9mZnNldF0gKyBiaWFzW2JpYXNJZHhdOwogICAgbGV0IHZhbHVlUmlnaHQgPSBpbnB1dFtpbnB1dE9mZnNldCArIGhhbGZDaGFubmVsc10gKyBiaWFzW2JpYXNJZHggKyBoYWxmQ2hhbm5lbHNdOwogICAgbGV0IGdlbHVSaWdodCA9IHZhbHVlUmlnaHQgKiAwLjUgKiAoZXJmX3ZmMzIodmFsdWVSaWdodCAvIE1fU1FSVDIpICsgMSk7CgogICAgJHthLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwidmFsdWVMZWZ0ICogZ2VsdVJpZ2h0Iil9CiAgfWB9fSxnZD10PT57ZmQodC5pbnB1dHMpLHQuY29tcHV0ZShtZCh0LmlucHV0cykpfX0pLF9kLHlkLEZ0LHdkLHZkLGJkLCRkLHhkLGtkLFNkLEVkLENkLElkLGRfPVEoKCk9PntZZSgpLEllKCksQ2UoKSxfZD0odCxlLHIsbixhLGkscyxvLGwsZCxjLHUsaCk9PntsZXQgZixnO3R5cGVvZiBvPT0ic3RyaW5nIj9mPWc9KFQsQik9PmAke299KCgke1R9KSwoJHtCfSkpYDp0eXBlb2Ygbz09ImZ1bmN0aW9uIj9mPWc9bzooZj1vLnNjYWxhcixnPW8udmVjdG9yKTtsZXQgeT11P2UubGVuZ3RoOmUsdz11P3IubGVuZ3RoOnIsdj11P24ubGVuZ3RoOm4saz12ZSgib3V0cHV0RGF0YSIsYyx2LDQpLEU9SigiYURhdGEiLGwseSw0KSx4PUooImJEYXRhIixkLHcsNCksSTtpZihhKWlmKGkpe2xldCBUPWVlLnNpemUoZSk9PT0xLEI9ZWUuc2l6ZShyKT09PTEsVT1lLmxlbmd0aD4wJiZlW2UubGVuZ3RoLTFdJTQ9PT0wLEg9ci5sZW5ndGg+MCYmcltyLmxlbmd0aC0xXSU0PT09MDtUfHxCP0k9ay5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsZyhUP2Ake0UudHlwZS52YWx1ZX0oJHtFLmdldEJ5T2Zmc2V0KCIwIil9LngpYDpFLmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiksQj9gJHt4LnR5cGUudmFsdWV9KCR7eC5nZXRCeU9mZnNldCgiMCIpfS54KWA6eC5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpKSk6ST1gCiAgICAgICAgICAgIGxldCBvdXRwdXRJbmRpY2VzID0gJHtrLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCAqIDR1Iil9OwogICAgICAgICAgICBsZXQgb2Zmc2V0QSA9ICR7RS5icm9hZGNhc3RlZEluZGljZXNUb09mZnNldCgib3V0cHV0SW5kaWNlcyIsayl9OwogICAgICAgICAgICBsZXQgb2Zmc2V0QiA9ICR7eC5icm9hZGNhc3RlZEluZGljZXNUb09mZnNldCgib3V0cHV0SW5kaWNlcyIsayl9OwogICAgICAgICAgICAke2suc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLGcoc3x8VT9FLmdldEJ5T2Zmc2V0KCJvZmZzZXRBIC8gNHUiKTpgJHtFLnR5cGUudmFsdWV9KCR7RS5nZXRCeU9mZnNldCgib2Zmc2V0QSAvIDR1Iil9W29mZnNldEEgJSA0dV0pYCxzfHxIP3guZ2V0QnlPZmZzZXQoIm9mZnNldEIgLyA0dSIpOmAke3gudHlwZS52YWx1ZX0oJHt4LmdldEJ5T2Zmc2V0KCJvZmZzZXRCIC8gNHUiKX1bb2Zmc2V0QiAlIDR1XSlgKSl9CiAgICAgICAgICBgfWVsc2UgST1rLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IixnKEUuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKSx4LmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IikpKTtlbHNle2lmKCFpKXRocm93IG5ldyBFcnJvcigibm8gbmVjZXNzYXJ5IHRvIHVzZSBzY2FsYXIgaW1wbGVtZW50YXRpb24gZm9yIGVsZW1lbnQtd2lzZSBiaW5hcnkgb3AgaW1wbGVtZW50YXRpb24uIik7bGV0IFQ9KEIsVSxIPSIiKT0+e2xldCBLPWBhRGF0YVtpbmRleEEke1V9XVtjb21wb25lbnRBJHtVfV1gLE89YGJEYXRhW2luZGV4QiR7VX1dW2NvbXBvbmVudEIke1V9XWA7cmV0dXJuYAogICAgICAgICAgICBsZXQgb3V0cHV0SW5kaWNlcyR7VX0gPSAke2sub2Zmc2V0VG9JbmRpY2VzKGBnbG9iYWxfaWR4ICogNHUgKyAke1V9dWApfTsKICAgICAgICAgICAgbGV0IG9mZnNldEEke1V9ID0gJHtFLmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KGBvdXRwdXRJbmRpY2VzJHtVfWAsayl9OwogICAgICAgICAgICBsZXQgb2Zmc2V0QiR7VX0gPSAke3guYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQoYG91dHB1dEluZGljZXMke1V9YCxrKX07CiAgICAgICAgICAgIGxldCBpbmRleEEke1V9ID0gb2Zmc2V0QSR7VX0gLyA0dTsKICAgICAgICAgICAgbGV0IGluZGV4QiR7VX0gPSBvZmZzZXRCJHtVfSAvIDR1OwogICAgICAgICAgICBsZXQgY29tcG9uZW50QSR7VX0gPSBvZmZzZXRBJHtVfSAlIDR1OwogICAgICAgICAgICBsZXQgY29tcG9uZW50QiR7VX0gPSBvZmZzZXRCJHtVfSAlIDR1OwogICAgICAgICAgICAke0J9WyR7VX1dID0gJHtIfSgke2YoSyxPKX0pOwogICAgICAgICAgYH07Yz09PTk/ST1gCiAgICAgICAgICAgIHZhciBkYXRhID0gdmVjNDx1MzI+KDApOwogICAgICAgICAgICAke1QoImRhdGEiLDAsInUzMiIpfQogICAgICAgICAgICAke1QoImRhdGEiLDEsInUzMiIpfQogICAgICAgICAgICAke1QoImRhdGEiLDIsInUzMiIpfQogICAgICAgICAgICAke1QoImRhdGEiLDMsInUzMiIpfQogICAgICAgICAgICBvdXRwdXREYXRhW2dsb2JhbF9pZHhdID0gZG90KHZlYzQ8dTMyPigweDEsIDB4MTAwLCAweDEwMDAwLCAweDEwMDAwMDApLCB2ZWM0PHUzMj4oZGF0YSkpO2A6ST1gCiAgICAgICAgICAgICR7VCgib3V0cHV0RGF0YVtnbG9iYWxfaWR4XSIsMCl9CiAgICAgICAgICAgICR7VCgib3V0cHV0RGF0YVtnbG9iYWxfaWR4XSIsMSl9CiAgICAgICAgICAgICR7VCgib3V0cHV0RGF0YVtnbG9iYWxfaWR4XSIsMil9CiAgICAgICAgICAgICR7VCgib3V0cHV0RGF0YVtnbG9iYWxfaWR4XSIsMyl9CiAgICAgICAgICBgfXJldHVybmAKICAgICAgICAke3QucmVnaXN0ZXJVbmlmb3JtKCJ2ZWNfc2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMoRSx4LGspfQoKICAgICAgICAke2g/PyIifQoKICAgICAgICAke3QubWFpblN0YXJ0KCl9CiAgICAgICAgJHt0Lmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLnZlY19zaXplIil9CiAgICAgICAgJHtJfQogICAgICB9YH0seWQ9KHQsZSxyLG4sYSxpLHM9ci5kYXRhVHlwZSk9PntsZXQgbz0hZWUuYXJlRXF1YWwoci5kaW1zLG4uZGltcyksbD1yLmRpbXMsZD1lZS5zaXplKHIuZGltcyksYz0hMSx1PSExLGg9W29dO2lmKG8pe2xldCBnPUxyLmNhbGNTaGFwZShyLmRpbXMsbi5kaW1zLCExKTtpZighZyl0aHJvdyBuZXcgRXJyb3IoIkNhbid0IHBlcmZvcm0gYmluYXJ5IG9wIG9uIHRoZSBnaXZlbiB0ZW5zb3JzIik7bD1nLGQ9ZWUuc2l6ZShsKTtsZXQgeT1lZS5zaXplKHIuZGltcyk9PT0xLHc9ZWUuc2l6ZShuLmRpbXMpPT09MSx2PXIuZGltcy5sZW5ndGg+MCYmci5kaW1zW3IuZGltcy5sZW5ndGgtMV0lND09PTAsaz1uLmRpbXMubGVuZ3RoPjAmJm4uZGltc1tuLmRpbXMubGVuZ3RoLTFdJTQ9PT0wO2gucHVzaCh5KSxoLnB1c2godyksaC5wdXNoKHYpLGgucHVzaChrKTtsZXQgRT0xO2ZvcihsZXQgeD0xO3g8bC5sZW5ndGg7eCsrKXtsZXQgST1yLmRpbXNbci5kaW1zLmxlbmd0aC14XT8/MSxUPW4uZGltc1tuLmRpbXMubGVuZ3RoLXhdPz8xO2lmKEk9PT1UKUUqPUk7ZWxzZSBicmVha31FJTQ9PT0wPyh1PSEwLGM9ITApOih5fHx3fHx2fHxrKSYmKGM9ITApfWVsc2UgYz0hMDtoLnB1c2goYyk7bGV0IGY9c3Qoci5kaW1zLmxlbmd0aCkmJnN0KG4uZGltcy5sZW5ndGgpJiZzdChsLmxlbmd0aCk7cmV0dXJue25hbWU6dCxzaGFkZXJDYWNoZTp7aGludDplK2gubWFwKGc9PmcudG9TdHJpbmcoKSkuam9pbigiXyIpLGlucHV0RGVwZW5kZW5jaWVzOmY/WyJyYW5rIiwicmFuayJdOlsiZGltcyIsImRpbXMiXX0sZ2V0U2hhZGVyU291cmNlOmc9Pl9kKGcsci5kaW1zLG4uZGltcyxsLGMsbyx1LGEsci5kYXRhVHlwZSxuLmRhdGFUeXBlLHMsZixpKSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmwsZGF0YVR5cGU6c31dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGQvNjQvNCl9LHByb2dyYW1Vbmlmb3JtczpmP1t7dHlwZToidWludDMyIixkYXRhOk1hdGguY2VpbChlZS5zaXplKGwpLzQpfSwuLi5pZShyLmRpbXMpLC4uLmllKG4uZGltcyksLi4uaWUobCldOlt7dHlwZToidWludDMyIixkYXRhOk1hdGguY2VpbChlZS5zaXplKGwpLzQpfV19KX19LEZ0PSh0LGUscixuLGEsaSk9Pnt0LmNvbXB1dGUoeWQoZSxhPz8iIix0LmlucHV0c1swXSx0LmlucHV0c1sxXSxyLG4saSkpfSx3ZD10PT57RnQodCwiQWRkIiwoZSxyKT0+YCR7ZX0rJHtyfWApfSx2ZD10PT57RnQodCwiRGl2IiwoZSxyKT0+YCR7ZX0vJHtyfWApfSxiZD10PT57RnQodCwiRXF1YWwiLHtzY2FsYXI6KGUscik9PmB1MzIoJHtlfT09JHtyfSlgLHZlY3RvcjooZSxyKT0+YHZlYzQ8dTMyPigke2V9PT0ke3J9KWB9LHZvaWQgMCx2b2lkIDAsOSl9LCRkPXQ9PntGdCh0LCJNdWwiLChlLHIpPT5gJHtlfSoke3J9YCl9LHhkPXQ9PntsZXQgZT1KKCJpbnB1dCIsdC5pbnB1dHNbMF0uZGF0YVR5cGUsdC5pbnB1dHNbMF0uZGltcykudHlwZS52YWx1ZTtGdCh0LCJQb3ciLHtzY2FsYXI6KHIsbik9PmBwb3dfY3VzdG9tKCR7cn0sJHtufSlgLHZlY3RvcjoocixuKT0+YHBvd192ZWN0b3JfY3VzdG9tKCR7cn0sJHtufSlgfSxgCiAgICBmbiBwb3dfY3VzdG9tKGEgOiAke2V9LCBiIDogJHtlfSkgLT4gJHtlfSB7CiAgICAgIGlmIChiID09ICR7ZX0oMC4wKSkgewogICAgICAgIHJldHVybiAke2V9KDEuMCk7CiAgICAgIH0gZWxzZSBpZiAoYSA8ICR7ZX0oMC4wKSAmJiBmMzIoYikgIT0gZmxvb3IoZjMyKGIpKSkgewogICAgICAgIHJldHVybiAke2V9KHBvdyhmMzIoYSksIGYzMihiKSkpOyAvLyBOYU4KICAgICAgfQogICAgICByZXR1cm4gc2VsZWN0KHNpZ24oYSksICR7ZX0oMS4wKSwgcm91bmQoZjMyKGFicyhiKSAlICR7ZX0oMi4wKSkpICE9IDEuMCkgKiAke2V9KCR7ZT09PSJpMzIiPyJyb3VuZCI6IiJ9KHBvdyhmMzIoYWJzKGEpKSwgZjMyKGIpKSkpOwogICAgfQogICAgZm4gcG93X3ZlY3Rvcl9jdXN0b20oYSA6IHZlYzQ8JHtlfT4sIGIgOiB2ZWM0PCR7ZX0+KSAtPiB2ZWM0PCR7ZX0+IHsKICAgICAgLy8gVE9ETzogaW1wbGVtZW50IHZlY3Rvcml6ZWQgcG93CiAgICAgIHJldHVybiB2ZWM0PCR7ZX0+KHBvd19jdXN0b20oYS54LCBiLngpLCBwb3dfY3VzdG9tKGEueSwgYi55KSwgcG93X2N1c3RvbShhLnosIGIueiksIHBvd19jdXN0b20oYS53LCBiLncpKTsKICAgIH0KICAgICAgYCl9LGtkPXQ9PntGdCh0LCJTdWIiLChlLHIpPT5gJHtlfS0ke3J9YCl9LFNkPXQ9PntGdCh0LCJHcmVhdGVyIix7c2NhbGFyOihlLHIpPT5gdTMyKCR7ZX0+JHtyfSlgLHZlY3RvcjooZSxyKT0+YHZlYzQ8dTMyPigke2V9PiR7cn0pYH0sdm9pZCAwLHZvaWQgMCw5KX0sRWQ9dD0+e0Z0KHQsIkxlc3MiLHtzY2FsYXI6KGUscik9PmB1MzIoJHtlfTwke3J9KWAsdmVjdG9yOihlLHIpPT5gdmVjNDx1MzI+KCR7ZX08JHtyfSlgfSx2b2lkIDAsdm9pZCAwLDkpfSxDZD10PT57RnQodCwiR3JlYXRlck9yRXF1YWwiLHtzY2FsYXI6KGUscik9PmB1MzIoJHtlfT49JHtyfSlgLHZlY3RvcjooZSxyKT0+YHZlYzQ8dTMyPigke2V9Pj0ke3J9KWB9LHZvaWQgMCx2b2lkIDAsOSl9LElkPXQ9PntGdCh0LCJMZXNzT3JFcXVhbCIse3NjYWxhcjooZSxyKT0+YHUzMigke2V9PD0ke3J9KWAsdmVjdG9yOihlLHIpPT5gdmVjNDx1MzI+KCR7ZX08PSR7cn0pYH0sdm9pZCAwLHZvaWQgMCw5KX19KSxBZCxUZCxPZCxNZCx6ZCxCZCxjXz1RKCgpPT57SWUoKSxpdCgpLENlKCksQWQ9dD0+e2lmKCF0fHx0Lmxlbmd0aDwxKXRocm93IG5ldyBFcnJvcigidG9vIGZldyBpbnB1dHMiKTtsZXQgZT10WzBdLmRhdGFUeXBlLHI9dFswXS5kaW1zLmxlbmd0aDtmb3IobGV0IG4gb2YgdCl7aWYobi5kYXRhVHlwZSE9PWUpdGhyb3cgbmV3IEVycm9yKCJpbnB1dCB0ZW5zb3JzIHNob3VsZCBiZSBvbmUgdHlwZSIpO2lmKG4uZGltcy5sZW5ndGghPT1yKXRocm93IG5ldyBFcnJvcigiaW5wdXQgdGVuc29ycyBzaG91bGQgaGF2ZSB0aGUgc2FtZSBzaGFwZSIpfX0sVGQ9KHQsZSk9PmAKICBmbiBjYWxjdWxhdGVJbnB1dEluZGV4KGluZGV4OiB1MzIpIC0+IHUzMiB7CiAgICBsZXQgc2l6ZUluQ29uY2F0QXhpcyA9IGFycmF5PHUzMiwgJHt0fXU+KCR7ZX0pOwogICAgZm9yICh2YXIgaTogdTMyID0gMHU7IGkgPCAke3R9OyBpICs9IDF1ICkgewogICAgICBpZiAoaW5kZXggPCBzaXplSW5Db25jYXRBeGlzW2ldKSB7CiAgICAgICAgcmV0dXJuIGk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiAke3R9dTsKICB9YCxPZD0odCxlKT0+e2xldCByPXQubGVuZ3RoLG49W107Zm9yKGxldCBhPTA7YTxyOysrYSl7bGV0IGk9ZS5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsdFthXS5nZXRCeUluZGljZXMoImluZGljZXMiKSk7cj09PTE/bi5wdXNoKGkpOmE9PT0wP24ucHVzaChgaWYgKGlucHV0SW5kZXggPT0gJHthfXUpIHsgJHtpfSB9YCk6YT09PXItMT9uLnB1c2goYGVsc2UgeyAke2l9IH1gKTpuLnB1c2goYGVsc2UgaWYgKGlucHV0SW5kZXggPT0gJHthfSkgeyAke2l9IH1gKX1yZXR1cm4gbi5qb2luKGAKYCl9LE1kPSh0LGUpPT57bGV0IHI9dFswXS5kaW1zLnNsaWNlKCk7aWYoZT49ci5sZW5ndGh8fGU8LTEqci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJheGlzIHNwZWNpZmllZCBmb3IgY29uY2F0IGRvZXNuJ3QgbWF0Y2ggaW5wdXQgZGltZW5zaW9uYWxpdHkiKTtsZXQgbj1lPDA/ci5sZW5ndGgrZTplLGE9ci5zbGljZSgwKTtmb3IobGV0IHg9MTt4PHQubGVuZ3RoO3grKyl7bGV0IEk9dFt4XS5kaW1zLnNsaWNlKCk7Zm9yKGxldCBUPTA7VDxyLmxlbmd0aDtUKyspaWYoVD09PW4pYVtuXSs9SVtUXTtlbHNlIGlmKHJbVF0hPT1JW1RdKXRocm93IG5ldyBFcnJvcigibm9uIGNvbmNhdCBkaW1lbnNpb25zIG11c3QgbWF0Y2giKX1sZXQgaT1lZS5zaXplKGEpLHM9bmV3IEFycmF5KHQubGVuZ3RoKSxvPW5ldyBBcnJheSh0Lmxlbmd0aCksbD10WzBdLmRhdGFUeXBlLGQ9MCxjPVtdLHU9W10saD1bXSxmPVt7dHlwZToidWludDMyIixkYXRhOml9XTtmb3IobGV0IHg9MDt4PHQubGVuZ3RoOysreClkKz10W3hdLmRpbXNbbl0sc1t4XT1kLGgucHVzaChzdCh0W3hdLmRpbXMubGVuZ3RoKSksdS5wdXNoKGhbeF0/dFt4XS5kaW1zLmxlbmd0aDp0W3hdLmRpbXMpLG9beF09SihgaW5wdXQke3h9YCxsLHVbeF0pLGMucHVzaChoW3hdPyJyYW5rIjoiZGltcyIpLGYucHVzaCh7dHlwZToidWludDMyIixkYXRhOnNbeF19KTtmb3IobGV0IHg9MDt4PHQubGVuZ3RoOysreCloW3hdJiZmLnB1c2goLi4uaWUodFt4XS5kaW1zKSk7bGV0IGc9c3QoYS5sZW5ndGgpO2cmJmYucHVzaCguLi5pZShhKSk7bGV0IHk9Zz9hLmxlbmd0aDphLHc9dmUoIm91dHB1dCIsbCx5KSx2PXcuaW5kaWNlc0dldCgiaW5kaWNlcyIsbiksaz1BcnJheS5mcm9tKEFycmF5KHMubGVuZ3RoKS5rZXlzKCkpLm1hcCh4PT5gdW5pZm9ybXMuc2l6ZUluQ29uY2F0QXhpcyR7eH1gKS5qb2luKCIsIiksRT14PT5gCgogICR7KCgpPT57eC5yZWdpc3RlclVuaWZvcm0oIm91dHB1dFNpemUiLCJ1MzIiKTtmb3IobGV0IEk9MDtJPHQubGVuZ3RoO0krKyl4LnJlZ2lzdGVyVW5pZm9ybShgc2l6ZUluQ29uY2F0QXhpcyR7SX1gLCJ1MzIiKTtyZXR1cm4geC5kZWNsYXJlVmFyaWFibGVzKC4uLm8sdyl9KSgpfQoKICAke1RkKHMubGVuZ3RoLGspfQoKICAke3gubWFpblN0YXJ0KCl9CiAgICAke3guZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0U2l6ZSIpfQoKICAgIHZhciBpbmRpY2VzID0gJHt3Lm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTsKCiAgICBsZXQgaW5wdXRJbmRleCA9IGNhbGN1bGF0ZUlucHV0SW5kZXgoJHt2fSk7CiAgICBpZiAoaW5wdXRJbmRleCAhPSAwdSkgewogICAgICBsZXQgc2l6ZUluQ29uY2F0QXhpcyA9IGFycmF5PHUzMiwgJHtzLmxlbmd0aH11Pigke2t9KTsKICAgICAgJHt2fSAtPSBzaXplSW5Db25jYXRBeGlzW2lucHV0SW5kZXggLSAxdV07CiAgICB9CgogICAgJHtPZChvLHcpfQogIH1gO3JldHVybntuYW1lOiJDb25jYXQiLHNoYWRlckNhY2hlOntoaW50OmAke2V9YCxpbnB1dERlcGVuZGVuY2llczpjfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmEsZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGkvNjQpfSxwcm9ncmFtVW5pZm9ybXM6Zn0pLGdldFNoYWRlclNvdXJjZTpFfX0semQ9KHQsZSk9PntBZCh0LmlucHV0cyksdC5jb21wdXRlKE1kKHQuaW5wdXRzLGUuYXhpcykpfSxCZD10PT5xZSh7YXhpczp0LmF4aXN9KX0pLEZyLGFzLGJyPVEoKCk9PntJZSgpLEZyPSh0LGUpPT57c3dpdGNoKHQuYWN0aXZhdGlvbil7Y2FzZSJSZWx1IjpyZXR1cm57YWN0aXZhdGlvbkZ1bmN0aW9uOiIiLGFwcGx5QWN0aXZhdGlvbjpgdmFsdWUgPSBtYXgodmFsdWUsICR7ZX0oMC4wKSk7YH07Y2FzZSJTaWdtb2lkIjpyZXR1cm57YWN0aXZhdGlvbkZ1bmN0aW9uOiIiLGFwcGx5QWN0aXZhdGlvbjpgdmFsdWUgPSAoJHtlfSgxLjApIC8gKCR7ZX0oMS4wKSArIGV4cCgtdmFsdWUpKSk7YH07Y2FzZSJDbGlwIjpyZXR1cm57YWN0aXZhdGlvbkZ1bmN0aW9uOmBjb25zdCBjbGlwX21pbl89JHtlfSgke3QuY2xpcE1pbn0pO2NvbnN0IGNsaXBfbWF4Xz0ke2V9KCR7dC5jbGlwTWF4fSk7YCxhcHBseUFjdGl2YXRpb246InZhbHVlID0gY2xhbXAodmFsdWUsIGNsaXBfbWluXywgY2xpcF9tYXhfKTsifTtkZWZhdWx0OnJldHVybnthY3RpdmF0aW9uRnVuY3Rpb246IiIsYXBwbHlBY3RpdmF0aW9uOiIifX19LGFzPXQ9PntsZXQgZT10Py5hY3RpdmF0aW9ufHwiIjtpZihlPT09IkNsaXAiKXtsZXRbcixuXT10Py5hY3RpdmF0aW9uX3BhcmFtc3x8W1hpLFFpXTtyZXR1cm57YWN0aXZhdGlvbjplLGNsaXBNYXg6bixjbGlwTWluOnIsYWN0aXZhdGlvbkNhY2hlS2V5OmAke2V9OiR7cn0sJHtufWB9fXJldHVybnthY3RpdmF0aW9uOmUsYWN0aXZhdGlvbkNhY2hlS2V5OmV9fX0pLGd0LGlzLHNzPVEoKCk9PntndD0odCxlKT0+e3N3aXRjaCh0KXtjYXNlIDE6cmV0dXJuIGU7Y2FzZSAyOnJldHVybmB2ZWMyPCR7ZX0+YDtjYXNlIDM6cmV0dXJuYHZlYzM8JHtlfT5gO2Nhc2UgNDpyZXR1cm5gdmVjNDwke2V9PmA7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYCR7dH0tY29tcG9uZW50IGlzIG5vdCBzdXBwb3J0ZWQuYCl9fSxpcz10PT5gCiAgICAgICR7dD8idmFsdWUgPSB2YWx1ZSArIGdldEJpYXNCeU91dHB1dENvb3Jkcyhjb29yZHMpOyI6IiJ9CiAgICAgIGB9KSxvcyxSZD1RKCgpPT57b3M9dD0+YApmbiBnZXRJbmRleEZyb21Db29yZHM0RChjb29yZHMgOiB2ZWM0PGkzMj4sIHNoYXBlIDogdmVjNDxpMzI+KSAtPiBpMzIgewogIHJldHVybiBkb3QoY29vcmRzLCB2ZWM0PGkzMj4oCiAgICAgIHNoYXBlLnkgKiBzaGFwZS56ICogc2hhcGUudywgc2hhcGUueiAqIHNoYXBlLncsIHNoYXBlLncsIDEpKTsKfQpmbiBnZXRPdXRwdXRJbmRleEZyb21Db29yZHMoY29vcmRzIDogdmVjNDxpMzI+KSAtPiBpMzIgewogIHJldHVybiBkb3QoY29vcmRzLCB2ZWM0PGkzMj4oCiAgICBpMzIoJHt0fS54KSwgaTMyKCR7dH0ueSksIGkzMigke3R9LnopLCAxKSk7Cn0KYH0pLERkLFBkLElhLGxzLE5kLEFhLFVkLHVzLFRhPVEoKCk9PntJZSgpLENlKCksYnIoKSxzcygpLERkPSh0LGUpPT50P2AKICAgICAgICBtbV9Bc3ViW2lucHV0Um93XVtpbnB1dENvbF0gPSBtbV9yZWFkQShiYXRjaCwKICAgICAgICAgIGtTdGFydCArIGlucHV0Um93LAogICAgICAgICAgZ2xvYmFsUm93U3RhcnQgLyBpbm5lckVsZW1lbnRTaXplICsgaW5wdXRDb2wke2U/IiwgYmF0Y2hJbmRpY2VzIjoiIn0pOwogICAgICAgIGA6YAogICAgICAgIG1tX0FzdWJbaW5wdXRSb3ddW2lucHV0Q29sXSA9IG1tX3JlYWRBKGJhdGNoLAogICAgICAgICAgZ2xvYmFsUm93ICsgaW5uZXJSb3csCiAgICAgICAgICBrU3RhcnQgLyBpbm5lckVsZW1lbnRTaXplICsgaW5wdXRDb2wke2U/IiwgYmF0Y2hJbmRpY2VzIjoiIn0pOwogICAgICAgIGAsUGQ9KHQsZSk9PnQ/YAogICAgICAgIGxldCBBQ2FjaGVkMCA9IG1tX0FzdWJbayAqIGlubmVyRWxlbWVudFNpemVdW2xvY2FsUm93XTsKICAgICAgICBsZXQgQUNhY2hlZDEgPSBtbV9Bc3ViW2sgKiBpbm5lckVsZW1lbnRTaXplICsgMV1bbG9jYWxSb3ddOwogICAgICAgIGxldCBBQ2FjaGVkMiA9IG1tX0FzdWJbayAqIGlubmVyRWxlbWVudFNpemUgKyAyXVtsb2NhbFJvd107CiAgICAgICAgJHtlPT09Mz8iIjoibGV0IEFDYWNoZWQzID0gbW1fQXN1YltrICogaW5uZXJFbGVtZW50U2l6ZSArIDNdW2xvY2FsUm93XTsifQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93UGVyVGhyZWFkOyBpID0gaSArIDEpIHsKICAgICAgICAgIGFjY1tpXSA9IEJDYWNoZWQwICogQUNhY2hlZDBbaV0gKyBhY2NbaV07CiAgICAgICAgICBhY2NbaV0gPSBCQ2FjaGVkMSAqIEFDYWNoZWQxW2ldICsgYWNjW2ldOwogICAgICAgICAgYWNjW2ldID0gQkNhY2hlZDIgKiBBQ2FjaGVkMltpXSArIGFjY1tpXTsKICAgICAgICAgICR7ZT09PTM/IiI6ImFjY1tpXSA9IEJDYWNoZWQzICogQUNhY2hlZDNbaV0gKyBhY2NbaV07In0KICAgICAgICB9YDpgCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dQZXJUaHJlYWQ7IGkgPSBpICsgMSkgewogICAgICAgICAgbGV0IEFDYWNoZWQgPSBtbV9Bc3ViW3RpbGVSb3cgKyBpXVtrXTsKICAgICAgICAgIGFjY1tpXSA9IEJDYWNoZWQwICogQUNhY2hlZC54ICsgYWNjW2ldOwogICAgICAgICAgYWNjW2ldID0gQkNhY2hlZDEgKiBBQ2FjaGVkLnkgKyBhY2NbaV07CiAgICAgICAgICBhY2NbaV0gPSBCQ2FjaGVkMiAqIEFDYWNoZWQueiArIGFjY1tpXTsKICAgICAgICAgICR7ZT09PTM/IiI6ImFjY1tpXSA9IEJDYWNoZWQzICogQUNhY2hlZC53ICsgYWNjW2ldOyJ9CiAgICAgICAgfWAsSWE9KHQsZSxyPSJmMzIiLG4sYT0hMSxpPTMyLHM9ITEsbz0zMik9PntsZXQgbD1lWzFdKnRbMV0sZD1lWzBdKnRbMF0sYz1hP2w6aSx1PWE/aTpsLGg9Yy9lWzBdLGY9aS9lWzFdO2lmKCEoKGEmJmg9PT00JiZ0WzFdPT09NHx8IWEmJihoPT09M3x8aD09PTQpKSYmYyVlWzBdPT09MCYmaSVlWzFdPT09MCYmdFswXT09PTQpKXRocm93IG5ldyBFcnJvcihgSWYgdHJhbnNwb3NlQSAke2F9IGlzIHRydWUsIGlubmVyRWxlbWVudFNpemUgJHtofSBhbmQgd29ya1BlclRocmVhZFsxXSAke3RbMV19IG11c3QgYmUgNC4KICAgICAgT3RoZXJ3aXNlLCBpbm5lckVsZW1lbnRTaXplICR7aH0gbXVzdCBiZSAzIG9yIDQuCiAgdGlsZUFXaWR0aCAke2N9IG11c3QgYmUgZGl2aXNpYmxlIGJ5IHdvcmtncm91cFNpemVbMF0ke2VbMF19LiB0aWxlSW5uZXIgJHtpfSBtdXN0IGJlIGRpdmlzaWJsZSBieSB3b3JrZ3JvdXBTaXplWzFdICR7ZVsxXX0uIGNvbFBlclRocmVhZCAke3RbMF19IG11c3QgYmUgNC5gKTtyZXR1cm5gCnZhcjx3b3JrZ3JvdXA+IG1tX0FzdWI6IGFycmF5PGFycmF5PHZlYyR7aH08JHtyfT4sICR7Yy9ofT4sICR7dX0+Owp2YXI8d29ya2dyb3VwPiBtbV9Cc3ViOiBhcnJheTxhcnJheTx2ZWM0PCR7cn0+LCAke2QvdFswXX0+LCAke2l9PjsKCmNvbnN0IHJvd1BlclRocmVhZCA9ICR7dFsxXX07CmNvbnN0IGNvbFBlclRocmVhZCA9ICR7dFswXX07CmNvbnN0IGlubmVyRWxlbWVudFNpemUgPSAke2h9Owpjb25zdCB0aWxlSW5uZXIgPSAke2l9OwoKQGNvbXB1dGUgQHdvcmtncm91cF9zaXplKCR7ZVswXX0sICR7ZVsxXX0sICR7ZVsyXX0pCmZuIG1haW4oQGJ1aWx0aW4obG9jYWxfaW52b2NhdGlvbl9pZCkgbG9jYWxJZCA6IHZlYzM8dTMyPiwKICAgICAgICBAYnVpbHRpbihnbG9iYWxfaW52b2NhdGlvbl9pZCkgZ2xvYmFsSWQgOiB2ZWMzPHUzMj4sCiAgICAgICAgQGJ1aWx0aW4od29ya2dyb3VwX2lkKSB3b3JrZ3JvdXBJZCA6IHZlYzM8dTMyPikgewogIGxldCBsb2NhbFJvdyA9IGkzMihsb2NhbElkLnkpOwogIGxldCB0aWxlUm93ID0gbG9jYWxSb3cgKiByb3dQZXJUaHJlYWQ7CiAgbGV0IHRpbGVDb2wgPSBpMzIobG9jYWxJZC54KTsKCiAgbGV0IGdsb2JhbFJvdyA9aTMyKGdsb2JhbElkLnkpICogcm93UGVyVGhyZWFkOwogIGxldCBnbG9iYWxDb2wgPSBpMzIoZ2xvYmFsSWQueCk7CiAgbGV0IGJhdGNoID0gJHtzPyIwIjoiaTMyKGdsb2JhbElkLnopIn07CiAgJHtuP2BsZXQgYmF0Y2hJbmRpY2VzID0gJHtuLm9mZnNldFRvSW5kaWNlcygidTMyKGJhdGNoKSIpfTtgOiIifQogIGxldCBnbG9iYWxSb3dTdGFydCA9IGkzMih3b3JrZ3JvdXBJZC55KSAqICR7bH07CgogIGxldCBudW1UaWxlcyA9ICR7cz9gJHtNYXRoLmNlaWwoby9pKX1gOiIodW5pZm9ybXMuZGltSW5uZXIgLSAxKSAvIHRpbGVJbm5lciArIDEifTsKICB2YXIga1N0YXJ0ID0gJHtzP2BpMzIoZ2xvYmFsSWQueikgKiAke299YDoiMCJ9OwoKICB2YXIgYWNjOiBhcnJheTx2ZWM0PCR7cn0+LCByb3dQZXJUaHJlYWQ+OwoKICAvLyBMb29wIG92ZXIgc2hhcmVkIGRpbWVuc2lvbi4KICBsZXQgdGlsZVJvd0IgPSBsb2NhbFJvdyAqICR7Zn07CiAgZm9yICh2YXIgdCA9IDA7IHQgPCBudW1UaWxlczsgdCA9IHQgKyAxKSB7CiAgICAgIC8vIExvYWQgb25lIHRpbGUgb2YgQSBpbnRvIGxvY2FsIG1lbW9yeS4KICAgICAgZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8IHJvd1BlclRocmVhZDsgaW5uZXJSb3cgPSBpbm5lclJvdyArIDEpIHsKICAgICAgICAgIGxldCBpbnB1dFJvdyA9IHRpbGVSb3cgKyBpbm5lclJvdzsKICAgICAgICAgIGxldCBpbnB1dENvbCA9IHRpbGVDb2w7CiAgICAgICAgICAke0RkKGEsbil9CiAgICAgIH0KCiAgICAgIC8vIExvYWQgb25lIHRpbGUgb2YgQiBpbnRvIGxvY2FsIG1lbW9yeS4KICAgICAgZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8ICR7Zn07IGlubmVyUm93ID0gaW5uZXJSb3cgKyAxKSB7CiAgICAgICAgICBsZXQgaW5wdXRSb3cgPSB0aWxlUm93QiArIGlubmVyUm93OwogICAgICAgICAgbGV0IGlucHV0Q29sID0gdGlsZUNvbDsKICAgICAgICAgIG1tX0JzdWJbaW5wdXRSb3ddW2lucHV0Q29sXSA9IG1tX3JlYWRCKGJhdGNoLCBrU3RhcnQgKyBpbnB1dFJvdywgZ2xvYmFsQ29sJHtuPyIsIGJhdGNoSW5kaWNlcyI6IiJ9KTsKICAgICAgfQogICAgICBrU3RhcnQgPSBrU3RhcnQgKyB0aWxlSW5uZXI7CiAgICAgIHdvcmtncm91cEJhcnJpZXIoKTsKCiAgICAgIC8vIENvbXB1dGUgYWNjIHZhbHVlcyBmb3IgYSBzaW5nbGUgdGhyZWFkLgogICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRpbGVJbm5lciAvIGlubmVyRWxlbWVudFNpemU7IGsgPSBrICsgMSkgewogICAgICAgICAgbGV0IEJDYWNoZWQwID0gbW1fQnN1YltrICogaW5uZXJFbGVtZW50U2l6ZV1bdGlsZUNvbF07CiAgICAgICAgICBsZXQgQkNhY2hlZDEgPSBtbV9Cc3ViW2sgKiBpbm5lckVsZW1lbnRTaXplICsgMV1bdGlsZUNvbF07CiAgICAgICAgICBsZXQgQkNhY2hlZDIgPSBtbV9Cc3ViW2sgKiBpbm5lckVsZW1lbnRTaXplICsgMl1bdGlsZUNvbF07CiAgICAgICAgICAke2g9PT0zPyIiOiJsZXQgQkNhY2hlZDMgPSBtbV9Cc3ViW2sgKiBpbm5lckVsZW1lbnRTaXplICsgM11bdGlsZUNvbF07In0KCiAgICAgICAgICAke1BkKGEsaCl9CiAgICAgIH0KCiAgICAgIHdvcmtncm91cEJhcnJpZXIoKTsKICB9CgogIGZvciAodmFyIGlubmVyUm93ID0gMDsgaW5uZXJSb3cgPCByb3dQZXJUaHJlYWQ7IGlubmVyUm93ID0gaW5uZXJSb3cgKyAxKSB7CiAgICAgIG1tX3dyaXRlKGJhdGNoLCBnbG9iYWxSb3cgKyBpbm5lclJvdywgZ2xvYmFsQ29sLCBhY2NbaW5uZXJSb3ddKTsKICB9Cn1gfSxscz0odCxlKT0+dD9gCiAgICAgICAgICAgIG1tX0FzdWJbaW5wdXRSb3ddW2lucHV0Q29sXSA9IG1tX3JlYWRBKGJhdGNoLAogICAgICAgICAgICAgIGtTdGFydCArIGlucHV0Um93LAogICAgICAgICAgICAgIGdsb2JhbFJvd1N0YXJ0ICsgaW5wdXRDb2wke2U/IiwgYmF0Y2hJbmRpY2VzIjoiIn0pOwogICAgICAgICAgICBgOmAKICAgICAgICAgICAgbW1fQXN1YltpbnB1dFJvd11baW5wdXRDb2xdID0gbW1fcmVhZEEoYmF0Y2gsCiAgICAgICAgICAgICAgZ2xvYmFsUm93U3RhcnQgKyBpbnB1dFJvdywKICAgICAgICAgICAgICBrU3RhcnQgKyBpbnB1dENvbCR7ZT8iLCBiYXRjaEluZGljZXMiOiIifSk7CiAgICAgICAgICAgIGAsTmQ9dD0+dD8ibGV0IEFDYWNoZWQgPSBtbV9Bc3ViW2tdW3RpbGVSb3cgKyBpbm5lclJvd107IjoibGV0IEFDYWNoZWQgPSBtbV9Bc3ViW3RpbGVSb3cgKyBpbm5lclJvd11ba107IixBYT0odCxlLHI9ImYzMiIsbixhPSExLGk9MzIscz0hMSxvPTMyLGw9ITEpPT57bGV0IGQ9dFsxXSplWzFdLGM9dFswXSplWzBdLHU9YT9kOmksaD1hP2k6ZDtpZighKGglZVsxXT09PTAmJnUlZVswXT09PTAmJmklZVsxXT09PTApKXRocm93IG5ldyBFcnJvcihgdGlsZUFIaWdodCAke2h9IG11c3QgYmUgZGl2aXNpYmxlIGJ5IHdvcmtncm91cFNpemVbMV0ke2VbMV19LCB0aWxlQVdpZHRoICR7dX0gbXVzdCBiZSBkaXZpc2libGUgYnkgd29ya2dyb3VwU2l6ZVswXSR7ZVswXX0sIHRpbGVJbm5lciAke2l9IG11c3QgYmUgZGl2aXNpYmxlIGJ5IHdvcmtncm91cFNpemVbMV0ke2VbMV19YCk7bGV0IGY9aC9lWzFdLGc9dS9lWzBdLHk9aS9lWzFdLHc9bD9gCiAgICBsZXQgbG9jYWxSb3cgPSBpMzIobG9jYWxJZC55KTsKICAgIGxldCBsb2NhbENvbCA9IGkzMihsb2NhbElkLngpOwogICAgbGV0IGdsb2JhbFJvd1N0YXJ0ID0gaTMyKHdvcmtncm91cElkLnkpICogJHtkfTsKICAgIGxldCBnbG9iYWxDb2xTdGFydCA9IGkzMih3b3JrZ3JvdXBJZC54KSAqICR7Y307CgogICAgLy8gTG9vcCBvdmVyIHNoYXJlZCBkaW1lbnNpb24uCiAgICBmb3IgKHZhciB0ID0gMDsgdCA8IG51bVRpbGVzOyB0ID0gdCArIDEpIHsKICAgICAgLy8gTG9hZCBvbmUgdGlsZSBvZiBBIGludG8gbG9jYWwgbWVtb3J5LgogICAgICBmb3IgKHZhciBpbnB1dFJvdyA9IGxvY2FsUm93OyBpbnB1dFJvdyA8ICR7aH07IGlucHV0Um93ID0gaW5wdXRSb3cgKyAke2VbMV19KSB7CiAgICAgICAgZm9yICh2YXIgaW5wdXRDb2wgPSBsb2NhbENvbDsgaW5wdXRDb2wgPCAke3V9OyBpbnB1dENvbCA9IGlucHV0Q29sICsgJHtlWzBdfSkgewogICAgICAgICAgJHtscyhhLG4pfQogICAgICAgIH0KICAgICAgfQogICAgICAvLyBMb2FkIG9uZSB0aWxlIG9mIEIgaW50byBsb2NhbCBtZW1vcnkuCiAgICAgIGZvciAodmFyIGlucHV0Um93ID0gbG9jYWxSb3c7IGlucHV0Um93IDwgJHtpfTsgaW5wdXRSb3cgPSBpbnB1dFJvdyArICR7ZVsxXX0pIHsKICAgICAgICAgICAgZm9yICh2YXIgaW5wdXRDb2wgPSBsb2NhbENvbDsgaW5wdXRDb2wgPCAke2N9OyBpbnB1dENvbCA9IGlucHV0Q29sICsgJHtlWzBdfSkgewogICAgICAgICAgbW1fQnN1YltpbnB1dFJvd11baW5wdXRDb2xdID0gbW1fcmVhZEIoYmF0Y2gsCiAgICAgICAgICAgIGtTdGFydCArIGlucHV0Um93LAogICAgICAgICAgICBnbG9iYWxDb2xTdGFydCArIGlucHV0Q29sJHtuPyIsIGJhdGNoSW5kaWNlcyI6IiJ9KTsKICAgICAgICB9CiAgICAgIH0KICAgICAga1N0YXJ0ID0ga1N0YXJ0ICsgdGlsZUlubmVyOwogICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CgogICAgICAvLyBDb21wdXRlIGFjYyB2YWx1ZXMgZm9yIGEgc2luZ2xlIHRocmVhZC4KICAgICAgdmFyIEJDYWNoZWQgOiBhcnJheTwke3J9LCBjb2xQZXJUaHJlYWQ+OwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRpbGVJbm5lcjsgayA9IGsgKyAxKSB7CiAgICAgICAgZm9yICh2YXIgaW5uZXIgPSAwOyBpbm5lciA8IGNvbFBlclRocmVhZDsgaW5uZXIgPSBpbm5lciArIDEpIHsKICAgICAgICAgIEJDYWNoZWRbaW5uZXJdID0gbW1fQnN1YltrXVtsb2NhbENvbCArIGlubmVyICogJHtlWzBdfV07CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGlubmVyUm93ID0gMDsgaW5uZXJSb3cgPCByb3dQZXJUaHJlYWQ7IGlubmVyUm93ID0gaW5uZXJSb3cgKyAxKSB7CiAgICAgICAgICBsZXQgQUNhY2hlZCA9ICR7YT9gbW1fQXN1YltrXVtsb2NhbFJvdyArIGlubmVyUm93ICogJHtlWzFdfV07YDpgbW1fQXN1Yltsb2NhbFJvdyArIGlubmVyUm93ICogJHtlWzFdfV1ba107YH0KICAgICAgICAgIGZvciAodmFyIGlubmVyQ29sID0gMDsgaW5uZXJDb2wgPCBjb2xQZXJUaHJlYWQ7IGlubmVyQ29sID0gaW5uZXJDb2wgKyAxKSB7CiAgICAgICAgICAgIGFjY1tpbm5lclJvd11baW5uZXJDb2xdID0gYWNjW2lubmVyUm93XVtpbm5lckNvbF0gKwogICAgICAgICAgICAgICAgQUNhY2hlZCAqIEJDYWNoZWRbaW5uZXJDb2xdOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CiAgICB9CiAgICBmb3IgKHZhciBpbm5lclJvdyA9IDA7IGlubmVyUm93IDwgcm93UGVyVGhyZWFkOyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkgewogICAgICBsZXQgZ1JvdyA9IGdsb2JhbFJvd1N0YXJ0ICsgbG9jYWxSb3cgKyBpbm5lclJvdyAqICR7ZVsxXX07CiAgICAgIGZvciAodmFyIGlubmVyQ29sID0gMDsgaW5uZXJDb2wgPCBjb2xQZXJUaHJlYWQ7IGlubmVyQ29sID0gaW5uZXJDb2wgKyAxKSB7CiAgICAgICAgbGV0IGdDb2wgPSBnbG9iYWxDb2xTdGFydCArIGxvY2FsQ29sICsgaW5uZXJDb2wgKiAke2VbMF19OwogICAgICAgIG1tX3dyaXRlKGJhdGNoLCBnUm93LCBnQ29sLCBhY2NbaW5uZXJSb3ddW2lubmVyQ29sXSk7CiAgICAgIH0KICAgIH0KICAgIGA6YApsZXQgdGlsZVJvdyA9IGkzMihsb2NhbElkLnkpICogcm93UGVyVGhyZWFkOwpsZXQgdGlsZUNvbCA9IGkzMihsb2NhbElkLngpICogY29sUGVyVGhyZWFkOwoKbGV0IGdsb2JhbFJvdyA9IGkzMihnbG9iYWxJZC55KSAqIHJvd1BlclRocmVhZDsKbGV0IGdsb2JhbENvbCA9IGkzMihnbG9iYWxJZC54KSAqIGNvbFBlclRocmVhZDsKbGV0IGdsb2JhbFJvd1N0YXJ0ID0gaTMyKHdvcmtncm91cElkLnkpICogJHtkfTsKCmxldCB0aWxlUm93QSA9IGkzMihsb2NhbElkLnkpICogJHtmfTsKbGV0IHRpbGVDb2xBID0gaTMyKGxvY2FsSWQueCkgKiAke2d9OwpsZXQgdGlsZVJvd0IgPSBpMzIobG9jYWxJZC55KSAqICR7eX07Ci8vIExvb3Agb3ZlciBzaGFyZWQgZGltZW5zaW9uLgpmb3IgKHZhciB0ID0gMDsgdCA8IG51bVRpbGVzOyB0ID0gdCArIDEpIHsKICAvLyBMb2FkIG9uZSB0aWxlIG9mIEEgaW50byBsb2NhbCBtZW1vcnkuCiAgZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8ICR7Zn07IGlubmVyUm93ID0gaW5uZXJSb3cgKyAxKSB7CiAgICBmb3IgKHZhciBpbm5lckNvbCA9IDA7IGlubmVyQ29sIDwgJHtnfTsgaW5uZXJDb2wgPSBpbm5lckNvbCArIDEpIHsKICAgICAgbGV0IGlucHV0Um93ID0gdGlsZVJvd0EgKyBpbm5lclJvdzsKICAgICAgbGV0IGlucHV0Q29sID0gdGlsZUNvbEEgKyBpbm5lckNvbDsKICAgICAgJHtscyhhLG4pfQogICAgfQogIH0KCiAgLy8gTG9hZCBvbmUgdGlsZSBvZiBCIGludG8gbG9jYWwgbWVtb3J5LgogIGZvciAodmFyIGlubmVyUm93ID0gMDsgaW5uZXJSb3cgPCAke3l9OyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkgewogICAgZm9yICh2YXIgaW5uZXJDb2wgPSAwOyBpbm5lckNvbCA8IGNvbFBlclRocmVhZDsgaW5uZXJDb2wgPSBpbm5lckNvbCArIDEpIHsKICAgICAgbGV0IGlucHV0Um93ID0gdGlsZVJvd0IgKyBpbm5lclJvdzsKICAgICAgbGV0IGlucHV0Q29sID0gdGlsZUNvbCArIGlubmVyQ29sOwogICAgICBtbV9Cc3ViW2lucHV0Um93XVtpbnB1dENvbF0gPSBtbV9yZWFkQihiYXRjaCwKICAgICAgICBrU3RhcnQgKyBpbnB1dFJvdywKICAgICAgICBnbG9iYWxDb2wgKyBpbm5lckNvbCR7bj8iLCBiYXRjaEluZGljZXMiOiIifSk7CiAgICB9CiAgfQogIGtTdGFydCA9IGtTdGFydCArIHRpbGVJbm5lcjsKICB3b3JrZ3JvdXBCYXJyaWVyKCk7CgogIC8vIENvbXB1dGUgYWNjIHZhbHVlcyBmb3IgYSBzaW5nbGUgdGhyZWFkLgogIHZhciBCQ2FjaGVkIDogYXJyYXk8JHtyfSwgY29sUGVyVGhyZWFkPjsKICBmb3IgKHZhciBrID0gMDsgayA8IHRpbGVJbm5lcjsgayA9IGsgKyAxKSB7CiAgICBmb3IgKHZhciBpbm5lciA9IDA7IGlubmVyIDwgY29sUGVyVGhyZWFkOyBpbm5lciA9IGlubmVyICsgMSkgewogICAgICBCQ2FjaGVkW2lubmVyXSA9IG1tX0JzdWJba11bdGlsZUNvbCArIGlubmVyXTsKICAgIH0KCiAgICBmb3IgKHZhciBpbm5lclJvdyA9IDA7IGlubmVyUm93IDwgcm93UGVyVGhyZWFkOyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkgewogICAgICAke05kKGEpfQogICAgICBmb3IgKHZhciBpbm5lckNvbCA9IDA7IGlubmVyQ29sIDwgY29sUGVyVGhyZWFkOyBpbm5lckNvbCA9IGlubmVyQ29sICsgMSkgewogICAgICAgIGFjY1tpbm5lclJvd11baW5uZXJDb2xdID0gYWNjW2lubmVyUm93XVtpbm5lckNvbF0gKyBBQ2FjaGVkICogQkNhY2hlZFtpbm5lckNvbF07CiAgICAgIH0KICAgIH0KICB9CgogIHdvcmtncm91cEJhcnJpZXIoKTsKfQoKZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8IHJvd1BlclRocmVhZDsgaW5uZXJSb3cgPSBpbm5lclJvdyArIDEpIHsKICBmb3IgKHZhciBpbm5lckNvbCA9IDA7IGlubmVyQ29sIDwgY29sUGVyVGhyZWFkOyBpbm5lckNvbCA9IGlubmVyQ29sICsgMSkgewogICAgbW1fd3JpdGUoYmF0Y2gsIGdsb2JhbFJvdyArIGlubmVyUm93LCBnbG9iYWxDb2wgKyBpbm5lckNvbCwKICAgICAgICBhY2NbaW5uZXJSb3ddW2lubmVyQ29sXSk7CiAgfQp9CmA7cmV0dXJuYAogIHZhcjx3b3JrZ3JvdXA+IG1tX0FzdWIgOiBhcnJheTxhcnJheTwke3J9LCAke3V9PiwgJHtofT47CiAgdmFyPHdvcmtncm91cD4gbW1fQnN1YiA6IGFycmF5PGFycmF5PCR7cn0sICR7Y30+LCAke2l9PjsKICBjb25zdCByb3dQZXJUaHJlYWQgPSAke3RbMV19OwogIGNvbnN0IGNvbFBlclRocmVhZCA9ICR7dFswXX07CiAgY29uc3QgdGlsZUlubmVyID0gJHtpfTsKCkBjb21wdXRlIEB3b3JrZ3JvdXBfc2l6ZSgke2VbMF19LCAke2VbMV19LCAke2VbMl19KQpmbiBtYWluKEBidWlsdGluKGxvY2FsX2ludm9jYXRpb25faWQpIGxvY2FsSWQgOiB2ZWMzPHUzMj4sCiAgICAgICAgQGJ1aWx0aW4oZ2xvYmFsX2ludm9jYXRpb25faWQpIGdsb2JhbElkIDogdmVjMzx1MzI+LAogICAgICAgIEBidWlsdGluKHdvcmtncm91cF9pZCkgd29ya2dyb3VwSWQgOiB2ZWMzPHUzMj4pIHsKICAgIGxldCBiYXRjaCA9ICR7cz8iMCI6ImkzMihnbG9iYWxJZC56KSJ9OwogICAgJHtuP2BsZXQgYmF0Y2hJbmRpY2VzID0gJHtuLm9mZnNldFRvSW5kaWNlcygidTMyKGJhdGNoKSIpfTtgOiIifQogICAgbGV0IG51bVRpbGVzID0gJHtzP2Ake01hdGguY2VpbChvL2kpfWA6Iih1bmlmb3Jtcy5kaW1Jbm5lciAtIDEpIC8gdGlsZUlubmVyICsgMSJ9OwogICAgdmFyIGtTdGFydCA9ICR7cz9gaTMyKGdsb2JhbElkLnopICogJHtvfWA6IjAifTsKCiAgICB2YXIgYWNjIDogYXJyYXk8YXJyYXk8JHtyfSwgY29sUGVyVGhyZWFkPiwgcm93UGVyVGhyZWFkPjsKCiAgICAvLyBXaXRob3V0IHRoaXMgaW5pdGlhbGl6YXRpb24gc3RyYW5nZSB2YWx1ZXMgc2hvdyB1cCBpbiBhY2MuCiAgICBmb3IgKHZhciBpbm5lclJvdyA9IDA7IGlubmVyUm93IDwgcm93UGVyVGhyZWFkOyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkgewogICAgICBmb3IgKHZhciBpbm5lckNvbCA9IDA7IGlubmVyQ29sIDwgY29sUGVyVGhyZWFkOyBpbm5lckNvbCA9IGlubmVyQ29sICsgMSkgewogICAgICAgIGFjY1tpbm5lclJvd11baW5uZXJDb2xdID0gMC4wOwogICAgICB9CiAgICB9CiAgICAke3d9CiAgfQpgfSxVZD0odCxlLHIsbixhLGk9ITEpPT57bGV0W3MsbyxsXT1hLFtkLGMsdSxoXT1uLGY9cG4ocyxsKSxnPXBuKG8sbCkseT1JdChuWzBdLnR5cGUudGVuc29yKSx3PSgpPT57bGV0IGs9Yy5yYW5rLEU9ZC5yYW5rLHg9YHZhciBhSW5kaWNlczogJHtjLnR5cGUuaW5kaWNlc307YDtmb3IobGV0IEk9ay0yLTEsVD1FLTE7ST49MDtJLS0sVC0tKXgrPWAKYUluZGljZXNbJHtJfV0gPSAke0U+MT9gYmF0Y2hJbmRpY2VzWyR7VH1dYDoiYmF0Y2hJbmRpY2VzIn07YDtyZXR1cm4gZi5mb3JFYWNoKEk9Pnt4Kz1gCmFJbmRpY2VzWyR7SX1dID0gMDtgfSkseCs9YAphSW5kaWNlc1ske2stMn1dID0gdTMyKHJvdyk7CiAgICAgICAgICAgICAgICAgICBhSW5kaWNlc1ske2stMX1dID0gdTMyKGNvbEluKTtgLHh9LHY9KCk9PntsZXQgaz11LnJhbmssRT1kLnJhbmsseD1gdmFyIGJJbmRpY2VzOiAke3UudHlwZS5pbmRpY2VzfTtgO2ZvcihsZXQgST1rLTItMSxUPUUtMTtJPj0wO0ktLSxULS0peCs9YApiSW5kaWNlc1ske0l9XSA9ICR7RT4xP2BiYXRjaEluZGljZXNbJHtUfV1gOiJiYXRjaEluZGljZXMifTtgO3JldHVybiBnLmZvckVhY2goST0+e3grPWAKYkluZGljZXNbJHtJfV0gPSAwO2B9KSx4Kz1gCmJJbmRpY2VzWyR7ay0yfV0gPSB1MzIocm93KTsKICAgICAgICAgICAgICAgICAgIGJJbmRpY2VzWyR7ay0xfV0gPSB1MzIoY29sSW4pO2AseH07cmV0dXJuYAogICAgZm4gbW1fcmVhZEEoYmF0Y2g6IGkzMiwgcm93OiBpMzIsIGNvbEluOiBpMzIsIGJhdGNoSW5kaWNlczogJHtkLnR5cGUuaW5kaWNlc30pIC0+ICR7Z3QodCx5KX0gewogICAgICB2YXIgdmFsdWUgPSAke2d0KHQseSl9KDAuMCk7CiAgICAgIGxldCBjb2wgPSBjb2xJbiAqICR7dH07CiAgICAgIGlmKHJvdyA8IHVuaWZvcm1zLmRpbUFPdXRlciAmJiBjb2wgPCB1bmlmb3Jtcy5kaW1Jbm5lcikKICAgICAgewogICAgICAgICR7dygpfQogICAgICAgIHZhbHVlID0gJHtjLmdldEJ5SW5kaWNlcygiYUluZGljZXMiKX07CiAgICAgIH0KICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQoKICAgIGZuIG1tX3JlYWRCKGJhdGNoOiBpMzIsIHJvdzogaTMyLCBjb2xJbjogaTMyLCBiYXRjaEluZGljZXM6ICR7ZC50eXBlLmluZGljZXN9KSAtPiAke2d0KHQseSl9IHsKICAgICAgdmFyIHZhbHVlID0gJHtndCh0LHkpfSgwLjApOwogICAgICBsZXQgY29sID0gY29sSW4gKiAke3R9OwogICAgICBpZihyb3cgPCB1bmlmb3Jtcy5kaW1Jbm5lciAmJiBjb2wgPCB1bmlmb3Jtcy5kaW1CT3V0ZXIpCiAgICAgIHsKICAgICAgICAke3YoKX0KICAgICAgICB2YWx1ZSA9ICR7dS5nZXRCeUluZGljZXMoImJJbmRpY2VzIil9OwogICAgICB9CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KCiAgICBmbiBtbV93cml0ZShiYXRjaDogaTMyLCByb3c6IGkzMiwgY29sSW46IGkzMiwgdmFsdWVJbjogJHtndCh0LHkpfSkgewogICAgICBsZXQgY29sID0gY29sSW4gKiAke3R9OwogICAgICBpZiAocm93IDwgdW5pZm9ybXMuZGltQU91dGVyICYmIGNvbCA8IHVuaWZvcm1zLmRpbUJPdXRlcikgewogICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlSW47CiAgICAgICAgbGV0IGNvb3JkcyA9IHZlYzM8aTMyPihiYXRjaCwgcm93LCBjb2xJbik7CiAgICAgICAgJHtlP2B2YWx1ZSA9IHZhbHVlICsgJHtpPyJiaWFzW2NvbEluXSI6YCR7Z3QodCx5KX0oYmlhc1tyb3ddKWB9O2A6IiJ9CiAgICAgICAgJHtyfQogICAgICAgICR7aC5zZXRCeUluZGljZXMoInZlYzM8dTMyPihjb29yZHMpIiwidmFsdWUiKX0KICAgICAgfQogICAgfQogICAgYH0sdXM9KHQsZSxyLG4sYT0hMSk9PntsZXQgaT10WzBdLmRpbXMscz10WzFdLmRpbXMsbz1pLnNsaWNlKDAsLTIpLGw9cy5zbGljZSgwLC0yKSxkPW4/bi5zbGljZSgwLC0yKTpyLnNsaWNlKDAsLTIpLGM9c3QoZC5sZW5ndGgpLHU9Yz9kLmxlbmd0aDpkLGg9WmkoImJhdGNoRGltcyIsdFswXS5kYXRhVHlwZSx1LDEpLGY9ZWUuc2l6ZShkKSxnPWlbaS5sZW5ndGgtMl0seT1pW2kubGVuZ3RoLTFdLHc9c1tzLmxlbmd0aC0xXSx2PXklND09PTAmJnclND09PTAsaz1nPD04P1s0LDEsMV06WzQsNCwxXSxFPVs4LDgsMV0seD1bTWF0aC5jZWlsKHcvRVswXS9rWzBdKSxNYXRoLmNlaWwoZy9FWzFdL2tbMV0pLE1hdGguY2VpbChmL0VbMl0va1syXSldLEk9SXQodFswXS5kYXRhVHlwZSksVD12PzQ6MSxCPVsuLi5vLGcseS9UXSxVPXN0KEIubGVuZ3RoKSxIPVU/Qi5sZW5ndGg6QixLPVsuLi5sLHksdy9UXSxPPXN0KEsubGVuZ3RoKSxHPU8/Sy5sZW5ndGg6SyxuZT1bZixnLHcvVF0scT1KKCJhIix0WzBdLmRhdGFUeXBlLEgsVCksRD1KKCJiIix0WzFdLmRhdGFUeXBlLEcsVCksTD12ZSgicmVzdWx0Iix0WzBdLmRhdGFUeXBlLG5lLmxlbmd0aCxUKSxWPVtxLERdLHRlPVt7dHlwZToiaW50MzIiLGRhdGE6Z30se3R5cGU6ImludDMyIixkYXRhOnd9LHt0eXBlOiJpbnQzMiIsZGF0YTp5fV07YyYmdGUucHVzaCguLi5pZShkKSksVSYmdGUucHVzaCguLi5pZShCKSksTyYmdGUucHVzaCguLi5pZShLKSk7bGV0IFg9W107WC5wdXNoKFU/InJhbmsiOiJkaW1zIiksWC5wdXNoKE8/InJhbmsiOiJkaW1zIik7bGV0IHVlPXQubGVuZ3RoPjIse2FjdGl2YXRpb25GdW5jdGlvbjpGLGFwcGx5QWN0aXZhdGlvbjpvZX09RnIoZSxMLnR5cGUudmFsdWUpLCRlPVVkKFQsdWUsb2UsW2gscSxELExdLFtvLGwsZF0sYSk7aWYodWUpe2xldCBEZT1hP1Q6MTtWLnB1c2goSigiYmlhcyIsdFsyXS5kYXRhVHlwZSx0WzJdLmRpbXMubGVuZ3RoLERlKSksdGUucHVzaCguLi5pZSh0WzJdLmRpbXMpKSxYLnB1c2goInJhbmsiKX10ZS5wdXNoKC4uLmllKG5lKSk7bGV0IFVlPURlPT5gCiAgJHtEZS5yZWdpc3RlclVuaWZvcm0oImRpbUFPdXRlciIsImkzMiIpLnJlZ2lzdGVyVW5pZm9ybSgiZGltQk91dGVyIiwiaTMyIikucmVnaXN0ZXJVbmlmb3JtKCJkaW1Jbm5lciIsImkzMiIpLnJlZ2lzdGVySW50ZXJuYWxWYXJpYWJsZXMoaCkuZGVjbGFyZVZhcmlhYmxlcyguLi5WLEwpfQogICR7Rn0KICAkeyRlfQogICR7dj9JYShrLEUsSSxoKTpBYShrLEUsSSxoKX0KICAgICAgICAgICAgICAgICAgIGA7cmV0dXJue25hbWU6Ik1hdE11bCIsc2hhZGVyQ2FjaGU6e2hpbnQ6ZS5hY3RpdmF0aW9uQ2FjaGVLZXkrYCR7a30ke3Z9JHthfWAsaW5wdXREZXBlbmRlbmNpZXM6WH0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpyLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4OnhbMF0seTp4WzFdLHo6eFsyXX0scHJvZ3JhbVVuaWZvcm1zOnRlfSksZ2V0U2hhZGVyU291cmNlOlVlfX19KSxXZCxMZCxwXz1RKCgpPT57dnIoKSxDZSgpLGJyKCksc3MoKSxSZCgpLFRhKCksV2Q9KHQsZSxyLG4sYT0hMSxpLHM9NCxvPTQsbD00LGQ9ImYzMiIpPT57bGV0IGM9Sz0+e3N3aXRjaChLKXtjYXNlIDE6cmV0dXJuInJlc0RhdGEgPSB4W3hJbmRleF07IjtjYXNlIDM6cmV0dXJuYHJlc0RhdGEgPSB2ZWMzPCR7ZH0+KHhbeEluZGV4XSwgeFt4SW5kZXggKyAxXSwgeFt4SW5kZXggKyAyXSk7YDtjYXNlIDQ6cmV0dXJuInJlc0RhdGEgPSB4W3hJbmRleCAvIDRdOyI7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYGlubmVyRWxlbWVudFNpemUgJHtLfSBpcyBub3Qgc3VwcG9ydGVkLmApfX0sdT1LPT57c3dpdGNoKEspe2Nhc2UgMTpyZXR1cm4icmV0dXJuIHdbcm93ICogaTMyKHVuaWZvcm1zLndfc2hhcGVbM10pICsgY29sSW5dOyI7Y2FzZSA0OnJldHVybiJyZXR1cm4gd1tyb3cgKiBpMzIodW5pZm9ybXMud19zaGFwZVszXSkgLyA0ICsgY29sSW5dOyI7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYGlubmVyRWxlbWVudFNpemUgJHtLfSBpcyBub3Qgc3VwcG9ydGVkLmApfX0saD10P2AKICAgIGxldCBjb29yZCA9IHZlYzQ8aTMyPihiYXRjaCwgeFJvdywgeENvbCwgeENoKTsKICAgIGA6YAogICAgbGV0IGNvb3JkID0gdmVjNDxpMzI+KGJhdGNoLCB4Q2gsIHhSb3csIHhDb2wpOwogICAgYCxmPXQ/YAogICAgbGV0IGNvb3JkcyA9IHZlYzQ8aTMyPigKICAgICAgYmF0Y2gsCiAgICAgIHJvdyAvIG91dFdpZHRoLAogICAgICByb3cgJSBvdXRXaWR0aCwKICAgICAgY29sKTsKICAgIGA6YAogICAgbGV0IGNvb3JkcyA9IHZlYzQ8aTMyPigKICAgICAgYmF0Y2gsCiAgICAgIHJvdywKICAgICAgY29sIC8gb3V0V2lkdGgsCiAgICAgIGNvbCAlIG91dFdpZHRoKTsKICAgIGAsZz10PyJpMzIodW5pZm9ybXMueF9zaGFwZVsxXSkiOiJpMzIodW5pZm9ybXMueF9zaGFwZVsyXSkiLHk9dD8iaTMyKHVuaWZvcm1zLnhfc2hhcGVbMl0pIjoiaTMyKHVuaWZvcm1zLnhfc2hhcGVbM10pIix3PXQ/InJvdyI6ImNvbCIsdj10PyJjb2wiOiJyb3ciLGs9YAogICAgbGV0IGluQ2hhbm5lbHMgPSBpMzIodW5pZm9ybXMud19zaGFwZVsyXSk7CiAgICBsZXQgb3V0V2lkdGggPSAke3Q/ImkzMih1bmlmb3Jtcy5yZXN1bHRfc2hhcGVbMl0pIjoiaTMyKHVuaWZvcm1zLnJlc3VsdF9zaGFwZVszXSkifTsKICAgIGxldCBvdXRSb3cgPSAke3d9IC8gb3V0V2lkdGg7CiAgICBsZXQgb3V0Q29sID0gJHt3fSAlIG91dFdpZHRoOwoKICAgIGxldCBXUm93ID0gJHt2fSAvIChmaWx0ZXJEaW1zWzFdICogaW5DaGFubmVscyk7CiAgICBsZXQgV0NvbCA9ICR7dn0gLyBpbkNoYW5uZWxzICUgZmlsdGVyRGltc1sxXTsKICAgIGxldCB4Um93ID0gb3V0Um93ICogc3RyaWRlWzBdICsgZGlsYXRpb25bMF0gKiBXUm93IC0gcGFkWzBdOwogICAgbGV0IHhDb2wgPSBvdXRDb2wgKiBzdHJpZGVbMV0gKyBkaWxhdGlvblsxXSAqIFdDb2wgLSBwYWRbMV07CiAgICBsZXQgeENoID0gJHt2fSAlIGluQ2hhbm5lbHM7CiAgICB2YXIgcmVzRGF0YSA9ICR7Z3QocyxkKX0oMC4wKTsKICAgIC8vIFRoZSBib3VuZHMgY2hlY2tpbmcgaXMgYWx3YXlzIG5lZWRlZCBzaW5jZSB3ZSB1c2UgaXQgdG8gcGFkIHplcm8gZm9yCiAgICAvLyB0aGUgJ3NhbWUnIHBhZGRpbmcgdHlwZS4KICAgIGlmICh4Um93ID49IDAgJiYgeFJvdyA8ICR7Z30gJiYgeENvbCA+PSAwICYmIHhDb2wgPCAke3l9KSB7CiAgICAgICR7aH0KICAgICAgbGV0IHhJbmRleCA9IGdldEluZGV4RnJvbUNvb3JkczREKGNvb3JkLCB2ZWM0PGkzMj4odW5pZm9ybXMueF9zaGFwZSkpOwogICAgICAke2Mocyl9CiAgICB9CiAgICByZXR1cm4gcmVzRGF0YTtgLEU9dD9lJiZuP2AKICAgIGxldCBjb2wgPSBjb2xJbiAqICR7c307CiAgICAke2t9YDpgCiAgICBsZXQgY29sID0gY29sSW4gKiAke3N9OwogICAgaWYgKHJvdyA8IHVuaWZvcm1zLmRpbUFPdXRlciAmJiBjb2wgPCB1bmlmb3Jtcy5kaW1Jbm5lcikgewogICAgICAke2t9CiAgICB9CiAgICByZXR1cm4gJHtndChzLGQpfSgwLjApO2A6biYmcj9gCiAgICBsZXQgY29sID0gY29sSW4gKiAke3N9OwogICAgJHtrfWA6YAogICAgbGV0IGNvbCA9IGNvbEluICogJHtzfTsKICAgIGlmIChyb3cgPCB1bmlmb3Jtcy5kaW1Jbm5lciAmJiBjb2wgPCB1bmlmb3Jtcy5kaW1CT3V0ZXIpIHsKICAgICAgJHtrfQogICAgfQogICAgcmV0dXJuICR7Z3QocyxkKX0oMC4wKTtgLHg9YCR7dShvKX1gLEk9Z3QobCxkKSxUPWd0KHQ/czpvLGQpLEI9Z3QodD9vOnMsZCkse2FjdGl2YXRpb25GdW5jdGlvbjpVLGFwcGx5QWN0aXZhdGlvbjpIfT1GcihpLEkpO3JldHVybmAKICAgICR7VX0KICAgIGZuIG1tX3JlYWRBKGJhdGNoOiBpMzIsIHJvdyA6IGkzMiwgY29sSW4gOiBpMzIpIC0+ICR7VH0gewogICAgICAke3Q/RTp4fQogICAgfQoKICAgIGZuIG1tX3JlYWRCKGJhdGNoOiBpMzIsIHJvdyA6IGkzMiwgY29sSW4gOiBpMzIpIC0+ICR7Qn0gewogICAgICAke3Q/eDpFfQogICAgfQoKICAgIGZuIG1tX3dyaXRlKGJhdGNoOiBpMzIsIHJvdyA6IGkzMiwgY29sSW4gOiBpMzIsIHZhbHVlSW4gOiAke0l9KSB7CiAgICAgIGxldCBjb2wgPSBjb2xJbiAqICR7bH07CiAgICAgIGlmIChyb3cgPCB1bmlmb3Jtcy5kaW1BT3V0ZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltQk91dGVyKQogICAgICB7CiAgICAgIHZhciB2YWx1ZSA9IHZhbHVlSW47CiAgICAgIGxldCBvdXRXaWR0aCA9ICR7dD8iaTMyKHVuaWZvcm1zLnJlc3VsdF9zaGFwZVsyXSkiOiJpMzIodW5pZm9ybXMucmVzdWx0X3NoYXBlWzNdKSJ9OwogICAgICAke2Z9CiAgICAgICR7aXMoYSl9CiAgICAgICR7SH0KICAgICAgc2V0T3V0cHV0QXRDb29yZHMoY29vcmRzWzBdLCBjb29yZHNbMV0sIGNvb3Jkc1syXSwgY29vcmRzWzNdLCB2YWx1ZSk7CiAgICAgIH0KICAgIH1gfSxMZD0odCxlLHIsbixhLGkscyxvKT0+e2xldCBsPWUuZm9ybWF0PT09Ik5IV0MiLGQ9bD90WzBdLmRpbXNbM106dFswXS5kaW1zWzFdLGM9clswXSx1PWw/clsyXTpyWzNdLGg9bD9yWzFdOnJbMl0sZj1sP3JbM106clsxXSxnPWwmJihkJTQ9PT0wfHxkJTM9PT0wKSYmZiU0PT09MCx5PWw/Zjp1Kmgsdz1sP3UqaDpmLHY9WzgsOCwxXSxrPW48PTg/WzQsMSwxXTpbNCw0LDFdLEU9W01hdGguY2VpbCh5L3ZbMF0va1swXSksTWF0aC5jZWlsKHcvdlsxXS9rWzFdKSxNYXRoLmNlaWwoYy92WzJdL2tbMl0pXTthdCgidmVyYm9zZSIsKCk9PmBbY29udjJkX21tX3dlYmdwdV0gZGlzcGF0Y2ggPSAke0V9YCk7bGV0IHg9Zz9sJiZkJTQhPT0wPzM6NDoxLEk9dlsxXSprWzFdLFQ9dlswXSprWzBdLEI9TWF0aC5tYXgodlswXSp4LHZbMV0pLFU9biVJPT09MCxIPWElVD09PTAsSz1pJUI9PT0wLE89Zz9beCw0LDRdOlsxLDEsMV0sRz1JdCh0WzBdLmRhdGFUeXBlKSxuZT1nPzQ6MSxxPVt7dHlwZToiaW50MzIiLGRhdGE6bn0se3R5cGU6ImludDMyIixkYXRhOmF9LHt0eXBlOiJpbnQzMiIsZGF0YTppfV0sRD1KKCJ4Iix0WzBdLmRhdGFUeXBlLHRbMF0uZGltcy5sZW5ndGgseD09PTM/MTp4KSxMPUooInciLHRbMV0uZGF0YVR5cGUsdFsxXS5kaW1zLmxlbmd0aCxuZSksVj1bRCxMXTtxLnB1c2goLi4uaWUodFswXS5kaW1zKSkscS5wdXNoKC4uLmllKHRbMV0uZGltcykpO2xldCB0ZT1gCiAgICAgIGZuIHNldE91dHB1dEF0SW5kZXgoZmxhdEluZGV4IDogaTMyLCB2YWx1ZSA6ICR7Zz9gdmVjNDwke0d9PmA6R30pIHsKICAgICAgICByZXN1bHRbZmxhdEluZGV4XSA9ICR7Zz9gdmVjNDwke0d9PmA6R30odmFsdWUpOwogICAgICB9CiAgICAgIGZuIHNldE91dHB1dEF0Q29vcmRzKGQwIDogaTMyLCBkMSA6IGkzMiwgZDIgOiBpMzIsIGQzIDogaTMyLCB2YWx1ZSA6ICR7Zz9gdmVjNDwke0d9PmA6R30pIHsKICAgICAgICBsZXQgZmxhdEluZGV4ID0gZ2V0T3V0cHV0SW5kZXhGcm9tQ29vcmRzKHZlYzQ8aTMyPihkMCwgZDEsIGQyLCBkMykpOwogICAgICAgIHNldE91dHB1dEF0SW5kZXgoZmxhdEluZGV4ICR7Zz8iLyA0IjoiIn0sIHZhbHVlKTsKICAgICAgfWA7aWYocyl7bGV0IHVlPUooImJpYXMiLHRbMl0uZGF0YVR5cGUsdFsyXS5kaW1zLmxlbmd0aCxuZSk7Vi5wdXNoKHVlKSxxLnB1c2goLi4uaWUodFsyXS5kaW1zKSksdGUrPWAKICAgICAgICBmbiBnZXRCaWFzQnlPdXRwdXRDb29yZHMoY29vcmRzIDogdmVjNDxpMzI+KSAtPiAke2c/YHZlYzQ8JHtHfT5gOkd9IHsKICAgICAgICAgIHJldHVybiBiaWFzW2Nvb3Jkcy4ke2w/InciOiJ5In0ke2c/Ii8gNCI6IiJ9XTsKICAgICAgICB9YH1sZXQgWD12ZSgicmVzdWx0Iix0WzBdLmRhdGFUeXBlLHIubGVuZ3RoLG5lKTtyZXR1cm4gcS5wdXNoKC4uLmllKHIpKSx7bmFtZToiQ29udjJETWF0TXVsIixzaGFkZXJDYWNoZTp7aGludDplLmNhY2hlS2V5fSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnIsZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6RVswXSx5OkVbMV0sejpFWzJdfSxwcm9ncmFtVW5pZm9ybXM6cX0pLGdldFNoYWRlclNvdXJjZTp1ZT0+YAogICAgICAgICR7b3MoInVuaWZvcm1zLnJlc3VsdF9zdHJpZGVzIil9CiAgICAgICAgLy9zdHJ1Y3QgVW5pZm9ybXMgeyB4U2hhcGUgOiB2ZWM0PGkzMj4sIHdTaGFwZSA6IHZlYzQ8aTMyPiwgb3V0U2hhcGUgOiB2ZWM0PGkzMj4sCiAgICAgICAgLy8gIG91dFNoYXBlU3RyaWRlczogdmVjMzxpMzI+LCBmaWx0ZXJEaW1zIDogdmVjMjxpMzI+LCBwYWQgOiB2ZWMyPGkzMj4sIHN0cmlkZSA6IHZlYzI8aTMyPiwKICAgICAgICAvLyAgZGlsYXRpb24gOiB2ZWMyPGkzMj4sIGRpbUFPdXRlciA6IGkzMiwgZGltQk91dGVyIDogaTMyLCBkaW1Jbm5lciA6IGkzMiB9OwogICAgICAgICR7dWUucmVnaXN0ZXJVbmlmb3JtKCJkaW1BT3V0ZXIiLCJpMzIiKS5yZWdpc3RlclVuaWZvcm0oImRpbUJPdXRlciIsImkzMiIpLnJlZ2lzdGVyVW5pZm9ybSgiZGltSW5uZXIiLCJpMzIiKS5kZWNsYXJlVmFyaWFibGVzKC4uLlYsWCl9CiAgICAgICAgY29uc3QgZmlsdGVyRGltcyA6IHZlYzI8aTMyPiA9IHZlYzI8aTMyPigke2Uua2VybmVsU2hhcGVbMF19LCAke2Uua2VybmVsU2hhcGVbMV19KTsKICAgICAgICBjb25zdCBwYWQgOiB2ZWMyPGkzMj4gPSB2ZWMyPGkzMj4oJHtlLnBhZHNbMF19LCAke2UucGFkc1sxXX0pOwogICAgICAgIGNvbnN0IHN0cmlkZSA6IHZlYzI8aTMyPiA9IHZlYzI8aTMyPigke2Uuc3RyaWRlc1swXX0sICR7ZS5zdHJpZGVzWzFdfSk7CiAgICAgICAgY29uc3QgZGlsYXRpb24gOiB2ZWMyPGkzMj4gPSB2ZWMyPGkzMj4oJHtlLmRpbGF0aW9uc1swXX0sICR7ZS5kaWxhdGlvbnNbMV19KTsKICAgICAgICAke3RlfQogICAgICAgICR7V2QobCxVLEgsSyxzLGUsT1swXSxPWzFdLE9bMl0sRyl9CiAgICAgICAgICAgICR7Zz9JYShrLHYsRyx2b2lkIDAsIWwsQik6QWEoayx2LEcsdm9pZCAwLCFsLEIsITEsdm9pZCAwLG8pfWB9fX0pLGRzLGhfPVEoKCk9PntJZSgpLENlKCksS2QoKSxicigpLGRzPSh0LGUscik9PntsZXQgbj10Lmxlbmd0aD4yLGE9bj8idmFsdWUgKz0gYltvdXRwdXRfY2hhbm5lbF07IjoiIixpPXRbMF0uZGltcyxzPXRbMV0uZGltcyxvPXNbMF0vZS5ncm91cCxsPWUuZm9ybWF0PT09Ik5IV0MiLGQ9cHMoaSxzLGUuZGlsYXRpb25zLGUucGFkcyxlLnN0cmlkZXMsbCksYz1lZS5zaXplKGQpLHU9dmUoIm91dHB1dCIsdFswXS5kYXRhVHlwZSxkKSx7YWN0aXZhdGlvbkZ1bmN0aW9uOmgsYXBwbHlBY3RpdmF0aW9uOmZ9PUZyKGUsdS50eXBlLnZhbHVlKSxnPUooIngiLHRbMF0uZGF0YVR5cGUsaSkseT1KKCJ3Iix0WzFdLmRhdGFUeXBlLHMpLHc9W2cseV07biYmdy5wdXNoKEooImIiLHRbMl0uZGF0YVR5cGUsdFsyXS5kaW1zKSk7bGV0IHY9az0+YAogIGNvbnN0IHN0cmlkZXM6IHZlYzI8dTMyPiA9IHZlYzIoJHtlLnN0cmlkZXNbMF19dSwgJHtlLnN0cmlkZXNbMV19dSk7CiAgY29uc3QgcGFkczogdmVjMjx1MzI+ID0gdmVjMigke2UucGFkc1swXX11LCAke2UucGFkc1sxXX11KTsKCiAgJHtrLmRlY2xhcmVWYXJpYWJsZXMoLi4udyx1KX0KCiAgJHtofQoKICAke2subWFpblN0YXJ0KCl9CiAgICAke2suZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcyhjKX0KCiAgICBsZXQgb3V0cHV0SW5kaWNlcyA9ICR7dS5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07CiAgICBsZXQgYmF0Y2g6IHUzMiA9IG91dHB1dEluZGljZXNbMF07CiAgICBsZXQgb3V0cHV0X2NoYW5uZWw6IHUzMiA9IG91dHB1dEluZGljZXNbJHtsPzM6MX1dOwogICAgbGV0IHhSQ0Nvcm5lcjogdmVjMjx1MzI+ID0gdmVjMjx1MzI+KG91dHB1dEluZGljZXNbJHtsPzE6Mn1dLCBvdXRwdXRJbmRpY2VzWyR7bD8yOjN9XSkgKiBzdHJpZGVzIC0gcGFkczsKICAgIGxldCBncm91cF9pZDogdTMyID0gb3V0cHV0X2NoYW5uZWwgLyAke299dTsKCiAgICB2YXIgdmFsdWU6ICR7dS50eXBlLnZhbHVlfSA9ICR7dS50eXBlLnZhbHVlfSgwKTsKICAgIGZvciAodmFyIHdJbkNoYW5uZWw6IHUzMiA9IDB1OyB3SW5DaGFubmVsIDwgJHtzWzFdfXU7IHdJbkNoYW5uZWwrKykgewogICAgICBsZXQgaW5wdXRfY2hhbm5lbCA9IGdyb3VwX2lkICogJHtzWzFdfXUgKyB3SW5DaGFubmVsOwogICAgICBmb3IgKHZhciB3SGVpZ2h0OiB1MzIgPSAwdTsgd0hlaWdodCA8ICR7c1syXX11OyB3SGVpZ2h0KyspIHsKICAgICAgICBsZXQgeEhlaWdodCA9IHhSQ0Nvcm5lci54ICsgd0hlaWdodCAqICR7ZS5kaWxhdGlvbnNbMF19dTsKCiAgICAgICAgaWYgKHhIZWlnaHQgPCAwdSB8fCB4SGVpZ2h0ID49ICR7aVtsPzE6Ml19dSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciB3V2lkdGg6IHUzMiA9IDB1OyB3V2lkdGggPCAke3NbM119dTsgd1dpZHRoKyspIHsKICAgICAgICAgIGxldCB4V2lkdGggPSB4UkNDb3JuZXIueSArIHdXaWR0aCAqICR7ZS5kaWxhdGlvbnNbMV19dTsKICAgICAgICAgIGlmICh4V2lkdGggPCAwdSB8fCB4V2lkdGggPj0gJHtpW2w/MjozXX11KSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGxldCB4VmFsID0gJHtsP2cuZ2V0KCJiYXRjaCIsInhIZWlnaHQiLCJ4V2lkdGgiLCJpbnB1dF9jaGFubmVsIik6Zy5nZXQoImJhdGNoIiwiaW5wdXRfY2hhbm5lbCIsInhIZWlnaHQiLCJ4V2lkdGgiKX07CiAgICAgICAgICBsZXQgd1ZhbCA9ICR7eS5nZXQoIm91dHB1dF9jaGFubmVsIiwid0luQ2hhbm5lbCIsIndIZWlnaHQiLCJ3V2lkdGgiKX07CiAgICAgICAgICB2YWx1ZSArPSB4VmFsKndWYWw7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAke2F9CiAgICAke2Z9CiAgICAke3Uuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJ2YWx1ZSIpfQogIH1gO3JldHVybntuYW1lOiJHcm91cGVkQ29udiIsc2hhZGVyQ2FjaGU6e2hpbnQ6ZS5jYWNoZUtleX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpyP3IoZCk6ZCxkYXRhVHlwZTp0WzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoYy82NCl9fSksZ2V0U2hhZGVyU291cmNlOnZ9fX0pLGNzLEZkLFZkLEhkPVEoKCk9PntJZSgpLFRhKCksQ2UoKSxicigpLGNzPSh0LGUscixuLGE9ITEpPT57bGV0IGk9dFswXS5kaW1zLHM9dFsxXS5kaW1zLG89aVtpLmxlbmd0aC0yXSxsPXNbcy5sZW5ndGgtMV0sZD1pW2kubGVuZ3RoLTFdLGM9dnQobCksdT12dChkKSxoPXZ0KG8pLGY9ZWUuc2l6ZShyKS9jL2gsZz10Lmxlbmd0aD4yLHk9bj9uLnNsaWNlKDAsLTIpOnIuc2xpY2UoMCwtMiksdz1bZWUuc2l6ZSh5KSxvLGxdLHY9W3t0eXBlOiJ1aW50MzIiLGRhdGE6Zn0se3R5cGU6InVpbnQzMiIsZGF0YTpvfSx7dHlwZToidWludDMyIixkYXRhOmx9LHt0eXBlOiJ1aW50MzIiLGRhdGE6ZH0sLi4uaWUoeSksLi4uaWUoaSksLi4uaWUocyldO2cmJnYucHVzaCguLi5pZSh0WzJdLmRpbXMpKSx2LnB1c2goLi4uaWUodykpO2xldCBrPUU9PntsZXQgeD1aaSgiYmF0Y2hfZGltcyIsdFswXS5kYXRhVHlwZSx5Lmxlbmd0aCksST1KKCJhIix0WzBdLmRhdGFUeXBlLGkubGVuZ3RoLHUpLFQ9SigiYiIsdFsxXS5kYXRhVHlwZSxzLmxlbmd0aCxjKSxCPXZlKCJvdXRwdXQiLHRbMF0uZGF0YVR5cGUsdy5sZW5ndGgsYykse2FjdGl2YXRpb25GdW5jdGlvbjpVLGFwcGx5QWN0aXZhdGlvbjpIfT1GcihlLEIudHlwZS52YWx1ZSksSz1bSSxUXSxPPSIiO2lmKGcpe2xldCB0ZT1hP2M6MTtLLnB1c2goSigiYmlhcyIsdFsyXS5kYXRhVHlwZSx0WzJdLmRpbXMubGVuZ3RoLHRlKSksTz1gJHthP2B2YWx1ZSArPSBiaWFzW2NvbCAvICR7dGV9XTtgOmB2YWx1ZSArPSAke0IudHlwZS52YWx1ZX0oYmlhc1tyb3cgKyBpXSk7YH1gfWxldCBHPWkuc2xpY2UoMCwtMiksbmU9cy5zbGljZSgwLC0yKSxxPXBuKEcseSksRD1wbihuZSx5KSxMPSh0ZSxYKT0+e2xldCB1ZT10ZS5yYW5rLEY9dGUubmFtZTtpZih1ZT09PTIpcmV0dXJuYHZhciAke0Z9X2luZGljZXMgPSAke3RlLnR5cGUuaW5kaWNlc30oMHUsIDB1KTtgO2xldCBvZT14LnJhbmssJGU9YHZhciAke0Z9X2luZGljZXM6ICR7dGUudHlwZS5pbmRpY2VzfTtgO2ZvcihsZXQgVWU9dWUtMi0xLERlPW9lLTE7VWU+PTA7VWUtLSxEZS0tKSRlKz1gCiR7Rn1faW5kaWNlc1ske1VlfV0gPSAke29lPjE/YGJhdGNoX2luZGljZXNbJHtEZX1dYDoiYmF0Y2hfaW5kaWNlcyJ9O2A7cmV0dXJuIFguZm9yRWFjaChVZT0+eyRlKz1gCiR7Rn1faW5kaWNlc1ske1VlfV0gPSAwO2B9KSwkZSs9YCR7Rn1faW5kaWNlc1ske3VlLTJ9XSA9IDB1OwogICAgICAgICAgICAgICAgICAgICAke0Z9X2luZGljZXNbJHt1ZS0xfV0gPSAwdTtgLCRlfSxWPSgpPT57bGV0IHRlPWB2YXIgYV9kYXRhOiAke0kudHlwZS52YWx1ZX07YDtmb3IobGV0IFg9MDtYPHU7WCsrKXRlKz1gCiAgICAgICAgICAgICAgbGV0IGJfZGF0YSR7WH0gPSBiWyhiX29mZnNldCArIChrICsgJHtYfSkgKiB1bmlmb3Jtcy5OICsgY29sKSAvICR7Y31dO2A7Zm9yKGxldCBYPTA7WDxoO1grKyl7dGUrPWBhX2RhdGEgPSBhWyhhX29mZnNldCArIChyb3cgKyAke1h9KSAqIHVuaWZvcm1zLksgKyBrKSAvICR7dX1dO2A7Zm9yKGxldCB1ZT0wO3VlPHU7dWUrKyl0ZSs9YAogICAgICAgICAgICB2YWx1ZXNbJHtYfV0gPSBmbWEoJHtULnR5cGUudmFsdWV9KGFfZGF0YSR7dT09PTE/IiI6YFske3VlfV1gfSksIGJfZGF0YSR7dWV9LCB2YWx1ZXNbJHtYfV0pOwpgfXJldHVybiB0ZX07cmV0dXJuYAogICR7RS5yZWdpc3RlclVuaWZvcm0oIm91dHB1dFNpemUiLCJ1MzIiKS5yZWdpc3RlclVuaWZvcm0oIk0iLCJ1MzIiKS5yZWdpc3RlclVuaWZvcm0oIk4iLCJ1MzIiKS5yZWdpc3RlclVuaWZvcm0oIksiLCJ1MzIiKS5yZWdpc3RlckludGVybmFsVmFyaWFibGVzKHgpLmRlY2xhcmVWYXJpYWJsZXMoLi4uSyxCKX0KICAke1V9CiAgJHtFLm1haW5TdGFydCgpfQogICAgJHtFLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dFNpemUiKX0KICAgIGxldCBjb2wgPSAoZ2xvYmFsX2lkeCAlICh1bmlmb3Jtcy5OIC8gJHtjfSkpICogJHtjfTsKICAgIHZhciBpbmRleDEgPSBnbG9iYWxfaWR4IC8gKHVuaWZvcm1zLk4gLyAke2N9KTsKICAgIGxldCBzdHJpZGUxID0gdW5pZm9ybXMuTSAvICR7aH07CiAgICBsZXQgcm93ID0gKGluZGV4MSAlIHN0cmlkZTEpICogJHtofTsKICAgIGxldCBiYXRjaCA9IGluZGV4MSAvIHN0cmlkZTE7CgogICAgJHtyLmxlbmd0aD09PTI/IiI6YGxldCBiYXRjaF9pbmRpY2VzID0gJHt4Lm9mZnNldFRvSW5kaWNlcygiYmF0Y2giKX07YH0KICAgICR7TChJLHEpfQogICAgbGV0IGFfb2Zmc2V0ID0gJHtJLmluZGljZXNUb09mZnNldCgiYV9pbmRpY2VzIil9OwogICAgJHtMKFQsRCl9CiAgICBsZXQgYl9vZmZzZXQgPSAke1QuaW5kaWNlc1RvT2Zmc2V0KCJiX2luZGljZXMiKX07CiAgICB2YXIgdmFsdWVzOiBhcnJheTwke0IudHlwZS52YWx1ZX0sICR7aH0+OwogICAgZm9yICh2YXIgazogdTMyID0gMHU7IGsgPCB1bmlmb3Jtcy5LOyBrID0gayArICR7dX0pIHsKICAgICAgJHtWKCl9CiAgICB9CiAgICBmb3IgKHZhciBpID0gMHU7IGkgPCAke2h9dTsgaSsrKSB7CiAgICAgIHZhciB2YWx1ZSA9IHZhbHVlc1tpXTsKICAgICAgJHtPfQogICAgICAke0h9CiAgICAgIGxldCBjdXJfaW5kaWNlcyA9ICR7Qi50eXBlLmluZGljZXN9KGJhdGNoLCByb3cgKyBpLCBjb2wpOwogICAgICBsZXQgb2Zmc2V0ID0gJHtCLmluZGljZXNUb09mZnNldCgiY3VyX2luZGljZXMiKX07CiAgICAgICR7Qi5zZXRCeU9mZnNldChgb2Zmc2V0IC8gJHtjfWAsInZhbHVlIil9OwogICAgfQogIH0KICBgfTtyZXR1cm57bmFtZToiTWF0TXVsTmFpdmUiLHNoYWRlckNhY2hlOntoaW50OmAke2UuYWN0aXZhdGlvbkNhY2hlS2V5fV8ke2N9XyR7dX1fJHtofV8ke2F9YCxpbnB1dERlcGVuZGVuY2llczpnP1sicmFuayIsInJhbmsiLCJyYW5rIl06WyJyYW5rIiwicmFuayJdfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnIsZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGYvNjQpfSxwcm9ncmFtVW5pZm9ybXM6dn0pLGdldFNoYWRlclNvdXJjZTprfX0sRmQ9dD0+e2lmKCF0fHx0Lmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCJNYXRNdWwgcmVxdWlyZXMgMiBpbnB1dHMuIik7aWYodFswXS5kaW1zW3RbMF0uZGltcy5sZW5ndGgtMV0hPT10WzFdLmRpbXNbdFsxXS5kaW1zLmxlbmd0aC0yXSl0aHJvdyBuZXcgRXJyb3IoInNoYXJlZCBkaW1lbnNpb24gZG9lcyBub3QgbWF0Y2guIil9LFZkPXQ9PntGZCh0LmlucHV0cyk7bGV0IGU9THIuY2FsY1NoYXBlKHQuaW5wdXRzWzBdLmRpbXMsdC5pbnB1dHNbMV0uZGltcywhMCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJDYW4ndCB1c2UgbWF0bXVsIG9uIHRoZSBnaXZlbiB0ZW5zb3JzIik7bGV0IHI9ZVtlLmxlbmd0aC0xXSxuPXQuaW5wdXRzWzBdLmRpbXNbdC5pbnB1dHNbMF0uZGltcy5sZW5ndGgtMV07cjw4JiZuPDg/dC5jb21wdXRlKGNzKHQuaW5wdXRzLHthY3RpdmF0aW9uOiIiLGFjdGl2YXRpb25DYWNoZUtleToiIn0sZSkpOnQuY29tcHV0ZSh1cyh0LmlucHV0cyx7YWN0aXZhdGlvbjoiIixhY3RpdmF0aW9uQ2FjaGVLZXk6IiJ9LGUpKX19KSxwcyxocyxHZCxmcyxtcyxxZCxqZCxncyxLZD1RKCgpPT57SWUoKSxpdCgpLHBfKCksVGEoKSxoXygpLGJyKCksSGQoKSxobigpLHBzPSh0LGUscixuLGEsaSk9PntsZXQgcz10WzBdLG89dC5zbGljZShpPzE6MixpPzM6NCksbD1vLmxlbmd0aCxkPWVbMF0sYz1lLnNsaWNlKDIpLm1hcCgoaCxmKT0+aCsoaC0xKSoocltmXS0xKSksdT1vLm1hcCgoaCxmKT0+aCtuW2ZdK25bZitsXSkubWFwKChoLGYpPT5NYXRoLmZsb29yKChoLWNbZl0rYVtmXSkvYVtmXSkpO3JldHVybiB1LnNwbGljZSgwLDAscyksdS5zcGxpY2UoaT8zOjEsMCxkKSx1fSxocz1bMiwzLDEsMF0sR2Q9KHQsZSk9PntpZighdHx8dC5sZW5ndGghPT0yJiZ0Lmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKCJDb252IHJlcXVpcmVzIDIgb3IgMyBpbnB1dHMiKTtpZih0WzBdLmRpbXMubGVuZ3RoIT09NCYmdFswXS5kaW1zLmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKCJjdXJyZW50bHkgb25seSBzdXBwb3J0IGNvbnYgMUQgYW5kIDJEIik7aWYodFswXS5kaW1zLmxlbmd0aCE9PXRbMV0uZGltcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJmaWx0ZXIgZG9lcyBub3QgaGF2ZSBzYW1lIGRpbWVuc2lvbiBhcyBpbnB1dCIpO2xldCByPXRbMF0uZGltc1tlLmZvcm1hdD09PSJOSFdDIj90WzBdLmRpbXMubGVuZ3RoLTE6MV0sbj10WzFdLmRpbXNbMV0qZS5ncm91cDtpZihyIT09bil0aHJvdyBuZXcgRXJyb3IoIkZJTFRFUl9JTl9DSEFOTkVMIHNob3VsZCBiZSBlcXVhbCB0byBEQVRBX0NIQU5ORUwiKTtpZih0Lmxlbmd0aD09PTMmJih0WzJdLmRpbXMubGVuZ3RoIT09MXx8dFsxXS5kaW1zWzBdIT09dFsyXS5kaW1zWzBdKSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgYmlhcyIpO2xldCBhPXRbMF0uZGltcy5sZW5ndGgtMjtpZihlLmRpbGF0aW9ucy5sZW5ndGghPT1hKXRocm93IG5ldyBFcnJvcihgZGlsYXRpb25zIHNob3VsZCBiZSAke2F9RGApO2lmKGUuc3RyaWRlcy5sZW5ndGghPT1hKXRocm93IG5ldyBFcnJvcihgc3RyaWRlcyBzaG91bGQgYmUgJHthfURgKTtpZihlLnBhZHMubGVuZ3RoIT09YSoyKXRocm93IG5ldyBFcnJvcihgcGFkcyBzaG91bGQgYmUgJHthKjJ9RGApO2lmKGUua2VybmVsU2hhcGUubGVuZ3RoIT09MCYmZS5rZXJuZWxTaGFwZS5sZW5ndGghPT10WzFdLmRpbXMubGVuZ3RoLTIpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGtlcm5lbCBzaGFwZSIpfSxmcz0odCxlKT0+e2xldCByPXQua2VybmVsU2hhcGUuc2xpY2UoKTtmb3IobGV0IGk9MjtpPGVbMV0uZGltcy5sZW5ndGg7KytpKXJbaS0yXT09PTAmJihyW2ktMl09ZVsxXS5kaW1zW2ldKTtsZXQgbj10LnBhZHMuc2xpY2UoKTtiYS5hZGp1c3RQYWRzQmFzZWRPbkF1dG9QYWQoZVswXS5kaW1zLHQuc3RyaWRlcyx0LmRpbGF0aW9ucyxyLG4sdC5mb3JtYXQ9PT0iTkhXQyIsdC5hdXRvUGFkKTtsZXQgYT1PYmplY3QuYXNzaWduKHt9LHQpO3JldHVybiBPYmplY3QuYXNzaWduKGEse2tlcm5lbFNoYXBlOnIscGFkczpuLGNhY2hlS2V5OnQuY2FjaGVLZXl9KSxhfSxtcz10PT57bGV0IGU9YXModCkscj10LmZvcm1hdCxuPVsiTk9UU0VUIiwiVkFMSUQiLCJTQU1FX1VQUEVSIiwiU0FNRV9MT1dFUiJdW3QuYXV0b19wYWRdLGE9dC5kaWxhdGlvbnMsaT10Lmdyb3VwLHM9dC5rZXJuZWxfc2hhcGUsbz10LnBhZHMsbD10LnN0cmlkZXMsZD10LndfaXNfY29uc3QoKTtyZXR1cm4gcWUoe2F1dG9QYWQ6bixmb3JtYXQ6cixkaWxhdGlvbnM6YSxncm91cDppLGtlcm5lbFNoYXBlOnMscGFkczpvLHN0cmlkZXM6bCx3SXNDb25zdDpkLC4uLmV9KX0scWQ9KHQsZSxyKT0+e2xldCBuPWZzKHIsZSksYT1yLmZvcm1hdD09PSJOSFdDIjtpZihyLmdyb3VwIT09MSl7dC5jb21wdXRlKGRzKGUsbikpO3JldHVybn1sZXQgaT1lLmxlbmd0aD09PTMscz1lWzBdLmRpbXNbYT8xOjJdLG89ZVswXS5kaW1zW2E/MjozXSxsPWVbMF0uZGltc1thPzM6MV0sZD1lWzFdLmRpbXNbMl0sYz1lWzFdLmRpbXNbM10sdT1wcyhlWzBdLmRpbXMsZVsxXS5kaW1zLHIuZGlsYXRpb25zLG4ucGFkcyxyLnN0cmlkZXMsYSksaD11W2E/MToyXSxmPXVbYT8yOjNdLGc9dVthPzM6MV0seT1hJiZkPT09cyYmYz09PW8mJnIucGFkc1swXT09PTAmJnIucGFkc1sxXT09PTA7aWYoeXx8ZD09PTEmJmM9PT0xJiZyLmRpbGF0aW9uc1swXT09PTEmJnIuZGlsYXRpb25zWzFdPT09MSYmci5zdHJpZGVzWzBdPT09MSYmci5zdHJpZGVzWzFdPT09MSYmci5wYWRzWzBdPT09MCYmci5wYWRzWzFdPT09MCl7bGV0IFQ9dVswXSxCLFUsSCxLPVtdO2lmKGEpe2xldCBuZT10Lmtlcm5lbEN1c3RvbURhdGEud1Q/P3QuY29tcHV0ZShkcihlWzFdLGhzKSx7aW5wdXRzOlsxXSxvdXRwdXRzOltyLndJc0NvbnN0Py0yOi0xXX0pWzBdO2lmKHIud0lzQ29uc3QmJiF0Lmtlcm5lbEN1c3RvbURhdGEud1QmJih0Lmtlcm5lbEN1c3RvbURhdGEud1Q9bmUpLHkpe2xldCBxPXMqbypsO0I9ZVswXS5yZXNoYXBlKFsxLFQscV0pLFU9bmUucmVzaGFwZShbMSxxLGddKSxIPVsxLFQsZ119ZWxzZSBCPWVbMF0ucmVzaGFwZShbVCxzKm8sbF0pLFU9bmUucmVzaGFwZShbMSxsLGddKSxIPVtULGgqZixnXTtLLnB1c2goQiksSy5wdXNoKFUpfWVsc2UgQj1lWzBdLnJlc2hhcGUoW1QsbCxzKm9dKSxVPWVbMV0ucmVzaGFwZShbMSxnLGxdKSxIPVtULGcsaCpmXSxLLnB1c2goVSksSy5wdXNoKEIpO2kmJksucHVzaChlWzJdKTtsZXQgTz1IWzJdLEc9S1swXS5kaW1zW0tbMF0uZGltcy5sZW5ndGgtMV07Tzw4JiZHPDg/dC5jb21wdXRlKGNzKEssbix1LEgsYSkse2lucHV0czpLfSk6dC5jb21wdXRlKHVzKEssbix1LEgsYSkse2lucHV0czpLfSk7cmV0dXJufWxldCB3PSEwLHY9dC5rZXJuZWxDdXN0b21EYXRhLndUPz90LmNvbXB1dGUoZHIoZVsxXSxocykse2lucHV0czpbMV0sb3V0cHV0czpbci53SXNDb25zdD8tMjotMV19KVswXTtyLndJc0NvbnN0JiYhdC5rZXJuZWxDdXN0b21EYXRhLndUJiYodC5rZXJuZWxDdXN0b21EYXRhLndUPXYpO2xldCBrPVtlWzBdLHZdO2kmJmsucHVzaChlWzJdKTtsZXQgRT1hP2gqZjpnLHg9YT9nOmgqZixJPWQqYypsO3QuY29tcHV0ZShMZChrLG4sdSxFLHgsSSxpLHcpLHtpbnB1dHM6a30pfSxqZD0odCxlKT0+e2xldCByPWUuZm9ybWF0PT09Ik5IV0MiLG49W3QuaW5wdXRzWzBdLnJlc2hhcGUocj9bdC5pbnB1dHNbMF0uZGltc1swXSwxLHQuaW5wdXRzWzBdLmRpbXNbMV0sdC5pbnB1dHNbMF0uZGltc1syXV06W3QuaW5wdXRzWzBdLmRpbXNbMF0sdC5pbnB1dHNbMF0uZGltc1sxXSwxLHQuaW5wdXRzWzBdLmRpbXNbMl1dKSx0LmlucHV0c1sxXS5yZXNoYXBlKFt0LmlucHV0c1sxXS5kaW1zWzBdLHQuaW5wdXRzWzFdLmRpbXNbMV0sMSx0LmlucHV0c1sxXS5kaW1zWzJdXSldO3QuaW5wdXRzLmxlbmd0aD09PTMmJm4ucHVzaCh0LmlucHV0c1syXSk7bGV0IGE9WzAsZS5wYWRzWzBdLDAsZS5wYWRzWzFdXSxpPVsxXS5jb25jYXQoZS5zdHJpZGVzKSxzPVsxXS5jb25jYXQoZS5kaWxhdGlvbnMpLG89WzFdLmNvbmNhdChlLmtlcm5lbFNoYXBlKSxsPWZzKHsuLi5lLHBhZHM6YSxzdHJpZGVzOmksZGlsYXRpb25zOnMsa2VybmVsU2hhcGU6b30sbik7dC5jb21wdXRlKGRzKG4sbCxkPT5yP1tkWzBdLGRbMl0sZFszXV06W10pKX0sZ3M9KHQsZSk9PntHZCh0LmlucHV0cyxlKSx0LmlucHV0c1swXS5kaW1zLmxlbmd0aD09PTM/amQodCxlKTpxZCh0LHQuaW5wdXRzLGUpfX0pLFlkLFhkLGZfPVEoKCk9Pnt2cigpLENlKCksYnIoKSxzcygpLFJkKCksVGEoKSxZZD0odCxlPSExLHIsbj00KT0+e2xldCBhPWd0KG4sImYzMiIpLGk9dj0+e3N3aXRjaCh2KXtjYXNlIDE6cmV0dXJuInJldHVybiB3W2dldEluZGV4RnJvbUNvb3JkczREKGNvb3JkLCB2ZWM0PGkzMj4odW5pZm9ybXMud19zaGFwZSkpXTsiO2Nhc2UgNDpyZXR1cm5gCiAgICAgICAgICAgIGxldCBjb29yZDEgPSB2ZWM0PGkzMj4oY29vcmRYLCBjb29yZFksIGNvbCArIDEsIHJvd0lubmVyKTsKICAgICAgICAgICAgbGV0IGNvb3JkMiA9IHZlYzQ8aTMyPihjb29yZFgsIGNvb3JkWSwgY29sICsgMiwgcm93SW5uZXIpOwogICAgICAgICAgICBsZXQgY29vcmQzID0gdmVjNDxpMzI+KGNvb3JkWCwgY29vcmRZLCBjb2wgKyAzLCByb3dJbm5lcik7CiAgICAgICAgICAgIGxldCB2MCA9IHdbZ2V0SW5kZXhGcm9tQ29vcmRzNEQoY29vcmQsIHZlYzQ8aTMyPih1bmlmb3Jtcy53X3NoYXBlKSldOwogICAgICAgICAgICBsZXQgdjEgPSB3W2dldEluZGV4RnJvbUNvb3JkczREKGNvb3JkMSwgdmVjNDxpMzI+KHVuaWZvcm1zLndfc2hhcGUpKV07CiAgICAgICAgICAgIGxldCB2MiA9IHdbZ2V0SW5kZXhGcm9tQ29vcmRzNEQoY29vcmQyLCB2ZWM0PGkzMj4odW5pZm9ybXMud19zaGFwZSkpXTsKICAgICAgICAgICAgbGV0IHYzID0gd1tnZXRJbmRleEZyb21Db29yZHM0RChjb29yZDMsIHZlYzQ8aTMyPih1bmlmb3Jtcy53X3NoYXBlKSldOwogICAgICAgICAgICByZXR1cm4gdmVjNDxmMzI+KHYwLCB2MSwgdjIsIHYzKTsKICAgICAgICAgICAgYDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgaW5uZXJFbGVtZW50U2l6ZSAke3Z9IGlzIG5vdCBzdXBwb3J0ZWQuYCl9fSxzPXQ/YAogICAgICBsZXQgY29vcmQgPSB2ZWM0PGkzMj4oYmF0Y2gsIGlYUiwgaVhDLCB4Q2gpOwogICAgICBgOmAKICAgICAgbGV0IGNvb3JkID0gdmVjNDxpMzI+KGJhdGNoLCB4Q2gsIGlYUiwgaVhDKTsKICAgICAgYCxvPXQ/YAogICAgbGV0IGNvb3JkcyA9IHZlYzQ8aTMyPigKICAgICAgYmF0Y2gsCiAgICAgIHJvdyAvIG91dFdpZHRoLAogICAgICByb3cgJSBvdXRXaWR0aCwKICAgICAgY29sKTsKICAgIGA6YAogICAgbGV0IGNvb3JkcyA9IHZlYzQ8aTMyPigKICAgICAgYmF0Y2gsCiAgICAgIHJvdywKICAgICAgY29sIC8gb3V0V2lkdGgsCiAgICAgIGNvbCAlIG91dFdpZHRoKTsKICAgIGAsbD10PyJvdXRCYWNrcHJvcFsxXSI6Im91dEJhY2twcm9wWzJdIixkPXQ/Im91dEJhY2twcm9wWzJdIjoib3V0QmFja3Byb3BbM10iLGM9dD8icm93IjoiY29sIix1PXQ/ImNvbCI6InJvdyIsaD1gCiAgICAgIGxldCBpbkNoYW5uZWxzID0gJHt0PyJvdXRCYWNrcHJvcFszXSI6Im91dEJhY2twcm9wWzFdIn07CiAgICAgIGxldCBvdXRXaWR0aCA9ICR7dD8iaTMyKHVuaWZvcm1zLnJlc3VsdF9zaGFwZVsyXSkiOiJpMzIodW5pZm9ybXMucmVzdWx0X3NoYXBlWzNdKSJ9OwogICAgICBsZXQgb3V0Um93ID0gJHtjfSAvIG91dFdpZHRoOwogICAgICBsZXQgb3V0Q29sID0gJHtjfSAlIG91dFdpZHRoOwoKICAgICAgbGV0IFdSb3cgPSAke3V9IC8gKGZpbHRlckRpbXNbMV0gKiBpbkNoYW5uZWxzKTsKICAgICAgbGV0IFdDb2wgPSAke3V9IC8gaW5DaGFubmVscyAlIGZpbHRlckRpbXNbMV07CiAgICAgIGxldCB4UiA9IGYzMihvdXRSb3cgLSBwYWRzWzBdICsgZGlsYXRpb25bMF0gKiBXUm93KSAvIGYzMihzdHJpZGVzWzBdKTsKICAgICAgbGV0IHhDID0gZjMyKG91dENvbCAtIHBhZHNbMV0gKyBkaWxhdGlvblsxXSAqIFdDb2wpIC8gZjMyKHN0cmlkZXNbMV0pOwogICAgICBpZiAoeFIgPCAwLjAgfHwgeFIgPj0gZjMyKCR7bH0pIHx8IGZyYWN0KHhSKSA+IDAuMCkgewogICAgICAgIHJldHVybiAke2F9KDAuMCk7CiAgICAgIH0KICAgICAgaWYgKHhDIDwgMC4wIHx8IHhDID49IGYzMigke2R9KSB8fCBmcmFjdCh4QykgPiAwLjApIHsKICAgICAgICByZXR1cm4gJHthfSgwLjApOwogICAgICB9CiAgICAgIGxldCBpWFIgPSBpMzIoeFIpOwogICAgICBsZXQgaVhDID0gaTMyKHhDKTsKICAgICAgbGV0IHhDaCA9ICR7dX0gJSBpbkNoYW5uZWxzOwogICAgICAke3N9CiAgICAgIHJldHVybiB4W2dldEluZGV4RnJvbUNvb3JkczREKGNvb3JkLCB2ZWM0PGkzMj4odW5pZm9ybXMueF9zaGFwZSkpLyR7bn1dO2AsZj10P2AKICAgICAgbGV0IGNvbCA9IGNvbEluICogJHtufTsKICAgICAgaWYgKHJvdyA8IHVuaWZvcm1zLmRpbUFPdXRlciAmJiBjb2wgPCB1bmlmb3Jtcy5kaW1Jbm5lcikgewogICAgICAgICR7aH0KICAgICAgfQogICAgICByZXR1cm4gJHthfSgwLjApO2A6YAogICAgICBsZXQgY29sID0gY29sSW4gKiAke259OwogICAgICBpZiAocm93IDwgdW5pZm9ybXMuZGltSW5uZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltQk91dGVyKSB7CiAgICAgICAgJHtofQogICAgICB9CiAgICAgIHJldHVybiAke2F9KDAuMCk7YCxnPWAKICAgICAgbGV0IGNvbCA9IGNvbEluICogJHtufTsKICAgICAgbGV0IGluQ2hhbm5lbHMgPSAke3Q/Im91dEJhY2twcm9wWzNdIjoib3V0QmFja3Byb3BbMV0ifTsKICAgICAgbGV0IGNvb3JkWCA9IGZpbHRlckRpbXMueCAtIDEgLSByb3cgLyAoZmlsdGVyRGltc1sxXSAqIGluQ2hhbm5lbHMpOwogICAgICBsZXQgY29vcmRZID0gZmlsdGVyRGltcy55IC0gMSAtIChyb3cgLyBpbkNoYW5uZWxzKSAlIGZpbHRlckRpbXNbMV07CiAgICAgIGlmICgke3Q/InJvdyA8IHVuaWZvcm1zLmRpbUlubmVyICYmIGNvbCA8IHVuaWZvcm1zLmRpbUJPdXRlciI6InJvdyA8IHVuaWZvcm1zLmRpbUlubmVyICYmIGNvbCA8IHVuaWZvcm1zLmRpbUFPdXRlciJ9ICAmJiBjb29yZFggPj0gMCAmJiBjb29yZFkgPj0gMCkgewogICAgICAgIGxldCByb3dJbm5lciA9IHJvdyAlIGluQ2hhbm5lbHM7CiAgICAgICAgbGV0IGNvb3JkID0gdmVjNDxpMzI+KGNvb3JkWCwgY29vcmRZLCBjb2wsIHJvd0lubmVyKTsKICAgICAgICAke2kobil9CiAgICAgIH0KICAgICAgcmV0dXJuICR7YX0oMC4wKTsKICAgICAgYCx7YWN0aXZhdGlvbkZ1bmN0aW9uOnksYXBwbHlBY3RpdmF0aW9uOnd9PUZyKHIsYSk7cmV0dXJuYAogICAgICAke3l9CiAgZm4gbW1fcmVhZEEoYmF0Y2g6IGkzMiwgcm93IDogaTMyLCBjb2xJbiA6IGkzMikgLT4gJHthfSB7CiAgICAke3Q/ZjpnfQogIH0KCiAgZm4gbW1fcmVhZEIoYmF0Y2g6IGkzMiwgcm93IDogaTMyLCBjb2xJbiA6IGkzMikgLT4gJHthfSB7CiAgICAke3Q/ZzpmfQogIH0KCiAgZm4gbW1fd3JpdGUoYmF0Y2g6IGkzMiwgcm93IDogaTMyLCBjb2xJbiA6IGkzMiwgdmFsdWVJbnB1dCA6ICR7YX0pIHsKICAgIGxldCBjb2wgPSBjb2xJbiAqICR7bn07CiAgICBpZiAocm93IDwgdW5pZm9ybXMuZGltQU91dGVyICYmIGNvbCA8IHVuaWZvcm1zLmRpbUJPdXRlcikgewogICAgICB2YXIgdmFsdWUgPSB2YWx1ZUlucHV0OwogICAgICBsZXQgb3V0V2lkdGggPSAke3Q/ImkzMih1bmlmb3Jtcy5yZXN1bHRfc2hhcGVbMl0pIjoiaTMyKHVuaWZvcm1zLnJlc3VsdF9zaGFwZVszXSkifTsKICAgICAgJHtvfQogICAgICAke2lzKGUpfQogICAgICAke3d9CiAgICAgIHJlc3VsdFtnZXRJbmRleEZyb21Db29yZHM0RChjb29yZHMsIHZlYzQ8aTMyPih1bmlmb3Jtcy5yZXN1bHRfc2hhcGUpKS8ke259XSA9IHZhbHVlOwogICAgfQogIH1gfSxYZD0odCxlLHIsbixhLGkscyxvKT0+e2xldCBsPWUuZm9ybWF0PT09Ik5IV0MiLGQ9bD90WzBdLmRpbXNbM106dFswXS5kaW1zWzFdLGM9clswXSx1PWw/clsyXTpyWzNdLGg9bD9yWzFdOnJbMl0sZj1sP3JbM106clsxXSxnPWw/ZCU0PT09MCYmZiU0PT09MDp1JTQ9PT0wJiZmJTQ9PT0wLHk9bD9mOnUqaCx3PWw/dSpoOmYsdj1nP1s4LDgsMV06W3k8PTR8fHc8PTQ/NDoxNix5PjQmJnc8PTQ/NDoxNiwxXSxrPWc/WzQsNCwxXTpbeTw9ND8xOjQseT40JiZ3PD00PzE6NCwxXSxFPVtNYXRoLmNlaWwoeS92WzBdL2tbMF0pLE1hdGguY2VpbCh3L3ZbMV0va1sxXSksTWF0aC5jZWlsKGMvdlsyXS9rWzJdKV07YXQoInZlcmJvc2UiLCgpPT5gW2NvbnZfYmFja3Byb3BfbW1fd2ViZ3B1XSBkaXNwYXRjaCA9ICR7RX1gKTtsZXQgeD1nPzQ6MSxJPU1hdGgubWF4KHZbMF0qeCx2WzFdKSxUPWc/NDoxLEI9W3t0eXBlOiJpbnQzMiIsZGF0YTpufSx7dHlwZToiaW50MzIiLGRhdGE6YX0se3R5cGU6ImludDMyIixkYXRhOml9XSxVPUooIngiLHRbMF0uZGF0YVR5cGUsdFswXS5kaW1zLmxlbmd0aCxUKSxIPUooInciLHRbMV0uZGF0YVR5cGUsdFsxXS5kaW1zLmxlbmd0aCwxKSxLPXZlKCJyZXN1bHQiLHRbMF0uZGF0YVR5cGUsci5sZW5ndGgsVCksTz1bVSxIXTtCLnB1c2goLi4uaWUodFswXS5kaW1zKSksQi5wdXNoKC4uLmllKHRbMV0uZGltcykpO2xldCBHPSIiO2lmKHMpe2xldCBuZT1KKCJiaWFzIix0WzJdLmRhdGFUeXBlLHRbMl0uZGltcy5sZW5ndGgsVCk7Ty5wdXNoKG5lKSxCLnB1c2goLi4uaWUodFsyXS5kaW1zKSksRys9YAogICAgICAgIGZuIGdldEJpYXNCeU91dHB1dENvb3Jkcyhjb29yZHMgOiB2ZWM0PGkzMj4pIC0+ICR7Zz8idmVjNDxmMzI+IjoiZjMyIn0gewogICAgICAgICAgcmV0dXJuIGJpYXNbY29vcmRzLiR7bD8idyI6InkifSR7Zz8iLyA0IjoiIn1dOwogICAgICAgIH1gfXJldHVybiBCLnB1c2goLi4uaWUocikpLHtuYW1lOiJDb252MkRUcmFuc3Bvc2VNYXRNdWwiLHNoYWRlckNhY2hlOntoaW50OmUuY2FjaGVLZXl9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cixkYXRhVHlwZTp0WzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpFWzBdLHk6RVsxXSx6OkVbMl19LHByb2dyYW1Vbmlmb3JtczpCfSksZ2V0U2hhZGVyU291cmNlOm5lPT5gCiAgICAgICAgJHtvcygidW5pZm9ybXMucmVzdWx0X3N0cmlkZXMiKX0KICAgICAgICAke25lLnJlZ2lzdGVyVW5pZm9ybSgiZGltQU91dGVyIiwiaTMyIikucmVnaXN0ZXJVbmlmb3JtKCJkaW1CT3V0ZXIiLCJpMzIiKS5yZWdpc3RlclVuaWZvcm0oImRpbUlubmVyIiwiaTMyIikuZGVjbGFyZVZhcmlhYmxlcyguLi5PLEspfTsKICAgICAgICBjb25zdCBvdXRCYWNrcHJvcCA6IHZlYzQ8aTMyPiA9IHZlYzQ8aTMyPigke3RbMF0uZGltcy5qb2luKCIsIil9KTsKICAgICAgICBjb25zdCBmaWx0ZXJEaW1zIDogdmVjMjxpMzI+ID0gdmVjMjxpMzI+KCR7ZS5rZXJuZWxTaGFwZVtsPzE6Ml19LCAke2Uua2VybmVsU2hhcGVbbD8yOjNdfSk7CiAgICAgICAgY29uc3QgZWZmZWN0aXZlRmlsdGVyRGltcyA6IHZlYzI8aTMyPiA9IGZpbHRlckRpbXMgKyB2ZWMyPGkzMj4oCiAgICAgICAgICAgICAgJHtlLmRpbGF0aW9uc1swXTw9MT8wOihlLmtlcm5lbFNoYXBlW2w/MToyXS0xKSooZS5kaWxhdGlvbnNbMF0tMSl9LAogICAgICAgICAgICAgICR7ZS5kaWxhdGlvbnNbMV08PTE/MDooZS5rZXJuZWxTaGFwZVtsPzI6M10tMSkqKGUuZGlsYXRpb25zWzFdLTEpfSk7CiAgICAgICAgY29uc3QgcGFkcyA6IHZlYzI8aTMyPiA9IHZlYzI8aTMyPihpMzIoZWZmZWN0aXZlRmlsdGVyRGltc1swXSkgLSAxIC0gKCR7ZS5wYWRzWzBdK2UucGFkc1syXX0pLzIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTMyKGVmZmVjdGl2ZUZpbHRlckRpbXNbMV0pIC0gMSAtICgke2UucGFkc1sxXStlLnBhZHNbM119KS8yKTsKICAgICAgICBjb25zdCBzdHJpZGVzIDogdmVjMjxpMzI+ID0gdmVjMjxpMzI+KCR7ZS5zdHJpZGVzWzBdfSwgJHtlLnN0cmlkZXNbMV19KTsKICAgICAgICBjb25zdCBkaWxhdGlvbiA6IHZlYzI8aTMyPiA9IHZlYzI8aTMyPigke2UuZGlsYXRpb25zWzBdfSwgJHtlLmRpbGF0aW9uc1sxXX0pOwogICAgICAgIGNvbnN0IGRpbUFPdXRlciA6IGkzMiA9ICR7bn07CiAgICAgICAgY29uc3QgZGltQk91dGVyIDogaTMyID0gJHthfTsKICAgICAgICBjb25zdCBkaW1Jbm5lciA6IGkzMiA9ICR7aX07CiAgICAgICAgJHtHfQogICAgICAgICR7WWQobCxzLGUseCl9CiAgICAgICAgJHtnP0lhKGssdiwiZjMyIix2b2lkIDAsIWwsSSk6QWEoayx2LCJmMzIiLHZvaWQgMCwhbCxJLCExLHZvaWQgMCxvKX1gfX19KSxRZCxfcyxtXz1RKCgpPT57dnIoKSxJZSgpLENlKCksUWQ9KHQsZSxyLG4sYSxpLHM9ITEsbyk9PntsZXQgbD1yLmZvcm1hdD09PSJOSFdDIixkPWw/MToyLGM9bD8yOjMsdT1sPzM6MSxoPWVlLnNpemUobiksZj1zPzI6MSxnPXIuZ3JvdXAseT1lWzFdLmRpbXMsdz15WzBdL2csdj15WzFdLGs9YAogIGZuIHNldE91dHB1dEF0SW5kZXgoZmxhdEluZGV4IDogdTMyLCB2YWx1ZSA6ICR7cz9gdmVjNDwke299PmA6b30pIHsKICAgIHJlc3VsdFtmbGF0SW5kZXhdID0gJHtzP2B2ZWM0PCR7b30+YDpvfSh2YWx1ZSk7CiAgfWA7YSYmKGsrPWAKICAgIGZuIGdldEJpYXNCeU91dHB1dENvb3Jkcyhjb29yZHMgOiB2ZWM0PHUzMj4pIC0+ICR7cz9gdmVjNDwke299PmA6b30gewogICAgICByZXR1cm4gYmlhc1tjb29yZHMuJHtsPyJ3IjoieSJ9JHtzPyIvIDQiOiIifV07CiAgICB9YCk7bGV0IEU9cz80OjEseD1KKCJXIixlWzFdLmRhdGFUeXBlLGVbMV0uZGltcyxFKSxJPUooIkR5IixlWzBdLmRhdGFUeXBlLGVbMF0uZGltcyxFKSxUPVtJLHhdO2EmJlQucHVzaChKKCJiaWFzIixlWzJdLmRhdGFUeXBlLFtuW3VdXSxFKSk7bGV0IEI9dmUoInJlc3VsdCIsZVswXS5kYXRhVHlwZSxuLEUpLFU9YHsKICAgICAgICBsZXQgYmF0Y2g6IHUzMiA9ICR7aT8iZ2xvYmFsX2lkLnoiOiJ3b3JrZ3JvdXBfaWQueiJ9IC8gb3V0U2hhcGVbMV07CiAgICAgICAgbGV0IHIgPSAke2k/Imdsb2JhbF9pZC56Ijoid29ya2dyb3VwX2lkLnoifSAlIG91dFNoYXBlWzFdOwogICAgICAgIGxldCBjID0gJHtpPyJnbG9iYWxfaWQueSI6Indvcmtncm91cF9pZC55In0gKiAke2Z9OwogICAgICAgIGxldCBkMTogdTMyID0gJHtpPyJnbG9iYWxfaWQueCI6Indvcmtncm91cF9pZC54In0gKiA0OwoKICAgICAgICBsZXQgZHlDb3JuZXIgPSB2ZWMyPGkzMj4oaTMyKHIpLCBpMzIoYykpIC0gdmVjMjxpMzI+KHBhZHMpOwoKICAgICAgICAvLyBDb252b2x2ZSBkeSg/LCA/LCBkMikgd2l0aCB3KDosIDosIGQxLCBkMikgdG8gY29tcHV0ZSBkeCh4UiwgeEMsIGQxKS4KICAgICAgICAvLyA/ID0gdG8gYmUgZGV0ZXJtaW5lZC4gOiA9IGFjcm9zcyBhbGwgdmFsdWVzIGluIHRoYXQgYXhpcy4KICAgICAgICB2YXIgZG90UHJvZDogYXJyYXk8dmVjNDwke299PiwgJHtmfT47CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAke2Z9OyBpKyspIHsKICAgICAgICAgIGRvdFByb2RbaV0gPSB2ZWM0PCR7b30+KDAuMCk7CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIHdSOiB1MzIgPSAwOyB3UiA8IGZpbHRlckRpbXNbMF07IHdSID0gd1IgKyAxKSB7CiAgICAgICAgICB2YXIgZHlSID0gKCR7b30oZHlDb3JuZXIueCkgKyAke299KHdSKSkgLyAke299KHN0cmlkZXMueCk7CiAgICAgICAgICBsZXQgd1JQZXJtID0gZmlsdGVyRGltc1swXSAtIDEgLSB3UjsKICAgICAgICAgIGlmIChkeVIgPCAwLjAgfHwgZHlSID49ICR7b30ob3V0QmFja3Byb3BbMV0pIHx8CiAgICAgICAgICAgICAgZnJhY3QoZHlSKSA+IDAuMCB8fCB3UlBlcm0gPCAwKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgbGV0IGlkeVI6IHUzMiA9IHUzMihkeVIpOwoKICAgICAgICAgIGZvciAodmFyIHdDOiB1MzIgPSAwOyB3QyA8IGZpbHRlckRpbXNbMV07IHdDID0gd0MgKyAxKSB7CiAgICAgICAgICAgIGxldCBkeUMgPSAoJHtvfShkeUNvcm5lci55KSArICR7b30od0MpKSAvICR7b30oc3RyaWRlcy55KTsKICAgICAgICAgICAgbGV0IGR5QzIgPSAoJHtvfShkeUNvcm5lci55KSArIDEuMCArICR7b30od0MpKSAvICR7b30oc3RyaWRlcy55KTsKICAgICAgICAgICAgbGV0IHdDUGVybSA9IGZpbHRlckRpbXNbMV0gLSAxIC0gd0M7CiAgICAgICAgICAgIGlmICh3Q1Blcm0gPCAwKSB7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGJEeUNWYWwgPSB0cnVlOwogICAgICAgICAgICB2YXIgYkR5Q1ZhbDIgPSB0cnVlOwogICAgICAgICAgICBpZiAoZHlDIDwgMC4wIHx8IGR5QyA+PSAke299KG91dEJhY2twcm9wWzJdKSB8fAogICAgICAgICAgICAgICAgZnJhY3QoZHlDKSA+IDAuMCkgewogICAgICAgICAgICAgIGJEeUNWYWwgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZHlDMiA8IDAuMCB8fCBkeUMyID49ICR7b30ob3V0QmFja3Byb3BbMl0pIHx8CiAgICAgICAgICAgICAgICBmcmFjdChkeUMyKSA+IDAuMCkgewogICAgICAgICAgICAgIGJEeUNWYWwyID0gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxldCBpZHlDOiB1MzIgPSB1MzIoZHlDKTsKICAgICAgICAgICAgbGV0IGlkeUMyOiB1MzIgPSB1MzIoZHlDMik7CiAgICAgICAgICAgIGlmIChiRHlDVmFsICYmIGJEeUNWYWwyKSB7CiAgICAgICAgICAgICAgbGV0IGQyTGVuZ3RoID0gb3V0QmFja3Byb3BbM107CiAgICAgICAgICAgICAgZm9yICh2YXIgZDIgOnUzMiA9IDA7IGQyIDwgZDJMZW5ndGg7IGQyID0gZDIgKyA0KSB7CiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMCA9ICR7eC5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSIsImQyIil9OwogICAgICAgICAgICAgICAgbGV0IHdWYWx1ZTEgPSAke3guZ2V0KCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIiwiZDEgKyAxIiwiZDIiKX07CiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMiA9ICR7eC5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDIiLCJkMiIpfTsKICAgICAgICAgICAgICAgIGxldCB3VmFsdWUzID0gJHt4LmdldCgidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIsImQxICsgMyIsImQyIil9OwoKICAgICAgICAgICAgICAgIHZhciB4VmFsdWUgPSAke0kuZ2V0KCJiYXRjaCIsImlkeVIiLCJpZHlDIiwiZDIiKX07CiAgICAgICAgICAgICAgICBsZXQgdG1wdmFsID0gdmVjNDwke299Pihkb3QoeFZhbHVlLCB3VmFsdWUwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUzKSk7CiAgICAgICAgICAgICAgICBkb3RQcm9kWzBdID0gZG90UHJvZFswXSArIHRtcHZhbDsKCiAgICAgICAgICAgICAgICB4VmFsdWUgPSAgJHtJLmdldCgiYmF0Y2giLCJpZHlSIiwiaWR5QzIiLCJkMiIpfTsKCiAgICAgICAgICAgICAgICBkb3RQcm9kWzFdID0gZG90UHJvZFsxXSArIHZlYzQ8JHtvfT4oZG90KHhWYWx1ZSwgd1ZhbHVlMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCh4VmFsdWUsIHdWYWx1ZTIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMykpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChiRHlDVmFsKSB7CiAgICAgICAgICAgICAgbGV0IGQyTGVuZ3RoID0gb3V0QmFja3Byb3BbJHt1fV07CiAgICAgICAgICAgICAgZm9yICh2YXIgZDI6IHUzMiA9IDA7IGQyIDwgZDJMZW5ndGg7IGQyID0gZDIgKyA0KSB7CiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMCA9ICR7eC5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSIsImQyIil9OwogICAgICAgICAgICAgICAgbGV0IHdWYWx1ZTEgPSAke3guZ2V0KCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIiwiZDEgKyAxIiwiZDIiKX07CiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMiA9ICR7eC5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDIiLCJkMiIpfTsKICAgICAgICAgICAgICAgIGxldCB3VmFsdWUzID0gJHt4LmdldCgidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIsImQxICsgMyIsImQyIil9OwoKICAgICAgICAgICAgICAgIHZhciB4VmFsdWUgPSAke0kuZ2V0KCJiYXRjaCIsImlkeVIiLCJpZHlDIiwiZDIiKX07CiAgICAgICAgICAgICAgICBsZXQgdG1wdmFsID0gdmVjNDwke299Pihkb3QoeFZhbHVlLCB3VmFsdWUwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUzKSk7CiAgICAgICAgICAgICAgICBkb3RQcm9kWzBdID0gZG90UHJvZFswXSArIHRtcHZhbDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoYkR5Q1ZhbDIpIHsKICAgICAgICAgICAgICBsZXQgZDJMZW5ndGggPSBvdXRCYWNrcHJvcFszXTsKICAgICAgICAgICAgICBmb3IgKHZhciBkMjogdTMyID0gMDsgZDIgPCBkMkxlbmd0aDsgZDIgPSBkMiArIDQpIHsKICAgICAgICAgICAgICAgIGxldCB3VmFsdWUwID0gJHt4LmdldCgidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIsImQxIiwiZDIiKX07CiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMSA9ICR7eC5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDEiLCJkMiIpfTsKICAgICAgICAgICAgICAgIGxldCB3VmFsdWUyID0gJHt4LmdldCgidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIsImQxICsgMiIsImQyIil9OwogICAgICAgICAgICAgICAgbGV0IHdWYWx1ZTMgPSAke3guZ2V0KCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIiwiZDEgKyAzIiwiZDIiKX07CgogICAgICAgICAgICAgICAgdmFyIHhWYWx1ZSA9ICR7SS5nZXQoImJhdGNoIiwiaWR5UiIsImlkeUMyIiwiZDIiKX07CiAgICAgICAgICAgICAgICBsZXQgdG1wdmFsID0gdmVjNDwke299Pihkb3QoeFZhbHVlLCB3VmFsdWUwKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUzKSk7CiAgICAgICAgICAgICAgICBkb3RQcm9kWzFdID0gZG90UHJvZFsxXSArIHRtcHZhbDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZvciAodmFyIGk6IHUzMiA9IDA7IGkgPCAke2Z9OyBpID0gaSArIDEpIHsKICAgICAgICAgIGxldCB2YWx1ZSA9IGRvdFByb2RbaV0gKyAke2E/ImJpYXNbYytpXSI6YHZlYzQ8JHtvfT4oMC4wKWB9OwogICAgICAgICAgJHtCLnNldCgiYmF0Y2giLCJyIiwiYyArIGkiLCJkMSIsInZhbHVlIil9OwogICAgICAgIH0KICAgICAgfWAsSD1gCiAgICAgICAgICBsZXQgb3V0cHV0SW5kaWNlcyA9ICR7Qi5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07CiAgICAgICAgICBsZXQgYmF0Y2ggPSAke0IuaW5kaWNlc0dldCgib3V0cHV0SW5kaWNlcyIsMCl9OwogICAgICAgICAgbGV0IGQxID0gJHtCLmluZGljZXNHZXQoIm91dHB1dEluZGljZXMiLHUpfTsKICAgICAgICAgIGxldCByID0gJHtCLmluZGljZXNHZXQoIm91dHB1dEluZGljZXMiLGQpfTsKICAgICAgICAgIGxldCBjID0gJHtCLmluZGljZXNHZXQoIm91dHB1dEluZGljZXMiLGMpfTsKICAgICAgICAgIGxldCBkeUNvcm5lciA9IHZlYzI8aTMyPihpMzIociksIGkzMihjKSkgLSBwYWRzOwogICAgICAgICAgbGV0IGR5UkNvcm5lciA9IGR5Q29ybmVyLng7CiAgICAgICAgICBsZXQgZHlDQ29ybmVyID0gZHlDb3JuZXIueTsKICAgICAgICAgIGxldCBncm91cElkID0gZDEgLyAke3Z9OwogICAgICAgICAgbGV0IHdPdXRDaGFubmVsID0gZDEgLSBncm91cElkICogJHt2fTsKICAgICAgICAgIC8vIENvbnZvbHZlIGR5KD8sID8sIGQyKSB3aXRoIHcoOiwgOiwgZDEsIGQyKSB0byBjb21wdXRlIGR4KHhSLCB4QywgZDEpLgogICAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWQuIDogPSBhY3Jvc3MgYWxsIHZhbHVlcyBpbiB0aGF0IGF4aXMuCiAgICAgICAgICB2YXIgZG90UHJvZCA9ICR7b30oMC4wKTsKICAgICAgICAgIGZvciAodmFyIHdSOiB1MzIgPSAwOyB3UiA8IGVmZmVjdGl2ZUZpbHRlckRpbXMueDsgd1IgPSB3UiArIDEpIHsKICAgICAgICAgICAgaWYgKHdSICUgZGlsYXRpb25zLnggIT0gMCkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBkeVIgPSAoJHtvfShkeVJDb3JuZXIpICsgJHtvfSh3UikpIC8gJHtvfShzdHJpZGVzWzBdKTsKICAgICAgICAgICAgbGV0IHdSUGVybSA9IGZpbHRlckRpbXMueCAtIDEgLSB3UiAvIGRpbGF0aW9ucy54OwogICAgICAgICAgICBpZiAoZHlSIDwgMC4wIHx8IGR5UiA+PSAke299KG91dEJhY2twcm9wWyR7ZH1dKSB8fCBmcmFjdChkeVIpID4gMC4wIHx8CiAgICAgICAgICAgICAgICB3UlBlcm0gPCAwKSB7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IGlkeVI6IHUzMiA9IHUzMihkeVIpOwoKICAgICAgICAgICAgZm9yICh2YXIgd0M6IHUzMiA9IDA7IHdDIDwgZWZmZWN0aXZlRmlsdGVyRGltcy55OyB3QyA9IHdDICsgMSkgewogICAgICAgICAgICAgIGlmICh3QyAlIGRpbGF0aW9ucy55ICE9IDApIHsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBsZXQgZHlDID0gKCR7b30oZHlDQ29ybmVyKSArICR7b30od0MpKSAvICR7b30oc3RyaWRlcy55KTsKICAgICAgICAgICAgICBsZXQgd0NQZXJtID0gZmlsdGVyRGltcy55IC0gMSAtIHdDIC8gZGlsYXRpb25zLnk7CiAgICAgICAgICAgICAgaWYgKGR5QyA8IDAuMCB8fCBkeUMgPj0gJHtvfShvdXRCYWNrcHJvcFske2N9XSkgfHwKICAgICAgICAgICAgICAgICAgZnJhY3QoZHlDKSA+IDAuMCB8fCB3Q1Blcm0gPCAwKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgbGV0IGlkeUM6IHUzMiA9IHUzMihkeUMpOwogICAgICAgICAgICAgIHZhciBpbnB1dENoYW5uZWwgPSBncm91cElkICogJHt3fTsKICAgICAgICAgICAgICBmb3IgKHZhciBkMjogdTMyID0gMDsgZDIgPCAke3d9OyBkMiA9IGQyICsgMSkgewogICAgICAgICAgICAgICAgbGV0IHhWYWx1ZSA9ICR7bD9JLmdldCgiYmF0Y2giLCJpZHlSIiwiaWR5QyIsImlucHV0Q2hhbm5lbCIpOkkuZ2V0KCJiYXRjaCIsImlucHV0Q2hhbm5lbCIsImlkeVIiLCJpZHlDIil9OwogICAgICAgICAgICAgICAgbGV0IHdWYWx1ZSA9ICR7eC5nZXQoImlucHV0Q2hhbm5lbCIsIndPdXRDaGFubmVsIiwidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIpfTsKICAgICAgICAgICAgICAgIGRvdFByb2QgPSBkb3RQcm9kICsgeFZhbHVlICogd1ZhbHVlOwogICAgICAgICAgICAgICAgaW5wdXRDaGFubmVsID0gaW5wdXRDaGFubmVsICsgMTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGxldCB2YWx1ZSA9IGRvdFByb2QgKyAke2E/ImJpYXNbZDFdIjpgJHtvfSgwLjApYH07CiAgICAgICAgICAke0Iuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJ2YWx1ZSIpfTsKICAgICAgICBgO3JldHVybmAKICAke3QuZGVjbGFyZVZhcmlhYmxlcyguLi5ULEIpfQogICR7a30KICBjb25zdCBvdXRTaGFwZSA6IHZlYzQ8dTMyPiA9IHZlYzQ8dTMyPigke24uam9pbigiLCIpfSk7CiAgY29uc3Qgb3V0QmFja3Byb3AgOiB2ZWM0PHUzMj4gPSB2ZWM0PHUzMj4oJHtlWzBdLmRpbXMuam9pbigiLCIpfSk7CiAgY29uc3Qgc3RyaWRlcyA6IHZlYzI8dTMyPiA9IHZlYzI8dTMyPigke3Iuc3RyaWRlc1swXX0sICR7ci5zdHJpZGVzWzFdfSk7CiAgY29uc3QgZmlsdGVyRGltcyA6IHZlYzI8dTMyPiA9IHZlYzI8dTMyPigke3Iua2VybmVsU2hhcGVbbD8xOjJdfSwgJHtyLmtlcm5lbFNoYXBlW2w/MjozXX0pOwogIGNvbnN0IGRpbGF0aW9ucyA6IHZlYzI8dTMyPiA9IHZlYzI8dTMyPigke3IuZGlsYXRpb25zWzBdfSwgJHtyLmRpbGF0aW9uc1sxXX0pOwogIGNvbnN0IGVmZmVjdGl2ZUZpbHRlckRpbXMgOiB2ZWMyPHUzMj4gPSBmaWx0ZXJEaW1zICsgdmVjMjx1MzI+KAogICAgICAgICAgJHtyLmRpbGF0aW9uc1swXTw9MT8wOihyLmtlcm5lbFNoYXBlW2w/MToyXS0xKSooci5kaWxhdGlvbnNbMF0tMSl9LAogICAgICAgICAgJHtyLmRpbGF0aW9uc1sxXTw9MT8wOihyLmtlcm5lbFNoYXBlW2w/MjozXS0xKSooci5kaWxhdGlvbnNbMV0tMSl9KTsKICBjb25zdCBwYWRzIDogdmVjMjxpMzI+ID0gdmVjMjxpMzI+KGkzMihlZmZlY3RpdmVGaWx0ZXJEaW1zWzBdKSAtIDEgLSAoJHtyLnBhZHNbMF0rci5wYWRzWzJdfSkvMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkzMihlZmZlY3RpdmVGaWx0ZXJEaW1zWzFdKSAtIDEgLSAoJHtyLnBhZHNbMV0rci5wYWRzWzNdfSkvMik7CiAgICAke3QubWFpblN0YXJ0KCl9CiAgICAke3QuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcyhoKX07CiAgJHtzP1U6SH19YH0sX3M9KHQsZSxyKT0+e2xldCBuPXQubGVuZ3RoPjIsYT1lLm91dHB1dFNoYXBlLGk9ZWUuc2l6ZShhKSxzPVtNYXRoLmNlaWwoaS82NCksMSwxXTthdCgidmVyYm9zZSIsKCk9PmBbY29udjJkX2JhY2twcm9wX3dlYmdwdV0gZGlzcGF0Y2ggPSAke3N9YCk7bGV0IG89SXQodFswXS5kYXRhVHlwZSk7cmV0dXJue25hbWU6IkNvbnZUcmFuc3Bvc2UyRCIsc2hhZGVyQ2FjaGU6e2hpbnQ6ZS5jYWNoZUtleX0sZ2V0UnVuRGF0YTooKT0+KHtkaXNwYXRjaEdyb3VwOnt4OnNbMF0seTpzWzFdLHo6c1syXX0sb3V0cHV0czpbe2RpbXM6cj9yKGEpOmEsZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dfSksZ2V0U2hhZGVyU291cmNlOmw9PlFkKGwsdCxlLGEsbixzWzFdPT09MSYmc1syXT09PTEsITEsbyl9fX0pLFpkLEpkLGVjLHlzLHRjLHJjLG5jLGFjLGljLHNjLGdfPVEoKCk9PntpdCgpLGZfKCksbV8oKSxicigpLGhuKCksWmQ9KHQsZSxyLG4sYSxpKT0+KHQtMSkqZStyKyhuLTEpKmErMS1pLEpkPSh0LGUscixuLGEpPT57bGV0IGk9TWF0aC5mbG9vcih0LzIpO2U9PT0iU0FNRV9VUFBFUiI/KHJbbl09aSxyW2FdPXQtaSk6ZT09PSJTQU1FX0xPV0VSIiYmKHJbbl09dC1pLHJbYV09aSl9LGVjPSh0LGUscixuLGEsaSxzLG8sbCxkKT0+e2xldCBjPXQubGVuZ3RoLTIsdT1kLmxlbmd0aD09PTA7aWYobC5sZW5ndGg9PT0wKWZvcihsZXQgZz0wO2c8YzsrK2cpbC5wdXNoKDApO2xldCBoPXRbMF0sZj1lW28/MzoxXSphO2ZvcihsZXQgZz0wLHk9dC5sZW5ndGgtYy0obz8xOjApO2c8YzsrK2csKyt5KXtsZXQgdz10W3ldLHY9dT93KnNbZ106ZFtnXSxrPVpkKHcsc1tnXSxpW2ddLGVbeV0scltnXSx2KTtKZChrLG4saSxnLGcrYyksdSYmZC5wdXNoKHNbZ10qKHctMSkrbFtnXSsoZVt5XS0xKSpyW2ddKzEtaVtnXS1pW2crY10pfWQuc3BsaWNlKDAsMCxoKSxkLnNwbGljZShvPzM6MSwwLGYpfSx5cz0odCxlKT0+e2xldCByPXQua2VybmVsU2hhcGUuc2xpY2UoKTtpZih0Lmtlcm5lbFNoYXBlLmxlbmd0aD09PTB8fHQua2VybmVsU2hhcGUucmVkdWNlKChoLGYpPT5oKmYsMSk9PT0wKXtyLmxlbmd0aD0wO2ZvcihsZXQgaD0yO2g8ZVsxXS5kaW1zLmxlbmd0aDsrK2gpci5wdXNoKGVbMV0uZGltc1toXSl9bGV0IG49dC5mb3JtYXQ9PT0iTkhXQyI7ci5zcGxpY2UoMCwwLGVbMV0uZGltc1swXSksci5zcGxpY2Uobj8zOjEsMCxlWzFdLmRpbXNbMV0pO2xldCBhPXQucGFkcy5zbGljZSgpLGk9dC5vdXRwdXRTaGFwZS5zbGljZSgpLHM9dC5vdXRwdXRQYWRkaW5nLnNsaWNlKCksbz1lWzBdLmRpbXMsbD10LmRpbGF0aW9ucy5zbGljZSgpO2lmKGwucmVkdWNlKChoLGYpPT5oK2YsMCk9PT0wKXtsZXQgaD1lWzBdLmRpbXMubGVuZ3RoLTI7bD1uZXcgQXJyYXkoaCkuZmlsbCgxKX1sZXQgZD10LnN0cmlkZXMuc2xpY2UoKTtpZihkLnJlZHVjZSgoaCxmKT0+aCtmLDApPT09MCl7bGV0IGg9ZVswXS5kaW1zLmxlbmd0aC0yO2Q9bmV3IEFycmF5KGgpLmZpbGwoMSl9ZWMobyxyLGwsdC5hdXRvUGFkLHQuZ3JvdXAsYSxkLG4scyxpKTtsZXQgYz1PYmplY3QuYXNzaWduKHt9LHQpLHU9dC5jYWNoZUtleStbci5qb2luKCJuLCIpLGEuam9pbigiLCIpLGQuam9pbigiLCIpLHMuam9pbigiLCIpLGkuam9pbigiLCIpLGwuam9pbigiLCIpXS5qb2luKCJfIik7cmV0dXJuIE9iamVjdC5hc3NpZ24oYyx7a2VybmVsU2hhcGU6cixwYWRzOmEsb3V0cHV0UGFkZGluZzpzLG91dHB1dFNoYXBlOmksZGlsYXRpb25zOmwsc3RyaWRlczpkLGNhY2hlS2V5OnV9KSxjfSx0Yz10PT57bGV0IGU9YXModCkscj10LmZvcm1hdCxuPVsiTk9UU0VUIiwiVkFMSUQiLCJTQU1FX1VQUEVSIiwiU0FNRV9MT1dFUiJdW3R5cGVvZiB0LmF1dG9QYWQ+InUiPzA6dC5hdXRvUGFkXSxhPXQuZGlsYXRpb25zLGk9dC5ncm91cCxzPXQua2VybmVsU2hhcGUsbz10LnBhZHMsbD10LnN0cmlkZXMsZD10LndJc0NvbnN0KCksYz10Lm91dHB1dFBhZGRpbmcsdT10Lm91dHB1dFNoYXBlO3JldHVybiBxZSh7YXV0b1BhZDpuLGZvcm1hdDpyLGRpbGF0aW9uczphLGdyb3VwOmksa2VybmVsU2hhcGU6cyxvdXRwdXRQYWRkaW5nOmMsb3V0cHV0U2hhcGU6dSxwYWRzOm8sc3RyaWRlczpsLHdJc0NvbnN0OmQsLi4uZX0pfSxyYz0odCxlKT0+e2lmKCF0fHx0Lmxlbmd0aCE9PTImJnQubGVuZ3RoIT09Myl0aHJvdyBuZXcgRXJyb3IoIkNvbnYgcmVxdWlyZXMgMiBvciAzIGlucHV0cyIpO2lmKHRbMF0uZGltcy5sZW5ndGghPT00JiZ0WzBdLmRpbXMubGVuZ3RoIT09Myl0aHJvdyBuZXcgRXJyb3IoImN1cnJlbnRseSBvbmx5IHN1cHBvcnQgMi1kaW1lbnNpb25hbCBjb252Iik7aWYodFswXS5kaW1zLmxlbmd0aCE9PXRbMV0uZGltcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJmaWx0ZXIgZG9lcyBub3QgaGF2ZSBzYW1lIGRpbWVuc2lvbiBhcyBpbnB1dCIpO2xldCByPXRbMF0uZGltc1tlLmZvcm1hdD09PSJOSFdDIj90WzBdLmRpbXMubGVuZ3RoLTE6MV0sbj10WzFdLmRpbXNbMF07aWYociE9PW4pdGhyb3cgbmV3IEVycm9yKCJGSUxURVJfSU5fQ0hBTk5FTCBzaG91bGQgYmUgZXF1YWwgdG8gREFUQV9DSEFOTkVMIik7bGV0IGE9dFsxXS5kaW1zWzFdKmUuZ3JvdXA7aWYodC5sZW5ndGg9PT0zJiYodFsyXS5kaW1zLmxlbmd0aCE9PTF8fHRbMl0uZGltc1swXSE9PWEpKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBiaWFzIik7bGV0IGk9dFswXS5kaW1zLmxlbmd0aC0yO2lmKGUuZGlsYXRpb25zLnJlZHVjZSgocyxvKT0+cytvLDApPjAmJmUuZGlsYXRpb25zLmxlbmd0aCE9PWkpdGhyb3cgbmV3IEVycm9yKGBkaWxhdGlvbnMgc2hvdWxkIGJlICR7aX1EYCk7aWYoZS5zdHJpZGVzLnJlZHVjZSgocyxvKT0+cytvLDApPjAmJmUuc3RyaWRlcy5sZW5ndGghPT1pKXRocm93IG5ldyBFcnJvcihgc3RyaWRlcyBzaG91bGQgYmUgJHtpfURgKTtpZihlLnBhZHMucmVkdWNlKChzLG8pPT5zK28sMCk+MCYmZS5wYWRzLmxlbmd0aCE9PWkqMil0aHJvdyBuZXcgRXJyb3IoYHBhZHMgc2hvdWxkIGJlICR7aSoyfURgKTtpZihlLm91dHB1dFBhZGRpbmcubGVuZ3RoIT09aSYmZS5vdXRwdXRQYWRkaW5nLmxlbmd0aCE9PTApdGhyb3cgbmV3IEVycm9yKGBvdXRwdXRfcGFkZGluZyBzaG91bGQgYmUgJHtpfURgKTtpZihlLmtlcm5lbFNoYXBlLnJlZHVjZSgocyxvKT0+cytvLDApPjAmJmUua2VybmVsU2hhcGUubGVuZ3RoIT09MCYmZS5rZXJuZWxTaGFwZS5sZW5ndGghPT10WzFdLmRpbXMubGVuZ3RoLTIpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGtlcm5lbCBzaGFwZSIpO2lmKGUub3V0cHV0U2hhcGUubGVuZ3RoIT09MCYmZS5vdXRwdXRTaGFwZS5sZW5ndGghPT10WzBdLmRpbXMubGVuZ3RoLTIpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIG91dHB1dCBzaGFwZSIpfSxuYz1bMiwzLDEsMF0sYWM9KHQsZSxyKT0+e2xldCBuPXlzKHIsZSksYT1yLmZvcm1hdD09PSJOSFdDIixpPW4ub3V0cHV0U2hhcGUscz1pW2E/MzoxXSxvPWVbMF0uZGltc1thPzM6MV07aWYobi5ncm91cCE9PTF8fHM9PT0xJiZvPT09MSl7dC5jb21wdXRlKF9zKGUsbikpO3JldHVybn1sZXQgbD1pW2E/MToyXSxkPWlbYT8yOjNdLGM9ZVsxXS5kaW1zWzJdLHU9ZVsxXS5kaW1zWzNdLGg9YT9sKmQ6cyxmPWE/czpsKmQsZz1jKnUqbyx5PSEwLHc9dC5rZXJuZWxDdXN0b21EYXRhLndUPz90LmNvbXB1dGUoZHIoZVsxXSxuYykse2lucHV0czpbMV0sb3V0cHV0czpbci53SXNDb25zdD8tMjotMV19KVswXTtyLndJc0NvbnN0JiYhdC5rZXJuZWxDdXN0b21EYXRhLndUJiYodC5rZXJuZWxDdXN0b21EYXRhLndUPXcpO2xldCB2PVtlWzBdLHddLGs9ZS5sZW5ndGg9PT0zO2smJighYSYmZVsyXS5kaW1zLmxlbmd0aD09PTE/di5wdXNoKGVbMl0ucmVzaGFwZShbZVsyXS5kaW1zWzBdLDEsMV0pKTp2LnB1c2goZVsyXSkpLHQuY29tcHV0ZShYZCh2LG4saSxoLGYsZyxrLHkpLHtpbnB1dHM6dn0pfSxpYz0odCxlKT0+e2xldCByPWUuZm9ybWF0PT09Ik5IV0MiLG49W3QuaW5wdXRzWzBdLnJlc2hhcGUocj9bdC5pbnB1dHNbMF0uZGltc1swXSwxLHQuaW5wdXRzWzBdLmRpbXNbMV0sdC5pbnB1dHNbMF0uZGltc1syXV06W3QuaW5wdXRzWzBdLmRpbXNbMF0sdC5pbnB1dHNbMF0uZGltc1sxXSwxLHQuaW5wdXRzWzBdLmRpbXNbMl1dKSx0LmlucHV0c1sxXS5yZXNoYXBlKFt0LmlucHV0c1sxXS5kaW1zWzBdLHQuaW5wdXRzWzFdLmRpbXNbMV0sMSx0LmlucHV0c1sxXS5kaW1zWzJdXSldO24ubGVuZ3RoPT09MyYmbi5wdXNoKHQuaW5wdXRzWzJdKTtsZXQgYT1lLmtlcm5lbFNoYXBlOyhhLmxlbmd0aD09PTB8fGFbMF09PT0wKSYmKGE9W3QuaW5wdXRzWzFdLmRpbXNbMl1dKTtsZXQgaT1lLmRpbGF0aW9uczsoaS5sZW5ndGg9PT0wfHxpWzBdPT09MCkmJihpPVsxXSk7bGV0IHM9ZS5zdHJpZGVzOyhzLmxlbmd0aD09PTB8fHNbMF09PT0wKSYmKHM9WzFdKTtsZXQgbz1lLnBhZHM7by5sZW5ndGg9PT0wJiYobz1bMCwwXSksbz1bMCxvWzBdLDAsb1sxXV0scz1bMV0uY29uY2F0KHMpLGk9WzFdLmNvbmNhdChpKSxhPVsxXS5jb25jYXQoYSk7bGV0IGw9eXMoey4uLmUscGFkczpvLHN0cmlkZXM6cyxkaWxhdGlvbnM6aSxrZXJuZWxTaGFwZTphfSxuKTt0LmNvbXB1dGUoX3MobixsLGQ9PnI/W2RbMF0sZFsyXSxkWzNdXTpbZFswXSxkWzFdLGRbM11dKSl9LHNjPSh0LGUpPT57cmModC5pbnB1dHMsZSksdC5pbnB1dHNbMF0uZGltcy5sZW5ndGg9PT0zP2ljKHQsZSk6YWModCx0LmlucHV0cyxlKX19KSxvYyxsYyx1YyxfXz1RKCgpPT57WWUoKSxJZSgpLGl0KCksQ2UoKSxvYz0odCxlLHIsbik9PntsZXQgYT1lZS5zaXplKGUpLGk9ZS5sZW5ndGgscz1KKCJpbnB1dCIsdCxpKSxvPXZlKCJvdXRwdXQiLHQsaSksbD1yLmRhdGFUeXBlPT09Nj9yLmdldEludDMyQXJyYXkoKVswXTpOdW1iZXIoci5nZXRCaWdJbnQ2NEFycmF5KClbMF0pLGQ9ZWUubm9ybWFsaXplQXhpcyhsLGkpLGM9dT0+e2xldCBoPWAgaTMyKCR7cy5pbmRpY2VzR2V0KCJpbnB1dEluZGljZXMiLCJ1bmlmb3Jtcy5heGlzIil9KSBgLGY9eGUoInVuaWZvcm1zLmlucHV0X3NoYXBlIiwidW5pZm9ybXMuYXhpcyIsaSksZz1uLnJldmVyc2U/aCsobi5leGNsdXNpdmU/IiArIDEiOiIiKToiMCIseT1uLnJldmVyc2U/ZjpoKyhuLmV4Y2x1c2l2ZT8iIjoiICsgMSIpO3JldHVybmAKICAgICAgICAgICAgICAgICR7dS5yZWdpc3RlclVuaWZvcm0oIm91dHB1dFNpemUiLCJ1MzIiKS5yZWdpc3RlclVuaWZvcm0oImF4aXMiLCJ1MzIiKS5kZWNsYXJlVmFyaWFibGVzKHMsbyl9CiAgICAgICAgICAgICAgICAke3UubWFpblN0YXJ0KCl9CiAgICAgICAgICAgICAgICAgICR7dS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9CiAgICAgICAgICAgICAgICAgIHZhciBpbnB1dEluZGljZXMgPSAke28ub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9OwogICAgICAgICAgICAgICAgICB2YXIgc3VtID0gJHtvLnR5cGUudmFsdWV9KDApOwogICAgICAgICAgICAgICAgICBsZXQgZmlyc3QgOiBpMzIgPSAke2d9OwogICAgICAgICAgICAgICAgICBsZXQgbGFzdCA6IGkzMiA9ICR7eX07CiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgOiBpMzIgPSBmaXJzdDsgaSA8IGxhc3Q7IGkrKykgewogICAgICAgICAgICAgICAgICAgICR7cy5pbmRpY2VzU2V0KCJpbnB1dEluZGljZXMiLCJ1bmlmb3Jtcy5heGlzIiwidTMyKGkpIil9OwogICAgICAgICAgICAgICAgICAgIHN1bSA9IHN1bSArICR7cy5nZXRCeUluZGljZXMoImlucHV0SW5kaWNlcyIpfTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAke28uc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJzdW0iKX07CiAgICAgICAgICAgICAgICB9YH07cmV0dXJue25hbWU6IkN1bVN1bSIsc2hhZGVyQ2FjaGU6e2hpbnQ6bi5jYWNoZUtleSxpbnB1dERlcGVuZGVuY2llczpbInJhbmsiXX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczplLGRhdGFUeXBlOnR9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChhLzY0KX0scHJvZ3JhbVVuaWZvcm1zOlt7dHlwZToidWludDMyIixkYXRhOmF9LHt0eXBlOiJpbnQzMiIsZGF0YTpkfSwuLi5pZShlKSwuLi5pZShlKV19KSxnZXRTaGFkZXJTb3VyY2U6Y319LGxjPSh0LGUpPT57bGV0IHI9dC5pbnB1dHNbMF0uZGltcyxuPXQuaW5wdXRzWzBdLmRhdGFUeXBlLGE9dC5pbnB1dHNbMV07dC5jb21wdXRlKG9jKG4scixhLGUpLHtpbnB1dHM6WzBdfSl9LHVjPXQ9PntsZXQgZT10LmV4Y2x1c2l2ZT09PTEscj10LnJldmVyc2U9PT0xO3JldHVybiBxZSh7ZXhjbHVzaXZlOmUscmV2ZXJzZTpyfSl9fSksT2EsZm4sd3MsZGMsY2MscGMsaGMsdnMsZmMsbWMsZ2MseV89USgoKT0+e0llKCksaXQoKSxDZSgpLE9hPSJbYS16QS1aXXxcXC5cXC5cXC4iLGZuPSIoIitPYSsiKSsiLHdzPSJeIitmbisiJCIsZGM9IigiK2ZuKyIsKSoiK2ZuLGNjPSJeIitkYysiJCIscGM9Y2xhc3N7Y29uc3RydWN0b3IodD0tMSl7dGhpcy5zeW1ib2xUb0luZGljZXM9bmV3IE1hcCx0aGlzLmlucHV0SW5kZXg9dH1hZGRTeW1ib2wodCxlKXtsZXQgcj10aGlzLnN5bWJvbFRvSW5kaWNlcy5nZXQodCk7cj09PXZvaWQgMD9yPVtlXTpyLnB1c2goZSksdGhpcy5zeW1ib2xUb0luZGljZXMuc2V0KHQscil9fSxoYz1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuZXF1YXRpb249ZSx0aGlzLmhhc0VsbGlwc2lzPSExLHRoaXMuc3ltYm9sVG9JbmZvPW5ldyBNYXAsdGhpcy5saHM9bmV3IEFycmF5LHRoaXMub3V0cHV0RGltcz1bXTtsZXRbcixuXT1lLmluY2x1ZGVzKCItPiIpP2Uuc3BsaXQoIi0+IiwyKTpbZSwiIl07aWYoIXIubWF0Y2goUmVnRXhwKGNjKSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIExIUyB0ZXJtIik7aWYoci5zcGxpdCgiLCIpLmZvckVhY2goKGEsaSk9PntsZXQgcz10W2ldLmRpbXMuc2xpY2UoKTtpZighYS5tYXRjaChSZWdFeHAod3MpKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgTEhTIHRlcm0iKTtsZXQgbz10aGlzLnByb2Nlc3NUZXJtKGEsITAscyxpKTt0aGlzLmxocy5wdXNoKG8pfSksbj09PSIiKW4rPVsuLi50aGlzLnN5bWJvbFRvSW5mby5lbnRyaWVzKCldLmZpbHRlcigoW2EsaV0pPT5pLmNvdW50PT09MXx8YT09PSIuLi4iKS5tYXAoKFthXSk9PmEpLmpvaW4oIiIpO2Vsc2UgaWYoIW4ubWF0Y2goUmVnRXhwKGZuKSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIFJIUyIpO24ubWF0Y2goUmVnRXhwKE9hLCJnIikpPy5mb3JFYWNoKGE9PntpZihhPT09Ii4uLiIpdGhpcy5vdXRwdXREaW1zPXRoaXMub3V0cHV0RGltcy5jb25jYXQodGhpcy5lbGxpcHNpc0RpbXMpO2Vsc2V7bGV0IGk9dGhpcy5zeW1ib2xUb0luZm8uZ2V0KGEpO2lmKGk9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIFJIUyBzeW1ib2wiKTt0aGlzLm91dHB1dERpbXMucHVzaChpLmRpbVZhbHVlKX19KSx0aGlzLnJocz10aGlzLnByb2Nlc3NUZXJtKG4sITEsdGhpcy5vdXRwdXREaW1zKX1hZGRTeW1ib2wodCxlLHIpe2xldCBuPXRoaXMuc3ltYm9sVG9JbmZvLmdldCh0KTtpZihuIT09dm9pZCAwKXtpZihuLmRpbVZhbHVlIT09ZSYmbi5jb3VudCE9PTEpdGhyb3cgbmV3IEVycm9yKCJEaW1lbnNpb24gbWlzbWF0Y2giKTtuLmNvdW50Kyssbi5pbnB1dEluZGljZXMucHVzaChyKX1lbHNlIG49e2NvdW50OjEsZGltVmFsdWU6ZSxpbnB1dEluZGljZXM6W3JdfTt0aGlzLnN5bWJvbFRvSW5mby5zZXQodCxuKX1wcm9jZXNzVGVybSh0LGUscixuPS0xKXtsZXQgYT1yLmxlbmd0aCxpPSExLHM9W10sbz0wO2lmKCF0Lm1hdGNoKFJlZ0V4cCh3cykpJiYhZSYmdCE9PSIiKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBMSFMgdGVybSIpO2xldCBsPXQubWF0Y2goUmVnRXhwKE9hLCJnIikpLGQ9bmV3IHBjKG4pO3JldHVybiBsPy5mb3JFYWNoKChjLHUpPT57aWYoYz09PSIuLi4iKXtpZihpKXRocm93IG5ldyBFcnJvcigiT25seSBvbmUgZWxsaXBzaXMgaXMgYWxsb3dlZCBwZXIgaW5wdXQgdGVybSIpO2k9ITA7bGV0IGg9YS1sLmxlbmd0aCsxO2lmKGg8MCl0aHJvdyBuZXcgRXJyb3IoIkVsbGlwc2lzIG91dCBvZiBib3VuZHMiKTtpZihzPXIuc2xpY2UobyxvK2gpLHRoaXMuaGFzRWxsaXBzaXMpe2lmKHRoaXMuZWxsaXBzaXNEaW1zLmxlbmd0aCE9PXMubGVuZ3RofHx0aGlzLmVsbGlwc2lzRGltcy50b1N0cmluZygpIT09cy50b1N0cmluZygpKXRocm93IG5ldyBFcnJvcigiRWxsaXBzaXMgZGltZW5zaW9ucyBtaXNtYXRjaCIpfWVsc2UgaWYoZSl0aGlzLmhhc0VsbGlwc2lzPSEwLHRoaXMuZWxsaXBzaXNEaW1zPXM7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkVsbGlwc2lzIG11c3QgYmUgc3BlY2lmaWVkIGluIHRoZSBMSFMiKTtmb3IobGV0IGY9MDtmPHMubGVuZ3RoO2YrKyl7bGV0IGc9U3RyaW5nLmZyb21DaGFyQ29kZSg0OCtmKTtkLmFkZFN5bWJvbChnLHUrZiksdGhpcy5hZGRTeW1ib2woZyxyW28rK10sbil9fWVsc2UgZC5hZGRTeW1ib2woYyx1Kyh0aGlzLmhhc0VsbGlwc2lzP3RoaXMuZWxsaXBzaXNEaW1zLmxlbmd0aC0xOjApKSx0aGlzLmFkZFN5bWJvbChjLHJbbysrXSxuKX0pLGR9fSx2cz10PT50KyJfbWF4IixmYz0odCxlLHIsbixhKT0+e2xldCBpPWUubWFwKChoLGYpPT50W2ZdP2gubGVuZ3RoOmgpLm1hcCgoaCxmKT0+SihgaW5wdXQke2Z9YCxyLGgpKSxzPWVlLnNpemUoYSksbz1zdChhLmxlbmd0aCksbD1vP2EubGVuZ3RoOmEsZD12ZSgib3V0cHV0IixyLGwpLGM9Wy4uLm4uc3ltYm9sVG9JbmZvLmtleXMoKV0uZmlsdGVyKGg9PiFuLnJocy5zeW1ib2xUb0luZGljZXMuaGFzKGgpKSx1PWg9PntsZXQgZj1bXSxnPSJ2YXIgcHJvZCA9IDEuMDsiLHk9InZhciBzdW0gPSAwLjA7Iix3PSJzdW0gKz0gcHJvZDsiLHY9W10saz1bXSxFPVtdLHg9W10sST1uLnN5bWJvbFRvSW5mby5zaXplPT09bi5yaHMuc3ltYm9sVG9JbmRpY2VzLnNpemU7bi5zeW1ib2xUb0luZm8uZm9yRWFjaCgoQixVKT0+e2lmKG4ucmhzLnN5bWJvbFRvSW5kaWNlcy5oYXMoVSkpe2xldCBIPW4ucmhzLnN5bWJvbFRvSW5kaWNlcy5nZXQoVSk/LlswXTtIIT09dm9pZCAwJiZuLmxocy5mb3JFYWNoKChLLE8pPT57aWYoQi5pbnB1dEluZGljZXMuaW5jbHVkZXMoTykpe2xldCBHPUsuc3ltYm9sVG9JbmRpY2VzLmdldChVKTtpZihHPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzeW1ib2wgZXJyb3IiKTtHLmZvckVhY2gobmU9PntmLnB1c2goYCR7aVtPXS5pbmRpY2VzU2V0KGBpbnB1dCR7T31JbmRpY2VzYCxuZSxkLmluZGljZXNHZXQoIm91dHB1dEluZGljZXMiLEgpKX1gKX0pfX0pfWVsc2Ugbi5saHMuZm9yRWFjaCgoSCxLKT0+e2lmKEIuaW5wdXRJbmRpY2VzLmluY2x1ZGVzKEspKXtsZXQgTz1ILnN5bWJvbFRvSW5kaWNlcy5nZXQoVSk7aWYoTz09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3ltYm9sIGVycm9yIik7Ty5mb3JFYWNoKEc9Pnt2LnB1c2goYCR7aVtLXS5pbmRpY2VzU2V0KGBpbnB1dCR7S31JbmRpY2VzYCxHLGAke1V9YCl9YCl9KSx4LnB1c2goYHByb2QgKj0gJHtpW0tdLmdldEJ5SW5kaWNlcyhgaW5wdXQke0t9SW5kaWNlc2ApfTtgKX19KSxrLnB1c2goYGZvcih2YXIgJHtVfTogdTMyID0gMDsgJHtVfSA8IHVuaWZvcm1zLiR7dnMoVSl9OyAke1V9KyspIHtgKSxFLnB1c2goIn0iKX0pO2xldCBUPUk/Wy4uLmYsYGxldCBzdW0gPSAke2kubWFwKChCLFUpPT5CLmdldEJ5SW5kaWNlcyhgaW5wdXQke1V9SW5kaWNlc2ApKS5qb2luKCIgKiAiKX07YF06Wy4uLmYseSwuLi5rLC4uLnYsZywuLi54LHcsLi4uRV07cmV0dXJuYAogICAgICAgICAgICAke2gucmVnaXN0ZXJVbmlmb3JtcyhjLm1hcChCPT4oe25hbWU6YCR7dnMoQil9YCx0eXBlOiJ1MzIifSkpKS5yZWdpc3RlclVuaWZvcm0oIm91dHB1dFNpemUiLCJ1MzIiKS5kZWNsYXJlVmFyaWFibGVzKC4uLmksZCl9CgogICAgICAgICAgICAke2gubWFpblN0YXJ0KCl9CiAgICAgICAgICAgICR7aC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9CiAgICAgICAgICAgIHZhciBvdXRwdXRJbmRpY2VzID0gJHtkLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTsKICAgICAgICAgICAgJHtpLm1hcCgoQixVKT0+YHZhciBpbnB1dCR7VX1JbmRpY2VzOiAke2lbVV0udHlwZS5pbmRpY2VzfTtgKS5qb2luKGAKYCl9CiAgICAgICAgICAgICR7VC5qb2luKGAKYCl9OwogICAgICAgICAgICAke2Quc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJzdW0iKX07CiAgICAgICAgICB9YH07cmV0dXJue25hbWU6IkVpbnN1bSIsc2hhZGVyQ2FjaGU6e2hpbnQ6bi5lcXVhdGlvbixpbnB1dERlcGVuZGVuY2llczp0Lm1hcChoPT5oPyJyYW5rIjoiZGltcyIpfSxnZXRSdW5EYXRhOigpPT57bGV0IGg9Yy5maWx0ZXIoZz0+bi5zeW1ib2xUb0luZm8uaGFzKGcpKS5tYXAoZz0+KHt0eXBlOiJ1aW50MzIiLGRhdGE6bi5zeW1ib2xUb0luZm8uZ2V0KGcpPy5kaW1WYWx1ZXx8MH0pKTtoLnB1c2goe3R5cGU6InVpbnQzMiIsZGF0YTpzfSk7bGV0IGY9ZS5maWx0ZXIoKGcseSk9PnRbeV0pLm1hcCgoZyx5KT0+Wy4uLmllKGcpXSkucmVkdWNlKChnLHkpPT5nLmNvbmNhdCh5KSxoKTtyZXR1cm4gbyYmZi5wdXNoKC4uLmllKGEpKSx7b3V0cHV0czpbe2RpbXM6YSxkYXRhVHlwZTpyfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwocy82NCl9LHByb2dyYW1Vbmlmb3JtczpmfX0sZ2V0U2hhZGVyU291cmNlOnV9fSxtYz0odCxlKT0+e2xldCByPW5ldyBoYyh0LmlucHV0cyxlLmVxdWF0aW9uKSxuPXQuaW5wdXRzLm1hcCgocyxvKT0+c3Qocy5kaW1zLmxlbmd0aCkpLGE9ci5vdXRwdXREaW1zLGk9dC5pbnB1dHMubWFwKChzLG8pPT5zLmRpbXMpO3QuY29tcHV0ZShmYyhuLGksdC5pbnB1dHNbMF0uZGF0YVR5cGUscixhKSl9LGdjPXQ9PntsZXQgZT10LmVxdWF0aW9uLnJlcGxhY2UoL1xzKy9nLCIiKTtyZXR1cm4gcWUoe2VxdWF0aW9uOmV9KX19KSxfYyxicyx5Yyx3Yyx2Yyx3Xz1RKCgpPT57WWUoKSxJZSgpLENlKCksX2M9dD0+e2lmKCF0fHx0Lmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCJFeHBhbmQgcmVxdWlyZXMgMiBpbnB1dC4iKTtsZXQgZT10WzBdLmRpbXMscj1BcnJheS5mcm9tKHRbMV0uZ2V0QmlnSW50NjRBcnJheSgpLE51bWJlciksbj1yLmxlbmd0aDxlLmxlbmd0aD8wOnIubGVuZ3RoLWUubGVuZ3RoLGE9ZS5sZW5ndGg8ci5sZW5ndGg/MDplLmxlbmd0aC1yLmxlbmd0aDtmb3IoO248ci5sZW5ndGgmJmE8ZS5sZW5ndGg7KytuLCsrYSlpZihyW25dIT09ZVthXSYmcltuXSE9PTEmJmVbYV0hPT0xKXRocm93IG5ldyBFcnJvcigiRXhwYW5kIHJlcXVpcmVzIHNoYXBlIHRvIGJlIGJyb2FkY2FzdGFibGUgdG8gaW5wdXQiKX0sYnM9KHQsZSk9PntsZXQgcj10Lmxlbmd0aC1lLmxlbmd0aCxuPVtdO2ZvcihsZXQgYT0wO2E8cjsrK2Epbi5wdXNoKHRbYV0pO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7KythKW4ucHVzaChlW2FdPT09MT90W2Ercl06ZVthXSk7cmV0dXJuIG59LHljPSh0LGUpPT50Lmxlbmd0aD5lLmxlbmd0aD9icyh0LGUpOmJzKGUsdCksd2M9dD0+e2xldCBlPXRbMF0uZGltcyxyPUFycmF5LmZyb20odFsxXS5nZXRCaWdJbnQ2NEFycmF5KCksTnVtYmVyKSxuPXljKGUsciksYT10WzBdLmRhdGFUeXBlLGk9YT09PTk/NDoxLHM9TWF0aC5jZWlsKGVlLnNpemUobikvaSksbz1zdChlLmxlbmd0aCksbD1zdChuLmxlbmd0aCksZD11PT57bGV0IGg9bz9lLmxlbmd0aDplLGY9bD9uLmxlbmd0aDpuLGc9SigiaW5wdXQiLGEsaCxpKSx5PXZlKCJvdXRwdXQiLGEsZixpKSx3O2lmKGE9PT05KXtsZXQgdj0oayxFLHg9IiIpPT5gCiAgICAgICAgICBsZXQgb3V0cHV0SW5kaWNlcyR7RX0gPSAke3kub2Zmc2V0VG9JbmRpY2VzKGBvdXRwdXRPZmZzZXQgKyAke0V9dWApfTsKICAgICAgICAgIGxldCBvZmZzZXQke0V9ID0gJHtnLmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KGBvdXRwdXRJbmRpY2VzJHtFfWAseSl9OwogICAgICAgICAgbGV0IGluZGV4JHtFfSA9IG9mZnNldCR7RX0gLyA0dTsKICAgICAgICAgIGxldCBjb21wb25lbnQke0V9ID0gb2Zmc2V0JHtFfSAlIDR1OwogICAgICAgICAgJHtrfVske0V9XSA9ICR7eH0oJHtnLmdldEJ5T2Zmc2V0KGBpbmRleCR7RX1gKX1bY29tcG9uZW50JHtFfV0pOwogICAgICAgIGA7dz1gCiAgICAgICAgbGV0IG91dHB1dE9mZnNldCA9IGdsb2JhbF9pZHggKiAke2l9OwogICAgICAgIHZhciBkYXRhID0gdmVjNDx1MzI+KDApOwogICAgICAgICR7digiZGF0YSIsMCwidTMyIil9CiAgICAgICAgJHt2KCJkYXRhIiwxLCJ1MzIiKX0KICAgICAgICAke3YoImRhdGEiLDIsInUzMiIpfQogICAgICAgICR7digiZGF0YSIsMywidTMyIil9CiAgICAgICAgJHt5LnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwiZGF0YSIpfQogICAgICB9YH1lbHNlIHc9YAogICAgICAgIGxldCBvdXRwdXRJbmRpY2VzID0gJHt5Lm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTsKICAgICAgICBsZXQgaW5wdXRPZmZzZXQgPSAke2cuYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQoIm91dHB1dEluZGljZXMiLHkpfTsKICAgICAgICAke3kuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLGcuZ2V0QnlPZmZzZXQoImlucHV0T2Zmc2V0IikpfQogICAgICB9YDtyZXR1cm5gCiAgICAke3UucmVnaXN0ZXJVbmlmb3JtKCJ2ZWNfc2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMoZyx5KX0KICAgICR7dS5tYWluU3RhcnQoKX0KICAgICR7dS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy52ZWNfc2l6ZSIpfQogICAgJHt3fWB9LGM9W3t0eXBlOiJ1aW50MzIiLGRhdGE6c31dO3JldHVybiBvJiZjLnB1c2goLi4uaWUoZSkpLGwmJmMucHVzaCguLi5pZShuKSkse25hbWU6IkV4cGFuZCIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7bi5sZW5ndGh9YCxpbnB1dERlcGVuZGVuY2llczpbbz8icmFuayI6ImRpbXMiXX0sZ2V0U2hhZGVyU291cmNlOmQsZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpuLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChzLzY0KX0scHJvZ3JhbVVuaWZvcm1zOmN9KX19LHZjPXQ9PntfYyh0LmlucHV0cyksdC5jb21wdXRlKHdjKHQuaW5wdXRzKSx7aW5wdXRzOlswXX0pfX0pLGJjLCRjLHhjLGtjLHZfPVEoKCk9PntZZSgpLEllKCksaXQoKSxDZSgpLGJjPXQ9PntpZighdHx8dC5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcigiR2F0aGVyIHJlcXVpcmVzIDIgaW5wdXRzLiIpfSwkYz0odCxlKT0+e2xldCByPXRbMF0uZGltcyxuPXRbMV0uZGltcyxhPXIubGVuZ3RoLGk9ZWUubm9ybWFsaXplQXhpcyhlLmF4aXMsYSkscz1yLnNsaWNlKDApO3Muc3BsaWNlKGksMSwuLi5uKTtsZXQgbz1yW2ldLGw9dFswXS5kYXRhVHlwZT09PTk/NDoxLGQ9TWF0aC5jZWlsKGVlLnNpemUocykvbCksYz1zdCh0WzBdLmRpbXMubGVuZ3RoKSx1PWM/dFswXS5kaW1zLmxlbmd0aDp0WzBdLmRpbXMsaD1zdCh0WzFdLmRpbXMubGVuZ3RoKSxmPWg/dFsxXS5kaW1zLmxlbmd0aDp0WzFdLmRpbXMsZz1zdChzLmxlbmd0aCkseT1nP3MubGVuZ3RoOnMsdz1be3R5cGU6InVpbnQzMiIsZGF0YTpkfSx7dHlwZToiaW50MzIiLGRhdGE6b30se3R5cGU6InVpbnQzMiIsZGF0YTppfV07YyYmdy5wdXNoKC4uLmllKHRbMF0uZGltcykpLGgmJncucHVzaCguLi5pZSh0WzFdLmRpbXMpKSxnJiZ3LnB1c2goLi4uaWUocykpO2xldCB2PVtdO3YucHVzaChjPyJyYW5rIjoiZGltcyIpLHYucHVzaChoPyJyYW5rIjoiZGltcyIpO2xldCBrPUU9PntsZXQgeD1KKCJkYXRhIix0WzBdLmRhdGFUeXBlLHUsbCksST1KKCJpbnB1dEluZGljZXMiLHRbMV0uZGF0YVR5cGUsZiksVD12ZSgib3V0cHV0Iix0WzBdLmRhdGFUeXBlLHksbCksQj1IPT57bGV0IEs9bi5sZW5ndGgsTz1gdmFyIGluZGljZXNJbmRpY2VzJHtIfSAgPSAke0kudHlwZS5pbmRpY2VzfSgwKTtgO2ZvcihsZXQgRz0wO0c8SztHKyspTys9YCR7Sz4xP2BpbmRpY2VzSW5kaWNlcyR7SH1bJHtHfV1gOmBpbmRpY2VzSW5kaWNlcyR7SH1gfSA9ICR7cy5sZW5ndGg+MT9gb3V0cHV0SW5kaWNlcyR7SH1bdW5pZm9ybXMuYXhpcyArICR7R31dYDpgb3V0cHV0SW5kaWNlcyR7SH1gfTtgO08rPWAKICAgICAgICAgIHZhciBpZHgke0h9ID0gJHtJLmdldEJ5SW5kaWNlcyhgaW5kaWNlc0luZGljZXMke0h9YCl9OwogICAgICAgICAgaWYgKGlkeCR7SH0gPCAwKSB7CiAgICAgICAgICAgIGlkeCR7SH0gPSBpZHgke0h9ICsgdW5pZm9ybXMuYXhpc0RpbUxpbWl0OwogICAgICAgICAgfQogICAgICAgICAgdmFyIGRhdGFJbmRpY2VzJHtIfSA9ICR7eC50eXBlLmluZGljZXN9KDApOwogICAgICAgIGA7Zm9yKGxldCBHPTAsbmU9MDtHPGE7RysrKUc9PT1pPyhPKz1gJHthPjE/YGRhdGFJbmRpY2VzJHtIfVske0d9XWA6YGRhdGFJbmRpY2VzJHtIfWB9ID0gdTMyKGlkeCR7SH0pO2AsbmUrPUspOihPKz1gJHthPjE/YGRhdGFJbmRpY2VzJHtIfVske0d9XWA6YGRhdGFJbmRpY2VzJHtIfWB9ID0gJHtzLmxlbmd0aD4xP2BvdXRwdXRJbmRpY2VzJHtIfVske25lfV1gOmBvdXRwdXRJbmRpY2VzJHtIfWB9O2AsbmUrKyk7cmV0dXJuIE99LFU7aWYodFswXS5kYXRhVHlwZT09PTkpe2xldCBIPShLLE8sRz0iIik9PmAKICAgICAgICAgIGxldCBvdXRwdXRJbmRpY2VzJHtPfSA9ICR7VC5vZmZzZXRUb0luZGljZXMoYG91dHB1dE9mZnNldCArICR7T311YCl9OwogICAgICAgICAgJHtCKE8pfTsKICAgICAgICAgIGxldCBvZmZzZXQke099ID0gJHt4LmluZGljZXNUb09mZnNldChgZGF0YUluZGljZXMke099YCl9OwogICAgICAgICAgbGV0IGluZGV4JHtPfSA9IG9mZnNldCR7T30gLyA0dTsKICAgICAgICAgIGxldCBjb21wb25lbnQke099ID0gb2Zmc2V0JHtPfSAlIDR1OwogICAgICAgICAgJHtLfVske099XSA9ICR7R30oJHt4LmdldEJ5T2Zmc2V0KGBpbmRleCR7T31gKX1bY29tcG9uZW50JHtPfV0pOwogICAgICAgIGA7VT1gCiAgICAgICAgbGV0IG91dHB1dE9mZnNldCA9IGdsb2JhbF9pZHggKiAke2x9OwogICAgICAgIHZhciB2YWx1ZSA9IHZlYzQ8dTMyPigwKTsKICAgICAgICAke0goInZhbHVlIiwwLCJ1MzIiKX0KICAgICAgICAke0goInZhbHVlIiwxLCJ1MzIiKX0KICAgICAgICAke0goInZhbHVlIiwyLCJ1MzIiKX0KICAgICAgICAke0goInZhbHVlIiwzLCJ1MzIiKX0KICAgICAgICAke1Quc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJ2YWx1ZSIpfQogICAgICBgfWVsc2UgVT1gCiAgICAgIGxldCBvdXRwdXRJbmRpY2VzID0gJHtULm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTsKICAgICAgJHtCKCIiKX07CiAgICAgIGxldCB2YWx1ZSA9ICR7eC5nZXRCeUluZGljZXMoImRhdGFJbmRpY2VzIil9OwogICAgICAke1Quc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJ2YWx1ZSIpfTsKICAgICAgYDtyZXR1cm5gCiAgICAgICR7RS5yZWdpc3RlclVuaWZvcm0oIm91dHB1dFNpemUiLCJ1MzIiKS5yZWdpc3RlclVuaWZvcm0oImF4aXNEaW1MaW1pdCIsImkzMiIpLnJlZ2lzdGVyVW5pZm9ybSgiYXhpcyIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMoeCxJLFQpfQogICAgICAke0UubWFpblN0YXJ0KCl9CiAgICAgICAgJHtFLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dFNpemUiKX0KICAgICAgICAke1V9CiAgICAgIH1gfTtyZXR1cm57bmFtZToiR2F0aGVyIixzaGFkZXJDYWNoZTp7aGludDplLmNhY2hlS2V5LGlucHV0RGVwZW5kZW5jaWVzOnZ9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cyxkYXRhVHlwZTp0WzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoZC82NCl9LHByb2dyYW1Vbmlmb3Jtczp3fSksZ2V0U2hhZGVyU291cmNlOmt9fSx4Yz10PT5xZSh7YXhpczp0LmF4aXN9KSxrYz0odCxlKT0+e2xldCByPXQuaW5wdXRzO2JjKHIpLHQuY29tcHV0ZSgkYyh0LmlucHV0cyxlKSl9fSksU2MsRWMsQ2MsSWMsYl89USgoKT0+e0llKCksaXQoKSxDZSgpLFNjPXQ9PntpZighdHx8dC5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcigiR2F0aGVyRWxlbWVudHMgcmVxdWlyZXMgMiBpbnB1dHMuIik7aWYodFswXS5kaW1zLmxlbmd0aDwxKXRocm93IG5ldyBFcnJvcigiR2F0aGVyRWxlbWVudHMgcmVxdWlyZXMgdGhhdCB0aGUgZGF0YSBpbnB1dCBiZSByYW5rID49IDEuIik7aWYodFswXS5kaW1zLmxlbmd0aCE9PXRbMV0uZGltcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBHYXRoZXJFbGVtZW50cyByZXF1aXJlcyB0aGF0IHRoZSBkYXRhIGlucHV0IGFuZAogICAgICAgICAgICAgICAgICAgICBpbmRpY2VzIGlucHV0IHRlbnNvcnMgYmUgb2Ygc2FtZSByYW5rLmApfSxFYz0odCxlKT0+e2xldCByPXRbMF0uZGltcyxuPXRbMF0uZGF0YVR5cGUsYT1yLmxlbmd0aCxpPXRbMV0uZGltcyxzPXRbMV0uZGF0YVR5cGUsbz1lZS5ub3JtYWxpemVBeGlzKGUuYXhpcyxhKSxsPXJbb10sZD1pLnNsaWNlKDApLGM9ZWUuc2l6ZShkKSx1PUooImlucHV0IixuLGEpLGg9SigiaW5kaWNlc0lucHV0IixzLGkubGVuZ3RoKSxmPXZlKCJvdXRwdXQiLG4sZC5sZW5ndGgpLGc9W3t0eXBlOiJ1aW50MzIiLGRhdGE6Y30se3R5cGU6ImludDMyIixkYXRhOmx9LHt0eXBlOiJ1aW50MzIiLGRhdGE6b31dO3JldHVybiBnLnB1c2goLi4uaWUocikpLGcucHVzaCguLi5pZShpKSksZy5wdXNoKC4uLmllKGQpKSx7bmFtZToiR2F0aGVyRWxlbWVudHMiLHNoYWRlckNhY2hlOntpbnB1dERlcGVuZGVuY2llczpbInJhbmsiLCJyYW5rIl19LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6ZCxkYXRhVHlwZTp0WzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoYy82NCl9LHByb2dyYW1Vbmlmb3JtczpnfSksZ2V0U2hhZGVyU291cmNlOnk9PmAKICAgICAgJHt5LnJlZ2lzdGVyVW5pZm9ybSgib3V0cHV0U2l6ZSIsInUzMiIpLnJlZ2lzdGVyVW5pZm9ybSgiYXhpc0RpbUxpbWl0IiwiaTMyIikucmVnaXN0ZXJVbmlmb3JtKCJheGlzIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyh1LGgsZil9CiAgICAgICR7eS5tYWluU3RhcnQoKX0KICAgICAgJHt5Lmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dFNpemUiKX0KCiAgICAgIGxldCBvdXRwdXRJbmRpY2VzID0gJHtmLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTsKCiAgICAgIHZhciBpZHggPSAke2guZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKX07CiAgICAgIGlmIChpZHggPCAwKSB7CiAgICAgICAgaWR4ID0gaWR4ICsgdW5pZm9ybXMuYXhpc0RpbUxpbWl0OwogICAgICB9CiAgICAgIHZhciBpbnB1dEluZGljZXMgPSAke3UudHlwZS5pbmRpY2VzfShvdXRwdXRJbmRpY2VzKTsKICAgICAgJHt1LmluZGljZXNTZXQoImlucHV0SW5kaWNlcyIsInVuaWZvcm1zLmF4aXMiLCJ1MzIoaWR4KSIpfTsKICAgICAgbGV0IHZhbHVlID0gJHt1LmdldEJ5SW5kaWNlcygiaW5wdXRJbmRpY2VzIil9OwoKICAgICAgJHtmLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwidmFsdWUiKX07CiAgfWB9fSxDYz10PT5xZSh7YXhpczp0LmF4aXN9KSxJYz0odCxlKT0+e2xldCByPXQuaW5wdXRzO1NjKHIpLHQuY29tcHV0ZShFYyh0LmlucHV0cyxlKSl9fSksQWMsVGMsT2MsTWMsJF89USgoKT0+e0llKCksQ2UoKSxBYz10PT57aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCBpcyBtaXNzaW5nIik7aWYodC5sZW5ndGg8Mnx8dC5sZW5ndGg+Myl0aHJvdyBuZXcgRXJyb3IoIkludmFpZCBpbnB1dCBudW1iZXIuIik7aWYodC5sZW5ndGg9PT0zJiZ0WzJdLmRpbXMubGVuZ3RoPjIpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHNoYXBlIG9mIEMiKTtpZih0WzBdLmRhdGFUeXBlIT09dFsxXS5kYXRhVHlwZXx8dC5sZW5ndGg9PT0zJiZ0WzBdLmRhdGFUeXBlIT09dFsyXS5kYXRhVHlwZSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IHR5cGVzIGFyZSBtaXNtYXRjaGVkIil9LFRjPSh0LGUpPT57bGV0IHI9dFswXS5kaW1zLnNsaWNlKCksbj10WzFdLmRpbXMuc2xpY2UoKSxbYSxpLHNdPSRsLmdldFNoYXBlT2ZHZW1tUmVzdWx0KHIsZS50cmFuc0EsbixlLnRyYW5zQix0Lmxlbmd0aD09PTM/dFsyXS5kaW1zOnZvaWQgMCksbz1bYSxpXTtpZighbyl0aHJvdyBuZXcgRXJyb3IoIkNhbid0IHVzZSBnZW1tIG9uIHRoZSBnaXZlbiB0ZW5zb3JzIik7bGV0IGw9ZWUuc2l6ZShvKSxkPVt7dHlwZToidWludDMyIixkYXRhOmx9LHt0eXBlOiJ1aW50MzIiLGRhdGE6YX0se3R5cGU6InVpbnQzMiIsZGF0YTppfSx7dHlwZToidWludDMyIixkYXRhOnN9LHt0eXBlOiJmbG9hdDMyIixkYXRhOmUuYWxwaGF9LHt0eXBlOiJmbG9hdDMyIixkYXRhOmUuYmV0YX1dLGM9WyJ0eXBlIiwidHlwZSJdO3QubGVuZ3RoPT09MyYmKGQucHVzaCguLi5pZSh0WzJdLmRpbXMpKSxjLnB1c2goInJhbmsiKSksZC5wdXNoKC4uLmllKG8pKTtsZXQgdT1oPT57bGV0IGY9IiI7ZS50cmFuc0EmJmUudHJhbnNCP2Y9InZhbHVlICs9IGFbayAqIHVuaWZvcm1zLk0gKyBtXSAqIGJbbiAqIHVuaWZvcm1zLksgKyBrXTsiOmUudHJhbnNBJiYhZS50cmFuc0I/Zj0idmFsdWUgKz0gYVtrICogdW5pZm9ybXMuTSArIG1dICogYltrICogdW5pZm9ybXMuTiArIG5dOyI6IWUudHJhbnNBJiZlLnRyYW5zQj9mPSJ2YWx1ZSArPSBhW20gKiB1bmlmb3Jtcy5LICsga10gKiBiW24gKiB1bmlmb3Jtcy5LICsga107IjohZS50cmFuc0EmJiFlLnRyYW5zQiYmKGY9InZhbHVlICs9IGFbbSAqIHVuaWZvcm1zLksgKyBrXSAqIGJbayAqIHVuaWZvcm1zLk4gKyBuXTsiKTtsZXQgZz1lLmFscGhhPT09MT8iIjoidmFsdWUgKj0gdW5pZm9ybXMuYWxwaGE7Iix5PUooImEiLHRbMF0uZGF0YVR5cGUsdFswXS5kaW1zKSx3PUooImIiLHRbMV0uZGF0YVR5cGUsdFsxXS5kaW1zKSx2PXkudHlwZS52YWx1ZSxrPW51bGwsRT1beSx3XTt0Lmxlbmd0aD09PTMmJihrPUooImMiLHRbMl0uZGF0YVR5cGUsdFsyXS5kaW1zLmxlbmd0aCksRS5wdXNoKGspKTtsZXQgeD12ZSgib3V0cHV0Iix0WzBdLmRhdGFUeXBlLG8ubGVuZ3RoKTtFLnB1c2goeCk7bGV0IEk9W3tuYW1lOiJvdXRwdXRfc2l6ZSIsdHlwZToidTMyIn0se25hbWU6Ik0iLHR5cGU6InUzMiJ9LHtuYW1lOiJOIix0eXBlOiJ1MzIifSx7bmFtZToiSyIsdHlwZToidTMyIn0se25hbWU6ImFscGhhIix0eXBlOiJmMzIifSx7bmFtZToiYmV0YSIsdHlwZToiZjMyIn1dO3JldHVybmAKICAke2gucmVnaXN0ZXJVbmlmb3JtcyhJKS5kZWNsYXJlVmFyaWFibGVzKC4uLkUpfQoKICAke2gubWFpblN0YXJ0KCl9CiAgICAke2guZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0X3NpemUiKX0KCiAgICBsZXQgbSA9IGdsb2JhbF9pZHggLyB1bmlmb3Jtcy5OOwogICAgbGV0IG4gPSBnbG9iYWxfaWR4ICUgdW5pZm9ybXMuTjsKCiAgICB2YXIgdmFsdWUgPSAke3Z9KDApOwogICAgZm9yICh2YXIgazogdTMyID0gMHU7IGsgPCB1bmlmb3Jtcy5LOyBrKyspIHsKICAgICAgJHtmfQogICAgfQoKICAgICR7Z30KICAgICR7ayE9bnVsbD9gbGV0IGNPZmZzZXQgPSAke2suYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQoInZlYzIobSwgbikiLHgpfTsgdmFsdWUgKz0gJHt2fSh1bmlmb3Jtcy5iZXRhKSAqICR7ay5nZXRCeU9mZnNldCgiY09mZnNldCIpfTtgOiIifQogICAgb3V0cHV0W2dsb2JhbF9pZHhdID0gdmFsdWU7CiAgfWB9O3JldHVybntuYW1lOiJHZW1tIixzaGFkZXJDYWNoZTp7aGludDpgJHtlLmNhY2hlS2V5fWAsaW5wdXREZXBlbmRlbmNpZXM6Y30sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpvLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChsLzY0KX0scHJvZ3JhbVVuaWZvcm1zOmR9KSxnZXRTaGFkZXJTb3VyY2U6dX19LE9jPXQ9PntsZXQgZT10LnRyYW5zQSxyPXQudHJhbnNCLG49dC5hbHBoYSxhPXQuYmV0YTtyZXR1cm57dHJhbnNBOmUsdHJhbnNCOnIsYWxwaGE6bixiZXRhOmEsY2FjaGVLZXk6YCR7dC50cmFuc0F9OyR7dC50cmFuc0J9OyR7dC5hbHBoYT09PTF9YH19LE1jPSh0LGUpPT57QWModC5pbnB1dHMpLHQuY29tcHV0ZShUYyh0LmlucHV0cyxlKSl9fSksemMsQmMsUmMsRGMseF89USgoKT0+e1llKCksSWUoKSxDZSgpLHpjPSh0LGUpPT57bGV0IHI9dFswXS5kaW1zLG49cixhPTIsaT1lZS5zaXplVG9EaW1lbnNpb24ocixhKSxzPWVlLnNpemVGcm9tRGltZW5zaW9uKHIsYSksbz12dChzKSxsPXMvbyxkPVtyWzBdLHJbMV0sbF0sYz1bInJhbmsiLCJ0eXBlIiwidHlwZSJdLHU9W3t0eXBlOiJ1aW50MzIiLGRhdGE6c30se3R5cGU6InVpbnQzMiIsZGF0YTpsfV07dS5wdXNoKC4uLmllKGQpLC4uLmllKGQpKTtsZXQgaD1mPT57bGV0IGc9SigieCIsdFswXS5kYXRhVHlwZSxkLmxlbmd0aCxvKSx5PUooInNjYWxlIix0WzFdLmRhdGFUeXBlLHRbMV0uZGltcyksdz1KKCJiaWFzIix0WzJdLmRhdGFUeXBlLHRbMl0uZGltcyksdj12ZSgib3V0cHV0Iix0WzBdLmRhdGFUeXBlLGQubGVuZ3RoLG8pLGs9W2cseSx3LHZdLEU9Zy50eXBlLnZhbHVlLHg9bz09PTE/ImYzMiI6YHZlYyR7b308ZjMyPmAsST02NCxUPVt7bmFtZToibm9ybVNpemUiLHR5cGU6InUzMiJ9LHtuYW1lOiJub3JtUGFja2VkU2l6ZSIsdHlwZToidTMyIn1dO3JldHVybmAKICB2YXI8d29ya2dyb3VwPiBtZWFuU2hhcmVkIDogZjMyOwogIHZhcjx3b3JrZ3JvdXA+IHNxdWFyZWROb3JtU2hhcmVkIDogZjMyOwogIHZhcjx3b3JrZ3JvdXA+IHdvcmtncm91cFNoYXJlZCA6IGFycmF5PCR7eH0sICR7SX0+OwogIGNvbnN0IHdvcmtncm91cFNpemUgPSAke0l9dTsKICAke2YucmVnaXN0ZXJVbmlmb3JtcyhUKS5kZWNsYXJlVmFyaWFibGVzKC4uLmspfQogICR7Zi5tYWluU3RhcnQoSSl9CiAgICBsZXQgbm9ybSA9IGdsb2JhbF9pZHggLyB3b3JrZ3JvdXBTaXplOwogICAgbGV0IGJhdGNoID0gbm9ybSAvIHVuaWZvcm1zLnhfc2hhcGVbMV07CiAgICBsZXQgY2hhbm5lbCA9IG5vcm0gJSB1bmlmb3Jtcy54X3NoYXBlWzFdOwogICAgbGV0IGxvY2FsSW5kZXggPSBsb2NhbF9pZC54OwoKICAgIC8vIGluaXRpYWxpemUgd29ya2dyb3VwIG1lbW9yeQogICAgdmFyIGluaXRpYWwgPSAke3h9KDApOwogICAgZm9yICh2YXIgaCA9IGxvY2FsSW5kZXg7IGggPCB1bmlmb3Jtcy5ub3JtUGFja2VkU2l6ZTsgaCArPSB3b3JrZ3JvdXBTaXplKSB7CiAgICAgIGluaXRpYWwgPSBpbml0aWFsICsgJHt4fSgke2cuZ2V0KCJiYXRjaCIsImNoYW5uZWwiLCJoIil9KTsKICAgIH0KICAgIHdvcmtncm91cFNoYXJlZFtsb2NhbEluZGV4XSA9IGluaXRpYWw7CiAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CgogICAgLy8gQ2FsY3VsYXRlIHRoZSBtZWFuIG9mIGN1cnJlbnQgY2hhbm5lbCBkYXRhLgogICAgZm9yICh2YXIgY3VyclNpemUgPSB3b3JrZ3JvdXBTaXplID4+IDE7ICBjdXJyU2l6ZSA+IDA7IGN1cnJTaXplID0gY3VyclNpemUgPj4gMSkgewogICAgICBpZiAobG9jYWxJbmRleCA8IGN1cnJTaXplKSB7CiAgICAgICAgd29ya2dyb3VwU2hhcmVkW2xvY2FsSW5kZXhdID0gd29ya2dyb3VwU2hhcmVkW2xvY2FsSW5kZXhdICsgd29ya2dyb3VwU2hhcmVkW2xvY2FsSW5kZXggKyBjdXJyU2l6ZV07CiAgICAgIH0KICAgICAgd29ya2dyb3VwQmFycmllcigpOwogICAgfQogICAgaWYgKGxvY2FsSW5kZXggPT0gMCkgewogICAgICBtZWFuU2hhcmVkID0gJHtLdCgid29ya2dyb3VwU2hhcmVkWzBdIixvKX0gLyBmMzIodW5pZm9ybXMubm9ybVNpemUpOwogICAgfQogICAgd29ya2dyb3VwQmFycmllcigpOwoKICAgIC8vIHJlaW5pdGlhbGl6ZSB3b3JrZ3JvdXAgbWVtb3J5LgogICAgaW5pdGlhbCA9ICR7eH0oMCk7CiAgICBmb3IgKHZhciBoID0gbG9jYWxJbmRleDsgaCA8IHVuaWZvcm1zLm5vcm1QYWNrZWRTaXplOyBoICs9IHdvcmtncm91cFNpemUpIHsKICAgICAgbGV0IGRldmlhdGlvbiA9ICAke3h9KCR7Zy5nZXQoImJhdGNoIiwiY2hhbm5lbCIsImgiKX0pIC0gJHt4fShtZWFuU2hhcmVkKTsKICAgICAgaW5pdGlhbCA9IGluaXRpYWwgKyBkZXZpYXRpb24gKiBkZXZpYXRpb247CiAgICB9CiAgICB3b3JrZ3JvdXBTaGFyZWRbbG9jYWxJbmRleF0gPSBpbml0aWFsOwogICAgd29ya2dyb3VwQmFycmllcigpOwoKICAgIC8vIENhbGN1bGF0ZSB0aGUgc3VtIG9mIHNxdWFyZSBvZiBkZXZpYXRpb24gb2YgY3VycmVudCBjaGFubmVsIGRhdGEuCiAgICBmb3IgKHZhciBjdXJyU2l6ZSA9IHdvcmtncm91cFNpemUgPj4gMTsgIGN1cnJTaXplID4gMDsgY3VyclNpemUgPSBjdXJyU2l6ZSA+PiAxKSB7CiAgICAgIGlmIChsb2NhbEluZGV4IDwgY3VyclNpemUpIHsKICAgICAgICB3b3JrZ3JvdXBTaGFyZWRbbG9jYWxJbmRleF0gPSB3b3JrZ3JvdXBTaGFyZWRbbG9jYWxJbmRleF0gKyB3b3JrZ3JvdXBTaGFyZWRbbG9jYWxJbmRleCArIGN1cnJTaXplXTsKICAgICAgfQogICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CiAgICB9CiAgICBpZiAobG9jYWxJbmRleCA9PSAwKSB7CiAgICAgIHNxdWFyZWROb3JtU2hhcmVkID0gJHtLdCgid29ya2dyb3VwU2hhcmVkWzBdIixvKX07CiAgICB9CiAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CgogICAgbGV0IGludlN0ZERldiA9IGludmVyc2VTcXJ0KHNxdWFyZWROb3JtU2hhcmVkIC8gZjMyKHVuaWZvcm1zLm5vcm1TaXplKSArIGYzMigke2UuZXBzaWxvbn0pKTsKICAgIGxldCBjaGFubmVsU2NhbGUgPSBpbnZTdGREZXYgKiBmMzIoJHt5LmdldEJ5T2Zmc2V0KCJjaGFubmVsIil9KTsKICAgIGxldCBjaGFubmVsU2hpZnQgPSBmMzIoJHt3LmdldEJ5T2Zmc2V0KCJjaGFubmVsIil9KSAtIG1lYW5TaGFyZWQgKiBjaGFubmVsU2NhbGU7CiAgICBmb3IgKHZhciBoID0gbG9jYWxJbmRleDsgaCA8IHVuaWZvcm1zLm5vcm1QYWNrZWRTaXplOyBoICs9IHdvcmtncm91cFNpemUpIHsKICAgICAgbGV0IHZhbHVlID0gJHtnLmdldCgiYmF0Y2giLCJjaGFubmVsIiwiaCIpfSAqICR7RX0oJHt4fShjaGFubmVsU2NhbGUpKSArICR7RX0oJHt4fShjaGFubmVsU2hpZnQpKTsKICAgICAgJHt2LnNldCgiYmF0Y2giLCJjaGFubmVsIiwiaCIsInZhbHVlIil9OwogICAgfQogIH1gfTtyZXR1cm57bmFtZToiSW5zdGFuY2VOb3JtYWxpemF0aW9uIixzaGFkZXJDYWNoZTp7aGludDpgJHtlLmVwc2lsb259OyR7b31gLGlucHV0RGVwZW5kZW5jaWVzOmN9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6bixkYXRhVHlwZTp0WzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDppfSxwcm9ncmFtVW5pZm9ybXM6dX0pLGdldFNoYWRlclNvdXJjZTpofX0sQmM9KHQsZSxyLG4sYSxpLHMsbyk9PntsZXQgbD12dChzKSxkPTY0LGM9bD09PTE/InZlYzJmIjpgbWF0Mngke2x9ZmAsdT1sPT09MT8iZjMyIjpgdmVjJHtsfWZgLGg9KFQsQik9PmAke2N9KCR7VH0sICR7Qn0pYCxmPWEqcy9sLGc9TWF0aC5jZWlsKGkvZCkseT1bInR5cGUiXSx3PVt7dHlwZToidWludDMyIixkYXRhOmd9LHt0eXBlOiJ1aW50MzIiLGRhdGE6aX0se3R5cGU6InVpbnQzMiIsZGF0YTpNYXRoLmZsb29yKHMvbCl9LHt0eXBlOiJ1aW50MzIiLGRhdGE6TWF0aC5mbG9vcihpKnMvbCl9XSx2PVQ9PntsZXQgQj1KKCJpbnB1dCIsZS5kYXRhVHlwZSxlLmRpbXMsbCk7cmV0dXJuYAogICR7VC5kZWNsYXJlVmFyaWFibGVzKEIpfQogIEBncm91cCgwKSBAYmluZGluZygxKSB2YXI8c3RvcmFnZSwgcmVhZF93cml0ZT4gb3V0cHV0IDogYXJyYXk8JHtjfT47CiAgc3RydWN0IFVuaWZvcm1zIHt3Z19zaXplOnUzMiwgSDp1MzIsIEM6dTMyLCBpbWFnZV9zaXplOnUzMn07CiAgQGdyb3VwKDApIEBiaW5kaW5nKDIpIHZhcjx1bmlmb3JtPiB1bmlmb3JtczogVW5pZm9ybXM7CgogICR7VC5tYWluU3RhcnQoZCl9CiAgICBsZXQgY3VycmVudEltYWdlTnVtYmVyID0gZ2xvYmFsX2lkeCAvICR7ZH0gLyB1bmlmb3Jtcy5DOwogICAgbGV0IGN1cnJlbnRDaGFubmVsTnVtYmVyID0gKGdsb2JhbF9pZHggLyAke2R9KSAlIHVuaWZvcm1zLkM7CiAgICBsZXQgd2dJZCA9IGdsb2JhbF9pZHggJSAke2R9OwogICAgbGV0IHdnT2Zmc2V0ID0gd2dJZCAqIHVuaWZvcm1zLndnX3NpemU7CiAgICBpZiAod2dPZmZzZXQgPj0gdW5pZm9ybXMuSCkgewogICAgICAgIHJldHVybjsKICAgIH0KICAgIGxldCB3Z01heCA9IG1pbih3Z09mZnNldCArIHVuaWZvcm1zLndnX3NpemUsIHVuaWZvcm1zLkgpOwoKICAgIGxldCBvZmZzZXQgPSBjdXJyZW50SW1hZ2VOdW1iZXIgKiB1bmlmb3Jtcy5pbWFnZV9zaXplICsgY3VycmVudENoYW5uZWxOdW1iZXI7CiAgICB2YXIgc3VtID0gJHtidCgiZjMyIixsKX07CiAgICB2YXIgc3F1YXJlZFN1bSA9ICR7YnQoImYzMiIsbCl9OwogICAgZm9yICh2YXIgaTogdTMyID0gd2dPZmZzZXQ7IGkgPCB3Z01heDsgaSsrKSB7CiAgICAgICAgbGV0IHZhbHVlID0gJHt1fShpbnB1dFtvZmZzZXQgKyBpICogdW5pZm9ybXMuQ10pOwogICAgICAgIHN1bSArPSB2YWx1ZTsKICAgICAgICBzcXVhcmVkU3VtICs9IHZhbHVlICogdmFsdWU7CiAgICB9CiAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSAke2goInN1bSIsInNxdWFyZWRTdW0iKX07CiAgfWB9LGs9dC5jb21wdXRlKHtuYW1lOiJJbnN0YW5jZU5vcm1Db21wdXRlTWVhbiIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7bH1gLGlucHV0RGVwZW5kZW5jaWVzOnl9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6W2EscyxkLDJdLGRhdGFUeXBlOjF9XSxkaXNwYXRjaEdyb3VwOnt4OmEqcy9sfSxwcm9ncmFtVW5pZm9ybXM6d30pLGdldFNoYWRlclNvdXJjZTp2fSx7aW5wdXRzOltlXSxvdXRwdXRzOlstMV19KVswXSxFPVt7dHlwZToidWludDMyIixkYXRhOmZ9LHt0eXBlOiJ1aW50MzIiLGRhdGE6aX0se3R5cGU6InVpbnQzMiIsZGF0YTpNYXRoLmZsb29yKHMvbCl9LHt0eXBlOiJ1aW50MzIiLGRhdGE6TWF0aC5mbG9vcihkKnMvbCl9XSx4PVsidHlwZSIsInR5cGUiLCJ0eXBlIl0sST1UPT57bGV0IEI9Sigic2NhbGUiLHIuZGF0YVR5cGUsci5kaW1zLGwpLFU9SigiYmlhcyIsbi5kYXRhVHlwZSxuLmRpbXMsbCk7cmV0dXJuYAogIEBncm91cCgwKSBAYmluZGluZygwKSB2YXI8c3RvcmFnZSwgcmVhZD4gaW5wdXQgOiBhcnJheTwke2N9PjsKICBAZ3JvdXAoMCkgQGJpbmRpbmcoMSkgdmFyPHN0b3JhZ2UsIHJlYWQ+IHNjYWxlIDogYXJyYXk8JHtCLnR5cGUuc3RvcmFnZX0+OwogIEBncm91cCgwKSBAYmluZGluZygyKSB2YXI8c3RvcmFnZSwgcmVhZD4gYmlhcyA6IGFycmF5PCR7VS50eXBlLnN0b3JhZ2V9PjsKICBAZ3JvdXAoMCkgQGJpbmRpbmcoMykgdmFyPHN0b3JhZ2UsIHJlYWRfd3JpdGU+IG91dHB1dCA6IGFycmF5PCR7Y30+OwogIHN0cnVjdCBVbmlmb3JtcyB7dW5pdHNfb2Zfd29yayA6IHUzMiwgSDogdTMyLCBDIDogdTMyLCBpbWFnZV9zaXplIDogdTMyfTsKICBAZ3JvdXAoMCkgQGJpbmRpbmcoNCkgdmFyPHVuaWZvcm0+IHVuaWZvcm1zOiBVbmlmb3JtczsKCiAgJHtULm1haW5TdGFydCgpfQogICAgJHtULmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLnVuaXRzX29mX3dvcmsiKX0KICAgIGxldCBjdXJyZW50SW1hZ2VOdW1iZXIgPSBnbG9iYWxfaWR4IC8gdW5pZm9ybXMuQzsKICAgIGxldCBjdXJyZW50Q2hhbm5lbE51bWJlciA9IGdsb2JhbF9pZHggJSB1bmlmb3Jtcy5DOwoKICAgIGxldCBvZmZzZXQgPSBjdXJyZW50SW1hZ2VOdW1iZXIgKiB1bmlmb3Jtcy5pbWFnZV9zaXplOwogICAgdmFyIHN1bSA9ICR7YnQoImYzMiIsbCl9OwogICAgdmFyIHNxdWFyZWRTdW0gPSAke2J0KCJmMzIiLGwpfTsKICAgIGZvciAodmFyIGk6IHUzMiA9IDA7IGkgPCAke2R9OyBpKyspIHsKICAgICAgICBsZXQgdmFsdWUgPSBpbnB1dFtvZmZzZXQgKyBpICsgY3VycmVudENoYW5uZWxOdW1iZXIgKiAke2R9XTsKICAgICAgICBzdW0gKz0gdmFsdWVbMF07CiAgICAgICAgc3F1YXJlZFN1bSArPSB2YWx1ZVsxXTsKICAgIH0KICAgIHN1bSA9IHN1bSAvIGYzMih1bmlmb3Jtcy5IKTsKICAgIHNxdWFyZWRTdW0gPSBzcXVhcmVkU3VtIC8gZjMyKHVuaWZvcm1zLkgpOwogICAgbGV0IGludlN0ZERldiA9IGludmVyc2VTcXJ0KHNxdWFyZWRTdW0gLSBzdW0gKiBzdW0gKyBmMzIoJHtvfSkpOwogICAgbGV0IGNoYW5uZWxTY2FsZSA9IGludlN0ZERldiAqICR7dX0oc2NhbGVbY3VycmVudENoYW5uZWxOdW1iZXJdKTsKICAgIGxldCBjaGFubmVsU2hpZnQgPSAke3V9KGJpYXNbY3VycmVudENoYW5uZWxOdW1iZXJdKSAtIHN1bSAqIGNoYW5uZWxTY2FsZTsKCiAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSAke2goImNoYW5uZWxTY2FsZSIsImNoYW5uZWxTaGlmdCIpfTsKICB9YH07cmV0dXJuIHQuY29tcHV0ZSh7bmFtZToiSW5zdGFuY2VOb3JtQ29tcHV0ZUNoYW5uZWxTY2FsZVNoaWZ0IixzaGFkZXJDYWNoZTp7aGludDpgJHtsfTske299YCxpbnB1dERlcGVuZGVuY2llczp4fSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOlthLHMsMl0sZGF0YVR5cGU6MX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGYvNjQpfSxwcm9ncmFtVW5pZm9ybXM6RX0pLGdldFNoYWRlclNvdXJjZTpJfSx7aW5wdXRzOltrLHIsbl0sb3V0cHV0czpbLTFdfSlbMF19LFJjPSh0LGUscik9PntsZXQgbj1lWzBdLmRpbXMsYT1uLGk9blswXSxzPW5bbi5sZW5ndGgtMV0sbz1lZS5zaXplRnJvbURpbWVuc2lvbihuLDEpL3MsbD12dChzKSxkPWVlLnNpemUoYSkvbCxjPVt7dHlwZToidWludDMyIixkYXRhOm99LHt0eXBlOiJ1aW50MzIiLGRhdGE6TWF0aC5mbG9vcihzL2wpfV0sdT1bInR5cGUiLCJ0eXBlIl0saD1CYyh0LGVbMF0sZVsxXSxlWzJdLGksbyxzLHIuZXBzaWxvbiksZj1nPT57bGV0IHk9SXQoZVswXS5kYXRhVHlwZSksdz1sPT09MT8idmVjMmYiOmBtYXQyeCR7bH1mYCx2PWw9PT0xP3k6YHZlYyR7bH08JHt5fT5gLGs9SigiaW5wdXQiLGVbMF0uZGF0YVR5cGUsZVswXS5kaW1zLGwpLEU9dmUoIm91dHB1dCIsZVswXS5kYXRhVHlwZSxhLGwpO3JldHVybmAKICBAZ3JvdXAoMCkgQGJpbmRpbmcoMCkgdmFyPHN0b3JhZ2UsIHJlYWQ+IGlucHV0IDogYXJyYXk8JHtrLnR5cGUuc3RvcmFnZX0+OwogIEBncm91cCgwKSBAYmluZGluZygxKSB2YXI8c3RvcmFnZSwgcmVhZD4gc2NhbGVJbnB1dCA6IGFycmF5PCR7d30+OwogIEBncm91cCgwKSBAYmluZGluZygyKSB2YXI8c3RvcmFnZSwgcmVhZF93cml0ZT4gb3V0cHV0IDogYXJyYXk8JHtFLnR5cGUuc3RvcmFnZX0+OwogIHN0cnVjdCBVbmlmb3JtcyB7SDogdTMyLCBDIDogdTMyfTsKICBAZ3JvdXAoMCkgQGJpbmRpbmcoMykgdmFyPHVuaWZvcm0+IHVuaWZvcm1zOiBVbmlmb3JtczsKCiAgJHtnLm1haW5TdGFydCgpfQogICAgbGV0IGN1cnJlbnRJbWFnZU51bWJlciA9IGdsb2JhbF9pZHggLyAodW5pZm9ybXMuQyAqIHVuaWZvcm1zLkgpOwogICAgbGV0IGN1cnJlbnRDaGFubmVsTnVtYmVyID0gZ2xvYmFsX2lkeCAlIHVuaWZvcm1zLkM7CgogICAgbGV0IHNjYWxlT2Zmc2V0ID0gY3VycmVudEltYWdlTnVtYmVyICogdW5pZm9ybXMuQyArIGN1cnJlbnRDaGFubmVsTnVtYmVyOwogICAgbGV0IHNjYWxlID0gc2NhbGVJbnB1dFtzY2FsZU9mZnNldF07CiAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSBmbWEoaW5wdXRbZ2xvYmFsX2lkeF0sICR7dn0oc2NhbGVbMF0pLCAke3Z9KHNjYWxlWzFdKSk7CiAgfWB9O3QuY29tcHV0ZSh7bmFtZToiSW5zdGFuY2VOb3JtYWxpemF0aW9uTkhXQyIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7bH1gLGlucHV0RGVwZW5kZW5jaWVzOnV9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6YSxkYXRhVHlwZTplWzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoZC82NCl9LHByb2dyYW1Vbmlmb3JtczpjfSksZ2V0U2hhZGVyU291cmNlOmZ9LHtpbnB1dHM6W2VbMF0saF19KX0sRGM9KHQsZSk9PntlLmZvcm1hdD09PSJOSFdDIj9SYyh0LHQuaW5wdXRzLGUpOnQuY29tcHV0ZSh6Yyh0LmlucHV0cyxlKSl9fSksUGMsTmMsVWMsa189USgoKT0+e1llKCksSWUoKSxDZSgpLFBjPXQ9PntpZighdHx8dC5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoImxheWVyTm9ybSByZXF1aXJlcyBhdCBsZWFzdCAyIGlucHV0cy4iKX0sTmM9KHQsZSxyKT0+e2xldCBuPXRbMF0uZGltcyxhPXRbMV0saT10WzJdLHM9bixvPWVlLm5vcm1hbGl6ZUF4aXMoZS5heGlzLG4ubGVuZ3RoKSxsPWVlLnNpemVUb0RpbWVuc2lvbihuLG8pLGQ9ZWUuc2l6ZUZyb21EaW1lbnNpb24obixvKSxjPWVlLnNpemUoYS5kaW1zKSx1PWk/ZWUuc2l6ZShpLmRpbXMpOjA7aWYoYyE9PWR8fGkmJnUhPT1kKXRocm93IG5ldyBFcnJvcihgU2l6ZSBvZiBYLnNoYXBlKClbYXhpczpdID09ICR7ZH0uCiAgICAgICBTaXplIG9mIHNjYWxlIGFuZCBiaWFzIChpZiBwcm92aWRlZCkgbXVzdCBtYXRjaCB0aGlzLgogICAgICAgR290IHNjYWxlIHNpemUgb2YgJHtjfSBhbmQgYmlhcyBzaXplIG9mICR7dX1gKTtsZXQgaD1bXTtmb3IobGV0IHg9MDt4PG4ubGVuZ3RoOysreCl4PG8/aC5wdXNoKG5beF0pOmgucHVzaCgxKTtsZXQgZj12dChkKSxnPVsidHlwZSIsInR5cGUiXSx5PVt7dHlwZToidWludDMyIixkYXRhOmx9LHt0eXBlOiJmbG9hdDMyIixkYXRhOmR9LHt0eXBlOiJ1aW50MzIiLGRhdGE6TWF0aC5mbG9vcihkL2YpfSx7dHlwZToiZmxvYXQzMiIsZGF0YTplLmVwc2lsb259XTtpJiZnLnB1c2goInR5cGUiKTtsZXQgdz1yPjEsdj1yPjIsaz14PT57bGV0IEk9SXQodFswXS5kYXRhVHlwZSksVD1bSigieCIsdFswXS5kYXRhVHlwZSx0WzBdLmRpbXMsZiksSigic2NhbGUiLGEuZGF0YVR5cGUsYS5kaW1zLGYpXTtpJiZULnB1c2goSigiYmlhcyIsaS5kYXRhVHlwZSxpLmRpbXMsZikpLFQucHVzaCh2ZSgib3V0cHV0Iix0WzBdLmRhdGFUeXBlLHMsZikpLHcmJlQucHVzaCh2ZSgibWVhbl9kYXRhX291dHB1dCIsMSxoKSksdiYmVC5wdXNoKHZlKCJpbnZfc3RkX291dHB1dCIsMSxoKSk7bGV0IEI9W3tuYW1lOiJub3JtX2NvdW50Iix0eXBlOiJ1MzIifSx7bmFtZToibm9ybV9zaXplIix0eXBlOiJmMzIifSx7bmFtZToibm9ybV9zaXplX3ZlY3Rvcml6ZWQiLHR5cGU6InUzMiJ9LHtuYW1lOiJlcHNpbG9uIix0eXBlOiJmMzIifV07cmV0dXJuYAogICR7eC5yZWdpc3RlclVuaWZvcm1zKEIpLmRlY2xhcmVWYXJpYWJsZXMoLi4uVCl9CiAgJHt4Lm1haW5TdGFydCgpfQogICAgJHt4Lmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm5vcm1fY291bnQiKX0KICAgIGxldCBvZmZzZXQgPSBnbG9iYWxfaWR4ICogdW5pZm9ybXMubm9ybV9zaXplX3ZlY3Rvcml6ZWQ7CiAgICB2YXIgbWVhblZlY3RvciA9ICR7YnQoImYzMiIsZil9OwogICAgdmFyIG1lYW5TcXVhcmVWZWN0b3IgPSAke2J0KCJmMzIiLGYpfTsKCiAgICBmb3IgKHZhciBoOiB1MzIgPSAwdTsgaCA8IHVuaWZvcm1zLm5vcm1fc2l6ZV92ZWN0b3JpemVkOyBoKyspIHsKICAgICAgbGV0IHZhbHVlID0gJHthcihJLGYsInhbaCArIG9mZnNldF0iKX07CiAgICAgIG1lYW5WZWN0b3IgKz0gdmFsdWU7CiAgICAgIG1lYW5TcXVhcmVWZWN0b3IgKz0gdmFsdWUgKiB2YWx1ZTsKICAgIH0KICAgIGxldCBtZWFuID0gJHtLdCgibWVhblZlY3RvciIsZil9IC8gdW5pZm9ybXMubm9ybV9zaXplOwogICAgbGV0IGludlN0ZERldiA9CiAgICAgICAgaW52ZXJzZVNxcnQoJHtLdCgibWVhblNxdWFyZVZlY3RvciIsZil9IC8gdW5pZm9ybXMubm9ybV9zaXplIC0gbWVhbiAqIG1lYW4gKyB1bmlmb3Jtcy5lcHNpbG9uKTsKCiAgICBmb3IgKHZhciBqOiB1MzIgPSAwOyBqIDwgdW5pZm9ybXMubm9ybV9zaXplX3ZlY3Rvcml6ZWQ7IGorKykgewogICAgICBsZXQgZjMyaW5wdXQgPSAke2FyKEksZiwieFtqICsgb2Zmc2V0XSIpfTsKICAgICAgbGV0IGYzMnNjYWxlID0gJHthcihJLGYsInNjYWxlW2pdIil9OwogICAgICBvdXRwdXRbaiArIG9mZnNldF0gPSAke1RbMF0udHlwZS52YWx1ZX0oKGYzMmlucHV0IC0gbWVhbikgKiBpbnZTdGREZXYgKiBmMzJzY2FsZQogICAgICAgICR7aT9gKyAke2FyKEksZiwiYmlhc1tqXSIpfWA6IiJ9CiAgICAgICk7CiAgICB9CgogICAgJHt3PyJtZWFuX2RhdGFfb3V0cHV0W2dsb2JhbF9pZHhdID0gbWVhbiI6IiJ9OwogICAgJHt2PyJpbnZfc3RkX291dHB1dFtnbG9iYWxfaWR4XSA9IGludlN0ZERldiI6IiJ9OwogIH1gfSxFPVt7ZGltczpzLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9XTtyZXR1cm4gdyYmRS5wdXNoKHtkaW1zOmgsZGF0YVR5cGU6MX0pLHYmJkUucHVzaCh7ZGltczpoLGRhdGFUeXBlOjF9KSx7bmFtZToiTGF5ZXJOb3JtYWxpemF0aW9uIixzaGFkZXJDYWNoZTp7aGludDpgJHtmfTske3J9YCxpbnB1dERlcGVuZGVuY2llczpnfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6RSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChsLzY0KX0scHJvZ3JhbVVuaWZvcm1zOnl9KSxnZXRTaGFkZXJTb3VyY2U6a319LFVjPSh0LGUpPT57UGModC5pbnB1dHMpLHQuY29tcHV0ZShOYyh0LmlucHV0cyxlLHQub3V0cHV0Q291bnQpKX19KSxXYyxMYywkcyxGYyxNYSxWYyxTXz1RKCgpPT57SWUoKSxpdCgpLGppKCksRXUoKSxDZSgpLGhuKCksV2M9KHQsZSk9PntsZXQgcj10WzBdLG49dFsxXSxhPXRbMl0saT10WzNdLHM9dFs0XSxvPXRbNV0sbD10WzZdLGQ9dFs3XTtpZihyLmRpbXMubGVuZ3RoIT09MyYmci5kaW1zLmxlbmd0aCE9PTUpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCBxdWVyeSBpcyBleHBlY3RlZCB0byBoYXZlIDMgb3IgNSBkaW1lbnNpb25zIik7bGV0IGM9ITEsdT1yLmRpbXNbMF0saD1yLmRpbXNbMV0sZj1yLmRpbXMubGVuZ3RoPT09Mz9jP3IuZGltc1syXS8zOnIuZGltc1syXTplLm51bUhlYWRzKnIuZGltc1s0XSxnPWgseT0wLHc9MCx2PU1hdGguZmxvb3IoZi9lLm51bUhlYWRzKTtpZihsJiZkKXtpZihsLmRpbXMubGVuZ3RoIT09NCl0aHJvdyBuZXcgRXJyb3IoJ0lucHV0ICJwYXN0X2tleSIgaXMgZXhwZWN0ZWQgdG8gaGF2ZSA0IGRpbWVuc2lvbnMnKTtpZihkLmRpbXMubGVuZ3RoIT09NCl0aHJvdyBuZXcgRXJyb3IoJ0lucHV0ICJwYXN0X3ZhbHVlIiBpcyBleHBlY3RlZCB0byBoYXZlIDQgZGltZW5zaW9ucycpO3k9bC5kaW1zWzJdLHc9bC5kaW1zWzJdfWVsc2UgaWYobHx8ZCl0aHJvdyBuZXcgRXJyb3IoJ0lucHV0ICJwYXN0X2tleSIgYW5kICJwYXN0X3ZhbHVlIiBzaGFsbCBiZSBib3RoIHByZXNlbnQgb3IgYm90aCBhYnNlbnQnKTtsZXQgaztpZihuKXtpZihyLmRpbXMubGVuZ3RoIT09Myl0aHJvdyBuZXcgRXJyb3IoJ0lucHV0ICJxdWVyeSIgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAzIGRpbWVuc2lvbnMgd2hlbiBrZXkgaXMgZ2l2ZW4nKTtpZihuLmRpbXMubGVuZ3RoPDN8fG4uZGltcy5sZW5ndGg+NSl0aHJvdyBuZXcgRXJyb3IoJ0lucHV0ICJrZXkiIGlzIGV4cGVjdGVkIHRvIGhhdmUgMywgNCwgb3IgNSBkaW1lbnNpb25zJyk7aWYoci5kaW1zWzBdIT09bi5kaW1zWzBdKXRocm93IG5ldyBFcnJvcignSW5wdXQgInF1ZXJ5IiBhbmQgImtleSIgc2hhbGwgaGF2ZSBzYW1lIGRpbSAwIChiYXRjaCBzaXplKScpO2lmKG4uZGltcy5sZW5ndGg9PT0zKXtpZihuLmRpbXNbMl0hPT1yLmRpbXNbMl0pdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAicXVlcnkiIGFuZCAia2V5IiBzaGFsbCBoYXZlIHNhbWUgZGltIDIgKGhpZGRlbl9zaXplKScpO2s9MixnPW4uZGltc1sxXX1lbHNlIGlmKG4uZGltcy5sZW5ndGg9PT01KXtpZihuLmRpbXNbMl0hPT1lLm51bUhlYWRzfHxuLmRpbXNbM10hPT0yfHxuLmRpbXNbNF0hPT12KXRocm93IG5ldyBFcnJvcignRXhwZWN0ICJrZXkiIHNoYXBlIChiYXRjaF9zaXplLCBrdl9zZXF1ZW5jZV9sZW5ndGgsIG51bV9oZWFkcywgMiwgaGVhZF9zaXplKSBmb3IgcGFja2VkIGt2Jyk7aWYoYSl0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdCAidmFsdWUiIGJlIG5vbmUgd2hlbiAia2V5IiBoYXMgcGFja2VkIGt2IGZvcm1hdC4nKTtrPTUsZz1uLmRpbXNbMV19ZWxzZXtpZihuLmRpbXNbMV0hPT1lLm51bUhlYWRzfHxuLmRpbXNbM10hPT12KXRocm93IG5ldyBFcnJvcignRXhwZWN0ICJrZXkiIHNoYXBlIChiYXRjaF9zaXplLCBudW1faGVhZHMsIGt2X3NlcXVlbmNlX2xlbmd0aCwgaGVhZF9zaXplKSBmb3IgcGFzdF9rZXknKTtrPTAsZz1uLmRpbXNbMl19fWVsc2V7aWYoci5kaW1zLmxlbmd0aCE9PTMmJnIuZGltcy5sZW5ndGghPT01KXRocm93IG5ldyBFcnJvcignSW5wdXQgInF1ZXJ5IiBpcyBleHBlY3RlZCB0byBoYXZlIDMgb3IgNSBkaW1lbnNpb25zIHdoZW4ga2V5IGlzIGVtcHR5Jyk7aWYoci5kaW1zLmxlbmd0aD09PTUmJihyLmRpbXNbMl0hPT1lLm51bUhlYWRzfHxyLmRpbXNbM10hPT0zKSl0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdCAicXVlcnkiIHNoYXBlIChiYXRjaF9zaXplLCBrdl9zZXF1ZW5jZV9sZW5ndGgsIG51bV9oZWFkcywgMywgaGVhZF9zaXplKSBmb3IgcGFja2VkIGt2Jyk7az0zfWlmKGkpe2lmKGkuZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcignSW5wdXQgImJpYXMiIGlzIGV4cGVjdGVkIHRvIGhhdmUgMSBkaW1lbnNpb24nKTtpZihhJiZyLmRpbXMubGVuZ3RoPT09NSYmci5kaW1zWzNdPT09Mil0aHJvdyBuZXcgRXJyb3IoImJpYXMgaXMgbm90IGFsbG93ZWQgZm9yIHBhY2tlZCBrdi4iKX1sZXQgRT0wO2lmKHMpe0U9ODtsZXQgVT1zLmRpbXM7dGhyb3cgVS5sZW5ndGg9PT0xP1VbMF09PT11P0U9MTpVWzBdPT09Myp1KzImJihFPTMpOlUubGVuZ3RoPT09MiYmVVswXT09PXUmJlVbMV09PT1nJiYoRT01KSxFPT09OD9uZXcgRXJyb3IoJ0lucHV0ICJrZXlfcGFkZGluZ19tYXNrIiBzaGFwZSBzaGFsbCBiZSAoYmF0Y2hfc2l6ZSkgb3IgKGJhdGNoX3NpemUsIGt2X3NlcXVlbmNlX2xlbmd0aCknKTpuZXcgRXJyb3IoIk1hc2sgbm90IHN1cHBvcnRlZCIpfWxldCB4PSExLEk9ZjtpZihhKXtpZihhLmRpbXMubGVuZ3RoIT09MyYmYS5kaW1zLmxlbmd0aCE9PTQpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAidmFsdWUiIGlzIGV4cGVjdGVkIHRvIGhhdmUgMyBvciA0IGRpbWVuc2lvbnMnKTtpZihyLmRpbXNbMF0hPT1hLmRpbXNbMF0pdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAicXVlcnkiIGFuZCAidmFsdWUiIHNoYWxsIGhhdmUgc2FtZSBkaW0gMCAoYmF0Y2hfc2l6ZSknKTtpZihhLmRpbXMubGVuZ3RoPT09Myl7aWYoZyE9PWEuZGltc1sxXSl0aHJvdyBuZXcgRXJyb3IoJ0lucHV0ICJrZXkiIGFuZCAidmFsdWUiIHNoYWxsIGhhdmUgdGhlIHNhbWUgZGltIDEgKGt2X3NlcXVlbmNlX2xlbmd0aCknKTtJPWEuZGltc1syXX1lbHNle2lmKGchPT1hLmRpbXNbMl0pdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAicGFzdF9rZXkiIGFuZCAicGFzdF92YWx1ZSIgc2hhbGwgaGF2ZSB0aGUgc2FtZSBkaW0gMiAoa3Zfc2VxdWVuY2VfbGVuZ3RoKScpO0k9YS5kaW1zWzFdKmEuZGltc1szXSx4PSEwfX1sZXQgVD15K2csQj0hMTtpZihzKXRocm93IG5ldyBFcnJvcigiS2V5IHBhZGRpbmcgbWFzayBpcyBub3Qgc3VwcG9ydGVkIik7aWYobyl0aHJvdyBuZXcgRXJyb3IoImV4dHJhQWRkUWsgaXMgbm90IHN1cHBvcnRlZCIpO2lmKGwpdGhyb3cgbmV3IEVycm9yKCJwYXN0S2V5IGlzIG5vdCBzdXBwb3J0ZWQiKTtpZihkKXRocm93IG5ldyBFcnJvcigicGFzdFZhbHVlIGlzIG5vdCBzdXBwb3J0ZWQiKTtyZXR1cm57YmF0Y2hTaXplOnUsc2VxdWVuY2VMZW5ndGg6aCxwYXN0U2VxdWVuY2VMZW5ndGg6eSxrdlNlcXVlbmNlTGVuZ3RoOmcsdG90YWxTZXF1ZW5jZUxlbmd0aDpULG1heFNlcXVlbmNlTGVuZ3RoOncsaW5wdXRIaWRkZW5TaXplOjAsaGlkZGVuU2l6ZTpmLHZIaWRkZW5TaXplOkksaGVhZFNpemU6dix2SGVhZFNpemU6TWF0aC5mbG9vcihJL2UubnVtSGVhZHMpLG51bUhlYWRzOmUubnVtSGVhZHMsaXNVbmlkaXJlY3Rpb25hbDohMSxwYXN0UHJlc2VudFNoYXJlQnVmZmVyOiExLG1hc2tGaWx0ZXJWYWx1ZTplLm1hc2tGaWx0ZXJWYWx1ZSxtYXNrVHlwZTpFLHNjYWxlOmUuc2NhbGUsYnJvYWRjYXN0UmVzUG9zQmlhczpCLHBhc3NQYXN0SW5Ldjp4LHFrdkZvcm1hdDprfX0sTGM9dD0+cWUoey4uLnR9KSwkcz1xZSh7cGVybTpbMCwyLDEsM119KSxGYz0odCxlLHIsbixhLGkscyk9PntsZXQgbz1bbixhLGldLGw9ZWUuc2l6ZShvKSxkPVt7dHlwZToidWludDMyIixkYXRhOmx9LHt0eXBlOiJ1aW50MzIiLGRhdGE6c30se3R5cGU6InVpbnQzMiIsZGF0YTppfV0sYz11PT57bGV0IGg9dmUoInFrdl93aXRoX2JpYXMiLGUuZGF0YVR5cGUsbyksZj1KKCJxa3YiLGUuZGF0YVR5cGUsbyksZz1KKCJiaWFzIixyLmRhdGFUeXBlLG8pLHk9W3tuYW1lOiJvdXRwdXRfc2l6ZSIsdHlwZToidTMyIn0se25hbWU6ImJpYXNfb2Zmc2V0Iix0eXBlOiJ1MzIifSx7bmFtZToiaGlkZGVuX3NpemUiLHR5cGU6InUzMiJ9XTtyZXR1cm5gCiAgJHt1LnJlZ2lzdGVyVW5pZm9ybXMoeSkuZGVjbGFyZVZhcmlhYmxlcyhmLGcsaCl9CiAgJHt1Lm1haW5TdGFydCgpfQogICAgJHt1Lmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dF9zaXplIil9CiAgICBsZXQgYmlhc19vZmZzZXRfaWR4ID0gKGdsb2JhbF9pZHggJSB1bmlmb3Jtcy5oaWRkZW5fc2l6ZSkgKyB1bmlmb3Jtcy5iaWFzX29mZnNldDsKCiAgICBxa3Zfd2l0aF9iaWFzW2dsb2JhbF9pZHhdID0gcWt2W2dsb2JhbF9pZHhdICsgYmlhc1tiaWFzX29mZnNldF9pZHhdOwogIH1gfTtyZXR1cm4gdC5jb21wdXRlKHtuYW1lOiJNdWx0aUhlYWRBdHRlbnRpb25BZGRCaWFzIixzaGFkZXJDYWNoZTp7aW5wdXREZXBlbmRlbmNpZXM6WyJ0eXBlIiwidHlwZSJdfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOm8sZGF0YVR5cGU6ZS5kYXRhVHlwZSxncHVEYXRhVHlwZTowfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwobC82NCl9LHByb2dyYW1Vbmlmb3JtczpkfSksZ2V0U2hhZGVyU291cmNlOmN9LHtpbnB1dHM6W2Uscl0sb3V0cHV0czpbLTFdfSlbMF19LE1hPSh0LGUscixuLGEsaSxzLG8pPT57bGV0IGw9aTtpZihzKXtpZihuPT09MSl0aHJvdyBuZXcgRXJyb3IoIkFkZEJpYXNSZXNoYXBlIGlzIG5vdCBpbXBsZW1lbnRlZC4gUGxlYXNlIGV4cG9ydCB5b3VyIG1vZGVsIHdpdGggcGFja2VkIFFLViBvciBLViIpO3JldHVybiBsPUZjKHQsaSxzLGUsbixyKmEsbyksbD1sLnJlc2hhcGUoW2UsbixyLGFdKSx0LmNvbXB1dGUoZHIobCwkcy5wZXJtKSx7aW5wdXRzOltsXSxvdXRwdXRzOlstMV19KVswXX1lbHNlIHJldHVybiBpLmRpbXMubGVuZ3RoPT09MyYmKGw9aS5yZXNoYXBlKFtlLG4scixhXSkpLHQuY29tcHV0ZShkcihsLCRzLnBlcm0pLHtpbnB1dHM6W2xdLG91dHB1dHM6Wy0xXX0pWzBdfSxWYz0odCxlKT0+e2xldCByPVdjKHQuaW5wdXRzLGUpO2lmKHQuaW5wdXRzWzBdLmRpbXMubGVuZ3RoPT09NSl0aHJvdyBuZXcgRXJyb3IoIlBhY2tlZCBRS1YgaXMgbm90IGltcGxlbWVudGVkIik7aWYodC5pbnB1dHNbMV0/LmRpbXMubGVuZ3RoPT09NSl0aHJvdyBuZXcgRXJyb3IoIlBhY2tlZCBLViBpcyBub3QgaW1wbGVtZW50ZWQiKTtsZXQgbj10LmlucHV0c1sxXSYmdC5pbnB1dHNbMl0mJnQuaW5wdXRzWzFdLmRpbXMubGVuZ3RoPT09NCYmdC5pbnB1dHNbMl0uZGltcy5sZW5ndGg9PT00LGE9TWEodCxyLmJhdGNoU2l6ZSxyLm51bUhlYWRzLHIuc2VxdWVuY2VMZW5ndGgsci5oZWFkU2l6ZSx0LmlucHV0c1swXSx0LmlucHV0c1szXSwwKTtpZihuKXJldHVybiBTYSh0LGEsdC5pbnB1dHNbMV0sdC5pbnB1dHNbMl0sdC5pbnB1dHNbNF0sdm9pZCAwLHZvaWQgMCx2b2lkIDAsdC5pbnB1dHNbNV0scixlKTtsZXQgaT1NYSh0LHIuYmF0Y2hTaXplLHIubnVtSGVhZHMsci5rdlNlcXVlbmNlTGVuZ3RoLHIuaGVhZFNpemUsdC5pbnB1dHNbMV0sdC5pbnB1dHNbM10sci5oaWRkZW5TaXplKSxzPU1hKHQsci5iYXRjaFNpemUsci5udW1IZWFkcyxyLmt2U2VxdWVuY2VMZW5ndGgsci52SGVhZFNpemUsdC5pbnB1dHNbMl0sdC5pbnB1dHNbM10sMipyLmhpZGRlblNpemUpO1NhKHQsYSxpLHMsdC5pbnB1dHNbNF0sdm9pZCAwLHQuaW5wdXRzWzZdLHQuaW5wdXRzWzddLHQuaW5wdXRzWzVdLHIsZSl9fSksSGMsR2MscWMsamMsS2MsWWMsWGMsUWMsWmMsRV89USgoKT0+e1llKCksSWUoKSxDZSgpLEhjPXQ9PntpZighdHx8dC5sZW5ndGg8MSl0aHJvdyBuZXcgRXJyb3IoIlRvbyBmZXcgaW5wdXRzIik7aWYodFswXS5kYXRhVHlwZSE9PTEpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCB0eXBlIG11c3QgYmUgZmxvYXQuIik7aWYodC5sZW5ndGg+PTIpe2xldCBlPXRbMF0uZGltcy5sZW5ndGgqMj09PXRbMV0uZGltc1swXTtpZih0Lmxlbmd0aD09PTQmJihlPXRbM10uZGltc1swXSoyPT09dFsxXS5kaW1zWzBdKSwhZSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBwYWRzIHNob3VsZCBiZSBhIDFEIHRlbnNvciBvZiBzaGFwZSBbMiAqIGlucHV0X3JhbmtdIG9yIFsyICogbnVtX2F4ZXNdLiIpfX0sR2M9KHQsZSxyKT0+e2xldCBuPSIiO2ZvcihsZXQgYT1lLTE7YT49MDstLWEpbis9YAogICAgICAgICAgICBrID0gaTMyKCR7dC5pbmRpY2VzR2V0KCJpbmRpY2VzIixhKX0pIC0gJHt4ZSgidW5pZm9ybXMucGFkcyIsYSxyKX07CiAgICAgICAgICAgIGlmIChrIDwgMCkgewogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChrID49IGkzMigke3hlKCJ1bmlmb3Jtcy54X3NoYXBlIixhLGUpfSkpIHsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBvZmZzZXQgKz0gayAqIGkzMigke3hlKCJ1bmlmb3Jtcy54X3N0cmlkZXMiLGEsZSl9KTsKICAgICAgICBgO3JldHVybmAKICAgICAgICAgIHZhbHVlID0gJHt0LnR5cGUudmFsdWV9KHVuaWZvcm1zLmNvbnN0YW50X3ZhbHVlKTsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTsgaSsrKSB7CiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAwOwogICAgICAgICAgICB2YXIgayA9IDA7CiAgICAgICAgICAgICR7bn0KICAgICAgICAgICAgdmFsdWUgPSB4W29mZnNldF07CiAgICAgICAgICB9CiAgICAgIGB9LHFjPSh0LGUscik9PntsZXQgbj0iIjtmb3IobGV0IGE9ZS0xO2E+PTA7LS1hKW4rPWAKICAgICAgICAgICAgICAgIGsgPSBpMzIoJHt0LmluZGljZXNHZXQoImluZGljZXMiLGEpfSkgLSAke3hlKCJ1bmlmb3Jtcy5wYWRzIixhLHIpfTsKICAgICAgICAgICAgICAgIGlmIChrIDwgMCkgewogICAgICAgICAgICAgICAgICBrID0gLWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIGxldCBfMm5fMSA9IDIgKiAoaTMyKCR7eGUoInVuaWZvcm1zLnhfc2hhcGUiLGEsZSl9KSAtIDEpOwogICAgICAgICAgICAgICAgICBrID0gayAlIF8ybl8xOwogICAgICAgICAgICAgICAgICBpZihrID49IGkzMigke3hlKCJ1bmlmb3Jtcy54X3NoYXBlIixhLGUpfSkpIHsKICAgICAgICAgICAgICAgICAgICBrID0gXzJuXzEgLSBrOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gayAqIGkzMigke3hlKCJ1bmlmb3Jtcy54X3N0cmlkZXMiLGEsZSl9KTsKICAgICAgICAgICAgYDtyZXR1cm5gCiAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7CiAgICAgICAgICAgICAgdmFyIGsgPSAwOwogICAgICAgICAgICAgICR7bn0KICAgICAgICAgICAgICB2YWx1ZSA9IHhbb2Zmc2V0XTsKICAgICAgICAgIGB9LGpjPSh0LGUscik9PntsZXQgbj0iIjtmb3IobGV0IGE9ZS0xO2E+PTA7LS1hKW4rPWAKICAgICAgICAgICAgICAgIGsgPSBpMzIoJHt0LmluZGljZXNHZXQoImluZGljZXMiLGEpfSkgLSAke3hlKCJ1bmlmb3Jtcy5wYWRzIixhLHIpfTsKICAgICAgICAgICAgICAgIGlmIChrIDwgMCkgewogICAgICAgICAgICAgICAgICBrID0gMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChrID49IGkzMigke3hlKCJ1bmlmb3Jtcy54X3NoYXBlIixhLGUpfSkpIHsKICAgICAgICAgICAgICAgICAgayA9IGkzMigke3hlKCJ1bmlmb3Jtcy54X3NoYXBlIixhLGUpfSkgLSAxOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGsgKiBpMzIoJHt4ZSgidW5pZm9ybXMueF9zdHJpZGVzIixhLGUpfSk7CiAgICAgICAgICAgIGA7cmV0dXJuYAogICAgICAgICAgICAgIHZhciBvZmZzZXQgPSAwOwogICAgICAgICAgICAgIHZhciBrID0gMDsKICAgICAgICAgICAgICAke259CiAgICAgICAgICAgICAgdmFsdWUgPSB4W29mZnNldF07CiAgICAgICAgICBgfSxLYz0odCxlLHIpPT57bGV0IG49IiI7Zm9yKGxldCBhPWUtMTthPj0wOy0tYSluKz1gCiAgICAgICAgICAgICAgICBrID0gaTMyKCR7dC5pbmRpY2VzR2V0KCJpbmRpY2VzIixhKX0pIC0gJHt4ZSgidW5pZm9ybXMucGFkcyIsYSxyKX07CiAgICAgICAgICAgICAgICBpZiAoayA8IDApICB7CiAgICAgICAgICAgICAgICAgIGsgKz0gaTMyKCR7eGUoInVuaWZvcm1zLnhfc2hhcGUiLGEsZSl9XSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoayA+PSBpMzIoJHt4ZSgidW5pZm9ybXMueF9zaGFwZSIsYSxlKX0pKSB7CiAgICAgICAgICAgICAgICAgIGsgLT0gaTMyKCR7eGUoInVuaWZvcm1zLnhfc2hhcGUiLGEsZSl9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG9mZnNldCArPSBrICogaTMyKCR7eGUoInVuaWZvcm1zLnhfc3RyaWRlcyIsYSxlKX0pOwogICAgICAgICAgICBgO3JldHVybmAKICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKICAgICAgICAgICAgICB2YXIgayA9IDA7CiAgICAgICAgICAgICAgJHtufQogICAgICAgICAgICAgIHZhbHVlID0geFtvZmZzZXRdOwogICAgICAgICAgYH0sWWM9KHQsZSxyKT0+e3N3aXRjaChyLm1vZGUpe2Nhc2UgMDpyZXR1cm4gR2ModCxlLHIucGFkcy5sZW5ndGgpO2Nhc2UgMTpyZXR1cm4gcWModCxlLHIucGFkcy5sZW5ndGgpO2Nhc2UgMjpyZXR1cm4gamModCxlLHIucGFkcy5sZW5ndGgpO2Nhc2UgMzpyZXR1cm4gS2ModCxlLHIucGFkcy5sZW5ndGgpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIG1vZGUiKX19LFhjPSh0LGUpPT57bGV0IHI9ZWUucGFkU2hhcGUodFswXS5kaW1zLnNsaWNlKCksZS5wYWRzKSxuPXRbMF0uZGltcyxhPVt7dHlwZToidWludDMyIixkYXRhOmVlLnNpemUocil9LHt0eXBlOiJ1aW50MzIiLGRhdGE6ZS5wYWRzfV07aWYoZS5tb2RlPT09MCl7bGV0IG89anQodFswXS5kYXRhVHlwZSk7YS5wdXNoKHt0eXBlOm8sZGF0YTplLnZhbHVlfSl9YS5wdXNoKC4uLmllKHRbMF0uZGltcyksLi4uaWUocikpO2xldCBpPVsicmFuayJdLHM9bz0+e2xldCBsPXZlKCJvdXRwdXQiLHRbMF0uZGF0YVR5cGUsci5sZW5ndGgpLGQ9SigieCIsdFswXS5kYXRhVHlwZSxuLmxlbmd0aCksYz1kLnR5cGUudmFsdWUsdT1ZYyhsLG4ubGVuZ3RoLGUpLGg9W3tuYW1lOiJvdXRwdXRfc2l6ZSIsdHlwZToidTMyIn0se25hbWU6InBhZHMiLHR5cGU6ImkzMiIsbGVuZ3RoOmUucGFkcy5sZW5ndGh9XTtyZXR1cm4gZS5tb2RlPT09MCYmaC5wdXNoKHtuYW1lOiJjb25zdGFudF92YWx1ZSIsdHlwZTpjfSksYAogICAgICAgICAgICAke28ucmVnaXN0ZXJVbmlmb3JtcyhoKS5kZWNsYXJlVmFyaWFibGVzKGQsbCl9CiAgICAgICAgICAgICR7by5tYWluU3RhcnQoKX0KICAgICAgICAgICAgJHtvLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dF9zaXplIil9CgogICAgICAgICAgICBsZXQgaW5kaWNlcyA9ICR7bC5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07CgogICAgICAgICAgICB2YXIgdmFsdWUgPSAke2N9KDApOwogICAgICAgICAgICAke3V9CiAgICAgICAgICAgIG91dHB1dFtnbG9iYWxfaWR4XSA9IHZhbHVlOwogICAgICAgIH1gfTtyZXR1cm57bmFtZToiUGFkIixzaGFkZXJDYWNoZTp7aGludDpgJHtlLm1vZGV9YCxpbnB1dERlcGVuZGVuY2llczppfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnIsZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGVlLnNpemUocikvNjQpfSxwcm9ncmFtVW5pZm9ybXM6YX0pLGdldFNoYWRlclNvdXJjZTpzfX0sUWM9KHQsZSk9PntpZih0Lmxlbmd0aD4xKXtsZXQgcj10WzFdLmdldEJpZ0ludDY0QXJyYXkoKSxuPXQubGVuZ3RoPj0zJiZ0WzJdLmRhdGE/dFsyXS5nZXRGbG9hdDMyQXJyYXkoKVswXTowLGE9dFswXS5kaW1zLmxlbmd0aCxpPW5ldyBJbnQzMkFycmF5KDIqYSkuZmlsbCgwKTtpZih0Lmxlbmd0aD49NCl7bGV0IG89dFszXS5nZXRCaWdJbnQ2NEFycmF5KCk7Zm9yKGxldCBsPTA7bDxvLmxlbmd0aDtsKyspaVtOdW1iZXIob1tsXSldPU51bWJlcihyW2xdKSxpW051bWJlcihvW2xdKSthXT1OdW1iZXIocltsK28ubGVuZ3RoXSl9ZWxzZSByLmZvckVhY2goKG8sbCk9PmlbTnVtYmVyKGwpXT1OdW1iZXIobykpO2xldCBzPVtdO3JldHVybiBpLmZvckVhY2gobz0+cy5wdXNoKG8pKSx7bW9kZTplLm1vZGUsdmFsdWU6bixwYWRzOnN9fWVsc2UgcmV0dXJuIGV9LFpjPSh0LGUpPT57SGModC5pbnB1dHMpO2xldCByPVFjKHQuaW5wdXRzLGUpO3QuY29tcHV0ZShYYyh0LmlucHV0cyxyKSx7aW5wdXRzOlswXX0pfX0pLG1uLHhzLGtzLFNzLEVzLEpjLGVwLENzLElzLHRwLHJwLEFzLG5wLGFwLFRzLGlwLHNwLG9wLGxwLENfPVEoKCk9PntQdCgpLEllKCksQ2UoKSxtbj10PT57aWYoUGUud2ViZ3B1LnZhbGlkYXRlSW5wdXRDb250ZW50JiYoIXR8fHQubGVuZ3RoIT09MSkpdGhyb3cgbmV3IEVycm9yKCJQb29sIG9wcyByZXF1aXJlcyAxIGlucHV0LiIpfSx4cz0odCxlLHIpPT57bGV0IG49ZS5mb3JtYXQ9PT0iTkhXQyIsYT10LmRpbXMuc2xpY2UoKTtuJiZhLnNwbGljZSgxLDAsYS5wb3AoKSk7bGV0IGk9T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSwiZGlsYXRpb25zIikscz1lLmtlcm5lbFNoYXBlLnNsaWNlKCksbz1lLnN0cmlkZXMuc2xpY2UoKSxsPWk/ZS5kaWxhdGlvbnMuc2xpY2UoKTpbXSxkPWUucGFkcy5zbGljZSgpO2JhLmFkanVzdFBvb2xBdHRyaWJ1dGVzKHIsYSxzLG8sbCxkKTtsZXQgYz1iYS5jb21wdXRlUG9vbE91dHB1dFNoYXBlKHIsYSxvLGwscyxkLGUuYXV0b1BhZCksdT1PYmplY3QuYXNzaWduKHt9LGUpO2k/T2JqZWN0LmFzc2lnbih1LHtrZXJuZWxTaGFwZTpzLHN0cmlkZXM6byxwYWRzOmQsZGlsYXRpb25zOmwsY2FjaGVLZXk6ZS5jYWNoZUtleX0pOk9iamVjdC5hc3NpZ24odSx7a2VybmVsU2hhcGU6cyxzdHJpZGVzOm8scGFkczpkLGNhY2hlS2V5OmUuY2FjaGVLZXl9KTtsZXQgaD1jLnNsaWNlKCk7cmV0dXJuIGgucHVzaChoLnNwbGljZSgxLDEpWzBdKSxbdSxuP2g6Y119LGtzPSh0LGUpPT57bGV0IHI9ZS5mb3JtYXQ9PT0iTkhXQyIsbj1lZS5zaXplKHQpLGE9ZWUuc2l6ZShlLmtlcm5lbFNoYXBlKSxpPVt7dHlwZToidWludDMyIixkYXRhOm59LHt0eXBlOiJ1aW50MzIiLGRhdGE6YX1dLHM9W3tuYW1lOiJvdXRwdXRTaXplIix0eXBlOiJ1MzIifSx7bmFtZToia2VybmVsU2l6ZSIsdHlwZToidTMyIn1dO2lmKGUua2VybmVsU2hhcGUubGVuZ3RoPD0yKXtsZXQgbz1lLmtlcm5lbFNoYXBlW2Uua2VybmVsU2hhcGUubGVuZ3RoLTFdLGw9ZS5zdHJpZGVzW2Uuc3RyaWRlcy5sZW5ndGgtMV0sZD1lLnBhZHNbZS5wYWRzLmxlbmd0aC8yLTFdLGM9ZS5wYWRzW2UucGFkcy5sZW5ndGgtMV0sdT0hIShkK2MpO2kucHVzaCh7dHlwZToidWludDMyIixkYXRhOm99LHt0eXBlOiJ1aW50MzIiLGRhdGE6bH0se3R5cGU6InVpbnQzMiIsZGF0YTpkfSx7dHlwZToidWludDMyIixkYXRhOmN9KSxzLnB1c2goe25hbWU6Imt3Iix0eXBlOiJ1MzIifSx7bmFtZToic3ciLHR5cGU6InUzMiJ9LHtuYW1lOiJwd1N0YXJ0Iix0eXBlOiJ1MzIifSx7bmFtZToicHdFbmQiLHR5cGU6InUzMiJ9KTtsZXQgaD0hMTtpZihlLmtlcm5lbFNoYXBlLmxlbmd0aD09PTIpe2xldCBmPWUua2VybmVsU2hhcGVbZS5rZXJuZWxTaGFwZS5sZW5ndGgtMl0sZz1lLnN0cmlkZXNbZS5zdHJpZGVzLmxlbmd0aC0yXSx5PWUucGFkc1tlLnBhZHMubGVuZ3RoLzItMl0sdz1lLnBhZHNbZS5wYWRzLmxlbmd0aC0yXTtoPSEhKHkrdyksaS5wdXNoKHt0eXBlOiJ1aW50MzIiLGRhdGE6Zn0se3R5cGU6InVpbnQzMiIsZGF0YTpnfSx7dHlwZToidWludDMyIixkYXRhOnl9LHt0eXBlOiJ1aW50MzIiLGRhdGE6d30pLHMucHVzaCh7bmFtZToia2giLHR5cGU6InUzMiJ9LHtuYW1lOiJzaCIsdHlwZToidTMyIn0se25hbWU6InBoU3RhcnQiLHR5cGU6InUzMiJ9LHtuYW1lOiJwaEVuZCIsdHlwZToidTMyIn0pfXJldHVybltpLHMsITAsdSxoXX1lbHNle2lmKHIpdGhyb3cgbmV3IEVycm9yKCJQb29saW5nIHdpdGgga2VybmVsU2hhcGUubGVuZ3RoID4gMiBpcyBub3Qgc3VwcG9ydGVkIGZvciBOSFdDIGZvcm1hdC4iKTtsZXQgbz1lZS5jb21wdXRlU3RyaWRlcyhlLmtlcm5lbFNoYXBlKTtpLnB1c2goe3R5cGU6InVpbnQzMiIsZGF0YTpvfSx7dHlwZToidWludDMyIixkYXRhOmUucGFkc30se3R5cGU6InVpbnQzMiIsZGF0YTplLnN0cmlkZXN9KSxzLnB1c2goe25hbWU6Imtlcm5lbFN0cmlkZXMiLHR5cGU6InUzMiIsbGVuZ3RoOm8ubGVuZ3RofSx7bmFtZToicGFkcyIsdHlwZToidTMyIixsZW5ndGg6ZS5wYWRzLmxlbmd0aH0se25hbWU6InN0cmlkZXMiLHR5cGU6InUzMiIsbGVuZ3RoOmUuc3RyaWRlcy5sZW5ndGh9KTtsZXQgbD1lLnBhZHMucmVkdWNlKChkLGMpPT5kK2MpO3JldHVybltpLHMsISFsLCExLCExXX19LFNzPSh0LGUscixuLGEsaSxzLG8sbCxkLGMsdSk9PntsZXQgaD1hLmZvcm1hdD09PSJOSFdDIixmPWUudHlwZS52YWx1ZSxnPXZlKCJvdXRwdXQiLGUudHlwZS50ZW5zb3Isbik7aWYoYS5rZXJuZWxTaGFwZS5sZW5ndGg8PTIpe2xldCB5PSIiLHc9IiIsdj0iIixrPXItKGg/MjoxKTtpZihjP3k9YAogICAgICAgICAgICAgICAgZm9yICh2YXIgaTogdTMyID0gMHU7IGkgPCB1bmlmb3Jtcy5rdzsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHhJbmRpY2VzWyR7a31dID0gaW5kaWNlc1ske2t9XSAqIHVuaWZvcm1zLnN3IC0gdW5pZm9ybXMucHdTdGFydCArIGk7CiAgICAgICAgICAgICAgICAgIGlmICh4SW5kaWNlc1ske2t9XSA8IDAgfHwgeEluZGljZXNbJHtrfV0KICAgICAgICAgICAgICAgICAgICAgID49IHVuaWZvcm1zLnhfc2hhcGVbJHtrfV0pIHsKICAgICAgICAgICAgICAgICAgICBwYWQrKzsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICBsZXQgeF92YWwgPSB4WyR7ZS5pbmRpY2VzVG9PZmZzZXQoInhJbmRpY2VzIil9XTsKICAgICAgICAgICAgICAgICAgJHtpfQogICAgICAgICAgICAgICAgfWA6eT1gCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpOiB1MzIgPSAwdTsgaSA8IHVuaWZvcm1zLmt3OyBpKyspIHsKICAgICAgICAgICAgICAgICAgeEluZGljZXNbJHtrfV0gPSBpbmRpY2VzWyR7a31dICogdW5pZm9ybXMuc3cgLSB1bmlmb3Jtcy5wd1N0YXJ0ICsgaTsKICAgICAgICAgICAgICAgICAgbGV0IHhfdmFsID0geFske2UuaW5kaWNlc1RvT2Zmc2V0KCJ4SW5kaWNlcyIpfV07CiAgICAgICAgICAgICAgICAgICR7aX0KICAgICAgICAgICAgICAgIH1gLGEua2VybmVsU2hhcGUubGVuZ3RoPT09Mil7bGV0IEU9ci0oaD8zOjIpO3U/dz1gCiAgICAgICAgICAgICAgICBmb3IgKHZhciBqOiB1MzIgPSAwdTsgaiA8IHVuaWZvcm1zLmtoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgeEluZGljZXNbJHtFfV0gPSBpbmRpY2VzWyR7RX1dICogdW5pZm9ybXMuc2ggLSB1bmlmb3Jtcy5waFN0YXJ0ICsgajsKICAgICAgICAgICAgICAgICAgaWYgKHhJbmRpY2VzWyR7RX1dIDwgMCB8fCB4SW5kaWNlc1ske0V9XSA+PSB1bmlmb3Jtcy54X3NoYXBlWyR7RX1dKSB7CiAgICAgICAgICAgICAgICAgICAgcGFkICs9IGkzMih1bmlmb3Jtcy5rdyk7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBgOnc9YAogICAgICAgICAgICAgICAgZm9yICh2YXIgajogdTMyID0gMHU7IGogPCB1bmlmb3Jtcy5raDsgaisrKSB7CiAgICAgICAgICAgICAgICAgIHhJbmRpY2VzWyR7RX1dID0gaW5kaWNlc1ske0V9XSAqIHVuaWZvcm1zLnNoIC0gdW5pZm9ybXMucGhTdGFydCArIGo7CiAgICAgICAgICAgICAgICBgLHY9YAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgYH1yZXR1cm5gCiAgICAgICAgICAgICR7dC5yZWdpc3RlclVuaWZvcm1zKGwpLmRlY2xhcmVWYXJpYWJsZXMoZSxnKX0KCiAgICAgICAgICAgICR7dC5tYWluU3RhcnQoKX0KICAgICAgICAgICAgICAke3QuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0U2l6ZSIpfQoKICAgICAgICAgICAgICBsZXQgaW5kaWNlcyA9ICR7Zy5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07CiAgICAgICAgICAgICAgdmFyIHhJbmRpY2VzID0gJHtnLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTsKCiAgICAgICAgICAgICAgdmFyIHZhbHVlID0gJHtmfSgke299KTsKICAgICAgICAgICAgICB2YXIgcGFkID0gMDsKICAgICAgICAgICAgICAke3d9CiAgICAgICAgICAgICAgJHt5fQogICAgICAgICAgICAgICR7dn0KICAgICAgICAgICAgICAke3N9CgogICAgICAgICAgICAgIG91dHB1dFtnbG9iYWxfaWR4XSA9IHZhbHVlOwogICAgICAgICAgICB9YH1lbHNle2lmKGgpdGhyb3cgbmV3IEVycm9yKCJQb29saW5nIHdpdGgga2VybmVsU2hhcGUubGVuZ3RoID4gMiBpcyBub3Qgc3VwcG9ydGVkIGZvciBOSFdDIGZvcm1hdC4iKTtsZXQgeT1hLmtlcm5lbFNoYXBlLmxlbmd0aCx3PWEucGFkcy5sZW5ndGgsdj0iIjtyZXR1cm4gZD92PWAKICAgICAgICAgICAgICAgIGlmICh4SW5kaWNlc1tqXSA+PSB1bmlmb3Jtcy54X3NoYXBlW2pdKSB7CiAgICAgICAgICAgICAgICAgIHBhZCsrOwogICAgICAgICAgICAgICAgICBpc1BhZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoIWlzUGFkKSB7CiAgICAgICAgICAgICAgICBsZXQgeF92YWwgPSB4WyR7ZS5pbmRpY2VzVG9PZmZzZXQoInhJbmRpY2VzIil9XTsKICAgICAgICAgICAgICAgICR7aX0KICAgICAgICAgICAgICB9YDp2PWAKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgbGV0IHhfdmFsID0geFske2UuaW5kaWNlc1RvT2Zmc2V0KCJ4SW5kaWNlcyIpfV07CiAgICAgICAgICAgICAgJHtpfQogICAgICAgICAgICBgLGAKICAgICAgICAgICAgJHt0LnJlZ2lzdGVyVW5pZm9ybXMobCkuZGVjbGFyZVZhcmlhYmxlcyhlLGcpfQoKICAgICAgICAgICAgJHt0Lm1haW5TdGFydCgpfQogICAgICAgICAgICAgICR7dC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9CiAgICAgICAgICAgICAgbGV0IGluZGljZXMgPSAke2cub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9OwogICAgICAgICAgICAgIHZhciB4SW5kaWNlcyA9ICR7Zy5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07CgogICAgICAgICAgICAgIHZhciBvZmZzZXRzOiBhcnJheTx1MzIsICR7eX0+OwoKICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAke2Z9KCR7b30pOwogICAgICAgICAgICAgIHZhciBwYWQgPSAwOwogICAgICAgICAgICAgIHZhciBpc1BhZCA9IGZhbHNlOwoKICAgICAgICAgICAgICBmb3IgKHZhciBpOiB1MzIgPSAwdTsgaSA8IHVuaWZvcm1zLmtlcm5lbFNpemU7IGkrKykgewogICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IGk7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMHU7IGogPCAke3ktMX11OyBqKyspIHsKICAgICAgICAgICAgICAgICAgb2Zmc2V0c1tqXSA9IG9mZnNldCAvICR7eGUoInVuaWZvcm1zLmtlcm5lbFN0cmlkZXMiLCJqIix5KX07CiAgICAgICAgICAgICAgICAgIG9mZnNldCAtPSBvZmZzZXRzW2pdICogJHt4ZSgidW5pZm9ybXMua2VybmVsU3RyaWRlcyIsImoiLHkpfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG9mZnNldHNbJHt5LTF9XSA9IG9mZnNldDsKCiAgICAgICAgICAgICAgICBpc1BhZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9ICR7ci15fXU7IGogPCAke3J9dTsgaisrKSB7CiAgICAgICAgICAgICAgICAgIHhJbmRpY2VzW2pdID0gaW5kaWNlc1tqXSAqICR7eGUoInVuaWZvcm1zLnN0cmlkZXMiLGBqIC0gJHtyLXl9dWAseSl9CiAgICAgICAgICAgICAgICAgICAgKyBvZmZzZXRzW2ogLSAke3IteX11XSAtICR7eGUoInVuaWZvcm1zLnBhZHMiLCJqIC0gMnUiLHcpfTsKICAgICAgICAgICAgICAgICAgJHt2fQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAke3N9CgogICAgICAgICAgICAgIG91dHB1dFtnbG9iYWxfaWR4XSA9IHZhbHVlOwogICAgICAgICAgICB9YH19LEVzPXQ9PmAke3QuZm9ybWF0fTske3QuY2VpbE1vZGV9OyR7dC5hdXRvUGFkfTske3Qua2VybmVsU2hhcGUubGVuZ3RofWAsSmM9dD0+YCR7RXModCl9OyR7dC5jb3VudEluY2x1ZGVQYWR9YCxlcD10PT5gJHtFcyh0KX07JHt0LnN0b3JhZ2VPcmRlcn07JHt0LmRpbGF0aW9uc31gLENzPXQ9Pih7Zm9ybWF0OnQuZm9ybWF0LGF1dG9QYWQ6WyJOT1RTRVQiLCJWQUxJRCIsIlNBTUVfVVBQRVIiLCJTQU1FX0xPV0VSIl1bdC5hdXRvX3BhZF0sY2VpbE1vZGU6dC5jZWlsX21vZGUsa2VybmVsU2hhcGU6dC5rZXJuZWxfc2hhcGUsc3RyaWRlczp0LnN0cmlkZXMscGFkczp0LnBhZHN9KSxJcz0odCxlLHIsbik9PntsZXRbYSxpXT14cyhlLG4scikscz1KKCJ4IixlLmRhdGFUeXBlLGUuZGltcy5sZW5ndGgpLG89cy50eXBlLnZhbHVlLGw9InZhbHVlICs9IHhfdmFsOyIsZD0iIjthLmNvdW50SW5jbHVkZVBhZD9kKz1gdmFsdWUgLz0gJHtvfSh1bmlmb3Jtcy5rZXJuZWxTaXplKTtgOmQrPWB2YWx1ZSAvPSAke299KGkzMih1bmlmb3Jtcy5rZXJuZWxTaXplKSAtIHBhZCk7YDtsZXRbYyx1LGgsZixnXT1rcyhpLGEpO2MucHVzaCguLi5pZShlLmRpbXMpLC4uLmllKGkpKTtsZXQgeT1bInJhbmsiXTtyZXR1cm57bmFtZTp0LHNoYWRlckNhY2hlOntoaW50OmAke24uY2FjaGVLZXl9OyR7aH07JHtmfTske2d9YCxpbnB1dERlcGVuZGVuY2llczp5fSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmksZGF0YVR5cGU6ZS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGVlLnNpemUoaSkvNjQpfSxwcm9ncmFtVW5pZm9ybXM6Y30pLGdldFNoYWRlclNvdXJjZTp3PT5Tcyh3LHMsZS5kaW1zLmxlbmd0aCxpLmxlbmd0aCxhLGwsZCwwLHUsaCxmLGcpfX0sdHA9dD0+e2xldCBlPXQuY291bnRfaW5jbHVkZV9wYWQhPT0wLHI9Q3ModCk7aWYoci5jZWlsTW9kZSE9PTApdGhyb3cgbmV3IEVycm9yKCJ1c2luZyBjZWlsKCkgaW4gc2hhcGUgY29tcHV0YXRpb24gaXMgbm90IHlldCBzdXBwb3J0ZWQgZm9yIEF2ZXJhZ2VQb29sIik7bGV0IG49e2NvdW50SW5jbHVkZVBhZDplLC4uLnIsY2FjaGVLZXk6IiJ9O3JldHVybnsuLi5uLGNhY2hlS2V5OkpjKG4pfX0scnA9KHQsZSk9Pnttbih0LmlucHV0cyksdC5jb21wdXRlKElzKCJBdmVyYWdlUG9vbCIsdC5pbnB1dHNbMF0sITEsZSkpfSxBcz17YXV0b1BhZDoiIixjZWlsTW9kZTowLGNvdW50SW5jbHVkZVBhZDohMSxrZXJuZWxTaGFwZTpbXSxzdHJpZGVzOltdLHBhZHM6W10sc3RvcmFnZU9yZGVyOjAsZGlsYXRpb25zOltdfSxucD10PT57bGV0IGU9dC5mb3JtYXQ7cmV0dXJue2Zvcm1hdDplLC4uLkFzLGNhY2hlS2V5OmV9fSxhcD0odCxlKT0+e21uKHQuaW5wdXRzKSx0LmNvbXB1dGUoSXMoIkdsb2JhbEF2ZXJhZ2VQb29sIix0LmlucHV0c1swXSwhMCxlKSl9LFRzPSh0LGUscixuKT0+e2xldFthLGldPXhzKGUsbixyKSxzPWAKICAgICAgdmFsdWUgPSBtYXgoeF92YWwsIHZhbHVlKTsKICAgIGAsbz0iIixsPUooIngiLGUuZGF0YVR5cGUsZS5kaW1zLmxlbmd0aCksZD1bInJhbmsiXSxbYyx1LGgsZixnXT1rcyhpLGEpO3JldHVybiBjLnB1c2goLi4uaWUoZS5kaW1zKSwuLi5pZShpKSkse25hbWU6dCxzaGFkZXJDYWNoZTp7aGludDpgJHtuLmNhY2hlS2V5fTske2h9OyR7Zn07JHtnfWAsaW5wdXREZXBlbmRlbmNpZXM6ZH0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczppLGRhdGFUeXBlOmUuZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChlZS5zaXplKGkpLzY0KX0scHJvZ3JhbVVuaWZvcm1zOmN9KSxnZXRTaGFkZXJTb3VyY2U6eT0+U3MoeSxsLGUuZGltcy5sZW5ndGgsaS5sZW5ndGgsYSxzLG8sLTFlNSx1LGgsZixnKX19LGlwPSh0LGUpPT57bW4odC5pbnB1dHMpLHQuY29tcHV0ZShUcygiTWF4UG9vbCIsdC5pbnB1dHNbMF0sITEsZSkpfSxzcD10PT57bGV0IGU9dC5zdG9yYWdlX29yZGVyLHI9dC5kaWxhdGlvbnMsbj1Dcyh0KTtpZihlIT09MCl0aHJvdyBuZXcgRXJyb3IoImNvbHVtbiBtYWpvciBzdG9yYWdlIG9yZGVyIGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGZvciBNYXhQb29sIik7aWYobi5jZWlsTW9kZSE9PTApdGhyb3cgbmV3IEVycm9yKCJ1c2luZyBjZWlsKCkgaW4gc2hhcGUgY29tcHV0YXRpb24gaXMgbm90IHlldCBzdXBwb3J0ZWQgZm9yIE1heFBvb2wiKTtsZXQgYT17c3RvcmFnZU9yZGVyOmUsZGlsYXRpb25zOnIsLi4ubixjYWNoZUtleToiIn07cmV0dXJuey4uLmEsY2FjaGVLZXk6ZXAoYSl9fSxvcD10PT57bGV0IGU9dC5mb3JtYXQ7cmV0dXJue2Zvcm1hdDplLC4uLkFzLGNhY2hlS2V5OmV9fSxscD0odCxlKT0+e21uKHQuaW5wdXRzKSx0LmNvbXB1dGUoVHMoIkdsb2JhbE1heFBvb2wiLHQuaW5wdXRzWzBdLCEwLGUpKX19KSx1cCxkcCxjcCxJXz1RKCgpPT57UHQoKSxZZSgpLENlKCksdXA9KHQsZSxyKT0+e2xldCBuPXQ9PT1lLGE9dDxlJiZyPDAsaT10PmUmJnI+MDtpZihufHxhfHxpKXRocm93IG5ldyBFcnJvcigiUmFuZ2UgdGhlc2UgaW5wdXRzJyBjb250ZW50cyBhcmUgaW52YWxpZC4iKX0sZHA9KHQsZSxyLG4pPT57bGV0IGE9TWF0aC5hYnMoTWF0aC5jZWlsKChlLXQpL3IpKSxpPVthXSxzPWEsbz1qdChuKSxsPVt7dHlwZToidWludDMyIixkYXRhOnN9LHt0eXBlOm8sZGF0YTp0fSx7dHlwZTpvLGRhdGE6cn0sLi4uaWUoaSldLGQ9Yz0+e2xldCB1PXZlKCJvdXRwdXQiLG4saS5sZW5ndGgpLGg9dS50eXBlLnZhbHVlLGY9W3tuYW1lOiJvdXRwdXRTaXplIix0eXBlOiJ1MzIifSx7bmFtZToic3RhcnQiLHR5cGU6aH0se25hbWU6ImRlbHRhIix0eXBlOmh9XTtyZXR1cm5gCiAgICAgICAgJHtjLnJlZ2lzdGVyVW5pZm9ybXMoZikuZGVjbGFyZVZhcmlhYmxlcyh1KX0KICAgICAgICAke2MubWFpblN0YXJ0KCl9CiAgICAgICAgJHtjLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dFNpemUiKX0KICAgICAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSB1bmlmb3Jtcy5zdGFydCArICR7aH0oZ2xvYmFsX2lkeCkgKiB1bmlmb3Jtcy5kZWx0YTsKICAgICAgfWB9O3JldHVybntuYW1lOiJSYW5nZSIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7bn1gfSxnZXRTaGFkZXJTb3VyY2U6ZCxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmksZGF0YVR5cGU6bn1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKHMvNjQpfSxwcm9ncmFtVW5pZm9ybXM6bH0pfX0sY3A9dD0+e2xldCBlPTAscj0wLG49MDt0LmlucHV0c1swXS5kYXRhVHlwZT09PTY/KGU9dC5pbnB1dHNbMF0uZ2V0SW50MzJBcnJheSgpWzBdLHI9dC5pbnB1dHNbMV0uZ2V0SW50MzJBcnJheSgpWzBdLG49dC5pbnB1dHNbMl0uZ2V0SW50MzJBcnJheSgpWzBdKTp0LmlucHV0c1swXS5kYXRhVHlwZT09PTEmJihlPXQuaW5wdXRzWzBdLmdldEZsb2F0MzJBcnJheSgpWzBdLHI9dC5pbnB1dHNbMV0uZ2V0RmxvYXQzMkFycmF5KClbMF0sbj10LmlucHV0c1syXS5nZXRGbG9hdDMyQXJyYXkoKVswXSksUGUud2ViZ3B1LnZhbGlkYXRlSW5wdXRDb250ZW50JiZ1cChlLHIsbiksdC5jb21wdXRlKGRwKGUscixuLHQuaW5wdXRzWzBdLmRhdGFUeXBlKSx7aW5wdXRzOltdfSl9fSkscHAsaHAsZnAsbXAsZ3AsX3AseXAsd3AsdnAsYnAsJHAsT3MseHAsa3AsU3AsRXAsQ3AsSXAsQXAsQV89USgoKT0+e0llKCksaXQoKSxDZSgpLHBwPSh0LGUpPT57aWYodC5ldmVyeShyPT5yPjB8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiUmVzaXplIHJlcXVpcmVzIHNjYWxlcyBpbnB1dCB2YWx1ZXMgdG8gYmUgcG9zaXRpdmUiKX0pKSx0Lmxlbmd0aD4wKXtpZihlLm1vZGU9PT0ibGluZWFyIil7aWYoISh0Lmxlbmd0aD09PTJ8fHQubGVuZ3RoPT09M3x8dC5sZW5ndGg9PT00JiZ0WzBdPT09MSYmdFsxXT09PTF8fHQubGVuZ3RoPT09NCYmdFswXT09PTEmJnRbM109PT0xfHx0Lmxlbmd0aD09PTUmJnRbMF09PT0xJiZ0WzFdPT09MSkpdGhyb3cgbmV3IEVycm9yKGBGb3IgbGluZWFyIG1vZGUsIFJlc2l6ZSByZXF1aXJlcyBzY2FsZXMgdG8gYmUgMkQsIDNELCA0RCB3aXRoIGVpdGhlciB0d28gb3V0ZXJtb3N0IG9yIG9uZSBpbm5lcm1vc3QgYW5kCiAgICAgICAgICAgIG9uZSBvdXRlcm1vc3Qgc2NhbGUgdmFsdWVzIGVxdWFsIHRvIDEsIG9yIDVEIHdpdGggdHdvIG91dGVybW9zdCBzY2FsZSB2YWx1ZXMgZXF1YWwgdG8gMWApfWVsc2UgaWYoZS5tb2RlPT09ImN1YmljIiYmISh0Lmxlbmd0aD09PTJ8fHQubGVuZ3RoPT09NCYmdFswXT09PTEmJnRbMV09PT0xfHx0Lmxlbmd0aD09PTQmJnRbMF09PT0xJiZ0WzNdPT09MSkpdGhyb3cgbmV3IEVycm9yKCJSZXNpemUgcmVxdWlyZXMgc2NhbGVzIGlucHV0IHNpemUgdG8gYmUgMiBvciA0IGZvciBjdWJpYyBtb2RlIil9fSxocD0odCxlLHIpPT57ZS5ldmVyeShhPT5hPj0wJiZhPHJ8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiUmVzaXplIHJlcXVpcmVzIGF4ZXMgaW5wdXQgdmFsdWVzIHRvIGJlIHBvc2l0aXZlIGFuZCBsZXNzIHRoYW4gcmFuayIpfSkpO2xldCBuPW5ldyBBcnJheShyKS5maWxsKDEpO3JldHVybiBlLmZvckVhY2goKGEsaSk9Pm5bYV09dFtpXSksbn0sZnA9KHQsZSxyLG4sYSxpKT0+e2xldFtzLG8sbF09cj4xMD9bMSwyLDNdOlstMSx0Lmxlbmd0aD4xPzE6LTEsLTFdLGQ9dFswXS5kaW1zLmxlbmd0aDtpZihzPjAmJnQubGVuZ3RoPnMmJnRbc10uZGltcy5sZW5ndGg+MCl0W3NdLmdldEZsb2F0MzJBcnJheSgpLmZvckVhY2goYz0+aS5wdXNoKGMpKTtlbHNlIGlmKGUuY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGU9PT0idGZfY3JvcF9hbmRfcmVzaXplIil0aHJvdyBuZXcgRXJyb3IoIlJlc2l6ZSByZXF1aXJlcyBSb0kgaW5wdXQgdG8gYmUgc3BlY2lmaWVkIHdoZW4gY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGUgaXMgdGZDcm9wQW5kUmVzaXplIik7aWYobz4wJiZ0Lmxlbmd0aD5vJiZ0W29dLmRpbXMubGVuZ3RoPjApe2lmKHRbb10uZ2V0RmxvYXQzMkFycmF5KCkuZm9yRWFjaChjPT5uLnB1c2goYykpLG4ubGVuZ3RoIT09MCYmbi5sZW5ndGghPT1kJiZyPj0xOCYmbi5sZW5ndGghPT1lLmF4ZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiUmVzaXplIHJlcXVpcmVzIHNjYWxlcyBpbnB1dCBzaXplIHRvIGJlIHNhbWUgYXMgaW5wdXQgcmFuayBvciBheGVzIHNpemUgZm9yIG9wc2V0IDE4IGFuZCB1cCIpO3BwKG4sZSksZS5heGVzLmxlbmd0aD4wJiZocChuLGUuYXhlcyxkKS5mb3JFYWNoKChjLHUpPT5uW3VdPWMpfWlmKGw+MCYmdC5sZW5ndGg+bCYmKHRbbF0uZ2V0QmlnSW50NjRBcnJheSgpLmZvckVhY2goYz0+YS5wdXNoKE51bWJlcihjKSkpLGEubGVuZ3RoIT09ZHx8cj49MTgmJmEubGVuZ3RoPT09ZS5heGVzLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKCJSZXNpemUgcmVxdWlyZXMgc2l6ZXMgaW5wdXQgc2l6ZSB0byBiZSBzYW1lIGFzIGlucHV0IHJhbmsgb3IgYXhlcyBzaXplIGZvciBvcHNldCAxOCBhbmQgdXAiKTtpZihlLmF4ZXMubGVuZ3RoPjApe2lmKG4ubGVuZ3RoIT09ZS5heGVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoJ1Jlc2l6ZSByZXF1aXJlcyAic2NhbGVzIiBpbnB1dCBzaXplIHRvIGJlIG9mIGF4ZXMgcmFuayB3aGVuIGF4ZXMgYXR0cmlidXRlcyBpcyBzcGVjaWZpZWQnKTtpZihhLmxlbmd0aCE9PWUuYXhlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCdSZXNpemUgcmVxdWlyZXMgInNpemVzIiBpbnB1dCBzaXplIHRvIGJlIG9mIHJhbmsgYXhlcyByYW5rIHdoZW4gYXhlcyBhdHRyaWJ1dGVzIGlzIHNwZWNpZmllZCcpfWlmKHR5cGVvZiBuPCJ1IiYmdHlwZW9mIGE8InUiJiZuLmxlbmd0aD4wJiZhLmxlbmd0aD5kKXRocm93IG5ldyBFcnJvcigiUmVzaXplIHJlcXVpcmVzIG9ubHkgb2Ygc2NhbGVzIG9yIHNpemVzIHRvIGJlIHNwZWNpZmllZCIpfSxtcD0odCxlKT0+YGZuIGdldE9yaWdpbmFsQ29vcmRpbmF0ZUZyb21SZXNpemVkQ29vcmRpbmF0ZSh4UmVzaXplZDogdTMyLCB4U2NhbGU6IGYzMiwgbGVuZ3RoUmVzaXplZDogdTMyLAogICAgIGxlbmd0aE9yaWdpbmFsOiB1MzIsIHJvaVN0YXJ0OiBmMzIsIHJvaUVuZDogZjMyKSAtPiAke2V9IHsgYCsoKCk9Pntzd2l0Y2godCl7Y2FzZSJhc3ltbWV0cmljIjpyZXR1cm5gcmV0dXJuICR7ZX0oeFJlc2l6ZWQpIC8gJHtlfSh4U2NhbGUpO2A7Y2FzZSJweXRvcmNoX2hhbGZfcGl4ZWwiOnJldHVybmBpZiAobGVuZ3RoUmVzaXplZCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCR7ZX0oeFJlc2l6ZWQpICsgMC41KSAvICR7ZX0oeFNjYWxlKSAtIDAuNTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gMC4wOwogICAgICAgICAgICAgICAgICB9YDtjYXNlInRmX2hhbGZfcGl4ZWxfZm9yX25uIjpyZXR1cm5gcmV0dXJuICgke2V9KHhSZXNpemVkKSArIDAuNSkgLyAke2V9KHhTY2FsZSk7YDtjYXNlImFsaWduX2Nvcm5lcnMiOnJldHVybmBpZiAobGVuZ3RoUmVzaXplZCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDAuMDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBUaGUgd2hvbGUgcGFydCBhbmQgdGhlIGZyYWN0aW9uYWwgcGFydCBhcmUgY2FsY3VsYXRlZCBzZXBhcmF0ZWx5IGR1ZSB0byBpbmFjY3VyYWN5IG9mIGZsb2F0aW5nCiAgICAgICAgICAgICAgICAgICAgLy8gcG9pbnQgZGl2aXNpb24uIEFzIGFuIGV4YW1wbGUsIGYzMigyMSkgLyBmMzIoNykgbWF5IGV2YWx1YXRlIHRvIDIuOTkuLi4gaW5zdGVhZCBvZiAzLCBjYXVzaW5nIGFuCiAgICAgICAgICAgICAgICAgICAgLy8gb2Zmc2V0LWJ5LW9uZSBlcnJvciBsYXRlciBpbiBmbG9vcigpLgogICAgICAgICAgICAgICAgICAgIGxldCB3aG9sZSA9ICR7ZX0oeFJlc2l6ZWQgKiAobGVuZ3RoT3JpZ2luYWwgLSAxKSAvIChsZW5ndGhSZXNpemVkIC0gMSkpOwogICAgICAgICAgICAgICAgICAgIGxldCBmcmFjdCA9CiAgICAgICAgICAgICAgICAgICAgICAgICR7ZX0oeFJlc2l6ZWQgKiAobGVuZ3RoT3JpZ2luYWwgLSAxKSAlIChsZW5ndGhSZXNpemVkIC0gMSkpIC8gJHtlfShsZW5ndGhSZXNpemVkIC0gMSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdob2xlICsgZnJhY3Q7CiAgICAgICAgICAgICAgICAgIH1gO2Nhc2UidGZfY3JvcF9hbmRfcmVzaXplIjpyZXR1cm5gaWYgKGxlbmd0aFJlc2l6ZWQgPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICR7ZX0ocm9pU3RhcnQpICogJHtlfShsZW5ndGhPcmlnaW5hbCAtIDEpICsKICAgICAgICAgICAgICAgICAgICAgICAgKCR7ZX0oeFJlc2l6ZWQpICogJHtlfShyb2lFbmQgLSByb2lTdGFydCkgKiAke2V9KGxlbmd0aE9yaWdpbmFsIC0gMSkpIC8KICAgICAgICAgICAgICAgICAgICAgICAgJHtlfShsZW5ndGhSZXNpemVkIC0gMSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDAuNSAqICR7ZX0ocm9pU3RhcnQgKyByb2lFbmQpICogJHtlfShsZW5ndGhPcmlnaW5hbCAtIDEpOwogICAgICAgICAgICAgICAgICB9YDtjYXNlImhhbGZfcGl4ZWxfc3ltbWV0cmljIjpyZXR1cm5gY29uc3Qgb3V0cHV0V2lkdGggPSAke2V9eFNjYWxlICogJHtlfShsZW5ndGhSZXNpemVkKTsKICAgICAgICAgICAgICAgICAgY29uc3QgYWRqdXN0bWVudCA9ICR7ZX0obGVuZ3RoUmVzaXplZCkgLyBvdXRwdXRXaWR0aDsKICAgICAgICAgICAgICAgICAgY29uc3QgY2VudGVyID0gJHtlfShsZW5ndGhPcmlnaW5hbCkgLyAyOwogICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBjZW50ZXIgKiAoMSAtIGFkanVzdG1lbnQpOwogICAgICAgICAgICAgICAgICByZXR1cm4gb2Zmc2V0ICsgKCgke2V9KHhSZXNpemVkKSArIDAuNSkgLyAke2V9KHhTY2FsZSkpIC0gMC41O2A7Y2FzZSJoYWxmX3BpeGVsIjpyZXR1cm5gcmV0dXJuICgoJHtlfSh4UmVzaXplZCkgKyAwLjUpIC8gJHtlfSh4U2NhbGUpKSAtIDAuNTtgO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBDb29yZGluYXRlIHRyYW5zZm9ybSBtb2RlICR7dH0gaXMgbm90IHN1cHBvcnRlZGApfX0pKCkrIn0iLGdwPSh0LGUscik9PmBmbiBnZXROZWFyZXN0UGl4ZWxGcm9tT3JpZ2luYWwoeE9yaWdpbmFsOiAke3J9LCBpc0Rvd25TYW1wbGU6IGJvb2wpIC0+ICR7cn0ge2ArKCgpPT57c3dpdGNoKHQpe2Nhc2Uicm91bmRfcHJlZmVyX2NlaWwiOnJldHVybiJpZiAoZnJhY3QoeE9yaWdpbmFsKSA9PSAwLjUpIHsgICAgICAgICAgICAgcmV0dXJuIGNlaWwoeE9yaWdpbmFsKTsgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgIHJldHVybiByb3VuZCh4T3JpZ2luYWwpOyAgICAgICAgICAgfSI7Y2FzZSJmbG9vciI6cmV0dXJuInJldHVybiBmbG9vcih4T3JpZ2luYWwpOyI7Y2FzZSJjZWlsIjpyZXR1cm4icmV0dXJuIGNlaWwoeE9yaWdpbmFsKTsiO2Nhc2Uicm91bmRfcHJlZmVyX2Zsb29yIjpyZXR1cm4iaWYgKGZyYWN0KHhPcmlnaW5hbCkgPT0gMC41KSB7ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZsb29yKHhPcmlnaW5hbCk7ICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvdW5kKHhPcmlnaW5hbCk7ICAgICAgICAgICAgICAgICAgIH0iO2Nhc2Uic2ltcGxlIjpkZWZhdWx0OmlmKGU8MTEpcmV0dXJuImlmIChpc0Rvd25TYW1wbGUpICAgICAgICAgICAgICAgICAgICAgeyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlaWwoeE9yaWdpbmFsKTsgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhPcmlnaW5hbDsgICAgICAgICAgICAgICAgICAgICB9Ijt0aHJvdyBuZXcgRXJyb3IoYE5lYXJlc3QgbW9kZSAke3R9IGlzIG5vdCBzdXBwb3J0ZWRgKX19KSgpKyJ9IixfcD0odCxlLHIpPT57bGV0IG49bmV3IEFycmF5KHIpLmZpbGwoMCkuY29uY2F0KG5ldyBBcnJheShyKS5maWxsKDEpKSxhPXQubGVuZ3RoPT09MD9uOnQuc2xpY2UoKTtyZXR1cm4gZS5sZW5ndGg+MD8oZS5mb3JFYWNoKChpLHMpPT57bltpXT1hW3NdLG5bcytyXT1hW2UubGVuZ3RoK3NdfSksbik6YX0seXA9KHQsZSxyLG4pPT57bGV0IGE9W107aWYoci5sZW5ndGg+MClpZihuLmxlbmd0aD4wKXtpZih0LmZvckVhY2goaT0+YS5wdXNoKGkpKSxNYXRoLm1heCguLi5uKT50Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImF4ZXMgaXMgb3V0IG9mIGJvdW5kIik7bi5mb3JFYWNoKChpLHMpPT5hW2ldPXJbc10pfWVsc2Ugci5mb3JFYWNoKGk9PmEucHVzaChpKSk7ZWxzZXtpZihlLmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKCJSZXNpemUgcmVxdWlyZXMgZWl0aGVyIHNjYWxlcyBvciBzaXplcy4iKTthPXQubWFwKChpLHMpPT5NYXRoLnJvdW5kKGkqZVtzXSkpfXJldHVybiBhfSx3cD0odCxlLHIpPT57bGV0IG49KCgpPT57c3dpdGNoKHIua2VlcEFzcGVjdFJhdGlvUG9saWN5KXtjYXNlIm5vdF9sYXJnZXIiOnJldHVybiByLmF4ZXMubGVuZ3RoPjA/TWF0aC5taW4oLi4uci5heGVzLm1hcChpPT5lW2ldKSxOdW1iZXIuTUFYX1ZBTFVFKTpNYXRoLm1pbiguLi5lLE51bWJlci5NQVhfVkFMVUUpO2Nhc2Uibm90X3NtYWxsZXIiOnJldHVybiByLmF4ZXMubGVuZ3RoPjA/TWF0aC5tYXgoLi4uci5heGVzLm1hcChpPT5lW2ldKSxOdW1iZXIuTUlOX1ZBTFVFKTpNYXRoLm1heCguLi5lLE51bWJlci5NSU5fVkFMVUUpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBLZWVwIGFzcGVjdCByYXRpbyBwb2xpY3kgJHtyLmtlZXBBc3BlY3RSYXRpb1BvbGljeX0gaXMgbm90IHN1cHBvcnRlZGApfX0pKCk7ZS5maWxsKDEsMCxlLmxlbmd0aCk7bGV0IGE9dC5zbGljZSgpO3JldHVybiByLmF4ZXMubGVuZ3RoPjA/KHIuYXhlcy5mb3JFYWNoKGk9PmVbaV09biksci5heGVzLmZvckVhY2goaT0+YVtpXT1NYXRoLnJvdW5kKHRbaV0qZVtpXSkpKTooZS5maWxsKG4sMCxlLmxlbmd0aCksYS5mb3JFYWNoKChpLHMpPT5hW3NdPU1hdGgucm91bmQoaSplW3NdKSkpLGF9LHZwPSh0LGUscixuLGEpPT5gCiAgICBmbiBjYWxjdWxhdGVPcmlnaW5hbEluZGljZXNGcm9tT3V0cHV0SW5kaWNlcyhvdXRwdXRfaW5kaWNlczogJHt0LnR5cGUuaW5kaWNlc30pIC0+IGFycmF5PCR7dC50eXBlLnZhbHVlfSwgJHtyLmxlbmd0aH0+IHsKICAgICAgdmFyIG9yaWdpbmFsX2luZGljZXM6IGFycmF5PCR7dC50eXBlLnZhbHVlfSwgJHtyLmxlbmd0aH0+OwogICAgICBmb3IgKHZhciBpOnUzMiA9IDA7IGkgPCAke3IubGVuZ3RofTsgaSsrKSB7CiAgICAgICAgdmFyIG91dHB1dF9pbmRleCA9ICR7dC5pbmRpY2VzR2V0KCJvdXRwdXRfaW5kaWNlcyIsImkiKX07CiAgICAgICAgdmFyIHNjYWxlID0gJHt4ZSgidW5pZm9ybXMuc2NhbGVzIiwiaSIsbil9OwogICAgICAgIHZhciByb2lfbG93ID0gJHt4ZSgidW5pZm9ybXMucm9pIiwiaSIsYSl9OwogICAgICAgIHZhciByb2lfaGkgPSAke3hlKCJ1bmlmb3Jtcy5yb2kiLGBpICsgJHtlLmxlbmd0aH1gLGEpfTsKICAgICAgICBpZiAoc2NhbGUgPT0gMS4wKSB7CiAgICAgICAgICBvcmlnaW5hbF9pbmRpY2VzW2ldID0gJHt0LnR5cGUudmFsdWV9KG91dHB1dF9pbmRleCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBpbnB1dF9zaGFwZV9pID0gJHt4ZSgidW5pZm9ybXMuaW5wdXRfc2hhcGUiLCJpIixlLmxlbmd0aCl9OwogICAgICAgICAgdmFyIG91dHB1dF9zaGFwZV9pID0gJHt4ZSgidW5pZm9ybXMub3V0cHV0X3NoYXBlIiwiaSIsci5sZW5ndGgpfTsKICAgICAgICAgIG9yaWdpbmFsX2luZGljZXNbaV0gPSBnZXRPcmlnaW5hbENvb3JkaW5hdGVGcm9tUmVzaXplZENvb3JkaW5hdGUob3V0cHV0X2luZGV4LCBzY2FsZSwgb3V0cHV0X3NoYXBlX2ksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0X3NoYXBlX2ksIHJvaV9sb3csIHJvaV9oaSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBvcmlnaW5hbF9pbmRpY2VzOwogICAgfWAsYnA9KHQsZSxyLG4sYSxpLHMpPT5gCiAgICBmbiBjYWxjdWxhdGVJbnB1dEluZGljZXNGcm9tT3V0cHV0SW5kaWNlcyhvdXRwdXRfaW5kaWNlczogJHtlLnR5cGUuaW5kaWNlc30pIC0+ICR7dC50eXBlLmluZGljZXN9IHsKICAgICAgdmFyIGlucHV0X2luZGljZXM6ICR7dC50eXBlLmluZGljZXN9OwogICAgICBmb3IgKHZhciBpOnUzMiA9IDA7IGkgPCAke24ubGVuZ3RofTsgaSsrKSB7CiAgICAgICAgdmFyIG91dHB1dF9pbmRleCA9ICR7ZS5pbmRpY2VzR2V0KCJvdXRwdXRfaW5kaWNlcyIsImkiKX07CiAgICAgICAgdmFyIGlucHV0X2luZGV4OiB1MzI7CiAgICAgICAgdmFyIHNjYWxlID0gJHt4ZSgidW5pZm9ybXMuc2NhbGVzIiwiaSIsYSl9OwogICAgICAgIGlmIChzY2FsZSA9PSAxLjApIHsKICAgICAgICAgIGlucHV0X2luZGV4ID0gb3V0cHV0X2luZGV4OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgcm9pX2xvdyA9ICR7eGUoInVuaWZvcm1zLnJvaSIsImkiLGkpfTsKICAgICAgICAgIHZhciByb2lfaGkgPSAke3hlKCJ1bmlmb3Jtcy5yb2kiLGBpICsgJHtyLmxlbmd0aH1gLGkpfTsKICAgICAgICAgIHZhciBpbnB1dF9zaGFwZV9pID0gJHt4ZSgidW5pZm9ybXMuaW5wdXRfc2hhcGUiLCJpIixyLmxlbmd0aCl9OwogICAgICAgICAgdmFyIG91dHB1dF9zaGFwZV9pID0gJHt4ZSgidW5pZm9ybXMub3V0cHV0X3NoYXBlIiwiaSIsbi5sZW5ndGgpfTsKICAgICAgICAgIHZhciBvcmlnaW5hbF9pZHggPSBnZXRPcmlnaW5hbENvb3JkaW5hdGVGcm9tUmVzaXplZENvb3JkaW5hdGUob3V0cHV0X2luZGV4LCBzY2FsZSwgb3V0cHV0X3NoYXBlX2ksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0X3NoYXBlX2ksIHJvaV9sb3csIHJvaV9oaSk7CiAgICAgICAgICBpZiAoISR7c30gfHwgKG9yaWdpbmFsX2lkeCA+PSAwICYmIG9yaWdpbmFsX2lkeCA8ICR7ZS50eXBlLnZhbHVlfShpbnB1dF9zaGFwZV9pKSkpIHsKICAgICAgICAgICAgaWYgKG9yaWdpbmFsX2lkeCA8IDApIHsKICAgICAgICAgICAgICBpbnB1dF9pbmRleCA9IDA7CiAgICAgICAgICAgIH0gZWxzZSBpZiAob3JpZ2luYWxfaWR4ID4gJHtlLnR5cGUudmFsdWV9KGlucHV0X3NoYXBlX2kgLSAxKSkgewogICAgICAgICAgICAgIGlucHV0X2luZGV4ID0gaW5wdXRfc2hhcGVfaSAtIDE7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaW5wdXRfaW5kZXggPSB1MzIoZ2V0TmVhcmVzdFBpeGVsRnJvbU9yaWdpbmFsKG9yaWdpbmFsX2lkeCwgc2NhbGUgPCAxKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlucHV0X2luZGV4ID0gdTMyKG9yaWdpbmFsX2lkeCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICR7dC5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIiwiaSIsIiBpbnB1dF9pbmRleCIpfQogICAgICB9CiAgICAgIHJldHVybiBpbnB1dF9pbmRpY2VzOwogICAgfWAsJHA9KHQsZSk9PmAKICAgIGZuIGNoZWNrSW5wdXRJbmRpY2VzKGlucHV0X2luZGljZXM6ICR7dC50eXBlLmluZGljZXN9KSAtPiBib29sIHsKICAgICAgZm9yICh2YXIgaTp1MzIgPSAwOyBpIDwgJHtlLmxlbmd0aH07IGkrKykgewogICAgICAgIHZhciBpbnB1dF9pbmRleCA9ICR7dC5pbmRpY2VzR2V0KCJpbnB1dF9pbmRpY2VzIiwiaSIpfTsKICAgICAgICBpZiAoaW5wdXRfaW5kZXggPCAwIHx8IGlucHV0X2luZGV4ID49ICR7eGUoInVuaWZvcm1zLmlucHV0X3NoYXBlIiwiaSIsZS5sZW5ndGgpfSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH1gLE9zPSh0LGUscixuKT0+dC5yYW5rPm4/YAogICAgJHt0LmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLGUsImNoYW5uZWwiKX07CiAgICAke3QuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIsciwiYmF0Y2giKX07CmA6IiIseHA9KHQsZSxyLG4sYSk9PntsZXRbaSxzLG8sbF09ci5sZW5ndGg9PT0yP1stMSwwLDEsLTFdOlswLDIsMywxXSxkPXQudHlwZS52YWx1ZTtyZXR1cm5gCiAgICBmbiBnZXRJbnB1dFZhbHVlKGJhdGNoOiB1MzIsIGNoYW5uZWw6IHUzMiwgcm93OiB1MzIsIGNvbDogdTMyKSAtPiAke2R9IHsKICAgICAgdmFyIGlucHV0X2luZGljZXM6ICR7dC50eXBlLmluZGljZXN9OwogICAgICAke3QuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIscyxgbWF4KDAsIG1pbihyb3csICR7cltzXX0gLSAxKSlgKX07CiAgICAgICR7dC5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIixvLGBtYXgoMCwgbWluKGNvbCwgJHtyW29dfSAtIDEpKWApfTsKICAgICAgJHtPcyh0LGwsaSwyKX0KICAgICAgcmV0dXJuICR7dC5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07CiAgICB9CgogICAgZm4gYmlsaW5lYXJJbnRlcnBvbGF0aW9uKG91dHB1dF9pbmRpY2VzOiAke2UudHlwZS5pbmRpY2VzfSkgLT4gJHtkfSB7CiAgICAgIHZhciBvcmlnaW5hbEluZGljZXMgPSBjYWxjdWxhdGVPcmlnaW5hbEluZGljZXNGcm9tT3V0cHV0SW5kaWNlcyhvdXRwdXRfaW5kaWNlcyk7CiAgICAgIHZhciByb3c6JHtkfSA9IG9yaWdpbmFsSW5kaWNlc1ske3N9XTsKICAgICAgdmFyIGNvbDoke2R9ID0gb3JpZ2luYWxJbmRpY2VzWyR7b31dOwogICAgICAke24/YGlmIChyb3cgPCAwIHx8IHJvdyA+ICgke3Jbc119IC0gMSkgfHwgY29sIDwgMCB8fCBjb2wgPiAoJHtyW29dfSAtIDEpKSB7CiAgICAgICAgcmV0dXJuICR7YX07CiAgICAgIH1gOiIifTsKICAgICAgcm93ID0gbWF4KDAsIG1pbihyb3csICR7cltzXX0gLSAxKSk7CiAgICAgIGNvbCA9IG1heCgwLCBtaW4oY29sLCAke3Jbb119IC0gMSkpOwogICAgICB2YXIgcm93MTogdTMyID0gdTMyKHJvdyk7CiAgICAgIHZhciBjb2wxOiB1MzIgPSB1MzIoY29sKTsKICAgICAgdmFyIHJvdzI6IHUzMiA9IHUzMihyb3cgKyAxKTsKICAgICAgdmFyIGNvbDI6IHUzMiA9IHUzMihjb2wgKyAxKTsKICAgICAgdmFyIGNoYW5uZWw6IHUzMiA9ICR7ci5sZW5ndGg+Mj9gdTMyKG9yaWdpbmFsSW5kaWNlc1ske2x9XSlgOiIwIn07CiAgICAgIHZhciBiYXRjaDogdTMyID0gICR7ci5sZW5ndGg+Mj9gdTMyKG9yaWdpbmFsSW5kaWNlc1ske2l9XSlgOiIwIn07CiAgICAgIHZhciB4MTE6ICR7ZH0gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCByb3cxLCBjb2wxKTsKICAgICAgdmFyIHgxMjogJHtkfSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIHJvdzEsIGNvbDIpOwogICAgICB2YXIgeDIxOiAke2R9ID0gZ2V0SW5wdXRWYWx1ZShiYXRjaCwgY2hhbm5lbCwgcm93MiwgY29sMSk7CiAgICAgIHZhciB4MjI6ICR7ZH0gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCByb3cyLCBjb2wyKTsKICAgICAgdmFyIGR4MTogJHtkfSA9IGFicyhyb3cgLSAke2R9KHJvdzEpKTsKICAgICAgdmFyIGR4MjogJHtkfSA9IGFicygke2R9KHJvdzIpIC0gcm93KTsKICAgICAgdmFyIGR5MTogJHtkfSA9IGFicyhjb2wgLSAke2R9KGNvbDEpKTsKICAgICAgdmFyIGR5MjogJHtkfSA9IGFicygke2R9KGNvbDIpIC0gY29sKTsKICAgICAgaWYgKHJvdzEgPT0gcm93MikgewogICAgICAgIGR4MSA9IDAuNTsKICAgICAgICBkeDIgPSAwLjU7CiAgICAgIH0KICAgICAgaWYgKGNvbDEgPT0gY29sMikgewogICAgICAgIGR5MSA9IDAuNTsKICAgICAgICBkeTIgPSAwLjU7CiAgICAgIH0KICAgICAgcmV0dXJuICh4MTEgKiBkeDIgKiBkeTIgKyB4MTIgKiBkeDIgKiBkeTEgKyB4MjEgKiBkeDEgKiBkeTIgKyB4MjIgKiBkeDEgKiBkeTEpOwogICAgfWB9LGtwPSh0LGUscixuLGEsaSxzLG8sbCxkKT0+e2xldCBjPXIubGVuZ3RoPT09MixbdSxoXT1jP1swLDFdOlsyLDNdLGY9dC50eXBlLnZhbHVlLGc9eT0+e2xldCB3PXk9PT11PyJyb3ciOiJjb2wiO3JldHVybmAKICAgICAgZm4gJHt3fUN1YmljSW50ZXJwb2xhdGlvbihpbnB1dF9pbmRpY2VzOiAke3QudHlwZS5pbmRpY2VzfSwgb3V0cHV0X2luZGljZXM6ICR7ZS50eXBlLmluZGljZXN9KSAtPiAke2Z9IHsKICAgICAgICB2YXIgb3V0cHV0X2luZGV4ID0gJHtlLmluZGljZXNHZXQoIm91dHB1dF9pbmRpY2VzIix5KX07CiAgICAgICAgdmFyIG9yaWdpbmFsSWR4OiAke2Z9ID0gZ2V0T3JpZ2luYWxDb29yZGluYXRlRnJvbVJlc2l6ZWRDb29yZGluYXRlKG91dHB1dF9pbmRleCwgJHthW3ldfSwKICAgICAgICAke25beV19LCAke3JbeV19LCAke2lbeV19LCAke2lbeV19ICsgJHtyLmxlbmd0aH0pOwogICAgICAgIHZhciBmcmFjdE9yaWdpbmFsSWR4OiAke2Z9ID0gb3JpZ2luYWxJZHggLSBmbG9vcihvcmlnaW5hbElkeCk7CiAgICAgICAgdmFyIGNvZWZzID0gZ2V0Q3ViaWNJbnRlcnBvbGF0aW9uQ29lZnMoZnJhY3RPcmlnaW5hbElkeCk7CgogICAgICAgIGlmICgke299ICYmIChvcmlnaW5hbElkeCA8IDAgfHwgb3JpZ2luYWxJZHggPiAoJHtyW3ldfSAtIDEpKSkgewogICAgICAgICAgcmV0dXJuICR7bH07CiAgICAgICAgfQogICAgICAgIHZhciBkYXRhOiBhcnJheTwke2Z9LCA0PiA9IGFycmF5PCR7Zn0sIDQ+KDAuMCwgMC4wLCAwLjAsIDAuMCk7CiAgICAgICAgZm9yICh2YXIgaTogaTMyID0gLTE7IGkgPCAzOyBpKyspIHsKICAgICAgICAgIHZhciAke3d9OiAke2Z9ID0gb3JpZ2luYWxJZHggKyAke2Z9KGkpOwogICAgICAgICAgaWYgKCR7d30gPCAwIHx8ICR7d30gPj0gJHtyW3ldfSkgewogICAgICAgICAgICAke2Q/YGNvZWZzW2kgKyAxXSA9IDAuMDsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7YDpvP2ByZXR1cm4gJHtsfTtgOmAke3d9ID0gbWF4KDAsIG1pbigke3d9LCAke3JbeV19IC0gMSkpO2B9OwogICAgICAgICAgfQogICAgICAgIHZhciBpbnB1dF9pbmRpY2VzX2NvcHk6ICR7dC50eXBlLmluZGljZXN9ID0gaW5wdXRfaW5kaWNlczsKICAgICAgICAgICR7dC5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzX2NvcHkiLHksYHUzMigke3d9KWApfTsKICAgICAgICAgIGRhdGFbaSArIDFdID0gJHt5PT09dT90LmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlc19jb3B5Iik6InJvd0N1YmljSW50ZXJwb2xhdGlvbihpbnB1dF9pbmRpY2VzX2NvcHksIG91dHB1dF9pbmRpY2VzKSJ9OwogICAgICAgIH0KICAgICAgICByZXR1cm4gY3ViaWNJbnRlcnBvbGF0aW9uMUQoZGF0YSwgY29lZnMpOwogICAgICB9YH07cmV0dXJuYAogICAgJHtnKHUpfTsKICAgICR7ZyhoKX07CiAgZm4gZ2V0Q3ViaWNJbnRlcnBvbGF0aW9uQ29lZnMoczogJHtmfSkgLT4gYXJyYXk8JHtmfSwgND4gewogICAgdmFyIGFic1MgPSBhYnMocyk7CiAgICB2YXIgY29lZmZzOiBhcnJheTwke2Z9LCA0PiA9IGFycmF5PCR7Zn0sIDQ+KDAuMCwgMC4wLCAwLjAsIDAuMCk7CiAgICB2YXIgb25lTWludXNBYnNTOiAke2Z9ID0gMS4wIC0gYWJzUzsKICAgIHZhciB0d29NaW51c0Fic1M6ICR7Zn0gPSAyLjAgLSBhYnNTOwogICAgdmFyIG9uZVBsdXNBYnNTOiAke2Z9ID0gMS4wICsgYWJzUzsKICAgIGNvZWZmc1swXSA9ICgoJHtzfSAqIG9uZVBsdXNBYnNTIC0gNSAqICR7c30pICogb25lUGx1c0Fic1MgKyA4ICogJHtzfSkgKiBvbmVQbHVzQWJzUyAtIDQgKiAke3N9OwogICAgY29lZmZzWzFdID0gKCgke3N9ICsgMikgKiBhYnNTIC0gKCR7c30gKyAzKSkgKiBhYnNTICogYWJzUyArIDE7CiAgICBjb2VmZnNbMl0gPSAoKCR7c30gKyAyKSAqIG9uZU1pbnVzQWJzUyAtICgke3N9ICsgMykpICogb25lTWludXNBYnNTICogb25lTWludXNBYnNTICsgMTsKICAgIGNvZWZmc1szXSA9ICgoJHtzfSAqIHR3b01pbnVzQWJzUyAtIDUgKiAke3N9KSAqIHR3b01pbnVzQWJzUyArIDggKiAke3N9KSAqIHR3b01pbnVzQWJzUyAtIDQgKiAke3N9OwogICAgcmV0dXJuIGNvZWZmczsKICB9CgogIGZuIGN1YmljSW50ZXJwb2xhdGlvbjFEKHg6IGFycmF5PCR7Zn0sIDQ+LCBjb2VmczogYXJyYXk8JHtmfSwgND4pIC0+ICR7Zn0gewogICAgdmFyIGNvZWZzU3VtOiAke2Z9ID0gY29lZnNbMF0gKyBjb2Vmc1sxXSArIGNvZWZzWzJdICsgY29lZnNbM107CiAgICByZXR1cm4gKHhbMF0gKiBjb2Vmc1swXSArIHhbMV0gKiBjb2Vmc1sxXSsgeFsyXSAqIGNvZWZzWzJdKyB4WzNdICogY29lZnNbM10pIC8gY29lZnNTdW07CiAgfQoKICBmbiBiaWN1YmljSW50ZXJwb2xhdGlvbihvdXRwdXRfaW5kaWNlczogJHtlLnR5cGUuaW5kaWNlc30pIC0+ICR7Zn0gewogICAgdmFyIGlucHV0X2luZGljZXM6ICR7dC50eXBlLmluZGljZXN9ID0gb3V0cHV0X2luZGljZXM7CiAgICByZXR1cm4gY29sQ3ViaWNJbnRlcnBvbGF0aW9uKGlucHV0X2luZGljZXMsIG91dHB1dF9pbmRpY2VzKTsKICB9CiAgICBgfSxTcD0odCxlLHIsbixhKT0+e2xldFtpLHMsbyxsLGRdPXIubGVuZ3RoPT09Mz9bLTEsMCwxLDIsLTFdOlswLDIsMyw0LDFdLGM9dC50eXBlLnZhbHVlO3JldHVybmAKICAgIGZuIGdldElucHV0VmFsdWUoYmF0Y2g6IHUzMiwgY2hhbm5lbDogdTMyLCBkZXB0aDp1MzIsIGhlaWdodDogdTMyLCB3aWR0aDogdTMyKSAtPiAke2N9IHsKICAgICAgdmFyIGlucHV0X2luZGljZXM6ICR7dC50eXBlLmluZGljZXN9OwogICAgICAke3QuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIscyxgbWF4KDAsIG1pbihkZXB0aCwgJHtyW3NdfSAtIDEpKWApfTsKICAgICAgJHt0LmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLG8sYG1heCgwLCBtaW4oaGVpZ2h0LCAke3Jbb119IC0gMSkpYCl9OwogICAgICAke3QuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIsbCxgbWF4KDAsIG1pbih3aWR0aCwgJHtyW2xdfSAtIDEpKWApfTsKICAgICAgJHtPcyh0LGQsaSwzKX0KICAgICAgcmV0dXJuICR7dC5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07CiAgICB9CgogICAgZm4gdHJpbGluZWFySW50ZXJwb2xhdGlvbihvdXRwdXRfaW5kaWNlczogJHtlLnR5cGUuaW5kaWNlc30pIC0+ICR7Y30gewogICAgICB2YXIgb3JpZ2luYWxJbmRpY2VzID0gY2FsY3VsYXRlT3JpZ2luYWxJbmRpY2VzRnJvbU91dHB1dEluZGljZXMob3V0cHV0X2luZGljZXMpOwogICAgICB2YXIgZGVwdGg6JHtjfSA9IG9yaWdpbmFsSW5kaWNlc1ske3N9XTsKICAgICAgdmFyIGhlaWdodDoke2N9ID0gb3JpZ2luYWxJbmRpY2VzWyR7b31dOwogICAgICB2YXIgd2lkdGg6JHtjfSA9IG9yaWdpbmFsSW5kaWNlc1ske2x9XTsKICAgICAgJHtuP2BpZiAoZGVwdGggPCAwIHx8IGRlcHRoID4gKCR7cltzXX0gLSAxKSB8fCBoZWlnaHQgPCAwIHx8IGhlaWdodCA+ICgke3Jbb119IC0gMSkgfHwgd2lkdGggPCAwIHx8ICh3aWR0aCA+ICR7cltsXX0gLSAxKSkgewogICAgICByZXR1cm4gJHthfTsKICAgICAgICB9YDoiIn07CgogICAgZGVwdGggPSBtYXgoMCwgbWluKGRlcHRoLCAke3Jbc119IC0gMSkpOwogICAgICBoZWlnaHQgPSBtYXgoMCwgbWluKGhlaWdodCwgJHtyW29dfSAtIDEpKTsKICAgICAgd2lkdGggPSBtYXgoMCwgbWluKHdpZHRoLCAke3JbbF19IC0gMSkpOwogICAgICB2YXIgZGVwdGgxOiB1MzIgPSB1MzIoZGVwdGgpOwogICAgICB2YXIgaGVpZ2h0MTogdTMyID0gdTMyKGhlaWdodCk7CiAgICAgIHZhciB3aWR0aDE6IHUzMiA9IHUzMih3aWR0aCk7CiAgICAgIHZhciBkZXB0aDI6IHUzMiA9IHUzMihkZXB0aCArIDEpOwogICAgICB2YXIgaGVpZ2h0MjogdTMyID0gdTMyKGhlaWdodCArIDEpOwogICAgICB2YXIgd2lkdGgyOiB1MzIgPSB1MzIod2lkdGggKyAxKTsKICAgICAgdmFyIGNoYW5uZWw6IHUzMiA9ICR7ci5sZW5ndGg+Mz9gdTMyKG9yaWdpbmFsSW5kaWNlc1ske2R9XSlgOiIwIn07CiAgICAgIHZhciBiYXRjaDogdTMyID0gICR7ci5sZW5ndGg+Mz9gdTMyKG9yaWdpbmFsSW5kaWNlc1ske2l9XSlgOiIwIn07CgogICAgICB2YXIgeDExMTogJHtjfSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIGRlcHRoMSwgaGVpZ2h0MSwgd2lkdGgxKTsKICAgICAgdmFyIHgxMTI6ICR7Y30gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCBkZXB0aDEsIGhlaWdodDEsIHdpZHRoMik7CiAgICAgIHZhciB4MTIxOiAke2N9ID0gZ2V0SW5wdXRWYWx1ZShiYXRjaCwgY2hhbm5lbCwgZGVwdGgxLCBoZWlnaHQyLCB3aWR0aDEpOwogICAgICB2YXIgeDEyMjogJHtjfSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIGRlcHRoMSwgaGVpZ2h0Miwgd2lkdGgyKTsKICAgICAgdmFyIHgyMTE6ICR7Y30gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCBkZXB0aDIsIGhlaWdodDEsIHdpZHRoMSk7CiAgICAgIHZhciB4MjEyOiAke2N9ID0gZ2V0SW5wdXRWYWx1ZShiYXRjaCwgY2hhbm5lbCwgZGVwdGgyLCBoZWlnaHQxLCB3aWR0aDIpOwogICAgICB2YXIgeDIyMTogJHtjfSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIGRlcHRoMiwgaGVpZ2h0Miwgd2lkdGgxKTsKICAgICAgdmFyIHgyMjI6ICR7Y30gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCBkZXB0aDIsIGhlaWdodDIsIHdpZHRoMik7CiAgICAgIHZhciBkeDE6ICR7Y30gPSBhYnMoZGVwdGggLSAke2N9KGRlcHRoMSkpOwogICAgICB2YXIgZHgyOiAke2N9ID0gYWJzKCR7Y30oZGVwdGgyKSAtIGRlcHRoKTsKICAgICAgdmFyIGR5MTogJHtjfSA9IGFicyhoZWlnaHQgLSAke2N9KGhlaWdodDEpKTsKICAgICAgdmFyIGR5MjogJHtjfSA9IGFicygke2N9KGhlaWdodDIpIC0gaGVpZ2h0KTsKICAgICAgdmFyIGR6MTogJHtjfSA9IGFicyh3aWR0aCAtICR7Y30od2lkdGgxKSk7CiAgICAgIHZhciBkejI6ICR7Y30gPSBhYnMoJHtjfSh3aWR0aDIpIC0gd2lkdGgpOwogICAgICBpZiAoZGVwdGgxID09IGRlcHRoMikgewogICAgICAgIGR4MSA9IDAuNTsKICAgICAgICBkeDIgPSAwLjU7CiAgICAgIH0KICAgICAgaWYgKGhlaWdodDEgPT0gaGVpZ2h0MikgewogICAgICAgIGR5MSA9IDAuNTsKICAgICAgICBkeTIgPSAwLjU7CiAgICAgIH0KICAgICAgaWYgKHdpZHRoMSA9PSB3aWR0aDIpIHsKICAgICAgICBkejEgPSAwLjU7CiAgICAgICAgZHoyID0gMC41OwogICAgICB9CiAgICAgIHJldHVybiAoeDExMSAqIGR4MiAqIGR5MiAqIGR6MiArIHgxMTIgKiBkeDIgKiBkeTIgKiBkejEgKyB4MTIxICogZHgyICogZHkxICpkejIgKyB4MTIyICogZHgyICogZHkxICogZHoxICsKICAgICAgICAgICAgICB4MjExICogZHgxICogZHkyICogZHoyICsgeDIxMiAqIGR4MSAqIGR5MiAqIGR6MSArIHgyMjEgKiBkeDEgKiBkeTEgKmR6MiArIHgyMjIgKiBkeDEgKiBkeTEgKiBkejEpOwogICAgfWB9LEVwPSh0LGUscixuLGEsaSk9PntsZXQgcz10LmRpbXMsbz1fcChpLGUuYXhlcyxzLmxlbmd0aCksbD15cChzLG4sYSxlLmF4ZXMpLGQ9bi5zbGljZSgpO24ubGVuZ3RoPT09MCYmKGQ9cy5tYXAoKGssRSk9Pms9PT0wPzE6bFtFXS9rKSxlLmtlZXBBc3BlY3RSYXRpb1BvbGljeSE9PSJzdHJldGNoIiYmKGw9d3AocyxkLGUpKSk7bGV0IGM9dmUoIm91dHB1dCIsdC5kYXRhVHlwZSxsLmxlbmd0aCksdT1KKCJpbnB1dCIsdC5kYXRhVHlwZSxzLmxlbmd0aCksaD1lZS5zaXplKGwpLGY9cy5sZW5ndGg9PT1sLmxlbmd0aCYmcy5ldmVyeSgoayxFKT0+az09PWxbRV0pLGc9ZS5jb29yZGluYXRlVHJhbnNmb3JtTW9kZT09PSJ0Zl9jcm9wX2FuZF9yZXNpemUiLHk9ZS5leHRyYXBvbGF0aW9uVmFsdWUsdz11LnR5cGUudmFsdWUsdj1rPT5gCiAgICAgICR7Zj8iIjpgCiAgICAgICR7bXAoZS5jb29yZGluYXRlVHJhbnNmb3JtTW9kZSx3KX07CiAgICAgICR7KCgpPT57c3dpdGNoKGUubW9kZSl7Y2FzZSJuZWFyZXN0IjpyZXR1cm5gCiAgICAgICAgICAgICAgJHskcCh1LHMpfTsKICAgICAgICAgICAgICAke2dwKGUubmVhcmVzdE1vZGUscix3KX07CiAgICAgICAgICAgICAgJHticCh1LGMscyxsLGQubGVuZ3RoLG8ubGVuZ3RoLGcpfTsKICAgICAgICAgICAgICBgO2Nhc2UibGluZWFyIjpyZXR1cm5gCiAgICAgICAgICAgICAgJHt2cChjLHMsbCxkLmxlbmd0aCxvLmxlbmd0aCl9OwogICAgICAgICAgICAgICR7KCgpPT57aWYocy5sZW5ndGg9PT0yfHxzLmxlbmd0aD09PTQpcmV0dXJuYCR7eHAodSxjLHMsZyx5KX1gO2lmKHMubGVuZ3RoPT09M3x8cy5sZW5ndGg9PT01KXJldHVybmAke1NwKHUsYyxzLGcseSl9YDt0aHJvdyBFcnJvcigiTGluZWFyIG1vZGUgb25seSBzdXBwb3J0cyBpbnB1dCBkaW1zIDIsIDMsIDQgYW5kIDUgYXJlIHN1cHBvcnRlZCBpbiBsaW5lYXIgbW9kZS4iKX0pKCl9OwogICAgICAgICAgICBgO2Nhc2UiY3ViaWMiOnJldHVybmAKICAgICAgICAgICAgJHsoKCk9PntpZihzLmxlbmd0aD09PTJ8fHMubGVuZ3RoPT09NClyZXR1cm5gJHtrcCh1LGMscyxsLGQsbyxlLmN1YmljQ29lZmZBLGcsZS5leHRyYXBvbGF0aW9uVmFsdWUsZS5leGNsdWRlT3V0c2lkZSl9YDt0aHJvdyBFcnJvcigiQ3ViaWMgbW9kZSBvbmx5IHN1cHBvcnRzIGlucHV0IGRpbXMgMiBhbmQgNCBhcmUgc3VwcG9ydGVkIGluIGxpbmVhciBtb2RlLiIpfSkoKX07CiAgICAgICAgICAgIGA7ZGVmYXVsdDp0aHJvdyBFcnJvcigiSW52YWxpZCByZXNpemUgbW9kZSIpfX0pKCl9OwogICAgICBgfQogICAgICAke2sucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRfc2l6ZSIsInUzMiIpLnJlZ2lzdGVyVW5pZm9ybSgic2NhbGVzIiwiZjMyIixkLmxlbmd0aCkucmVnaXN0ZXJVbmlmb3JtKCJyb2kiLCJmMzIiLG8ubGVuZ3RoKS5kZWNsYXJlVmFyaWFibGVzKHUsYyl9CiAgICAgICR7ay5tYWluU3RhcnQoKX0KICAgICAgICAke2suZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0X3NpemUiKX0KICAgICAgICAke2Y/Im91dHB1dFtnbG9iYWxfaWR4XSA9IGlucHV0W2dsb2JhbF9pZHhdOyI6YAogICAgICAgIGxldCBvdXRwdXRfaW5kaWNlcyA9ICR7Yy5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07CiAgICAgICAgdmFyIGlucHV0X2luZGljZXM6ICR7dS50eXBlLmluZGljZXN9OwogICAgICAgICR7KCgpPT57c3dpdGNoKGUubW9kZSl7Y2FzZSJuZWFyZXN0IjpyZXR1cm5gaW5wdXRfaW5kaWNlcyA9IGNhbGN1bGF0ZUlucHV0SW5kaWNlc0Zyb21PdXRwdXRJbmRpY2VzKG91dHB1dF9pbmRpY2VzKTsKICAgICAgICAgICAgICAgIGlmIChjaGVja0lucHV0SW5kaWNlcyhpbnB1dF9pbmRpY2VzKSkgewogICAgICAgICAgICAgICAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSAke3UuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9OwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgb3V0cHV0W2dsb2JhbF9pZHhdID0gJHtlLmV4dHJhcG9sYXRpb25WYWx1ZX07CiAgICAgICAgICAgICAgICB9YDtjYXNlImxpbmVhciI6cmV0dXJuYG91dHB1dFtnbG9iYWxfaWR4XSA9ICR7cy5sZW5ndGg9PT0yfHxzLmxlbmd0aD09PTQ/ImJpbGluZWFySW50ZXJwb2xhdGlvbiI6InRyaWxpbmVhckludGVycG9sYXRpb24ifShvdXRwdXRfaW5kaWNlcyk7YDtjYXNlImN1YmljIjpyZXR1cm4ib3V0cHV0W2dsb2JhbF9pZHhdID0gYmljdWJpY0ludGVycG9sYXRpb24ob3V0cHV0X2luZGljZXMpOyI7ZGVmYXVsdDp0aHJvdyBFcnJvcihgVW5zdXBwb3J0ZWQgcmVzaXplIG1vZGU6ICR7ZS5tb2RlfWApfX0pKCl9OwpgfQogICAgICB9YDtyZXR1cm57bmFtZToiUmVzaXplIixzaGFkZXJDYWNoZTp7aGludDpgJHtlLmNhY2hlS2V5fXwke3J9fCR7ZC5sZW5ndGg+MD9kOiIifXwke2EubGVuZ3RoPjA/YToiIn18JHtvLmxlbmd0aD4wP286IiJ9fCR7Zn18JHtzfWAsaW5wdXREZXBlbmRlbmNpZXM6WyJyYW5rIl19LGdldFNoYWRlclNvdXJjZTp2LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6bCxkYXRhVHlwZTp0LmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoaC82NCl9LHByb2dyYW1Vbmlmb3Jtczpbe3R5cGU6InVpbnQzMiIsZGF0YTpofSx7dHlwZToiZmxvYXQzMiIsZGF0YTpkfSx7dHlwZToiZmxvYXQzMiIsZGF0YTpvfSwuLi5pZShzKSwuLi5pZShsKV19KX19LENwPXQ9PntsZXQgZT10LmN1c3RvbURhdGFCdWZmZXI7cmV0dXJuIG5ldyBVaW50MzJBcnJheShlLGUuYnl0ZU9mZnNldCwxKVswXX0sSXA9KHQsZSk9PntsZXQgcj1bXSxuPVtdLGE9W10saT1DcCh0KTtpZihlLmFudGlhbGlhcyE9PTApdGhyb3cgRXJyb3IoIk9ubHkgZGVmYXVsdCB2YWx1ZSAoMCkgZm9yIEFudGlhbGlhcyBhdHRyaWJ1dGUgaXMgc3VwcG9ydGVkIik7ZnAodC5pbnB1dHMsZSxpLHIsbixhKSx0LmNvbXB1dGUoRXAodC5pbnB1dHNbMF0sZSxpLHIsbixhKSx7aW5wdXRzOlswXX0pfSxBcD10PT57bGV0IGU9dC5hbnRpYWxpYXMscj10LmF4ZXMsbj10LmNvb3JkaW5hdGVUcmFuc2Zvcm1Nb2RlLGE9dC5jdWJpY0NvZWZmQSxpPXQuZXhjbHVkZU91dHNpZGUhPT0wLHM9dC5leHRyYXBvbGF0aW9uVmFsdWUsbz10LmtlZXBBc3BlY3RSYXRpb1BvbGljeSxsPXQubW9kZSxkPXQubmVhcmVzdE1vZGU9PT0iIj8ic2ltcGxlIjp0Lm5lYXJlc3RNb2RlO3JldHVybiBxZSh7YW50aWFsaWFzOmUsYXhlczpyLGNvb3JkaW5hdGVUcmFuc2Zvcm1Nb2RlOm4sY3ViaWNDb2VmZkE6YSxleGNsdWRlT3V0c2lkZTppLGV4dHJhcG9sYXRpb25WYWx1ZTpzLGtlZXBBc3BlY3RSYXRpb1BvbGljeTpvLG1vZGU6bCxuZWFyZXN0TW9kZTpkfSl9fSksVHAsT3AsTXAsenAsVF89USgoKT0+e1llKCksSWUoKSxpdCgpLENlKCksVHA9dD0+e2lmKCF0fHx0Lmxlbmd0aDwzKXRocm93IG5ldyBFcnJvcigibGF5ZXJOb3JtIHJlcXVpcmVzIGF0IGxlYXN0IDMgaW5wdXRzLiIpO2xldCBlPXRbMF0scj10WzFdLG49dFsyXTtpZihlLmRhdGFUeXBlIT09ci5kYXRhVHlwZXx8ZS5kYXRhVHlwZSE9PW4uZGF0YVR5cGUpdGhyb3cgbmV3IEVycm9yKCJBbGwgaW5wdXRzIG11c3QgaGF2ZSB0aGUgc2FtZSBkYXRhIHR5cGUiKTtpZihlLmRpbXMubGVuZ3RoIT09MyYmZS5kaW1zLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCBtdXN0IGJlIDJEIG9yIDNEIik7aWYoci5kaW1zLmxlbmd0aCE9PTMmJnIuZGltcy5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcigiU2tpcCBtdXN0IGJlIDJEIG9yIDNEIik7bGV0IGE9ZS5kaW1zW2UuZGltcy5sZW5ndGgtMV0saT1lLmRpbXNbZS5kaW1zLmxlbmd0aC0yXTtpZihyLmRpbXNbci5kaW1zLmxlbmd0aC0xXSE9PWEpdGhyb3cgbmV3IEVycm9yKCJTa2lwIG11c3QgaGF2ZSB0aGUgc2FtZSBoaWRkZW4gc2l6ZSBhcyBpbnB1dCIpO2lmKHIuZGltc1tyLmRpbXMubGVuZ3RoLTJdIT09aSl0aHJvdyBuZXcgRXJyb3IoIlNraXAgbXVzdCBoYXZlIHRoZSBzYW1lIHNlcXVlbmNlIGxlbmd0aCBhcyBpbnB1dCIpO2lmKG4uZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiR2FtbWEgbXVzdCBiZSAxRCIpO2lmKG4uZGltc1tuLmRpbXMubGVuZ3RoLTFdIT09YSl0aHJvdyBuZXcgRXJyb3IoIkdhbW1hIG11c3QgaGF2ZSB0aGUgc2FtZSBoaWRkZW4gc2l6ZSBhcyBpbnB1dCIpO2lmKHQubGVuZ3RoPjMpe2xldCBzPXRbM107aWYocy5kaW1zLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCJCZXRhIG11c3QgYmUgMUQiKTtpZihzLmRpbXNbcy5kaW1zLmxlbmd0aC0xXSE9PWEpdGhyb3cgbmV3IEVycm9yKCJCZXRhIG11c3QgaGF2ZSB0aGUgc2FtZSBoaWRkZW4gc2l6ZSBhcyBpbnB1dCIpfWlmKHQubGVuZ3RoPjQpe2xldCBzPXRbNF07aWYocy5kaW1zLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCJCaWFzIG11c3QgYmUgMUQiKTtpZihzLmRpbXNbcy5kaW1zLmxlbmd0aC0xXSE9PWEpdGhyb3cgbmV3IEVycm9yKCJCaWFzIG11c3QgaGF2ZSB0aGUgc2FtZSBoaWRkZW4gc2l6ZSBhcyBpbnB1dCIpfX0sT3A9KHQsZSxyLG4pPT57bGV0IGE9dFswXS5kaW1zLGk9ZWUuc2l6ZShhKSxzPWEsbz1pLGw9YS5zbGljZSgtMSlbMF0sZD1uP2Euc2xpY2UoMCwtMSkuY29uY2F0KDEpOltdLGM9dC5sZW5ndGg+Myx1PXQubGVuZ3RoPjQsaD1uJiZyPjEsZj1uJiZyPjIsZz1yPjMseT12dChsKSx3PVtKKCJ4Iix0WzBdLmRhdGFUeXBlLHRbMF0uZGltcyx5KSxKKCJza2lwIix0WzFdLmRhdGFUeXBlLHRbMV0uZGltcyx5KSxKKCJnYW1tYSIsdFsyXS5kYXRhVHlwZSx0WzJdLmRpbXMseSldO2MmJncucHVzaChKKCJiZXRhIix0WzNdLmRhdGFUeXBlLHRbM10uZGltcyx5KSksdSYmdy5wdXNoKEooImJpYXMiLHRbNF0uZGF0YVR5cGUsdFs0XS5kaW1zLHkpKSx3LnB1c2godmUoIm91dHB1dCIsdFswXS5kYXRhVHlwZSxzLHkpKSxoJiZ3LnB1c2godmUoIm1lYW5PdXRwdXQiLDEsZCkpLGYmJncucHVzaCh2ZSgiaW52U3RkT3V0cHV0IiwxLGQpKSxnJiZ3LnB1c2godmUoImlucHV0U2tpcEJpYXNTdW0iLHRbMF0uZGF0YVR5cGUscyx5KSk7bGV0IHY9SXQodFswXS5kYXRhVHlwZSksaz14PT5gCiAgICAgIGNvbnN0IGhpZGRlblNpemU6IGYzMiA9ICR7bH07CiAgICAgIGNvbnN0IGhpZGRlblNpemVWZWN0b3JpemVkOiB1MzIgPSAke2wveX07CiAgICAgIGNvbnN0IGVwc2lsb246IGYzMiA9ICR7ZS5lcHNpbG9ufTsKCiAgICAgICR7eC5kZWNsYXJlVmFyaWFibGVzKC4uLncpfQoKICAgICAgJHt4Lm1haW5TdGFydCgpfQogICAgICAgICR7eC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKG8vbCl9CiAgICAgICAgbGV0IG9mZnNldCA9IGdsb2JhbF9pZHggKiBoaWRkZW5TaXplVmVjdG9yaXplZDsKICAgICAgICB2YXIgc3VtID0gJHtidCgiZjMyIix5KX07CiAgICAgICAgdmFyIHNxdWFyZVN1bSA9ICR7YnQoImYzMiIseSl9OwogICAgICAgIGZvciAodmFyIGk6IHUzMiA9IDA7IGkgPCBoaWRkZW5TaXplVmVjdG9yaXplZDsgaSsrKSB7CiAgICAgICAgICBsZXQgc2tpcFZhbHVlID0gc2tpcFtvZmZzZXQgKyBpXTsKICAgICAgICAgIGxldCBiaWFzVmFsdWUgPSAke3U/ImJpYXNbaV0iOiIwLjAifTsKICAgICAgICAgIGxldCBpbnB1dFZhbHVlID0geFtvZmZzZXQgKyBpXTsKICAgICAgICAgIGxldCB2YWx1ZSA9IGlucHV0VmFsdWUgKyBza2lwVmFsdWUgKyBiaWFzVmFsdWU7CiAgICAgICAgICAke2c/ImlucHV0U2tpcEJpYXNTdW1bb2Zmc2V0ICsgaV0gPSB2YWx1ZTsiOiIifQogICAgICAgICAgb3V0cHV0W29mZnNldCArIGldID0gdmFsdWU7CiAgICAgICAgICBsZXQgZjMyVmFsdWUgPSAke2FyKHYseSwidmFsdWUiKX07CiAgICAgICAgICBzdW0gKz0gZjMyVmFsdWU7CiAgICAgICAgICBzcXVhcmVTdW0gKz0gZjMyVmFsdWUgKiBmMzJWYWx1ZTsKICAgICAgICB9CiAgICAgICAgbGV0IG1lYW4gPSAke0t0KCJzdW0iLHkpfSAvIGhpZGRlblNpemU7CiAgICAgICAgbGV0IGludlN0ZERldiA9IGludmVyc2VTcXJ0KCR7S3QoInNxdWFyZVN1bSIseSl9IC8gaGlkZGVuU2l6ZSAtIG1lYW4gKiBtZWFuICsgZXBzaWxvbik7CiAgICAgICAgJHtoPyJtZWFuT3V0cHV0W2dsb2JhbF9pZHhdID0gbWVhbjsiOiIifQogICAgICAgICR7Zj8iaW52U3RkT3V0cHV0W2dsb2JhbF9pZHhdID0gaW52U3RkRGV2OyI6IiJ9CiAgICAgICAgZm9yICh2YXIgaTogdTMyID0gMDsgaSA8IGhpZGRlblNpemVWZWN0b3JpemVkOyBpKyspIHsKICAgICAgICAgIG91dHB1dFtvZmZzZXQgKyBpXSA9IChvdXRwdXRbb2Zmc2V0ICsgaV0gLSAke3Z9KG1lYW4pKSAqICR7dn0oaW52U3RkRGV2KSAqIGdhbW1hW2ldCiAgICAgICAgICAgKyAke2M/ImJldGFbaV0iOiIwLjAifTsKICAgICAgICB9CiAgICAgIH1gLEU9W3tkaW1zOnMsZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dO3JldHVybiByPjEmJkUucHVzaCh7ZGltczpkLGRhdGFUeXBlOjF9KSxyPjImJkUucHVzaCh7ZGltczpkLGRhdGFUeXBlOjF9KSxyPjMmJkUucHVzaCh7ZGltczphLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9KSx7bmFtZToiU2tpcExheWVyTm9ybWFsaXphdGlvbiIsc2hhZGVyQ2FjaGU6e2hpbnQ6ZS5jYWNoZUtleX0sZ2V0U2hhZGVyU291cmNlOmssZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOkUsZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoby9sLzY0KX19KX19LE1wPSh0LGUpPT57VHAodC5pbnB1dHMpO2xldCByPVswXTt0Lm91dHB1dENvdW50PjEmJnIucHVzaCgtMyksdC5vdXRwdXRDb3VudD4yJiZyLnB1c2goLTMpLHQub3V0cHV0Q291bnQ+MyYmci5wdXNoKDMpLHQuY29tcHV0ZShPcCh0LmlucHV0cyxlLHQub3V0cHV0Q291bnQsITEpLHtvdXRwdXRzOnJ9KX0senA9dD0+e2xldCBlPXQuZXBzaWxvbjtyZXR1cm4gcWUoe2Vwc2lsb246ZX0pfX0pLEJwLGduLFJwLE1zLERwLFBwLE5wLFVwLE9fPVEoKCk9PntZZSgpLEllKCksaXQoKSxDZSgpLEJwPSh0LGUpPT57aWYoIXR8fHQubGVuZ3RoPDEpdGhyb3cgbmV3IEVycm9yKCJ0b28gZmV3IGlucHV0cyIpO2lmKGUuYXhlcy5sZW5ndGghPT0wKXtpZihlLmF4ZXMubGVuZ3RoIT09ZS5zdGFydHMubGVuZ3RofHxlLmF4ZXMubGVuZ3RoIT09ZS5lbmRzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImF4ZXMsIHN0YXJ0cyBhbmQgZW5kcyBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoIil9ZWxzZSBpZihlLnN0YXJ0cy5sZW5ndGghPT1lLmVuZHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigic3RhcnRzIGFuZCBlbmRzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGgiKTt0LnNsaWNlKDEpLmZvckVhY2goKHIsbik9PntpZih0W24rMV0uZGF0YVR5cGUhPT02JiZ0W24rMV0uZGF0YVR5cGUhPT03KXRocm93IG5ldyBFcnJvcihgSW5wdXQgJHtufSBtdXN0IGJlIGFuIGFycmF5IG9mIGludDMyIG9yIGludDY0YCl9KX0sZ249KHQsZSk9PntsZXQgcj1bXTtpZih0Lmxlbmd0aD5lKWlmKHRbZV0uZGF0YVR5cGU9PT03KXRbZV0uZ2V0QmlnSW50NjRBcnJheSgpLmZvckVhY2gobj0+ci5wdXNoKE51bWJlcihuKSkpO2Vsc2UgaWYodFtlXS5kYXRhVHlwZT09PTYpdFtlXS5nZXRJbnQzMkFycmF5KCkuZm9yRWFjaChuPT5yLnB1c2goTnVtYmVyKG4pKSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYElucHV0ICR7ZX0gbXVzdCBiZSBhbiBhcnJheSBvZiBpbnQzMiBvciBpbnQ2NGApO3JldHVybiByfSxScD0odCxlKT0+e2lmKHQubGVuZ3RoPjEpe2xldCByPWduKHQsMSksbj1nbih0LDIpLGE9Z24odCwzKTtyZXR1cm4gYS5sZW5ndGg9PT0wJiYoYT1bLi4uQXJyYXkodFswXS5kaW1zLmxlbmd0aCkua2V5cygpXSkscWUoe3N0YXJ0czpyLGVuZHM6bixheGVzOmF9KX1lbHNlIHJldHVybiBlfSxNcz0odCxlLHIsbixhKT0+e2xldCBpPXQ7cmV0dXJuIHQ8MCYmKGkrPXJbbltlXV0pLGFbZV08MD9NYXRoLm1heCgwLE1hdGgubWluKGkscltuW2VdXS0xKSk6TWF0aC5tYXgoMCxNYXRoLm1pbihpLHJbbltlXV0pKX0sRHA9KHQsZSxyKT0+YGZuIGNhbGN1bGF0ZUlucHV0SW5kaWNlcyhvdXRwdXRfaW5kaWNlczogJHtlLnR5cGUuaW5kaWNlc30pIC0+ICR7dC50eXBlLmluZGljZXN9IHsKICAgICAgICAgIHZhciBpbnB1dF9pbmRpY2VzOiAke3QudHlwZS5pbmRpY2VzfTsKICAgICAgICAgIHZhciBjYXJyeSA9IDB1OwogICAgICAgICAgZm9yICh2YXIgaSA9ICR7ci5sZW5ndGh9OyBpID49IDA7IGktLSkgewogICAgICAgICAgICBsZXQgaW5wdXRfc2hhcGVfaSA9ICR7eGUoInVuaWZvcm1zLmlucHV0X3NoYXBlIiwiaSIsci5sZW5ndGgpfTsKICAgICAgICAgICAgbGV0IHN0ZXBzX2kgPSAke3hlKCJ1bmlmb3Jtcy5zdGVwcyIsImkiLHIubGVuZ3RoKX07CiAgICAgICAgICAgIGxldCBzaWduc19pID0gJHt4ZSgidW5pZm9ybXMuc2lnbnMiLCJpIixyLmxlbmd0aCl9OwogICAgICAgICAgICBsZXQgc3RhcnRzX2kgPSAke3hlKCJ1bmlmb3Jtcy5zdGFydHMiLCJpIixyLmxlbmd0aCl9OwogICAgICAgICAgICB2YXIgb3V0cHV0X2luZGV4ID0gJHtlLmluZGljZXNHZXQoIm91dHB1dF9pbmRpY2VzIiwiaSIpfTsKICAgICAgICAgICAgdmFyIGlucHV0X2luZGV4ID0gb3V0cHV0X2luZGV4ICogc3RlcHNfaSArIHN0YXJ0c19pICsgY2Fycnk7CiAgICAgICAgICAgIGNhcnJ5ID0gaW5wdXRfaW5kZXggLyBpbnB1dF9zaGFwZV9pOwogICAgICAgICAgICBpbnB1dF9pbmRleCA9IGlucHV0X2luZGV4ICUgaW5wdXRfc2hhcGVfaTsKICAgICAgICAgICAgaWYgKHNpZ25zX2kgPCAwKSB7CiAgICAgICAgICAgICAgaW5wdXRfaW5kZXggPSBpbnB1dF9zaGFwZV9pIC0gaW5wdXRfaW5kZXggLSAxdSArIHN0YXJ0c19pOwogICAgICAgICAgICB9CiAgICAgICAgICAgICR7dC5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIiwiaSIsImlucHV0X2luZGV4Iil9OwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGlucHV0X2luZGljZXM7CiAgICAgIH1gLFBwPSh0LGUpPT57bGV0IHI9dFswXS5kaW1zLG49ZWUuc2l6ZShyKSxhPWUuYXhlcy5sZW5ndGg+MD9lZS5ub3JtYWxpemVBeGVzKGUuYXhlcyxyLmxlbmd0aCk6Wy4uLkFycmF5KHIubGVuZ3RoKS5rZXlzKCldLGk9Z24odCw0KTtpLmZvckVhY2godj0+diE9PTB8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigic3RlcCBjYW5ub3QgYmUgMCIpfSkpLGkubGVuZ3RoPT09MCYmKGk9QXJyYXkoYS5sZW5ndGgpLmZpbGwoMSkpO2xldCBzPWUuc3RhcnRzLm1hcCgodixrKT0+TXModixrLHIsYSxpKSksbz1lLmVuZHMubWFwKCh2LGspPT5Ncyh2LGsscixhLGkpKTtpZihhLmxlbmd0aCE9PXMubGVuZ3RofHxhLmxlbmd0aCE9PW8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigic3RhcnQsIGVuZHMgYW5kIGF4ZXMgc2hvdWxkIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGVsZW1lbnRzIik7aWYoYS5sZW5ndGghPT1yLmxlbmd0aClmb3IobGV0IHY9MDt2PHIubGVuZ3RoOysrdilhLmluY2x1ZGVzKHYpfHwocy5zcGxpY2UodiwwLDApLG8uc3BsaWNlKHYsMCxyW3ZdKSxpLnNwbGljZSh2LDAsMSkpO2xldCBsPWkubWFwKHY9Pk1hdGguc2lnbih2KSk7aS5mb3JFYWNoKCh2LGssRSk9PntpZih2PDApe2xldCB4PShvW2tdLXNba10pL3YsST1zW2tdLFQ9SSt4Kmlba107c1trXT1ULG9ba109SSxFW2tdPS12fX0pO2xldCBkPXIuc2xpY2UoMCk7YS5mb3JFYWNoKCh2LGspPT57ZFt2XT1NYXRoLmNlaWwoKG9bdl0tc1t2XSkvaVt2XSl9KTtsZXQgYz17ZGltczpkLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9LHU9dmUoIm91dHB1dCIsdFswXS5kYXRhVHlwZSxkLmxlbmd0aCksaD1KKCJpbnB1dCIsdFswXS5kYXRhVHlwZSx0WzBdLmRpbXMubGVuZ3RoKSxmPWVlLnNpemUoZCksZz1be25hbWU6Im91dHB1dFNpemUiLHR5cGU6InUzMiJ9LHtuYW1lOiJzdGFydHMiLHR5cGU6InUzMiIsbGVuZ3RoOnMubGVuZ3RofSx7bmFtZToic2lnbnMiLHR5cGU6ImkzMiIsbGVuZ3RoOmwubGVuZ3RofSx7bmFtZToic3RlcHMiLHR5cGU6InUzMiIsbGVuZ3RoOmkubGVuZ3RofV0seT1be3R5cGU6InVpbnQzMiIsZGF0YTpmfSx7dHlwZToidWludDMyIixkYXRhOnN9LHt0eXBlOiJpbnQzMiIsZGF0YTpsfSx7dHlwZToidWludDMyIixkYXRhOml9LC4uLmllKHRbMF0uZGltcyksLi4uaWUoZCldLHc9dj0+YAogICAgICAke3YucmVnaXN0ZXJVbmlmb3JtcyhnKS5kZWNsYXJlVmFyaWFibGVzKGgsdSl9CiAgICAgICAgJHtEcChoLHUscil9CiAgICAgICAgJHt2Lm1haW5TdGFydCgpfQogICAgICAgICAgJHt2Lmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dFNpemUiKX0KICAgICAgICAgIGxldCBvdXRwdXRfaW5kaWNlcyA9ICR7dS5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07CiAgICAgICAgICBsZXQgaW5wdXRfaW5kaWNlcyA9IGNhbGN1bGF0ZUlucHV0SW5kaWNlcyhvdXRwdXRfaW5kaWNlcyk7CiAgICAgICAgICAke3Uuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLGguZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIikpfQogICAgICB9YDtyZXR1cm57bmFtZToiU2xpY2UiLHNoYWRlckNhY2hlOntoaW50OmAke2wubGVuZ3RofV8ke3MubGVuZ3RofV8ke2kubGVuZ3RofWAsaW5wdXREZXBlbmRlbmNpZXM6WyJyYW5rIl19LGdldFNoYWRlclNvdXJjZTp3LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbY10sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwobi82NCl9LHByb2dyYW1Vbmlmb3Jtczp5fSl9fSxOcD0odCxlKT0+e0JwKHQuaW5wdXRzLGUpO2xldCByPVJwKHQuaW5wdXRzLGUpO3QuY29tcHV0ZShQcCh0LmlucHV0cyxyKSx7aW5wdXRzOlswXX0pfSxVcD10PT57bGV0IGU9dC5zdGFydHMscj10LmVuZHMsbj10LmF4ZXM7cmV0dXJuIHFlKHtzdGFydHM6ZSxlbmRzOnIsYXhlczpufSl9fSksV3AsTHAsRnAsVnAsTV89USgoKT0+e0llKCksaXQoKSxDZSgpLFdwPXQ9PntpZighdHx8dC5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiU29mdG1heCBvcCByZXF1aXJlcyAxIGlucHV0LiIpfSxMcD0odCxlKT0+e2xldCByPXQuZGltcyxuPWVlLnNpemUociksYT02NCxpPWUuYXhpcztpZihpPDAmJihpPXIubGVuZ3RoK2kpLGk8ci5sZW5ndGgtMSl0aHJvdyBuZXcgRXJyb3IoInNvZnRtYXggb25seSBzdXBwb3J0cyBsYXN0IGF4aXMgZm9yIG5vdy4iKTtsZXQgcz1yW2ldLG89bi9zLGw9dnQocyksZD1zL2wsYz0odyx2KT0+dj09PTQ/YG1heChtYXgoJHt3fS54LCAke3d9LnkpLCBtYXgoJHt3fS56LCAke3d9LncpKWA6dj09PTI/YG1heCgke3d9LngsICR7d30ueSlgOnY9PT0zP2BtYXgobWF4KCR7d30ueCwgJHt3fS55KSwgJHt3fS56KWA6dyx1PUooIngiLHQuZGF0YVR5cGUsdC5kaW1zLGwpLGg9dmUoInJlc3VsdCIsdC5kYXRhVHlwZSx0LmRpbXMsbCksZj11LnR5cGUudmFsdWUsZz1JdCh0LmRhdGFUeXBlKT09PSJmMzIiP2B2YXIgdGhyZWFkTWF4ID0gJHtmfSgtMy40MDI4MjNlKzM4Zik7YDpgdmFyIHRocmVhZE1heCA9ICR7Zn0oLTY1NTA0LjBoKTtgLHk9dz0+YAogICAgICB2YXI8d29ya2dyb3VwPiByb3dNYXhTaGFyZWQgOiAke2Z9OwogICAgICB2YXI8d29ya2dyb3VwPiByb3dTdW1TaGFyZWQgOiAke2Z9OwogICAgICB2YXI8d29ya2dyb3VwPiB0aHJlYWRTaGFyZWQgOiBhcnJheTwke2Z9LCAke2F9PjsKCiAgICAgIGZuIGdldFZhbHVlKHJvdzogaTMyLCBjb2w6IGkzMiwgcm93X3N0cmlkZTogaTMyKSAtPiAke2Z9IHsKICAgICAgICBsZXQgaW5kZXggPSByb3cgKiByb3dfc3RyaWRlICsgY29sOwogICAgICAgIHJldHVybiB4W2luZGV4XTsKICAgICAgfQoKICAgICAgZm4gc2V0VmFsdWUocm93OiBpMzIsIGNvbDogaTMyLCByb3dfc3RyaWRlOiBpMzIsIHZhbHVlOiAke2Z9KSB7CiAgICAgICAgbGV0IGluZGV4ID0gcm93ICogcm93X3N0cmlkZSArIGNvbDsKICAgICAgICByZXN1bHRbaW5kZXhdID0gdmFsdWU7CiAgICAgIH0KICAgICAgJHt3LnJlZ2lzdGVyVW5pZm9ybSgicGFja2VkQ29scyIsImkzMiIpLmRlY2xhcmVWYXJpYWJsZXModSxoKX0KICAgICAgJHt3Lm1haW5TdGFydCgpfQogICAgICAgIGxldCBnaW5kZXggPSBpMzIoZ2xvYmFsX2lkeCk7CiAgICAgICAgbGV0IGxpbmRleCA9IGkzMihsb2NhbF9pZHgpOwogICAgICAgIGNvbnN0IHdnID0gJHthfTsKICAgICAgICBsZXQgcm93ID0gZ2luZGV4IC8gd2c7CiAgICAgICAgbGV0IGNvbHMgPSB1bmlmb3Jtcy5wYWNrZWRDb2xzOwogICAgICAgIGxldCByb3dfc3RyaWRlIDogaTMyID0gdW5pZm9ybXMucGFja2VkQ29sczsKCiAgICAgICAgLy8gZmluZCB0aGUgcm93cyBtYXgKICAgICAgICAke2d9CiAgICAgICAgZm9yICh2YXIgY29sID0gbGluZGV4OyBjb2wgPCBjb2xzOyBjb2wgKz0gd2cpIHsKICAgICAgICAgIGxldCB2YWx1ZSA9IGdldFZhbHVlKHJvdywgY29sLCByb3dfc3RyaWRlKTsKICAgICAgICAgIHRocmVhZE1heCA9IG1heCh0aHJlYWRNYXgsIHZhbHVlKTsKICAgICAgICB9CiAgICAgICAgaWYgKGxpbmRleCA8IGNvbHMpIHsKICAgICAgICAgIHRocmVhZFNoYXJlZFtsaW5kZXhdID0gdGhyZWFkTWF4OwogICAgICAgIH0KICAgICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CgogICAgICAgIHZhciByZWR1Y2VTaXplID0gbWluKGNvbHMsIHdnKTsKICAgICAgICBmb3IgKHZhciBjdXJyU2l6ZSA9IHJlZHVjZVNpemUgPj4gMTsgIGN1cnJTaXplID4gMDsgY3VyclNpemUgPSByZWR1Y2VTaXplID4+IDEpIHsKICAgICAgICAgIHJlZHVjZVNpemUgPSBjdXJyU2l6ZSArIChyZWR1Y2VTaXplICYgMSk7CiAgICAgICAgICBpZiAobGluZGV4IDwgY3VyclNpemUpIHsKICAgICAgICAgICAgdGhyZWFkU2hhcmVkW2xpbmRleF0gPSBtYXgodGhyZWFkU2hhcmVkW2xpbmRleF0sIHRocmVhZFNoYXJlZFtsaW5kZXggKyByZWR1Y2VTaXplXSk7CiAgICAgICAgICB9CiAgICAgICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CiAgICAgICAgfQogICAgICAgIGlmIChsaW5kZXggPT0gMCkgewogICAgICAgICAgcm93TWF4U2hhcmVkID0gJHtmfSgke2MoInRocmVhZFNoYXJlZFswXSIsbCl9KTsKICAgICAgICB9CiAgICAgICAgd29ya2dyb3VwQmFycmllcigpOwoKICAgICAgICAvLyBmaW5kIHRoZSByb3dzIHN1bQogICAgICAgIHZhciB0aHJlYWRTdW0gPSAke2Z9KDAuMCk7CiAgICAgICAgZm9yICh2YXIgY29sID0gbGluZGV4OyBjb2wgPCBjb2xzOyBjb2wgKz0gd2cpIHsKICAgICAgICAgIGxldCBzdWJFeHAgPSBleHAoZ2V0VmFsdWUocm93LCBjb2wsIHJvd19zdHJpZGUpIC0gcm93TWF4U2hhcmVkKTsKICAgICAgICAgIHRocmVhZFN1bSArPSBzdWJFeHA7CiAgICAgICAgfQogICAgICAgIHRocmVhZFNoYXJlZFtsaW5kZXhdID0gdGhyZWFkU3VtOwogICAgICAgIHdvcmtncm91cEJhcnJpZXIoKTsKCiAgICAgICAgZm9yICh2YXIgY3VyclNpemUgPSB3ZyA+PiAxOyAgY3VyclNpemUgPiAwOyBjdXJyU2l6ZSA9IGN1cnJTaXplID4+IDEpIHsKICAgICAgICAgIGlmIChsaW5kZXggPCBjdXJyU2l6ZSkgewogICAgICAgICAgICB0aHJlYWRTaGFyZWRbbGluZGV4XSA9IHRocmVhZFNoYXJlZFtsaW5kZXhdICsgdGhyZWFkU2hhcmVkW2xpbmRleCArIGN1cnJTaXplXTsKICAgICAgICAgIH0KICAgICAgICAgIHdvcmtncm91cEJhcnJpZXIoKTsKICAgICAgICB9CiAgICAgICAgaWYgKGxpbmRleCA9PSAwKSB7CiAgICAgICAgICByb3dTdW1TaGFyZWQgPSAke2Z9KCR7S3QoInRocmVhZFNoYXJlZFswXSIsbCl9KTsKICAgICAgICB9CiAgICAgICAgd29ya2dyb3VwQmFycmllcigpOwoKICAgICAgICAvLyBjYWxjdWxhdGUgZmluYWwgdmFsdWUgZm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgcm93CiAgICAgICAgZm9yICh2YXIgY29sID0gbGluZGV4OyBjb2wgPCBjb2xzOyBjb2wgKz0gd2cpIHsKICAgICAgICAgIGxldCB2YWx1ZSA9IGV4cChnZXRWYWx1ZShyb3csIGNvbCwgcm93X3N0cmlkZSkgLSByb3dNYXhTaGFyZWQpIC8gcm93U3VtU2hhcmVkOwogICAgICAgICAgc2V0VmFsdWUocm93LCBjb2wsIHJvd19zdHJpZGUsIHZhbHVlKTsKICAgICAgICB9CiAgICAgIH1gO3JldHVybntuYW1lOiJTb2Z0bWF4IixzaGFkZXJDYWNoZTp7aGludDpgJHtsfWAsaW5wdXREZXBlbmRlbmNpZXM6WyJ0eXBlIl19LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cixkYXRhVHlwZTp0LmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpvfSxwcm9ncmFtVW5pZm9ybXM6W3t0eXBlOiJ1aW50MzIiLGRhdGE6ZH1dfSksZ2V0U2hhZGVyU291cmNlOnl9fSxGcD0odCxlKT0+e1dwKHQuaW5wdXRzKSx0LmNvbXB1dGUoTHAodC5pbnB1dHNbMF0sZSkpfSxWcD10PT5xZSh7YXhpczp0LmF4aXN9KX0pLEhwLEdwLHFwLGpwLEtwLFlwLFhwLHpfPVEoKCk9PntJZSgpLGl0KCksQ2UoKSxIcD10PT57aWYoIXR8fHQubGVuZ3RoPDEpdGhyb3cgbmV3IEVycm9yKCJ0b28gZmV3IGlucHV0cyIpfSxHcD0odCxlKT0+e2xldCByPVtdLG49ZS5udW1PdXRwdXRzO3JldHVybiB0WzFdLmRpbXNbMF0+MCYmKHRbMV0uZ2V0QmlnSW50NjRBcnJheSgpLmZvckVhY2goYT0+ci5wdXNoKE51bWJlcihhKSkpLG49ci5sZW5ndGgpLHFlKHtudW1PdXRwdXRzOm4sYXhpczplLmF4aXMsc3BsaXRTaXplczpyfSl9LHFwPXQ9PmAKZm4gY2FsY3VsYXRlT3V0cHV0SW5kZXgoaW5kZXg6IHUzMikgLT4gdTMyIHsKICAgIGZvciAodmFyIGk6IHUzMiA9IDB1OyBpIDwgJHt0fXU7IGkgKz0gMXUgKSB7CiAgICBpZiAoaW5kZXggPCAke3hlKCJ1bmlmb3Jtcy5zaXplX2luX3NwbGl0X2F4aXMiLCJpIix0KX0pIHsKICAgICAgICByZXR1cm4gaTsKICAgIH0KICAgIH0KICAgIHJldHVybiAke3R9dTsKfWAsanA9dD0+e2xldCBlPXQubGVuZ3RoLHI9W107Zm9yKGxldCBuPTA7bjxlOysrbil7bGV0IGE9dFtuXS5zZXRCeUluZGljZXMoImluZGljZXMiLCJpbnB1dFtnbG9iYWxfaWR4XSIpO2U9PT0xP3IucHVzaChhKTpuPT09MD9yLnB1c2goYGlmIChvdXRwdXRfbnVtYmVyID09ICR7bn11KSB7ICR7YX0gfWApOm49PT1lLTE/ci5wdXNoKGBlbHNlIHsgJHthfSB9YCk6ci5wdXNoKGBlbHNlIGlmIChvdXRwdXRfbnVtYmVyID09ICR7bn0pIHsgJHthfSB9YCl9cmV0dXJuYAogICAgICBmbiB3cml0ZUJ1ZmZlckRhdGEob3V0cHV0X251bWJlcjogdTMyLCBpbmRpY2VzOiAke3RbMF0udHlwZS5pbmRpY2VzfSwgZ2xvYmFsX2lkeDogdTMyKSB7CiAgICAgICAgJHtyLmpvaW4oYApgKX0KICAgICAgfWB9LEtwPSh0LGUpPT57bGV0IHI9dFswXS5kaW1zLG49ZWUuc2l6ZShyKSxhPXRbMF0uZGF0YVR5cGUsaT1lZS5ub3JtYWxpemVBeGlzKGUuYXhpcyxyLmxlbmd0aCkscz1uZXcgQXJyYXkoZS5udW1PdXRwdXRzKSxvPUooImlucHV0IixhLHIpLGw9bmV3IEFycmF5KGUubnVtT3V0cHV0cyksZD1bXSxjPVtdLHU9MCxoPVt7dHlwZToidWludDMyIixkYXRhOm59XTtmb3IobGV0IGc9MDtnPGUubnVtT3V0cHV0cztnKyspe3UrPWUuc3BsaXRTaXplc1tnXSxsW2ddPXU7bGV0IHk9ci5zbGljZSgpO3lbZS5heGlzXT1lLnNwbGl0U2l6ZXNbZ10sYy5wdXNoKHkpLHNbZ109dmUoYG91dHB1dCR7Z31gLGEseSksZC5wdXNoKHtkaW1zOmNbZ10sZGF0YVR5cGU6dFswXS5kYXRhVHlwZX0pfWgucHVzaCh7dHlwZToidWludDMyIixkYXRhOmx9KSxoLnB1c2goLi4uaWUocikpLGMuZm9yRWFjaChnPT5oLnB1c2goLi4uaWUoZykpKTtsZXQgZj1nPT5gCiAgJHtnLnJlZ2lzdGVyVW5pZm9ybSgiaW5wdXRfc2l6ZSIsInUzMiIpLnJlZ2lzdGVyVW5pZm9ybSgic2l6ZV9pbl9zcGxpdF9heGlzIiwidTMyIixsLmxlbmd0aCkuZGVjbGFyZVZhcmlhYmxlcyhvLC4uLnMpfQogICR7cXAobC5sZW5ndGgpfQogICR7anAocyl9CgogICR7Zy5tYWluU3RhcnQoKX0KICAgICR7Zy5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5pbnB1dF9zaXplIil9CgogICAgdmFyIGluZGljZXMgPSAke28ub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9OwogICAgdmFyIGluZGV4ID0gJHtvLmluZGljZXNHZXQoImluZGljZXMiLGkpfTsKICAgIGxldCBvdXRwdXRfbnVtYmVyID0gY2FsY3VsYXRlT3V0cHV0SW5kZXgoaW5kZXgpOwogICAgaWYgKG91dHB1dF9udW1iZXIgIT0gMCkgewogICAgICBpbmRleCAtPSAke3hlKCJ1bmlmb3Jtcy5zaXplX2luX3NwbGl0X2F4aXMiLCJvdXRwdXRfbnVtYmVyIC0gMXUiLGwubGVuZ3RoKX07CiAgICAgICR7by5pbmRpY2VzU2V0KCJpbmRpY2VzIixpLCJpbmRleCIpfTsKICAgIH0KICAgIHdyaXRlQnVmZmVyRGF0YShvdXRwdXRfbnVtYmVyLCBpbmRpY2VzLCBnbG9iYWxfaWR4KTsKICB9YDtyZXR1cm57bmFtZToiU3BsaXQiLHNoYWRlckNhY2hlOntoaW50OmUuY2FjaGVLZXksaW5wdXREZXBlbmRlbmNpZXM6WyJyYW5rIl19LGdldFNoYWRlclNvdXJjZTpmLGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpkLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKG4vNjQpfSxwcm9ncmFtVW5pZm9ybXM6aH0pfX0sWXA9KHQsZSk9PntIcCh0LmlucHV0cyk7bGV0IHI9dC5pbnB1dHMubGVuZ3RoPT09MT9lOkdwKHQuaW5wdXRzLGUpO3QuY29tcHV0ZShLcCh0LmlucHV0cyxyKSx7aW5wdXRzOlswXX0pfSxYcD10PT57bGV0IGU9dC5heGlzLHI9dC5zcGxpdFNpemVzLG49dC5udW1PdXRwdXRzPDA/ci5sZW5ndGg6dC5udW1PdXRwdXRzO2lmKG4hPT1yLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIm51bU91dHB1dHMgYW5kIHNwbGl0U2l6ZXMgbGVuZ2ggbXVzdCBiZSBlcXVhbCIpO3JldHVybiBxZSh7YXhpczplLG51bU91dHB1dHM6bixzcGxpdFNpemVzOnJ9KX19KSx6cyxRcCxacCxKcCxlaCxCXz1RKCgpPT57WWUoKSxJZSgpLENlKCksenM9dD0+QXJyYXkuZnJvbSh0LmdldEJpZ0ludDY0QXJyYXkoKSxOdW1iZXIpLFFwPXQ9PntpZighdHx8dC5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcigiVGlsZSByZXF1aXJlcyAyIGlucHV0cy4iKTtpZih0WzBdLmRhdGFUeXBlIT09MSYmdFswXS5kYXRhVHlwZSE9PTYmJnRbMF0uZGF0YVR5cGUhPT0xMil0aHJvdyBuZXcgRXJyb3IoIlRpbGUgb25seSBzdXBwb3J0IGZsb2F0LCBpbnQzMiwgYW5kIHVpbnQzMiBkYXRhIHR5cGVzIik7aWYodFsxXS5kYXRhVHlwZSE9PTcpdGhyb3cgbmV3IEVycm9yKCJUaWxlIGByZXBlYXRzYCBpbnB1dCBzaG91bGQgYmUgb2YgaW50NjQgZGF0YSB0eXBlIik7aWYodFsxXS5kaW1zLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCJUaWxlIGByZXBlYXRzYCBpbnB1dCBzaG91bGQgYmUgMS1EIik7aWYoenModFsxXSkubGVuZ3RoIT09dFswXS5kaW1zLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIlRpbGUgYHJlcGVhdHNgIGlucHV0IHNob3VsZCBoYXZlIHNhbWUgbnVtYmVyIG9mIGVsZW1lbnRzIGFzIHJhbmsgb2YgaW5wdXQgZGF0YSB0ZW5zb3IiKX0sWnA9KHQsZSk9PntsZXQgcj1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoOysrbilyLnB1c2godFtuXSplW25dKTtyZXR1cm4gcn0sSnA9dD0+e2xldCBlPXRbMF0uZGltcyxyPXpzKHRbMV0pLG49WnAoZSxyKSxhPWVlLnNpemUobiksaT10WzBdLmRhdGFUeXBlLHM9SigiaW5wdXQiLGksZS5sZW5ndGgpLG89dmUoIm91dHB1dCIsaSxuLmxlbmd0aCksbD1kPT5gCiAgICAgIGNvbnN0IGlucHV0U2hhcGUgPSAke3MuaW5kaWNlcyguLi5lKX07CiAgICAgICR7ZC5yZWdpc3RlclVuaWZvcm0oIm91dHB1dF9zaXplIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyhzLG8pfQogICAgICAke2QubWFpblN0YXJ0KCl9CiAgICAgICR7ZC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRfc2l6ZSIpfQogICAgICBsZXQgb3V0cHV0X2luZGljZXMgPSAke28ub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9OwogICAgICB2YXIgaW5wdXRfaW5kaWNlczogJHtzLnR5cGUuaW5kaWNlc307CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHtlLmxlbmd0aH07IGkrKykgewogICAgICAgIGxldCBpbnB1dF9kaW1faSA9ICR7cy5pbmRpY2VzR2V0KCJ1bmlmb3Jtcy5pbnB1dF9zaGFwZSIsImkiKX07CiAgICAgICAgbGV0IGlucHV0X2RpbV92YWx1ZSA9ICR7by5pbmRpY2VzR2V0KCJvdXRwdXRfaW5kaWNlcyIsImkiKX0gICUgaW5wdXRfZGltX2k7CgogICAgICAgICR7cy5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIiwiaSIsImlucHV0X2RpbV92YWx1ZSIpfQogICAgICB9CiAgICAgICR7by5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIscy5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKSl9CiAgICB9YDtyZXR1cm57bmFtZToiVGlsZSIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7cn1gLGlucHV0RGVwZW5kZW5jaWVzOlsicmFuayJdfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOm4sZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGEvNjQpfSxwcm9ncmFtVW5pZm9ybXM6W3t0eXBlOiJ1aW50MzIiLGRhdGE6YX0sLi4uaWUodFswXS5kaW1zKSwuLi5pZShuKV19KSxnZXRTaGFkZXJTb3VyY2U6bH19LGVoPXQ9PntRcCh0LmlucHV0cyksdC5jb21wdXRlKEpwKHQuaW5wdXRzKSx7aW5wdXRzOlswXX0pfX0pLHRoLHJoLG5oLFJfPVEoKCk9PntZZSgpLEllKCksQ2UoKSx0aD0odCxlLHIsbixhKT0+e2xldCBpPXZlKCJvdXRwdXRfZGF0YSIsYSxyLmxlbmd0aCw0KSxzPUooImFfZGF0YSIsZVsxXS5kYXRhVHlwZSxlWzFdLmRpbXMubGVuZ3RoLDQpLG89SigiYl9kYXRhIixlWzJdLmRhdGFUeXBlLGVbMl0uZGltcy5sZW5ndGgsNCksbD1KKCJjX2RhdGEiLGVbMF0uZGF0YVR5cGUsZVswXS5kaW1zLmxlbmd0aCw0KSxkLGM9KHUsaCxmKT0+YHNlbGVjdCgke2h9LCAke3V9LCAke2Z9KWA7aWYoIW4pZD1pLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IixjKHMuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKSxvLmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiksbC5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpKSk7ZWxzZXtsZXQgdT0oaCxmLGc9IiIpPT57bGV0IHk9YGFfZGF0YVtpbmRleF9hJHtmfV1bY29tcG9uZW50X2Eke2Z9XWAsdz1gYl9kYXRhW2luZGV4X2Ike2Z9XVtjb21wb25lbnRfYiR7Zn1dYCx2PWBib29sKGNfZGF0YVtpbmRleF9jJHtmfV0gJiAkezQyNzgxOTAwODA+Pj4oMy1mKSo4fXUpYDtyZXR1cm5gCiAgICAgICAgICAgIGxldCBvdXRwdXRfaW5kaWNlcyR7Zn0gPSAke2kub2Zmc2V0VG9JbmRpY2VzKGBnbG9iYWxfaWR4ICogNHUgKyAke2Z9dWApfTsKICAgICAgICAgICAgbGV0IG9mZnNldF9hJHtmfSA9ICR7cy5icm9hZGNhc3RlZEluZGljZXNUb09mZnNldChgb3V0cHV0X2luZGljZXMke2Z9YCxpKX07CiAgICAgICAgICAgIGxldCBvZmZzZXRfYiR7Zn0gPSAke28uYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQoYG91dHB1dF9pbmRpY2VzJHtmfWAsaSl9OwogICAgICAgICAgICBsZXQgb2Zmc2V0X2Mke2Z9ID0gJHtsLmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KGBvdXRwdXRfaW5kaWNlcyR7Zn1gLGkpfTsKICAgICAgICAgICAgbGV0IGluZGV4X2Eke2Z9ID0gb2Zmc2V0X2Eke2Z9IC8gNHU7CiAgICAgICAgICAgIGxldCBpbmRleF9iJHtmfSA9IG9mZnNldF9iJHtmfSAvIDR1OwogICAgICAgICAgICBsZXQgaW5kZXhfYyR7Zn0gPSBvZmZzZXRfYyR7Zn0gLyA0dTsKICAgICAgICAgICAgbGV0IGNvbXBvbmVudF9hJHtmfSA9IG9mZnNldF9hJHtmfSAlIDR1OwogICAgICAgICAgICBsZXQgY29tcG9uZW50X2Ike2Z9ID0gb2Zmc2V0X2Ike2Z9ICUgNHU7CiAgICAgICAgICAgICR7aH1bJHtmfV0gPSAke2d9KCR7Yyh5LHcsdil9KTsKICAgICAgICAgIGB9O2E9PT05P2Q9YAogICAgICAgICAgICB2YXIgZGF0YSA9IHZlYzQ8dTMyPigwKTsKICAgICAgICAgICAgJHt1KCJkYXRhIiwwLCJ1MzIiKX0KICAgICAgICAgICAgJHt1KCJkYXRhIiwxLCJ1MzIiKX0KICAgICAgICAgICAgJHt1KCJkYXRhIiwyLCJ1MzIiKX0KICAgICAgICAgICAgJHt1KCJkYXRhIiwzLCJ1MzIiKX0KICAgICAgICAgICAgb3V0cHV0X2RhdGFbZ2xvYmFsX2lkeF0gPSBkb3QodmVjNDx1MzI+KDB4MSwgMHgxMDAsIDB4MTAwMDAsIDB4MTAwMDAwMCksIHZlYzQ8dTMyPihkYXRhKSk7YDpkPWAKICAgICAgICAgICAgJHt1KCJvdXRwdXRfZGF0YVtnbG9iYWxfaWR4XSIsMCl9CiAgICAgICAgICAgICR7dSgib3V0cHV0X2RhdGFbZ2xvYmFsX2lkeF0iLDEpfQogICAgICAgICAgICAke3UoIm91dHB1dF9kYXRhW2dsb2JhbF9pZHhdIiwyKX0KICAgICAgICAgICAgJHt1KCJvdXRwdXRfZGF0YVtnbG9iYWxfaWR4XSIsMyl9CiAgICAgICAgICBgfXJldHVybmAKICAgICAgICAke3QucmVnaXN0ZXJVbmlmb3JtKCJ2ZWNfc2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMobCxzLG8saSl9CiAgICAgICAgJHt0Lm1haW5TdGFydCgpfQogICAgICAgICR7dC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy52ZWNfc2l6ZSIpfQogICAgICAgICR7ZH0KICAgICAgfWB9LHJoPXQ9PntsZXQgZT10WzFdLmRpbXMscj10WzJdLmRpbXMsbj10WzBdLmRpbXMsYT10WzFdLmRhdGFUeXBlLGk9IShlZS5hcmVFcXVhbChlLHIpJiZlZS5hcmVFcXVhbChyLG4pKSxzPWUsbz1lZS5zaXplKGUpO2lmKGkpe2xldCBkPUxyLmNhbGNTaGFwZShMci5jYWxjU2hhcGUoZSxyLCExKSxuLCExKTtpZighZCl0aHJvdyBuZXcgRXJyb3IoIkNhbid0IHBlcmZvcm0gd2hlcmUgb3Agb24gdGhlIGdpdmVuIHRlbnNvcnMiKTtzPWQsbz1lZS5zaXplKHMpfWxldCBsPU1hdGguY2VpbChvLzQpO3JldHVybntuYW1lOiJXaGVyZSIsc2hhZGVyQ2FjaGU6e2lucHV0RGVwZW5kZW5jaWVzOlsicmFuayIsInJhbmsiLCJyYW5rIl19LGdldFNoYWRlclNvdXJjZTpkPT50aChkLHQscyxpLGEpLGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cyxkYXRhVHlwZTphfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoby82NC80KX0scHJvZ3JhbVVuaWZvcm1zOlt7dHlwZToidWludDMyIixkYXRhOmx9LC4uLmllKG4pLC4uLmllKGUpLC4uLmllKHIpLC4uLmllKHMpXX0pfX0sbmg9dD0+e3QuY29tcHV0ZShyaCh0LmlucHV0cykpfX0pLGFoLERfPVEoKCk9PntzXygpLEV1KCksb18oKSxsXygpLHVfKCksZF8oKSxjXygpLEtkKCksZ18oKSxfXygpLHlfKCksd18oKSx2XygpLGJfKCksJF8oKSx4XygpLGtfKCksSGQoKSxTXygpLEVfKCksQ18oKSxJXygpLHRzKCksQV8oKSxUXygpLE9fKCksTV8oKSx6XygpLEJfKCksaG4oKSxoZCgpLFJfKCksYWg9bmV3IE1hcChbWyJBYnMiLFtSdV1dLFsiQWNvcyIsW0R1XV0sWyJBY29zaCIsW1B1XV0sWyJBZGQiLFt3ZF1dLFsiQXJnTWF4Iixbd3UsbnNdXSxbIkFyZ01pbiIsW3l1LG5zXV0sWyJBc2luIixbTnVdXSxbIkFzaW5oIixbVXVdXSxbIkF0YW4iLFtXdV1dLFsiQXRhbmgiLFtMdV1dLFsiQXR0ZW50aW9uIixbU3VdXSxbIkF2ZXJhZ2VQb29sIixbcnAsdHBdXSxbIkJhdGNoTm9ybWFsaXphdGlvbiIsW1R1XV0sWyJCaWFzQWRkIixbenVdXSxbIkJpYXNTcGxpdEdlbHUiLFtnZF1dLFsiQ2FzdCIsW1Z1LEZ1XV0sWyJDZWlsIixbcXVdXSxbIkNsaXAiLFtHdV1dLFsiQ29uY2F0IixbemQsQmRdXSxbIkNvbnYiLFtncyxtc11dLFsiQ29udlRyYW5zcG9zZSIsW3NjLHRjXV0sWyJDb3MiLFtqdV1dLFsiQ29zaCIsW0t1XV0sWyJDdW1TdW0iLFtsYyx1Y11dLFsiRGl2IixbdmRdXSxbIkVpbnN1bSIsW21jLGdjXV0sWyJFbHUiLFtZdSxFYV1dLFsiRXF1YWwiLFtiZF1dLFsiRXJmIixbWHVdXSxbIkV4cCIsW1F1XV0sWyJFeHBhbmQiLFt2Y11dLFsiRmxvb3IiLFtadV1dLFsiRnVzZWRDb252IixbZ3MsbXNdXSxbIkdhdGhlciIsW2tjLHhjXV0sWyJHYXRoZXJFbGVtZW50cyIsW0ljLENjXV0sWyJHZWx1IixbSnVdXSxbIkdlbW0iLFtNYyxPY11dLFsiR2xvYmFsQXZlcmFnZVBvb2wiLFthcCxucF1dLFsiR2xvYmFsTWF4UG9vbCIsW2xwLG9wXV0sWyJHcmVhdGVyIixbU2RdXSxbIkdyZWF0ZXJPckVxdWFsIixbQ2RdXSxbIkluc3RhbmNlTm9ybWFsaXphdGlvbiIsW0RjXV0sWyJMYXllck5vcm1hbGl6YXRpb24iLFtVY11dLFsiTGVha3lSZWx1IixbZWQsRWFdXSxbIkxlc3MiLFtFZF1dLFsiTGVzc09yRXF1YWwiLFtJZF1dLFsiTG9nIixbcGRdXSxbIk1hdE11bCIsW1ZkXV0sWyJNYXhQb29sIixbaXAsc3BdXSxbIk11bCIsWyRkXV0sWyJNdWx0aUhlYWRBdHRlbnRpb24iLFtWYyxMY11dLFsiTmVnIixbcmRdXSxbIk5vdCIsW3RkXV0sWyJQYWQiLFtaY11dLFsiUG93IixbeGRdXSxbIlJhbmdlIixbY3BdXSxbIlJlY2lwcm9jYWwiLFtuZF1dLFsiUmVkdWNlTWluIixbaHVdXSxbIlJlZHVjZU1lYW4iLFtsdV1dLFsiUmVkdWNlTWF4IixbcHVdXSxbIlJlZHVjZVN1bSIsW211XV0sWyJSZWR1Y2VQcm9kIixbZnVdXSxbIlJlZHVjZUwxIixbdXVdXSxbIlJlZHVjZUwyIixbZHVdXSxbIlJlZHVjZUxvZ1N1bSIsW191XV0sWyJSZWR1Y2VMb2dTdW1FeHAiLFtjdV1dLFsiUmVkdWNlU3VtU3F1YXJlIixbZ3VdXSxbIlJlbHUiLFthZF1dLFsiUmVzaXplIixbSXAsQXBdXSxbIlNpZ21vaWQiLFtpZF1dLFsiU2luIixbc2RdXSxbIlNpbmgiLFtvZF1dLFsiU2xpY2UiLFtOcCxVcF1dLFsiU2tpcExheWVyTm9ybWFsaXphdGlvbiIsW01wLHpwXV0sWyJTcGxpdCIsW1lwLFhwXV0sWyJTcXJ0IixbbGRdXSxbIlNvZnRtYXgiLFtGcCxWcF1dLFsiU3ViIixba2RdXSxbIlRhbiIsW3VkXV0sWyJUYW5oIixbZGRdXSxbIlRocmVzaG9sZGVkUmVsdSIsW2NkLEVhXV0sWyJUaWxlIixbZWhdXSxbIlRyYW5zcG9zZSIsW0FsLFRsXV0sWyJXaGVyZSIsW25oXV1dKX0pLGloLFBfPVEoKCk9PntQdCgpLHZyKCksQ2UoKSxpaD1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmJhY2tlbmQ9dCx0aGlzLnJlcG89bmV3IE1hcCx0aGlzLmF0dHJpYnV0ZXNCb3VuZD0hMX1nZXRBcnRpZmFjdCh0KXtyZXR1cm4gdGhpcy5yZXBvLmdldCh0KX1zZXRBcnRpZmFjdCh0LGUpe3RoaXMucmVwby5zZXQodCxlKX1ydW4odCxlLHIsbixhKXtSdCh0LnByb2dyYW1JbmZvLm5hbWUpO2xldCBpPXRoaXMuYmFja2VuZC5kZXZpY2Uscz10aGlzLmJhY2tlbmQuZ2V0Q29tcHV0ZVBhc3NFbmNvZGVyKCk7dGhpcy5iYWNrZW5kLndyaXRlVGltZXN0YW1wKHRoaXMuYmFja2VuZC5wZW5kaW5nRGlzcGF0Y2hOdW1iZXIqMikscy5zZXRQaXBlbGluZSh0LmNvbXB1dGVQaXBlbGluZSk7bGV0IG89W107Zm9yKGxldCBkIG9mIGUpby5wdXNoKHtiaW5kaW5nOm8ubGVuZ3RoLHJlc291cmNlOntidWZmZXI6ZC5idWZmZXJ9fSk7Zm9yKGxldCBkIG9mIHIpby5wdXNoKHtiaW5kaW5nOm8ubGVuZ3RoLHJlc291cmNlOntidWZmZXI6ZC5idWZmZXJ9fSk7YSYmby5wdXNoKHtiaW5kaW5nOm8ubGVuZ3RoLHJlc291cmNlOmF9KTtsZXQgbD1pLmNyZWF0ZUJpbmRHcm91cCh7bGF5b3V0OnQuY29tcHV0ZVBpcGVsaW5lLmdldEJpbmRHcm91cExheW91dCgwKSxlbnRyaWVzOm8sbGFiZWw6dC5wcm9ncmFtSW5mby5uYW1lfSk7cy5zZXRCaW5kR3JvdXAoMCxsKSxzLmRpc3BhdGNoV29ya2dyb3VwcyguLi5uKSx0aGlzLmJhY2tlbmQud3JpdGVUaW1lc3RhbXAodGhpcy5iYWNrZW5kLnBlbmRpbmdEaXNwYXRjaE51bWJlcioyKzEpLHRoaXMuYmFja2VuZC5wZW5kaW5nRGlzcGF0Y2hOdW1iZXIrKywodGhpcy5iYWNrZW5kLnBlbmRpbmdEaXNwYXRjaE51bWJlcj49dGhpcy5iYWNrZW5kLm1heERpc3BhdGNoTnVtYmVyfHx0aGlzLmJhY2tlbmQucXVlcnlUeXBlPT09ImF0LXBhc3NlcyIpJiZ0aGlzLmJhY2tlbmQuZW5kQ29tcHV0ZVBhc3MoKSx0aGlzLmJhY2tlbmQucGVuZGluZ0Rpc3BhdGNoTnVtYmVyPj10aGlzLmJhY2tlbmQubWF4RGlzcGF0Y2hOdW1iZXImJnRoaXMuYmFja2VuZC5mbHVzaCgpLER0KHQucHJvZ3JhbUluZm8ubmFtZSl9ZGlzcG9zZSgpe31idWlsZCh0LGUpe1J0KHQubmFtZSk7bGV0IHI9dGhpcy5iYWNrZW5kLmRldmljZSxuPVtdO3IuZmVhdHVyZXMuaGFzKCJzaGFkZXItZjE2IikmJm4ucHVzaCgiZW5hYmxlIGYxNjsiKTtsZXQgYT1TbChlKSxpPXQuZ2V0U2hhZGVyU291cmNlKGEpLHM9YCR7bi5qb2luKGAKYCl9CiR7YS5hZGRpdGlvbmFsSW1wbGVtZW50YXRpb25zfQoke2l9YCxvPXIuY3JlYXRlU2hhZGVyTW9kdWxlKHtjb2RlOnMsbGFiZWw6dC5uYW1lfSk7YXQoInZlcmJvc2UiLCgpPT5gW1dlYkdQVV0gJHt0Lm5hbWV9IHNoYWRlciBjb2RlOiAke3N9YCk7bGV0IGw9ci5jcmVhdGVDb21wdXRlUGlwZWxpbmUoe2NvbXB1dGU6e21vZHVsZTpvLGVudHJ5UG9pbnQ6Im1haW4ifSxsYXlvdXQ6ImF1dG8iLGxhYmVsOnQubmFtZX0pO3JldHVybiBEdCh0Lm5hbWUpLHtwcm9ncmFtSW5mbzp0LGNvbXB1dGVQaXBlbGluZTpsfX1ub3JtYWxpemVEaXNwYXRjaEdyb3VwU2l6ZSh0KXtsZXQgZT10eXBlb2YgdD09Im51bWJlciI/dDp0Lngscj10eXBlb2YgdD09Im51bWJlciI/MTp0Lnl8fDEsbj10eXBlb2YgdD09Im51bWJlciI/MTp0Lnp8fDEsYT10aGlzLmJhY2tlbmQuZGV2aWNlLmxpbWl0cy5tYXhDb21wdXRlV29ya2dyb3Vwc1BlckRpbWVuc2lvbjtpZihlPD1hJiZyPD1hJiZuPD1hKXJldHVybltlLHIsbl07bGV0IGk9ZSpyKm4scz1NYXRoLmNlaWwoTWF0aC5zcXJ0KGkpKTtpZihzPmEpe2lmKHM9TWF0aC5jZWlsKE1hdGguY2JydChpKSkscz5hKXRocm93IG5ldyBFcnJvcigiVG90YWwgZGlzcGF0Y2ggc2l6ZSBleGNlZWRzIFdlYkdQVSBtYXhpbXVtLiIpO3JldHVybltzLHMsc119ZWxzZSByZXR1cm5bcyxzLDFdfX19KSxzaCxvaCxsaCxOXz1RKCgpPT57UHQoKSxZZSgpLHZyKCksbl8oKSxhXygpLERfKCksUF8oKSxzaD0odCxlKT0+e2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBpbnB1dERlcGVuZGVuY2llcyBsZW5ndGggJHtlLmxlbmd0aH0gaXMgbm90IGVxdWFsIHRvIGlucHV0VGVuc29ycyBsZW5ndGggJHt0Lmxlbmd0aH0uYCk7bGV0IHI9W107Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDsrK24pe2xldCBhPXRbbl0uZGF0YVR5cGU7c3dpdGNoKGVbbl0pe2Nhc2Uibm9uZSI6e3IucHVzaCgiIik7YnJlYWt9Y2FzZSJ0eXBlIjp7ci5wdXNoKGAke2F9YCk7YnJlYWt9Y2FzZSJyYW5rIjp7bGV0IGk9dFtuXS5kaW1zLmxlbmd0aDtyLnB1c2goYCR7YX07JHtpfWApO2JyZWFrfWNhc2UiZGltcyI6e2xldCBpPXRbbl0uZGltcy5qb2luKCIsIik7ci5wdXNoKGAke2F9OyR7aX1gKTticmVha31kZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgaW5wdXQgZGVwZW5kZW5jeTogJHtlW25dfWApfX1yZXR1cm4gci5qb2luKCJ8Iil9LG9oPSh0LGUscik9PntsZXQgbj10Lm5hbWU7cmV0dXJuIHQuc2hhZGVyQ2FjaGU/LmhpbnQmJihuKz0iWyIrdC5zaGFkZXJDYWNoZS5oaW50KyJdIiksbis9IjoiK3IrYDoke3NoKGUsdC5zaGFkZXJDYWNoZT8uaW5wdXREZXBlbmRlbmNpZXM/P25ldyBBcnJheShlLmxlbmd0aCkuZmlsbCgiZGltcyIpKX1gLG59LGxoPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5jdXJyZW50S2VybmVsSWQ9bnVsbCx0aGlzLmNvbW1hbmRFbmNvZGVyPW51bGwsdGhpcy5jb21wdXRlUGFzc0VuY29kZXI9bnVsbCx0aGlzLm1heERpc3BhdGNoTnVtYmVyPTE2LHRoaXMucGVuZGluZ0Rpc3BhdGNoTnVtYmVyPTAsdGhpcy5wZW5kaW5nS2VybmVscz1bXSx0aGlzLnBlbmRpbmdRdWVyaWVzPW5ldyBNYXAsdGhpcy5zZXNzaW9uRXh0ZXJuYWxEYXRhTWFwcGluZz1uZXcgTWFwfWdldCBjdXJyZW50S2VybmVsQ3VzdG9tRGF0YSgpe2lmKHRoaXMuY3VycmVudEtlcm5lbElkPT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoImN1cnJlbnRLZXJuZWxDdXN0b21EYXRhKCk6IGN1cnJlbnRLZXJuZWxJZCBpcyBudWxsLiAoc2hvdWxkIG5vdCBoYXBwZW4pIik7bGV0IHQ9dGhpcy5rZXJuZWxDdXN0b21EYXRhLmdldCh0aGlzLmN1cnJlbnRLZXJuZWxJZCk7cmV0dXJuIHR8fCh0PXt9LHRoaXMua2VybmVsQ3VzdG9tRGF0YS5zZXQodGhpcy5jdXJyZW50S2VybmVsSWQsdCkpLHR9YXN5bmMgaW5pdGlhbGl6ZSh0LGUpe3RoaXMuZW52PXQ7bGV0IHI9W10sbj17cmVxdWlyZWRMaW1pdHM6e21heENvbXB1dGVXb3JrZ3JvdXBTdG9yYWdlU2l6ZTplLmxpbWl0cy5tYXhDb21wdXRlV29ya2dyb3VwU3RvcmFnZVNpemUsbWF4Q29tcHV0ZVdvcmtncm91cHNQZXJEaW1lbnNpb246ZS5saW1pdHMubWF4Q29tcHV0ZVdvcmtncm91cHNQZXJEaW1lbnNpb24sbWF4U3RvcmFnZUJ1ZmZlckJpbmRpbmdTaXplOmUubGltaXRzLm1heFN0b3JhZ2VCdWZmZXJCaW5kaW5nU2l6ZSxtYXhCdWZmZXJTaXplOmUubGltaXRzLm1heEJ1ZmZlclNpemUsbWF4Q29tcHV0ZUludm9jYXRpb25zUGVyV29ya2dyb3VwOmUubGltaXRzLm1heENvbXB1dGVJbnZvY2F0aW9uc1Blcldvcmtncm91cCxtYXhDb21wdXRlV29ya2dyb3VwU2l6ZVg6ZS5saW1pdHMubWF4Q29tcHV0ZVdvcmtncm91cFNpemVYLG1heENvbXB1dGVXb3JrZ3JvdXBTaXplWTplLmxpbWl0cy5tYXhDb21wdXRlV29ya2dyb3VwU2l6ZVksbWF4Q29tcHV0ZVdvcmtncm91cFNpemVaOmUubGltaXRzLm1heENvbXB1dGVXb3JrZ3JvdXBTaXplWn0scmVxdWlyZWRGZWF0dXJlczpyfTtlLmZlYXR1cmVzLmhhcygiY2hyb21pdW0tZXhwZXJpbWVudGFsLXRpbWVzdGFtcC1xdWVyeS1pbnNpZGUtcGFzc2VzIik/ci5wdXNoKCJjaHJvbWl1bS1leHBlcmltZW50YWwtdGltZXN0YW1wLXF1ZXJ5LWluc2lkZS1wYXNzZXMiKTplLmZlYXR1cmVzLmhhcygidGltZXN0YW1wLXF1ZXJ5IikmJnIucHVzaCgidGltZXN0YW1wLXF1ZXJ5IiksZS5mZWF0dXJlcy5oYXMoInNoYWRlci1mMTYiKSYmci5wdXNoKCJzaGFkZXItZjE2IiksdGhpcy5kZXZpY2U9YXdhaXQgZS5yZXF1ZXN0RGV2aWNlKG4pLHRoaXMuZ3B1RGF0YU1hbmFnZXI9d2wodGhpcyksdGhpcy5wcm9ncmFtTWFuYWdlcj1uZXcgaWgodGhpcyksdGhpcy5rZXJuZWxzPW5ldyBNYXAsdGhpcy5rZXJuZWxQZXJzaXN0ZW50RGF0YT1uZXcgTWFwLHRoaXMua2VybmVsQ3VzdG9tRGF0YT1uZXcgTWFwLGZsKHQubG9nTGV2ZWwsISF0LmRlYnVnKSx0aGlzLmRldmljZS5vbnVuY2FwdHVyZWRlcnJvcj1hPT57YS5lcnJvciBpbnN0YW5jZW9mIEdQVVZhbGlkYXRpb25FcnJvciYmY29uc29sZS5lcnJvcihgQW4gdW5jYXVnaHQgV2ViR1BVIHZhbGlkYXRpb24gZXJyb3Igd2FzIHJhaXNlZDogJHthLmVycm9yLm1lc3NhZ2V9YCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmVudi53ZWJncHUsImRldmljZSIse3ZhbHVlOnRoaXMuZGV2aWNlfSksdGhpcy5zZXRRdWVyeVR5cGUoKX1kaXNwb3NlKCl7dHlwZW9mIHRoaXMucXVlcnlTZXQ8InUiJiZ0aGlzLnF1ZXJ5U2V0LmRlc3Ryb3koKSx0aGlzLmdwdURhdGFNYW5hZ2VyLmRpc3Bvc2UoKX1nZXRDb21tYW5kRW5jb2Rlcigpe3JldHVybiB0aGlzLmNvbW1hbmRFbmNvZGVyfHwodGhpcy5jb21tYW5kRW5jb2Rlcj10aGlzLmRldmljZS5jcmVhdGVDb21tYW5kRW5jb2RlcigpLHRoaXMuc2V0UXVlcnlUeXBlKCksdGhpcy5xdWVyeVR5cGUhPT0ibm9uZSImJnR5cGVvZiB0aGlzLnF1ZXJ5U2V0PiJ1IiYmKHRoaXMucXVlcnlTZXQ9dGhpcy5kZXZpY2UuY3JlYXRlUXVlcnlTZXQoe3R5cGU6InRpbWVzdGFtcCIsY291bnQ6dGhpcy5tYXhEaXNwYXRjaE51bWJlcioyfSksdGhpcy5xdWVyeVJlc29sdmVCdWZmZXI9dGhpcy5kZXZpY2UuY3JlYXRlQnVmZmVyKHtzaXplOnRoaXMubWF4RGlzcGF0Y2hOdW1iZXIqMio4LHVzYWdlOkdQVUJ1ZmZlclVzYWdlLkNPUFlfU1JDfEdQVUJ1ZmZlclVzYWdlLlFVRVJZX1JFU09MVkV9KSkpLHRoaXMuY29tbWFuZEVuY29kZXJ9Z2V0Q29tcHV0ZVBhc3NFbmNvZGVyKCl7aWYoIXRoaXMuY29tcHV0ZVBhc3NFbmNvZGVyKXtsZXQgdD17fTt0aGlzLnF1ZXJ5VHlwZT09PSJhdC1wYXNzZXMiJiYodC50aW1lc3RhbXBXcml0ZXM9e3F1ZXJ5U2V0OnRoaXMucXVlcnlTZXQsYmVnaW5uaW5nT2ZQYXNzV3JpdGVJbmRleDp0aGlzLnBlbmRpbmdEaXNwYXRjaE51bWJlcioyLGVuZE9mUGFzc1dyaXRlSW5kZXg6dGhpcy5wZW5kaW5nRGlzcGF0Y2hOdW1iZXIqMisxfSksdGhpcy5jb21wdXRlUGFzc0VuY29kZXI9dGhpcy5nZXRDb21tYW5kRW5jb2RlcigpLmJlZ2luQ29tcHV0ZVBhc3ModCl9cmV0dXJuIHRoaXMuY29tcHV0ZVBhc3NFbmNvZGVyfWVuZENvbXB1dGVQYXNzKCl7dGhpcy5jb21wdXRlUGFzc0VuY29kZXImJih0aGlzLmNvbXB1dGVQYXNzRW5jb2Rlci5lbmQoKSx0aGlzLmNvbXB1dGVQYXNzRW5jb2Rlcj1udWxsKX1mbHVzaCgpe2lmKCF0aGlzLmNvbW1hbmRFbmNvZGVyKXJldHVybjtSdCgpLHRoaXMuZW5kQ29tcHV0ZVBhc3MoKTtsZXQgdDt0aGlzLnF1ZXJ5VHlwZSE9PSJub25lIiYmKHRoaXMuY29tbWFuZEVuY29kZXIucmVzb2x2ZVF1ZXJ5U2V0KHRoaXMucXVlcnlTZXQsMCx0aGlzLnBlbmRpbmdEaXNwYXRjaE51bWJlcioyLHRoaXMucXVlcnlSZXNvbHZlQnVmZmVyLDApLHQ9dGhpcy5kZXZpY2UuY3JlYXRlQnVmZmVyKHtzaXplOnRoaXMucGVuZGluZ0Rpc3BhdGNoTnVtYmVyKjIqOCx1c2FnZTpHUFVCdWZmZXJVc2FnZS5NQVBfUkVBRHxHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVH0pLHRoaXMucGVuZGluZ1F1ZXJpZXMuc2V0KHQsdGhpcy5wZW5kaW5nS2VybmVscyksdGhpcy5wZW5kaW5nS2VybmVscz1bXSx0aGlzLmNvbW1hbmRFbmNvZGVyLmNvcHlCdWZmZXJUb0J1ZmZlcih0aGlzLnF1ZXJ5UmVzb2x2ZUJ1ZmZlciwwLHQsMCx0aGlzLnBlbmRpbmdEaXNwYXRjaE51bWJlcioyKjgpKSx0aGlzLmRldmljZS5xdWV1ZS5zdWJtaXQoW3RoaXMuY29tbWFuZEVuY29kZXIuZmluaXNoKCldKSx0aGlzLmdwdURhdGFNYW5hZ2VyLnJlZnJlc2hQZW5kaW5nQnVmZmVycygpLHRoaXMuY29tbWFuZEVuY29kZXI9bnVsbCx0aGlzLnBlbmRpbmdEaXNwYXRjaE51bWJlcj0wLHRoaXMucXVlcnlUeXBlIT09Im5vbmUiJiZ0Lm1hcEFzeW5jKEdQVU1hcE1vZGUuUkVBRCkudGhlbigoKT0+e2xldCBlPW5ldyBCaWdVaW50NjRBcnJheSh0LmdldE1hcHBlZFJhbmdlKCkpLHI9dGhpcy5wZW5kaW5nUXVlcmllcy5nZXQodCk7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aC8yO24rKyl7bGV0IGE9cltuXSxpPWEua2VybmVsSWQscz10aGlzLmtlcm5lbHMuZ2V0KGkpLG89cy5rZXJuZWxUeXBlLGw9cy5rZXJuZWxOYW1lLGQ9YS5wcm9ncmFtTmFtZSxjPWEuaW5wdXRUZW5zb3JWaWV3cyx1PWEub3V0cHV0VGVuc29yVmlld3MsaD1lW24qMl0sZj1lW24qMisxXTt0eXBlb2YgdGhpcy5xdWVyeVRpbWVCYXNlPiJ1IiYmKHRoaXMucXVlcnlUaW1lQmFzZT1oKTtsZXQgZz1OdW1iZXIoaC10aGlzLnF1ZXJ5VGltZUJhc2UpLHk9TnVtYmVyKGYtdGhpcy5xdWVyeVRpbWVCYXNlKTtpZighTnVtYmVyLmlzU2FmZUludGVnZXIoZyl8fCFOdW1iZXIuaXNTYWZlSW50ZWdlcih5KSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiaW5jb3JyZWN0IHRpbWVzdGFtcCByYW5nZSIpO2lmKHRoaXMuZW52LndlYmdwdS5wcm9maWxpbmc/Lm9uZGF0YSl0aGlzLmVudi53ZWJncHUucHJvZmlsaW5nLm9uZGF0YSh7dmVyc2lvbjoxLGlucHV0c01ldGFkYXRhOmMubWFwKHc9Pih7ZGltczp3LmRpbXMsZGF0YVR5cGU6anQody5kYXRhVHlwZSl9KSksb3V0cHV0c01ldGFkYXRhOnUubWFwKHc9Pih7ZGltczp3LmRpbXMsZGF0YVR5cGU6anQody5kYXRhVHlwZSl9KSksa2VybmVsSWQ6aSxrZXJuZWxUeXBlOm8sa2VybmVsTmFtZTpsLHByb2dyYW1OYW1lOmQsc3RhcnRUaW1lOmcsZW5kVGltZTp5fSk7ZWxzZXtsZXQgdz0iIjtjLmZvckVhY2goKGssRSk9Pnt3Kz1gaW5wdXRbJHtFfV06IFske2suZGltc31dIHwgJHtqdChrLmRhdGFUeXBlKX0sIGB9KTtsZXQgdj0iIjt1LmZvckVhY2goKGssRSk9Pnt2Kz1gb3V0cHV0WyR7RX1dOiBbJHtrLmRpbXN9XSB8ICR7anQoay5kYXRhVHlwZSl9LCBgfSksY29uc29sZS5sb2coYFtwcm9maWxpbmddIGtlcm5lbCAiJHtpfXwke299fCR7bH18JHtkfSIgJHt3fSR7dn1leGVjdXRpb24gdGltZTogJHt5LWd9IG5zYCl9bG4oIkdQVSIsYCR7ZH06OiR7aH06OiR7Zn1gKX10LnVubWFwKCksdGhpcy5wZW5kaW5nUXVlcmllcy5kZWxldGUodCl9KSxEdCgpfXJ1bih0LGUscixuLGEpe1J0KHQubmFtZSk7bGV0IGk9W107Zm9yKGxldCB2PTA7djxlLmxlbmd0aDsrK3Ype2xldCBrPXRoaXMuZ3B1RGF0YU1hbmFnZXIuZ2V0KGVbdl0uZGF0YSk7aWYoIWspdGhyb3cgbmV3IEVycm9yKGBubyBHUFUgZGF0YSBmb3IgaW5wdXQ6ICR7ZVt2XS5kYXRhfWApO2lbdl09a31sZXR7b3V0cHV0czpzLGRpc3BhdGNoR3JvdXA6byxwcm9ncmFtVW5pZm9ybXM6bH09dC5nZXRSdW5EYXRhKGUpLGQ9ci5sZW5ndGg9PT0wP3MubWFwKCh2LGspPT5rKTpyO2lmKGQubGVuZ3RoIT09cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBPdXRwdXQgc2l6ZSAke2QubGVuZ3RofSBtdXN0IGJlIGVxdWFsIHRvICR7cy5sZW5ndGh9LmApO2xldCBjPVtdLHU9W107Zm9yKGxldCB2PTA7djxzLmxlbmd0aDsrK3Ype2lmKCFOdW1iZXIuaXNJbnRlZ2VyKGRbdl0pfHxkW3ZdPC0zfHxkW3ZdPj1zLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgb3V0cHV0IGluZGV4OiAke2Rbdl19YCk7aWYoZFt2XT09PS0zKWNvbnRpbnVlO2xldCBrPWRbdl09PT0tMSxFPWRbdl09PT0tMix4PWt8fEU/YShzW3ZdLmRhdGFUeXBlLHNbdl0uZGltcyk6bihkW3ZdLHNbdl0uZGF0YVR5cGUsc1t2XS5kaW1zKSxJPXRoaXMuZ3B1RGF0YU1hbmFnZXIuZ2V0KHguZGF0YSk7aWYoIUkpdGhyb3cgbmV3IEVycm9yKGBubyBHUFUgZGF0YSBmb3Igb3V0cHV0OiAke3guZGF0YX1gKTtpZihrJiZ0aGlzLnRlbXBvcmFyeURhdGEucHVzaChJKSxFKXtsZXQgVD10aGlzLmtlcm5lbFBlcnNpc3RlbnREYXRhLmdldCh0aGlzLmN1cnJlbnRLZXJuZWxJZCk7VHx8KFQ9W10sdGhpcy5rZXJuZWxQZXJzaXN0ZW50RGF0YS5zZXQodGhpcy5jdXJyZW50S2VybmVsSWQsVCkpLFQucHVzaChJKX1jLnB1c2goeCksdS5wdXNoKEkpfWxldCBoO2lmKGwpe2xldCB2PTAsaz1bXTtsLmZvckVhY2goVD0+e2xldCBCPXR5cGVvZiBULmRhdGE9PSJudW1iZXIiP1tULmRhdGFdOlQuZGF0YTtpZihCLmxlbmd0aD09PTApcmV0dXJuO2xldCBVPUIubGVuZ3RoPD0yP0IubGVuZ3RoKjQ6MTY7dj1NYXRoLmNlaWwodi9VKSpVLGsucHVzaCh2KSx2Kz1CLmxlbmd0aD40P01hdGguY2VpbChCLmxlbmd0aC80KSoxNjpCLmxlbmd0aCo0fSk7bGV0IEU9MTY7dj1NYXRoLmNlaWwodi9FKSpFO2xldCB4PW5ldyBBcnJheUJ1ZmZlcih2KTtsLmZvckVhY2goKFQsQik9PntsZXQgVT1rW0JdLEg9dHlwZW9mIFQuZGF0YT09Im51bWJlciI/W1QuZGF0YV06VC5kYXRhO1QudHlwZT09PSJpbnQzMiI/bmV3IEludDMyQXJyYXkoeCxVLEgubGVuZ3RoKS5zZXQoSCk6VC50eXBlPT09InVpbnQzMiI/bmV3IFVpbnQzMkFycmF5KHgsVSxILmxlbmd0aCkuc2V0KEgpOm5ldyBGbG9hdDMyQXJyYXkoeCxVLEgubGVuZ3RoKS5zZXQoSCl9KTtsZXQgST10aGlzLmdwdURhdGFNYW5hZ2VyLmNyZWF0ZSh2LEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUfEdQVUJ1ZmZlclVzYWdlLlVOSUZPUk0pO3RoaXMuZGV2aWNlLnF1ZXVlLndyaXRlQnVmZmVyKEkuYnVmZmVyLDAseCwwLHYpLHRoaXMuZ3B1RGF0YU1hbmFnZXIucmVsZWFzZShJLmlkKSxoPXtvZmZzZXQ6MCxzaXplOnYsYnVmZmVyOkkuYnVmZmVyfX1sZXQgZj10aGlzLnByb2dyYW1NYW5hZ2VyLm5vcm1hbGl6ZURpc3BhdGNoR3JvdXBTaXplKG8pLGc9ZlsxXT09PTEmJmZbMl09PT0xLHk9b2godCxlLGcpLHc9dGhpcy5wcm9ncmFtTWFuYWdlci5nZXRBcnRpZmFjdCh5KTtpZih3fHwodz10aGlzLnByb2dyYW1NYW5hZ2VyLmJ1aWxkKHQsZiksdGhpcy5wcm9ncmFtTWFuYWdlci5zZXRBcnRpZmFjdCh5LHcpLGF0KCJpbmZvIiwoKT0+YFthcnRpZmFjdF0ga2V5OiAke3l9LCBwcm9ncmFtTmFtZTogJHt0Lm5hbWV9YCkpLGF0KCJpbmZvIiwoKT0+YFtQcm9ncmFtTWFuYWdlcl0gcnVuICIke3QubmFtZX0iIChrZXk9JHt5fSkgd2l0aCAke2ZbMF19eCR7ZlsxXX14JHtmWzJdfWApLHRoaXMucXVlcnlUeXBlIT09Im5vbmUiKXtsZXQgdj17a2VybmVsSWQ6dGhpcy5jdXJyZW50S2VybmVsSWQscHJvZ3JhbU5hbWU6dy5wcm9ncmFtSW5mby5uYW1lLGlucHV0VGVuc29yVmlld3M6ZSxvdXRwdXRUZW5zb3JWaWV3czpjfTt0aGlzLnBlbmRpbmdLZXJuZWxzLnB1c2godil9cmV0dXJuIHRoaXMucHJvZ3JhbU1hbmFnZXIucnVuKHcsaSx1LGYsaCksRHQodC5uYW1lKSxjfXVwbG9hZCh0LGUpe3RoaXMuZ3B1RGF0YU1hbmFnZXIudXBsb2FkKHQsZSl9bWVtY3B5KHQsZSl7dGhpcy5ncHVEYXRhTWFuYWdlci5tZW1jcHkodCxlKX1hc3luYyBkb3dubG9hZCh0LGUpe2F3YWl0IHRoaXMuZ3B1RGF0YU1hbmFnZXIuZG93bmxvYWQodCxlKX1hbGxvYyh0KXtyZXR1cm4gdGhpcy5ncHVEYXRhTWFuYWdlci5jcmVhdGUodCkuaWR9ZnJlZSh0KXtyZXR1cm4gdGhpcy5ncHVEYXRhTWFuYWdlci5yZWxlYXNlKHQpfWNyZWF0ZUtlcm5lbCh0LGUscixuKXtsZXQgYT1haC5nZXQodCk7aWYoIWEpdGhyb3cgbmV3IEVycm9yKGBrZXJuZWwgbm90IGltcGxlbWVudGVkOiAke3R9YCk7bGV0IGk9e2tlcm5lbFR5cGU6dCxrZXJuZWxOYW1lOm4sa2VybmVsRW50cnk6YVswXSxhdHRyaWJ1dGVzOlthWzFdLHJdfTt0aGlzLmtlcm5lbHMuc2V0KGUsaSl9cmVsZWFzZUtlcm5lbCh0KXtsZXQgZT10aGlzLmtlcm5lbFBlcnNpc3RlbnREYXRhLmdldCh0KTtpZihlKXtmb3IobGV0IHIgb2YgZSl0aGlzLmdwdURhdGFNYW5hZ2VyLnJlbGVhc2Uoci5pZCk7dGhpcy5rZXJuZWxQZXJzaXN0ZW50RGF0YS5kZWxldGUodCl9dGhpcy5rZXJuZWxDdXN0b21EYXRhLmRlbGV0ZSh0KSx0aGlzLmtlcm5lbHMuZGVsZXRlKHQpfWNvbXB1dGVLZXJuZWwodCxlLHIpe2xldCBuPXRoaXMua2VybmVscy5nZXQodCk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKGBrZXJuZWwgbm90IGNyZWF0ZWQ6ICR7dH1gKTtsZXQgYT1uLmtlcm5lbFR5cGUsaT1uLmtlcm5lbE5hbWUscz1uLmtlcm5lbEVudHJ5LG89bi5hdHRyaWJ1dGVzO2lmKHRoaXMuY3VycmVudEtlcm5lbElkIT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoYGtlcm5lbCAiWyR7YX1dICR7aX0iIGlzIG5vdCBhbGxvd2VkIHRvIGJlIGNhbGxlZCByZWN1cnNpdmVseWApO3RoaXMuY3VycmVudEtlcm5lbElkPXQsb1swXSYmKG9bMV09b1swXShvWzFdKSxvWzBdPXZvaWQgMCksYXQoImluZm8iLCgpPT5gW1dlYkdQVV0gU3RhcnQgdG8gcnVuIGtlcm5lbCAiWyR7YX1dICR7aX0iLi4uYCk7bGV0IGw9dGhpcy5lbnYuZGVidWc7dGhpcy50ZW1wb3JhcnlEYXRhPVtdO3RyeXtyZXR1cm4gbCYmdGhpcy5kZXZpY2UucHVzaEVycm9yU2NvcGUoInZhbGlkYXRpb24iKSxzKGUsb1sxXSksMH1jYXRjaChkKXtyZXR1cm4gci5wdXNoKFByb21pc2UucmVzb2x2ZShgW1dlYkdQVV0gS2VybmVsICJbJHthfV0gJHtpfSIgZmFpbGVkLiAke2R9YCkpLDF9ZmluYWxseXtsJiZyLnB1c2godGhpcy5kZXZpY2UucG9wRXJyb3JTY29wZSgpLnRoZW4oZD0+ZD9gR1BVIHZhbGlkYXRpb24gZXJyb3IgZm9yIGtlcm5lbCAiWyR7YX1dICR7aX0iOiAke2QubWVzc2FnZX1gOm51bGwpKTtmb3IobGV0IGQgb2YgdGhpcy50ZW1wb3JhcnlEYXRhKXRoaXMuZ3B1RGF0YU1hbmFnZXIucmVsZWFzZShkLmlkKTt0aGlzLnRlbXBvcmFyeURhdGE9W10sdGhpcy5jdXJyZW50S2VybmVsSWQ9bnVsbH19cmVnaXN0ZXJCdWZmZXIodCxlLHIsbil7bGV0IGE9dGhpcy5zZXNzaW9uRXh0ZXJuYWxEYXRhTWFwcGluZy5nZXQodCk7YXx8KGE9bmV3IE1hcCx0aGlzLnNlc3Npb25FeHRlcm5hbERhdGFNYXBwaW5nLnNldCh0LGEpKTtsZXQgaT1hLmdldChlKSxzPXRoaXMuZ3B1RGF0YU1hbmFnZXIucmVnaXN0ZXJFeHRlcm5hbEJ1ZmZlcihyLG4saT8uWzFdKTtyZXR1cm4gYS5zZXQoZSxbcyxyXSksc311bnJlZ2lzdGVyQnVmZmVycyh0KXtsZXQgZT10aGlzLnNlc3Npb25FeHRlcm5hbERhdGFNYXBwaW5nLmdldCh0KTtlJiYoZS5mb3JFYWNoKHI9PnRoaXMuZ3B1RGF0YU1hbmFnZXIudW5yZWdpc3RlckV4dGVybmFsQnVmZmVyKHJbMV0pKSx0aGlzLnNlc3Npb25FeHRlcm5hbERhdGFNYXBwaW5nLmRlbGV0ZSh0KSl9Z2V0QnVmZmVyKHQpe2xldCBlPXRoaXMuZ3B1RGF0YU1hbmFnZXIuZ2V0KHQpO2lmKCFlKXRocm93IG5ldyBFcnJvcihgbm8gR1BVIGRhdGEgZm9yIGJ1ZmZlcjogJHt0fWApO3JldHVybiBlLmJ1ZmZlcn1jcmVhdGVEb3dubG9hZGVyKHQsZSxyKXtyZXR1cm4gYXN5bmMoKT0+e2xldCBuPWF3YWl0IFlpKHRoaXMsdCxlKTtyZXR1cm4gZ2wobi5idWZmZXIscil9fXdyaXRlVGltZXN0YW1wKHQpe3RoaXMucXVlcnlUeXBlPT09Imluc2lkZS1wYXNzZXMiJiZ0aGlzLmNvbXB1dGVQYXNzRW5jb2Rlci53cml0ZVRpbWVzdGFtcCh0aGlzLnF1ZXJ5U2V0LHQpfXNldFF1ZXJ5VHlwZSgpe3RoaXMucXVlcnlUeXBlPSJub25lIiwodGhpcy5lbnYud2ViZ3B1LnByb2ZpbGluZz8ubW9kZT09PSJkZWZhdWx0Inx8dGhpcy5lbnYud2FzbS50cmFjZSkmJih0aGlzLmRldmljZS5mZWF0dXJlcy5oYXMoImNocm9taXVtLWV4cGVyaW1lbnRhbC10aW1lc3RhbXAtcXVlcnktaW5zaWRlLXBhc3NlcyIpP3RoaXMucXVlcnlUeXBlPSJpbnNpZGUtcGFzc2VzIjp0aGlzLmRldmljZS5mZWF0dXJlcy5oYXMoInRpbWVzdGFtcC1xdWVyeSIpJiYodGhpcy5xdWVyeVR5cGU9ImF0LXBhc3NlcyIpKX19fSksdWg9e307TnIodWgse2luaXQ6KCk9PmNofSk7dmFyIHphLGRoLGNoLFVfPVEoKCk9PntZZSgpLE5fKCksdnIoKSxJZSgpLHphPWNsYXNzIGNne2NvbnN0cnVjdG9yKGUscixuLGEpe3RoaXMubW9kdWxlPWUsdGhpcy5kYXRhVHlwZT1yLHRoaXMuZGF0YT1uLHRoaXMuZGltcz1hfWdldEZsb2F0MzJBcnJheSgpe2lmKHRoaXMuZGF0YVR5cGUhPT0xKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBkYXRhIHR5cGUiKTtsZXQgZT1lZS5zaXplKHRoaXMuZGltcyk7cmV0dXJuIGU9PT0wP25ldyBGbG9hdDMyQXJyYXk6bmV3IEZsb2F0MzJBcnJheSh0aGlzLm1vZHVsZS5IRUFQOC5idWZmZXIsdGhpcy5kYXRhLGUpfWdldEJpZ0ludDY0QXJyYXkoKXtpZih0aGlzLmRhdGFUeXBlIT09Nyl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZGF0YSB0eXBlIik7bGV0IGU9ZWUuc2l6ZSh0aGlzLmRpbXMpO3JldHVybiBlPT09MD9uZXcgQmlnSW50NjRBcnJheTpuZXcgQmlnSW50NjRBcnJheSh0aGlzLm1vZHVsZS5IRUFQOC5idWZmZXIsdGhpcy5kYXRhLGUpfWdldEludDMyQXJyYXkoKXtpZih0aGlzLmRhdGFUeXBlIT09Nil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZGF0YSB0eXBlIik7bGV0IGU9ZWUuc2l6ZSh0aGlzLmRpbXMpO3JldHVybiBlPT09MD9uZXcgSW50MzJBcnJheTpuZXcgSW50MzJBcnJheSh0aGlzLm1vZHVsZS5IRUFQOC5idWZmZXIsdGhpcy5kYXRhLGUpfXJlc2hhcGUoZSl7aWYoZWUuc2l6ZShlKSE9PWVlLnNpemUodGhpcy5kaW1zKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgbmV3IHNoYXBlIik7cmV0dXJuIG5ldyBjZyh0aGlzLm1vZHVsZSx0aGlzLmRhdGFUeXBlLHRoaXMuZGF0YSxlKX19LGRoPWNsYXNze2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLm1vZHVsZT10LHRoaXMuYmFja2VuZD1lLHRoaXMuY3VzdG9tRGF0YU9mZnNldD0wLHRoaXMuY3VzdG9tRGF0YVNpemU9MDtsZXQgbj10LkhFQVBVMzIsYT1yPj4+Mjt0aGlzLm9wS2VybmVsQ29udGV4dD1uW2ErK107bGV0IGk9blthKytdO3RoaXMub3V0cHV0Q291bnQ9blthKytdLHRoaXMuY3VzdG9tRGF0YU9mZnNldD1uW2ErK10sdGhpcy5jdXN0b21EYXRhU2l6ZT1uW2ErK107bGV0IHM9W107Zm9yKGxldCBvPTA7bzxpO28rKyl7bGV0IGw9blthKytdLGQ9blthKytdLGM9blthKytdLHU9W107Zm9yKGxldCBoPTA7aDxjO2grKyl1LnB1c2goblthKytdKTtzLnB1c2gobmV3IHphKHQsbCxkLHUpKX10aGlzLmlucHV0cz1zfWdldCBrZXJuZWxDdXN0b21EYXRhKCl7cmV0dXJuIHRoaXMuYmFja2VuZC5jdXJyZW50S2VybmVsQ3VzdG9tRGF0YX1nZXQgY3VzdG9tRGF0YUJ1ZmZlcigpe3JldHVybiB0aGlzLm1vZHVsZS5IRUFQVTguc3ViYXJyYXkodGhpcy5jdXN0b21EYXRhT2Zmc2V0LHRoaXMuY3VzdG9tRGF0YU9mZnNldCt0aGlzLmN1c3RvbURhdGFTaXplKX1jb21wdXRlKHQsZSl7bGV0IHI9ZT8uaW5wdXRzPy5tYXAocz0+dHlwZW9mIHM9PSJudW1iZXIiP3RoaXMuaW5wdXRzW3NdOnMpPz90aGlzLmlucHV0cyxuPWU/Lm91dHB1dHM/P1tdLGE9KHMsbyxsKT0+bmV3IHphKHRoaXMubW9kdWxlLG8sdGhpcy5vdXRwdXQocyxsKSxsKSxpPShzLG8pPT57bGV0IGw9eWEocyk7aWYoIWwpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBkYXRhIHR5cGU6ICR7c31gKTtsZXQgZD1sKmVlLnNpemUobyk7cmV0dXJuIG5ldyB6YSh0aGlzLm1vZHVsZSxzLHRoaXMuYmFja2VuZC5ncHVEYXRhTWFuYWdlci5jcmVhdGUoZCkuaWQsbyl9O3JldHVybiB0aGlzLmJhY2tlbmQucnVuKHQscixuLGEsaSl9b3V0cHV0KHQsZSl7bGV0IHI9dGhpcy5tb2R1bGUuc3RhY2tTYXZlKCk7dHJ5e2xldCBuPXRoaXMubW9kdWxlLnN0YWNrQWxsb2MoKDErZS5sZW5ndGgpKjQpLGE9bj4+Mjt0aGlzLm1vZHVsZS5IRUFQVTMyW2ErK109ZS5sZW5ndGg7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspdGhpcy5tb2R1bGUuSEVBUFUzMlthKytdPWVbaV07cmV0dXJuIHRoaXMubW9kdWxlLl9Kc2VwT3V0cHV0KHRoaXMub3BLZXJuZWxDb250ZXh0LHQsbil9Y2F0Y2gobil7dGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2VuZXJhdGUga2VybmVsJ3Mgb3V0cHV0WyR7dH1dIHdpdGggZGltcyBbJHtlfV0uIElmIHlvdSBhcmUgcnVubmluZyB3aXRoIHByZS1hbGxvY2F0ZWQgb3V0cHV0LCBwbGVhc2UgbWFrZSBzdXJlIHRoZSBvdXRwdXQgdHlwZS9kaW1zIGFyZSBjb3JyZWN0LiBFcnJvcjogJHtufWApfWZpbmFsbHl7dGhpcy5tb2R1bGUuc3RhY2tSZXN0b3JlKHIpfX19LGNoPWFzeW5jKHQsZSxyKT0+e2xldCBuPXQuanNlcEluaXQ7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBKU0VQLiBUaGUgV2ViQXNzZW1ibHkgbW9kdWxlIGlzIG5vdCBidWlsdCB3aXRoIEpTRVAgc3VwcG9ydC4iKTtsZXQgYT1uZXcgbGg7YXdhaXQgYS5pbml0aWFsaXplKGUsciksbihhLGk9PmEuYWxsb2MoaSksaT0+YS5mcmVlKGkpLChpLHMsbyxsPSExKT0+e2lmKGwpYXQoInZlcmJvc2UiLCgpPT5gW1dlYkdQVV0ganNlcENvcHlHcHVUb0dwdTogc3JjPSR7aX0sIGRzdD0ke3N9LCBzaXplPSR7b31gKSxhLm1lbWNweShpLHMpO2Vsc2V7YXQoInZlcmJvc2UiLCgpPT5gW1dlYkdQVV0ganNlcENvcHlDcHVUb0dwdTogZGF0YU9mZnNldD0ke2l9LCBncHVEYXRhSWQ9JHtzfSwgc2l6ZT0ke299YCk7bGV0IGQ9dC5IRUFQVTguc3ViYXJyYXkoaT4+PjAsKGk+Pj4wKStvKTthLnVwbG9hZChzLGQpfX0sYXN5bmMoaSxzLG8pPT57YXQoInZlcmJvc2UiLCgpPT5gW1dlYkdQVV0ganNlcENvcHlHcHVUb0NwdTogZ3B1RGF0YUlkPSR7aX0sIGRhdGFPZmZzZXQ9JHtzfSwgc2l6ZT0ke299YCksYXdhaXQgYS5kb3dubG9hZChpLCgpPT50LkhFQVBVOC5zdWJhcnJheShzPj4+MCwocz4+PjApK28pKX0sKGkscyxvKT0+YS5jcmVhdGVLZXJuZWwoaSxzLG8sdC5VVEY4VG9TdHJpbmcodC5fSnNlcEdldE5vZGVOYW1lKHMpKSksaT0+YS5yZWxlYXNlS2VybmVsKGkpLChpLHMsbyxsKT0+e2F0KCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIGpzZXBSdW46IHNlc3Npb25IYW5kbGU9JHtvfSwga2VybmVsPSR7aX0sIGNvbnRleHREYXRhT2Zmc2V0PSR7c31gKTtsZXQgZD1uZXcgZGgodCxhLHMpO3JldHVybiBhLmNvbXB1dGVLZXJuZWwoaSxkLGwpfSl9fSkscGgsaGgsZmgsVnIsbWgsQnMsZ2gsX2gsUnMseWgsd2gsdmgsV189USgoKT0+e3RfKCkscl8oKSxZZSgpLGRuKCksRmkoKSx1bCgpLHBoPSh0LGUpPT57cnQoKS5fT3J0SW5pdCh0LGUpIT09MCYmR2UoIkNhbid0IGluaXRpYWxpemUgb25ueHJ1bnRpbWUuIil9LGhoPWFzeW5jIHQ9PntwaCh0Lndhc20ubnVtVGhyZWFkcyx3YSh0LmxvZ0xldmVsKSl9LGZoPWFzeW5jKHQsZSk9PntpZihlPT09IndlYmdwdSIpe2lmKHR5cGVvZiBuYXZpZ2F0b3I+InUifHwhbmF2aWdhdG9yLmdwdSl0aHJvdyBuZXcgRXJyb3IoIldlYkdQVSBpcyBub3Qgc3VwcG9ydGVkIGluIGN1cnJlbnQgZW52aXJvbm1lbnQiKTtsZXQgcj1hd2FpdCBuYXZpZ2F0b3IuZ3B1LnJlcXVlc3RBZGFwdGVyKCk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2V0IEdQVSBhZGFwdGVyLiBZb3UgbWF5IG5lZWQgdG8gZW5hYmxlIGZsYWcgIi0tZW5hYmxlLXVuc2FmZS13ZWJncHUiIGlmIHlvdSBhcmUgdXNpbmcgQ2hyb21lLicpO2lmKCF0Lndhc20uc2ltZCl0aHJvdyBuZXcgRXJyb3IoIk5vdCBzdXBwb3J0ZWQgZm9yIFdlYkdQVT1PTiBhbmQgU0lNRD1PRkYuIFBsZWFzZSBzZXQgYGVudi53YXNtLnNpbWRgIHRvIHRydWUgd2hlbiB1c2luZyBgd2ViZ3B1YCBFUCIpO2xldCBuPShVXygpLHdyKHVoKSkuaW5pdDthd2FpdCBuKHJ0KCksdCxyKX19LFZyPW5ldyBNYXAsbWg9dD0+e2xldCBlPXJ0KCkscj1lLnN0YWNrU2F2ZSgpO3RyeXtsZXQgbj1lLnN0YWNrQWxsb2MoOCk7cmV0dXJuIGUuX09ydEdldElucHV0T3V0cHV0Q291bnQodCxuLG4rNCkhPT0wJiZHZSgiQ2FuJ3QgZ2V0IHNlc3Npb24gaW5wdXQvb3V0cHV0IGNvdW50LiIpLFtlLkhFQVAzMltuLzRdLGUuSEVBUDMyW24vNCsxXV19ZmluYWxseXtlLnN0YWNrUmVzdG9yZShyKX19LEJzPXQ9PntsZXQgZT1ydCgpLHI9ZS5fbWFsbG9jKHQuYnl0ZUxlbmd0aCk7aWYocj09PTApdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBjcmVhdGUgYSBzZXNzaW9uLiBmYWlsZWQgdG8gYWxsb2NhdGUgYSBidWZmZXIgb2Ygc2l6ZSAke3QuYnl0ZUxlbmd0aH0uYCk7cmV0dXJuIGUuSEVBUFU4LnNldCh0LHIpLFtyLHQuYnl0ZUxlbmd0aF19LGdoPWFzeW5jKHQsZSk9PntsZXQgcixuLGE9cnQoKTtBcnJheS5pc0FycmF5KHQpP1tyLG5dPXQ6dC5idWZmZXI9PT1hLkhFQVBVOC5idWZmZXI/W3Isbl09W3QuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGhdOltyLG5dPUJzKHQpO2xldCBpPTAscz0wLG89MCxsPVtdLGQ9W10sYz1bXTt0cnl7aWYoW3MsbF09bGwoZSksZT8uZXh0ZXJuYWxEYXRhJiZhLm1vdW50RXh0ZXJuYWxEYXRhKXtsZXQgdj1bXTtmb3IobGV0IGsgb2YgZS5leHRlcm5hbERhdGEpe2xldCBFPXR5cGVvZiBrPT0ic3RyaW5nIj9rOmsucGF0aDt2LnB1c2godmEodHlwZW9mIGs9PSJzdHJpbmciP2s6ay5kYXRhKS50aGVuKHg9PnthLm1vdW50RXh0ZXJuYWxEYXRhKEUseCl9KSl9YXdhaXQgUHJvbWlzZS5hbGwodil9aT1hLl9PcnRDcmVhdGVTZXNzaW9uKHIsbixzKSxpPT09MCYmR2UoIkNhbid0IGNyZWF0ZSBhIHNlc3Npb24uIik7bGV0W3UsaF09bWgoaSksZj1bXSxnPVtdLHk9W107Zm9yKGxldCB2PTA7djx1O3YrKyl7bGV0IGs9YS5fT3J0R2V0SW5wdXROYW1lKGksdik7az09PTAmJkdlKCJDYW4ndCBnZXQgYW4gaW5wdXQgbmFtZS4iKSxkLnB1c2goayksZi5wdXNoKGEuVVRGOFRvU3RyaW5nKGspKX1mb3IobGV0IHY9MDt2PGg7disrKXtsZXQgaz1hLl9PcnRHZXRPdXRwdXROYW1lKGksdik7az09PTAmJkdlKCJDYW4ndCBnZXQgYW4gb3V0cHV0IG5hbWUuIiksYy5wdXNoKGspO2xldCBFPWEuVVRGOFRvU3RyaW5nKGspO2cucHVzaChFKTt7bGV0IHg9dHlwZW9mIGU/LnByZWZlcnJlZE91dHB1dExvY2F0aW9uPT0ic3RyaW5nIj9lLnByZWZlcnJlZE91dHB1dExvY2F0aW9uOmU/LnByZWZlcnJlZE91dHB1dExvY2F0aW9uPy5bRV0/PyJjcHUiO2lmKHghPT0iY3B1IiYmeCE9PSJjcHUtcGlubmVkIiYmeCE9PSJncHUtYnVmZmVyIil0aHJvdyBuZXcgRXJyb3IoYE5vdCBzdXBwb3J0ZWQgcHJlZmVycmVkIG91dHB1dCBsb2NhdGlvbjogJHt4fS5gKTt5LnB1c2goeCl9fWxldCB3PW51bGw7cmV0dXJuIHkuc29tZSh2PT52PT09ImdwdS1idWZmZXIiKSYmKG89YS5fT3J0Q3JlYXRlQmluZGluZyhpKSxvPT09MCYmR2UoIkNhbid0IGNyZWF0ZSBJTyBiaW5kaW5nLiIpLHc9e2hhbmRsZTpvLG91dHB1dFByZWZlcnJlZExvY2F0aW9uczp5LG91dHB1dFByZWZlcnJlZExvY2F0aW9uc0VuY29kZWQ6eS5tYXAodj0+cWkodikpfSksVnIuc2V0KGksW2ksZCxjLHddKSxbaSxmLGddfWNhdGNoKHUpe3Rocm93IGQuZm9yRWFjaChoPT5hLl9PcnRGcmVlKGgpKSxjLmZvckVhY2goaD0+YS5fT3J0RnJlZShoKSksbyE9PTAmJmEuX09ydFJlbGVhc2VCaW5kaW5nKG8pLGkhPT0wJiZhLl9PcnRSZWxlYXNlU2Vzc2lvbihpKSx1fWZpbmFsbHl7YS5fZnJlZShyKSxzIT09MCYmYS5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zKHMpLGwuZm9yRWFjaCh1PT5hLl9mcmVlKHUpKSxhLnVubW91bnRFeHRlcm5hbERhdGE/LigpfX0sX2g9dD0+e2xldCBlPXJ0KCkscj1Wci5nZXQodCk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgcmVsZWFzZSBzZXNzaW9uLiBpbnZhbGlkIHNlc3Npb24gaWQ6ICR7dH1gKTtsZXRbbixhLGksc109cjtzJiZlLl9PcnRSZWxlYXNlQmluZGluZyhzLmhhbmRsZSksZS5qc2VwVW5yZWdpc3RlckJ1ZmZlcnM/Lih0KSxhLmZvckVhY2gobz0+ZS5fT3J0RnJlZShvKSksaS5mb3JFYWNoKG89PmUuX09ydEZyZWUobykpLGUuX09ydFJlbGVhc2VTZXNzaW9uKG4pLFZyLmRlbGV0ZSh0KX0sUnM9KHQsZSxyLG4sYSk9PntpZighdCl7ZS5wdXNoKDApO3JldHVybn1sZXQgaT1ydCgpLHM9dFswXSxvPXRbMV0sbD10WzNdLGQsYztpZihzPT09InN0cmluZyImJmw9PT0iZ3B1LWJ1ZmZlciIpdGhyb3cgbmV3IEVycm9yKCJTdHJpbmcgdGVuc29yIGlzIG5vdCBzdXBwb3J0ZWQgb24gR1BVLiIpO2lmKGw9PT0iZ3B1LWJ1ZmZlciIpe2xldCBmPXRbMl0uZ3B1QnVmZmVyLGc9eWEoVmkocykpO2M9by5yZWR1Y2UoKHksdyk9PnkqdywxKSpnLGQ9aS5qc2VwUmVnaXN0ZXJCdWZmZXIobixhLGYsYyl9ZWxzZXtsZXQgZj10WzJdO2lmKEFycmF5LmlzQXJyYXkoZikpe2M9NCpmLmxlbmd0aCxkPWkuX21hbGxvYyhjKSxyLnB1c2goZCk7bGV0IGc9ZC80O2ZvcihsZXQgeT0wO3k8Zi5sZW5ndGg7eSsrKXtpZih0eXBlb2YgZlt5XSE9InN0cmluZyIpdGhyb3cgbmV3IFR5cGVFcnJvcihgdGVuc29yIGRhdGEgYXQgaW5kZXggJHt5fSBpcyBub3QgYSBzdHJpbmdgKTtpLkhFQVBVMzJbZysrXT1udChmW3ldLHIpfX1lbHNlIGM9Zi5ieXRlTGVuZ3RoLGQ9aS5fbWFsbG9jKGMpLHIucHVzaChkKSxpLkhFQVBVOC5zZXQobmV3IFVpbnQ4QXJyYXkoZi5idWZmZXIsZi5ieXRlT2Zmc2V0LGMpLGQpfWxldCB1PWkuc3RhY2tTYXZlKCksaD1pLnN0YWNrQWxsb2MoNCpvLmxlbmd0aCk7dHJ5e2xldCBmPWgvNDtvLmZvckVhY2goeT0+aS5IRUFQMzJbZisrXT15KTtsZXQgZz1pLl9PcnRDcmVhdGVUZW5zb3IoVmkocyksZCxjLGgsby5sZW5ndGgscWkobCkpO2c9PT0wJiZHZShgQ2FuJ3QgY3JlYXRlIHRlbnNvciBmb3IgaW5wdXQvb3V0cHV0LiBzZXNzaW9uPSR7bn0sIGluZGV4PSR7YX0uYCksZS5wdXNoKGcpfWZpbmFsbHl7aS5zdGFja1Jlc3RvcmUodSl9fSx5aD1hc3luYyh0LGUscixuLGEsaSk9PntsZXQgcz1ydCgpLG89VnIuZ2V0KHQpO2lmKCFvKXRocm93IG5ldyBFcnJvcihgY2Fubm90IHJ1biBpbmZlcmVuY2UuIGludmFsaWQgc2Vzc2lvbiBpZDogJHt0fWApO2xldFtsLGQsYyx1XT1vLGg9ZS5sZW5ndGgsZj1uLmxlbmd0aCxnPTAseT1bXSx3PVtdLHY9W10saz1bXSxFPXMuc3RhY2tTYXZlKCkseD1zLnN0YWNrQWxsb2MoaCo0KSxJPXMuc3RhY2tBbGxvYyhoKjQpLFQ9cy5zdGFja0FsbG9jKGYqNCksQj1zLnN0YWNrQWxsb2MoZio0KTt0cnl7W2cseV09bmwoaSk7Zm9yKGxldCBxPTA7cTxoO3ErKylScyhyW3FdLHcsayx0LGVbcV0pO2ZvcihsZXQgcT0wO3E8ZjtxKyspUnMoYVtxXSx2LGssdCxoK25bcV0pO2xldCBVPXgvNCxIPUkvNCxLPVQvNCxPPUIvNDtmb3IobGV0IHE9MDtxPGg7cSsrKXMuSEVBUFUzMltVKytdPXdbcV0scy5IRUFQVTMyW0grK109ZFtlW3FdXTtmb3IobGV0IHE9MDtxPGY7cSsrKXMuSEVBUFUzMltLKytdPXZbcV0scy5IRUFQVTMyW08rK109Y1tuW3FdXTtpZih1KXtsZXR7aGFuZGxlOnEsb3V0cHV0UHJlZmVycmVkTG9jYXRpb25zOkQsb3V0cHV0UHJlZmVycmVkTG9jYXRpb25zRW5jb2RlZDpMfT11O2lmKGQubGVuZ3RoIT09aCl0aHJvdyBuZXcgRXJyb3IoYGlucHV0IGNvdW50IGZyb20gZmVlZHMgKCR7aH0pIGlzIGV4cGVjdGVkIHRvIGJlIGFsd2F5cyBlcXVhbCB0byBtb2RlbCdzIGlucHV0IGNvdW50ICgke2QubGVuZ3RofSkuYCk7Zm9yKGxldCBWPTA7VjxoO1YrKyl7bGV0IHRlPWVbVl07YXdhaXQgcy5fT3J0QmluZElucHV0KHEsZFt0ZV0sd1tWXSkhPT0wJiZHZShgQ2FuJ3QgYmluZCBpbnB1dFske1Z9XSBmb3Igc2Vzc2lvbj0ke3R9LmApfWZvcihsZXQgVj0wO1Y8ZjtWKyspe2xldCB0ZT1uW1ZdO2FbVl0/LlszXT9zLl9PcnRCaW5kT3V0cHV0KHEsY1t0ZV0sdltWXSwwKSE9PTAmJkdlKGBDYW4ndCBiaW5kIHByZS1hbGxvY2F0ZWQgb3V0cHV0WyR7Vn1dIGZvciBzZXNzaW9uPSR7dH0uYCk6cy5fT3J0QmluZE91dHB1dChxLGNbdGVdLDAsTFt0ZV0pIT09MCYmR2UoYENhbid0IGJpbmQgb3V0cHV0WyR7Vn1dIHRvICR7RFtWXX0gZm9yIHNlc3Npb249JHt0fS5gKX19bGV0IEc7dT9HPWF3YWl0IHMuX09ydFJ1bldpdGhCaW5kaW5nKGwsdS5oYW5kbGUsZixULGcpOkc9YXdhaXQgcy5fT3J0UnVuKGwsSSx4LGgsQixmLFQsZyksRyE9PTAmJkdlKCJmYWlsZWQgdG8gY2FsbCBPcnRSdW4oKS4iKTtsZXQgbmU9W107Zm9yKGxldCBxPTA7cTxmO3ErKyl7bGV0IEQ9cy5IRUFQVTMyW1QvNCtxXTtpZihEPT09dltxXSl7bmUucHVzaChhW3FdKTtjb250aW51ZX1sZXQgTD1zLnN0YWNrU2F2ZSgpLFY9cy5zdGFja0FsbG9jKDQqNCksdGU9ITEsWCx1ZT0wO3RyeXtzLl9PcnRHZXRUZW5zb3JEYXRhKEQsVixWKzQsVis4LFYrMTIpIT09MCYmR2UoYENhbid0IGFjY2VzcyBvdXRwdXQgdGVuc29yIGRhdGEgb24gaW5kZXggJHtxfS5gKTtsZXQgRj1WLzQsb2U9cy5IRUFQVTMyW0YrK107dWU9cy5IRUFQVTMyW0YrK107bGV0ICRlPXMuSEVBUFUzMltGKytdLFVlPXMuSEVBUFUzMltGKytdLERlPVtdO2ZvcihsZXQgV2U9MDtXZTxVZTtXZSsrKURlLnB1c2gocy5IRUFQVTMyWyRlLzQrV2VdKTtzLl9PcnRGcmVlKCRlKTtsZXQgVmU9RGUucmVkdWNlKChXZSxIZSk9PldlKkhlLDEpO1g9anQob2UpO2xldCBTdD11Py5vdXRwdXRQcmVmZXJyZWRMb2NhdGlvbnNbbltxXV07aWYoWD09PSJzdHJpbmciKXtpZihTdD09PSJncHUtYnVmZmVyIil0aHJvdyBuZXcgRXJyb3IoIlN0cmluZyB0ZW5zb3IgaXMgbm90IHN1cHBvcnRlZCBvbiBHUFUuIik7bGV0IFdlPVtdLEhlPXVlLzQ7Zm9yKGxldCBNdD0wO010PFZlO010Kyspe2xldCB6dD1zLkhFQVBVMzJbSGUrK10scXQ9TXQ9PT1WZS0xP3ZvaWQgMDpzLkhFQVBVMzJbSGVdLXp0O1dlLnB1c2gocy5VVEY4VG9TdHJpbmcoenQscXQpKX1uZS5wdXNoKFtYLERlLFdlLCJjcHUiXSl9ZWxzZSBpZihTdD09PSJncHUtYnVmZmVyIiYmVmU+MCl7bGV0IFdlPXMuanNlcEdldEJ1ZmZlcih1ZSksSGU9eWEob2UpO2lmKEhlPT09dm9pZCAwfHwhR2koWCkpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBkYXRhIHR5cGU6ICR7WH1gKTt0ZT0hMCxuZS5wdXNoKFtYLERlLHtncHVCdWZmZXI6V2UsZG93bmxvYWQ6cy5qc2VwQ3JlYXRlRG93bmxvYWRlcihXZSxWZSpIZSxYKSxkaXNwb3NlOigpPT57cy5fT3J0UmVsZWFzZVRlbnNvcihEKX19LCJncHUtYnVmZmVyIl0pfWVsc2V7bGV0IFdlPUhpKFgpLEhlPW5ldyBXZShWZSk7bmV3IFVpbnQ4QXJyYXkoSGUuYnVmZmVyLEhlLmJ5dGVPZmZzZXQsSGUuYnl0ZUxlbmd0aCkuc2V0KHMuSEVBUFU4LnN1YmFycmF5KHVlLHVlK0hlLmJ5dGVMZW5ndGgpKSxuZS5wdXNoKFtYLERlLEhlLCJjcHUiXSl9fWZpbmFsbHl7cy5zdGFja1Jlc3RvcmUoTCksWD09PSJzdHJpbmciJiZ1ZSYmcy5fZnJlZSh1ZSksdGV8fHMuX09ydFJlbGVhc2VUZW5zb3IoRCl9fXJldHVybiB1JiZzLl9PcnRDbGVhckJvdW5kT3V0cHV0cyh1LmhhbmRsZSksbmV9ZmluYWxseXtzLnN0YWNrUmVzdG9yZShFKSx3LmZvckVhY2goVT0+cy5fT3J0UmVsZWFzZVRlbnNvcihVKSksdi5mb3JFYWNoKFU9PnMuX09ydFJlbGVhc2VUZW5zb3IoVSkpLGsuZm9yRWFjaChVPT5zLl9mcmVlKFUpKSxnIT09MCYmcy5fT3J0UmVsZWFzZVJ1bk9wdGlvbnMoZykseS5mb3JFYWNoKFU9PnMuX2ZyZWUoVSkpfX0sd2g9dD0+e2xldCBlPXJ0KCkscj1Wci5nZXQodCk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHNlc3Npb24gaWQiKTtsZXQgbj1yWzBdLGE9ZS5fT3J0RW5kUHJvZmlsaW5nKG4pO2E9PT0wJiZHZSgiQ2FuJ3QgZ2V0IGFuIHByb2ZpbGUgZmlsZSBuYW1lLiIpLGUuX09ydEZyZWUoYSl9LHZoPXQ9PntsZXQgZT1bXTtmb3IobGV0IHIgb2YgdCl7bGV0IG49clsyXTshQXJyYXkuaXNBcnJheShuKSYmImJ1ZmZlciJpbiBuJiZlLnB1c2gobi5idWZmZXIpfXJldHVybiBlfX0pLExfPVByKCh0LGUpPT57ZS5leHBvcnRzPScvKiFcbiAqIE9OTlggUnVudGltZSBXZWIgdjEuMTcuMVxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cbiJ1c2Ugc3RyaWN0IjsoKCk9Pnt2YXIgaG49T2JqZWN0LmRlZmluZVByb3BlcnR5O3ZhciBMdT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3ZhciBGdT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lczt2YXIganU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgaj0oZSx0KT0+KCk9PihlJiYodD1lKGU9MCkpLHQpO3ZhciBkcj0oZSx0KT0+KCk9Pih0fHxlKCh0PXtleHBvcnRzOnt9fSkuZXhwb3J0cyx0KSx0LmV4cG9ydHMpLEJyPShlLHQpPT57Zm9yKHZhciByIGluIHQpaG4oZSxyLHtnZXQ6dFtyXSxlbnVtZXJhYmxlOiEwfSl9LHF1PShlLHQscixvKT0+e2lmKHQmJnR5cGVvZiB0PT0ib2JqZWN0Inx8dHlwZW9mIHQ9PSJmdW5jdGlvbiIpZm9yKGxldCBuIG9mIEZ1KHQpKSFqdS5jYWxsKGUsbikmJm4hPT1yJiZobihlLG4se2dldDooKT0+dFtuXSxlbnVtZXJhYmxlOiEobz1MdSh0LG4pKXx8by5lbnVtZXJhYmxlfSk7cmV0dXJuIGV9O3ZhciBIdD1lPT5xdShobih7fSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZSk7dmFyIGduPXt9O0JyKGduLHtjcmVhdGVSZWFkU3RyZWFtOigpPT54byxyZWFkRmlsZTooKT0+S3UscmVhZEZpbGVTeW5jOigpPT5ZdX0pO3ZhciBLdSxZdSx4byx5bj1qKCgpPT57S3U9dm9pZCAwLFl1PXZvaWQgMCx4bz12b2lkIDB9KTt2YXIgYm49e307QnIoYm4se2pvaW46KCk9Plp1fSk7dmFyIFp1LHduPWooKCk9PntadT12b2lkIDB9KTt2YXIgSW89ZHIoKENvLHZuKT0+eyJ1c2Ugc3RyaWN0Ijt2YXIgX289KCgpPT57dmFyIGU9dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdD9kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYzp2b2lkIDA7cmV0dXJuIHR5cGVvZiBfX2ZpbGVuYW1lPCJ1IiYmKGU9ZXx8X19maWxlbmFtZSksZnVuY3Rpb24odD17fSl7dmFyIHI9dCxvLG47ci5yZWFkeT1uZXcgUHJvbWlzZSgoZCxtKT0+e289ZCxuPW19KSxyLm1vdW50RXh0ZXJuYWxEYXRhPShkLG0pPT57KHIuRmF8fChyLkZhPW5ldyBNYXApKS5zZXQoZCxtKX0sci51bm1vdW50RXh0ZXJuYWxEYXRhPSgpPT57ZGVsZXRlIHIuRmF9LHIuanNlcEluaXQ9KGQsbSx2LEMsQixILHEsbGUpPT57ci5hYj1kLHIuUWE9bSxyLlNhPXYsci5MYT1DLHIuUmE9QixyLnNhPUgsci5UYT1xLHIuVWE9bGUsbT0oSixyZSxzZSk9PiguLi53ZSk9PntsZXQgX2U9dHQsUD1yZT8uKCk7d2U9SiguLi53ZSk7bGV0IHVlPXJlPy4oKTtyZXR1cm4gUCE9PXVlJiYoSj11ZSxzZShQKSxyZT1zZT1udWxsKSx0dCE9X2U/eHIoKTp3ZX0sdj1KPT5hc3luYyguLi5yZSk9Pnt0cnl7aWYoci5FYSl0aHJvdyBFcnJvcigiU2Vzc2lvbiBhbHJlYWR5IHN0YXJ0ZWQiKTtsZXQgc2U9ci5FYT17VmE6cmVbMF0sZXJyb3JzOltdfSx3ZT1hd2FpdCBKKC4uLnJlKTtpZihyLkVhIT09c2UpdGhyb3cgRXJyb3IoIlNlc3Npb24gbWlzbWF0Y2giKTtkLmZsdXNoKCk7bGV0IF9lPXNlLmVycm9ycztpZigwPF9lLmxlbmd0aCl7bGV0IFA9YXdhaXQgUHJvbWlzZS5hbGwoX2UpO2lmKFA9UC5maWx0ZXIodWU9PnVlKSwwPFAubGVuZ3RoKXRocm93IEVycm9yKFAuam9pbihgXG5gKSl9cmV0dXJuIHdlfWZpbmFsbHl7ci5FYT1udWxsfX0sci5fT3J0UnVuPXYobShyLl9PcnRSdW4sKCk9PnIuX09ydFJ1bixKPT5yLl9PcnRSdW49SikpLHIuX09ydFJ1bldpdGhCaW5kaW5nPXYobShyLl9PcnRSdW5XaXRoQmluZGluZywoKT0+ci5fT3J0UnVuV2l0aEJpbmRpbmcsSj0+ci5fT3J0UnVuV2l0aEJpbmRpbmc9SikpLHIuX09ydEJpbmRJbnB1dD1tKHIuX09ydEJpbmRJbnB1dCwoKT0+ci5fT3J0QmluZElucHV0LEo9PnIuX09ydEJpbmRJbnB1dD1KKSxyLmpzZXBSZWdpc3RlckJ1ZmZlcj0oSixyZSxzZSx3ZSk9PmQucmVnaXN0ZXJCdWZmZXIoSixyZSxzZSx3ZSksci5qc2VwVW5yZWdpc3RlckJ1ZmZlcnM9Sj0+e2QudW5yZWdpc3RlckJ1ZmZlcnMoSil9LHIuanNlcEdldEJ1ZmZlcj1KPT5kLmdldEJ1ZmZlcihKKSxyLmpzZXBDcmVhdGVEb3dubG9hZGVyPShKLHJlLHNlKT0+ZC5jcmVhdGVEb3dubG9hZGVyKEoscmUsc2UpfTt2YXIgcz1PYmplY3QuYXNzaWduKHt9LHIpLHU9Ii4vdGhpcy5wcm9ncmFtIixsPShkLG0pPT57dGhyb3cgbX0sYT10eXBlb2Ygd2luZG93PT0ib2JqZWN0IixwPXR5cGVvZiBpbXBvcnRTY3JpcHRzPT0iZnVuY3Rpb24iLGg9dHlwZW9mIHByb2Nlc3M9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU9PSJzdHJpbmciLGc9IiIsYix3LHk7aWYoaCl7dmFyIF89KHluKCksSHQoZ24pKSxJPSh3bigpLEh0KGJuKSk7Zz1wP0kuZGlybmFtZShnKSsiLyI6X19kaXJuYW1lKyIvIixiPShkLG0pPT4oZD1XZShkKT9uZXcgVVJMKGQpOkkubm9ybWFsaXplKGQpLF8ucmVhZEZpbGVTeW5jKGQsbT92b2lkIDA6InV0ZjgiKSkseT1kPT4oZD1iKGQsITApLGQuYnVmZmVyfHwoZD1uZXcgVWludDhBcnJheShkKSksZCksdz0oZCxtLHYsQz0hMCk9PntkPVdlKGQpP25ldyBVUkwoZCk6SS5ub3JtYWxpemUoZCksXy5yZWFkRmlsZShkLEM/dm9pZCAwOiJ1dGY4IiwoQixIKT0+e0I/dihCKTptKEM/SC5idWZmZXI6SCl9KX0sIXIudGhpc1Byb2dyYW0mJjE8cHJvY2Vzcy5hcmd2Lmxlbmd0aCYmKHU9cHJvY2Vzcy5hcmd2WzFdLnJlcGxhY2UoL1xcXFwvZywiLyIpKSxwcm9jZXNzLmFyZ3Yuc2xpY2UoMiksbD0oZCxtKT0+e3Rocm93IHByb2Nlc3MuZXhpdENvZGU9ZCxtfSxyLmluc3BlY3Q9KCk9PiJbRW1zY3JpcHRlbiBNb2R1bGUgb2JqZWN0XSJ9ZWxzZShhfHxwKSYmKHA/Zz1zZWxmLmxvY2F0aW9uLmhyZWY6dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKGc9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLGUmJihnPWUpLGcuaW5kZXhPZigiYmxvYjoiKSE9PTA/Zz1nLnN1YnN0cigwLGcucmVwbGFjZSgvWz8jXS4qLywiIikubGFzdEluZGV4T2YoIi8iKSsxKTpnPSIiLGI9ZD0+e3ZhciBtPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gbS5vcGVuKCJHRVQiLGQsITEpLG0uc2VuZChudWxsKSxtLnJlc3BvbnNlVGV4dH0scCYmKHk9ZD0+e3ZhciBtPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gbS5vcGVuKCJHRVQiLGQsITEpLG0ucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsbS5zZW5kKG51bGwpLG5ldyBVaW50OEFycmF5KG0ucmVzcG9uc2UpfSksdz0oZCxtLHYpPT57dmFyIEM9bmV3IFhNTEh0dHBSZXF1ZXN0O0Mub3BlbigiR0VUIixkLCEwKSxDLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLEMub25sb2FkPSgpPT57Qy5zdGF0dXM9PTIwMHx8Qy5zdGF0dXM9PTAmJkMucmVzcG9uc2U/bShDLnJlc3BvbnNlKTp2KCl9LEMub25lcnJvcj12LEMuc2VuZChudWxsKX0pO3ZhciAkPWNvbnNvbGUubG9nLmJpbmQoY29uc29sZSkseD1jb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSk7T2JqZWN0LmFzc2lnbihyLHMpLHM9bnVsbCx0eXBlb2YgV2ViQXNzZW1ibHkhPSJvYmplY3QiJiZoZSgibm8gbmF0aXZlIHdhc20gc3VwcG9ydCBkZXRlY3RlZCIpO3ZhciBFLEE9ITEseixSLFYsVCxOLHRlLFk7ZnVuY3Rpb24gSygpe3ZhciBkPUUuYnVmZmVyO3IuSEVBUDg9Uj1uZXcgSW50OEFycmF5KGQpLHIuSEVBUDE2PW5ldyBJbnQxNkFycmF5KGQpLHIuSEVBUFU4PVY9bmV3IFVpbnQ4QXJyYXkoZCksci5IRUFQVTE2PW5ldyBVaW50MTZBcnJheShkKSxyLkhFQVAzMj1UPW5ldyBJbnQzMkFycmF5KGQpLHIuSEVBUFUzMj1OPW5ldyBVaW50MzJBcnJheShkKSxyLkhFQVBGMzI9dGU9bmV3IEZsb2F0MzJBcnJheShkKSxyLkhFQVBGNjQ9WT1uZXcgRmxvYXQ2NEFycmF5KGQpfXZhciBRPVtdLFo9W10sRWU9W10sUGU9MCxmZT1udWxsLEllPW51bGw7ZnVuY3Rpb24gaGUoZCl7dGhyb3cgZD0iQWJvcnRlZCgiK2QrIikiLHgoZCksQT0hMCx6PTEsZD1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKGQrIi4gQnVpbGQgd2l0aCAtc0FTU0VSVElPTlMgZm9yIG1vcmUgaW5mby4iKSxuKGQpLGR9dmFyIHllPWQ9PmQuc3RhcnRzV2l0aCgiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCIpLFdlPWQ9PmQuc3RhcnRzV2l0aCgiZmlsZTovLyIpLERlO2lmKERlPSJvcnQtd2FzbS1zaW1kLndhc20iLCF5ZShEZSkpe3ZhciBHZT1EZTtEZT1yLmxvY2F0ZUZpbGU/ci5sb2NhdGVGaWxlKEdlLGcpOmcrR2V9ZnVuY3Rpb24gRyhkKXtpZih5KXJldHVybiB5KGQpO3Rocm93ImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkIn1mdW5jdGlvbiBlZShkKXtpZihhfHxwKXtpZih0eXBlb2YgZmV0Y2g9PSJmdW5jdGlvbiImJiFXZShkKSlyZXR1cm4gZmV0Y2goZCx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4obT0+e2lmKCFtLm9rKXRocm93ImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgXCciK2QrIlwnIjtyZXR1cm4gbS5hcnJheUJ1ZmZlcigpfSkuY2F0Y2goKCk9PkcoZCkpO2lmKHcpcmV0dXJuIG5ldyBQcm9taXNlKChtLHYpPT57dyhkLEM9Pm0obmV3IFVpbnQ4QXJyYXkoQykpLHYpfSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCk9PkcoZCkpfWZ1bmN0aW9uIGJlKGQsbSx2KXtyZXR1cm4gZWUoZCkudGhlbihDPT5XZWJBc3NlbWJseS5pbnN0YW50aWF0ZShDLG0pKS50aGVuKEM9PkMpLnRoZW4odixDPT57eChgZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogJHtDfWApLGhlKEMpfSl9ZnVuY3Rpb24gZXQoZCxtKXt2YXIgdj1EZTtyZXR1cm4gdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nIT0iZnVuY3Rpb24ifHx5ZSh2KXx8V2Uodil8fGh8fHR5cGVvZiBmZXRjaCE9ImZ1bmN0aW9uIj9iZSh2LGQsbSk6ZmV0Y2godix7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oQz0+V2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcoQyxkKS50aGVuKG0sZnVuY3Rpb24oQil7cmV0dXJuIHgoYHdhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAke0J9YCkseCgiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKSxiZSh2LGQsbSl9KSl9dmFyIHplLFVlPXs5MzEwNTY6KGQsbSx2LEMpPT57aWYodHlwZW9mIHI+InUifHwhci5GYSlyZXR1cm4gMTtpZihkPXFlKGQ+Pj4wKSxkLnN0YXJ0c1dpdGgoIi4vIikmJihkPWQuc3Vic3RyaW5nKDIpKSxkPXIuRmEuZ2V0KGQpLCFkKXJldHVybiAyO2lmKG0+Pj49MCx2Pj4+PTAsbSt2PmQuYnl0ZUxlbmd0aClyZXR1cm4gMzt0cnl7cmV0dXJuIFYuc2V0KGQuc3ViYXJyYXkobSxtK3YpLEM+Pj4wPj4+MCksMH1jYXRjaHtyZXR1cm4gNH19LDkzMTU1NzpkPT5yLlFhKGQpLDkzMTU5MDpkPT5yLlNhKGQpLDkzMTYyMjooZCxtLHYpPT57ci5MYShkLG0sdiwhMCl9LDkzMTY2MTooZCxtLHYpPT57ci5MYShkLG0sdil9LDkzMTY5NDpkPT57ci5zYSgiQWJzIixkLHZvaWQgMCl9LDkzMTc0NTpkPT57ci5zYSgiTmVnIixkLHZvaWQgMCl9LDkzMTc5NjpkPT57ci5zYSgiRmxvb3IiLGQsdm9pZCAwKX0sOTMxODQ5OmQ9PntyLnNhKCJDZWlsIixkLHZvaWQgMCl9LDkzMTkwMTpkPT57ci5zYSgiUmVjaXByb2NhbCIsZCx2b2lkIDApfSw5MzE5NTk6ZD0+e3Iuc2EoIlNxcnQiLGQsdm9pZCAwKX0sOTMyMDExOmQ9PntyLnNhKCJFeHAiLGQsdm9pZCAwKX0sOTMyMDYyOmQ9PntyLnNhKCJFcmYiLGQsdm9pZCAwKX0sOTMyMTEzOmQ9PntyLnNhKCJTaWdtb2lkIixkLHZvaWQgMCl9LDkzMjE2ODpkPT57ci5zYSgiTG9nIixkLHZvaWQgMCl9LDkzMjIxOTpkPT57ci5zYSgiU2luIixkLHZvaWQgMCl9LDkzMjI3MDpkPT57ci5zYSgiQ29zIixkLHZvaWQgMCl9LDkzMjMyMTpkPT57ci5zYSgiVGFuIixkLHZvaWQgMCl9LDkzMjM3MjpkPT57ci5zYSgiQXNpbiIsZCx2b2lkIDApfSw5MzI0MjQ6ZD0+e3Iuc2EoIkFjb3MiLGQsdm9pZCAwKX0sOTMyNDc2OmQ9PntyLnNhKCJBdGFuIixkLHZvaWQgMCl9LDkzMjUyODpkPT57ci5zYSgiU2luaCIsZCx2b2lkIDApfSw5MzI1ODA6ZD0+e3Iuc2EoIkNvc2giLGQsdm9pZCAwKX0sOTMyNjMyOmQ9PntyLnNhKCJBc2luaCIsZCx2b2lkIDApfSw5MzI2ODU6ZD0+e3Iuc2EoIkFjb3NoIixkLHZvaWQgMCl9LDkzMjczODpkPT57ci5zYSgiQXRhbmgiLGQsdm9pZCAwKX0sOTMyNzkxOmQ9PntyLnNhKCJUYW5oIixkLHZvaWQgMCl9LDkzMjg0MzpkPT57ci5zYSgiTm90IixkLHZvaWQgMCl9LDkzMjg5NDooZCxtLHYpPT57ci5zYSgiQ2xpcCIsZCx7bWluOm0sbWF4OnZ9KX0sOTMyOTYzOmQ9PntyLnNhKCJDbGlwIixkLHZvaWQgMCl9LDkzMzAxNTooZCxtKT0+e3Iuc2EoIkVsdSIsZCx7YWxwaGE6bX0pfSw5MzMwNzM6ZD0+e3Iuc2EoIlJlbHUiLGQsdm9pZCAwKX0sOTMzMTI1OihkLG0pPT57ci5zYSgiTGVha3lSZWx1IixkLHthbHBoYTptfSl9LDkzMzE4OTooZCxtKT0+e3Iuc2EoIlRocmVzaG9sZGVkUmVsdSIsZCx7YWxwaGE6bX0pfSw5MzMyNTk6KGQsbSk9PntyLnNhKCJDYXN0IixkLHt0bzptfSl9LDkzMzMxNzpkPT57ci5zYSgiQWRkIixkLHZvaWQgMCl9LDkzMzM2ODpkPT57ci5zYSgiU3ViIixkLHZvaWQgMCl9LDkzMzQxOTpkPT57ci5zYSgiTXVsIixkLHZvaWQgMCl9LDkzMzQ3MDpkPT57ci5zYSgiRGl2IixkLHZvaWQgMCl9LDkzMzUyMTpkPT57ci5zYSgiUG93IixkLHZvaWQgMCl9LDkzMzU3MjpkPT57ci5zYSgiRXF1YWwiLGQsdm9pZCAwKX0sOTMzNjI1OmQ9PntyLnNhKCJHcmVhdGVyIixkLHZvaWQgMCl9LDkzMzY4MDpkPT57ci5zYSgiR3JlYXRlck9yRXF1YWwiLGQsdm9pZCAwKX0sOTMzNzQyOmQ9PntyLnNhKCJMZXNzIixkLHZvaWQgMCl9LDkzMzc5NDpkPT57ci5zYSgiTGVzc09yRXF1YWwiLGQsdm9pZCAwKX0sOTMzODUzOihkLG0sdixDLEIpPT57ci5zYSgiUmVkdWNlTWVhbiIsZCx7a2VlcERpbXM6ISFtLG5vb3BXaXRoRW1wdHlBeGVzOiEhdixheGVzOkM/QXJyYXkuZnJvbShULnN1YmFycmF5KEM+Pj4wLEI+Pj4wKSk6W119KX0sOTM0MDEyOihkLG0sdixDLEIpPT57ci5zYSgiUmVkdWNlTWF4IixkLHtrZWVwRGltczohIW0sbm9vcFdpdGhFbXB0eUF4ZXM6ISF2LGF4ZXM6Qz9BcnJheS5mcm9tKFQuc3ViYXJyYXkoQz4+PjAsQj4+PjApKTpbXX0pfSw5MzQxNzA6KGQsbSx2LEMsQik9PntyLnNhKCJSZWR1Y2VNaW4iLGQse2tlZXBEaW1zOiEhbSxub29wV2l0aEVtcHR5QXhlczohIXYsYXhlczpDP0FycmF5LmZyb20oVC5zdWJhcnJheShDPj4+MCxCPj4+MCkpOltdfSl9LDkzNDMyODooZCxtLHYsQyxCKT0+e3Iuc2EoIlJlZHVjZVByb2QiLGQse2tlZXBEaW1zOiEhbSxub29wV2l0aEVtcHR5QXhlczohIXYsYXhlczpDP0FycmF5LmZyb20oVC5zdWJhcnJheShDPj4+MCxCPj4+MCkpOltdfSl9LDkzNDQ4NzooZCxtLHYsQyxCKT0+e3Iuc2EoIlJlZHVjZVN1bSIsZCx7a2VlcERpbXM6ISFtLG5vb3BXaXRoRW1wdHlBeGVzOiEhdixheGVzOkM/QXJyYXkuZnJvbShULnN1YmFycmF5KEM+Pj4wLEI+Pj4wKSk6W119KX0sOTM0NjQ1OihkLG0sdixDLEIpPT57ci5zYSgiUmVkdWNlTDEiLGQse2tlZXBEaW1zOiEhbSxub29wV2l0aEVtcHR5QXhlczohIXYsYXhlczpDP0FycmF5LmZyb20oVC5zdWJhcnJheShDPj4+MCxCPj4+MCkpOltdfSl9LDkzNDgwMjooZCxtLHYsQyxCKT0+e3Iuc2EoIlJlZHVjZUwyIixkLHtrZWVwRGltczohIW0sbm9vcFdpdGhFbXB0eUF4ZXM6ISF2LGF4ZXM6Qz9BcnJheS5mcm9tKFQuc3ViYXJyYXkoQz4+PjAsQj4+PjApKTpbXX0pfSw5MzQ5NTk6KGQsbSx2LEMsQik9PntyLnNhKCJSZWR1Y2VMb2dTdW0iLGQse2tlZXBEaW1zOiEhbSxub29wV2l0aEVtcHR5QXhlczohIXYsYXhlczpDP0FycmF5LmZyb20oVC5zdWJhcnJheShDPj4+MCxCPj4+MCkpOltdfSl9LDkzNTEyMDooZCxtLHYsQyxCKT0+e3Iuc2EoIlJlZHVjZVN1bVNxdWFyZSIsZCx7a2VlcERpbXM6ISFtLG5vb3BXaXRoRW1wdHlBeGVzOiEhdixheGVzOkM/QXJyYXkuZnJvbShULnN1YmFycmF5KEM+Pj4wLEI+Pj4wKSk6W119KX0sOTM1Mjg0OihkLG0sdixDLEIpPT57ci5zYSgiUmVkdWNlTG9nU3VtRXhwIixkLHtrZWVwRGltczohIW0sbm9vcFdpdGhFbXB0eUF4ZXM6ISF2LGF4ZXM6Qz9BcnJheS5mcm9tKFQuc3ViYXJyYXkoQz4+PjAsQj4+PjApKTpbXX0pfSw5MzU0NDg6ZD0+e3Iuc2EoIldoZXJlIixkLHZvaWQgMCl9LDkzNTUwMTooZCxtLHYpPT57ci5zYSgiVHJhbnNwb3NlIixkLHtwZXJtOm0/QXJyYXkuZnJvbShULnN1YmFycmF5KG0+Pj4wLHY+Pj4wKSk6W119KX0sOTM1NjA5OihkLG0sdixDLEIsSCxxLGxlLEoscmUsc2Usd2UsX2UsUCx1ZSk9PntyLnNhKCJDb252VHJhbnNwb3NlIixkLHtmb3JtYXQ6Sj8iTkhXQyI6Ik5DSFciLGF1dG9QYWQ6bSxkaWxhdGlvbnM6W3ZdLGdyb3VwOkMsa2VybmVsX3NoYXBlOltCXSxwYWRzOltILHFdLHN0cmlkZXM6W2xlXSx3SXNDb25zdDooKT0+ISFSW3JlPj4+MF0sb3V0cHV0UGFkZGluZzpzZT9BcnJheS5mcm9tKFQuc3ViYXJyYXkoc2U+Pj4wLHdlPj4+MCkpOltdLG91dHB1dFNoYXBlOl9lP0FycmF5LmZyb20oVC5zdWJhcnJheShfZT4+PjAsUD4+PjApKTpbXSxhY3RpdmF0aW9uOnFlKHVlKX0pfSw5MzYwMTE6KGQsbSx2LEMsQixILHEsbGUsSixyZSxzZSx3ZSxfZSxQKT0+e3Iuc2EoIkNvbnZUcmFuc3Bvc2UiLGQse2Zvcm1hdDpsZT8iTkhXQyI6Ik5DSFciLGF1dG9QYWQ6bSxkaWxhdGlvbnM6QXJyYXkuZnJvbShULnN1YmFycmF5KHY+Pj4wLCh2Pj4+MCkrMj4+PjApKSxncm91cDpDLGtlcm5lbFNoYXBlOkFycmF5LmZyb20oVC5zdWJhcnJheShCPj4+MCwoQj4+PjApKzI+Pj4wKSkscGFkczpBcnJheS5mcm9tKFQuc3ViYXJyYXkoSD4+PjAsKEg+Pj4wKSs0Pj4+MCkpLHN0cmlkZXM6QXJyYXkuZnJvbShULnN1YmFycmF5KHE+Pj4wLChxPj4+MCkrMj4+PjApKSx3SXNDb25zdDooKT0+ISFSW0o+Pj4wXSxvdXRwdXRQYWRkaW5nOnJlP0FycmF5LmZyb20oVC5zdWJhcnJheShyZT4+PjAsc2U+Pj4wKSk6W10sb3V0cHV0U2hhcGU6d2U/QXJyYXkuZnJvbShULnN1YmFycmF5KHdlPj4+MCxfZT4+PjApKTpbXSxhY3RpdmF0aW9uOnFlKFApfSl9LDkzNjU3NjooZCxtLHYsQyxCLEgscSxsZSxKLHJlLHNlLHdlLF9lLFAsdWUpPT57ci5zYSgiQ29udlRyYW5zcG9zZSIsZCx7Zm9ybWF0Oko/Ik5IV0MiOiJOQ0hXIixhdXRvUGFkOm0sZGlsYXRpb25zOlt2XSxncm91cDpDLGtlcm5lbF9zaGFwZTpbQl0scGFkczpbSCxxXSxzdHJpZGVzOltsZV0sd0lzQ29uc3Q6KCk9PiEhUltyZT4+PjBdLG91dHB1dFBhZGRpbmc6c2U/QXJyYXkuZnJvbShULnN1YmFycmF5KHNlPj4+MCx3ZT4+PjApKTpbXSxvdXRwdXRTaGFwZTpfZT9BcnJheS5mcm9tKFQuc3ViYXJyYXkoX2U+Pj4wLFA+Pj4wKSk6W10sYWN0aXZhdGlvbjpxZSh1ZSl9KX0sOTM2OTc4OihkLG0sdixDLEIsSCxxLGxlLEoscmUsc2Usd2UsX2UsUCk9PntyLnNhKCJDb252VHJhbnNwb3NlIixkLHtmb3JtYXQ6bGU/Ik5IV0MiOiJOQ0hXIixhdXRvUGFkOm0sZGlsYXRpb25zOkFycmF5LmZyb20oVC5zdWJhcnJheSh2Pj4+MCwodj4+PjApKzI+Pj4wKSksZ3JvdXA6QyxrZXJuZWxTaGFwZTpBcnJheS5mcm9tKFQuc3ViYXJyYXkoQj4+PjAsKEI+Pj4wKSsyPj4+MCkpLHBhZHM6QXJyYXkuZnJvbShULnN1YmFycmF5KEg+Pj4wLChIPj4+MCkrND4+PjApKSxzdHJpZGVzOkFycmF5LmZyb20oVC5zdWJhcnJheShxPj4+MCwocT4+PjApKzI+Pj4wKSksd0lzQ29uc3Q6KCk9PiEhUltKPj4+MF0sb3V0cHV0UGFkZGluZzpyZT9BcnJheS5mcm9tKFQuc3ViYXJyYXkocmU+Pj4wLHNlPj4+MCkpOltdLG91dHB1dFNoYXBlOndlP0FycmF5LmZyb20oVC5zdWJhcnJheSh3ZT4+PjAsX2U+Pj4wKSk6W10sYWN0aXZhdGlvbjpxZShQKX0pfSw5Mzc1NDM6KGQsbSk9PntyLnNhKCJHbG9iYWxBdmVyYWdlUG9vbCIsZCx7Zm9ybWF0Om0/Ik5IV0MiOiJOQ0hXIn0pfSw5Mzc2MzQ6KGQsbSx2LEMsQixILHEsbGUsSixyZSxzZSx3ZSxfZSxQLHVlLFNlKT0+e3Iuc2EoIkF2ZXJhZ2VQb29sIixkLHtmb3JtYXQ6U2U/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDptLGNlaWxfbW9kZTp2LGNvdW50X2luY2x1ZGVfcGFkOkMsc3RvcmFnZV9vcmRlcjpCLGRpbGF0aW9uczpbSCxxXSxrZXJuZWxfc2hhcGU6W2xlLEpdLHBhZHM6W3JlLHNlLHdlLF9lXSxzdHJpZGVzOltQLHVlXX0pfSw5Mzc5MTg6KGQsbSk9PntyLnNhKCJHbG9iYWxBdmVyYWdlUG9vbCIsZCx7Zm9ybWF0Om0/Ik5IV0MiOiJOQ0hXIn0pfSw5MzgwMDk6KGQsbSx2LEMsQixILHEsbGUsSixyZSxzZSx3ZSxfZSxQLHVlLFNlKT0+e3Iuc2EoIkF2ZXJhZ2VQb29sIixkLHtmb3JtYXQ6U2U/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDptLGNlaWxfbW9kZTp2LGNvdW50X2luY2x1ZGVfcGFkOkMsc3RvcmFnZV9vcmRlcjpCLGRpbGF0aW9uczpbSCxxXSxrZXJuZWxfc2hhcGU6W2xlLEpdLHBhZHM6W3JlLHNlLHdlLF9lXSxzdHJpZGVzOltQLHVlXX0pfSw5MzgyOTM6KGQsbSk9PntyLnNhKCJHbG9iYWxNYXhQb29sIixkLHtmb3JtYXQ6bT8iTkhXQyI6Ik5DSFcifSl9LDkzODM4MDooZCxtLHYsQyxCLEgscSxsZSxKLHJlLHNlLHdlLF9lLFAsdWUsU2UpPT57ci5zYSgiTWF4UG9vbCIsZCx7Zm9ybWF0OlNlPyJOSFdDIjoiTkNIVyIsYXV0b19wYWQ6bSxjZWlsX21vZGU6dixjb3VudF9pbmNsdWRlX3BhZDpDLHN0b3JhZ2Vfb3JkZXI6QixkaWxhdGlvbnM6W0gscV0sa2VybmVsX3NoYXBlOltsZSxKXSxwYWRzOltyZSxzZSx3ZSxfZV0sc3RyaWRlczpbUCx1ZV19KX0sOTM4NjYwOihkLG0pPT57ci5zYSgiR2xvYmFsTWF4UG9vbCIsZCx7Zm9ybWF0Om0/Ik5IV0MiOiJOQ0hXIn0pfSw5Mzg3NDc6KGQsbSx2LEMsQixILHEsbGUsSixyZSxzZSx3ZSxfZSxQLHVlLFNlKT0+e3Iuc2EoIk1heFBvb2wiLGQse2Zvcm1hdDpTZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOm0sY2VpbF9tb2RlOnYsY291bnRfaW5jbHVkZV9wYWQ6QyxzdG9yYWdlX29yZGVyOkIsZGlsYXRpb25zOltILHFdLGtlcm5lbF9zaGFwZTpbbGUsSl0scGFkczpbcmUsc2Usd2UsX2VdLHN0cmlkZXM6W1AsdWVdfSl9LDkzOTAyNzooZCxtLHYsQyxCKT0+e3Iuc2EoIkdlbW0iLGQse2FscGhhOm0sYmV0YTp2LHRyYW5zQTpDLHRyYW5zQjpCfSl9LDkzOTEzMTpkPT57ci5zYSgiTWF0TXVsIixkLHZvaWQgMCl9LDkzOTE4NTooZCxtLHYsQyk9PntyLnNhKCJBcmdNYXgiLGQse2tlZXBEaW1zOiEhbSxzZWxlY3RMYXN0SW5kZXg6ISF2LGF4aXM6Q30pfSw5MzkyOTM6KGQsbSx2LEMpPT57ci5zYSgiQXJnTWluIixkLHtrZWVwRGltczohIW0sc2VsZWN0TGFzdEluZGV4OiEhdixheGlzOkN9KX0sOTM5NDAxOihkLG0pPT57ci5zYSgiU29mdG1heCIsZCx7YXhpczptfSl9LDkzOTQ2NDooZCxtKT0+e3Iuc2EoIkNvbmNhdCIsZCx7YXhpczptfSl9LDkzOTUyNDooZCxtLHYsQyxCKT0+e3Iuc2EoIlNwbGl0IixkLHtheGlzOm0sbnVtT3V0cHV0czp2LHNwbGl0U2l6ZXM6Qz9BcnJheS5mcm9tKFQuc3ViYXJyYXkoQz4+PjAsQj4+PjApKTpbXX0pfSw5Mzk2NjQ6ZD0+e3Iuc2EoIkV4cGFuZCIsZCx2b2lkIDApfSw5Mzk3MTg6KGQsbSk9PntyLnNhKCJHYXRoZXIiLGQse2F4aXM6TnVtYmVyKG0pfSl9LDkzOTc4OTooZCxtKT0+e3Iuc2EoIkdhdGhlckVsZW1lbnRzIixkLHtheGlzOk51bWJlcihtKX0pfSw5Mzk4Njg6KGQsbSx2LEMsQixILHEsbGUsSixyZSxzZSk9PntyLnNhKCJSZXNpemUiLGQse2FudGlhbGlhczptLGF4ZXM6dj9BcnJheS5mcm9tKFQuc3ViYXJyYXkodj4+PjAsQz4+PjApKTpbXSxjb29yZGluYXRlVHJhbnNmb3JtTW9kZTpxZShCKSxjdWJpY0NvZWZmQTpILGV4Y2x1ZGVPdXRzaWRlOnEsZXh0cmFwb2xhdGlvblZhbHVlOmxlLGtlZXBBc3BlY3RSYXRpb1BvbGljeTpxZShKKSxtb2RlOnFlKHJlKSxuZWFyZXN0TW9kZTpxZShzZSl9KX0sOTQwMjE0OihkLG0sdixDLEIsSCxxKT0+e3Iuc2EoIlNsaWNlIixkLHtzdGFydHM6bT9BcnJheS5mcm9tKFQuc3ViYXJyYXkobT4+PjAsdj4+PjApKTpbXSxlbmRzOkM/QXJyYXkuZnJvbShULnN1YmFycmF5KEM+Pj4wLEI+Pj4wKSk6W10sYXhlczpIP0FycmF5LmZyb20oVC5zdWJhcnJheShIPj4+MCxxPj4+MCkpOltdfSl9LDk0MDQzMDpkPT57ci5zYSgiVGlsZSIsZCx2b2lkIDApfSw5NDA0ODI6KGQsbSx2KT0+e3Iuc2EoIkxheWVyTm9ybWFsaXphdGlvbiIsZCx7YXhpczpOdW1iZXIobSksZXBzaWxvbjpOdW1iZXIodil9KX0sOTQwNTg5OihkLG0sdik9PntyLnNhKCJJbnN0YW5jZU5vcm1hbGl6YXRpb24iLGQse2Vwc2lsb246bSxmb3JtYXQ6dj8iTkhXQyI6Ik5DSFcifSl9LDk0MDcwMzooZCxtLHYpPT57ci5zYSgiSW5zdGFuY2VOb3JtYWxpemF0aW9uIixkLHtlcHNpbG9uOm0sZm9ybWF0OnY/Ik5IV0MiOiJOQ0hXIn0pfSw5NDA4MTc6ZD0+e3Iuc2EoIlJhbmdlIixkLHZvaWQgMCl9LDk0MDg3MDooZCxtKT0+e3Iuc2EoIkVpbnN1bSIsZCx7ZXF1YXRpb246cWUobSl9KX0sOTQwOTUxOihkLG0sdixDLEIpPT57ci5zYSgiUGFkIixkLHttb2RlOm0sdmFsdWU6dixwYWRzOkM/QXJyYXkuZnJvbShULnN1YmFycmF5KEM+Pj4wLEI+Pj4wKSk6W119KX0sOTQxMDc4OihkLG0sdixDLEIsSCk9PntyLnNhKCJCYXRjaE5vcm1hbGl6YXRpb24iLGQse2Vwc2lsb246bSxtb21lbnR1bTp2LHNwYXRpYWw6ISFCLHRyYWluaW5nTW9kZTohIUMsZm9ybWF0Okg/Ik5IV0MiOiJOQ0hXIn0pfSw5NDEyNDc6KGQsbSx2LEMsQixIKT0+e3Iuc2EoIkJhdGNoTm9ybWFsaXphdGlvbiIsZCx7ZXBzaWxvbjptLG1vbWVudHVtOnYsc3BhdGlhbDohIUIsdHJhaW5pbmdNb2RlOiEhQyxmb3JtYXQ6SD8iTkhXQyI6Ik5DSFcifSl9LDk0MTQxNjooZCxtLHYpPT57ci5zYSgiQ3VtU3VtIixkLHtleGNsdXNpdmU6TnVtYmVyKG0pLHJldmVyc2U6TnVtYmVyKHYpfSl9LDk0MTUxMzooZCxtLHYsQyxCLEgscSxsZSxKKT0+e3Iuc2EoIkF0dGVudGlvbiIsZCx7bnVtSGVhZHM6bSxpc1VuaWRpcmVjdGlvbmFsOnYsbWFza0ZpbHRlclZhbHVlOkMsc2NhbGU6Qixkb1JvdGFyeTpILHFrdkhpZGRlblNpemVzOnE/QXJyYXkuZnJvbShULnN1YmFycmF5KE51bWJlcihsZSk+Pj4wLE51bWJlcihsZSkrcT4+PjApKTpbXSxwYXN0UHJlc2VudFNoYXJlQnVmZmVyOiEhSn0pfSw5NDE3ODU6ZD0+e3Iuc2EoIkdlbHUiLGQsdm9pZCAwKX0sOTQxODM3OihkLG0sdixDLEIsSCk9PntyLnNhKCJNdWx0aUhlYWRBdHRlbnRpb24iLGQse251bUhlYWRzOm0saXNVbmlkaXJlY3Rpb25hbDp2LG1hc2tGaWx0ZXJWYWx1ZTpDLHNjYWxlOkIsZG9Sb3Rhcnk6SH0pfSw5NDE5OTY6ZD0+e3Iuc2EoIkJpYXNBZGQiLGQsdm9pZCAwKX0sOTQyMDUxOmQ9PntyLnNhKCJCaWFzU3BsaXRHZWx1IixkLHZvaWQgMCl9LDk0MjExMjooZCxtKT0+e3Iuc2EoIlNraXBMYXllck5vcm1hbGl6YXRpb24iLGQse2Vwc2lsb246bX0pfSw5NDIxOTM6KGQsbSx2LEMsQixILHEsbGUsSixyZSxzZSx3ZSxfZSk9PntyLnNhKCJDb252IixkLHtmb3JtYXQ6Sj8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOm0sZGlsYXRpb25zOlt2XSxncm91cDpDLGtlcm5lbF9zaGFwZTpbQl0scGFkczpIP0FycmF5LmZyb20oVC5zdWJhcnJheShIPj4+MCxxPj4+MCkpOltdLHN0cmlkZXM6W2xlXSx3X2lzX2NvbnN0OigpPT4hIVJbcmU+Pj4wXSxhY3RpdmF0aW9uOnFlKHNlKSxhY3RpdmF0aW9uX3BhcmFtczp3ZT9BcnJheS5mcm9tKHRlLnN1YmFycmF5KHdlPj4+MCxfZT4+PjApKTpbXX0pfSw5NDI1NjM6KGQsbSx2LEMsQixILHEsbGUsSixyZSxzZSx3ZSxfZSxQLHVlLFNlKT0+e3Iuc2EoIkNvbnYiLGQse2Zvcm1hdDp3ZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOm0sZGlsYXRpb25zOlt2LENdLGdyb3VwOkIsa2VybmVsX3NoYXBlOltILHFdLHBhZHM6bGU/QXJyYXkuZnJvbShULnN1YmFycmF5KGxlPj4+MCxKPj4+MCkpOltdLHN0cmlkZXM6W3JlLHNlXSx3X2lzX2NvbnN0OigpPT4hIVJbX2U+Pj4wXSxhY3RpdmF0aW9uOnFlKFApLGFjdGl2YXRpb25fcGFyYW1zOnVlP0FycmF5LmZyb20odGUuc3ViYXJyYXkodWU+Pj4wLFNlPj4+MCkpOltdfSl9LDk0Mjk1NDpkPT57ci5UYShkKX0sOTQyOTg4OihkLG0pPT5yLlVhKGQsbSxyLkVhLlZhLHIuRWEuZXJyb3JzKX07ZnVuY3Rpb24gTWUoZCl7dGhpcy5uYW1lPSJFeGl0U3RhdHVzIix0aGlzLm1lc3NhZ2U9YFByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoJHtkfSlgLHRoaXMuc3RhdHVzPWR9ZnVuY3Rpb24gd3QoZCl7dGhpcy5KYT1kLTI0LHRoaXMuT2E9ZnVuY3Rpb24obSl7Tlt0aGlzLkphKzQ+Pj4yPj4+MF09bX0sdGhpcy5OYT1mdW5jdGlvbihtKXtOW3RoaXMuSmErOD4+PjI+Pj4wXT1tfSx0aGlzLiRhPWZ1bmN0aW9uKG0sdil7dGhpcy5NYSgpLHRoaXMuT2EobSksdGhpcy5OYSh2KX0sdGhpcy5NYT1mdW5jdGlvbigpe05bdGhpcy5KYSsxNj4+PjI+Pj4wXT0wfX12YXIgcnQ9MCxEdD0wLEF0PXR5cGVvZiBUZXh0RGVjb2RlcjwidSI/bmV3IFRleHREZWNvZGVyKCJ1dGY4Iik6dm9pZCAwLHZ0PShkLG0sdik9PnttPj4+PTA7dmFyIEM9bSt2O2Zvcih2PW07ZFt2XSYmISh2Pj1DKTspKyt2O2lmKDE2PHYtbSYmZC5idWZmZXImJkF0KXJldHVybiBBdC5kZWNvZGUoZC5zdWJhcnJheShtLHYpKTtmb3IoQz0iIjttPHY7KXt2YXIgQj1kW20rK107aWYoQiYxMjgpe3ZhciBIPWRbbSsrXSY2MztpZigoQiYyMjQpPT0xOTIpQys9U3RyaW5nLmZyb21DaGFyQ29kZSgoQiYzMSk8PDZ8SCk7ZWxzZXt2YXIgcT1kW20rK10mNjM7Qj0oQiYyNDApPT0yMjQ/KEImMTUpPDwxMnxIPDw2fHE6KEImNyk8PDE4fEg8PDEyfHE8PDZ8ZFttKytdJjYzLDY1NTM2PkI/Qys9U3RyaW5nLmZyb21DaGFyQ29kZShCKTooQi09NjU1MzYsQys9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxCPj4xMCw1NjMyMHxCJjEwMjMpKX19ZWxzZSBDKz1TdHJpbmcuZnJvbUNoYXJDb2RlKEIpfXJldHVybiBDfSxxZT0oZCxtKT0+KGQ+Pj49MCk/dnQoVixkLG0pOiIiLHF0PWQ9Pntmb3IodmFyIG09MCx2PTA7djxkLmxlbmd0aDsrK3Ype3ZhciBDPWQuY2hhckNvZGVBdCh2KTsxMjc+PUM/bSsrOjIwNDc+PUM/bSs9Mjo1NTI5Njw9QyYmNTczNDM+PUM/KG0rPTQsKyt2KTptKz0zfXJldHVybiBtfSxNdD0oZCxtLHYsQyk9PntpZih2Pj4+PTAsISgwPEMpKXJldHVybiAwO3ZhciBCPXY7Qz12K0MtMTtmb3IodmFyIEg9MDtIPGQubGVuZ3RoOysrSCl7dmFyIHE9ZC5jaGFyQ29kZUF0KEgpO2lmKDU1Mjk2PD1xJiY1NzM0Mz49cSl7dmFyIGxlPWQuY2hhckNvZGVBdCgrK0gpO3E9NjU1MzYrKChxJjEwMjMpPDwxMCl8bGUmMTAyM31pZigxMjc+PXEpe2lmKHY+PUMpYnJlYWs7bVt2Kys+Pj4wXT1xfWVsc2V7aWYoMjA0Nz49cSl7aWYodisxPj1DKWJyZWFrO21bdisrPj4+MF09MTkyfHE+PjZ9ZWxzZXtpZig2NTUzNT49cSl7aWYodisyPj1DKWJyZWFrO21bdisrPj4+MF09MjI0fHE+PjEyfWVsc2V7aWYodiszPj1DKWJyZWFrO21bdisrPj4+MF09MjQwfHE+PjE4LG1bdisrPj4+MF09MTI4fHE+PjEyJjYzfW1bdisrPj4+MF09MTI4fHE+PjYmNjN9bVt2Kys+Pj4wXT0xMjh8cSY2M319cmV0dXJuIG1bdj4+PjBdPTAsdi1CfSwkdD1kPT5kJTQ9PT0wJiYoZCUxMDAhPT0wfHxkJTQwMD09PTApLHl0PVswLDMxLDYwLDkxLDEyMSwxNTIsMTgyLDIxMywyNDQsMjc0LDMwNSwzMzVdLHp0PVswLDMxLDU5LDkwLDEyMCwxNTEsMTgxLDIxMiwyNDMsMjczLDMwNCwzMzRdLFV0PWQ9Pnt2YXIgbT1xdChkKSsxLHY9V3QobSk7cmV0dXJuIHYmJk10KGQsVix2LG0pLHZ9LFR0PVtdLEt0PShkLG0pPT57VHQubGVuZ3RoPTA7Zm9yKHZhciB2O3Y9VltkKys+Pj4wXTspe3ZhciBDPXYhPTEwNTtDJj12IT0xMTIsbSs9QyYmbSU4PzQ6MCxUdC5wdXNoKHY9PTExMj9OW20+Pj4yPj4+MF06dj09MTA1P1RbbT4+PjI+Pj4wXTpZW20+Pj4zPj4+MF0pLG0rPUM/ODo0fXJldHVybiBUdH0sbnQ9e30sWXQ9KCk9PntpZighVnQpe3ZhciBkPXtVU0VSOiJ3ZWJfdXNlciIsTE9HTkFNRToid2ViX3VzZXIiLFBBVEg6Ii8iLFBXRDoiLyIsSE9NRToiL2hvbWUvd2ViX3VzZXIiLExBTkc6KHR5cGVvZiBuYXZpZ2F0b3I9PSJvYmplY3QiJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdfHwiQyIpLnJlcGxhY2UoIi0iLCJfIikrIi5VVEYtOCIsXzp1fHwiLi90aGlzLnByb2dyYW0ifSxtO2ZvcihtIGluIG50KW50W21dPT09dm9pZCAwP2RlbGV0ZSBkW21dOmRbbV09bnRbbV07dmFyIHY9W107Zm9yKG0gaW4gZCl2LnB1c2goYCR7bX09JHtkW21dfWApO1Z0PXZ9cmV0dXJuIFZ0fSxWdCxZZT1bbnVsbCxbXSxbXV0sYnI9WzMxLDI5LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXSxPZT1bMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO2Z1bmN0aW9uIHdyKGQpe3ZhciBtPUFycmF5KHF0KGQpKzEpO3JldHVybiBNdChkLG0sMCxtLmxlbmd0aCksbX1mdW5jdGlvbiBOdChkLG0sdixDKXtmdW5jdGlvbiBCKFAsdWUsU2Upe2ZvcihQPXR5cGVvZiBQPT0ibnVtYmVyIj9QLnRvU3RyaW5nKCk6UHx8IiI7UC5sZW5ndGg8dWU7KVA9U2VbMF0rUDtyZXR1cm4gUH1mdW5jdGlvbiBIKFAsdWUpe3JldHVybiBCKFAsdWUsIjAiKX1mdW5jdGlvbiBxKFAsdWUpe2Z1bmN0aW9uIFNlKFRyKXtyZXR1cm4gMD5Ucj8tMTowPFRyPzE6MH12YXIgc3Q7cmV0dXJuKHN0PVNlKFAuZ2V0RnVsbFllYXIoKS11ZS5nZXRGdWxsWWVhcigpKSk9PT0wJiYoc3Q9U2UoUC5nZXRNb250aCgpLXVlLmdldE1vbnRoKCkpKT09PTAmJihzdD1TZShQLmdldERhdGUoKS11ZS5nZXREYXRlKCkpKSxzdH1mdW5jdGlvbiBsZShQKXtzd2l0Y2goUC5nZXREYXkoKSl7Y2FzZSAwOnJldHVybiBuZXcgRGF0ZShQLmdldEZ1bGxZZWFyKCktMSwxMSwyOSk7Y2FzZSAxOnJldHVybiBQO2Nhc2UgMjpyZXR1cm4gbmV3IERhdGUoUC5nZXRGdWxsWWVhcigpLDAsMyk7Y2FzZSAzOnJldHVybiBuZXcgRGF0ZShQLmdldEZ1bGxZZWFyKCksMCwyKTtjYXNlIDQ6cmV0dXJuIG5ldyBEYXRlKFAuZ2V0RnVsbFllYXIoKSwwLDEpO2Nhc2UgNTpyZXR1cm4gbmV3IERhdGUoUC5nZXRGdWxsWWVhcigpLTEsMTEsMzEpO2Nhc2UgNjpyZXR1cm4gbmV3IERhdGUoUC5nZXRGdWxsWWVhcigpLTEsMTEsMzApfX1mdW5jdGlvbiBKKFApe3ZhciB1ZT1QLkNhO2ZvcihQPW5ldyBEYXRlKG5ldyBEYXRlKFAuRGErMTkwMCwwLDEpLmdldFRpbWUoKSk7MDx1ZTspe3ZhciBTZT1QLmdldE1vbnRoKCksc3Q9KCR0KFAuZ2V0RnVsbFllYXIoKSk/YnI6T2UpW1NlXTtpZih1ZT5zdC1QLmdldERhdGUoKSl1ZS09c3QtUC5nZXREYXRlKCkrMSxQLnNldERhdGUoMSksMTE+U2U/UC5zZXRNb250aChTZSsxKTooUC5zZXRNb250aCgwKSxQLnNldEZ1bGxZZWFyKFAuZ2V0RnVsbFllYXIoKSsxKSk7ZWxzZXtQLnNldERhdGUoUC5nZXREYXRlKCkrdWUpO2JyZWFrfX1yZXR1cm4gU2U9bmV3IERhdGUoUC5nZXRGdWxsWWVhcigpKzEsMCw0KSx1ZT1sZShuZXcgRGF0ZShQLmdldEZ1bGxZZWFyKCksMCw0KSksU2U9bGUoU2UpLDA+PXEodWUsUCk/MD49cShTZSxQKT9QLmdldEZ1bGxZZWFyKCkrMTpQLmdldEZ1bGxZZWFyKCk6UC5nZXRGdWxsWWVhcigpLTF9ZD4+Pj0wLG0+Pj49MCx2Pj4+PTAsQz4+Pj0wO3ZhciByZT1OW0MrNDA+Pj4yPj4+MF07Qz17WWE6VFtDPj4+Mj4+PjBdLFhhOlRbQys0Pj4+Mj4+PjBdLEdhOlRbQys4Pj4+Mj4+PjBdLEthOlRbQysxMj4+PjI+Pj4wXSxIYTpUW0MrMTY+Pj4yPj4+MF0sRGE6VFtDKzIwPj4+Mj4+PjBdLHhhOlRbQysyND4+PjI+Pj4wXSxDYTpUW0MrMjg+Pj4yPj4+MF0sYmI6VFtDKzMyPj4+Mj4+PjBdLFdhOlRbQyszNj4+PjI+Pj4wXSxaYTpyZT9xZShyZSk6IiJ9LHY9cWUodikscmU9eyIlYyI6IiVhICViICVkICVIOiVNOiVTICVZIiwiJUQiOiIlbS8lZC8leSIsIiVGIjoiJVktJW0tJWQiLCIlaCI6IiViIiwiJXIiOiIlSTolTTolUyAlcCIsIiVSIjoiJUg6JU0iLCIlVCI6IiVIOiVNOiVTIiwiJXgiOiIlbS8lZC8leSIsIiVYIjoiJUg6JU06JVMiLCIlRWMiOiIlYyIsIiVFQyI6IiVDIiwiJUV4IjoiJW0vJWQvJXkiLCIlRVgiOiIlSDolTTolUyIsIiVFeSI6IiV5IiwiJUVZIjoiJVkiLCIlT2QiOiIlZCIsIiVPZSI6IiVlIiwiJU9IIjoiJUgiLCIlT0kiOiIlSSIsIiVPbSI6IiVtIiwiJU9NIjoiJU0iLCIlT1MiOiIlUyIsIiVPdSI6IiV1IiwiJU9VIjoiJVUiLCIlT1YiOiIlViIsIiVPdyI6IiV3IiwiJU9XIjoiJVciLCIlT3kiOiIleSJ9O2Zvcih2YXIgc2UgaW4gcmUpdj12LnJlcGxhY2UobmV3IFJlZ0V4cChzZSwiZyIpLHJlW3NlXSk7dmFyIHdlPSJTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheSIuc3BsaXQoIiAiKSxfZT0iSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlciIuc3BsaXQoIiAiKTtyZT17IiVhIjpQPT53ZVtQLnhhXS5zdWJzdHJpbmcoMCwzKSwiJUEiOlA9PndlW1AueGFdLCIlYiI6UD0+X2VbUC5IYV0uc3Vic3RyaW5nKDAsMyksIiVCIjpQPT5fZVtQLkhhXSwiJUMiOlA9PkgoKFAuRGErMTkwMCkvMTAwfDAsMiksIiVkIjpQPT5IKFAuS2EsMiksIiVlIjpQPT5CKFAuS2EsMiwiICIpLCIlZyI6UD0+SihQKS50b1N0cmluZygpLnN1YnN0cmluZygyKSwiJUciOlA9PkooUCksIiVIIjpQPT5IKFAuR2EsMiksIiVJIjpQPT4oUD1QLkdhLFA9PTA/UD0xMjoxMjxQJiYoUC09MTIpLEgoUCwyKSksIiVqIjpQPT57Zm9yKHZhciB1ZT0wLFNlPTA7U2U8PVAuSGEtMTt1ZSs9KCR0KFAuRGErMTkwMCk/YnI6T2UpW1NlKytdKTtyZXR1cm4gSChQLkthK3VlLDMpfSwiJW0iOlA9PkgoUC5IYSsxLDIpLCIlTSI6UD0+SChQLlhhLDIpLCIlbiI6KCk9PmBcbmAsIiVwIjpQPT4wPD1QLkdhJiYxMj5QLkdhPyJBTSI6IlBNIiwiJVMiOlA9PkgoUC5ZYSwyKSwiJXQiOigpPT4iCSIsIiV1IjpQPT5QLnhhfHw3LCIlVSI6UD0+SChNYXRoLmZsb29yKChQLkNhKzctUC54YSkvNyksMiksIiVWIjpQPT57dmFyIHVlPU1hdGguZmxvb3IoKFAuQ2ErNy0oUC54YSs2KSU3KS83KTtpZigyPj0oUC54YSszNzEtUC5DYS0yKSU3JiZ1ZSsrLHVlKXVlPT01MyYmKFNlPShQLnhhKzM3MS1QLkNhKSU3LFNlPT00fHxTZT09MyYmJHQoUC5EYSl8fCh1ZT0xKSk7ZWxzZXt1ZT01Mjt2YXIgU2U9KFAueGErNy1QLkNhLTEpJTc7KFNlPT00fHxTZT09NSYmJHQoUC5EYSU0MDAtMSkpJiZ1ZSsrfXJldHVybiBIKHVlLDIpfSwiJXciOlA9PlAueGEsIiVXIjpQPT5IKE1hdGguZmxvb3IoKFAuQ2ErNy0oUC54YSs2KSU3KS83KSwyKSwiJXkiOlA9PihQLkRhKzE5MDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpLCIlWSI6UD0+UC5EYSsxOTAwLCIleiI6UD0+e1A9UC5XYTt2YXIgdWU9MDw9UDtyZXR1cm4gUD1NYXRoLmFicyhQKS82MCwodWU/IisiOiItIikrKCIwMDAwIisoUC82MCoxMDArUCU2MCkpLnNsaWNlKC00KX0sIiVaIjpQPT5QLlphLCIlJSI6KCk9PiIlIn0sdj12LnJlcGxhY2UoLyUlL2csIlxcMFxcMCIpO2ZvcihzZSBpbiByZSl2LmluY2x1ZGVzKHNlKSYmKHY9di5yZXBsYWNlKG5ldyBSZWdFeHAoc2UsImciKSxyZVtzZV0oQykpKTtyZXR1cm4gdj12LnJlcGxhY2UoL1xcMFxcMC9nLCIlIiksc2U9d3Iodiksc2UubGVuZ3RoPm0/MDooUi5zZXQoc2UsZD4+PjApLHNlLmxlbmd0aC0xKX12YXIgU3Q9ZD0+e3RyeXtkKCl9Y2F0Y2gobSl7aGUobSl9fTtmdW5jdGlvbiB1bigpe3ZhciBkPWFlLG09e307Zm9yKGxldFt2LENdb2YgT2JqZWN0LmVudHJpZXMoZCkpbVt2XT10eXBlb2YgQz09ImZ1bmN0aW9uIj9mdW5jdGlvbigpe2J0LnB1c2godik7dHJ5e3JldHVybiBDLmFwcGx5KG51bGwsYXJndW1lbnRzKX1maW5hbGx5e0F8fChidC5wb3AoKSx0dCYmb3Q9PT0xJiZidC5sZW5ndGg9PT0wJiYob3Q9MCxTdChpciksdHlwZW9mIEZpYmVyczwidSImJkZpYmVycy5jYigpKSl9fTpDO3JldHVybiBtfXZhciBvdD0wLHR0PW51bGwsZGU9MCxidD1bXSxadD17fSx2cj17fSwkcj0wLFF0PW51bGwsU3I9W107ZnVuY3Rpb24geHIoKXtyZXR1cm4gbmV3IFByb21pc2UoKGQsbSk9PntRdD17cmVzb2x2ZTpkLHJlamVjdDptfX0pfWZ1bmN0aW9uIF9yKCl7dmFyIGQ9V3QoNjU1NDgpLG09ZCsxMjtOW2Q+Pj4yPj4+MF09bSxOW2QrND4+PjI+Pj4wXT1tKzY1NTM2LG09YnRbMF07dmFyIHY9WnRbbV07cmV0dXJuIHY9PT12b2lkIDAmJih2PSRyKyssWnRbbV09dix2clt2XT1tKSxUW2QrOD4+PjI+Pj4wXT12LGR9ZnVuY3Rpb24gQ3IoZCl7aWYoIUEpe2lmKG90PT09MCl7dmFyIG09ITEsdj0hMTtkKChDPTApPT57aWYoIUEmJihkZT1DLG09ITAsdikpe290PTIsU3QoKCk9PnNyKHR0KSksdHlwZW9mIEJyb3dzZXI8InUiJiZCcm93c2VyLklhLlBhJiZCcm93c2VyLklhLnJlc3VtZSgpLEM9ITE7dHJ5e3ZhciBCPSgwLGFlW3ZyW1RbdHQrOD4+PjI+Pj4wXV1dKSgpfWNhdGNoKGxlKXtCPWxlLEM9ITB9dmFyIEg9ITE7aWYoIXR0KXt2YXIgcT1RdDtxJiYoUXQ9bnVsbCwoQz9xLnJlamVjdDpxLnJlc29sdmUpKEIpLEg9ITApfWlmKEMmJiFIKXRocm93IEJ9fSksdj0hMCxtfHwob3Q9MSx0dD1fcigpLHR5cGVvZiBCcm93c2VyPCJ1IiYmQnJvd3Nlci5JYS5QYSYmQnJvd3Nlci5JYS5wYXVzZSgpLFN0KCgpPT5hcih0dCkpKX1lbHNlIG90PT09Mj8ob3Q9MCxTdCh1ciksZXIodHQpLHR0PW51bGwsU3IuZm9yRWFjaChDPT57aWYoIUEpdHJ5e0MoKTt0cnl7ej16PUM9eixyLm9uRXhpdD8uKEMpLEE9ITAsbChDLG5ldyBNZShDKSl9Y2F0Y2goQil7QiBpbnN0YW5jZW9mIE1lfHxCPT0idW53aW5kInx8bCgxLEIpfX1jYXRjaChCKXtCIGluc3RhbmNlb2YgTWV8fEI9PSJ1bndpbmQifHxsKDEsQil9fSkpOmhlKGBpbnZhbGlkIHN0YXRlOiAke290fWApO3JldHVybiBkZX19ZnVuY3Rpb24gWHQoZCl7cmV0dXJuIENyKG09PntkKCkudGhlbihtKX0pfXZhciBJcj17bjpmdW5jdGlvbihkLG0sdil7cmV0dXJuIFh0KGFzeW5jKCk9Pnthd2FpdCByLlJhKGQsbSx2KX0pfSxhOmZ1bmN0aW9uKGQsbSx2KXt0aHJvdyBkPj4+PTAsbmV3IHd0KGQpLiRhKG0+Pj4wLHY+Pj4wKSxydD1kLER0KysscnR9LGc6ZnVuY3Rpb24oKXtyZXR1cm4gMH0sSjpmdW5jdGlvbigpe30sQTpmdW5jdGlvbigpe30sQzpmdW5jdGlvbigpe30sTDpmdW5jdGlvbigpe3JldHVybiAwfSxIOmZ1bmN0aW9uKCl7fSxEOmZ1bmN0aW9uKCl7fSxHOmZ1bmN0aW9uKCl7fSxsOmZ1bmN0aW9uKCl7fSxCOmZ1bmN0aW9uKCl7fSx5OmZ1bmN0aW9uKCl7fSxJOmZ1bmN0aW9uKCl7fSx6OmZ1bmN0aW9uKCl7fSxtOigpPT4xLHE6ZnVuY3Rpb24oZCxtLHYpe2Q9bSsyMDk3MTUyPj4+MDw0MTk0MzA1LSEhZD8oZD4+PjApKzQyOTQ5NjcyOTYqbTpOYU4sdj4+Pj0wLGQ9bmV3IERhdGUoMWUzKmQpLFRbdj4+PjI+Pj4wXT1kLmdldFVUQ1NlY29uZHMoKSxUW3YrND4+PjI+Pj4wXT1kLmdldFVUQ01pbnV0ZXMoKSxUW3YrOD4+PjI+Pj4wXT1kLmdldFVUQ0hvdXJzKCksVFt2KzEyPj4+Mj4+PjBdPWQuZ2V0VVRDRGF0ZSgpLFRbdisxNj4+PjI+Pj4wXT1kLmdldFVUQ01vbnRoKCksVFt2KzIwPj4+Mj4+PjBdPWQuZ2V0VVRDRnVsbFllYXIoKS0xOTAwLFRbdisyND4+PjI+Pj4wXT1kLmdldFVUQ0RheSgpLFRbdisyOD4+PjI+Pj4wXT0oZC5nZXRUaW1lKCktRGF0ZS5VVEMoZC5nZXRVVENGdWxsWWVhcigpLDAsMSwwLDAsMCwwKSkvODY0ZTV8MH0scjpmdW5jdGlvbihkLG0sdil7ZD1tKzIwOTcxNTI+Pj4wPDQxOTQzMDUtISFkPyhkPj4+MCkrNDI5NDk2NzI5NiptOk5hTix2Pj4+PTAsZD1uZXcgRGF0ZSgxZTMqZCksVFt2Pj4+Mj4+PjBdPWQuZ2V0U2Vjb25kcygpLFRbdis0Pj4+Mj4+PjBdPWQuZ2V0TWludXRlcygpLFRbdis4Pj4+Mj4+PjBdPWQuZ2V0SG91cnMoKSxUW3YrMTI+Pj4yPj4+MF09ZC5nZXREYXRlKCksVFt2KzE2Pj4+Mj4+PjBdPWQuZ2V0TW9udGgoKSxUW3YrMjA+Pj4yPj4+MF09ZC5nZXRGdWxsWWVhcigpLTE5MDAsVFt2KzI0Pj4+Mj4+PjBdPWQuZ2V0RGF5KCksVFt2KzI4Pj4+Mj4+PjBdPSgkdChkLmdldEZ1bGxZZWFyKCkpP3l0Onp0KVtkLmdldE1vbnRoKCldK2QuZ2V0RGF0ZSgpLTF8MCxUW3YrMzY+Pj4yPj4+MF09LSg2MCpkLmdldFRpbWV6b25lT2Zmc2V0KCkpLG09bmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgQz1uZXcgRGF0ZShkLmdldEZ1bGxZZWFyKCksMCwxKS5nZXRUaW1lem9uZU9mZnNldCgpO1RbdiszMj4+PjI+Pj4wXT0obSE9QyYmZC5nZXRUaW1lem9uZU9mZnNldCgpPT1NYXRoLm1pbihDLG0pKXwwfSxzOmZ1bmN0aW9uKGQpe2Q+Pj49MDt2YXIgbT1uZXcgRGF0ZShUW2QrMjA+Pj4yPj4+MF0rMTkwMCxUW2QrMTY+Pj4yPj4+MF0sVFtkKzEyPj4+Mj4+PjBdLFRbZCs4Pj4+Mj4+PjBdLFRbZCs0Pj4+Mj4+PjBdLFRbZD4+PjI+Pj4wXSwwKSx2PVRbZCszMj4+PjI+Pj4wXSxDPW0uZ2V0VGltZXpvbmVPZmZzZXQoKSxCPW5ldyBEYXRlKG0uZ2V0RnVsbFllYXIoKSw2LDEpLmdldFRpbWV6b25lT2Zmc2V0KCksSD1uZXcgRGF0ZShtLmdldEZ1bGxZZWFyKCksMCwxKS5nZXRUaW1lem9uZU9mZnNldCgpLHE9TWF0aC5taW4oSCxCKTtyZXR1cm4gMD52P1RbZCszMj4+PjI+Pj4wXT0rKEIhPUgmJnE9PUMpOjA8diE9KHE9PUMpJiYoQj1NYXRoLm1heChILEIpLG0uc2V0VGltZShtLmdldFRpbWUoKSs2ZTQqKCgwPHY/cTpCKS1DKSkpLFRbZCsyND4+PjI+Pj4wXT1tLmdldERheSgpLFRbZCsyOD4+PjI+Pj4wXT0oJHQobS5nZXRGdWxsWWVhcigpKT95dDp6dClbbS5nZXRNb250aCgpXSttLmdldERhdGUoKS0xfDAsVFtkPj4+Mj4+PjBdPW0uZ2V0U2Vjb25kcygpLFRbZCs0Pj4+Mj4+PjBdPW0uZ2V0TWludXRlcygpLFRbZCs4Pj4+Mj4+PjBdPW0uZ2V0SG91cnMoKSxUW2QrMTI+Pj4yPj4+MF09bS5nZXREYXRlKCksVFtkKzE2Pj4+Mj4+PjBdPW0uZ2V0TW9udGgoKSxUW2QrMjA+Pj4yPj4+MF09bS5nZXRZZWFyKCksZD1tLmdldFRpbWUoKSxpc05hTihkKT8oVFtKdCgpPj4+Mj4+PjBdPTYxLGQ9LTEpOmQvPTFlMyx0cigoemU9ZCwxPD0rTWF0aC5hYnMoemUpPzA8emU/K01hdGguZmxvb3IoemUvNDI5NDk2NzI5Nik+Pj4wOn5+K01hdGguY2VpbCgoemUtKyh+fnplPj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKSksZD4+PjB9LG86ZnVuY3Rpb24oKXtyZXR1cm4tNTJ9LHA6ZnVuY3Rpb24oKXt9LHc6ZnVuY3Rpb24oZCxtLHYpe2Z1bmN0aW9uIEMoSil7cmV0dXJuKEo9Si50b1RpbWVTdHJpbmcoKS5tYXRjaCgvXFwoKFtBLVphLXogXSspXFwpJC8pKT9KWzFdOiJHTVQifXY+Pj49MDt2YXIgQj1uZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksSD1uZXcgRGF0ZShCLDAsMSkscT1uZXcgRGF0ZShCLDYsMSk7Qj1ILmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIGxlPXEuZ2V0VGltZXpvbmVPZmZzZXQoKTtOW2Q+Pj4wPj4+Mj4+PjBdPTYwKk1hdGgubWF4KEIsbGUpLFRbbT4+PjA+Pj4yPj4+MF09KyhCIT1sZSksZD1DKEgpLG09QyhxKSxkPVV0KGQpLG09VXQobSksbGU8Qj8oTlt2Pj4+Mj4+PjBdPWQsTlt2KzQ+Pj4yPj4+MF09bSk6KE5bdj4+PjI+Pj4wXT1tLE5bdis0Pj4+Mj4+PjBdPWQpfSxlOigpPT57aGUoIiIpfSxiOmZ1bmN0aW9uKGQsbSx2KXtyZXR1cm4gZD4+Pj0wLG09S3QobT4+PjAsdj4+PjApLFVlW2RdLmFwcGx5KG51bGwsbSl9LGk6ZnVuY3Rpb24oZCxtLHYpe3JldHVybiBkPj4+PTAsbT1LdChtPj4+MCx2Pj4+MCksVWVbZF0uYXBwbHkobnVsbCxtKX0saDooKT0+RGF0ZS5ub3coKSx4OmZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5MDE3NjB9LGM6KCk9PnBlcmZvcm1hbmNlLm5vdygpLEs6ZnVuY3Rpb24oZCxtLHYpe3JldHVybiBtPj4+PTAsVi5jb3B5V2l0aGluKGQ+Pj4wPj4+MCxtPj4+MCxtKyh2Pj4+MCk+Pj4wKX0sdTpmdW5jdGlvbihkKXtkPj4+PTA7dmFyIG09Vi5sZW5ndGg7aWYoNDI5NDkwMTc2MDxkKXJldHVybiExO2Zvcih2YXIgdj0xOzQ+PXY7dio9Mil7dmFyIEM9bSooMSsuMi92KTtDPU1hdGgubWluKEMsZCsxMDA2NjMyOTYpO3ZhciBCPU1hdGg7Qz1NYXRoLm1heChkLEMpO2U6e0I9KEIubWluLmNhbGwoQiw0Mjk0OTAxNzYwLEMrKDY1NTM2LUMlNjU1MzYpJTY1NTM2KS1FLmJ1ZmZlci5ieXRlTGVuZ3RoKzY1NTM1KS82NTUzNjt0cnl7RS5ncm93KEIpLEsoKTt2YXIgSD0xO2JyZWFrIGV9Y2F0Y2h7fUg9dm9pZCAwfWlmKEgpcmV0dXJuITB9cmV0dXJuITF9LEU6ZnVuY3Rpb24oZCxtKXtkPj4+PTAsbT4+Pj0wO3ZhciB2PTA7cmV0dXJuIFl0KCkuZm9yRWFjaCgoQyxCKT0+e3ZhciBIPW0rdjtmb3IoQj1OW2QrNCpCPj4+Mj4+PjBdPUgsSD0wO0g8Qy5sZW5ndGg7KytIKVJbQisrPj4+MD4+PjBdPUMuY2hhckNvZGVBdChIKTtSW0I+Pj4wPj4+MF09MCx2Kz1DLmxlbmd0aCsxfSksMH0sRjpmdW5jdGlvbihkLG0pe2Q+Pj49MCxtPj4+PTA7dmFyIHY9WXQoKTtOW2Q+Pj4yPj4+MF09di5sZW5ndGg7dmFyIEM9MDtyZXR1cm4gdi5mb3JFYWNoKEI9PkMrPUIubGVuZ3RoKzEpLE5bbT4+PjI+Pj4wXT1DLDB9LGY6KCk9PjUyLGs6ZnVuY3Rpb24oKXtyZXR1cm4gNTJ9LHQ6ZnVuY3Rpb24oKXtyZXR1cm4gNzB9LGo6ZnVuY3Rpb24oZCxtLHYsQyl7bT4+Pj0wLHY+Pj49MCxDPj4+PTA7Zm9yKHZhciBCPTAsSD0wO0g8djtIKyspe3ZhciBxPU5bbT4+PjI+Pj4wXSxsZT1OW20rND4+PjI+Pj4wXTttKz04O2Zvcih2YXIgSj0wO0o8bGU7SisrKXt2YXIgcmU9VltxK0o+Pj4wXSxzZT1ZZVtkXTtyZT09PTB8fHJlPT09MTA/KChkPT09MT8kOngpKHZ0KHNlLDApKSxzZS5sZW5ndGg9MCk6c2UucHVzaChyZSl9Qis9bGV9cmV0dXJuIE5bQz4+PjI+Pj4wXT1CLDB9LHY6TnQsZDpmdW5jdGlvbihkLG0sdixDKXtyZXR1cm4gTnQoZD4+PjAsbT4+PjAsdj4+PjAsQz4+PjApfX0sYWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkKHYpe3JldHVybiBhZT12LmV4cG9ydHMsYWU9dW4oKSxhZT1BcigpLEU9YWUuTSxLKCksWi51bnNoaWZ0KGFlLk4pLFBlLS0sUGU9PTAmJihmZSE9PW51bGwmJihjbGVhckludGVydmFsKGZlKSxmZT1udWxsKSxJZSYmKHY9SWUsSWU9bnVsbCx2KCkpKSxhZX12YXIgbT17YTpJcn07aWYoUGUrKyxyLmluc3RhbnRpYXRlV2FzbSl0cnl7cmV0dXJuIHIuaW5zdGFudGlhdGVXYXNtKG0sZCl9Y2F0Y2godil7eChgTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogJHt2fWApLG4odil9cmV0dXJuIGV0KG0sZnVuY3Rpb24odil7ZCh2Lmluc3RhbmNlKX0pLmNhdGNoKG4pLHt9fSgpO3IuX09ydEluaXQ9KGQsbSk9PihyLl9PcnRJbml0PWFlLk8pKGQsbSksci5fT3J0R2V0TGFzdEVycm9yPShkLG0pPT4oci5fT3J0R2V0TGFzdEVycm9yPWFlLlApKGQsbSksci5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9KGQsbSx2LEMsQixILHEsbGUsSixyZSk9PihyLl9PcnRDcmVhdGVTZXNzaW9uT3B0aW9ucz1hZS5RKShkLG0sdixDLEIsSCxxLGxlLEoscmUpLHIuX09ydEFwcGVuZEV4ZWN1dGlvblByb3ZpZGVyPShkLG0pPT4oci5fT3J0QXBwZW5kRXhlY3V0aW9uUHJvdmlkZXI9YWUuUikoZCxtKSxyLl9PcnRBZGRGcmVlRGltZW5zaW9uT3ZlcnJpZGU9KGQsbSx2KT0+KHIuX09ydEFkZEZyZWVEaW1lbnNpb25PdmVycmlkZT1hZS5TKShkLG0sdiksci5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5PShkLG0sdik9PihyLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnk9YWUuVCkoZCxtLHYpLHIuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucz1kPT4oci5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zPWFlLlUpKGQpLHIuX09ydENyZWF0ZVNlc3Npb249KGQsbSx2KT0+KHIuX09ydENyZWF0ZVNlc3Npb249YWUuVikoZCxtLHYpLHIuX09ydFJlbGVhc2VTZXNzaW9uPWQ9PihyLl9PcnRSZWxlYXNlU2Vzc2lvbj1hZS5XKShkKSxyLl9PcnRHZXRJbnB1dE91dHB1dENvdW50PShkLG0sdik9PihyLl9PcnRHZXRJbnB1dE91dHB1dENvdW50PWFlLlgpKGQsbSx2KSxyLl9PcnRHZXRJbnB1dE5hbWU9KGQsbSk9PihyLl9PcnRHZXRJbnB1dE5hbWU9YWUuWSkoZCxtKSxyLl9PcnRHZXRPdXRwdXROYW1lPShkLG0pPT4oci5fT3J0R2V0T3V0cHV0TmFtZT1hZS5aKShkLG0pLHIuX09ydEZyZWU9ZD0+KHIuX09ydEZyZWU9YWUuXykoZCksci5fT3J0Q3JlYXRlVGVuc29yPShkLG0sdixDLEIsSCk9PihyLl9PcnRDcmVhdGVUZW5zb3I9YWUuJCkoZCxtLHYsQyxCLEgpLHIuX09ydEdldFRlbnNvckRhdGE9KGQsbSx2LEMsQik9PihyLl9PcnRHZXRUZW5zb3JEYXRhPWFlLmFhKShkLG0sdixDLEIpLHIuX09ydFJlbGVhc2VUZW5zb3I9ZD0+KHIuX09ydFJlbGVhc2VUZW5zb3I9YWUuYmEpKGQpLHIuX09ydENyZWF0ZVJ1bk9wdGlvbnM9KGQsbSx2LEMpPT4oci5fT3J0Q3JlYXRlUnVuT3B0aW9ucz1hZS5jYSkoZCxtLHYsQyksci5fT3J0QWRkUnVuQ29uZmlnRW50cnk9KGQsbSx2KT0+KHIuX09ydEFkZFJ1bkNvbmZpZ0VudHJ5PWFlLmRhKShkLG0sdiksci5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9ZD0+KHIuX09ydFJlbGVhc2VSdW5PcHRpb25zPWFlLmVhKShkKSxyLl9PcnRDcmVhdGVCaW5kaW5nPWQ9PihyLl9PcnRDcmVhdGVCaW5kaW5nPWFlLmZhKShkKSxyLl9PcnRCaW5kSW5wdXQ9KGQsbSx2KT0+KHIuX09ydEJpbmRJbnB1dD1hZS5nYSkoZCxtLHYpLHIuX09ydEJpbmRPdXRwdXQ9KGQsbSx2LEMpPT4oci5fT3J0QmluZE91dHB1dD1hZS5oYSkoZCxtLHYsQyksci5fT3J0Q2xlYXJCb3VuZE91dHB1dHM9ZD0+KHIuX09ydENsZWFyQm91bmRPdXRwdXRzPWFlLmlhKShkKSxyLl9PcnRSZWxlYXNlQmluZGluZz1kPT4oci5fT3J0UmVsZWFzZUJpbmRpbmc9YWUuamEpKGQpLHIuX09ydFJ1bldpdGhCaW5kaW5nPShkLG0sdixDLEIpPT4oci5fT3J0UnVuV2l0aEJpbmRpbmc9YWUua2EpKGQsbSx2LEMsQiksci5fT3J0UnVuPShkLG0sdixDLEIsSCxxLGxlKT0+KHIuX09ydFJ1bj1hZS5sYSkoZCxtLHYsQyxCLEgscSxsZSksci5fT3J0RW5kUHJvZmlsaW5nPWQ9PihyLl9PcnRFbmRQcm9maWxpbmc9YWUubWEpKGQpLHIuX0pzZXBPdXRwdXQ9KGQsbSx2KT0+KHIuX0pzZXBPdXRwdXQ9YWUubmEpKGQsbSx2KSxyLl9Kc2VwR2V0Tm9kZU5hbWU9ZD0+KHIuX0pzZXBHZXROb2RlTmFtZT1hZS5vYSkoZCk7dmFyIEp0PSgpPT4oSnQ9YWUucGEpKCksV3Q9ci5fbWFsbG9jPWQ9PihXdD1yLl9tYWxsb2M9YWUucWEpKGQpLGVyPXIuX2ZyZWU9ZD0+KGVyPXIuX2ZyZWU9YWUucmEpKGQpLHRyPWQ9Pih0cj1hZS50YSkoZCkscnI9KCk9Pihycj1hZS51YSkoKSxucj1kPT4obnI9YWUudmEpKGQpLG9yPWQ9Pihvcj1hZS53YSkoZCksYXI9ZD0+KGFyPWFlLnlhKShkKSxpcj0oKT0+KGlyPWFlLnphKSgpLHNyPWQ9Pihzcj1hZS5BYSkoZCksdXI9KCk9Pih1cj1hZS5CYSkoKTtyLl9fX3N0YXJ0X2VtX2pzPTk0MzEwMCxyLl9fX3N0b3BfZW1fanM9OTQzMjYxO2Z1bmN0aW9uIEFyKCl7dmFyIGQ9YWU7ZD1PYmplY3QuYXNzaWduKHt9LGQpO3ZhciBtPUM9PigpPT5DKCk+Pj4wLHY9Qz0+Qj0+QyhCKT4+PjA7cmV0dXJuIGQucGE9bShkLnBhKSxkLnFhPXYoZC5xYSksZC51YT1tKGQudWEpLGQud2E9dihkLndhKSxkfXIuc3RhY2tBbGxvYz1vcixyLnN0YWNrU2F2ZT1ycixyLnN0YWNrUmVzdG9yZT1ucixyLlVURjhUb1N0cmluZz1xZSxyLnN0cmluZ1RvVVRGOD0oZCxtLHYpPT5NdChkLFYsbSx2KSxyLmxlbmd0aEJ5dGVzVVRGOD1xdDt2YXIgeHQ7SWU9ZnVuY3Rpb24gZCgpe3h0fHxFdCgpLHh0fHwoSWU9ZCl9O2Z1bmN0aW9uIEV0KCl7aWYoISgwPFBlKSl7aWYoci5wcmVSdW4pZm9yKHR5cGVvZiByLnByZVJ1bj09ImZ1bmN0aW9uIiYmKHIucHJlUnVuPVtyLnByZVJ1bl0pO3IucHJlUnVuLmxlbmd0aDspe3ZhciBkPXIucHJlUnVuLnNoaWZ0KCk7US51bnNoaWZ0KGQpfWZvcig7MDxRLmxlbmd0aDspUS5zaGlmdCgpKHIpO2lmKCEoMDxQZXx8eHR8fCh4dD0hMCxyLmNhbGxlZFJ1bj0hMCxBKSkpe2Zvcig7MDxaLmxlbmd0aDspWi5zaGlmdCgpKHIpO2ZvcihvKHIpOzA8RWUubGVuZ3RoOylFZS5zaGlmdCgpKHIpfX19cmV0dXJuIEV0KCksdC5yZWFkeX19KSgpO3R5cGVvZiBDbz09Im9iamVjdCImJnR5cGVvZiB2bj09Im9iamVjdCI/dm4uZXhwb3J0cz1fbzp0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kJiZkZWZpbmUoW10sKCk9Pl9vKX0pO3ZhciBBbz1kcigoKT0+e30pO3ZhciBUbz1kcigoKT0+e30pO3ZhciBFbz17fTtCcihFbyx7Y3B1czooKT0+UXV9KTt2YXIgUXUsT289aigoKT0+e1F1PXZvaWQgMH0pO3ZhciBSbz1kcigoa28sJG4pPT57InVzZSBzdHJpY3QiO3ZhciBQbz0oKCk9Pnt2YXIgZT10eXBlb2YgZG9jdW1lbnQ8InUiJiZkb2N1bWVudC5jdXJyZW50U2NyaXB0P2RvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjOnZvaWQgMDtyZXR1cm4gdHlwZW9mIF9fZmlsZW5hbWU8InUiJiYoZT1lfHxfX2ZpbGVuYW1lKSxmdW5jdGlvbih0PXt9KXtmdW5jdGlvbiByKCl7cmV0dXJuIFEuYnVmZmVyIT1mZS5idWZmZXImJkdlKCksZmV9ZnVuY3Rpb24gbygpe3JldHVybiBRLmJ1ZmZlciE9ZmUuYnVmZmVyJiZHZSgpLEllfWZ1bmN0aW9uIG4oKXtyZXR1cm4gUS5idWZmZXIhPWZlLmJ1ZmZlciYmR2UoKSxoZX1mdW5jdGlvbiBzKCl7cmV0dXJuIFEuYnVmZmVyIT1mZS5idWZmZXImJkdlKCkseWV9ZnVuY3Rpb24gdSgpe3JldHVybiBRLmJ1ZmZlciE9ZmUuYnVmZmVyJiZHZSgpLFdlfWZ1bmN0aW9uIGwoKXtyZXR1cm4gUS5idWZmZXIhPWZlLmJ1ZmZlciYmR2UoKSxEZX12YXIgYT10LHAsaDthLnJlYWR5PW5ldyBQcm9taXNlKChpLGMpPT57cD1pLGg9Y30pLGEubW91bnRFeHRlcm5hbERhdGE9KGksYyk9PnsoYS5jYnx8KGEuY2I9bmV3IE1hcCkpLnNldChpLGMpfSxhLnVubW91bnRFeHRlcm5hbERhdGE9KCk9PntkZWxldGUgYS5jYn0sYS5qc2VwSW5pdD0oaSxjLGYsUyxPLEQsVyxpZSk9PnthLk1iPWksYS53Yj1jLGEueWI9ZixhLmtiPVMsYS54Yj1PLGEuRWE9RCxhLnpiPVcsYS5BYj1pZSxjPShuZSxvZSxwZSk9PiguLi54ZSk9PntsZXQgVGU9dXQsaz1vZT8uKCk7eGU9bmUoLi4ueGUpO2xldCBtZT1vZT8uKCk7cmV0dXJuIGshPT1tZSYmKG5lPW1lLHBlKGspLG9lPXBlPW51bGwpLHV0IT1UZT9NdSgpOnhlfSxmPW5lPT5hc3luYyguLi5vZSk9Pnt0cnl7aWYoYS5iYil0aHJvdyBFcnJvcigiU2Vzc2lvbiBhbHJlYWR5IHN0YXJ0ZWQiKTtsZXQgcGU9YS5iYj17Q2I6b2VbMF0sZXJyb3JzOltdfSx4ZT1hd2FpdCBuZSguLi5vZSk7aWYoYS5iYiE9PXBlKXRocm93IEVycm9yKCJTZXNzaW9uIG1pc21hdGNoIik7aS5mbHVzaCgpO2xldCBUZT1wZS5lcnJvcnM7aWYoMDxUZS5sZW5ndGgpe2xldCBrPWF3YWl0IFByb21pc2UuYWxsKFRlKTtpZihrPWsuZmlsdGVyKG1lPT5tZSksMDxrLmxlbmd0aCl0aHJvdyBFcnJvcihrLmpvaW4oYFxuYCkpfXJldHVybiB4ZX1maW5hbGx5e2EuYmI9bnVsbH19LGEuX09ydFJ1bj1mKGMoYS5fT3J0UnVuLCgpPT5hLl9PcnRSdW4sbmU9PmEuX09ydFJ1bj1uZSkpLGEuX09ydFJ1bldpdGhCaW5kaW5nPWYoYyhhLl9PcnRSdW5XaXRoQmluZGluZywoKT0+YS5fT3J0UnVuV2l0aEJpbmRpbmcsbmU9PmEuX09ydFJ1bldpdGhCaW5kaW5nPW5lKSksYS5fT3J0QmluZElucHV0PWMoYS5fT3J0QmluZElucHV0LCgpPT5hLl9PcnRCaW5kSW5wdXQsbmU9PmEuX09ydEJpbmRJbnB1dD1uZSksYS5qc2VwUmVnaXN0ZXJCdWZmZXI9KG5lLG9lLHBlLHhlKT0+aS5yZWdpc3RlckJ1ZmZlcihuZSxvZSxwZSx4ZSksYS5qc2VwVW5yZWdpc3RlckJ1ZmZlcnM9bmU9PntpLnVucmVnaXN0ZXJCdWZmZXJzKG5lKX0sYS5qc2VwR2V0QnVmZmVyPW5lPT5pLmdldEJ1ZmZlcihuZSksYS5qc2VwQ3JlYXRlRG93bmxvYWRlcj0obmUsb2UscGUpPT5pLmNyZWF0ZURvd25sb2FkZXIobmUsb2UscGUpfTt2YXIgZz1PYmplY3QuYXNzaWduKHt9LGEpLGI9Ii4vdGhpcy5wcm9ncmFtIix3PShpLGMpPT57dGhyb3cgY30seT10eXBlb2Ygd2luZG93PT0ib2JqZWN0IixfPXR5cGVvZiBpbXBvcnRTY3JpcHRzPT0iZnVuY3Rpb24iLEk9dHlwZW9mIHByb2Nlc3M9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU9PSJzdHJpbmciLCQ9YS5FTlZJUk9OTUVOVF9JU19QVEhSRUFEfHwhMSx4PSIiO2Z1bmN0aW9uIEUoaSl7cmV0dXJuIGEubG9jYXRlRmlsZT9hLmxvY2F0ZUZpbGUoaSx4KTp4K2l9dmFyIEEseixSO2lmKEkpe3ZhciBWPSh5bigpLEh0KGduKSksVD0od24oKSxIdChibikpO3g9Xz9ULmRpcm5hbWUoeCkrIi8iOl9fZGlybmFtZSsiLyIsQT0oYyxmKT0+KGM9QXQoYyk/bmV3IFVSTChjKTpULm5vcm1hbGl6ZShjKSxWLnJlYWRGaWxlU3luYyhjLGY/dm9pZCAwOiJ1dGY4IikpLFI9Yz0+KGM9QShjLCEwKSxjLmJ1ZmZlcnx8KGM9bmV3IFVpbnQ4QXJyYXkoYykpLGMpLHo9KGMsZixTLE89ITApPT57Yz1BdChjKT9uZXcgVVJMKGMpOlQubm9ybWFsaXplKGMpLFYucmVhZEZpbGUoYyxPP3ZvaWQgMDoidXRmOCIsKEQsVyk9PntEP1MoRCk6ZihPP1cuYnVmZmVyOlcpfSl9LCFhLnRoaXNQcm9ncmFtJiYxPHByb2Nlc3MuYXJndi5sZW5ndGgmJihiPXByb2Nlc3MuYXJndlsxXS5yZXBsYWNlKC9cXFxcL2csIi8iKSkscHJvY2Vzcy5hcmd2LnNsaWNlKDIpLHc9KGMsZik9Pnt0aHJvdyBwcm9jZXNzLmV4aXRDb2RlPWMsZn0sYS5pbnNwZWN0PSgpPT4iW0Vtc2NyaXB0ZW4gTW9kdWxlIG9iamVjdF0iO2xldCBpO3RyeXtpPUFvKCl9Y2F0Y2goYyl7dGhyb3cgY29uc29sZS5lcnJvcihcJ1RoZSAid29ya2VyX3RocmVhZHMiIG1vZHVsZSBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgbm9kZS5qcyBidWlsZCAtIHBlcmhhcHMgYSBuZXdlciB2ZXJzaW9uIGlzIG5lZWRlZD9cJyksY31nbG9iYWwuV29ya2VyPWkuV29ya2VyfWVsc2UoeXx8XykmJihfP3g9c2VsZi5sb2NhdGlvbi5ocmVmOnR5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQmJih4PWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjKSx0eXBlb2YgZTwidSImJmUmJih4PWUpLHguaW5kZXhPZigiYmxvYjoiKSE9PTA/eD14LnN1YnN0cigwLHgucmVwbGFjZSgvWz8jXS4qLywiIikubGFzdEluZGV4T2YoIi8iKSsxKTp4PSIiLEl8fChBPWk9Pnt2YXIgYz1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIGMub3BlbigiR0VUIixpLCExKSxjLnNlbmQobnVsbCksYy5yZXNwb25zZVRleHR9LF8mJihSPWk9Pnt2YXIgYz1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIGMub3BlbigiR0VUIixpLCExKSxjLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLGMuc2VuZChudWxsKSxuZXcgVWludDhBcnJheShjLnJlc3BvbnNlKX0pLHo9KGksYyxmKT0+e3ZhciBTPW5ldyBYTUxIdHRwUmVxdWVzdDtTLm9wZW4oIkdFVCIsaSwhMCksUy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixTLm9ubG9hZD0oKT0+e1Muc3RhdHVzPT0yMDB8fFMuc3RhdHVzPT0wJiZTLnJlc3BvbnNlP2MoUy5yZXNwb25zZSk6ZigpfSxTLm9uZXJyb3I9ZixTLnNlbmQobnVsbCl9KSk7SSYmdHlwZW9mIHBlcmZvcm1hbmNlPiJ1IiYmKGdsb2JhbC5wZXJmb3JtYW5jZT1UbygpLnBlcmZvcm1hbmNlKTt2YXIgTj1jb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLHRlPWNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlKTtJJiYoTj0oLi4uaSk9PlYud3JpdGVTeW5jKDEsaS5qb2luKCIgIikrYFxuYCksdGU9KC4uLmkpPT5WLndyaXRlU3luYygyLGkuam9pbigiICIpK2BcbmApKTt2YXIgWT1OLEs9dGU7T2JqZWN0LmFzc2lnbihhLGcpLGc9bnVsbCx0eXBlb2YgV2ViQXNzZW1ibHkhPSJvYmplY3QiJiZydCgibm8gbmF0aXZlIHdhc20gc3VwcG9ydCBkZXRlY3RlZCIpO3ZhciBRLFosRWU9ITEsUGUsZmUsSWUsaGUseWUsV2UsRGU7ZnVuY3Rpb24gR2UoKXt2YXIgaT1RLmJ1ZmZlcjthLkhFQVA4PWZlPW5ldyBJbnQ4QXJyYXkoaSksYS5IRUFQMTY9bmV3IEludDE2QXJyYXkoaSksYS5IRUFQVTg9SWU9bmV3IFVpbnQ4QXJyYXkoaSksYS5IRUFQVTE2PW5ldyBVaW50MTZBcnJheShpKSxhLkhFQVAzMj1oZT1uZXcgSW50MzJBcnJheShpKSxhLkhFQVBVMzI9eWU9bmV3IFVpbnQzMkFycmF5KGkpLGEuSEVBUEYzMj1XZT1uZXcgRmxvYXQzMkFycmF5KGkpLGEuSEVBUEY2ND1EZT1uZXcgRmxvYXQ2NEFycmF5KGkpfXZhciBHPTE2Nzc3MjE2O2lmKCQpUT1hLndhc21NZW1vcnk7ZWxzZSBpZihhLndhc21NZW1vcnkpUT1hLndhc21NZW1vcnk7ZWxzZSBpZihRPW5ldyBXZWJBc3NlbWJseS5NZW1vcnkoe2luaXRpYWw6Ry82NTUzNixtYXhpbXVtOjY1NTM2LHNoYXJlZDohMH0pLCEoUS5idWZmZXIgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcikpdGhyb3cgSygicmVxdWVzdGVkIGEgc2hhcmVkIFdlYkFzc2VtYmx5Lk1lbW9yeSBidXQgdGhlIHJldHVybmVkIGJ1ZmZlciBpcyBub3QgYSBTaGFyZWRBcnJheUJ1ZmZlciwgaW5kaWNhdGluZyB0aGF0IHdoaWxlIHRoZSBicm93c2VyIGhhcyBTaGFyZWRBcnJheUJ1ZmZlciBpdCBkb2VzIG5vdCBoYXZlIFdlYkFzc2VtYmx5IHRocmVhZHMgc3VwcG9ydCAtIHlvdSBtYXkgbmVlZCB0byBzZXQgYSBmbGFnIiksSSYmSygiKG9uIG5vZGUgeW91IG1heSBuZWVkOiAtLWV4cGVyaW1lbnRhbC13YXNtLXRocmVhZHMgLS1leHBlcmltZW50YWwtd2FzbS1idWxrLW1lbW9yeSBhbmQvb3IgcmVjZW50IHZlcnNpb24pIiksRXJyb3IoImJhZCBtZW1vcnkiKTtHZSgpLEc9US5idWZmZXIuYnl0ZUxlbmd0aDt2YXIgZWU9W10sYmU9W10sZXQ9W10semU9MCxVZT1udWxsLE1lPW51bGw7ZnVuY3Rpb24gd3QoKXtpZih6ZS0tLHplPT0wJiYoVWUhPT1udWxsJiYoY2xlYXJJbnRlcnZhbChVZSksVWU9bnVsbCksTWUpKXt2YXIgaT1NZTtNZT1udWxsLGkoKX19ZnVuY3Rpb24gcnQoaSl7dGhyb3cgaT0iQWJvcnRlZCgiK2krIikiLEsoaSksRWU9ITAsUGU9MSxpPW5ldyBXZWJBc3NlbWJseS5SdW50aW1lRXJyb3IoaSsiLiBCdWlsZCB3aXRoIC1zQVNTRVJUSU9OUyBmb3IgbW9yZSBpbmZvLiIpLGgoaSksaX12YXIgRHQ9aT0+aS5zdGFydHNXaXRoKCJkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsIiksQXQ9aT0+aS5zdGFydHNXaXRoKCJmaWxlOi8vIiksdnQ7dnQ9Im9ydC13YXNtLXNpbWQtdGhyZWFkZWQud2FzbSIsRHQodnQpfHwodnQ9RSh2dCkpO2Z1bmN0aW9uIHFlKGkpe2lmKFIpcmV0dXJuIFIoaSk7dGhyb3ciYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQifWZ1bmN0aW9uIHF0KGkpe2lmKHl8fF8pe2lmKHR5cGVvZiBmZXRjaD09ImZ1bmN0aW9uIiYmIUF0KGkpKXJldHVybiBmZXRjaChpLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbihjPT57aWYoIWMub2spdGhyb3ciZmFpbGVkIHRvIGxvYWQgd2FzbSBiaW5hcnkgZmlsZSBhdCBcJyIraSsiXCciO3JldHVybiBjLmFycmF5QnVmZmVyKCl9KS5jYXRjaCgoKT0+cWUoaSkpO2lmKHopcmV0dXJuIG5ldyBQcm9taXNlKChjLGYpPT57eihpLFM9PmMobmV3IFVpbnQ4QXJyYXkoUykpLGYpfSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCk9PnFlKGkpKX1mdW5jdGlvbiBNdChpLGMsZil7cmV0dXJuIHF0KGkpLnRoZW4oUz0+V2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoUyxjKSkudGhlbihTPT5TKS50aGVuKGYsUz0+e0soYGZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICR7U31gKSxydChTKX0pfWZ1bmN0aW9uICR0KGksYyl7dmFyIGY9dnQ7cmV0dXJuIHR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyE9ImZ1bmN0aW9uInx8RHQoZil8fEF0KGYpfHxJfHx0eXBlb2YgZmV0Y2ghPSJmdW5jdGlvbiI/TXQoZixpLGMpOmZldGNoKGYse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKFM9PldlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKFMsaSkudGhlbihjLGZ1bmN0aW9uKE8pe3JldHVybiBLKGB3YXNtIHN0cmVhbWluZyBjb21waWxlIGZhaWxlZDogJHtPfWApLEsoImZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uIiksTXQoZixpLGMpfSkpfXZhciB5dCx6dD17OTMyNDI4OihpLGMsZixTKT0+e2lmKHR5cGVvZiBhPiJ1Inx8IWEuY2IpcmV0dXJuIDE7aWYoaT1ZZShpPj4+MCksaS5zdGFydHNXaXRoKCIuLyIpJiYoaT1pLnN1YnN0cmluZygyKSksaT1hLmNiLmdldChpKSwhaSlyZXR1cm4gMjtpZihjPj4+PTAsZj4+Pj0wLFM+Pj49MCxjK2Y+aS5ieXRlTGVuZ3RoKXJldHVybiAzO3RyeXtyZXR1cm4gbygpLnNldChpLnN1YmFycmF5KGMsYytmKSxTPj4+MCksMH1jYXRjaHtyZXR1cm4gNH19LDkzMjkyOTppPT5hLndiKGkpLDkzMjk2MjppPT5hLnliKGkpLDkzMjk5NDooaSxjLGYpPT57YS5rYihpLGMsZiwhMCl9LDkzMzAzMzooaSxjLGYpPT57YS5rYihpLGMsZil9LDkzMzA2NjppPT57YS5FYSgiQWJzIixpLHZvaWQgMCl9LDkzMzExNzppPT57YS5FYSgiTmVnIixpLHZvaWQgMCl9LDkzMzE2ODppPT57YS5FYSgiRmxvb3IiLGksdm9pZCAwKX0sOTMzMjIxOmk9PnthLkVhKCJDZWlsIixpLHZvaWQgMCl9LDkzMzI3MzppPT57YS5FYSgiUmVjaXByb2NhbCIsaSx2b2lkIDApfSw5MzMzMzE6aT0+e2EuRWEoIlNxcnQiLGksdm9pZCAwKX0sOTMzMzgzOmk9PnthLkVhKCJFeHAiLGksdm9pZCAwKX0sOTMzNDM0Omk9PnthLkVhKCJFcmYiLGksdm9pZCAwKX0sOTMzNDg1Omk9PnthLkVhKCJTaWdtb2lkIixpLHZvaWQgMCl9LDkzMzU0MDppPT57YS5FYSgiTG9nIixpLHZvaWQgMCl9LDkzMzU5MTppPT57YS5FYSgiU2luIixpLHZvaWQgMCl9LDkzMzY0MjppPT57YS5FYSgiQ29zIixpLHZvaWQgMCl9LDkzMzY5MzppPT57YS5FYSgiVGFuIixpLHZvaWQgMCl9LDkzMzc0NDppPT57YS5FYSgiQXNpbiIsaSx2b2lkIDApfSw5MzM3OTY6aT0+e2EuRWEoIkFjb3MiLGksdm9pZCAwKX0sOTMzODQ4Omk9PnthLkVhKCJBdGFuIixpLHZvaWQgMCl9LDkzMzkwMDppPT57YS5FYSgiU2luaCIsaSx2b2lkIDApfSw5MzM5NTI6aT0+e2EuRWEoIkNvc2giLGksdm9pZCAwKX0sOTM0MDA0Omk9PnthLkVhKCJBc2luaCIsaSx2b2lkIDApfSw5MzQwNTc6aT0+e2EuRWEoIkFjb3NoIixpLHZvaWQgMCl9LDkzNDExMDppPT57YS5FYSgiQXRhbmgiLGksdm9pZCAwKX0sOTM0MTYzOmk9PnthLkVhKCJUYW5oIixpLHZvaWQgMCl9LDkzNDIxNTppPT57YS5FYSgiTm90IixpLHZvaWQgMCl9LDkzNDI2NjooaSxjLGYpPT57YS5FYSgiQ2xpcCIsaSx7bWluOmMsbWF4OmZ9KX0sOTM0MzM1Omk9PnthLkVhKCJDbGlwIixpLHZvaWQgMCl9LDkzNDM4NzooaSxjKT0+e2EuRWEoIkVsdSIsaSx7YWxwaGE6Y30pfSw5MzQ0NDU6aT0+e2EuRWEoIlJlbHUiLGksdm9pZCAwKX0sOTM0NDk3OihpLGMpPT57YS5FYSgiTGVha3lSZWx1IixpLHthbHBoYTpjfSl9LDkzNDU2MTooaSxjKT0+e2EuRWEoIlRocmVzaG9sZGVkUmVsdSIsaSx7YWxwaGE6Y30pfSw5MzQ2MzE6KGksYyk9PnthLkVhKCJDYXN0IixpLHt0bzpjfSl9LDkzNDY4OTppPT57YS5FYSgiQWRkIixpLHZvaWQgMCl9LDkzNDc0MDppPT57YS5FYSgiU3ViIixpLHZvaWQgMCl9LDkzNDc5MTppPT57YS5FYSgiTXVsIixpLHZvaWQgMCl9LDkzNDg0MjppPT57YS5FYSgiRGl2IixpLHZvaWQgMCl9LDkzNDg5MzppPT57YS5FYSgiUG93IixpLHZvaWQgMCl9LDkzNDk0NDppPT57YS5FYSgiRXF1YWwiLGksdm9pZCAwKX0sOTM0OTk3Omk9PnthLkVhKCJHcmVhdGVyIixpLHZvaWQgMCl9LDkzNTA1MjppPT57YS5FYSgiR3JlYXRlck9yRXF1YWwiLGksdm9pZCAwKX0sOTM1MTE0Omk9PnthLkVhKCJMZXNzIixpLHZvaWQgMCl9LDkzNTE2NjppPT57YS5FYSgiTGVzc09yRXF1YWwiLGksdm9pZCAwKX0sOTM1MjI1OihpLGMsZixTLE8pPT57YS5FYSgiUmVkdWNlTWVhbiIsaSx7a2VlcERpbXM6ISFjLG5vb3BXaXRoRW1wdHlBeGVzOiEhZixheGVzOlM/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoUz4+PjAsTz4+PjApKTpbXX0pfSw5MzUzODQ6KGksYyxmLFMsTyk9PnthLkVhKCJSZWR1Y2VNYXgiLGkse2tlZXBEaW1zOiEhYyxub29wV2l0aEVtcHR5QXhlczohIWYsYXhlczpTP0FycmF5LmZyb20obigpLnN1YmFycmF5KFM+Pj4wLE8+Pj4wKSk6W119KX0sOTM1NTQyOihpLGMsZixTLE8pPT57YS5FYSgiUmVkdWNlTWluIixpLHtrZWVwRGltczohIWMsbm9vcFdpdGhFbXB0eUF4ZXM6ISFmLGF4ZXM6Uz9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShTPj4+MCxPPj4+MCkpOltdfSl9LDkzNTcwMDooaSxjLGYsUyxPKT0+e2EuRWEoIlJlZHVjZVByb2QiLGkse2tlZXBEaW1zOiEhYyxub29wV2l0aEVtcHR5QXhlczohIWYsYXhlczpTP0FycmF5LmZyb20obigpLnN1YmFycmF5KFM+Pj4wLE8+Pj4wKSk6W119KX0sOTM1ODU5OihpLGMsZixTLE8pPT57YS5FYSgiUmVkdWNlU3VtIixpLHtrZWVwRGltczohIWMsbm9vcFdpdGhFbXB0eUF4ZXM6ISFmLGF4ZXM6Uz9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShTPj4+MCxPPj4+MCkpOltdfSl9LDkzNjAxNzooaSxjLGYsUyxPKT0+e2EuRWEoIlJlZHVjZUwxIixpLHtrZWVwRGltczohIWMsbm9vcFdpdGhFbXB0eUF4ZXM6ISFmLGF4ZXM6Uz9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShTPj4+MCxPPj4+MCkpOltdfSl9LDkzNjE3NDooaSxjLGYsUyxPKT0+e2EuRWEoIlJlZHVjZUwyIixpLHtrZWVwRGltczohIWMsbm9vcFdpdGhFbXB0eUF4ZXM6ISFmLGF4ZXM6Uz9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShTPj4+MCxPPj4+MCkpOltdfSl9LDkzNjMzMTooaSxjLGYsUyxPKT0+e2EuRWEoIlJlZHVjZUxvZ1N1bSIsaSx7a2VlcERpbXM6ISFjLG5vb3BXaXRoRW1wdHlBeGVzOiEhZixheGVzOlM/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoUz4+PjAsTz4+PjApKTpbXX0pfSw5MzY0OTI6KGksYyxmLFMsTyk9PnthLkVhKCJSZWR1Y2VTdW1TcXVhcmUiLGkse2tlZXBEaW1zOiEhYyxub29wV2l0aEVtcHR5QXhlczohIWYsYXhlczpTP0FycmF5LmZyb20obigpLnN1YmFycmF5KFM+Pj4wLE8+Pj4wKSk6W119KX0sOTM2NjU2OihpLGMsZixTLE8pPT57YS5FYSgiUmVkdWNlTG9nU3VtRXhwIixpLHtrZWVwRGltczohIWMsbm9vcFdpdGhFbXB0eUF4ZXM6ISFmLGF4ZXM6Uz9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShTPj4+MCxPPj4+MCkpOltdfSl9LDkzNjgyMDppPT57YS5FYSgiV2hlcmUiLGksdm9pZCAwKX0sOTM2ODczOihpLGMsZik9PnthLkVhKCJUcmFuc3Bvc2UiLGkse3Blcm06Yz9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShjPj4+MCxmPj4+MCkpOltdfSl9LDkzNjk4MTooaSxjLGYsUyxPLEQsVyxpZSxuZSxvZSxwZSx4ZSxUZSxrLG1lKT0+e2EuRWEoIkNvbnZUcmFuc3Bvc2UiLGkse2Zvcm1hdDpuZT8iTkhXQyI6Ik5DSFciLGF1dG9QYWQ6YyxkaWxhdGlvbnM6W2ZdLGdyb3VwOlMsa2VybmVsX3NoYXBlOltPXSxwYWRzOltELFddLHN0cmlkZXM6W2llXSx3SXNDb25zdDooKT0+ISFyKClbb2U+Pj4wXSxvdXRwdXRQYWRkaW5nOnBlP0FycmF5LmZyb20obigpLnN1YmFycmF5KHBlPj4+MCx4ZT4+PjApKTpbXSxvdXRwdXRTaGFwZTpUZT9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShUZT4+PjAsaz4+PjApKTpbXSxhY3RpdmF0aW9uOlllKG1lKX0pfSw5MzczODM6KGksYyxmLFMsTyxELFcsaWUsbmUsb2UscGUseGUsVGUsayk9PnthLkVhKCJDb252VHJhbnNwb3NlIixpLHtmb3JtYXQ6aWU/Ik5IV0MiOiJOQ0hXIixhdXRvUGFkOmMsZGlsYXRpb25zOkFycmF5LmZyb20obigpLnN1YmFycmF5KGY+Pj4wLChmPj4+MCkrMj4+PjApKSxncm91cDpTLGtlcm5lbFNoYXBlOkFycmF5LmZyb20obigpLnN1YmFycmF5KE8+Pj4wLChPPj4+MCkrMj4+PjApKSxwYWRzOkFycmF5LmZyb20obigpLnN1YmFycmF5KEQ+Pj4wLChEPj4+MCkrND4+PjApKSxzdHJpZGVzOkFycmF5LmZyb20obigpLnN1YmFycmF5KFc+Pj4wLChXPj4+MCkrMj4+PjApKSx3SXNDb25zdDooKT0+ISFyKClbbmU+Pj4wXSxvdXRwdXRQYWRkaW5nOm9lP0FycmF5LmZyb20obigpLnN1YmFycmF5KG9lPj4+MCxwZT4+PjApKTpbXSxvdXRwdXRTaGFwZTp4ZT9BcnJheS5mcm9tKG4oKS5zdWJhcnJheSh4ZT4+PjAsVGU+Pj4wKSk6W10sYWN0aXZhdGlvbjpZZShrKX0pfSw5Mzc5NDg6KGksYyxmLFMsTyxELFcsaWUsbmUsb2UscGUseGUsVGUsayxtZSk9PnthLkVhKCJDb252VHJhbnNwb3NlIixpLHtmb3JtYXQ6bmU/Ik5IV0MiOiJOQ0hXIixhdXRvUGFkOmMsZGlsYXRpb25zOltmXSxncm91cDpTLGtlcm5lbF9zaGFwZTpbT10scGFkczpbRCxXXSxzdHJpZGVzOltpZV0sd0lzQ29uc3Q6KCk9PiEhcigpW29lPj4+MF0sb3V0cHV0UGFkZGluZzpwZT9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShwZT4+PjAseGU+Pj4wKSk6W10sb3V0cHV0U2hhcGU6VGU/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoVGU+Pj4wLGs+Pj4wKSk6W10sYWN0aXZhdGlvbjpZZShtZSl9KX0sOTM4MzUwOihpLGMsZixTLE8sRCxXLGllLG5lLG9lLHBlLHhlLFRlLGspPT57YS5FYSgiQ29udlRyYW5zcG9zZSIsaSx7Zm9ybWF0OmllPyJOSFdDIjoiTkNIVyIsYXV0b1BhZDpjLGRpbGF0aW9uczpBcnJheS5mcm9tKG4oKS5zdWJhcnJheShmPj4+MCwoZj4+PjApKzI+Pj4wKSksZ3JvdXA6UyxrZXJuZWxTaGFwZTpBcnJheS5mcm9tKG4oKS5zdWJhcnJheShPPj4+MCwoTz4+PjApKzI+Pj4wKSkscGFkczpBcnJheS5mcm9tKG4oKS5zdWJhcnJheShEPj4+MCwoRD4+PjApKzQ+Pj4wKSksc3RyaWRlczpBcnJheS5mcm9tKG4oKS5zdWJhcnJheShXPj4+MCwoVz4+PjApKzI+Pj4wKSksd0lzQ29uc3Q6KCk9PiEhcigpW25lPj4+MF0sb3V0cHV0UGFkZGluZzpvZT9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShvZT4+PjAscGU+Pj4wKSk6W10sb3V0cHV0U2hhcGU6eGU/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoeGU+Pj4wLFRlPj4+MCkpOltdLGFjdGl2YXRpb246WWUoayl9KX0sOTM4OTE1OihpLGMpPT57YS5FYSgiR2xvYmFsQXZlcmFnZVBvb2wiLGkse2Zvcm1hdDpjPyJOSFdDIjoiTkNIVyJ9KX0sOTM5MDA2OihpLGMsZixTLE8sRCxXLGllLG5lLG9lLHBlLHhlLFRlLGssbWUsQ2UpPT57YS5FYSgiQXZlcmFnZVBvb2wiLGkse2Zvcm1hdDpDZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOmMsY2VpbF9tb2RlOmYsY291bnRfaW5jbHVkZV9wYWQ6UyxzdG9yYWdlX29yZGVyOk8sZGlsYXRpb25zOltELFddLGtlcm5lbF9zaGFwZTpbaWUsbmVdLHBhZHM6W29lLHBlLHhlLFRlXSxzdHJpZGVzOltrLG1lXX0pfSw5MzkyOTA6KGksYyk9PnthLkVhKCJHbG9iYWxBdmVyYWdlUG9vbCIsaSx7Zm9ybWF0OmM/Ik5IV0MiOiJOQ0hXIn0pfSw5MzkzODE6KGksYyxmLFMsTyxELFcsaWUsbmUsb2UscGUseGUsVGUsayxtZSxDZSk9PnthLkVhKCJBdmVyYWdlUG9vbCIsaSx7Zm9ybWF0OkNlPyJOSFdDIjoiTkNIVyIsYXV0b19wYWQ6YyxjZWlsX21vZGU6Zixjb3VudF9pbmNsdWRlX3BhZDpTLHN0b3JhZ2Vfb3JkZXI6TyxkaWxhdGlvbnM6W0QsV10sa2VybmVsX3NoYXBlOltpZSxuZV0scGFkczpbb2UscGUseGUsVGVdLHN0cmlkZXM6W2ssbWVdfSl9LDkzOTY2NTooaSxjKT0+e2EuRWEoIkdsb2JhbE1heFBvb2wiLGkse2Zvcm1hdDpjPyJOSFdDIjoiTkNIVyJ9KX0sOTM5NzUyOihpLGMsZixTLE8sRCxXLGllLG5lLG9lLHBlLHhlLFRlLGssbWUsQ2UpPT57YS5FYSgiTWF4UG9vbCIsaSx7Zm9ybWF0OkNlPyJOSFdDIjoiTkNIVyIsYXV0b19wYWQ6YyxjZWlsX21vZGU6Zixjb3VudF9pbmNsdWRlX3BhZDpTLHN0b3JhZ2Vfb3JkZXI6TyxkaWxhdGlvbnM6W0QsV10sa2VybmVsX3NoYXBlOltpZSxuZV0scGFkczpbb2UscGUseGUsVGVdLHN0cmlkZXM6W2ssbWVdfSl9LDk0MDAzMjooaSxjKT0+e2EuRWEoIkdsb2JhbE1heFBvb2wiLGkse2Zvcm1hdDpjPyJOSFdDIjoiTkNIVyJ9KX0sOTQwMTE5OihpLGMsZixTLE8sRCxXLGllLG5lLG9lLHBlLHhlLFRlLGssbWUsQ2UpPT57YS5FYSgiTWF4UG9vbCIsaSx7Zm9ybWF0OkNlPyJOSFdDIjoiTkNIVyIsYXV0b19wYWQ6YyxjZWlsX21vZGU6Zixjb3VudF9pbmNsdWRlX3BhZDpTLHN0b3JhZ2Vfb3JkZXI6TyxkaWxhdGlvbnM6W0QsV10sa2VybmVsX3NoYXBlOltpZSxuZV0scGFkczpbb2UscGUseGUsVGVdLHN0cmlkZXM6W2ssbWVdfSl9LDk0MDM5OTooaSxjLGYsUyxPKT0+e2EuRWEoIkdlbW0iLGkse2FscGhhOmMsYmV0YTpmLHRyYW5zQTpTLHRyYW5zQjpPfSl9LDk0MDUwMzppPT57YS5FYSgiTWF0TXVsIixpLHZvaWQgMCl9LDk0MDU1NzooaSxjLGYsUyk9PnthLkVhKCJBcmdNYXgiLGkse2tlZXBEaW1zOiEhYyxzZWxlY3RMYXN0SW5kZXg6ISFmLGF4aXM6U30pfSw5NDA2NjU6KGksYyxmLFMpPT57YS5FYSgiQXJnTWluIixpLHtrZWVwRGltczohIWMsc2VsZWN0TGFzdEluZGV4OiEhZixheGlzOlN9KX0sOTQwNzczOihpLGMpPT57YS5FYSgiU29mdG1heCIsaSx7YXhpczpjfSl9LDk0MDgzNjooaSxjKT0+e2EuRWEoIkNvbmNhdCIsaSx7YXhpczpjfSl9LDk0MDg5NjooaSxjLGYsUyxPKT0+e2EuRWEoIlNwbGl0IixpLHtheGlzOmMsbnVtT3V0cHV0czpmLHNwbGl0U2l6ZXM6Uz9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShTPj4+MCxPPj4+MCkpOltdfSl9LDk0MTAzNjppPT57YS5FYSgiRXhwYW5kIixpLHZvaWQgMCl9LDk0MTA5MDooaSxjKT0+e2EuRWEoIkdhdGhlciIsaSx7YXhpczpOdW1iZXIoYyl9KX0sOTQxMTYxOihpLGMpPT57YS5FYSgiR2F0aGVyRWxlbWVudHMiLGkse2F4aXM6TnVtYmVyKGMpfSl9LDk0MTI0MDooaSxjLGYsUyxPLEQsVyxpZSxuZSxvZSxwZSk9PnthLkVhKCJSZXNpemUiLGkse2FudGlhbGlhczpjLGF4ZXM6Zj9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShmPj4+MCxTPj4+MCkpOltdLGNvb3JkaW5hdGVUcmFuc2Zvcm1Nb2RlOlllKE8pLGN1YmljQ29lZmZBOkQsZXhjbHVkZU91dHNpZGU6VyxleHRyYXBvbGF0aW9uVmFsdWU6aWUsa2VlcEFzcGVjdFJhdGlvUG9saWN5OlllKG5lKSxtb2RlOlllKG9lKSxuZWFyZXN0TW9kZTpZZShwZSl9KX0sOTQxNTg2OihpLGMsZixTLE8sRCxXKT0+e2EuRWEoIlNsaWNlIixpLHtzdGFydHM6Yz9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShjPj4+MCxmPj4+MCkpOltdLGVuZHM6Uz9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShTPj4+MCxPPj4+MCkpOltdLGF4ZXM6RD9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShEPj4+MCxXPj4+MCkpOltdfSl9LDk0MTgwMjppPT57YS5FYSgiVGlsZSIsaSx2b2lkIDApfSw5NDE4NTQ6KGksYyxmKT0+e2EuRWEoIkxheWVyTm9ybWFsaXphdGlvbiIsaSx7YXhpczpOdW1iZXIoYyksZXBzaWxvbjpOdW1iZXIoZil9KX0sOTQxOTYxOihpLGMsZik9PnthLkVhKCJJbnN0YW5jZU5vcm1hbGl6YXRpb24iLGkse2Vwc2lsb246Yyxmb3JtYXQ6Zj8iTkhXQyI6Ik5DSFcifSl9LDk0MjA3NTooaSxjLGYpPT57YS5FYSgiSW5zdGFuY2VOb3JtYWxpemF0aW9uIixpLHtlcHNpbG9uOmMsZm9ybWF0OmY/Ik5IV0MiOiJOQ0hXIn0pfSw5NDIxODk6aT0+e2EuRWEoIlJhbmdlIixpLHZvaWQgMCl9LDk0MjI0MjooaSxjKT0+e2EuRWEoIkVpbnN1bSIsaSx7ZXF1YXRpb246WWUoYyl9KX0sOTQyMzIzOihpLGMsZixTLE8pPT57YS5FYSgiUGFkIixpLHttb2RlOmMsdmFsdWU6ZixwYWRzOlM/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoUz4+PjAsTz4+PjApKTpbXX0pfSw5NDI0NTA6KGksYyxmLFMsTyxEKT0+e2EuRWEoIkJhdGNoTm9ybWFsaXphdGlvbiIsaSx7ZXBzaWxvbjpjLG1vbWVudHVtOmYsc3BhdGlhbDohIU8sdHJhaW5pbmdNb2RlOiEhUyxmb3JtYXQ6RD8iTkhXQyI6Ik5DSFcifSl9LDk0MjYxOTooaSxjLGYsUyxPLEQpPT57YS5FYSgiQmF0Y2hOb3JtYWxpemF0aW9uIixpLHtlcHNpbG9uOmMsbW9tZW50dW06ZixzcGF0aWFsOiEhTyx0cmFpbmluZ01vZGU6ISFTLGZvcm1hdDpEPyJOSFdDIjoiTkNIVyJ9KX0sOTQyNzg4OihpLGMsZik9PnthLkVhKCJDdW1TdW0iLGkse2V4Y2x1c2l2ZTpOdW1iZXIoYykscmV2ZXJzZTpOdW1iZXIoZil9KX0sOTQyODg1OihpLGMsZixTLE8sRCxXLGllLG5lKT0+e2EuRWEoIkF0dGVudGlvbiIsaSx7bnVtSGVhZHM6Yyxpc1VuaWRpcmVjdGlvbmFsOmYsbWFza0ZpbHRlclZhbHVlOlMsc2NhbGU6Tyxkb1JvdGFyeTpELHFrdkhpZGRlblNpemVzOlc/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoTnVtYmVyKGllKT4+PjAsTnVtYmVyKGllKStXPj4+MCkpOltdLHBhc3RQcmVzZW50U2hhcmVCdWZmZXI6ISFuZX0pfSw5NDMxNTc6aT0+e2EuRWEoIkdlbHUiLGksdm9pZCAwKX0sOTQzMjA5OihpLGMsZixTLE8sRCk9PnthLkVhKCJNdWx0aUhlYWRBdHRlbnRpb24iLGkse251bUhlYWRzOmMsaXNVbmlkaXJlY3Rpb25hbDpmLG1hc2tGaWx0ZXJWYWx1ZTpTLHNjYWxlOk8sZG9Sb3Rhcnk6RH0pfSw5NDMzNjg6aT0+e2EuRWEoIkJpYXNBZGQiLGksdm9pZCAwKX0sOTQzNDIzOmk9PnthLkVhKCJCaWFzU3BsaXRHZWx1IixpLHZvaWQgMCl9LDk0MzQ4NDooaSxjKT0+e2EuRWEoIlNraXBMYXllck5vcm1hbGl6YXRpb24iLGkse2Vwc2lsb246Y30pfSw5NDM1NjU6KGksYyxmLFMsTyxELFcsaWUsbmUsb2UscGUseGUsVGUpPT57YS5FYSgiQ29udiIsaSx7Zm9ybWF0Om5lPyJOSFdDIjoiTkNIVyIsYXV0b19wYWQ6YyxkaWxhdGlvbnM6W2ZdLGdyb3VwOlMsa2VybmVsX3NoYXBlOltPXSxwYWRzOkQ/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoRD4+PjAsVz4+PjApKTpbXSxzdHJpZGVzOltpZV0sd19pc19jb25zdDooKT0+ISFyKClbb2U+Pj4wXSxhY3RpdmF0aW9uOlllKHBlKSxhY3RpdmF0aW9uX3BhcmFtczp4ZT9BcnJheS5mcm9tKHUoKS5zdWJhcnJheSh4ZT4+PjAsVGU+Pj4wKSk6W119KX0sOTQzOTM1OihpLGMsZixTLE8sRCxXLGllLG5lLG9lLHBlLHhlLFRlLGssbWUsQ2UpPT57YS5FYSgiQ29udiIsaSx7Zm9ybWF0OnhlPyJOSFdDIjoiTkNIVyIsYXV0b19wYWQ6YyxkaWxhdGlvbnM6W2YsU10sZ3JvdXA6TyxrZXJuZWxfc2hhcGU6W0QsV10scGFkczppZT9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShpZT4+PjAsbmU+Pj4wKSk6W10sc3RyaWRlczpbb2UscGVdLHdfaXNfY29uc3Q6KCk9PiEhcigpW1RlPj4+MF0sYWN0aXZhdGlvbjpZZShrKSxhY3RpdmF0aW9uX3BhcmFtczptZT9BcnJheS5mcm9tKHUoKS5zdWJhcnJheShtZT4+PjAsQ2U+Pj4wKSk6W119KX0sOTQ0MzI2Omk9PnthLnpiKGkpfSw5NDQzNjA6KGksYyk9PmEuQWIoaSxjLGEuYmIuQ2IsYS5iYi5lcnJvcnMpfTtmdW5jdGlvbiBVdChpKXt0aGlzLm5hbWU9IkV4aXRTdGF0dXMiLHRoaXMubWVzc2FnZT1gUHJvZ3JhbSB0ZXJtaW5hdGVkIHdpdGggZXhpdCgke2l9KWAsdGhpcy5zdGF0dXM9aX12YXIgVHQ9aT0+e2kudGVybWluYXRlKCksaS5vbm1lc3NhZ2U9KCk9Pnt9fSxLdD1pPT57ZGUuWWEubGVuZ3RoPT0wJiYob3QoKSxkZS5sYihkZS5ZYVswXSkpO3ZhciBjPWRlLllhLnBvcCgpO2lmKCFjKXJldHVybiA2O2RlLlphLnB1c2goYyksZGUuUWFbaS5YYV09YyxjLlhhPWkuWGE7dmFyIGY9e2NtZDoicnVuIixzdGFydF9yb3V0aW5lOmkuRGIsYXJnOmkudGIscHRocmVhZF9wdHI6aS5YYX07cmV0dXJuIEkmJmMudW5yZWYoKSxjLnBvc3RNZXNzYWdlKGYsaS5KYiksMH0sbnQ9MCxZdD10eXBlb2YgVGV4dERlY29kZXI8InUiP25ldyBUZXh0RGVjb2RlcigidXRmOCIpOnZvaWQgMCxWdD0oaSxjLGYpPT57Yz4+Pj0wO3ZhciBTPWMrZjtmb3IoZj1jO2lbZl0mJiEoZj49Uyk7KSsrZjtpZigxNjxmLWMmJmkuYnVmZmVyJiZZdClyZXR1cm4gWXQuZGVjb2RlKGkuYnVmZmVyIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXI/aS5zbGljZShjLGYpOmkuc3ViYXJyYXkoYyxmKSk7Zm9yKFM9IiI7YzxmOyl7dmFyIE89aVtjKytdO2lmKE8mMTI4KXt2YXIgRD1pW2MrK10mNjM7aWYoKE8mMjI0KT09MTkyKVMrPVN0cmluZy5mcm9tQ2hhckNvZGUoKE8mMzEpPDw2fEQpO2Vsc2V7dmFyIFc9aVtjKytdJjYzO089KE8mMjQwKT09MjI0PyhPJjE1KTw8MTJ8RDw8NnxXOihPJjcpPDwxOHxEPDwxMnxXPDw2fGlbYysrXSY2Myw2NTUzNj5PP1MrPVN0cmluZy5mcm9tQ2hhckNvZGUoTyk6KE8tPTY1NTM2LFMrPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8Tz4+MTAsNTYzMjB8TyYxMDIzKSl9fWVsc2UgUys9U3RyaW5nLmZyb21DaGFyQ29kZShPKX1yZXR1cm4gU30sWWU9KGksYyk9PihpPj4+PTApP1Z0KG8oKSxpLGMpOiIiLGJyPWk9Pnt2YXIgYz1tbigpO3JldHVybiBpPWkoKSxrcihjKSxpfTtmdW5jdGlvbiBPZShpLGMpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgtMixTPWFyZ3VtZW50cztyZXR1cm4gYnIoKCk9Pntmb3IodmFyIE89Zm4oOCpmKSxEPU8+Pj4zLFc9MDtXPGY7VysrKXt2YXIgaWU9U1syK1ddO2woKVtEK1c+Pj4wXT1pZX1yZXR1cm4gcG8oaSxmLE8sYyl9KX1mdW5jdGlvbiB3cihpKXtpZigkKXJldHVybiBPZSgwLDEsaSk7UGU9aSwwPG50fHwoZGUuRWIoKSxhLm9uRXhpdD8uKGkpLEVlPSEwKSx3KGksbmV3IFV0KGkpKX12YXIgTnQ9aT0+e2lmKFBlPWksJCl0aHJvdyBadChpKSwidW53aW5kIjt3cihpKX0sU3Q9aT0+e2kgaW5zdGFuY2VvZiBVdHx8aT09InVud2luZCJ8fHcoMSxpKX07ZnVuY3Rpb24gdW4oKXtmb3IodmFyIGk9YS5udW1UaHJlYWRzO2ktLTspb3QoKTtlZS51bnNoaWZ0KCgpPT57emUrKyx0dCgoKT0+d3QoKSl9KX1mdW5jdGlvbiBvdCgpe3ZhciBpPUUoIm9ydC13YXNtLXNpbWQtdGhyZWFkZWQud29ya2VyLmpzIik7aT1uZXcgV29ya2VyKGkpLGRlLllhLnB1c2goaSl9ZnVuY3Rpb24gdHQoaSl7JD9pKCk6UHJvbWlzZS5hbGwoZGUuWWEubWFwKGRlLmxiKSkudGhlbihpKX12YXIgZGU9e1lhOltdLFphOltdLHBiOltdLFFhOnt9LGhiKCl7JD8oZGUucmVjZWl2ZU9iamVjdFRyYW5zZmVyPWRlLkJiLGRlLnRocmVhZEluaXRUTFM9ZGUub2IsZGUuc2V0RXhpdFN0YXR1cz1kZS5uYik6dW4oKX0sbmI6aT0+UGU9aSxOYjpbIiR0ZXJtaW5hdGVXb3JrZXIiXSxFYjooKT0+e2Zvcih2YXIgaSBvZiBkZS5aYSlUdChpKTtmb3IoaSBvZiBkZS5ZYSlUdChpKTtkZS5ZYT1bXSxkZS5aYT1bXSxkZS5RYT1bXX0sbWI6aT0+e3ZhciBjPWkuWGE7ZGVsZXRlIGRlLlFhW2NdLGRlLllhLnB1c2goaSksZGUuWmEuc3BsaWNlKGRlLlphLmluZGV4T2YoaSksMSksaS5YYT0wLGNuKGMpfSxCYigpe30sb2IoKXtkZS5wYi5mb3JFYWNoKGk9PmkoKSl9LGxiOmk9Pm5ldyBQcm9taXNlKGM9PntpLm9ubWVzc2FnZT1EPT57RD1ELmRhdGE7dmFyIFc9RC5jbWQ7aWYoRC50YXJnZXRUaHJlYWQmJkQudGFyZ2V0VGhyZWFkIT1QcigpKXt2YXIgaWU9ZGUuUWFbRC50YXJnZXRUaHJlYWRdO2llP2llLnBvc3RNZXNzYWdlKEQsRC50cmFuc2Zlckxpc3QpOksoYEludGVybmFsIGVycm9yISBXb3JrZXIgc2VudCBhIG1lc3NhZ2UgIiR7V30iIHRvIHRhcmdldCBwdGhyZWFkICR7RC50YXJnZXRUaHJlYWR9LCBidXQgdGhhdCB0aHJlYWQgbm8gbG9uZ2VyIGV4aXN0cyFgKX1lbHNlIFc9PT0iY2hlY2tNYWlsYm94Ij9FdCgpOlc9PT0ic3Bhd25UaHJlYWQiP0t0KEQpOlc9PT0iY2xlYW51cFRocmVhZCI/ZGUubWIoZGUuUWFbRC50aHJlYWRdKTpXPT09ImtpbGxUaHJlYWQiPyhEPUQudGhyZWFkLFc9ZGUuUWFbRF0sZGVsZXRlIGRlLlFhW0RdLFR0KFcpLGNuKEQpLGRlLlphLnNwbGljZShkZS5aYS5pbmRleE9mKFcpLDEpLFcuWGE9MCk6Vz09PSJjYW5jZWxUaHJlYWQiP2RlLlFhW0QudGhyZWFkXS5wb3N0TWVzc2FnZSh7Y21kOiJjYW5jZWwifSk6Vz09PSJsb2FkZWQiPyhpLmxvYWRlZD0hMCxJJiYhaS5YYSYmaS51bnJlZigpLGMoaSkpOlc9PT0iYWxlcnQiP2FsZXJ0KGBUaHJlYWQgJHtELnRocmVhZElkfTogJHtELnRleHR9YCk6RC50YXJnZXQ9PT0ic2V0aW1tZWRpYXRlIj9pLnBvc3RNZXNzYWdlKEQpOlc9PT0iY2FsbEhhbmRsZXIiP2FbRC5oYW5kbGVyXSguLi5ELmFyZ3MpOlcmJksoYHdvcmtlciBzZW50IGFuIHVua25vd24gY29tbWFuZCAke1d9YCl9LGkub25lcnJvcj1EPT57dGhyb3cgSyhgd29ya2VyIHNlbnQgYW4gZXJyb3IhICR7RC5maWxlbmFtZX06JHtELmxpbmVub306ICR7RC5tZXNzYWdlfWApLER9LEkmJihpLm9uKCJtZXNzYWdlIixEPT5pLm9ubWVzc2FnZSh7ZGF0YTpEfSkpLGkub24oImVycm9yIixEPT5pLm9uZXJyb3IoRCkpKTt2YXIgZj1bXSxTPVsib25FeGl0Il0sTztmb3IoTyBvZiBTKWEuaGFzT3duUHJvcGVydHkoTykmJmYucHVzaChPKTtpLnBvc3RNZXNzYWdlKHtjbWQ6ImxvYWQiLGhhbmRsZXJzOmYsdXJsT3JCbG9iOmEubWFpblNjcmlwdFVybE9yQmxvYnx8ZSx3YXNtTWVtb3J5OlEsd2FzbU1vZHVsZTpafSl9KX07YS5QVGhyZWFkPWRlO3ZhciBidD1pPT57Zm9yKDswPGkubGVuZ3RoOylpLnNoaWZ0KCkoYSl9O2EuZXN0YWJsaXNoU3RhY2tTcGFjZT0oKT0+e3ZhciBpPVByKCksYz1zKClbaSs1Mj4+PjI+Pj4wXTtpPXMoKVtpKzU2Pj4+Mj4+PjBdLGhvKGMsYy1pKSxrcihjKX07ZnVuY3Rpb24gWnQoaSl7aWYoJClyZXR1cm4gT2UoMSwwLGkpO050KGkpfWEuaW52b2tlRW50cnlQb2ludD0oaSxjKT0+e2k9Z28uYXBwbHkobnVsbCxbaSxjXSksMDxudD9kZS5uYihpKTpwbihpKX07ZnVuY3Rpb24gdnIoaSl7dGhpcy5nYj1pLTI0LHRoaXMuc2I9ZnVuY3Rpb24oYyl7cygpW3RoaXMuZ2IrND4+PjI+Pj4wXT1jfSx0aGlzLnJiPWZ1bmN0aW9uKGMpe3MoKVt0aGlzLmdiKzg+Pj4yPj4+MF09Y30sdGhpcy5oYj1mdW5jdGlvbihjLGYpe3RoaXMucWIoKSx0aGlzLnNiKGMpLHRoaXMucmIoZil9LHRoaXMucWI9ZnVuY3Rpb24oKXtzKClbdGhpcy5nYisxNj4+PjI+Pj4wXT0wfX12YXIgJHI9MCxRdD0wO2Z1bmN0aW9uIFNyKGksYyxmLFMpe3JldHVybiAkP09lKDIsMSxpLGMsZixTKTp4cihpLGMsZixTKX1mdW5jdGlvbiB4cihpLGMsZixTKXtpZihpPj4+PTAsYz4+Pj0wLGY+Pj49MCxTPj4+PTAsdHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPiJ1IilyZXR1cm4gSygiQ3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBzdXBwb3J0IFNoYXJlZEFycmF5QnVmZmVyLCBwdGhyZWFkcyBhcmUgbm90IGF2YWlsYWJsZSEiKSw2O3ZhciBPPVtdO3JldHVybiAkJiZPLmxlbmd0aD09PTA/U3IoaSxjLGYsUyk6KGk9e0RiOmYsWGE6aSx0YjpTLEpiOk99LCQ/KGkuTGI9InNwYXduVGhyZWFkIixwb3N0TWVzc2FnZShpLE8pLDApOkt0KGkpKX1mdW5jdGlvbiBfcihpLGMsZil7cmV0dXJuICQ/T2UoMywxLGksYyxmKTowfWZ1bmN0aW9uIENyKGksYyl7aWYoJClyZXR1cm4gT2UoNCwxLGksYyl9dmFyIFh0PWk9Pntmb3IodmFyIGM9MCxmPTA7ZjxpLmxlbmd0aDsrK2Ype3ZhciBTPWkuY2hhckNvZGVBdChmKTsxMjc+PVM/YysrOjIwNDc+PVM/Yys9Mjo1NTI5Njw9UyYmNTczNDM+PVM/KGMrPTQsKytmKTpjKz0zfXJldHVybiBjfSxJcj0oaSxjLGYsUyk9PntpZihmPj4+PTAsISgwPFMpKXJldHVybiAwO3ZhciBPPWY7Uz1mK1MtMTtmb3IodmFyIEQ9MDtEPGkubGVuZ3RoOysrRCl7dmFyIFc9aS5jaGFyQ29kZUF0KEQpO2lmKDU1Mjk2PD1XJiY1NzM0Mz49Vyl7dmFyIGllPWkuY2hhckNvZGVBdCgrK0QpO1c9NjU1MzYrKChXJjEwMjMpPDwxMCl8aWUmMTAyM31pZigxMjc+PVcpe2lmKGY+PVMpYnJlYWs7Y1tmKys+Pj4wXT1XfWVsc2V7aWYoMjA0Nz49Vyl7aWYoZisxPj1TKWJyZWFrO2NbZisrPj4+MF09MTkyfFc+PjZ9ZWxzZXtpZig2NTUzNT49Vyl7aWYoZisyPj1TKWJyZWFrO2NbZisrPj4+MF09MjI0fFc+PjEyfWVsc2V7aWYoZiszPj1TKWJyZWFrO2NbZisrPj4+MF09MjQwfFc+PjE4LGNbZisrPj4+MF09MTI4fFc+PjEyJjYzfWNbZisrPj4+MF09MTI4fFc+PjYmNjN9Y1tmKys+Pj4wXT0xMjh8VyY2M319cmV0dXJuIGNbZj4+PjBdPTAsZi1PfSxhZT0oaSxjLGYpPT5JcihpLG8oKSxjLGYpO2Z1bmN0aW9uIEp0KGksYyl7aWYoJClyZXR1cm4gT2UoNSwxLGksYyl9ZnVuY3Rpb24gV3QoaSxjLGYpe2lmKCQpcmV0dXJuIE9lKDYsMSxpLGMsZil9ZnVuY3Rpb24gZXIoaSxjLGYpe3JldHVybiAkP09lKDcsMSxpLGMsZik6MH1mdW5jdGlvbiB0cihpLGMpe2lmKCQpcmV0dXJuIE9lKDgsMSxpLGMpfWZ1bmN0aW9uIHJyKGksYyxmKXtpZigkKXJldHVybiBPZSg5LDEsaSxjLGYpfWZ1bmN0aW9uIG5yKGksYyxmLFMpe2lmKCQpcmV0dXJuIE9lKDEwLDEsaSxjLGYsUyl9ZnVuY3Rpb24gb3IoaSxjLGYsUyl7aWYoJClyZXR1cm4gT2UoMTEsMSxpLGMsZixTKX1mdW5jdGlvbiBhcihpLGMsZixTKXtpZigkKXJldHVybiBPZSgxMiwxLGksYyxmLFMpfWZ1bmN0aW9uIGlyKGkpe2lmKCQpcmV0dXJuIE9lKDEzLDEsaSl9ZnVuY3Rpb24gc3IoaSxjKXtpZigkKXJldHVybiBPZSgxNCwxLGksYyl9ZnVuY3Rpb24gdXIoaSxjLGYpe2lmKCQpcmV0dXJuIE9lKDE1LDEsaSxjLGYpfXZhciBBcj0oKT0+e2lmKCEoMDxudCkpdHJ5eyQ/cG4oUGUpOk50KFBlKX1jYXRjaChpKXtTdChpKX19O2Z1bmN0aW9uIHh0KGkpe2k+Pj49MCx0eXBlb2YgQXRvbWljcy5LYj09ImZ1bmN0aW9uIiYmKEF0b21pY3MuS2IobigpLGk+Pj4yLGkpLnZhbHVlLnRoZW4oRXQpLGkrPTEyOCxBdG9taWNzLnN0b3JlKG4oKSxpPj4+MiwxKSl9YS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX21haWxib3hfYXdhaXQ9eHQ7dmFyIEV0PSgpPT57dmFyIGk9UHIoKTtpZihpJiYoeHQoaSksIUVlKSl0cnl7bW8oKSxBcigpfWNhdGNoKGMpe1N0KGMpfX07YS5jaGVja01haWxib3g9RXQ7dmFyIGQ9W10sbT1pPT5pJTQ9PT0wJiYoaSUxMDAhPT0wfHxpJTQwMD09PTApLHY9WzAsMzEsNjAsOTEsMTIxLDE1MiwxODIsMjEzLDI0NCwyNzQsMzA1LDMzNV0sQz1bMCwzMSw1OSw5MCwxMjAsMTUxLDE4MSwyMTIsMjQzLDI3MywzMDQsMzM0XTtmdW5jdGlvbiBCKGksYyxmLFMsTyxELFcsaWUpe3JldHVybiAkP09lKDE2LDEsaSxjLGYsUyxPLEQsVyxpZSk6LTUyfWZ1bmN0aW9uIEgoaSxjLGYsUyxPLEQsVyl7aWYoJClyZXR1cm4gT2UoMTcsMSxpLGMsZixTLE8sRCxXKX12YXIgcT1pPT57dmFyIGM9WHQoaSkrMSxmPWxuKGMpO3JldHVybiBmJiZhZShpLGYsYyksZn0sbGU9W10sSj0oaSxjKT0+e2xlLmxlbmd0aD0wO2Zvcih2YXIgZjtmPW8oKVtpKys+Pj4wXTspe3ZhciBTPWYhPTEwNTtTJj1mIT0xMTIsYys9UyYmYyU4PzQ6MCxsZS5wdXNoKGY9PTExMj9zKClbYz4+PjI+Pj4wXTpmPT0xMDU/bigpW2M+Pj4yPj4+MF06bCgpW2M+Pj4zPj4+MF0pLGMrPVM/ODo0fXJldHVybiBsZX0scmU9e30sc2U9KCk9PntpZighd2Upe3ZhciBpPXtVU0VSOiJ3ZWJfdXNlciIsTE9HTkFNRToid2ViX3VzZXIiLFBBVEg6Ii8iLFBXRDoiLyIsSE9NRToiL2hvbWUvd2ViX3VzZXIiLExBTkc6KHR5cGVvZiBuYXZpZ2F0b3I9PSJvYmplY3QiJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdfHwiQyIpLnJlcGxhY2UoIi0iLCJfIikrIi5VVEYtOCIsXzpifHwiLi90aGlzLnByb2dyYW0ifSxjO2ZvcihjIGluIHJlKXJlW2NdPT09dm9pZCAwP2RlbGV0ZSBpW2NdOmlbY109cmVbY107dmFyIGY9W107Zm9yKGMgaW4gaSlmLnB1c2goYCR7Y309JHtpW2NdfWApO3dlPWZ9cmV0dXJuIHdlfSx3ZTtmdW5jdGlvbiBfZShpLGMpe2lmKCQpcmV0dXJuIE9lKDE4LDEsaSxjKTtpPj4+PTAsYz4+Pj0wO3ZhciBmPTA7cmV0dXJuIHNlKCkuZm9yRWFjaCgoUyxPKT0+e3ZhciBEPWMrZjtmb3IoTz1zKClbaSs0Kk8+Pj4yPj4+MF09RCxEPTA7RDxTLmxlbmd0aDsrK0QpcigpW08rKz4+PjA+Pj4wXT1TLmNoYXJDb2RlQXQoRCk7cigpW08+Pj4wPj4+MF09MCxmKz1TLmxlbmd0aCsxfSksMH1mdW5jdGlvbiBQKGksYyl7aWYoJClyZXR1cm4gT2UoMTksMSxpLGMpO2k+Pj49MCxjPj4+PTA7dmFyIGY9c2UoKTtzKClbaT4+PjI+Pj4wXT1mLmxlbmd0aDt2YXIgUz0wO3JldHVybiBmLmZvckVhY2goTz0+Uys9Ty5sZW5ndGgrMSkscygpW2M+Pj4yPj4+MF09UywwfWZ1bmN0aW9uIHVlKGkpe3JldHVybiAkP09lKDIwLDEsaSk6NTJ9ZnVuY3Rpb24gU2UoaSxjLGYsUyl7cmV0dXJuICQ/T2UoMjEsMSxpLGMsZixTKTo1Mn1mdW5jdGlvbiBzdChpLGMsZixTLE8pe3JldHVybiAkP09lKDIyLDEsaSxjLGYsUyxPKTo3MH12YXIgVHI9W251bGwsW10sW11dO2Z1bmN0aW9uIHRvKGksYyxmLFMpe2lmKCQpcmV0dXJuIE9lKDIzLDEsaSxjLGYsUyk7Yz4+Pj0wLGY+Pj49MCxTPj4+PTA7Zm9yKHZhciBPPTAsRD0wO0Q8ZjtEKyspe3ZhciBXPXMoKVtjPj4+Mj4+PjBdLGllPXMoKVtjKzQ+Pj4yPj4+MF07Yys9ODtmb3IodmFyIG5lPTA7bmU8aWU7bmUrKyl7dmFyIG9lPW8oKVtXK25lPj4+MF0scGU9VHJbaV07b2U9PT0wfHxvZT09PTEwPygoaT09PTE/WTpLKShWdChwZSwwKSkscGUubGVuZ3RoPTApOnBlLnB1c2gob2UpfU8rPWllfXJldHVybiBzKClbUz4+PjI+Pj4wXT1PLDB9dmFyIHJvPVszMSwyOSwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV0sbm89WzMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTtmdW5jdGlvbiBQdShpKXt2YXIgYz1BcnJheShYdChpKSsxKTtyZXR1cm4gSXIoaSxjLDAsYy5sZW5ndGgpLGN9dmFyIGt1PShpLGMpPT57cigpLnNldChpLGM+Pj4wKX07ZnVuY3Rpb24gb28oaSxjLGYsUyl7ZnVuY3Rpb24gTyhrLG1lLENlKXtmb3Ioaz10eXBlb2Ygaz09Im51bWJlciI/ay50b1N0cmluZygpOmt8fCIiO2subGVuZ3RoPG1lOylrPUNlWzBdK2s7cmV0dXJuIGt9ZnVuY3Rpb24gRChrLG1lKXtyZXR1cm4gTyhrLG1lLCIwIil9ZnVuY3Rpb24gVyhrLG1lKXtmdW5jdGlvbiBDZShTbyl7cmV0dXJuIDA+U28/LTE6MDxTbz8xOjB9dmFyIE90O3JldHVybihPdD1DZShrLmdldEZ1bGxZZWFyKCktbWUuZ2V0RnVsbFllYXIoKSkpPT09MCYmKE90PUNlKGsuZ2V0TW9udGgoKS1tZS5nZXRNb250aCgpKSk9PT0wJiYoT3Q9Q2Uoay5nZXREYXRlKCktbWUuZ2V0RGF0ZSgpKSksT3R9ZnVuY3Rpb24gaWUoayl7c3dpdGNoKGsuZ2V0RGF5KCkpe2Nhc2UgMDpyZXR1cm4gbmV3IERhdGUoay5nZXRGdWxsWWVhcigpLTEsMTEsMjkpO2Nhc2UgMTpyZXR1cm4gaztjYXNlIDI6cmV0dXJuIG5ldyBEYXRlKGsuZ2V0RnVsbFllYXIoKSwwLDMpO2Nhc2UgMzpyZXR1cm4gbmV3IERhdGUoay5nZXRGdWxsWWVhcigpLDAsMik7Y2FzZSA0OnJldHVybiBuZXcgRGF0ZShrLmdldEZ1bGxZZWFyKCksMCwxKTtjYXNlIDU6cmV0dXJuIG5ldyBEYXRlKGsuZ2V0RnVsbFllYXIoKS0xLDExLDMxKTtjYXNlIDY6cmV0dXJuIG5ldyBEYXRlKGsuZ2V0RnVsbFllYXIoKS0xLDExLDMwKX19ZnVuY3Rpb24gbmUoayl7dmFyIG1lPWsuJGE7Zm9yKGs9bmV3IERhdGUobmV3IERhdGUoay5hYisxOTAwLDAsMSkuZ2V0VGltZSgpKTswPG1lOyl7dmFyIENlPWsuZ2V0TW9udGgoKSxPdD0obShrLmdldEZ1bGxZZWFyKCkpP3JvOm5vKVtDZV07aWYobWU+T3Qtay5nZXREYXRlKCkpbWUtPU90LWsuZ2V0RGF0ZSgpKzEsay5zZXREYXRlKDEpLDExPkNlP2suc2V0TW9udGgoQ2UrMSk6KGsuc2V0TW9udGgoMCksay5zZXRGdWxsWWVhcihrLmdldEZ1bGxZZWFyKCkrMSkpO2Vsc2V7ay5zZXREYXRlKGsuZ2V0RGF0ZSgpK21lKTticmVha319cmV0dXJuIENlPW5ldyBEYXRlKGsuZ2V0RnVsbFllYXIoKSsxLDAsNCksbWU9aWUobmV3IERhdGUoay5nZXRGdWxsWWVhcigpLDAsNCkpLENlPWllKENlKSwwPj1XKG1lLGspPzA+PVcoQ2Usayk/ay5nZXRGdWxsWWVhcigpKzE6ay5nZXRGdWxsWWVhcigpOmsuZ2V0RnVsbFllYXIoKS0xfWk+Pj49MCxjPj4+PTAsZj4+Pj0wLFM+Pj49MDt2YXIgb2U9cygpW1MrNDA+Pj4yPj4+MF07Uz17SGI6bigpW1M+Pj4yPj4+MF0sR2I6bigpW1MrND4+PjI+Pj4wXSxlYjpuKClbUys4Pj4+Mj4+PjBdLGpiOm4oKVtTKzEyPj4+Mj4+PjBdLGZiOm4oKVtTKzE2Pj4+Mj4+PjBdLGFiOm4oKVtTKzIwPj4+Mj4+PjBdLFdhOm4oKVtTKzI0Pj4+Mj4+PjBdLCRhOm4oKVtTKzI4Pj4+Mj4+PjBdLE9iOm4oKVtTKzMyPj4+Mj4+PjBdLEZiOm4oKVtTKzM2Pj4+Mj4+PjBdLEliOm9lP1llKG9lKToiIn0sZj1ZZShmKSxvZT17IiVjIjoiJWEgJWIgJWQgJUg6JU06JVMgJVkiLCIlRCI6IiVtLyVkLyV5IiwiJUYiOiIlWS0lbS0lZCIsIiVoIjoiJWIiLCIlciI6IiVJOiVNOiVTICVwIiwiJVIiOiIlSDolTSIsIiVUIjoiJUg6JU06JVMiLCIleCI6IiVtLyVkLyV5IiwiJVgiOiIlSDolTTolUyIsIiVFYyI6IiVjIiwiJUVDIjoiJUMiLCIlRXgiOiIlbS8lZC8leSIsIiVFWCI6IiVIOiVNOiVTIiwiJUV5IjoiJXkiLCIlRVkiOiIlWSIsIiVPZCI6IiVkIiwiJU9lIjoiJWUiLCIlT0giOiIlSCIsIiVPSSI6IiVJIiwiJU9tIjoiJW0iLCIlT00iOiIlTSIsIiVPUyI6IiVTIiwiJU91IjoiJXUiLCIlT1UiOiIlVSIsIiVPViI6IiVWIiwiJU93IjoiJXciLCIlT1ciOiIlVyIsIiVPeSI6IiV5In07Zm9yKHZhciBwZSBpbiBvZSlmPWYucmVwbGFjZShuZXcgUmVnRXhwKHBlLCJnIiksb2VbcGVdKTt2YXIgeGU9IlN1bmRheSBNb25kYXkgVHVlc2RheSBXZWRuZXNkYXkgVGh1cnNkYXkgRnJpZGF5IFNhdHVyZGF5Ii5zcGxpdCgiICIpLFRlPSJKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyIi5zcGxpdCgiICIpO29lPXsiJWEiOms9PnhlW2suV2FdLnN1YnN0cmluZygwLDMpLCIlQSI6az0+eGVbay5XYV0sIiViIjprPT5UZVtrLmZiXS5zdWJzdHJpbmcoMCwzKSwiJUIiOms9PlRlW2suZmJdLCIlQyI6az0+RCgoay5hYisxOTAwKS8xMDB8MCwyKSwiJWQiOms9PkQoay5qYiwyKSwiJWUiOms9Pk8oay5qYiwyLCIgIiksIiVnIjprPT5uZShrKS50b1N0cmluZygpLnN1YnN0cmluZygyKSwiJUciOms9Pm5lKGspLCIlSCI6az0+RChrLmViLDIpLCIlSSI6az0+KGs9ay5lYixrPT0wP2s9MTI6MTI8ayYmKGstPTEyKSxEKGssMikpLCIlaiI6az0+e2Zvcih2YXIgbWU9MCxDZT0wO0NlPD1rLmZiLTE7bWUrPShtKGsuYWIrMTkwMCk/cm86bm8pW0NlKytdKTtyZXR1cm4gRChrLmpiK21lLDMpfSwiJW0iOms9PkQoay5mYisxLDIpLCIlTSI6az0+RChrLkdiLDIpLCIlbiI6KCk9PmBcbmAsIiVwIjprPT4wPD1rLmViJiYxMj5rLmViPyJBTSI6IlBNIiwiJVMiOms9PkQoay5IYiwyKSwiJXQiOigpPT4iCSIsIiV1IjprPT5rLldhfHw3LCIlVSI6az0+RChNYXRoLmZsb29yKChrLiRhKzctay5XYSkvNyksMiksIiVWIjprPT57dmFyIG1lPU1hdGguZmxvb3IoKGsuJGErNy0oay5XYSs2KSU3KS83KTtpZigyPj0oay5XYSszNzEtay4kYS0yKSU3JiZtZSsrLG1lKW1lPT01MyYmKENlPShrLldhKzM3MS1rLiRhKSU3LENlPT00fHxDZT09MyYmbShrLmFiKXx8KG1lPTEpKTtlbHNle21lPTUyO3ZhciBDZT0oay5XYSs3LWsuJGEtMSklNzsoQ2U9PTR8fENlPT01JiZtKGsuYWIlNDAwLTEpKSYmbWUrK31yZXR1cm4gRChtZSwyKX0sIiV3IjprPT5rLldhLCIlVyI6az0+RChNYXRoLmZsb29yKChrLiRhKzctKGsuV2ErNiklNykvNyksMiksIiV5IjprPT4oay5hYisxOTAwKS50b1N0cmluZygpLnN1YnN0cmluZygyKSwiJVkiOms9PmsuYWIrMTkwMCwiJXoiOms9PntrPWsuRmI7dmFyIG1lPTA8PWs7cmV0dXJuIGs9TWF0aC5hYnMoaykvNjAsKG1lPyIrIjoiLSIpKygiMDAwMCIrKGsvNjAqMTAwK2slNjApKS5zbGljZSgtNCl9LCIlWiI6az0+ay5JYiwiJSUiOigpPT4iJSJ9LGY9Zi5yZXBsYWNlKC8lJS9nLCJcXDBcXDAiKTtmb3IocGUgaW4gb2UpZi5pbmNsdWRlcyhwZSkmJihmPWYucmVwbGFjZShuZXcgUmVnRXhwKHBlLCJnIiksb2VbcGVdKFMpKSk7cmV0dXJuIGY9Zi5yZXBsYWNlKC9cXDBcXDAvZywiJSIpLHBlPVB1KGYpLHBlLmxlbmd0aD5jPzA6KGt1KHBlLGkpLHBlLmxlbmd0aC0xKX12YXIgRXI9aT0+e3RyeXtpKCl9Y2F0Y2goYyl7cnQoYyl9fTtmdW5jdGlvbiBSdSgpe3ZhciBpPVgsYz17fTtmb3IobGV0W2YsU11vZiBPYmplY3QuZW50cmllcyhpKSljW2ZdPXR5cGVvZiBTPT0iZnVuY3Rpb24iP2Z1bmN0aW9uKCl7T3IucHVzaChmKTt0cnl7cmV0dXJuIFMuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZpbmFsbHl7RWV8fChPci5wb3AoKSx1dCYmX3Q9PT0xJiZPci5sZW5ndGg9PT0wJiYoX3Q9MCxudCs9MSxFcihibyksdHlwZW9mIEZpYmVyczwidSImJkZpYmVycy5QYigpKSl9fTpTO3JldHVybiBjfXZhciBfdD0wLHV0PW51bGwsYW89MCxPcj1bXSxpbz17fSxzbz17fSxCdT0wLGRuPW51bGwsRHU9W107ZnVuY3Rpb24gTXUoKXtyZXR1cm4gbmV3IFByb21pc2UoKGksYyk9Pntkbj17cmVzb2x2ZTppLHJlamVjdDpjfX0pfWZ1bmN0aW9uIHp1KCl7dmFyIGk9bG4oNjU1NDgpLGM9aSsxMjtzKClbaT4+PjI+Pj4wXT1jLHMoKVtpKzQ+Pj4yPj4+MF09Yys2NTUzNixjPU9yWzBdO3ZhciBmPWlvW2NdO3JldHVybiBmPT09dm9pZCAwJiYoZj1CdSsrLGlvW2NdPWYsc29bZl09YyksYz1mLG4oKVtpKzg+Pj4yPj4+MF09YyxpfWZ1bmN0aW9uIFV1KCl7dmFyIGk9bigpW3V0Kzg+Pj4yPj4+MF07cmV0dXJuIGk9WFtzb1tpXV0sLS1udCxpKCl9ZnVuY3Rpb24gVnUoaSl7aWYoIUVlKXtpZihfdD09PTApe3ZhciBjPSExLGY9ITE7aSgoUz0wKT0+e2lmKCFFZSYmKGFvPVMsYz0hMCxmKSl7X3Q9MixFcigoKT0+d28odXQpKSx0eXBlb2YgQnJvd3NlcjwidSImJkJyb3dzZXIuaWIudmImJkJyb3dzZXIuaWIucmVzdW1lKCksUz0hMTt0cnl7dmFyIE89VXUoKX1jYXRjaChpZSl7Tz1pZSxTPSEwfXZhciBEPSExO2lmKCF1dCl7dmFyIFc9ZG47VyYmKGRuPW51bGwsKFM/Vy5yZWplY3Q6Vy5yZXNvbHZlKShPKSxEPSEwKX1pZihTJiYhRCl0aHJvdyBPfX0pLGY9ITAsY3x8KF90PTEsdXQ9enUoKSx0eXBlb2YgQnJvd3NlcjwidSImJkJyb3dzZXIuaWIudmImJkJyb3dzZXIuaWIucGF1c2UoKSxFcigoKT0+eW8odXQpKSl9ZWxzZSBfdD09PTI/KF90PTAsRXIodm8pLGxvKHV0KSx1dD1udWxsLER1LmZvckVhY2goUz0+e2lmKCFFZSl0cnl7UygpLEFyKCl9Y2F0Y2goTyl7U3QoTyl9fSkpOnJ0KGBpbnZhbGlkIHN0YXRlOiAke190fWApO3JldHVybiBhb319ZnVuY3Rpb24gTnUoaSl7cmV0dXJuIFZ1KGM9PntpKCkudGhlbihjKX0pfWRlLmhiKCk7dmFyIFd1PVt3cixadCxTcixfcixDcixKdCxXdCxlcix0cixycixucixvcixhcixpcixzcix1cixCLEgsX2UsUCx1ZSxTZSxzdCx0b10sSHU9e3I6ZnVuY3Rpb24oaSxjLGYpe3JldHVybiBOdShhc3luYygpPT57YXdhaXQgYS54YihpLGMsZil9KX0sYjpmdW5jdGlvbihpLGMsZil7dGhyb3cgaT4+Pj0wLG5ldyB2cihpKS5oYihjPj4+MCxmPj4+MCksJHI9aSxRdCsrLCRyfSxOOmZ1bmN0aW9uKGkpe2NvKGk+Pj4wLCFfLDEsIXksMTMxMDcyLCExKSxkZS5vYigpfSxsOmZ1bmN0aW9uKGkpe2k+Pj49MCwkP3Bvc3RNZXNzYWdlKHtjbWQ6ImNsZWFudXBUaHJlYWQiLHRocmVhZDppfSk6ZGUubWIoZGUuUWFbaV0pfSxKOnhyLGk6X3IsVDpDcixGOkp0LEg6V3QsVTplcixSOnRyLEw6cnIsUTpucixwOm9yLEc6YXIsRDppcixTOnNyLEU6dXIscTooKT0+MSxCOmZ1bmN0aW9uKGksYyl7aT4+Pj0wLGk9PWM+Pj4wP3NldFRpbWVvdXQoKCk9PkV0KCkpOiQ/cG9zdE1lc3NhZ2Uoe3RhcmdldFRocmVhZDppLGNtZDoiY2hlY2tNYWlsYm94In0pOihpPWRlLlFhW2ldKSYmaS5wb3N0TWVzc2FnZSh7Y21kOiJjaGVja01haWxib3gifSl9LEs6ZnVuY3Rpb24oaSxjLGYsUyl7Yz4+Pj0wLGQubGVuZ3RoPWYsUz1TPj4+MD4+PjM7Zm9yKHZhciBPPTA7TzxmO08rKylkW09dPWwoKVtTK08+Pj4wXTtyZXR1cm4gaT0wPmk/enRbLWktMV06V3VbaV0sZGUudWI9YyxjPWkuYXBwbHkobnVsbCxkKSxkZS51Yj0wLGN9LE06eHQsVzpmdW5jdGlvbihpKXtJJiZkZS5RYVtpPj4+MF0ucmVmKCl9LHU6ZnVuY3Rpb24oaSxjLGYpe2k9YysyMDk3MTUyPj4+MDw0MTk0MzA1LSEhaT8oaT4+PjApKzQyOTQ5NjcyOTYqYzpOYU4sZj4+Pj0wLGk9bmV3IERhdGUoMWUzKmkpLG4oKVtmPj4+Mj4+PjBdPWkuZ2V0VVRDU2Vjb25kcygpLG4oKVtmKzQ+Pj4yPj4+MF09aS5nZXRVVENNaW51dGVzKCksbigpW2YrOD4+PjI+Pj4wXT1pLmdldFVUQ0hvdXJzKCksbigpW2YrMTI+Pj4yPj4+MF09aS5nZXRVVENEYXRlKCksbigpW2YrMTY+Pj4yPj4+MF09aS5nZXRVVENNb250aCgpLG4oKVtmKzIwPj4+Mj4+PjBdPWkuZ2V0VVRDRnVsbFllYXIoKS0xOTAwLG4oKVtmKzI0Pj4+Mj4+PjBdPWkuZ2V0VVRDRGF5KCksaT0oaS5nZXRUaW1lKCktRGF0ZS5VVEMoaS5nZXRVVENGdWxsWWVhcigpLDAsMSwwLDAsMCwwKSkvODY0ZTV8MCxuKClbZisyOD4+PjI+Pj4wXT1pfSx2OmZ1bmN0aW9uKGksYyxmKXtpPWMrMjA5NzE1Mj4+PjA8NDE5NDMwNS0hIWk/KGk+Pj4wKSs0Mjk0OTY3Mjk2KmM6TmFOLGY+Pj49MCxpPW5ldyBEYXRlKDFlMyppKSxuKClbZj4+PjI+Pj4wXT1pLmdldFNlY29uZHMoKSxuKClbZis0Pj4+Mj4+PjBdPWkuZ2V0TWludXRlcygpLG4oKVtmKzg+Pj4yPj4+MF09aS5nZXRIb3VycygpLG4oKVtmKzEyPj4+Mj4+PjBdPWkuZ2V0RGF0ZSgpLG4oKVtmKzE2Pj4+Mj4+PjBdPWkuZ2V0TW9udGgoKSxuKClbZisyMD4+PjI+Pj4wXT1pLmdldEZ1bGxZZWFyKCktMTkwMCxuKClbZisyND4+PjI+Pj4wXT1pLmdldERheSgpLGM9KG0oaS5nZXRGdWxsWWVhcigpKT92OkMpW2kuZ2V0TW9udGgoKV0raS5nZXREYXRlKCktMXwwLG4oKVtmKzI4Pj4+Mj4+PjBdPWMsbigpW2YrMzY+Pj4yPj4+MF09LSg2MCppLmdldFRpbWV6b25lT2Zmc2V0KCkpLGM9bmV3IERhdGUoaS5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgUz1uZXcgRGF0ZShpLmdldEZ1bGxZZWFyKCksMCwxKS5nZXRUaW1lem9uZU9mZnNldCgpO2k9KGMhPVMmJmkuZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4oUyxjKSl8MCxuKClbZiszMj4+PjI+Pj4wXT1pfSx3OmZ1bmN0aW9uKGkpe2k+Pj49MDt2YXIgYz1uZXcgRGF0ZShuKClbaSsyMD4+PjI+Pj4wXSsxOTAwLG4oKVtpKzE2Pj4+Mj4+PjBdLG4oKVtpKzEyPj4+Mj4+PjBdLG4oKVtpKzg+Pj4yPj4+MF0sbigpW2krND4+PjI+Pj4wXSxuKClbaT4+PjI+Pj4wXSwwKSxmPW4oKVtpKzMyPj4+Mj4+PjBdLFM9Yy5nZXRUaW1lem9uZU9mZnNldCgpLE89bmV3IERhdGUoYy5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxEPW5ldyBEYXRlKGMuZ2V0RnVsbFllYXIoKSwwLDEpLmdldFRpbWV6b25lT2Zmc2V0KCksVz1NYXRoLm1pbihELE8pO3JldHVybiAwPmY/bigpW2krMzI+Pj4yPj4+MF09KyhPIT1EJiZXPT1TKTowPGYhPShXPT1TKSYmKE89TWF0aC5tYXgoRCxPKSxjLnNldFRpbWUoYy5nZXRUaW1lKCkrNmU0KigoMDxmP1c6TyktUykpKSxuKClbaSsyND4+PjI+Pj4wXT1jLmdldERheSgpLGY9KG0oYy5nZXRGdWxsWWVhcigpKT92OkMpW2MuZ2V0TW9udGgoKV0rYy5nZXREYXRlKCktMXwwLG4oKVtpKzI4Pj4+Mj4+PjBdPWYsbigpW2k+Pj4yPj4+MF09Yy5nZXRTZWNvbmRzKCksbigpW2krND4+PjI+Pj4wXT1jLmdldE1pbnV0ZXMoKSxuKClbaSs4Pj4+Mj4+PjBdPWMuZ2V0SG91cnMoKSxuKClbaSsxMj4+PjI+Pj4wXT1jLmdldERhdGUoKSxuKClbaSsxNj4+PjI+Pj4wXT1jLmdldE1vbnRoKCksbigpW2krMjA+Pj4yPj4+MF09Yy5nZXRZZWFyKCksaT1jLmdldFRpbWUoKSxpc05hTihpKT8obigpW3VvKCk+Pj4yPj4+MF09NjEsaT0tMSk6aS89MWUzLGZvKCh5dD1pLDE8PStNYXRoLmFicyh5dCk/MDx5dD8rTWF0aC5mbG9vcih5dC80Mjk0OTY3Mjk2KT4+PjA6fn4rTWF0aC5jZWlsKCh5dC0rKH5+eXQ+Pj4wKSkvNDI5NDk2NzI5Nik+Pj4wOjApKSxpPj4+MH0sczpCLHQ6SCxBOmZ1bmN0aW9uKGksYyxmKXtmdW5jdGlvbiBTKG9lKXtyZXR1cm4ob2U9b2UudG9UaW1lU3RyaW5nKCkubWF0Y2goL1xcKChbQS1aYS16IF0rKVxcKSQvKSk/b2VbMV06IkdNVCJ9aT4+Pj0wLGM+Pj49MCxmPj4+PTA7dmFyIE89bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLEQ9bmV3IERhdGUoTywwLDEpLFc9bmV3IERhdGUoTyw2LDEpO089RC5nZXRUaW1lem9uZU9mZnNldCgpO3ZhciBpZT1XLmdldFRpbWV6b25lT2Zmc2V0KCksbmU9TWF0aC5tYXgoTyxpZSk7cygpW2k+Pj4yPj4+MF09NjAqbmUsbigpW2M+Pj4yPj4+MF09KyhPIT1pZSksaT1TKEQpLGM9UyhXKSxpPXEoaSksYz1xKGMpLGllPE8/KHMoKVtmPj4+Mj4+PjBdPWkscygpW2YrND4+PjI+Pj4wXT1jKToocygpW2Y+Pj4yPj4+MF09YyxzKClbZis0Pj4+Mj4+PjBdPWkpfSxkOigpPT57cnQoIiIpfSxjOmZ1bmN0aW9uKGksYyxmKXtyZXR1cm4gaT4+Pj0wLGM9SihjPj4+MCxmPj4+MCksenRbaV0uYXBwbHkobnVsbCxjKX0sazpmdW5jdGlvbihpLGMsZil7cmV0dXJuIGk+Pj49MCxjPUooYz4+PjAsZj4+PjApLHp0W2ldLmFwcGx5KG51bGwsYyl9LG06KCk9Pnt9LGo6KCk9PkRhdGUubm93KCksVjooKT0+e3Rocm93IG50Kz0xLCJ1bndpbmQifSxDOmZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5MDE3NjB9LGY6KCk9PnBlcmZvcm1hbmNlLnRpbWVPcmlnaW4rcGVyZm9ybWFuY2Uubm93KCksZzooKT0+ST8oT28oKSxIdChFbykpLmNwdXMoKS5sZW5ndGg6bmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3kseTpmdW5jdGlvbihpKXtpPj4+PTA7dmFyIGM9bygpLmxlbmd0aDtpZihpPD1jfHw0Mjk0OTAxNzYwPGkpcmV0dXJuITE7Zm9yKHZhciBmPTE7ND49ZjtmKj0yKXt2YXIgUz1jKigxKy4yL2YpO1M9TWF0aC5taW4oUyxpKzEwMDY2MzI5Nik7dmFyIE89TWF0aDtTPU1hdGgubWF4KGksUyk7ZTp7Tz0oTy5taW4uY2FsbChPLDQyOTQ5MDE3NjAsUysoNjU1MzYtUyU2NTUzNiklNjU1MzYpLVEuYnVmZmVyLmJ5dGVMZW5ndGgrNjU1MzUpLzY1NTM2O3RyeXtRLmdyb3coTyksR2UoKTt2YXIgRD0xO2JyZWFrIGV9Y2F0Y2h7fUQ9dm9pZCAwfWlmKEQpcmV0dXJuITB9cmV0dXJuITF9LE86X2UsUCxJOk50LGg6dWUsbzpTZSx4OnN0LG46dG8sYTpRfHxhLndhc21NZW1vcnksejpvbyxlOmZ1bmN0aW9uKGksYyxmLFMpe3JldHVybiBvbyhpPj4+MCxjPj4+MCxmPj4+MCxTPj4+MCl9fSxYPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShmLFMpe3JldHVybiBYPWYuZXhwb3J0cyxYPVJ1KCksWD1HdSgpLGRlLnBiLnB1c2goWC5EYSksYmUudW5zaGlmdChYLlgpLFo9Uyx3dCgpLFh9dmFyIGM9e2E6SHV9O2lmKHplKyssYS5pbnN0YW50aWF0ZVdhc20pdHJ5e3JldHVybiBhLmluc3RhbnRpYXRlV2FzbShjLGkpfWNhdGNoKGYpe0soYE1vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6ICR7Zn1gKSxoKGYpfXJldHVybiAkdChjLGZ1bmN0aW9uKGYpe2koZi5pbnN0YW5jZSxmLm1vZHVsZSl9KS5jYXRjaChoKSx7fX0oKTthLl9PcnRJbml0PShpLGMpPT4oYS5fT3J0SW5pdD1YLlkpKGksYyksYS5fT3J0R2V0TGFzdEVycm9yPShpLGMpPT4oYS5fT3J0R2V0TGFzdEVycm9yPVguWikoaSxjKSxhLl9PcnRDcmVhdGVTZXNzaW9uT3B0aW9ucz0oaSxjLGYsUyxPLEQsVyxpZSxuZSxvZSk9PihhLl9PcnRDcmVhdGVTZXNzaW9uT3B0aW9ucz1YLl8pKGksYyxmLFMsTyxELFcsaWUsbmUsb2UpLGEuX09ydEFwcGVuZEV4ZWN1dGlvblByb3ZpZGVyPShpLGMpPT4oYS5fT3J0QXBwZW5kRXhlY3V0aW9uUHJvdmlkZXI9WC4kKShpLGMpLGEuX09ydEFkZEZyZWVEaW1lbnNpb25PdmVycmlkZT0oaSxjLGYpPT4oYS5fT3J0QWRkRnJlZURpbWVuc2lvbk92ZXJyaWRlPVguYWEpKGksYyxmKSxhLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnk9KGksYyxmKT0+KGEuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeT1YLmJhKShpLGMsZiksYS5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zPWk9PihhLl9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnM9WC5jYSkoaSksYS5fT3J0Q3JlYXRlU2Vzc2lvbj0oaSxjLGYpPT4oYS5fT3J0Q3JlYXRlU2Vzc2lvbj1YLmRhKShpLGMsZiksYS5fT3J0UmVsZWFzZVNlc3Npb249aT0+KGEuX09ydFJlbGVhc2VTZXNzaW9uPVguZWEpKGkpLGEuX09ydEdldElucHV0T3V0cHV0Q291bnQ9KGksYyxmKT0+KGEuX09ydEdldElucHV0T3V0cHV0Q291bnQ9WC5mYSkoaSxjLGYpLGEuX09ydEdldElucHV0TmFtZT0oaSxjKT0+KGEuX09ydEdldElucHV0TmFtZT1YLmdhKShpLGMpLGEuX09ydEdldE91dHB1dE5hbWU9KGksYyk9PihhLl9PcnRHZXRPdXRwdXROYW1lPVguaGEpKGksYyksYS5fT3J0RnJlZT1pPT4oYS5fT3J0RnJlZT1YLmlhKShpKSxhLl9PcnRDcmVhdGVUZW5zb3I9KGksYyxmLFMsTyxEKT0+KGEuX09ydENyZWF0ZVRlbnNvcj1YLmphKShpLGMsZixTLE8sRCksYS5fT3J0R2V0VGVuc29yRGF0YT0oaSxjLGYsUyxPKT0+KGEuX09ydEdldFRlbnNvckRhdGE9WC5rYSkoaSxjLGYsUyxPKSxhLl9PcnRSZWxlYXNlVGVuc29yPWk9PihhLl9PcnRSZWxlYXNlVGVuc29yPVgubGEpKGkpLGEuX09ydENyZWF0ZVJ1bk9wdGlvbnM9KGksYyxmLFMpPT4oYS5fT3J0Q3JlYXRlUnVuT3B0aW9ucz1YLm1hKShpLGMsZixTKSxhLl9PcnRBZGRSdW5Db25maWdFbnRyeT0oaSxjLGYpPT4oYS5fT3J0QWRkUnVuQ29uZmlnRW50cnk9WC5uYSkoaSxjLGYpLGEuX09ydFJlbGVhc2VSdW5PcHRpb25zPWk9PihhLl9PcnRSZWxlYXNlUnVuT3B0aW9ucz1YLm9hKShpKSxhLl9PcnRDcmVhdGVCaW5kaW5nPWk9PihhLl9PcnRDcmVhdGVCaW5kaW5nPVgucGEpKGkpLGEuX09ydEJpbmRJbnB1dD0oaSxjLGYpPT4oYS5fT3J0QmluZElucHV0PVgucWEpKGksYyxmKSxhLl9PcnRCaW5kT3V0cHV0PShpLGMsZixTKT0+KGEuX09ydEJpbmRPdXRwdXQ9WC5yYSkoaSxjLGYsUyksYS5fT3J0Q2xlYXJCb3VuZE91dHB1dHM9aT0+KGEuX09ydENsZWFyQm91bmRPdXRwdXRzPVguc2EpKGkpLGEuX09ydFJlbGVhc2VCaW5kaW5nPWk9PihhLl9PcnRSZWxlYXNlQmluZGluZz1YLnRhKShpKSxhLl9PcnRSdW5XaXRoQmluZGluZz0oaSxjLGYsUyxPKT0+KGEuX09ydFJ1bldpdGhCaW5kaW5nPVgudWEpKGksYyxmLFMsTyksYS5fT3J0UnVuPShpLGMsZixTLE8sRCxXLGllKT0+KGEuX09ydFJ1bj1YLnZhKShpLGMsZixTLE8sRCxXLGllKSxhLl9PcnRFbmRQcm9maWxpbmc9aT0+KGEuX09ydEVuZFByb2ZpbGluZz1YLndhKShpKSxhLl9Kc2VwT3V0cHV0PShpLGMsZik9PihhLl9Kc2VwT3V0cHV0PVgueGEpKGksYyxmKSxhLl9Kc2VwR2V0Tm9kZU5hbWU9aT0+KGEuX0pzZXBHZXROb2RlTmFtZT1YLnlhKShpKTt2YXIgdW89KCk9Pih1bz1YLnphKSgpLFByPWEuX3B0aHJlYWRfc2VsZj0oKT0+KFByPWEuX3B0aHJlYWRfc2VsZj1YLkFhKSgpLGxuPWEuX21hbGxvYz1pPT4obG49YS5fbWFsbG9jPVguQmEpKGkpLGxvPWEuX2ZyZWU9aT0+KGxvPWEuX2ZyZWU9WC5DYSkoaSk7YS5fX2Vtc2NyaXB0ZW5fdGxzX2luaXQ9KCk9PihhLl9fZW1zY3JpcHRlbl90bHNfaW5pdD1YLkRhKSgpO3ZhciBjbz1hLl9fZW1zY3JpcHRlbl90aHJlYWRfaW5pdD0oaSxjLGYsUyxPLEQpPT4oY289YS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQ9WC5GYSkoaSxjLGYsUyxPLEQpO2EuX19lbXNjcmlwdGVuX3RocmVhZF9jcmFzaGVkPSgpPT4oYS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2NyYXNoZWQ9WC5HYSkoKTt2YXIgcG89KGksYyxmLFMpPT4ocG89WC5IYSkoaSxjLGYsUyksY249aT0+KGNuPVguSWEpKGkpLHBuPWEuX19lbXNjcmlwdGVuX3RocmVhZF9leGl0PWk9Pihwbj1hLl9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdD1YLkphKShpKSxtbz0oKT0+KG1vPVguS2EpKCksZm89aT0+KGZvPVguTGEpKGkpLGhvPShpLGMpPT4oaG89WC5NYSkoaSxjKSxtbj0oKT0+KG1uPVguTmEpKCksa3I9aT0+KGtyPVguT2EpKGkpLGZuPWk9Pihmbj1YLlBhKShpKSxnbz1hLmR5bkNhbGxfaWk9KGksYyk9Pihnbz1hLmR5bkNhbGxfaWk9WC5SYSkoaSxjKSx5bz1pPT4oeW89WC5TYSkoaSksYm89KCk9Pihibz1YLlRhKSgpLHdvPWk9Pih3bz1YLlVhKShpKSx2bz0oKT0+KHZvPVguVmEpKCk7YS5fX19zdGFydF9lbV9qcz05NDQ0NzIsYS5fX19zdG9wX2VtX2pzPTk0NDYzMztmdW5jdGlvbiBHdSgpe3ZhciBpPVg7aT1PYmplY3QuYXNzaWduKHt9LGkpO3ZhciBjPVM9PigpPT5TKCk+Pj4wLGY9Uz0+Tz0+UyhPKT4+PjA7cmV0dXJuIGkuemE9YyhpLnphKSxpLkFhPWMoaS5BYSksaS5CYT1mKGkuQmEpLGkuZW1zY3JpcHRlbl9tYWluX3J1bnRpbWVfdGhyZWFkX2lkPWMoaS5lbXNjcmlwdGVuX21haW5fcnVudGltZV90aHJlYWRfaWQpLGkuTmE9YyhpLk5hKSxpLlBhPWYoaS5QYSksaX1hLndhc21NZW1vcnk9USxhLnN0YWNrQWxsb2M9Zm4sYS5zdGFja1NhdmU9bW4sYS5zdGFja1Jlc3RvcmU9a3IsYS5rZWVwUnVudGltZUFsaXZlPSgpPT4wPG50LGEuVVRGOFRvU3RyaW5nPVllLGEuc3RyaW5nVG9VVEY4PWFlLGEubGVuZ3RoQnl0ZXNVVEY4PVh0LGEuRXhpdFN0YXR1cz1VdCxhLlBUaHJlYWQ9ZGU7dmFyIFJyO01lPWZ1bmN0aW9uIGkoKXtScnx8JG8oKSxScnx8KE1lPWkpfTtmdW5jdGlvbiAkbygpe2lmKCEoMDx6ZSkpaWYoJClwKGEpLCR8fGJ0KGJlKSxzdGFydFdvcmtlcihhKTtlbHNle2lmKGEucHJlUnVuKWZvcih0eXBlb2YgYS5wcmVSdW49PSJmdW5jdGlvbiImJihhLnByZVJ1bj1bYS5wcmVSdW5dKTthLnByZVJ1bi5sZW5ndGg7KWVlLnVuc2hpZnQoYS5wcmVSdW4uc2hpZnQoKSk7YnQoZWUpLDA8emV8fFJyfHwoUnI9ITAsYS5jYWxsZWRSdW49ITAsRWV8fCgkfHxidChiZSkscChhKSwkfHxidChldCkpKX19cmV0dXJuICRvKCksdC5yZWFkeX19KSgpO3R5cGVvZiBrbz09Im9iamVjdCImJnR5cGVvZiAkbj09Im9iamVjdCI/JG4uZXhwb3J0cz1Qbzp0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kJiZkZWZpbmUoW10sKCk9PlBvKX0pO3ZhciBCbz1kcigocWMsWHUpPT57WHUuZXhwb3J0cz1cJyJ1c2Ugc3RyaWN0Ijt2YXIgTW9kdWxlPXt9LEVOVklST05NRU5UX0lTX05PREU9dHlwZW9mIHByb2Nlc3M9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU9PSJzdHJpbmciO2lmKEVOVklST05NRU5UX0lTX05PREUpe3ZhciBub2RlV29ya2VyVGhyZWFkcz1yZXF1aXJlKCJ3b3JrZXJfdGhyZWFkcyIpLHBhcmVudFBvcnQ9bm9kZVdvcmtlclRocmVhZHMucGFyZW50UG9ydDtwYXJlbnRQb3J0Lm9uKCJtZXNzYWdlIixlPT5vbm1lc3NhZ2Uoe2RhdGE6ZX0pKTt2YXIgZnM9cmVxdWlyZSgiZnMiKSx2bT1yZXF1aXJlKCJ2bSIpO09iamVjdC5hc3NpZ24oZ2xvYmFsLHtzZWxmOmdsb2JhbCxyZXF1aXJlLE1vZHVsZSxsb2NhdGlvbjp7aHJlZjpfX2ZpbGVuYW1lfSxXb3JrZXI6bm9kZVdvcmtlclRocmVhZHMuV29ya2VyLGltcG9ydFNjcmlwdHM6ZT0+dm0ucnVuSW5UaGlzQ29udGV4dChmcy5yZWFkRmlsZVN5bmMoZSwidXRmOCIpLHtmaWxlbmFtZTplfSkscG9zdE1lc3NhZ2U6ZT0+cGFyZW50UG9ydC5wb3N0TWVzc2FnZShlKSxwZXJmb3JtYW5jZTpnbG9iYWwucGVyZm9ybWFuY2V8fHtub3c6RGF0ZS5ub3d9fSl9dmFyIGluaXRpYWxpemVkSlM9ITE7ZnVuY3Rpb24gdGhyZWFkUHJpbnRFcnIoKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oIiAiKTtpZihFTlZJUk9OTUVOVF9JU19OT0RFKXtmcy53cml0ZVN5bmMoMixlK2BcXG5gKTtyZXR1cm59Y29uc29sZS5lcnJvcihlKX1mdW5jdGlvbiB0aHJlYWRBbGVydCgpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbigiICIpO3Bvc3RNZXNzYWdlKHtjbWQ6ImFsZXJ0Iix0ZXh0OmUsdGhyZWFkSWQ6TW9kdWxlLl9wdGhyZWFkX3NlbGYoKX0pfXZhciBlcnI9dGhyZWFkUHJpbnRFcnI7c2VsZi5hbGVydD10aHJlYWRBbGVydCxNb2R1bGUuaW5zdGFudGlhdGVXYXNtPShlLHQpPT57dmFyIGE9TW9kdWxlLndhc21Nb2R1bGU7TW9kdWxlLndhc21Nb2R1bGU9bnVsbDt2YXIgcj1uZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UoYSxlKTtyZXR1cm4gdChyKX0sc2VsZi5vbnVuaGFuZGxlZHJlamVjdGlvbj1lPT57dGhyb3cgZS5yZWFzb258fGV9O2Z1bmN0aW9uIGhhbmRsZU1lc3NhZ2UoZSl7dHJ5e2lmKGUuZGF0YS5jbWQ9PT0ibG9hZCIpe2xldCBhPVtdO3NlbGYub25tZXNzYWdlPXI9PmEucHVzaChyKSxzZWxmLnN0YXJ0V29ya2VyPXI9PntNb2R1bGU9cixwb3N0TWVzc2FnZSh7Y21kOiJsb2FkZWQifSk7Zm9yKGxldCBzIG9mIGEpaGFuZGxlTWVzc2FnZShzKTtzZWxmLm9ubWVzc2FnZT1oYW5kbGVNZXNzYWdlfSxNb2R1bGUud2FzbU1vZHVsZT1lLmRhdGEud2FzbU1vZHVsZTtmb3IoY29uc3QgciBvZiBlLmRhdGEuaGFuZGxlcnMpTW9kdWxlW3JdPSguLi5zKT0+e3Bvc3RNZXNzYWdlKHtjbWQ6ImNhbGxIYW5kbGVyIixoYW5kbGVyOnIsYXJnczpzfSl9O2lmKE1vZHVsZS53YXNtTWVtb3J5PWUuZGF0YS53YXNtTWVtb3J5LE1vZHVsZS5idWZmZXI9TW9kdWxlLndhc21NZW1vcnkuYnVmZmVyLE1vZHVsZS5FTlZJUk9OTUVOVF9JU19QVEhSRUFEPSEwLHR5cGVvZiBlLmRhdGEudXJsT3JCbG9iPT0ic3RyaW5nIilpbXBvcnRTY3JpcHRzKGUuZGF0YS51cmxPckJsb2IpO2Vsc2V7dmFyIHQ9VVJMLmNyZWF0ZU9iamVjdFVSTChlLmRhdGEudXJsT3JCbG9iKTtpbXBvcnRTY3JpcHRzKHQpLFVSTC5yZXZva2VPYmplY3RVUkwodCl9b3J0V2FzbVRocmVhZGVkKE1vZHVsZSl9ZWxzZSBpZihlLmRhdGEuY21kPT09InJ1biIpe01vZHVsZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQoZS5kYXRhLnB0aHJlYWRfcHRyLDAsMCwxKSxNb2R1bGUuX19lbXNjcmlwdGVuX3RocmVhZF9tYWlsYm94X2F3YWl0KGUuZGF0YS5wdGhyZWFkX3B0ciksTW9kdWxlLmVzdGFibGlzaFN0YWNrU3BhY2UoKSxNb2R1bGUuUFRocmVhZC5yZWNlaXZlT2JqZWN0VHJhbnNmZXIoZS5kYXRhKSxNb2R1bGUuUFRocmVhZC50aHJlYWRJbml0VExTKCksaW5pdGlhbGl6ZWRKU3x8KGluaXRpYWxpemVkSlM9ITApO3RyeXtNb2R1bGUuaW52b2tlRW50cnlQb2ludChlLmRhdGEuc3RhcnRfcm91dGluZSxlLmRhdGEuYXJnKX1jYXRjaChhKXtpZihhIT0idW53aW5kIil0aHJvdyBhfX1lbHNlIGUuZGF0YS5jbWQ9PT0iY2FuY2VsIj9Nb2R1bGUuX3B0aHJlYWRfc2VsZigpJiZNb2R1bGUuX19lbXNjcmlwdGVuX3RocmVhZF9leGl0KC0xKTplLmRhdGEudGFyZ2V0PT09InNldGltbWVkaWF0ZSJ8fChlLmRhdGEuY21kPT09ImNoZWNrTWFpbGJveCI/aW5pdGlhbGl6ZWRKUyYmTW9kdWxlLmNoZWNrTWFpbGJveCgpOmUuZGF0YS5jbWQmJihlcnIoYHdvcmtlci5qcyByZWNlaXZlZCB1bmtub3duIGNvbW1hbmQgJHtlLmRhdGEuY21kfWApLGVycihlLmRhdGEpKSl9Y2F0Y2goYSl7dGhyb3cgTW9kdWxlLl9fZW1zY3JpcHRlbl90aHJlYWRfY3Jhc2hlZD8uKCksYX19c2VsZi5vbm1lc3NhZ2U9aGFuZGxlTWVzc2FnZTtcXG5cJ30pO3ZhciBfbixYZSxjcixNcixwcixObyxDbixOZT1qKCgpPT57InVzZSBzdHJpY3QiO19uPWU9Pntzd2l0Y2goZSl7Y2FzZSJpbnQ4IjpyZXR1cm4gMztjYXNlInVpbnQ4IjpyZXR1cm4gMjtjYXNlImJvb2wiOnJldHVybiA5O2Nhc2UiaW50MTYiOnJldHVybiA1O2Nhc2UidWludDE2IjpyZXR1cm4gNDtjYXNlImludDMyIjpyZXR1cm4gNjtjYXNlInVpbnQzMiI6cmV0dXJuIDEyO2Nhc2UiZmxvYXQxNiI6cmV0dXJuIDEwO2Nhc2UiZmxvYXQzMiI6cmV0dXJuIDE7Y2FzZSJmbG9hdDY0IjpyZXR1cm4gMTE7Y2FzZSJzdHJpbmciOnJldHVybiA4O2Nhc2UiaW50NjQiOnJldHVybiA3O2Nhc2UidWludDY0IjpyZXR1cm4gMTM7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGRhdGEgdHlwZTogJHtlfWApfX0sWGU9ZT0+e3N3aXRjaChlKXtjYXNlIDM6cmV0dXJuImludDgiO2Nhc2UgMjpyZXR1cm4idWludDgiO2Nhc2UgOTpyZXR1cm4iYm9vbCI7Y2FzZSA1OnJldHVybiJpbnQxNiI7Y2FzZSA0OnJldHVybiJ1aW50MTYiO2Nhc2UgNjpyZXR1cm4iaW50MzIiO2Nhc2UgMTI6cmV0dXJuInVpbnQzMiI7Y2FzZSAxMDpyZXR1cm4iZmxvYXQxNiI7Y2FzZSAxOnJldHVybiJmbG9hdDMyIjtjYXNlIDExOnJldHVybiJmbG9hdDY0IjtjYXNlIDg6cmV0dXJuInN0cmluZyI7Y2FzZSA3OnJldHVybiJpbnQ2NCI7Y2FzZSAxMzpyZXR1cm4idWludDY0IjtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZGF0YSB0eXBlOiAke2V9YCl9fSxjcj1lPT5bdm9pZCAwLDQsMSwxLDIsMiw0LDgsdm9pZCAwLDEsMiw4LDQsOCx2b2lkIDAsdm9pZCAwLHZvaWQgMF1bZV0sTXI9ZT0+e3N3aXRjaChlKXtjYXNlImZsb2F0MTYiOnJldHVybiBVaW50MTZBcnJheTtjYXNlImZsb2F0MzIiOnJldHVybiBGbG9hdDMyQXJyYXk7Y2FzZSJ1aW50OCI6cmV0dXJuIFVpbnQ4QXJyYXk7Y2FzZSJpbnQ4IjpyZXR1cm4gSW50OEFycmF5O2Nhc2UidWludDE2IjpyZXR1cm4gVWludDE2QXJyYXk7Y2FzZSJpbnQxNiI6cmV0dXJuIEludDE2QXJyYXk7Y2FzZSJpbnQzMiI6cmV0dXJuIEludDMyQXJyYXk7Y2FzZSJib29sIjpyZXR1cm4gVWludDhBcnJheTtjYXNlImZsb2F0NjQiOnJldHVybiBGbG9hdDY0QXJyYXk7Y2FzZSJ1aW50MzIiOnJldHVybiBVaW50MzJBcnJheTtjYXNlImludDY0IjpyZXR1cm4gQmlnSW50NjRBcnJheTtjYXNlInVpbnQ2NCI6cmV0dXJuIEJpZ1VpbnQ2NEFycmF5O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCB0eXBlOiAke2V9YCl9fSxwcj1lPT57c3dpdGNoKGUpe2Nhc2UidmVyYm9zZSI6cmV0dXJuIDA7Y2FzZSJpbmZvIjpyZXR1cm4gMTtjYXNlIndhcm5pbmciOnJldHVybiAyO2Nhc2UiZXJyb3IiOnJldHVybiAzO2Nhc2UiZmF0YWwiOnJldHVybiA0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBsb2dnaW5nIGxldmVsOiAke2V9YCl9fSxObz1lPT5lPT09ImZsb2F0MzIifHxlPT09ImludDMyInx8ZT09PSJpbnQ2NCJ8fGU9PT0iYm9vbCJ8fGU9PT0iZmxvYXQxNiJ8fGU9PT0idWludDMyIixDbj1lPT57c3dpdGNoKGUpe2Nhc2Uibm9uZSI6cmV0dXJuIDA7Y2FzZSJjcHUiOnJldHVybiAxO2Nhc2UiY3B1LXBpbm5lZCI6cmV0dXJuIDI7Y2FzZSJ0ZXh0dXJlIjpyZXR1cm4gMztjYXNlImdwdS1idWZmZXIiOnJldHVybiA0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBkYXRhIGxvY2F0aW9uOiAke2V9YCl9fX0pO3ZhciB6cj1qKCgpPT57InVzZSBzdHJpY3QifSk7dmFyIEhvPWooKCk9PnsidXNlIHN0cmljdCI7enIoKX0pO3ZhciBHbyxMbz1qKCgpPT57InVzZSBzdHJpY3QiO0dvPSIxLjE3LjEifSk7dmFyIEZvLFB0LEluPWooKCk9PnsidXNlIHN0cmljdCI7TG8oKTtGbz0id2FybmluZyIsUHQ9e3dhc206e30sd2ViZ2w6e30sd2ViZ3B1Ont9LHZlcnNpb25zOntjb21tb246R299LHNldCBsb2dMZXZlbChlKXtpZihlIT09dm9pZCAwKXtpZih0eXBlb2YgZSE9InN0cmluZyJ8fFsidmVyYm9zZSIsImluZm8iLCJ3YXJuaW5nIiwiZXJyb3IiLCJmYXRhbCJdLmluZGV4T2YoZSk9PT0tMSl0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGxvZ2dpbmcgbGV2ZWw6ICR7ZX1gKTtGbz1lfX0sZ2V0IGxvZ0xldmVsKCl7cmV0dXJuIEZvfX07T2JqZWN0LmRlZmluZVByb3BlcnR5KFB0LCJsb2dMZXZlbCIse2VudW1lcmFibGU6ITB9KX0pO3ZhciBHdCxqbz1qKCgpPT57InVzZSBzdHJpY3QiO0luKCk7R3Q9UHR9KTt2YXIgcW89aigoKT0+eyJ1c2Ugc3RyaWN0In0pO3ZhciBLbz1qKCgpPT57InVzZSBzdHJpY3QiO1VyKCl9KTt2YXIgWm89aigoKT0+eyJ1c2Ugc3RyaWN0In0pO3ZhciBRbz1qKCgpPT57InVzZSBzdHJpY3QiO1VyKCl9KTt2YXIgVXI9aigoKT0+eyJ1c2Ugc3RyaWN0IjtxbygpO0tvKCk7Wm8oKTtRbygpfSk7dmFyIFZyPWooKCk9PnsidXNlIHN0cmljdCI7VXIoKX0pO3ZhciBBbixYbyxrdCxSdCxUbj1qKCgpPT57InVzZSBzdHJpY3QiO0luKCk7QW49KGUsdCk9PntQdC53YXNtLnRyYWNlJiZjb25zb2xlLnRpbWVTdGFtcChgJHtlfTo6T1JUOjoke3R9YCl9LFhvPShlLHQpPT57bGV0IHI9bmV3IEVycm9yKCkuc3RhY2s/LnNwbGl0KC9cXHJcXG58XFxyfFxcbi9nKXx8W10sbz0hMTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKyl7aWYobyYmIXJbbl0uaW5jbHVkZXMoIlRSQUNFX0ZVTkMiKSl7bGV0IHM9YEZVTkNfJHtlfTo6JHtyW25dLnRyaW0oKS5zcGxpdCgiICIpWzFdfWA7dCYmKHMrPWA6OiR7dH1gKSxBbigiQ1BVIixzKTtyZXR1cm59cltuXS5pbmNsdWRlcygiVFJBQ0VfRlVOQyIpJiYobz0hMCl9fSxrdD1lPT57UHQud2FzbS50cmFjZSYmWG8oIkJFR0lOIixlKX0sUnQ9ZT0+e1B0Lndhc20udHJhY2UmJlhvKCJFTkQiLGUpfX0pO3ZhciBKbz1qKCgpPT57InVzZSBzdHJpY3QiO3pyKCk7VnIoKTtUbigpfSk7dmFyIGVhPWooKCk9PnsidXNlIHN0cmljdCI7Sm8oKX0pO3ZhciB0YT1qKCgpPT57InVzZSBzdHJpY3QifSk7dmFyIHJhPWooKCk9PnsidXNlIHN0cmljdCI7enIoKTtWcigpfSk7dmFyIG5hPWooKCk9PnsidXNlIHN0cmljdCI7cmEoKX0pO3ZhciBMdD1qKCgpPT57InVzZSBzdHJpY3QiO0hvKCk7am8oKTtlYSgpO1ZyKCk7VG4oKTt0YSgpO25hKCl9KTt2YXIgZGQsbGQsb2EsYWEsaWEsY2QsQmUsQ3Q9aigoKT0+eyJ1c2Ugc3RyaWN0IjtOZSgpO2RkPVsiViIsIkkiLCJXIiwiRSIsIkYiXSxsZD0oZSx0KT0+e2NvbnNvbGUubG9nKGBbJHtkZFtlXX0sJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9XSR7dH1gKX0saWE9KGUsdCk9PntvYT1lLGFhPXR9LGNkPShlLHQpPT57bGV0IHI9cHIoZSksbz1wcihvYSk7cj49byYmbGQocix0eXBlb2YgdD09ImZ1bmN0aW9uIj90KCk6dCl9LEJlPSguLi5lKT0+e2FhJiZjZCguLi5lKX19KTt2YXIgc2EsdWE9aigoKT0+eyJ1c2Ugc3RyaWN0IjtOZSgpO3NhPShlLHQpPT5uZXcoTXIodCkpKGUpfSk7dmFyIE5yPWooKCk9PnsidXNlIHN0cmljdCJ9KTt2YXIgV3IscGQsZGEsT24sRW4sY2EscGE9aigoKT0+eyJ1c2Ugc3RyaWN0IjtDdCgpO05yKCk7V3I9ZT0+TWF0aC5jZWlsKGUvMTYpKjE2LHBkPTEsZGE9KCk9PnBkKyssT249YXN5bmMoZSx0LHIsbyk9PntsZXQgbj1XcihyKSxzPWUuZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7c2l6ZTpuLHVzYWdlOkdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUfEdQVUJ1ZmZlclVzYWdlLk1BUF9SRUFEfSk7dHJ5e2xldCB1PWUuZ2V0Q29tbWFuZEVuY29kZXIoKTtlLmVuZENvbXB1dGVQYXNzKCksdS5jb3B5QnVmZmVyVG9CdWZmZXIodCwwLHMsMCxuKSxlLmZsdXNoKCksYXdhaXQgcy5tYXBBc3luYyhHUFVNYXBNb2RlLlJFQUQpO2xldCBsPXMuZ2V0TWFwcGVkUmFuZ2UoKTtpZihvKXtsZXQgYT1vKCk7cmV0dXJuIGEuc2V0KG5ldyBVaW50OEFycmF5KGwsMCxyKSksYX1lbHNlIHJldHVybiBuZXcgVWludDhBcnJheShsLnNsaWNlKDAscikpfWZpbmFsbHl7cy5kZXN0cm95KCl9fSxFbj1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmJhY2tlbmQ9dDt0aGlzLnN0b3JhZ2VDYWNoZT1uZXcgTWFwLHRoaXMuZnJlZUJ1ZmZlcnM9bmV3IE1hcCx0aGlzLmZyZWVVbmlmb3JtQnVmZmVycz1uZXcgTWFwLHRoaXMuYnVmZmVyc0ZvclVwbG9hZGluZ1BlbmRpbmc9W10sdGhpcy5idWZmZXJzUGVuZGluZz1bXSx0aGlzLmV4dGVybmFsQnVmZmVycz1uZXcgTWFwfXVwbG9hZCh0LHIpe2xldCBvPXIuYnVmZmVyLG49ci5ieXRlT2Zmc2V0LHM9ci5ieXRlTGVuZ3RoLHU9V3IocyksbD10aGlzLnN0b3JhZ2VDYWNoZS5nZXQodCk7aWYoIWwpdGhyb3cgbmV3IEVycm9yKCJncHUgZGF0YSBmb3IgdXBsb2FkaW5nIGRvZXMgbm90IGV4aXN0Iik7aWYobC5vcmlnaW5hbFNpemUhPT1zKXRocm93IG5ldyBFcnJvcihgaW5jb25zaXN0ZW50IGRhdGEgc2l6ZS4gZ3B1IGRhdGEgc2l6ZT0ke2wub3JpZ2luYWxTaXplfSwgZGF0YSBzaXplPSR7c31gKTtsZXQgYT10aGlzLmJhY2tlbmQuZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7bWFwcGVkQXRDcmVhdGlvbjohMCxzaXplOnUsdXNhZ2U6R1BVQnVmZmVyVXNhZ2UuTUFQX1dSSVRFfEdQVUJ1ZmZlclVzYWdlLkNPUFlfU1JDfSkscD1hLmdldE1hcHBlZFJhbmdlKCk7bmV3IFVpbnQ4QXJyYXkocCkuc2V0KG5ldyBVaW50OEFycmF5KG8sbixzKSksYS51bm1hcCgpO2xldCBoPXRoaXMuYmFja2VuZC5nZXRDb21tYW5kRW5jb2RlcigpO3RoaXMuYmFja2VuZC5lbmRDb21wdXRlUGFzcygpLGguY29weUJ1ZmZlclRvQnVmZmVyKGEsMCxsLmdwdURhdGEuYnVmZmVyLDAsdSksQmUoInZlcmJvc2UiLCgpPT5gW1dlYkdQVV0gR3B1RGF0YU1hbmFnZXIudXBsb2FkKGlkPSR7dH0pYCksdGhpcy5idWZmZXJzRm9yVXBsb2FkaW5nUGVuZGluZy5wdXNoKGEpfW1lbWNweSh0LHIpe2xldCBvPXRoaXMuc3RvcmFnZUNhY2hlLmdldCh0KTtpZighbyl0aHJvdyBuZXcgRXJyb3IoInNvdXJjZSBncHUgZGF0YSBmb3IgbWVtY3B5IGRvZXMgbm90IGV4aXN0Iik7bGV0IG49dGhpcy5zdG9yYWdlQ2FjaGUuZ2V0KHIpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiZGVzdGluYXRpb24gZ3B1IGRhdGEgZm9yIG1lbWNweSBkb2VzIG5vdCBleGlzdCIpO2lmKG8ub3JpZ2luYWxTaXplIT09bi5vcmlnaW5hbFNpemUpdGhyb3cgbmV3IEVycm9yKCJpbmNvbnNpc3RlbnQgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBncHUgZGF0YSBzaXplIik7bGV0IHM9V3Ioby5vcmlnaW5hbFNpemUpLHU9dGhpcy5iYWNrZW5kLmdldENvbW1hbmRFbmNvZGVyKCk7dGhpcy5iYWNrZW5kLmVuZENvbXB1dGVQYXNzKCksdS5jb3B5QnVmZmVyVG9CdWZmZXIoby5ncHVEYXRhLmJ1ZmZlciwwLG4uZ3B1RGF0YS5idWZmZXIsMCxzKX1yZWdpc3RlckV4dGVybmFsQnVmZmVyKHQscixvKXtsZXQgbjtpZihvKXtpZihuPXRoaXMuZXh0ZXJuYWxCdWZmZXJzLmdldChvKSxuPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigicHJldmlvdXMgYnVmZmVyIGlzIG5vdCByZWdpc3RlcmVkIik7aWYodD09PW8pcmV0dXJuIEJlKCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIEdwdURhdGFNYW5hZ2VyLnJlZ2lzdGVyRXh0ZXJuYWxCdWZmZXIoc2l6ZT0ke3J9KSA9PiBpZD0ke259LCBidWZmZXIgaXMgdGhlIHNhbWUsIHNraXAuYCksbjt0aGlzLmV4dGVybmFsQnVmZmVycy5kZWxldGUobyl9ZWxzZSBuPWRhKCk7cmV0dXJuIHRoaXMuc3RvcmFnZUNhY2hlLnNldChuLHtncHVEYXRhOntpZDpuLHR5cGU6MCxidWZmZXI6dH0sb3JpZ2luYWxTaXplOnJ9KSx0aGlzLmV4dGVybmFsQnVmZmVycy5zZXQodCxuKSxCZSgidmVyYm9zZSIsKCk9PmBbV2ViR1BVXSBHcHVEYXRhTWFuYWdlci5yZWdpc3RlckV4dGVybmFsQnVmZmVyKHNpemU9JHtyfSkgPT4gaWQ9JHtufSwgcmVnaXN0ZXJlZC5gKSxufXVucmVnaXN0ZXJFeHRlcm5hbEJ1ZmZlcih0KXtsZXQgcj10aGlzLmV4dGVybmFsQnVmZmVycy5nZXQodCk7ciE9PXZvaWQgMCYmKHRoaXMuc3RvcmFnZUNhY2hlLmRlbGV0ZShyKSx0aGlzLmV4dGVybmFsQnVmZmVycy5kZWxldGUodCksQmUoInZlcmJvc2UiLCgpPT5gW1dlYkdQVV0gR3B1RGF0YU1hbmFnZXIudW5yZWdpc3RlckV4dGVybmFsQnVmZmVyKCkgPT4gaWQ9JHtyfWApKX1jcmVhdGUodCxyPUdQVUJ1ZmZlclVzYWdlLlNUT1JBR0V8R1BVQnVmZmVyVXNhZ2UuQ09QWV9TUkN8R1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1Qpe2xldCBvPVdyKHQpLG4scz0ociZHUFVCdWZmZXJVc2FnZS5TVE9SQUdFKT09PUdQVUJ1ZmZlclVzYWdlLlNUT1JBR0UsdT0ociZHUFVCdWZmZXJVc2FnZS5VTklGT1JNKT09PUdQVUJ1ZmZlclVzYWdlLlVOSUZPUk07aWYoc3x8dSl7bGV0IGE9cz90aGlzLmZyZWVCdWZmZXJzOnRoaXMuZnJlZVVuaWZvcm1CdWZmZXJzLHA9YS5nZXQobyk7cHx8KHA9W10sYS5zZXQobyxwKSkscC5sZW5ndGg+MD9uPXAucG9wKCk6bj10aGlzLmJhY2tlbmQuZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7c2l6ZTpvLHVzYWdlOnJ9KX1lbHNlIG49dGhpcy5iYWNrZW5kLmRldmljZS5jcmVhdGVCdWZmZXIoe3NpemU6byx1c2FnZTpyfSk7bGV0IGw9e2lkOmRhKCksdHlwZTowLGJ1ZmZlcjpufTtyZXR1cm4gdGhpcy5zdG9yYWdlQ2FjaGUuc2V0KGwuaWQse2dwdURhdGE6bCxvcmlnaW5hbFNpemU6dH0pLEJlKCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIEdwdURhdGFNYW5hZ2VyLmNyZWF0ZShzaXplPSR7dH0pID0+IGlkPSR7bC5pZH1gKSxsfWdldCh0KXtyZXR1cm4gdGhpcy5zdG9yYWdlQ2FjaGUuZ2V0KHQpPy5ncHVEYXRhfXJlbGVhc2UodCl7bGV0IHI9dGhpcy5zdG9yYWdlQ2FjaGUuZ2V0KHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcigicmVsZWFzaW5nIGRhdGEgZG9lcyBub3QgZXhpc3QiKTtyZXR1cm4gQmUoInZlcmJvc2UiLCgpPT5gW1dlYkdQVV0gR3B1RGF0YU1hbmFnZXIucmVsZWFzZShpZD0ke3R9KSwgZ3B1RGF0YUlkPSR7ci5ncHVEYXRhLmlkfWApLHRoaXMuc3RvcmFnZUNhY2hlLmRlbGV0ZSh0KSx0aGlzLmJ1ZmZlcnNQZW5kaW5nLnB1c2goci5ncHVEYXRhLmJ1ZmZlciksci5vcmlnaW5hbFNpemV9YXN5bmMgZG93bmxvYWQodCxyKXtsZXQgbz10aGlzLnN0b3JhZ2VDYWNoZS5nZXQodCk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJkYXRhIGRvZXMgbm90IGV4aXN0Iik7YXdhaXQgT24odGhpcy5iYWNrZW5kLG8uZ3B1RGF0YS5idWZmZXIsby5vcmlnaW5hbFNpemUscil9cmVmcmVzaFBlbmRpbmdCdWZmZXJzKCl7Zm9yKGxldCB0IG9mIHRoaXMuYnVmZmVyc0ZvclVwbG9hZGluZ1BlbmRpbmcpdC5kZXN0cm95KCk7dGhpcy5idWZmZXJzRm9yVXBsb2FkaW5nUGVuZGluZz1bXTtmb3IobGV0IHQgb2YgdGhpcy5idWZmZXJzUGVuZGluZykodC51c2FnZSZHUFVCdWZmZXJVc2FnZS5TVE9SQUdFKT09PUdQVUJ1ZmZlclVzYWdlLlNUT1JBR0U/dGhpcy5mcmVlQnVmZmVycy5nZXQodC5zaXplKS5wdXNoKHQpOih0LnVzYWdlJkdQVUJ1ZmZlclVzYWdlLlVOSUZPUk0pPT09R1BVQnVmZmVyVXNhZ2UuVU5JRk9STT90aGlzLmZyZWVVbmlmb3JtQnVmZmVycy5nZXQodC5zaXplKS5wdXNoKHQpOnQuZGVzdHJveSgpO3RoaXMuYnVmZmVyc1BlbmRpbmc9W119ZGlzcG9zZSgpe3RoaXMuZnJlZUJ1ZmZlcnMuZm9yRWFjaCh0PT57dC5mb3JFYWNoKHI9PntyLmRlc3Ryb3koKX0pfSksdGhpcy5mcmVlVW5pZm9ybUJ1ZmZlcnMuZm9yRWFjaCh0PT57dC5mb3JFYWNoKHI9PntyLmRlc3Ryb3koKX0pfSksdGhpcy5zdG9yYWdlQ2FjaGUuZm9yRWFjaCh0PT57dC5ncHVEYXRhLmJ1ZmZlci5kZXN0cm95KCl9KSx0aGlzLnN0b3JhZ2VDYWNoZT1uZXcgTWFwLHRoaXMuZnJlZUJ1ZmZlcnM9bmV3IE1hcCx0aGlzLmZyZWVVbmlmb3JtQnVmZmVycz1uZXcgTWFwfX0sY2E9KC4uLmUpPT5uZXcgRW4oLi4uZSl9KTt2YXIgUG4sZ2UsamU9aigoKT0+eyJ1c2Ugc3RyaWN0IjtQbj1jbGFzc3tjb25zdHJ1Y3Rvcih0KXtPYmplY3QuYXNzaWduKHRoaXMsdCl9Z2V0IGNhY2hlS2V5KCl7cmV0dXJuIHRoaXMua2V5fHwodGhpcy5rZXk9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykuc29ydCgpLm1hcCh0PT5gJHt0aGlzW3RdfWApLmpvaW4oIjsiKSksdGhpcy5rZXl9fSxnZT1lPT5uZXcgUG4oZSl9KTt2YXIga24sZHQsVSxCdCxIcixHcixMciwkZT1qKCgpPT57InVzZSBzdHJpY3QiO2tuPWNsYXNze3N0YXRpYyBjYWxjTWF0TXVsU2hhcGUodCxyKXtyZXR1cm4gdFsxXSE9PXJbMF0/dm9pZCAwOlt0WzBdLHJbMV1dfX0sZHQ9Y2xhc3N7c3RhdGljIGNhbGNTaGFwZSh0LHIsbz0hMSl7bGV0IG49dC5sZW5ndGgscz1yLmxlbmd0aDtpZihuPT09MClyZXR1cm4gcjtpZihzPT09MClyZXR1cm4gdDtsZXQgdT1NYXRoLm1heCh0Lmxlbmd0aCxyLmxlbmd0aCksbD1uZXcgQXJyYXkodSk7aWYobyl7aWYobjwyfHxzPDIpcmV0dXJuO2xldCBhPWtuLmNhbGNNYXRNdWxTaGFwZShbdFtuLTJdLHRbbi0xXV0sW3Jbcy0yXSxyW3MtMV1dKTtpZihhPT09dm9pZCAwKXJldHVybjtbbFt1LTJdLGxbdS0xXV09YX1mb3IobGV0IGE9bz8zOjE7YTw9dTthKyspe2xldCBwPW4tYTwwPzE6dFtuLWFdLGg9cy1hPDA/MTpyW3MtYV07aWYocCE9PWgmJnA+MSYmaD4xKXJldHVybjtsW3UtYV09TWF0aC5tYXgocCxoKX1yZXR1cm4gbH1zdGF0aWMgaXNWYWxpZEJyb2FkY2FzdCh0LHIpe2xldCBvPXQubGVuZ3RoLG49ci5sZW5ndGg7aWYobz5uKXJldHVybiExO2ZvcihsZXQgcz0xO3M8PW87cysrKWlmKHRbby1zXSE9PTEmJnRbby1zXSE9PXJbbi1zXSlyZXR1cm4hMTtyZXR1cm4hMH19LFU9Y2xhc3MgZXtzdGF0aWMgc2l6ZSh0KXtyZXR1cm4gZS5nZXRTaXplRnJvbURpbWVuc2lvblJhbmdlKHQsMCx0Lmxlbmd0aCl9c3RhdGljIHNpemVGcm9tRGltZW5zaW9uKHQscil7aWYocjwwfHxyPnQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgaW52YWxpZCBkaW1lbnNpb24gb2YgJHtyfSBmb3Igc2l6ZUZyb21EaW1lbnNpb24gYXMgVGVuc29yIGhhcyAke3QubGVuZ3RofSBkaW1lbnNpb25zLmApO3JldHVybiBlLmdldFNpemVGcm9tRGltZW5zaW9uUmFuZ2UodCxyLHQubGVuZ3RoKX1zdGF0aWMgc2l6ZVRvRGltZW5zaW9uKHQscil7aWYocjwwfHxyPnQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgaW52YWxpZCBkaW1lbnNpb24gb2YgJHtyfSBmb3Igc2l6ZVRvRGltZW5zaW9uIGFzIFRlbnNvciBoYXMgJHt0Lmxlbmd0aH0gZGltZW5zaW9ucy5gKTtyZXR1cm4gZS5nZXRTaXplRnJvbURpbWVuc2lvblJhbmdlKHQsMCxyKX1zdGF0aWMgZ2V0U2l6ZUZyb21EaW1lbnNpb25SYW5nZSh0LHIsbyl7bGV0IG49MTtmb3IobGV0IHM9cjtzPG87cysrKXtpZih0W3NdPDApdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgZ2V0IHZhbGlkIHNpemUgZnJvbSBzcGVjaWZpZWQgZGltZW5zaW9uIHJhbmdlLiBNb3N0IGxpa2VseSB0aGUgcmFuZ2UgY29udGFpbnMgbmVnYXRpdmUgdmFsdWVzIGluIHRoZW0uIik7bio9dFtzXX1yZXR1cm4gbn1zdGF0aWMgY29tcHV0ZVN0cmlkZXModCl7bGV0IHI9dC5sZW5ndGg7aWYocj09PTApcmV0dXJuW107aWYocj09PTEpcmV0dXJuWzFdO2xldCBvPW5ldyBBcnJheShyKTtvW3ItMV09MSxvW3ItMl09dFtyLTFdO2ZvcihsZXQgbj1yLTM7bj49MDstLW4pb1tuXT1vW24rMV0qdFtuKzFdO3JldHVybiBvfXN0YXRpYyBub3JtYWxpemVBeGlzKHQscil7aWYodDwtciYmdD49cil0aHJvdyBuZXcgRXJyb3IoInVuc3VwcG9ydGVkIGF4aXMgZm9yIHRoaXMgb3BlcmF0aW9uLiIpO3JldHVybiB0PDA/dCtyOnR9c3RhdGljIG5vcm1hbGl6ZUF4ZXModCxyKXtyZXR1cm4gdC5tYXAobz0+dGhpcy5ub3JtYWxpemVBeGlzKG8scj8/dC5sZW5ndGgpKX1zdGF0aWMgc29ydEJhc2VkT25QZXJtKHQscil7cmV0dXJuIHI/ci5tYXAobz0+dFtvXSk6dC5zbGljZSgpLnJldmVyc2UoKX1zdGF0aWMgcGFkU2hhcGUodCxyKXtsZXQgbz10Lmxlbmd0aDtyZXR1cm4gdC5tYXAoKG4scyk9Pm4rcltzXStyW3Mrb10pfXN0YXRpYyBhcmVFcXVhbCh0LHIpe3JldHVybiB0Lmxlbmd0aCE9PXIubGVuZ3RoPyExOnQuZXZlcnkoKG8sbik9Pm89PT1yW25dKX19LEJ0PWNsYXNzIGV7c3RhdGljIGFkanVzdFBvb2xBdHRyaWJ1dGVzKHQscixvLG4scyx1KXtpZighdCYmby5sZW5ndGghPT1yLmxlbmd0aC0yKXRocm93IG5ldyBFcnJvcigibGVuZ3RoIG9mIHNwZWNpZmllZCBrZXJuZWwgc2hhcGVzIHNob3VsZCBiZSAyIGxlc3MgdGhhbiBsZW5ndGggb2YgaW5wdXQgZGltZW5zaW9ucyIpO2lmKHQpZm9yKGxldCBsPTA7bDxyLmxlbmd0aC0yO2wrKylsPj1vLmxlbmd0aD9vLnB1c2gocltsKzJdKTpvW2xdPXJbbCsyXTtmb3IobGV0IGw9MDtsPG8ubGVuZ3RoO2wrKylpZihsPG4ubGVuZ3RoKXtpZihuW2xdPDApdGhyb3cgbmV3IEVycm9yKCJzdHJpZGVzIHNob3VsZCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMSIpfWVsc2Ugbi5wdXNoKDEpO2ZvcihsZXQgbD0wO2w8by5sZW5ndGg7bCsrKWlmKGw8cy5sZW5ndGgpe2lmKHNbbF08MCl0aHJvdyBuZXcgRXJyb3IoImRpbGF0aW9ucyBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDEiKX1lbHNlIHMucHVzaCgxKTtmb3IobGV0IGw9MDtsPG8ubGVuZ3RoKjI7bCsrKWlmKGw8dS5sZW5ndGgpe2lmKHVbbF08MCl0aHJvdyBuZXcgRXJyb3IoInBhZCBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDEiKX1lbHNlIHUucHVzaCgwKTtmb3IobGV0IGw9MDtsPG8ubGVuZ3RoO2wrKyl7aWYob1tsXTw9MCl0aHJvdyBuZXcgRXJyb3IoImtlcm5lbCBzaGFwZXMgbmVlZCB0byBiZSBncmVhdGVyIHRoYW4gMCIpO2lmKHVbbF0+PW9bbF18fHVbbCtvLmxlbmd0aF0+PW9bbF0pdGhyb3cgbmV3IEVycm9yKCJwYWRzIHNob3VsZCBiZSBzbWFsbGVyIHRoYW4ga2VybmVsIil9fXN0YXRpYyBhZGp1c3RQYWRzQmFzZWRPbkF1dG9QYWQodCxyLG8sbixzLHUsbCl7aWYobCl7aWYocy5sZW5ndGghPT0yKih0Lmxlbmd0aC0yKSl0aHJvdyBuZXcgRXJyb3IoImxlbmd0aCBvZiBwYWRzIHNob3VsZCBiZSB0d2ljZSB0aGUgbGVuZ3RoIG9mIGRhdGEgZGltZW5zaW9ucyIpO2lmKHIubGVuZ3RoIT09dC5sZW5ndGgtMil0aHJvdyBuZXcgRXJyb3IoImxlbmd0aCBvZiBzdHJpZGVzIHNob3VsZCBiZSB0aGUgbGVuZ3RoIG9mIGRhdGEgZGltZW5zaW9ucyIpO2lmKG4ubGVuZ3RoIT09dC5sZW5ndGgtMil0aHJvdyBuZXcgRXJyb3IoImxlbmd0aCBvZiBrZXJuZWwgc2hhcGVzIHNob3VsZCBiZSB0aGUgbGVuZ3RoIG9mIGRhdGEgZGltZW5zaW9ucyIpO2ZvcihsZXQgYT0wO2E8dC5sZW5ndGgtMjthKyspZS5hZGp1c3RQYWRBbmRSZXR1cm5TaGFwZSh0W2ErKHU/MToyKV0sclthXSxvW2FdLG5bYV0scyxhLGErdC5sZW5ndGgtMixsKX19c3RhdGljIGNvbXB1dGVQb29sT3V0cHV0U2hhcGUodCxyLG8sbixzLHUsbCl7aWYoci5sZW5ndGg8PTApdGhyb3cgbmV3IEVycm9yKCJpbnB1dCBzaGFwZSBtdXN0IGJlIG9mIHNpemUgZ3JlYXRlciB0aGFuIDAiKTtsZXQgYT1bclswXSxyWzFdXTtyZXR1cm4gZS5jb21wdXRlU2hhcGVIZWxwZXIodCxyLGEsbyxuLHMsdSxsKSxhfXN0YXRpYyBjb21wdXRlQ29udk91dHB1dFNoYXBlKHQscixvLG4scyx1LGwpe2lmKHQubGVuZ3RoPD0wfHxyLmxlbmd0aDw9MCl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgaW5wdXQgdGVuc29yIGRpbXMgb3IgaW52YWxpZCBmaWx0ZXIgdGVuc29yIGRpbXMiKTtsZXQgYT1bdFswXSxyWzBdXTtyZXR1cm4gZS5jb21wdXRlU2hhcGVIZWxwZXIoITEsdCxhLG8sbixzLHUsbCksYX1zdGF0aWMgY29tcHV0ZVNoYXBlSGVscGVyKHQscixvLG4scyx1LGwsYSl7aWYodClmb3IobGV0IHA9MDtwPHIubGVuZ3RoLTI7cCsrKW8ucHVzaCgxKTtlbHNlIGZvcihsZXQgcD0wO3A8ci5sZW5ndGgtMjtwKyspby5wdXNoKGUuYWRqdXN0UGFkQW5kUmV0dXJuU2hhcGUocltwKzJdLG5bcF0sc1twXSx1W3BdLGwscCxwK3IubGVuZ3RoLTIsYSkpfXN0YXRpYyBhZGp1c3RQYWRBbmRSZXR1cm5TaGFwZSh0LHIsbyxuLHMsdSxsLGEpe2xldCBwPW8qKG4tMSkrMTtpZihhJiZhIT09Ik5PVFNFVCIpc3dpdGNoKGEpe2Nhc2UiVkFMSUQiOnJldHVybiBzW3VdPTAsc1tsXT0wLE1hdGguZmxvb3IoKHQtcCkvcisxKTtjYXNlIlNBTUVfTE9XRVIiOmNhc2UiU0FNRV9VUFBFUiI6aWYobyE9PTEpdGhyb3cgbmV3IEVycm9yKCJEaWxhdGlvbiBub3Qgc3VwcG9ydGVkIGZvciBTQU1FX1VQUEVSIG9yIFNBTUVfTE9XRVIiKTt7bGV0IGc9KCh0K3ItMSkvci0xKSpyK24tdDtyZXR1cm4gc1t1XT1NYXRoLmZsb29yKGE9PT0iU0FNRV9MT1dFUiI/KGcrMSkvMjpnLzIpLHNbbF09Zy1zW3VdLE1hdGguZmxvb3IoKHQrZy1uKS9yKzEpfWRlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbnN1cHBvcnRlZCBBdXRvUGFkIHR5cGUiKX1lbHNlIHJldHVybiBNYXRoLmZsb29yKCh0K3NbdV0rc1tsXS1wKS9yKzEpfX0sSHI9Y2xhc3N7c3RhdGljIGdldFNoYXBlT2ZHZW1tUmVzdWx0KHQscixvLG4scyl7aWYodC5sZW5ndGghPT0yfHxvLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCJzaGFwZSBuZWVkIHRvIGJlIG9mIHNpemUgMiIpO2xldCB1LGwsYTtyPyh1PXRbMV0sbD10WzBdKToodT10WzBdLGw9dFsxXSk7bGV0IHA9LTE7aWYobj8oYT1vWzBdLHA9MSk6KGE9b1sxXSxwPTApLG9bcF0hPT1sKXRocm93IG5ldyBFcnJvcigiZGltZW5zaW9uIG1pc21hdGNoIik7aWYodTw9MHx8YTw9MHx8bDw9MCl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgc2hhcGUgc3BlY2lmaWVkIik7aWYocyYmIWR0LmlzVmFsaWRCcm9hZGNhc3QocyxbdSxhXSkpdGhyb3cgbmV3IEVycm9yKCJnZW1tOiBpbnZhbGlkIGJpYXMgc2hhcGUgZm9yIGJyb2FkY2FzdCIpO3JldHVyblt1LGEsbF19fSxHcj0tMzQwMjgyMzQ2NjM4NTI4ODZlMjIsTHI9MzQwMjgyMzQ2NjM4NTI4ODZlMjJ9KTt2YXIgbWQsQm4sTGUsbHQsTCxGZSxaZSxhdCxKZSxjZSxEbixNLEYsRnIsUm4sbWEsRnQsUmUsdmU9aigoKT0+eyJ1c2Ugc3RyaWN0IjtOZSgpOyRlKCk7bWQ9NjQsQm49KGUsdCk9PntpZih0PT09Myl0aHJvdyBuZXcgRXJyb3IoInZlYzMgaGFzIHNhbWUgYWxpZ25tZW50IGFzIHZlYzQsIHVzZSB2ZWM0IGluc3RlYWQiKTtzd2l0Y2goZSl7Y2FzZSAxMDpyZXR1cm4gdD4xP2B2ZWMke3R9PGYxNj5gOiJmMTYiO2Nhc2UgMTpyZXR1cm4gdD4xP2B2ZWMke3R9PGYzMj5gOiJmMzIiO2Nhc2UgNjpyZXR1cm4gdD4xP2B2ZWMke3R9PGkzMj5gOiJpMzIiO2Nhc2UgMTI6cmV0dXJuIHQ+MT9gdmVjJHt0fTx1MzI+YDoidTMyIjtjYXNlIDc6aWYodD4xKXRocm93IG5ldyBFcnJvcigiY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQgdmVjWCBvZiB1aW50NjQgeWV0Iik7cmV0dXJuWyJ2ZWMyPHUzMj4iLCJpMzIiXTtjYXNlIDEzOmlmKHQ+MSl0aHJvdyBuZXcgRXJyb3IoImN1cnJlbnRseSBub3Qgc3VwcG9ydGVkIHZlY1ggb2YgdWludDY0IHlldCIpO3JldHVyblsidmVjMjx1MzI+IiwidTMyIl07Y2FzZSA5OmlmKHQhPT00KXRocm93IG5ldyBFcnJvcigiYm9vbCBtdXN0IGJlIHZlYzQiKTtyZXR1cm5bInUzMiIsInZlYzQ8Ym9vbD4iXTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBkYXRhIHR5cGU6ICR7ZX1gKX19LExlPShlLHQ9MSk9PntsZXQgcj1CbihlLHQpO3JldHVybiB0eXBlb2Ygcj09InN0cmluZyI/cjpyWzBdfSxsdD0oZSx0PTEpPT57bGV0IHI9Qm4oZSx0KTtyZXR1cm4gdHlwZW9mIHI9PSJzdHJpbmciP3I6clsxXX0sTD1lPT5lLmxlbmd0aD09PTA/W106W3t0eXBlOiJ1aW50MzIiLGRhdGE6ZX0se3R5cGU6InVpbnQzMiIsZGF0YTpVLmNvbXB1dGVTdHJpZGVzKGUpfV0sRmU9ZT0+ZSU0PT09MD80OmUlMj09PTA/MjoxLFplPShlPSJmMzIiLHQscj0iMCIpPT4hdHx8dD09PTE/YCR7ZX0oJHtyfSlgOmB2ZWMke3R9PCR7ZX0+KCR7cn0pYCxhdD0oZSx0LHIpPT5lPT09ImYzMiI/cjp0PT09MT9gZjMyKCR7cn0pYDpgdmVjJHt0fWYoJHtyfSlgLEplPShlLHQpPT50PT09ND9gKCR7ZX0ueCArICR7ZX0ueSArICR7ZX0ueiArICR7ZX0udylgOnQ9PT0yP2AoJHtlfS54ICsgJHtlfS55KWA6dD09PTM/YCgke2V9LnggKyAke2V9LnkgKyAke2V9LnopYDplLGNlPShlLHQscik9PmUuc3RhcnRzV2l0aCgidW5pZm9ybXMuIikmJnI+ND90eXBlb2YgdD09InN0cmluZyI/YCR7ZX1bKCR7dH0pIC8gNF1bKCR7dH0pICUgNF1gOmAke2V9WyR7TWF0aC5mbG9vcih0LzQpfV1bJHt0JTR9XWA6cj4xP2Ake2V9WyR7dH1dYDplLERuPShlLHQscixvLG4pPT57bGV0IHM9dHlwZW9mIHI9PSJudW1iZXIiLHU9cz9yOnIubGVuZ3RoLGw9Wy4uLm5ldyBBcnJheSh1KS5rZXlzKCldLGE9dTwyPyJ1MzIiOnU8PTQ/YHZlYyR7dX08dTMyPmA6YGFycmF5PHUzMiwgJHt1fT5gLHA9Qm4odCxuKSxoPXR5cGVvZiBwPT0ic3RyaW5nIj9wOnBbMV0sZz10eXBlb2YgcD09InN0cmluZyI/cDpwWzBdLGI9e2luZGljZXM6YSx2YWx1ZTpoLHN0b3JhZ2U6Zyx0ZW5zb3I6dH0sdz1HPT50eXBlb2YgRz09InN0cmluZyI/RzpgJHtHfXVgLHk9e29mZnNldFRvSW5kaWNlczohMSxpbmRpY2VzVG9PZmZzZXQ6ITEsYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQ6ITEsc2V0OiExLHNldEJ5SW5kaWNlczohMSxnZXQ6ITEsZ2V0QnlJbmRpY2VzOiExfSxfPXM/InVuaWZvcm1zLiI6IiIsST1gJHtffSR7ZX1fc2hhcGVgLCQ9YCR7X30ke2V9X3N0cmlkZXNgLHg9IiI7Zm9yKGxldCBHPTA7Rzx1LTE7RysrKXgrPWBcbiAgICBsZXQgZGltJHtHfSA9IGN1cnJlbnQgLyAke2NlKCQsRyx1KX07XG4gICAgbGV0IHJlc3Qke0d9ID0gY3VycmVudCAlICR7Y2UoJCxHLHUpfTtcbiAgICBpbmRpY2VzWyR7R31dID0gZGltJHtHfTtcbiAgICBjdXJyZW50ID0gcmVzdCR7R307XG4gICAgYDt4Kz1gaW5kaWNlc1ske3UtMX1dID0gY3VycmVudDtgO2xldCBFPXU8Mj8iIjpgXG4gIGZuIG8yaV8ke2V9KG9mZnNldDogdTMyKSAtPiAke2IuaW5kaWNlc30ge1xuICAgIHZhciBpbmRpY2VzOiAke2IuaW5kaWNlc307XG4gICAgdmFyIGN1cnJlbnQgPSBvZmZzZXQ7XG4gICAgJHt4fVxuICAgIHJldHVybiBpbmRpY2VzO1xuICB9YCxBPUc9Pih5Lm9mZnNldFRvSW5kaWNlcz0hMCx1PDI/RzpgbzJpXyR7ZX0oJHtHfSlgKSx6PVtdO2lmKHU+PTIpZm9yKGxldCBHPXUtMTtHPj0wO0ctLSl6LnB1c2goYCR7Y2UoJCxHLHUpfSAqIChpbmRpY2VzWyR7R31dKWApO2xldCBSPXU8Mj8iIjpgXG4gIGZuIGkyb18ke2V9KGluZGljZXM6ICR7Yi5pbmRpY2VzfSkgLT4gdTMyIHtcbiAgICByZXR1cm4gJHt6LmpvaW4oIisiKX07XG4gIH1gLFY9Rz0+KHkuaW5kaWNlc1RvT2Zmc2V0PSEwLHU8Mj9HOmBpMm9fJHtlfSgke0d9KWApLFQ9KC4uLkcpPT51PT09MD8iMHUiOmAke2IuaW5kaWNlc30oJHtHLm1hcCh3KS5qb2luKCIsIil9KWAsTj0oRyxlZSk9PnU8Mj9gJHtHfWA6YCR7Y2UoRyxlZSx1KX1gLHRlPShHLGVlLGJlKT0+dTwyP2Ake0d9PSR7YmV9O2A6YCR7Y2UoRyxlZSx1KX09JHtiZX07YCxZPXt9LEs9KEcsZWUpPT57eS5icm9hZGNhc3RlZEluZGljZXNUb09mZnNldD0hMDtsZXQgYmU9YCR7ZWUubmFtZX1icm9hZGNhc3RlZEluZGljZXNUbyR7ZX1PZmZzZXRgO2lmKGJlIGluIFkpcmV0dXJuYCR7YmV9KCR7R30pYDtsZXQgZXQ9W107Zm9yKGxldCB6ZT11LTE7emU+PTA7emUtLSl7bGV0IFVlPWVlLmluZGljZXNHZXQoIm91dHB1dEluZGljZXMiLHplK2VlLnJhbmstdSk7ZXQucHVzaChgJHtOKCQsemUpfSAqICgke1VlfSAlICR7TihJLHplKX0pYCl9cmV0dXJuIFlbYmVdPWBmbiAke2JlfShvdXRwdXRJbmRpY2VzOiAke2VlLnR5cGUuaW5kaWNlc30pIC0+IHUzMiB7XG4gICAgICAgICAgICAgcmV0dXJuICR7ZXQubGVuZ3RoPjA/ZXQuam9pbigiKyIpOiIwdSJ9O1xuICAgICAgICAgICB9YCxgJHtiZX0oJHtHfSlgfSxRPShHLGVlKT0+KCgpPT57aWYoYi5zdG9yYWdlPT09Yi52YWx1ZSlyZXR1cm5gJHtlfVske0d9XT0ke2VlfTtgO2lmKGIuc3RvcmFnZT09PSJ2ZWMyPHUzMj4iJiZiLnZhbHVlPT09ImkzMiIpcmV0dXJuYCR7ZX1bJHtHfV09dmVjMjx1MzI+KHUzMigke2VlfSksIHNlbGVjdCgwdSwgMHhGRkZGRkZGRnUsICR7ZWV9IDwgMCkpO2A7aWYoYi5zdG9yYWdlPT09InZlYzI8dTMyPiImJmIudmFsdWU9PT0idTMyIilyZXR1cm5gJHtlfVske0d9XT12ZWMyPHUzMj4odTMyKCR7ZWV9KSwgMHUpO2A7aWYoYi5zdG9yYWdlPT09InUzMiImJmIudmFsdWU9PT0idmVjNDxib29sPiIpcmV0dXJuYCR7ZX1bJHtHfV09ZG90KHZlYzQ8dTMyPigweDEsIDB4MTAwLCAweDEwMDAwLCAweDEwMDAwMDApLCB2ZWM0PHUzMj4oJHtlZX0pKTtgO3Rocm93IG5ldyBFcnJvcihgbm90IHN1cHBvcnRlZCBjb21iaW5hdGlvbiBvZiBzdG9yYWdlIHR5cGUgJHtiLnN0b3JhZ2V9IGFuZCB2YWx1ZSB0eXBlICR7Yi52YWx1ZX0geWV0YCl9KSgpLFo9Rz0+KCgpPT57aWYoYi5zdG9yYWdlPT09Yi52YWx1ZSlyZXR1cm5gJHtlfVske0d9XWA7aWYoYi5zdG9yYWdlPT09InZlYzI8dTMyPiImJmIudmFsdWU9PT0iaTMyIilyZXR1cm5gaTMyKCR7ZX1bJHtHfV0ueClgO2lmKGIuc3RvcmFnZT09PSJ2ZWMyPHUzMj4iJiZiLnZhbHVlPT09InUzMiIpcmV0dXJuYHUzMigke2V9WyR7R31dLngpYDtpZihiLnN0b3JhZ2U9PT0idTMyIiYmYi52YWx1ZT09PSJ2ZWM0PGJvb2w+IilyZXR1cm5gdmVjNDxib29sPihib29sKCR7ZX1bJHtHfV0gJiAweEZGdSksIGJvb2woJHtlfVske0d9XSAmIDB4RkYwMHUpLCBib29sKCR7ZX1bJHtHfV0gJiAweEZGMDAwMHUpLCBib29sKCR7ZX1bJHtHfV0gJiAweEZGMDAwMDAwdSkpYDt0aHJvdyBuZXcgRXJyb3IoYG5vdCBzdXBwb3J0ZWQgY29tYmluYXRpb24gb2Ygc3RvcmFnZSB0eXBlICR7Yi5zdG9yYWdlfSBhbmQgdmFsdWUgdHlwZSAke2IudmFsdWV9IHlldGApfSkoKSxFZT11PDI/IiI6YFxuICBmbiBnZXRfJHtlfUJ5SW5kaWNlcyhpbmRpY2VzOiAke2IuaW5kaWNlc30pIC0+ICR7aH0ge1xuICAgIHJldHVybiAke1ooYGkyb18ke2V9KGluZGljZXMpYCl9O1xuICB9YCxQZT11PDI/IiI6KCgpPT57bGV0IEc9bC5tYXAoYmU9PmBkJHtiZX06IHUzMmApLmpvaW4oIiwgIiksZWU9bC5tYXAoYmU9PmBkJHtiZX1gKS5qb2luKCIsICIpO3JldHVybmBcbiAgZm4gZ2V0XyR7ZX0oJHtHfSkgLT4gJHtofSB7XG4gICAgcmV0dXJuIGdldF8ke2V9QnlJbmRpY2VzKCR7VChlZSl9KTtcbiAgfWB9KSgpLGZlPSguLi5HKT0+e2lmKEcubGVuZ3RoIT09dSl0aHJvdyBuZXcgRXJyb3IoYGluZGljZXMgbGVuZ3RoIG11c3QgYmUgJHt1fWApO2xldCBlZT1HLm1hcCh3KS5qb2luKCIsIik7cmV0dXJuIHU9PT0wP1ooIjB1Iik6dT09PTE/WihlZVswXSk6KHkuZ2V0PSEwLHkuZ2V0QnlJbmRpY2VzPSEwLHkuaW5kaWNlc1RvT2Zmc2V0PSEwLGBnZXRfJHtlfSgke2VlfSlgKX0sSWU9Rz0+dTwyP1ooRyk6KHkuZ2V0QnlJbmRpY2VzPSEwLHkuaW5kaWNlc1RvT2Zmc2V0PSEwLGBnZXRfJHtlfUJ5SW5kaWNlcygke0d9KWApLGhlPXU8Mj8iIjpgXG4gIGZuIHNldF8ke2V9QnlJbmRpY2VzKGluZGljZXM6ICR7Yi5pbmRpY2VzfSwgdmFsdWU6ICR7aH0pIHtcbiAgICAke1EoYGkyb18ke2V9KGluZGljZXMpYCwidmFsdWUiKX1cbiAgfWAseWU9dTwyPyIiOigoKT0+e2xldCBHPWwubWFwKGJlPT5gZCR7YmV9OiB1MzJgKS5qb2luKCIsICIpLGVlPWwubWFwKGJlPT5gZCR7YmV9YCkuam9pbigiLCAiKTtyZXR1cm5gXG4gIGZuIHNldF8ke2V9KCR7R30sIHZhbHVlOiAke2h9KSB7XG4gICAgc2V0XyR7ZX1CeUluZGljZXMoJHtUKGVlKX0sIHZhbHVlKTtcbiAgfWB9KSgpO3JldHVybntpbXBsOigpPT57bGV0IEc9W10sZWU9ITE7cmV0dXJuIHkub2Zmc2V0VG9JbmRpY2VzJiYoRy5wdXNoKEUpLGVlPSEwKSx5LmluZGljZXNUb09mZnNldCYmKEcucHVzaChSKSxlZT0hMCkseS5icm9hZGNhc3RlZEluZGljZXNUb09mZnNldCYmKE9iamVjdC52YWx1ZXMoWSkuZm9yRWFjaChiZT0+Ry5wdXNoKGJlKSksZWU9ITApLHkuc2V0JiYoRy5wdXNoKHllKSxlZT0hMCkseS5zZXRCeUluZGljZXMmJihHLnB1c2goaGUpLGVlPSEwKSx5LmdldCYmKEcucHVzaChQZSksZWU9ITApLHkuZ2V0QnlJbmRpY2VzJiYoRy5wdXNoKEVlKSxlZT0hMCksIXMmJmVlJiZHLnVuc2hpZnQoYGNvbnN0ICR7SX0gPSAke2IuaW5kaWNlc30oJHtyLmpvaW4oIiwiKX0pO2AsYGNvbnN0ICR7JH0gPSAke2IuaW5kaWNlc30oJHtVLmNvbXB1dGVTdHJpZGVzKHIpLmpvaW4oIiwiKX0pO2ApLEcuam9pbihgXG5gKX0sdHlwZTpiLG9mZnNldFRvSW5kaWNlczpBLGluZGljZXNUb09mZnNldDpWLGJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0OkssaW5kaWNlczpULGluZGljZXNHZXQ6TixpbmRpY2VzU2V0OnRlLHNldDooLi4uRyk9PntpZihHLmxlbmd0aCE9PXUrMSl0aHJvdyBuZXcgRXJyb3IoYGluZGljZXMgbGVuZ3RoIG11c3QgYmUgJHt1fWApO2xldCBlZT1HW3VdO2lmKHR5cGVvZiBlZSE9InN0cmluZyIpdGhyb3cgbmV3IEVycm9yKCJ2YWx1ZSBtdXN0IGJlIHN0cmluZyIpO2xldCBiZT1HLnNsaWNlKDAsdSkubWFwKHcpLmpvaW4oIiwiKTtyZXR1cm4gdT09PTA/USgiMHUiLGVlKTp1PT09MT9RKGJlWzBdLGVlKTooeS5zZXQ9ITAseS5zZXRCeUluZGljZXM9ITAseS5pbmRpY2VzVG9PZmZzZXQ9ITAsYHNldF8ke2V9KCR7YmV9LCAke2VlfSlgKX0sc2V0QnlPZmZzZXQ6USxzZXRCeUluZGljZXM6KEcsZWUpPT51PDI/UShHLGVlKTooeS5zZXRCeUluZGljZXM9ITAseS5pbmRpY2VzVG9PZmZzZXQ9ITAsYHNldF8ke2V9QnlJbmRpY2VzKCR7R30sICR7ZWV9KTtgKSxnZXQ6ZmUsZ2V0QnlPZmZzZXQ6WixnZXRCeUluZGljZXM6SWUsdXNhZ2U6byxuYW1lOmUsc3RyaWRlczokLHNoYXBlOkkscmFuazp1fX0sTT0oZSx0LHIsbz0xKT0+RG4oZSx0LHIsImlucHV0IixvKSxGPShlLHQscixvPTEpPT5EbihlLHQsciwib3V0cHV0IixvKSxGcj0oZSx0LHIsbz0xKT0+RG4oZSx0LHIsImludGVybmFsIixvKSxSbj1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLm5vcm1hbGl6ZWREaXNwYXRjaEdyb3VwPXQ7dGhpcy5pbnRlcm5hbFZhcmlhYmxlcz1bXTt0aGlzLnZhcmlhYmxlcz1bXTt0aGlzLnVuaWZvcm1zPVtdO3RoaXMudmFyaWFibGVJbmRleD0wfWd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXModCl7cmV0dXJuYGlmIChnbG9iYWxfaWR4ID49ICR7dHlwZW9mIHQ9PSJudW1iZXIiP2Ake3R9dWA6dH0pIHsgcmV0dXJuOyB9YH1tYWluU3RhcnQodD1tZCl7bGV0IHI9dHlwZW9mIHQ9PSJudW1iZXIiP3Q6dFswXSxvPXR5cGVvZiB0PT0ibnVtYmVyIj8xOnRbMV0sbj10eXBlb2YgdD09Im51bWJlciI/MTp0WzJdLHM9dGhpcy5ub3JtYWxpemVkRGlzcGF0Y2hHcm91cFsxXT09PTEmJnRoaXMubm9ybWFsaXplZERpc3BhdGNoR3JvdXBbMl09PT0xLHU9cz9gQGJ1aWx0aW4oZ2xvYmFsX2ludm9jYXRpb25faWQpIGdsb2JhbF9pZCA6IHZlYzM8dTMyPixcbiAgICBAYnVpbHRpbih3b3JrZ3JvdXBfaWQpIHdvcmtncm91cF9pZCA6IHZlYzM8dTMyPixcbiAgICBAYnVpbHRpbihsb2NhbF9pbnZvY2F0aW9uX2lkKSBsb2NhbF9pZCA6IHZlYzM8dTMyPmA6YEBidWlsdGluKGxvY2FsX2ludm9jYXRpb25faWQpIGxvY2FsX2lkIDogdmVjMzx1MzI+LFxuICAgIEBidWlsdGluKGxvY2FsX2ludm9jYXRpb25faW5kZXgpIGxvY2FsX2lkeCA6IHUzMixcbiAgICBAYnVpbHRpbih3b3JrZ3JvdXBfaWQpIHdvcmtncm91cF9pZCA6IHZlYzM8dTMyPixcbiAgICBAYnVpbHRpbihudW1fd29ya2dyb3VwcykgbnVtX3dvcmtncm91cHMgOiB2ZWMzPHUzMj5gLGw9cz8ibGV0IGdsb2JhbF9pZHggPSBnbG9iYWxfaWQueDsgbGV0IGxvY2FsX2lkeCA9IGxvY2FsX2lkLng7IjpgbGV0IGdsb2JhbF9pZHggPSAod29ya2dyb3VwX2lkLnogKiBudW1fd29ya2dyb3Vwc1swXSAqIG51bV93b3JrZ3JvdXBzWzFdICtcbiAgICAgICAgICB3b3JrZ3JvdXBfaWQueSAqIG51bV93b3JrZ3JvdXBzWzBdICsgd29ya2dyb3VwX2lkLngpICogJHtyKm8qbn11ICsgbG9jYWxfaWR4O2A7cmV0dXJuYEBjb21wdXRlIEB3b3JrZ3JvdXBfc2l6ZSgke3J9LCAke299LCAke259KVxuICBmbiBtYWluKCR7dX0pIHtcbiAgICAke2x9XG4gIGB9YXBwZW5kVmFyaWFibGVVbmlmb3Jtcyh0KXt0LnJhbmshPT0wJiYodC5zaGFwZS5zdGFydHNXaXRoKCJ1bmlmb3Jtcy4iKSYmdGhpcy51bmlmb3Jtcy5wdXNoKHtuYW1lOnQuc2hhcGUucmVwbGFjZSgidW5pZm9ybXMuIiwiIiksdHlwZToidTMyIixsZW5ndGg6dC5yYW5rfSksdC5zdHJpZGVzLnN0YXJ0c1dpdGgoInVuaWZvcm1zLiIpJiZ0aGlzLnVuaWZvcm1zLnB1c2goe25hbWU6dC5zdHJpZGVzLnJlcGxhY2UoInVuaWZvcm1zLiIsIiIpLHR5cGU6InUzMiIsbGVuZ3RoOnQucmFua30pKX1kZWNsYXJlVmFyaWFibGUodCxyKXtpZih0LnVzYWdlPT09ImludGVybmFsIil0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCB1c2UgaW50ZXJuYWwgdmFyaWFibGUgd2l0aCBkZWNsYXJlVmFyaWFibGUoKS4gdXNlIHJlZ2lzdGVySW50ZXJuYWxWYXJpYWJsZXMoKSBpbnN0ZWFkLiIpO3RoaXMudmFyaWFibGVzLnB1c2godCksdGhpcy5hcHBlbmRWYXJpYWJsZVVuaWZvcm1zKHQpO2xldCBvPXQudXNhZ2U9PT0iaW5wdXQiPyJyZWFkIjoicmVhZF93cml0ZSIsbj10LnR5cGUuc3RvcmFnZTtyZXR1cm5gQGdyb3VwKDApIEBiaW5kaW5nKCR7cn0pIHZhcjxzdG9yYWdlLCAke299PiAke3QubmFtZX06IGFycmF5PCR7bn0+O2B9ZGVjbGFyZVZhcmlhYmxlcyguLi50KXtyZXR1cm4gdC5tYXAocj0+dGhpcy5kZWNsYXJlVmFyaWFibGUocix0aGlzLnZhcmlhYmxlSW5kZXgrKykpLmpvaW4oYFxuYCl9cmVnaXN0ZXJJbnRlcm5hbFZhcmlhYmxlKHQpe2lmKHQudXNhZ2UhPT0iaW50ZXJuYWwiKXRocm93IG5ldyBFcnJvcigiY2Fubm90IHVzZSBpbnB1dCBvciBvdXRwdXQgdmFyaWFibGUgd2l0aCByZWdpc3RlckludGVybmFsVmFyaWFibGUoKS4gdXNlIGRlY2xhcmVWYXJpYWJsZXMoKSBpbnN0ZWFkLiIpO3RoaXMuaW50ZXJuYWxWYXJpYWJsZXMucHVzaCh0KSx0aGlzLmFwcGVuZFZhcmlhYmxlVW5pZm9ybXModCl9cmVnaXN0ZXJJbnRlcm5hbFZhcmlhYmxlcyguLi50KXtyZXR1cm4gdC5mb3JFYWNoKHI9PnRoaXMucmVnaXN0ZXJJbnRlcm5hbFZhcmlhYmxlKHIpKSx0aGlzfXJlZ2lzdGVyVW5pZm9ybSh0LHIsbz0xKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5wdXNoKHtuYW1lOnQsdHlwZTpyLGxlbmd0aDpvfSksdGhpc31yZWdpc3RlclVuaWZvcm1zKHQpe3JldHVybiB0aGlzLnVuaWZvcm1zPXRoaXMudW5pZm9ybXMuY29uY2F0KHQpLHRoaXN9dW5pZm9ybURlY2xhcmF0aW9uKCl7aWYodGhpcy51bmlmb3Jtcy5sZW5ndGg9PT0wKXJldHVybiIiO2xldCB0PVtdO2ZvcihsZXR7bmFtZTpyLHR5cGU6byxsZW5ndGg6bn1vZiB0aGlzLnVuaWZvcm1zKWlmKG4mJm4+NCl0LnB1c2goYCR7cn06YXJyYXk8dmVjNDwke299PiwgJHtNYXRoLmNlaWwobi80KX0+YCk7ZWxzZXtsZXQgcz1uPT1udWxsfHxuPT09MT9vOmB2ZWMke259PCR7b30+YDt0LnB1c2goYCR7cn06JHtzfWApfXJldHVybmBcbiAgICAgIHN0cnVjdCBVbmlmb3JtcyB7ICR7dC5qb2luKCIsICIpfSB9O1xuICAgICAgQGdyb3VwKDApIEBiaW5kaW5nKCR7dGhpcy52YXJpYWJsZUluZGV4fSkgdmFyPHVuaWZvcm0+IHVuaWZvcm1zOiBVbmlmb3JtcztgfWdldCBhZGRpdGlvbmFsSW1wbGVtZW50YXRpb25zKCl7cmV0dXJuIHRoaXMudW5pZm9ybURlY2xhcmF0aW9uKCkrdGhpcy52YXJpYWJsZXMubWFwKHQ9PnQuaW1wbCgpKS5qb2luKGBcbmApK3RoaXMuaW50ZXJuYWxWYXJpYWJsZXMubWFwKHQ9PnQuaW1wbCgpKS5qb2luKGBcbmApfX0sbWE9ZT0+bmV3IFJuKGUpLEZ0PShlLHQpPT57bGV0IHI9ZS5sZW5ndGgsbz1bXTtmb3IobGV0IG49MDtuPHI7bisrKXtsZXQgcz1yLTEtbix1PWVbc118fDE7KHRbdC5sZW5ndGgtMS1uXXx8MSk+MSYmdT09PTEmJm8udW5zaGlmdChzKX1yZXR1cm4gb30sUmU9ZT0+ITB9KTt2YXIgZmQsZmEsaGQsZ2QsaXQsaGEsZ2EsanQ9aigoKT0+eyJ1c2Ugc3RyaWN0IjskZSgpO2plKCk7dmUoKTtmZD1lPT57aWYoIWV8fGUubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIlRyYW5zcG9zZSByZXF1aXJlcyAxIGlucHV0LiIpfSxmYT0oZSx0KT0+dCYmdC5sZW5ndGghPT1lP1suLi5uZXcgQXJyYXkoZSkua2V5cygpXS5yZXZlcnNlKCk6dCxoZD0oZSx0KT0+VS5zb3J0QmFzZWRPblBlcm0oZSxmYShlLmxlbmd0aCx0KSksZ2Q9KGUsdCxyLG8pPT57bGV0IG49W107bi5wdXNoKGBmbiBwZXJtKGk6ICR7by50eXBlLmluZGljZXN9KSAtPiAke3IudHlwZS5pbmRpY2VzfSB7XG4gICAgdmFyIGE6ICR7ci50eXBlLmluZGljZXN9O2ApO2ZvcihsZXQgcz0wO3M8dDsrK3Mpbi5wdXNoKHIuaW5kaWNlc1NldCgiYSIsZVtzXSxgaVske3N9XWApKTtyZXR1cm4gbi5wdXNoKCJyZXR1cm4gYTt9Iiksbi5qb2luKGBcbmApfSxpdD0oZSx0KT0+e2xldCByPWUuZGF0YVR5cGUsbz1lLmRpbXMubGVuZ3RoLG49ZmEobyx0KSxzPVJlKG8pLHU9aGQoZS5kaW1zLG4pLGw9cz91Lmxlbmd0aDp1LGE9cz9vOmUuZGltcyxwPUYoIm91dHB1dCIscixsKSxoPU0oImEiLHIsYSksZz1iPT5gXG4gICR7Yi5yZWdpc3RlclVuaWZvcm0oIm91dHB1dF9zaXplIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyhoLHApfVxuXG4gICR7Z2QobixvLGgscCl9XG5cbiAgJHtiLm1haW5TdGFydCgpfVxuICAgICR7Yi5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRfc2l6ZSIpfVxuXG4gICAgbGV0IGluZGljZXMgPSAke3Aub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9O1xuICAgIGxldCBhSW5kaWNlcyA9IHBlcm0oaW5kaWNlcyk7XG5cbiAgICAke3Auc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLGguZ2V0QnlJbmRpY2VzKCJhSW5kaWNlcyIpKX1cbiAgfWA7cmV0dXJue25hbWU6IlRyYW5zcG9zZSIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7dH1gLGlucHV0RGVwZW5kZW5jaWVzOnM/WyJyYW5rIl06WyJkaW1zIl19LGdldFJ1bkRhdGE6Yj0+e2xldCB3PVUuc2l6ZSh1KTtyZXR1cm57b3V0cHV0czpbe2RpbXM6dSxkYXRhVHlwZTpiWzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwody82NCl9LHByb2dyYW1Vbmlmb3JtczpzP1t7dHlwZToidWludDMyIixkYXRhOnd9LC4uLkwoYlswXS5kaW1zKSwuLi5MKHUpXTpbe3R5cGU6InVpbnQzMiIsZGF0YTp3fV19fSxnZXRTaGFkZXJTb3VyY2U6Z319LGhhPShlLHQpPT57ZmQoZS5pbnB1dHMpLGUuY29tcHV0ZShpdChlLmlucHV0c1swXSx0LnBlcm0pKX0sZ2E9ZT0+Z2Uoe3Blcm06ZS5wZXJtfSl9KTt2YXIgeWQsYmQsd2QsdmQsJGQsU2QseGQsX2QsQ2QsSWQsY3QseWEsYmEsd2EsdmEsJGEsU2EseGEsX2EsQ2EsSWEsQWE9aigoKT0+eyJ1c2Ugc3RyaWN0IjskZSgpO3ZlKCk7anIoKTtqdCgpO3lkPXttYXg6InNlbGVjdChiZXN0VmFsdWUsIGNhbmRpZGF0ZSwgY2FuZGlkYXRlID4gYmVzdFZhbHVlKSIsbWluOiJzZWxlY3QoYmVzdFZhbHVlLCBjYW5kaWRhdGUsIGNhbmRpZGF0ZSA8IGJlc3RWYWx1ZSkiLG1lYW46ImJlc3RWYWx1ZSArIGNhbmRpZGF0ZSIsc3VtOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUiLHByb2Q6ImJlc3RWYWx1ZSAqIGNhbmRpZGF0ZSIsc3VtU3F1YXJlOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUgKiBjYW5kaWRhdGUiLGxvZ1N1bUV4cDoiYmVzdFZhbHVlICsgZXhwKGNhbmRpZGF0ZSkiLGwxOiJiZXN0VmFsdWUgKyBhYnMoY2FuZGlkYXRlKSIsbDI6ImJlc3RWYWx1ZSArIGNhbmRpZGF0ZSAqIGNhbmRpZGF0ZSIsbG9nU3VtOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUifSxiZD17bWF4OiJzZWxlY3QoYmVzdFZhbHVlLCBjYW5kaWRhdGUsIGNhbmRpZGF0ZSA+IGJlc3RWYWx1ZSkiLG1pbjoic2VsZWN0KGJlc3RWYWx1ZSwgY2FuZGlkYXRlLCBjYW5kaWRhdGUgPCBiZXN0VmFsdWUpIixtZWFuOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUiLHN1bToiYmVzdFZhbHVlICsgY2FuZGlkYXRlIixwcm9kOiJiZXN0VmFsdWUgKiBjYW5kaWRhdGUiLHN1bVNxdWFyZToiYmVzdFZhbHVlICsgY2FuZGlkYXRlIixsb2dTdW1FeHA6ImJlc3RWYWx1ZSArIGNhbmRpZGF0ZSIsbDE6ImJlc3RWYWx1ZSArIGNhbmRpZGF0ZSIsbDI6ImJlc3RWYWx1ZSArIGNhbmRpZGF0ZSIsbG9nU3VtOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUifSx3ZD17bWF4OiJfQVtvZmZzZXRdIixtaW46Il9BW29mZnNldF0iLG1lYW46IjAiLHN1bToiMCIscHJvZDoiMSIsc3VtU3F1YXJlOiIwIixsb2dTdW1FeHA6IjAiLGwxOiIwIixsMjoiMCIsbG9nU3VtOiIwIn0sdmQ9e21heDoiYmVzdFZhbHVlIixtaW46ImJlc3RWYWx1ZSIsc3VtOiJiZXN0VmFsdWUiLHByb2Q6ImJlc3RWYWx1ZSIsc3VtU3F1YXJlOiJiZXN0VmFsdWUiLGxvZ1N1bUV4cDoibG9nKGJlc3RWYWx1ZSkiLGwxOiJiZXN0VmFsdWUiLGwyOiJzcXJ0KGJlc3RWYWx1ZSkiLGxvZ1N1bToibG9nKGJlc3RWYWx1ZSkifSwkZD0oZSx0KT0+e2xldCByPVtdO2ZvcihsZXQgbz10LWU7bzx0OysrbylyLnB1c2gobyk7cmV0dXJuIHJ9LFNkPShlLHQpPT57bGV0IHI9W10sbz1lLmxlbmd0aDtmb3IobGV0IHM9MDtzPG87cysrKXQuaW5kZXhPZihzKT09PS0xJiZyLnB1c2goZVtzXSk7bGV0IG49dC5tYXAocz0+ZVtzXSk7cmV0dXJuW3Isbl19LHhkPShlLHQpPT57bGV0IHI9ZS5sZW5ndGgrdC5sZW5ndGgsbz1bXSxuPTA7Zm9yKGxldCBzPTA7czxyO3MrKyl0LmluZGV4T2Yocyk9PT0tMT9vLnB1c2goZVtuKytdKTpvLnB1c2goMSk7cmV0dXJuIG99LF9kPShlLHQpPT57Zm9yKGxldCByPTA7cjxlLmxlbmd0aDsrK3IpaWYoZVtlLmxlbmd0aC1yLTFdIT09dC0xLXIpcmV0dXJuITE7cmV0dXJuITB9LENkPShlLHQpPT57bGV0IHI9W107aWYoIV9kKGUsdCkpe2ZvcihsZXQgbz0wO288dDsrK28pZS5pbmRleE9mKG8pPT09LTEmJnIucHVzaChvKTtlLmZvckVhY2gobz0+ci5wdXNoKG8pKX1yZXR1cm4gcn0sSWQ9KGUsdCxyLG8sbixzLHUpPT57bGV0IGw9clswXS5kaW1zLGE9VS5zaXplKHMpLHA9VS5zaXplKHUpLGg9TSgiX0EiLHJbMF0uZGF0YVR5cGUsbCksZz1GKCJvdXRwdXQiLG4scyksYj0zMix3PWBcbiAgICAgICAgICB2YXI8d29ya2dyb3VwPiBhQmVzdFZhbHVlcyA6IGFycmF5PCR7Zy50eXBlLnN0b3JhZ2V9LCAke2J9PjtcbiAgICAgICBgO3JldHVybntuYW1lOmUsc2hhZGVyQ2FjaGU6dCxnZXRTaGFkZXJTb3VyY2U6Xz0+YFxuICAgICAgICAke18ucmVnaXN0ZXJVbmlmb3JtKCJyZWR1Y2VTaXplIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyhoLGcpfVxuICAgICAgICAke3d9XG4gICAgICAgIGZuIERJVl9DRUlMKGEgOiB1MzIsIGIgOiB1MzIpIC0+IHUzMiB7XG4gICAgICAgICAgcmV0dXJuICgoYSAtIDF1KSAvIGIgKyAxdSk7XG4gICAgICAgICB9XG4gICAgICAgICAke18ubWFpblN0YXJ0KGIpfVxuXG4gICAgICAgICAgbGV0IG91dHB1dEluZGV4ID0gZ2xvYmFsX2lkeCAvICR7Yn07XG4gICAgICAgICAgbGV0IG9mZnNldCA9IG91dHB1dEluZGV4ICogdW5pZm9ybXMucmVkdWNlU2l6ZTtcblxuICAgICAgICAgIHZhciBiZXN0VmFsdWUgPSAke2cudHlwZS5zdG9yYWdlfSgke3dkW29dfSk7XG4gICAgICAgICAgbGV0IExlbmd0aCA9IHVuaWZvcm1zLnJlZHVjZVNpemU7XG4gICAgICAgICAgZm9yICh2YXIgayA9IGxvY2FsX2lkeDsgayA8IExlbmd0aDsgayA9IGsgKyAke2J9KSB7XG4gICAgICAgICAgIGxldCBjYW5kaWRhdGUgPSAke2cudHlwZS5zdG9yYWdlfSgke2guZ2V0QnlPZmZzZXQoIm9mZnNldCArIGsiKX0pO1xuICAgICAgICAgICBiZXN0VmFsdWUgPSAke3lkW29dfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYUJlc3RWYWx1ZXNbbG9jYWxfaWR4XSA9IGJlc3RWYWx1ZTtcbiAgICAgICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG5cbiAgICAgICAgIHZhciByZWR1Y2VTaXplID0gbWluKExlbmd0aCwgJHtifXUpO1xuICAgICAgICAgZm9yICh2YXIgY3VycmVudFNpemUgPSByZWR1Y2VTaXplIC8gMnU7IHJlZHVjZVNpemUgPiAxdTtcbiAgICAgICAgICAgICBjdXJyZW50U2l6ZSA9IHJlZHVjZVNpemUgLyAydSkge1xuICAgICAgICAgICBsZXQgaW50ZXJ2YWwgPSBESVZfQ0VJTChyZWR1Y2VTaXplLCAydSk7XG4gICAgICAgICAgIGlmIChsb2NhbF9pZHggPCBjdXJyZW50U2l6ZSkge1xuICAgICAgICAgICAgbGV0IGNhbmRpZGF0ZSA9IGFCZXN0VmFsdWVzW2xvY2FsX2lkeCArIGludGVydmFsXTtcbiAgICAgICAgICAgIGJlc3RWYWx1ZSA9ICR7YmRbb119O1xuICAgICAgICAgICAgYUJlc3RWYWx1ZXNbbG9jYWxfaWR4XSA9IGJlc3RWYWx1ZTtcbiAgICAgICAgICAgfVxuICAgICAgICAgICByZWR1Y2VTaXplID0gaW50ZXJ2YWw7XG4gICAgICAgICAgIHdvcmtncm91cEJhcnJpZXIoKTtcbiAgICAgICAgIH1cblxuICAgICAgICAgaWYgKGxvY2FsX2lkeCA9PSAwdSkge1xuICAgICAgICAgICR7Zy5zZXRCeU9mZnNldCgib3V0cHV0SW5kZXgiLGAke289PT0ibWVhbiI/YGJlc3RWYWx1ZSAvICR7Zy50eXBlLnN0b3JhZ2V9KHVuaWZvcm1zLnJlZHVjZVNpemUpYDpgJHt2ZFtvXX1gfWApfTtcbiAgICAgICAgIH1cbiAgICAgICAgfWAsZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpzLGRhdGFUeXBlOm59XSxkaXNwYXRjaEdyb3VwOnt4OmF9LHByb2dyYW1Vbmlmb3Jtczpbe3R5cGU6InVpbnQzMiIsZGF0YTpwfV19KX19LGN0PShlLHQscixvKT0+e2xldCBuPWUuaW5wdXRzLmxlbmd0aD09PTE/cjpNbihlLmlucHV0cyxyKSxzPW4uYXhlcztzLmxlbmd0aD09PTAmJiFuLm5vb3BXaXRoRW1wdHlBeGVzJiYocz1lLmlucHV0c1swXS5kaW1zLm1hcCgodyx5KT0+eSkpO2xldCB1PVUubm9ybWFsaXplQXhlcyhzLGUuaW5wdXRzWzBdLmRpbXMubGVuZ3RoKSxsPXUsYT1lLmlucHV0c1swXSxwPUNkKGwsZS5pbnB1dHNbMF0uZGltcy5sZW5ndGgpO3AubGVuZ3RoPjAmJihhPWUuY29tcHV0ZShpdChlLmlucHV0c1swXSxwKSx7aW5wdXRzOlswXSxvdXRwdXRzOlstMV19KVswXSxsPSRkKGwubGVuZ3RoLGEuZGltcy5sZW5ndGgpKTtsZXRbaCxnXT1TZChhLmRpbXMsbCksYj1oO24ua2VlcERpbXMmJihiPXhkKGgsdSkpLGUuY29tcHV0ZShJZCh0LHtoaW50Om4uY2FjaGVLZXksaW5wdXREZXBlbmRlbmNpZXM6WyJ0eXBlIl19LFthXSxvLGUuaW5wdXRzWzBdLmRhdGFUeXBlLGIsZykse2lucHV0czpbYV19KX0seWE9KGUsdCk9PntjdChlLCJSZWR1Y2VNZWFuU2hhcmVkIix0LCJtZWFuIil9LGJhPShlLHQpPT57Y3QoZSwiUmVkdWNlTDFTaGFyZWQiLHQsImwxIil9LHdhPShlLHQpPT57Y3QoZSwiUmVkdWNlTDJTaGFyZWQiLHQsImwyIil9LHZhPShlLHQpPT57Y3QoZSwiUmVkdWNlTG9nU3VtRXhwU2hhcmVkIix0LCJsb2dTdW1FeHAiKX0sJGE9KGUsdCk9PntjdChlLCJSZWR1Y2VNYXhTaGFyZWQiLHQsIm1heCIpfSxTYT0oZSx0KT0+e2N0KGUsIlJlZHVjZU1pblNoYXJlZCIsdCwibWluIil9LHhhPShlLHQpPT57Y3QoZSwiUmVkdWNlUHJvZFNoYXJlZCIsdCwicHJvZCIpfSxfYT0oZSx0KT0+e2N0KGUsIlJlZHVjZVN1bVNoYXJlZCIsdCwic3VtIil9LENhPShlLHQpPT57Y3QoZSwiUmVkdWNlU3VtU3F1YXJlU2hhcmVkIix0LCJzdW1TcXVhcmUiKX0sSWE9KGUsdCk9PntjdChlLCJSZWR1Y2VMb2dTdW1TaGFyZWQiLHQsImxvZ1N1bSIpfX0pO3ZhciBwdCxBZCxxcixNbixtdCxUZCxFZCxPZCxQZCxrZCxSZCxCZCxEZCxNZCx6ZCxmdCxUYSxFYSxPYSxQYSxrYSxSYSxCYSxEYSxNYSx6YSxqcj1qKCgpPT57InVzZSBzdHJpY3QiOyRlKCk7amUoKTt2ZSgpO0FhKCk7cHQ9ZT0+e2lmKCFlfHxlLmxlbmd0aD09PTB8fGUubGVuZ3RoPjIpdGhyb3cgbmV3IEVycm9yKCJSZWR1Y2Ugb3AgcmVxdWlyZXMgMSBvciAyIGlucHV0cy4iKTtpZihlLmxlbmd0aD09PTImJmVbMV0uZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBheGVzIGlucHV0IGRpbXMuIil9LEFkPWU9PlsiIiwiIixgdmFyIHZhbHVlID0gJHtlLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTtgLCIiXSxxcj0oZSx0LHIsbyxuLHMsdT0hMSxsPSExKT0+e2xldCBhPVtdLHA9clswXS5kaW1zLGg9cC5sZW5ndGgsZz1VLm5vcm1hbGl6ZUF4ZXMobixoKSxiPSFsJiZnLmxlbmd0aD09PTA7cC5mb3JFYWNoKChJLCQpPT57Ynx8Zy5pbmRleE9mKCQpPj0wP3UmJmEucHVzaCgxKTphLnB1c2goSSl9KTtsZXQgdz1hLmxlbmd0aCx5PVUuc2l6ZShhKTtyZXR1cm57bmFtZTplLHNoYWRlckNhY2hlOnQsZ2V0U2hhZGVyU291cmNlOkk9PntsZXQgJD1bXSx4PU0oIl9BIixyWzBdLmRhdGFUeXBlLGgpLEU9Rigib3V0cHV0IixzLHcpLEE9byh4LEUsZyksej1BWzJdO2ZvcihsZXQgUj0wLFY9MDtSPGg7UisrKWJ8fGcuaW5kZXhPZihSKT49MD8odSYmVisrLHo9YGZvcih2YXIgaiR7Un06IHUzMiA9IDA7IGoke1J9IDwgJHtwW1JdfTsgaiR7Un0rKykge1xuICAgICAgICAgICAgICAgICAgJHtBWzJdLmluY2x1ZGVzKCJsYXN0X2luZGV4Iik/YGxldCBsYXN0X2luZGV4ID0gaiR7Un07YDoiIn1cbiAgICAgICAgICAgICAgICAgICR7eC5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIixSLGBqJHtSfWApfVxuICAgICAgICAgICAgICAgICAgJHt6fVxuICAgICAgICAgICAgICAgIH1gKTooJC5wdXNoKGAke3guaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIsUixFLmluZGljZXNHZXQoIm91dHB1dF9pbmRpY2VzIixWKSl9O2ApLFYrKyk7cmV0dXJuYFxuXG4gICAgICAgICR7SS5yZWdpc3RlclVuaWZvcm0oIm91dHB1dF9zaXplIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyh4LEUpfVxuXG4gICAgICAgICR7SS5tYWluU3RhcnQoKX1cbiAgICAgICAgICAke0kuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0X3NpemUiKX1cbiAgICAgICAgICB2YXIgaW5wdXRfaW5kaWNlczogJHt4LnR5cGUuaW5kaWNlc307XG4gICAgICAgICAgbGV0IG91dHB1dF9pbmRpY2VzID0gJHtFLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcblxuICAgICAgICAgICR7JC5qb2luKGBcbmApfVxuICAgICAgICAgICR7QVswXX0gICAgICAgLy8gaW5pdCBvcHMgZm9yIHJlZHVjZSBtYXgvbWluXG4gICAgICAgICAgJHtBWzFdfVxuICAgICAgICAgICR7en1cbiAgICAgICAgICAke0FbM119XG4gICAgICAgICAgJHtBLmxlbmd0aD09PTQ/RS5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsInZhbHVlIik6QS5zbGljZSg0KS5qb2luKGBcbmApfVxuICAgICAgICB9YH0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczphLGRhdGFUeXBlOnN9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbCh5LzY0KX0scHJvZ3JhbVVuaWZvcm1zOlt7dHlwZToidWludDMyIixkYXRhOnl9LC4uLkwocCksLi4uTChhKV19KX19LE1uPShlLHQpPT57bGV0IHI9W107cmV0dXJuIGVbMV0uZGltc1swXT4wJiZlWzFdLmdldEJpZ0ludDY0QXJyYXkoKS5mb3JFYWNoKG89PnIucHVzaChOdW1iZXIobykpKSxnZSh7YXhlczpyLGtlZXBEaW1zOnQua2VlcERpbXMsbm9vcFdpdGhFbXB0eUF4ZXM6dC5ub29wV2l0aEVtcHR5QXhlc30pfSxtdD0oZSx0LHIsbyk9PntsZXQgbj1lLmlucHV0cyxzPW4ubGVuZ3RoPT09MT9yOk1uKG4scik7ZS5jb21wdXRlKHFyKHQse2hpbnQ6cy5jYWNoZUtleSxpbnB1dERlcGVuZGVuY2llczpbInJhbmsiXX0sW25bMF1dLHMubm9vcFdpdGhFbXB0eUF4ZXMmJnMuYXhlcy5sZW5ndGg9PT0wP0FkOm8scy5heGVzLG5bMF0uZGF0YVR5cGUscy5rZWVwRGltcyxzLm5vb3BXaXRoRW1wdHlBeGVzKSx7aW5wdXRzOlswXX0pfSxUZD0oZSx0KT0+e3B0KGUuaW5wdXRzKSxtdChlLCJSZWR1Y2VMb2dTdW0iLHQsKG8sbik9PltgdmFyIHZhbHVlID0gJHtuLnR5cGUuc3RvcmFnZX0oMCk7YCwiIixgdmFsdWUgKz0gJHtvLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTtgLCJ2YWx1ZSA9IGxvZyh2YWx1ZSk7Il0pfSxFZD0oZSx0KT0+e3B0KGUuaW5wdXRzKSxtdChlLCJSZWR1Y2VMMSIsdCwobyxuKT0+W2B2YXIgdmFsdWUgPSAke24udHlwZS5zdG9yYWdlfSgwKTtgLCIiLGB2YWx1ZSArPSBhYnMoJHtvLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfSk7YCwiIl0pfSxPZD0oZSx0KT0+e3B0KGUuaW5wdXRzKSxtdChlLCJSZWR1Y2VMMiIsdCwobyxuKT0+W2B2YXIgdCA9ICR7bi50eXBlLnZhbHVlfSgwKTsgdmFyIHZhbHVlID0gJHtuLnR5cGUudmFsdWV9KDApO2AsIiIsYHQgPSAke28uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9OyB2YWx1ZSArPSAodCAqIHQpO2AsInZhbHVlID0gc3FydCh2YWx1ZSk7Il0pfSxQZD0oZSx0KT0+e3B0KGUuaW5wdXRzKSxtdChlLCJSZWR1Y2VMb2dTdW1FeHAiLHQsKG8sbik9PltgdmFyIHZhbHVlID0gJHtuLnR5cGUuc3RvcmFnZX0oMCk7YCwiIixgdmFsdWUgKz0gZXhwKCR7by5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX0pO2AsInZhbHVlID0gbG9nKHZhbHVlKTsiXSl9LGtkPShlLHQpPT57cHQoZS5pbnB1dHMpLG10KGUsIlJlZHVjZU1heCIsdCwobyxuLHMpPT57bGV0IHU9W107Zm9yKGxldCBsPTA7bDxvLnJhbms7bCsrKShzLmluZGV4T2YobCk+PTB8fHMubGVuZ3RoPT09MCkmJnUucHVzaChvLmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLGwsMCkpO3JldHVybltgJHt1LmpvaW4oYFxuYCl9YCxgdmFyIHZhbHVlID0gJHtvLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTtgLGB2YWx1ZSA9IG1heCh2YWx1ZSwgJHtvLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfSk7YCwiIl19KX0sUmQ9KGUsdCk9PntwdChlLmlucHV0cyksbXQoZSwiUmVkdWNlTWVhbiIsdCwobyxuLHMpPT57bGV0IHU9MTtmb3IobGV0IGw9MDtsPG8ucmFuaztsKyspKHMuaW5kZXhPZihsKT49MHx8cy5sZW5ndGg9PT0wKSYmKHUqPWUuaW5wdXRzWzBdLmRpbXNbbF0pO3JldHVyblsidmFyIHN1bSA9IGYzMigwKTsiLCIiLGBzdW0gKz0gZjMyKCR7by5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX0pO2AsYGxldCB2YWx1ZSA9ICR7bi50eXBlLnZhbHVlfShzdW0gLyAke3V9KTtgXX0pfSxCZD0oZSx0KT0+e3B0KGUuaW5wdXRzKSxtdChlLCJSZWR1Y2VNaW4iLHQsKG8sbixzKT0+e2xldCB1PVtdO2ZvcihsZXQgbD0wO2w8by5yYW5rO2wrKykocy5pbmRleE9mKGwpPj0wfHxzLmxlbmd0aD09PTApJiZ1LnB1c2goYGlucHV0X2luZGljZXNbJHtsfV0gPSAwO2ApO3JldHVybltgJHt1LmpvaW4oYFxuYCl9YCxgdmFyIHZhbHVlID0gJHtvLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTtgLGB2YWx1ZSA9IG1pbih2YWx1ZSwgJHtvLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfSk7YCwiIl19KX0sRGQ9KGUsdCk9PntwdChlLmlucHV0cyksbXQoZSwiUmVkdWNlUHJvZCIsdCwobyxuKT0+W2B2YXIgdmFsdWUgPSAke24udHlwZS5zdG9yYWdlfSgxKTtgLCIiLGB2YWx1ZSAqPSAke28uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9O2AsIiJdKX0sTWQ9KGUsdCk9PntwdChlLmlucHV0cyksbXQoZSwiUmVkdWNlU3VtIix0LChvLG4pPT5bYHZhciB2YWx1ZSA9ICR7bi50eXBlLnN0b3JhZ2V9KDApO2AsIiIsYHZhbHVlICs9ICR7by5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07YCwiIl0pfSx6ZD0oZSx0KT0+e3B0KGUuaW5wdXRzKSxtdChlLCJSZWR1Y2VTdW1TcXVhcmUiLHQsKG8sbik9PltgdmFyIHQgPSAke24udHlwZS52YWx1ZX0oMCk7IHZhciB2YWx1ZSA9ICR7bi50eXBlLnZhbHVlfSgwKTtgLCIiLGB0ID0gJHtvLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTsgdmFsdWUgKz0gdCAqIHQ7YCwiIl0pfSxmdD0oZSx0LHIpPT57aWYodC5sZW5ndGg9PT0wKXJldHVybiByO2xldCBvPTEsbj0xO2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7cysrKXQuaW5kZXhPZihzKT09PS0xP28qPWVbc106bio9ZVtzXTtyZXR1cm4gbjwzMiYmbz4xMDI0fSxUYT0oZSx0KT0+e2Z0KGUuaW5wdXRzWzBdLmRpbXMsdC5heGVzLHQubm9vcFdpdGhFbXB0eUF4ZXMpP1JkKGUsdCk6eWEoZSx0KX0sRWE9KGUsdCk9PntmdChlLmlucHV0c1swXS5kaW1zLHQuYXhlcyx0Lm5vb3BXaXRoRW1wdHlBeGVzKT9FZChlLHQpOmJhKGUsdCl9LE9hPShlLHQpPT57ZnQoZS5pbnB1dHNbMF0uZGltcyx0LmF4ZXMsdC5ub29wV2l0aEVtcHR5QXhlcyk/T2QoZSx0KTp3YShlLHQpfSxQYT0oZSx0KT0+e2Z0KGUuaW5wdXRzWzBdLmRpbXMsdC5heGVzLHQubm9vcFdpdGhFbXB0eUF4ZXMpP1BkKGUsdCk6dmEoZSx0KX0sa2E9KGUsdCk9PntmdChlLmlucHV0c1swXS5kaW1zLHQuYXhlcyx0Lm5vb3BXaXRoRW1wdHlBeGVzKT9rZChlLHQpOiRhKGUsdCl9LFJhPShlLHQpPT57ZnQoZS5pbnB1dHNbMF0uZGltcyx0LmF4ZXMsdC5ub29wV2l0aEVtcHR5QXhlcyk/QmQoZSx0KTpTYShlLHQpfSxCYT0oZSx0KT0+e2Z0KGUuaW5wdXRzWzBdLmRpbXMsdC5heGVzLHQubm9vcFdpdGhFbXB0eUF4ZXMpP0RkKGUsdCk6eGEoZSx0KX0sRGE9KGUsdCk9PntmdChlLmlucHV0c1swXS5kaW1zLHQuYXhlcyx0Lm5vb3BXaXRoRW1wdHlBeGVzKT9NZChlLHQpOl9hKGUsdCl9LE1hPShlLHQpPT57ZnQoZS5pbnB1dHNbMF0uZGltcyx0LmF4ZXMsdC5ub29wV2l0aEVtcHR5QXhlcyk/emQoZSx0KTpDYShlLHQpfSx6YT0oZSx0KT0+e2Z0KGUuaW5wdXRzWzBdLmRpbXMsdC5heGVzLHQubm9vcFdpdGhFbXB0eUF4ZXMpP1RkKGUsdCk6SWEoZSx0KX19KTt2YXIgVWEsVmEsTmEsem4sV2E9aigoKT0+eyJ1c2Ugc3RyaWN0IjtOZSgpO2plKCk7anIoKTtVYT1lPT57aWYoIWV8fGUubGVuZ3RoPT09MHx8ZS5sZW5ndGg+Mil0aHJvdyBuZXcgRXJyb3IoIkFyZ01pbk1heE9wIG9wIHJlcXVpcmVzIDEgb3IgMiBpbnB1dHMuIik7aWYoZVswXS5kYXRhVHlwZSE9PTEpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHR5cGUuIil9LFZhPShlLHQpPT57VWEoZS5pbnB1dHMpO2xldCByPShvLG4scyk9PntsZXQgdT1bXTtmb3IobGV0IGw9MDtsPG8ucmFuaztsKyspKHMuaW5kZXhPZihsKT49MHx8cy5sZW5ndGg9PT0wKSYmdS5wdXNoKGBpbnB1dF9pbmRpY2VzWyR7bH1dID0gMDtgKTtyZXR1cm5bYCR7dS5qb2luKGBcbmApfWAsYHZhciB2YWx1ZSA9ICR7by5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07XG52YXIgYmVzdF9pbmRleCA6IGkzMiA9IDA7YCxgaWYgKCR7by5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX0gJHt0LnNlbGVjdExhc3RJbmRleD4wPyI8PSI6IjwifSB2YWx1ZSkge1xuICAgICAgICAgdmFsdWUgPSAke28uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9O1xuICAgICAgICAgYmVzdF9pbmRleCA9IGkzMihsYXN0X2luZGV4KTtcbiAgICAgICB9YCwiIixuLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwiYmVzdF9pbmRleCIpXX07ZS5jb21wdXRlKHFyKCJBcmdNaW4iLHtoaW50OnQuY2FjaGVLZXksaW5wdXREZXBlbmRlbmNpZXM6WyJyYW5rIl19LFtlLmlucHV0c1swXV0scixbdC5heGlzXSw3LHQua2VlcERpbXMpLHtpbnB1dHM6WzBdfSl9LE5hPShlLHQpPT57VWEoZS5pbnB1dHMpO2xldCByPShvLG4scyk9PntsZXQgdT1bXTtmb3IobGV0IGw9MDtsPG8ucmFuaztsKyspKHMuaW5kZXhPZihsKT49MHx8cy5sZW5ndGg9PT0wKSYmdS5wdXNoKGBpbnB1dF9pbmRpY2VzWyR7bH1dID0gMDtgKTtyZXR1cm5bYCR7dS5qb2luKGBcbmApfWAsYHZhciB2YWx1ZSA9ICR7by5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07XG52YXIgYmVzdF9pbmRleCA6IGkzMiA9IDA7YCxgaWYgKCR7by5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX0gJHt0LnNlbGVjdExhc3RJbmRleD4wPyI+PSI6Ij4ifSB2YWx1ZSkge1xuICAgICAgICAgdmFsdWUgPSAke28uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9O1xuICAgICAgICAgYmVzdF9pbmRleCA9IGkzMihsYXN0X2luZGV4KTtcbiAgICAgICB9YCwiIixuLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwiYmVzdF9pbmRleCIpXX07ZS5jb21wdXRlKHFyKCJhcmdNYXgiLHtoaW50OnQuY2FjaGVLZXksaW5wdXREZXBlbmRlbmNpZXM6WyJyYW5rIl19LFtlLmlucHV0c1swXV0scixbdC5heGlzXSw3LHQua2VlcERpbXMpLHtpbnB1dHM6WzBdfSl9LHpuPWU9PmdlKGUpfSk7dmFyIFVkLFZkLE5kLFdkLEtyLEhkLEhhLFVuPWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTtOcigpO3ZlKCk7VWQ9KGUsdCk9PntsZXQgcj1lWzBdLG89ZVsxXSxuPWVbMl0scz1lWzNdLHU9ZVs0XSxsPWVbNV07aWYodSYmbCl0aHJvdyBuZXcgRXJyb3IoIkF0dGVudGlvbiBjYW5ub3QgaGF2ZSBib3RoIHBhc3QgYW5kIHJlbGF0aXZlX3Bvc2l0aW9uX2JpYXMiKTtpZihyLmRpbXMubGVuZ3RoIT09Myl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAiaW5wdXQiIG11c3QgaGF2ZSAzIGRpbWVuc2lvbnNcJyk7bGV0IGE9ci5kaW1zWzBdLHA9ci5kaW1zWzFdLGg9ci5kaW1zWzJdO2lmKG4uZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcihcJ0lucHV0ICJiaWFzIiBpcyBleHBlY3RlZCB0byBoYXZlIDEgZGltZW5zaW9uc1wnKTtpZihvLmRpbXMubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAid2VpZ2h0cyIgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAyIGRpbWVuc2lvbnNcJyk7aWYoby5kaW1zWzBdIT09aCl0aHJvdyBuZXcgRXJyb3IoIklucHV0IDEgZGltZW5zaW9uIDAgc2hvdWxkIGhhdmUgc2FtZSBsZW5ndGggYXMgZGltZW5zaW9uIDIgb2YgaW5wdXQgMCIpO2lmKG4uZGltc1swXSE9PW8uZGltc1sxXSl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAiYmlhcyIgZGltZW5zaW9uIDAgc2hvdWxkIGhhdmUgc2FtZSBsZW5ndGggYXMgZGltZW5zaW9uIDEgb2YgaW5wdXQgIndlaWdodHMiXCcpO2xldCBnPW4uZGltc1swXS8zLGI9Zyx3PWI7aWYodC5xa3ZIaWRkZW5TaXplcy5sZW5ndGg+MCl7aWYodC5xa3ZIaWRkZW5TaXplcy5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcigicWt2X2hpZGRlbl9zaXplcyBhdHRyaWJ1dGUgc2hvdWxkIGhhdmUgMyBlbGVtZW50cyIpO2ZvcihsZXQgRSBvZiB0LnFrdkhpZGRlblNpemVzKWlmKEUldC5udW1IZWFkcyE9PTApdGhyb3cgbmV3IEVycm9yKCJxa3ZfaGlkZGVuX3NpemVzIHNob3VsZCBiZSBkaXZpc2libGUgYnkgbnVtX2hlYWRzIik7Zz10LnFrdkhpZGRlblNpemVzWzBdLGI9dC5xa3ZIaWRkZW5TaXplc1sxXSx3PXQucWt2SGlkZGVuU2l6ZXNbMl19bGV0IHk9cDtpZihnIT09Yil0aHJvdyBuZXcgRXJyb3IoInFrdl9oaWRkZW5fc2l6ZXMgZmlyc3QgZWxlbWVudCBzaG91bGQgYmUgc2FtZSBhcyB0aGUgc2Vjb25kIik7aWYobi5kaW1zWzBdIT09ZytiK3cpdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgImJpYXMiIGRpbWVuc2lvbiAwIHNob3VsZCBoYXZlIHNhbWUgbGVuZ3RoIGFzIHN1bSBvZiBRL0svViBoaWRkZW4gc2l6ZXNcJyk7bGV0IF89MDtpZih1KXtpZihiIT09dyl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAicGFzdCIgZXhwZWN0IGtfaGlkZGVuX3NpemUgPT0gdl9oaWRkZW5fc2l6ZVwnKTtpZih1LmRpbXMubGVuZ3RoIT09NSl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAicGFzdCIgbXVzdCBoYXZlIDUgZGltZW5zaW9uc1wnKTtpZih1LmRpbXNbMF0hPT0yKXRocm93IG5ldyBFcnJvcihcJ0lucHV0ICJwYXN0IiBmaXJzdCBkaW1lbnNpb24gbXVzdCBiZSAyXCcpO2lmKHUuZGltc1sxXSE9PWEpdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgInBhc3QiIHNlY29uZCBkaW1lbnNpb24gbXVzdCBiZSBiYXRjaF9zaXplXCcpO2lmKHUuZGltc1syXSE9PXQubnVtSGVhZHMpdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgInBhc3QiIHRoaXJkIGRpbWVuc2lvbiBtdXN0IGJlIG51bV9oZWFkc1wnKTtpZih1LmRpbXNbNF0hPT1iL3QubnVtSGVhZHMpdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgInBhc3QiIGZpZnRoIGRpbWVuc2lvbiBtdXN0IGJlIGtfaGlkZGVuX3NpemUgLyBudW1faGVhZHNcJyk7dC5wYXN0UHJlc2VudFNoYXJlQnVmZmVyfHwoXz11LmRpbXNbM10pfWxldCBJPXkrXywkPS0xLHg9MDtpZihzKXRocm93IG5ldyBFcnJvcigiTWFzayBub3Qgc3VwcG9ydGVkIik7aWYodSl0aHJvdyBuZXcgRXJyb3IoInBhc3QgaXMgbm90IHN1cHBvcnRlZCIpO2lmKGwpdGhyb3cgbmV3IEVycm9yKCJyZWxhdGl2ZVBvc2l0aW9uQmlhcyBpcyBub3Qgc3VwcG9ydGVkIik7cmV0dXJue2JhdGNoU2l6ZTphLHNlcXVlbmNlTGVuZ3RoOnAscGFzdFNlcXVlbmNlTGVuZ3RoOl8sa3ZTZXF1ZW5jZUxlbmd0aDp5LHRvdGFsU2VxdWVuY2VMZW5ndGg6SSxtYXhTZXF1ZW5jZUxlbmd0aDokLGlucHV0SGlkZGVuU2l6ZTpoLGhpZGRlblNpemU6Zyx2SGlkZGVuU2l6ZTp3LGhlYWRTaXplOk1hdGguZmxvb3IoZy90Lm51bUhlYWRzKSx2SGVhZFNpemU6TWF0aC5mbG9vcih3L3QubnVtSGVhZHMpLG51bUhlYWRzOnQubnVtSGVhZHMsaXNVbmlkaXJlY3Rpb25hbDohMSxwYXN0UHJlc2VudFNoYXJlQnVmZmVyOiExLG1hc2tGaWx0ZXJWYWx1ZTp0Lm1hc2tGaWx0ZXJWYWx1ZSxtYXNrVHlwZTp4LHNjYWxlOnQuc2NhbGUsYnJvYWRjYXN0UmVzUG9zQmlhczohMSxwYXNzUGFzdEluS3Y6ITEscWt2Rm9ybWF0OjF9fSxWZD0oZSx0LHIsbyk9PntsZXQgbj1GZShvKSxzPTY0LHU9by9uO3U8cz9zPTE6dS84PDY0JiYocz1NYXRoLmNlaWwodS84KSk7bGV0IGw9TWF0aC5jZWlsKG8vbi9zKSxwPVt7dHlwZTpYZSh0LmRhdGFUeXBlKSxkYXRhOjEvb30se3R5cGU6InVpbnQzMiIsZGF0YTp1fSx7dHlwZToidWludDMyIixkYXRhOmx9XSxoPUxlKHQuZGF0YVR5cGUsbiksZz1iPT57bGV0IHc9RigieCIsdC5kYXRhVHlwZSx0LmRpbXMsbikseT0idGhyZWFkX21heF92ZWN0b3IiO249PT0yP3k9Im1heCh0aHJlYWRfbWF4X3ZlY3Rvci54LCB0aHJlYWRfbWF4X3ZlY3Rvci55KSI6bj09PTQmJih5PSJtYXgobWF4KHRocmVhZF9tYXhfdmVjdG9yLngsIHRocmVhZF9tYXhfdmVjdG9yLnkpLCBtYXgodGhyZWFkX21heF92ZWN0b3IueiwgdGhyZWFkX21heF92ZWN0b3IudykpIik7bGV0IF89bHQodC5kYXRhVHlwZSksST1be25hbWU6ImRfaW52Iix0eXBlOl99LHtuYW1lOiJkX2NvbXAiLHR5cGU6InUzMiJ9LHtuYW1lOiJlbGVtZW50c19wZXJfd2ciLHR5cGU6InUzMiJ9XTtyZXR1cm5gXG4gIHZhcjx3b3JrZ3JvdXA+IHdnTWF4OiBhcnJheTxmMzIsICR7c30+O1xuICB2YXI8d29ya2dyb3VwPiB3Z1N1bTogYXJyYXk8ZjMyLCAke3N9PjtcbiAgJHtiLnJlZ2lzdGVyVW5pZm9ybXMoSSkuZGVjbGFyZVZhcmlhYmxlcyh3KX1cbiAgJHtiLm1haW5TdGFydChbcywxLDFdKX1cbiAgICBsZXQgbG9jYWxPZmZzZXQgPSBsb2NhbF9pZHggKiB1bmlmb3Jtcy5lbGVtZW50c19wZXJfd2c7XG4gICAgbGV0IG9mZnNldDogdTMyID0gd29ya2dyb3VwX2lkLnggKiB1bmlmb3Jtcy5kX2NvbXAgKyBsb2NhbE9mZnNldDtcblxuICAgIHZhciB0aHJlYWRfbWF4X3ZlY3RvciA9ICR7WmUoImYzMiIsbiwiLTMuNDAyODIzZSszOGYiKX07XG4gICAgZm9yICh2YXIgaTogdTMyID0gMDsgaSA8IHVuaWZvcm1zLmVsZW1lbnRzX3Blcl93ZyAmJiBpICsgbG9jYWxPZmZzZXQgPCB1bmlmb3Jtcy5kX2NvbXA7IGkrKykge1xuICAgICAgdGhyZWFkX21heF92ZWN0b3IgPSBtYXgoJHthdChfLG4sInhbb2Zmc2V0ICsgaV0iKX0sIHRocmVhZF9tYXhfdmVjdG9yKTtcbiAgICB9XG4gICAgd2dNYXhbbG9jYWxfaWR4XSA9ICR7eX07XG4gICAgd29ya2dyb3VwQmFycmllcigpO1xuXG4gICAgdmFyIG1heFZhbHVlID0gLTMuNDAyODIzZSszOGY7XG4gICAgZm9yICh2YXIgaSA9IDB1OyBpIDwgJHtzfTsgaSsrKSB7XG4gICAgICBtYXhWYWx1ZSA9IG1heCh3Z01heFtpXSwgbWF4VmFsdWUpO1xuICAgIH1cblxuICAgIHZhciBzdW1WZWN0b3IgPSAke1plKCJmMzIiLG4sIjAiKX07XG4gICAgZm9yICh2YXIgaTogdTMyID0gMDsgaSA8IHVuaWZvcm1zLmVsZW1lbnRzX3Blcl93ZyAmJiBpICsgbG9jYWxPZmZzZXQgPCB1bmlmb3Jtcy5kX2NvbXA7IGkrKykge1xuICAgICAgc3VtVmVjdG9yICs9IGV4cCgke2F0KF8sbiwieFtvZmZzZXQgKyBpXSIpfSAtIG1heFZhbHVlKTtcbiAgICB9XG4gICAgd2dTdW1bbG9jYWxfaWR4XSA9ICR7SmUoInN1bVZlY3RvciIsbil9O1xuICAgIHdvcmtncm91cEJhcnJpZXIoKTtcblxuICAgIHZhciBzdW06IGYzMiA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDB1OyBpIDwgJHtzfTsgaSsrKSB7XG4gICAgICBzdW0gKz0gd2dTdW1baV07XG4gICAgfVxuXG4gICAgaWYgKHN1bSA9PSAwKSB7XG4gICAgICBmb3IgKHZhciBpOiB1MzIgPSAwOyBpIDwgdW5pZm9ybXMuZWxlbWVudHNfcGVyX3dnICYmIGkgKyBsb2NhbE9mZnNldCA8IHVuaWZvcm1zLmRfY29tcDsgaSsrKSB7XG4gICAgICAgIHhbb2Zmc2V0ICsgaV0gPSAke1plKCJmMzIiLG4sInVuaWZvcm1zLmRfaW52Iil9O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpOiB1MzIgPSAwOyBpIDwgdW5pZm9ybXMuZWxlbWVudHNfcGVyX3dnICYmIGkgKyBsb2NhbE9mZnNldCA8IHVuaWZvcm1zLmRfY29tcDsgaSsrKSB7XG4gICAgICAgIGxldCBmMzJpbnB1dCA9ICR7YXQoXyxuLCJ4W29mZnNldCArIGldIil9O1xuICAgICAgICB4W29mZnNldCArIGldID0gJHt3LnR5cGUudmFsdWV9KGV4cChmMzJpbnB1dCAtIG1heFZhbHVlKSAvIHN1bSk7XG4gICAgICB9XG4gICAgfVxuICB9YH07ZS5jb21wdXRlKHtuYW1lOiJBdHRlbnRpb25Qcm9ic1NvZnRtYXgiLHNoYWRlckNhY2hlOntoaW50OmAke3N9OyR7aH07JHtufWB9LGdldFNoYWRlclNvdXJjZTpnLGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbXSxkaXNwYXRjaEdyb3VwOnt4OnJ9LHByb2dyYW1Vbmlmb3JtczpwfSl9LHtpbnB1dHM6W3RdLG91dHB1dHM6W119KX0sTmQ9KGUsdCxyLG8sbixzKT0+e2xldCB1PVtuLmJhdGNoU2l6ZSxuLm51bUhlYWRzLG4uc2VxdWVuY2VMZW5ndGgsbi5rdlNlcXVlbmNlTGVuZ3RoK24ucGFzdFNlcXVlbmNlTGVuZ3RoXSxsPXMuc2NhbGU9PT0wPzEvTWF0aC5zcXJ0KG4uaGVhZFNpemUpOnMuc2NhbGUsYT1GZShuLmhlYWRTaXplKSxwPW4uaGVhZFNpemUvYSxoPTEyLGc9e3g6TWF0aC5jZWlsKG4udG90YWxTZXF1ZW5jZUxlbmd0aC9oKSx5Ok1hdGguY2VpbChuLnNlcXVlbmNlTGVuZ3RoL2gpLHo6bi5iYXRjaFNpemUqbi5udW1IZWFkc30sYj1YZSh0LmRhdGFUeXBlKSx3PVt7dHlwZToidWludDMyIixkYXRhOm4uc2VxdWVuY2VMZW5ndGh9LHt0eXBlOiJ1aW50MzIiLGRhdGE6cH0se3R5cGU6InVpbnQzMiIsZGF0YTpuLnRvdGFsU2VxdWVuY2VMZW5ndGh9LHt0eXBlOiJ1aW50MzIiLGRhdGE6bi5rdlNlcXVlbmNlTGVuZ3RofSx7dHlwZTpiLGRhdGE6bH1dLHk9W3Qscl0sXz0kPT57bGV0IHg9TSgicSIsdC5kYXRhVHlwZSx0LmRpbXMsYSksRT1NKCJrZXkiLHIuZGF0YVR5cGUsci5kaW1zLGEpLEE9Rigib3V0cHV0Iix0LmRhdGFUeXBlLHUpLHo9TGUodC5kYXRhVHlwZSksUj1be25hbWU6Ik0iLHR5cGU6InUzMiJ9LHtuYW1lOiJLIix0eXBlOiJ1MzIifSx7bmFtZToiTiIsdHlwZToidTMyIn0se25hbWU6Imt2X3NlcXVlbmNlX2xlbmd0aCIsdHlwZToidTMyIn0se25hbWU6ImFscGhhIix0eXBlOnp9XTtyZXR1cm5gXG4gIGNvbnN0IGJldGE6ICR7en0gPSAxLjA7XG4gIGNvbnN0IFRJTEVfU0laRSA9ICR7aH11O1xuXG4gIHZhcjx3b3JrZ3JvdXA+IHRpbGVROiBhcnJheTwke3gudHlwZS5zdG9yYWdlfSwgJHtoKmh9PjtcbiAgdmFyPHdvcmtncm91cD4gdGlsZUs6IGFycmF5PCR7eC50eXBlLnN0b3JhZ2V9LCAke2gqaH0+O1xuICAkeyQucmVnaXN0ZXJVbmlmb3JtcyhSKS5kZWNsYXJlVmFyaWFibGVzKHgsRSxBKX1cbiAgJHskLm1haW5TdGFydChbaCxoLDFdKX1cbiAgICAvLyB4IGhvbGRzIHRoZSBOIGFuZCB5IGhvbGRzIHRoZSBNXG4gICAgbGV0IGhlYWRJZHggPSB3b3JrZ3JvdXBfaWQuejtcbiAgICBsZXQgbSA9IHdvcmtncm91cF9pZC55ICogVElMRV9TSVpFO1xuICAgIGxldCBuID0gd29ya2dyb3VwX2lkLnggKiBUSUxFX1NJWkU7XG4gICAgbGV0IGxtID0gbSArIGxvY2FsX2lkLnk7XG4gICAgbGV0IGxuID0gbiArIGxvY2FsX2lkLng7XG5cbiAgICBsZXQgcU9mZnNldCA9IHVuaWZvcm1zLk0gKiB1bmlmb3Jtcy5LICogaGVhZElkeCArIG0gKiB1bmlmb3Jtcy5LO1xuICAgIGxldCBrT2Zmc2V0ID0gdW5pZm9ybXMua3Zfc2VxdWVuY2VfbGVuZ3RoICogdW5pZm9ybXMuSyAqIGhlYWRJZHggKyBuICogdW5pZm9ybXMuSztcblxuICAgIHZhciB2YWx1ZSA9ICR7WmUoeixhKX07XG4gICAgZm9yICh2YXIgdzogdTMyID0gMHU7IHcgPCB1bmlmb3Jtcy5LOyB3ICs9IFRJTEVfU0laRSkge1xuICAgICAgaWYgKG0gKyBsb2NhbF9pZC55IDwgdW5pZm9ybXMuTSAmJiB3ICsgbG9jYWxfaWQueCA8IHVuaWZvcm1zLkspIHtcbiAgICAgICAgdGlsZVFbVElMRV9TSVpFICogbG9jYWxfaWQueSArIGxvY2FsX2lkLnhdID0gcVtxT2Zmc2V0ICsgbG9jYWxfaWQueSAqIHVuaWZvcm1zLksgKyB3ICsgbG9jYWxfaWQueF07XG4gICAgICB9XG4gICAgICBpZiAobiArIGxvY2FsX2lkLnkgPCB1bmlmb3Jtcy5OICYmIHcgKyBsb2NhbF9pZC54IDwgdW5pZm9ybXMuSykge1xuICAgICAgICB0aWxlS1tUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgbG9jYWxfaWQueF0gPSBrZXlba09mZnNldCArIGxvY2FsX2lkLnkgKiB1bmlmb3Jtcy5LICsgdyArIGxvY2FsX2lkLnhdO1xuICAgICAgfVxuICAgICAgd29ya2dyb3VwQmFycmllcigpO1xuXG4gICAgICBmb3IgKHZhciBrOiB1MzIgPSAwdTsgazxUSUxFX1NJWkUgJiYgdytrIDwgdW5pZm9ybXMuSzsgaysrKSB7XG4gICAgICAgIHZhbHVlICs9IHRpbGVRW1RJTEVfU0laRSAqIGxvY2FsX2lkLnkgKyBrXSAqIHRpbGVLW1RJTEVfU0laRSAqIGxvY2FsX2lkLnggKyBrXTtcbiAgICAgIH1cblxuICAgICAgd29ya2dyb3VwQmFycmllcigpO1xuICAgIH1cblxuICAgIGxldCBoZWFkT2Zmc2V0ID0gaGVhZElkeCAqIHVuaWZvcm1zLk0gKiB1bmlmb3Jtcy5OO1xuICAgIGlmIChsbSA8IHVuaWZvcm1zLk0gJiYgbG4gPCB1bmlmb3Jtcy5OKSB7XG4gICAgICBsZXQgb3V0cHV0SWR4ID0gaGVhZE9mZnNldCArIGxtICogdW5pZm9ybXMuTiArIGxuO1xuICAgICAgb3V0cHV0W291dHB1dElkeF0gPSAke0plKCJ2YWx1ZSIsYSl9ICogdW5pZm9ybXMuYWxwaGE7XG4gICAgfVxuICB9YH0sST1lLmNvbXB1dGUoe25hbWU6IkF0dGVudGlvblByb2JzIixzaGFkZXJDYWNoZTp7aGludDpgJHthfWAsaW5wdXREZXBlbmRlbmNpZXM6WyJ0eXBlIiwidHlwZSJdfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnUsZGF0YVR5cGU6dC5kYXRhVHlwZSxncHVEYXRhVHlwZTowfV0sZGlzcGF0Y2hHcm91cDpnLHByb2dyYW1Vbmlmb3Jtczp3fSksZ2V0U2hhZGVyU291cmNlOl99LHtpbnB1dHM6eSxvdXRwdXRzOlstMV19KVswXTtyZXR1cm4gVmQoZSxJLG4uYmF0Y2hTaXplKm4ubnVtSGVhZHMqbi5zZXF1ZW5jZUxlbmd0aCxuLnRvdGFsU2VxdWVuY2VMZW5ndGgpLEl9LFdkPShlLHQscixvKT0+e2xldCBuPVtvLmJhdGNoU2l6ZSxvLnNlcXVlbmNlTGVuZ3RoLG8udkhpZGRlblNpemVdLHM9MTIsdT17eDpNYXRoLmNlaWwoby52SGVhZFNpemUvcykseTpNYXRoLmNlaWwoby5zZXF1ZW5jZUxlbmd0aC9zKSx6Om8uYmF0Y2hTaXplKm8ubnVtSGVhZHN9LGw9W3t0eXBlOiJ1aW50MzIiLGRhdGE6by5zZXF1ZW5jZUxlbmd0aH0se3R5cGU6InVpbnQzMiIsZGF0YTpvLnRvdGFsU2VxdWVuY2VMZW5ndGh9LHt0eXBlOiJ1aW50MzIiLGRhdGE6by52SGVhZFNpemV9LHt0eXBlOiJ1aW50MzIiLGRhdGE6by5udW1IZWFkc30se3R5cGU6InVpbnQzMiIsZGF0YTpvLnZIaWRkZW5TaXplfV0sYT1wPT57bGV0IGg9TSgicHJvYnMiLHQuZGF0YVR5cGUsdC5kaW1zKSxnPU0oInYiLHIuZGF0YVR5cGUsci5kaW1zKSxiPUYoIm91dHB1dCIsdC5kYXRhVHlwZSxuKSx3PVt7bmFtZToiTSIsdHlwZToidTMyIn0se25hbWU6IksiLHR5cGU6InUzMiJ9LHtuYW1lOiJOIix0eXBlOiJ1MzIifSx7bmFtZToibnVtX2hlYWRzIix0eXBlOiJ1MzIifSx7bmFtZToidl9oaWRkZW5fc2l6ZSIsdHlwZToidTMyIn1dO3JldHVybmBcbiAgY29uc3QgVElMRV9TSVpFID0gJHtzfXU7XG4gIHZhcjx3b3JrZ3JvdXA+IHRpbGVROiBhcnJheTwke2gudHlwZS52YWx1ZX0sICR7cypzfT47XG4gIHZhcjx3b3JrZ3JvdXA+IHRpbGVLOiBhcnJheTwke2gudHlwZS52YWx1ZX0sICR7cypzfT47XG4gICR7cC5yZWdpc3RlclVuaWZvcm1zKHcpLmRlY2xhcmVWYXJpYWJsZXMoaCxnLGIpfVxuICAke3AubWFpblN0YXJ0KFtzLHMsMV0pfVxuICAgbGV0IGhlYWRJZHggPSB3b3JrZ3JvdXBfaWQuejtcbiAgIGxldCBtID0gd29ya2dyb3VwX2lkLnkgKiBUSUxFX1NJWkUgKyBsb2NhbF9pZC55O1xuICAgbGV0IG4gPSB3b3JrZ3JvdXBfaWQueCAqIFRJTEVfU0laRSArIGxvY2FsX2lkLng7XG5cbiAgIGxldCBvZmZzZXRBID0gaGVhZElkeCAqICh1bmlmb3Jtcy5NICogdW5pZm9ybXMuSykgKyBtICogdW5pZm9ybXMuSztcbiAgIGxldCBvZmZzZXRCID0gaGVhZElkeCAqICh1bmlmb3Jtcy5OICogdW5pZm9ybXMuSykgKyBuO1xuXG4gICB2YXIgdmFsdWUgPSAke2gudHlwZS5zdG9yYWdlfSgwKTtcbiAgIGZvciAodmFyIHc6IHUzMiA9IDB1OyB3IDwgdW5pZm9ybXMuSzsgdyArPSBUSUxFX1NJWkUpIHtcbiAgICAgaWYgKG0gPCB1bmlmb3Jtcy5NICYmIHcgKyBsb2NhbF9pZC54IDwgdW5pZm9ybXMuSykge1xuICAgICAgIHRpbGVRW1RJTEVfU0laRSAqIGxvY2FsX2lkLnkgKyBsb2NhbF9pZC54XSA9IHByb2JzW29mZnNldEEgKyB3ICsgbG9jYWxfaWQueF07XG4gICAgIH1cbiAgICAgaWYgKG4gPCB1bmlmb3Jtcy5OICYmIHcgKyBsb2NhbF9pZC55IDwgdW5pZm9ybXMuSykge1xuICAgICAgIHRpbGVLW1RJTEVfU0laRSAqIGxvY2FsX2lkLnkgKyBsb2NhbF9pZC54XSA9IHZbb2Zmc2V0QiArICh3ICsgbG9jYWxfaWQueSkgKiB1bmlmb3Jtcy5OXTtcbiAgICAgfVxuICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG4gICAgIGZvciAodmFyIGs6IHUzMiA9IDB1OyBrPFRJTEVfU0laRSAmJiB3K2sgPCB1bmlmb3Jtcy5LOyBrKyspIHtcbiAgICAgICB2YWx1ZSArPSB0aWxlUVtUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsga10gKiB0aWxlS1tUSUxFX1NJWkUgKiBrICsgbG9jYWxfaWQueF07XG4gICAgIH1cbiAgICAgd29ya2dyb3VwQmFycmllcigpO1xuICAgfVxuXG4gICAvLyB3ZSBuZWVkIHRvIHRyYW5zcG9zZSBvdXRwdXQgZnJvbSBCTlNIX3YgdG8gQlNORF92XG4gICBsZXQgYmF0Y2hJZHggPSB3b3JrZ3JvdXBfaWQueiAvIHVuaWZvcm1zLm51bV9oZWFkcztcbiAgIGxldCBjdXJyZW50QmF0Y2hIZWFkTnVtYmVyID0gd29ya2dyb3VwX2lkLnogJSB1bmlmb3Jtcy5udW1faGVhZHM7XG4gICBsZXQgaGVhZE9mZnNldCA9IChiYXRjaElkeCAqIHVuaWZvcm1zLk0gKiB1bmlmb3Jtcy5udW1faGVhZHMgKyBjdXJyZW50QmF0Y2hIZWFkTnVtYmVyKSAqIHVuaWZvcm1zLk47XG4gICBpZiAobSA8IHVuaWZvcm1zLk0gJiYgbiA8IHVuaWZvcm1zLk4pIHtcbiAgICAgbGV0IG91dHB1dElkeCA9IGJhdGNoSWR4ICogdW5pZm9ybXMuTSAqdW5pZm9ybXMudl9oaWRkZW5fc2l6ZSArIG0gKiB1bmlmb3Jtcy52X2hpZGRlbl9zaXplXG4gICAgICAgKyBjdXJyZW50QmF0Y2hIZWFkTnVtYmVyICogdW5pZm9ybXMuTiArIG47XG4gICAgIG91dHB1dFtvdXRwdXRJZHhdID0gdmFsdWU7XG4gICB9XG4gIH1gfTtyZXR1cm4gZS5jb21wdXRlKHtuYW1lOiJBdHRlbnRpb25TY29yZSIsc2hhZGVyQ2FjaGU6e2lucHV0RGVwZW5kZW5jaWVzOlsidHlwZSIsInR5cGUiXX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpuLGRhdGFUeXBlOnQuZGF0YVR5cGUsZ3B1RGF0YVR5cGU6MH1dLGRpc3BhdGNoR3JvdXA6dSxwcm9ncmFtVW5pZm9ybXM6bH0pLGdldFNoYWRlclNvdXJjZTphfSx7aW5wdXRzOlt0LHJdLG91dHB1dHM6WzBdfSlbMF19LEtyPShlLHQscixvLG4scyx1LGwsYSxwLGgpPT57bGV0IGc9TmQoZSx0LHIsYSxwLGgpO1dkKGUsZyxvLHApfSxIZD0oZSx0KT0+e2xldCByPVt0LmJhdGNoU2l6ZSx0Lm51bUhlYWRzLHQuc2VxdWVuY2VMZW5ndGgsdC5oZWFkU2l6ZV0sbz10LnNlcXVlbmNlTGVuZ3RoLG49dC5pbnB1dEhpZGRlblNpemUscz10LmhlYWRTaXplLHU9MTIsbD17eDpNYXRoLmNlaWwodC5oZWFkU2l6ZS91KSx5Ok1hdGguY2VpbCh0LnNlcXVlbmNlTGVuZ3RoL3UpLHo6dC5iYXRjaFNpemUqdC5udW1IZWFkc30sYT1bZS5pbnB1dHNbMF0sZS5pbnB1dHNbMV0sZS5pbnB1dHNbMl1dLHA9W3t0eXBlOiJ1aW50MzIiLGRhdGE6b30se3R5cGU6InVpbnQzMiIsZGF0YTpufSx7dHlwZToidWludDMyIixkYXRhOnN9LHt0eXBlOiJ1aW50MzIiLGRhdGE6dC5udW1IZWFkc30se3R5cGU6InVpbnQzMiIsZGF0YTp0LmhlYWRTaXplfSx7dHlwZToidWludDMyIixkYXRhOnQuaGlkZGVuU2l6ZX0se3R5cGU6InVpbnQzMiIsZGF0YTp0LmhpZGRlblNpemUrdC5oaWRkZW5TaXplK3QudkhpZGRlblNpemV9XSxoPWc9PntsZXQgYj1GKCJvdXRwdXRfcSIsYVswXS5kYXRhVHlwZSxyKSx3PUYoIm91dHB1dF9rIixhWzBdLmRhdGFUeXBlLHIpLHk9Rigib3V0cHV0X3YiLGFbMF0uZGF0YVR5cGUsciksXz1NKCJpbnB1dCIsYVswXS5kYXRhVHlwZSxhWzBdLmRpbXMpLEk9TSgid2VpZ2h0IixhWzFdLmRhdGFUeXBlLGFbMV0uZGltcyksJD1NKCJiaWFzIixhWzJdLmRhdGFUeXBlLGFbMl0uZGltcykseD1fLnR5cGUuc3RvcmFnZSxFPVt7bmFtZToiTSIsdHlwZToidTMyIn0se25hbWU6IksiLHR5cGU6InUzMiJ9LHtuYW1lOiJOIix0eXBlOiJ1MzIifSx7bmFtZToibnVtX2hlYWRzIix0eXBlOiJ1MzIifSx7bmFtZToiaGVhZF9zaXplIix0eXBlOiJ1MzIifSx7bmFtZToiaGlkZGVuX3NpemUiLHR5cGU6InUzMiJ9LHtuYW1lOiJsZGIiLHR5cGU6InUzMiJ9XTtyZXR1cm5gXG4gIGNvbnN0IFRJTEVfU0laRSA9ICR7dX11O1xuICB2YXI8d29ya2dyb3VwPiB0aWxlSW5wdXQ6IGFycmF5PCR7eH0sICR7dSp1fT47XG4gIHZhcjx3b3JrZ3JvdXA+IHRpbGVXZWlnaHRROiBhcnJheTwke3h9LCAke3UqdX0+O1xuICB2YXI8d29ya2dyb3VwPiB0aWxlV2VpZ2h0SzogYXJyYXk8JHt4fSwgJHt1KnV9PjtcbiAgdmFyPHdvcmtncm91cD4gdGlsZVdlaWdodFY6IGFycmF5PCR7eH0sICR7dSp1fT47XG4gICR7Zy5yZWdpc3RlclVuaWZvcm1zKEUpLmRlY2xhcmVWYXJpYWJsZXMoXyxJLCQsYix3LHkpfVxuICAke2cubWFpblN0YXJ0KFt1LHUsMV0pfVxuICAgIGxldCBiYXRjaEluZGV4ID0gd29ya2dyb3VwX2lkLnogLyB1bmlmb3Jtcy5udW1faGVhZHM7XG4gICAgbGV0IGhlYWROdW1iZXIgPSB3b3JrZ3JvdXBfaWQueiAlIHVuaWZvcm1zLm51bV9oZWFkcztcbiAgICBsZXQgbSA9IHdvcmtncm91cF9pZC55ICogVElMRV9TSVpFICsgbG9jYWxfaWQueTtcbiAgICBsZXQgbiA9IHdvcmtncm91cF9pZC54ICogVElMRV9TSVpFICsgbG9jYWxfaWQueDtcblxuICAgIGxldCBpbnB1dE9mZnNldCA9IGJhdGNoSW5kZXggKiAodW5pZm9ybXMuTSAqIHVuaWZvcm1zLkspICsgbSAqIHVuaWZvcm1zLks7XG4gICAgbGV0IGJpYXNPZmZzZXRRID0gaGVhZE51bWJlciAqIHVuaWZvcm1zLmhlYWRfc2l6ZTtcbiAgICBsZXQgYmlhc09mZnNldEsgPSB1bmlmb3Jtcy5oaWRkZW5fc2l6ZSArIGJpYXNPZmZzZXRRO1xuICAgIGxldCBiaWFzT2Zmc2V0ViA9IHVuaWZvcm1zLmhpZGRlbl9zaXplICsgYmlhc09mZnNldEs7XG5cbiAgICB2YXIgdmFsdWVRID0gJHt4fSgwKTtcbiAgICB2YXIgdmFsdWVLID0gJHt4fSgwKTtcbiAgICB2YXIgdmFsdWVWID0gJHt4fSgwKTtcbiAgICBmb3IgKHZhciB3OiB1MzIgPSAwdTsgdyA8IHVuaWZvcm1zLks7IHcgKz0gVElMRV9TSVpFKSB7XG4gICAgICBpZiAobSA8IHVuaWZvcm1zLk0gJiYgdyArIGxvY2FsX2lkLnggPCB1bmlmb3Jtcy5LKSB7XG4gICAgICAgIHRpbGVJbnB1dFtUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgbG9jYWxfaWQueF0gPSBpbnB1dFtpbnB1dE9mZnNldCArIHcgKyBsb2NhbF9pZC54XTtcbiAgICAgIH1cbiAgICAgIGlmIChuIDwgdW5pZm9ybXMuTiAmJiB3ICsgbG9jYWxfaWQueSA8IHVuaWZvcm1zLkspIHtcbiAgICAgICAgbGV0IG9mZnNldCA9IG4gKyAodyArIGxvY2FsX2lkLnkpICogdW5pZm9ybXMubGRiO1xuICAgICAgICB0aWxlV2VpZ2h0UVtUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgbG9jYWxfaWQueF0gPSB3ZWlnaHRbYmlhc09mZnNldFEgKyBvZmZzZXRdO1xuICAgICAgICB0aWxlV2VpZ2h0S1tUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgbG9jYWxfaWQueF0gPSB3ZWlnaHRbYmlhc09mZnNldEsgKyBvZmZzZXRdO1xuICAgICAgICB0aWxlV2VpZ2h0VltUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgbG9jYWxfaWQueF0gPSB3ZWlnaHRbYmlhc09mZnNldFYgKyBvZmZzZXRdO1xuICAgICAgfVxuICAgICAgd29ya2dyb3VwQmFycmllcigpO1xuICAgICAgZm9yICh2YXIgazogdTMyID0gMHU7IGs8VElMRV9TSVpFICYmIHcrayA8IHVuaWZvcm1zLks7IGsrKykge1xuICAgICAgICBsZXQgaW5wdXRUaWxlT2Zmc2V0ID0gVElMRV9TSVpFICogbG9jYWxfaWQueSArIGs7XG4gICAgICAgIGxldCB3ZWlnaHRUaWxlT2Zmc2V0ID0gVElMRV9TSVpFICogayArIGxvY2FsX2lkLng7XG4gICAgICAgIHZhbHVlUSArPSB0aWxlSW5wdXRbaW5wdXRUaWxlT2Zmc2V0XSAqIHRpbGVXZWlnaHRRW3dlaWdodFRpbGVPZmZzZXRdO1xuICAgICAgICB2YWx1ZUsgKz0gdGlsZUlucHV0W2lucHV0VGlsZU9mZnNldF0gKiB0aWxlV2VpZ2h0S1t3ZWlnaHRUaWxlT2Zmc2V0XTtcbiAgICAgICAgdmFsdWVWICs9IHRpbGVJbnB1dFtpbnB1dFRpbGVPZmZzZXRdICogdGlsZVdlaWdodFZbd2VpZ2h0VGlsZU9mZnNldF07XG4gICAgICB9XG5cbiAgICAgIHdvcmtncm91cEJhcnJpZXIoKTtcbiAgICB9XG5cbiAgICBsZXQgaGVhZE9mZnNldCA9IChtICogdW5pZm9ybXMuTiArIG4pICUgdW5pZm9ybXMuaGVhZF9zaXplO1xuICAgIHZhbHVlUSArPSBiaWFzW2hlYWRPZmZzZXQgKyBiaWFzT2Zmc2V0UV07XG4gICAgdmFsdWVLICs9IGJpYXNbaGVhZE9mZnNldCArIGJpYXNPZmZzZXRLXTtcbiAgICB2YWx1ZVYgKz0gYmlhc1toZWFkT2Zmc2V0ICsgYmlhc09mZnNldFZdO1xuXG4gICAgbGV0IG9mZnNldCA9IHdvcmtncm91cF9pZC56ICogdW5pZm9ybXMuTSAqIHVuaWZvcm1zLk47XG4gICAgaWYgKG0gPCB1bmlmb3Jtcy5NICYmIG4gPCB1bmlmb3Jtcy5OKSB7XG4gICAgICBsZXQgb3V0cHV0SWR4ID0gb2Zmc2V0ICsgbSAqIHVuaWZvcm1zLk4gKyBuO1xuICAgICAgb3V0cHV0X3Fbb3V0cHV0SWR4XSA9IHZhbHVlUTtcbiAgICAgIG91dHB1dF9rW291dHB1dElkeF0gPSB2YWx1ZUs7XG4gICAgICBvdXRwdXRfdltvdXRwdXRJZHhdID0gdmFsdWVWO1xuICAgIH1cbiAgfWB9O3JldHVybiBlLmNvbXB1dGUoe25hbWU6IkF0dGVudGlvblByZXBhcmUiLHNoYWRlckNhY2hlOntpbnB1dERlcGVuZGVuY2llczpbInR5cGUiLCJ0eXBlIiwidHlwZSJdfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnIsZGF0YVR5cGU6ZS5pbnB1dHNbMF0uZGF0YVR5cGUsZ3B1RGF0YVR5cGU6MH0se2RpbXM6cixkYXRhVHlwZTplLmlucHV0c1swXS5kYXRhVHlwZSxncHVEYXRhVHlwZTowfSx7ZGltczpyLGRhdGFUeXBlOmUuaW5wdXRzWzBdLmRhdGFUeXBlLGdwdURhdGFUeXBlOjB9XSxkaXNwYXRjaEdyb3VwOmwscHJvZ3JhbVVuaWZvcm1zOnB9KSxnZXRTaGFkZXJTb3VyY2U6aH0se2lucHV0czphLG91dHB1dHM6Wy0xLC0xLC0xXX0pfSxIYT0oZSx0KT0+e2xldCByPVVkKGUuaW5wdXRzLHQpLFtvLG4sc109SGQoZSxyKTtyZXR1cm4gS3IoZSxvLG4scyxlLmlucHV0c1s0XSx2b2lkIDAsdm9pZCAwLHZvaWQgMCxlLmlucHV0c1s1XSxyLHQpfX0pO3ZhciBHZCxMZCxGZCxHYSxMYT1qKCgpPT57InVzZSBzdHJpY3QiO0x0KCk7JGUoKTtqZSgpO3ZlKCk7R2Q9KGUsdCk9PntpZighZXx8ZS5sZW5ndGghPT01KXRocm93IG5ldyBFcnJvcigiQmF0Y2hOb3JtYWxpemF0aW9uIHJlcXVpcmVzIDUgaW5wdXRzIik7bGV0IHI9KG8sbixzKT0+e2xldCB1PW4ubGVuZ3RoO2lmKHUhPT1vLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYCR7c306IG51bSBkaW1lbnNpb25zICE9ICR7dX1gKTtuLmZvckVhY2goKGwsYSk9PntpZihsIT09b1thXSl0aHJvdyBuZXcgRXJyb3IoYCR7c306IGRpbVske2F9XSBkbyBub3QgbWF0Y2hgKX0pfTtpZihlWzBdLmRpbXMubGVuZ3RoPjEpe2xldCBvPXQuZm9ybWF0PT09Ik5IV0MiP3Quc3BhdGlhbD9lWzBdLmRpbXMuc2xpY2UoLTEpOmVbMF0uZGltcy5zbGljZSgtMSkuY29uY2F0KGVbMF0uZGltcy5zbGljZSgxLGVbMF0uZGltcy5sZW5ndGgtMSkpOmVbMF0uZGltcy5zbGljZSgxLHQuc3BhdGlhbD8yOnZvaWQgMCk7cihlWzFdLmRpbXMsbywiSW52YWxpZCBpbnB1dCBzY2FsZSIpLHIoZVsyXS5kaW1zLG8sIkludmFsaWQgaW5wdXQgQiIpLHIoZVszXS5kaW1zLG8sIkludmFsaWQgaW5wdXQgbWVhbiIpLHIoZVs0XS5kaW1zLG8sIkludmFsaWQgaW5wdXQgdmFyIil9ZWxzZSByKGVbMV0uZGltcyxbMV0sIkludmFsaWQgaW5wdXQgc2NhbGUiKSxyKGVbMl0uZGltcyxbMV0sIkludmFsaWQgaW5wdXQgQiIpLHIoZVszXS5kaW1zLFsxXSwiSW52YWxpZCBpbnB1dCBtZWFuIikscihlWzRdLmRpbXMsWzFdLCJJbnZhbGlkIGlucHV0IHZhciIpfSxMZD0oZSx0KT0+e2xldHtlcHNpbG9uOnIsc3BhdGlhbDpvLGZvcm1hdDpufT10LHM9ZVswXS5kaW1zLHU9bz9GZShzW3MubGVuZ3RoLTFdKToxLGw9bj09PSJOSFdDIiYmcy5sZW5ndGg+MT91OjEsYT1VLnNpemUocykvdSxwPVJlKHMubGVuZ3RoKSYmbyxoPXA/cy5sZW5ndGg6cyxnPU0oIngiLGVbMF0uZGF0YVR5cGUsZVswXS5kaW1zLHUpLGI9TSgic2NhbGUiLGVbMV0uZGF0YVR5cGUsZVsxXS5kaW1zLGwpLHc9TSgiYmlhcyIsZVsyXS5kYXRhVHlwZSxlWzJdLmRpbXMsbCkseT1NKCJpbnB1dE1lYW4iLGVbM10uZGF0YVR5cGUsZVszXS5kaW1zLGwpLF89TSgiaW5wdXRWYXIiLGVbNF0uZGF0YVR5cGUsZVs0XS5kaW1zLGwpLEk9RigieSIsZVswXS5kYXRhVHlwZSxoLHUpLCQ9KCk9PntsZXQgRT0iIjtpZihvKUU9YGxldCBjT2Zmc2V0ID0gJHtzLmxlbmd0aD09PTE/IjB1IjpuPT09Ik5IV0MiP2BvdXRwdXRJbmRpY2VzWyR7cy5sZW5ndGgtMX1dIC8gJHt1fWA6Im91dHB1dEluZGljZXNbMV0ifTtgO2Vsc2UgaWYobj09PSJOQ0hXIilFPWBcbiAgICAgICAgICAgICR7SS5pbmRpY2VzU2V0KCJvdXRwdXRJbmRpY2VzIiwiMCIsIjAiKX1cbiAgICAgICAgICAgIGxldCBjT2Zmc2V0ID0gJHtJLmluZGljZXNUb09mZnNldCgib3V0cHV0SW5kaWNlcyIpfTtgO2Vsc2V7RT1gdmFyIGNJbmRpY2VzID0gJHtiLnR5cGUuaW5kaWNlc30oMCk7XG4gICAgICAgICAgICAgICAgICAgICAgIGNJbmRpY2VzWzBdID0gb3V0cHV0SW5kaWNlc1ske3MubGVuZ3RoLTF9XTtgO2ZvcihsZXQgQT0xO0E8Yi5yYW5rO0ErKylFKz1gY0luZGljZXNbJHtBfV0gPSBvdXRwdXRJbmRpY2VzWyR7QX1dO2A7RSs9YGxldCBjT2Zmc2V0ID0gJHtiLmluZGljZXNUb09mZnNldCgiY0luZGljZXMiKX07YH1yZXR1cm4gRX0seD1FPT5gXG4gIGNvbnN0IGVwc2lsb24gPSAke3J9O1xuICAke0UucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRTaXplIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyhnLGIsdyx5LF8sSSl9XG4gICR7RS5tYWluU3RhcnQoKX1cbiAgJHtFLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dFNpemUiKX1cbiAgICB2YXIgb3V0cHV0SW5kaWNlcyA9ICR7SS5vZmZzZXRUb0luZGljZXMoYGdsb2JhbF9pZHggKiAke3V9YCl9O1xuICAgICR7JCgpfVxuICAgIGxldCBzY2FsZSA9ICR7Yi5nZXRCeU9mZnNldCgiY09mZnNldCIpfTtcbiAgICBsZXQgYmlhcyA9ICR7dy5nZXRCeU9mZnNldCgiY09mZnNldCIpfTtcbiAgICBsZXQgaW5wdXRNZWFuID0gJHt5LmdldEJ5T2Zmc2V0KCJjT2Zmc2V0Iil9O1xuICAgIGxldCBpbnB1dFZhciA9ICR7Xy5nZXRCeU9mZnNldCgiY09mZnNldCIpfTtcbiAgICBsZXQgeCA9ICR7Zy5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpfTtcbiAgICBsZXQgdmFsdWUgPSAoeCAtIGlucHV0TWVhbikgKiBpbnZlcnNlU3FydChpbnB1dFZhciArIGVwc2lsb24pICogc2NhbGUgKyBiaWFzO1xuICAgICR7SS5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsInZhbHVlIil9XG4gIH1gO3JldHVybntuYW1lOiJCYXRjaE5vcm1hbGl6YXRpb24iLHNoYWRlckNhY2hlOntoaW50OmAke3QuZXBzaWxvbn1fJHt0LmZvcm1hdH1fJHtvfV8ke3V9YCxpbnB1dERlcGVuZGVuY2llczpwP1sicmFuayIsInR5cGUiLCJ0eXBlIiwidHlwZSIsInR5cGUiXTp2b2lkIDB9LGdldFNoYWRlclNvdXJjZTp4LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6ZVswXS5kaW1zLGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChhLzY0KX0scHJvZ3JhbVVuaWZvcm1zOnA/W3t0eXBlOiJ1aW50MzIiLGRhdGE6YX0sLi4uTChzKV06W3t0eXBlOiJ1aW50MzIiLGRhdGE6YX1dfSl9fSxGZD1lPT5nZShlKSxHYT0oZSx0KT0+e2xldHtpbnB1dHM6cixvdXRwdXRDb3VudDpvfT1lLG49RmQoey4uLnQsb3V0cHV0Q291bnQ6b30pO2lmKEd0LndlYmdwdS52YWxpZGF0ZUlucHV0Q29udGVudCYmR2QocixuKSx0LnRyYWluaW5nTW9kZSl0aHJvdyBuZXcgRXJyb3IoIkJhdGNoTm9ybWFsaXphdGlvbiB0cmFpbmluZ01vZGUgaXMgbm90IHN1cHBvcnRlZCB5ZXQuIik7ZS5jb21wdXRlKExkKHIsbikpfX0pO3ZhciBqZCxxZCxGYSxqYT1qKCgpPT57InVzZSBzdHJpY3QiOyRlKCk7dmUoKTtqZD1lPT57aWYoZVswXS5kaW1zLmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKCJpbnB1dCBzaG91bGQgaGF2ZSAzIGRpbWVuc2lvbnMiKTtpZighWzMyMCw2NDAsMTI4MF0uaW5jbHVkZXMoZVswXS5kaW1zWzJdKSl0aHJvdyBuZXcgRXJyb3IoIm51bWJlciBvZiBjaGFubmVscyBzaG91bGQgYmUgMzIwLCA2NDAgb3IgMTI4MCIpO2lmKGVbMV0uZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiYmlhcyBpcyBleHBlY3RlZCB0byBoYXZlIDEgZGltZW5zaW9ucyIpO2lmKGVbMF0uZGltc1syXSE9PWVbMV0uZGltc1swXSl0aHJvdyBuZXcgRXJyb3IoImxhc3QgZGltZW5zaW9uIG9mIGlucHV0IGFuZCBiaWFzIGFyZSBub3QgdGhlIHNhbWUiKX0scWQ9ZT0+e2xldCB0PWVbMF0uZGltcyxyPWVbMF0uZGltc1syXSxvPVUuc2l6ZSh0KS80LG49ZVswXS5kYXRhVHlwZSxzPU0oImlucHV0IixuLHQsNCksdT1NKCJiaWFzIixuLFtyXSw0KSxsPU0oInJlc2lkdWFsIixuLHQsNCksYT1GKCJvdXRwdXQiLG4sdCw0KTtyZXR1cm57bmFtZToiQmlhc0FkZCIsZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczp0LGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChvLzY0KX19KSxnZXRTaGFkZXJTb3VyY2U6aD0+YFxuICBjb25zdCBjaGFubmVscyA9ICR7cn11IC8gNDtcbiAgJHtoLmRlY2xhcmVWYXJpYWJsZXMocyx1LGwsYSl9XG5cbiAgJHtoLm1haW5TdGFydCgpfVxuICAgICR7aC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKG8pfVxuICAgIGxldCB2YWx1ZSA9ICR7cy5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpfVxuICAgICAgKyAke3UuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHggJSBjaGFubmVscyIpfSArICR7bC5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpfTtcbiAgICAke2Euc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJ2YWx1ZSIpfVxuICB9YH19LEZhPWU9PntqZChlLmlucHV0cyksZS5jb21wdXRlKHFkKGUuaW5wdXRzKSl9fSk7dmFyIEtkLEFlLHFhLEthLFlhLFphLFFhLFhhLEphLGVpLHRpLFlkLHJpLG5pLG9pLGFpLFlyLGlpLFpyLHNpLHVpLGRpLGxpLGNpLHBpLG1pLGZpLGhpLGdpLHlpLGJpLHdpLHZpLCRpLFNpLHhpLFZuPWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTskZSgpO2plKCk7dmUoKTtLZD0oZSx0LHIsbyxuLHMpPT57bGV0IHU9TWF0aC5jZWlsKHQvNCksbD0iIjt0eXBlb2Ygbj09InN0cmluZyI/bD1gJHtufShhKWA6bD1uKCJhIik7bGV0IGE9TSgiaW5wdXREYXRhIixyLFt1XSw0KSxwPUYoIm91dHB1dERhdGEiLG8sW3VdLDQpO3JldHVybmBcbiAgICAgICR7ZS5yZWdpc3RlclVuaWZvcm0oInZlY19zaXplIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyhhLHApfVxuXG4gICR7cz8/IiJ9XG5cbiAgJHtlLm1haW5TdGFydCgpfVxuICAgICR7ZS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy52ZWNfc2l6ZSIpfVxuXG4gICAgbGV0IGEgPSAke2EuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKX07XG4gICAgJHtwLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IixsKX1cbiAgfWB9LEFlPShlLHQscixvLG4scz1lLmRhdGFUeXBlKT0+KHtuYW1lOnQsc2hhZGVyQ2FjaGU6e2hpbnQ6bixpbnB1dERlcGVuZGVuY2llczpbInR5cGUiXX0sZ2V0U2hhZGVyU291cmNlOnU9PktkKHUsVS5zaXplKGUuZGltcyksZS5kYXRhVHlwZSxzLHIsbyksZ2V0UnVuRGF0YTp1PT4oe291dHB1dHM6W3tkaW1zOmUuZGltcyxkYXRhVHlwZTpzfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoVS5zaXplKHVbMF0uZGltcykvNjQvNCl9LHByb2dyYW1Vbmlmb3Jtczpbe3R5cGU6InVpbnQzMiIsZGF0YTpNYXRoLmNlaWwoVS5zaXplKGUuZGltcykvNCl9XX0pfSkscWE9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiQWJzIiwiYWJzIikpfSxLYT1lPT57ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJBY29zIiwiYWNvcyIpKX0sWWE9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiQWNvc2giLCJhY29zaCIpKX0sWmE9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiQXNpbiIsImFzaW4iKSl9LFFhPWU9PntlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIkFzaW5oIiwiYXNpbmgiKSl9LFhhPWU9PntlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIkF0YW4iLCJhdGFuIikpfSxKYT1lPT57ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJBdGFuaCIsImF0YW5oIikpfSxlaT1lPT5nZShlKSx0aT0oZSx0KT0+e2xldCByO3N3aXRjaCh0LnRvKXtjYXNlIDEwOnI9InZlYzQ8ZjE2PiI7YnJlYWs7Y2FzZSAxOnI9InZlYzQ8ZjMyPiI7YnJlYWs7Y2FzZSAxMjpyPSJ2ZWM0PHUzMj4iO2JyZWFrO2Nhc2UgNjpyPSJ2ZWM0PGkzMj4iO2JyZWFrO2Nhc2UgOTpyPSJ2ZWM0PGJvb2w+IjticmVhaztkZWZhdWx0OnRocm93IG5ldyBSYW5nZUVycm9yKGBub3Qgc3VwcG9ydGVkIHR5cGUgKHNwZWNpZmllZCBpbiBhdHRyaWJ1dGUgXCd0b1wnIGZyb20gXCdDYXN0XCcgb3BlcmF0b3IpOiAke3QudG99YCl9ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJDYXN0IixyLHZvaWQgMCx0LmNhY2hlS2V5LHQudG8pKX0sWWQ9ZT0+e2xldCB0PWUubGVuZ3RoPj0yJiZlWzFdLmRhdGEhPT0wP2VbMV0uZ2V0RmxvYXQzMkFycmF5KClbMF06R3Iscj1lLmxlbmd0aD49MyYmZVsyXS5kYXRhIT09MD9lWzJdLmdldEZsb2F0MzJBcnJheSgpWzBdOkxyO3JldHVybiBnZSh7bWluOnQsbWF4OnJ9KX0scmk9KGUsdCk9PntsZXQgcj1lLmlucHV0cy5sZW5ndGg9PT0xP3Q6WWQoZS5pbnB1dHMpLG89bHQoZS5pbnB1dHNbMF0uZGF0YVR5cGUpO2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiQ2xpcCIsbj0+YGNsYW1wKCR7bn0sIGNsaXBfbWluXywgY2xpcF9tYXhfKWAsYFxuICAgIGNvbnN0IGNsaXBfbWluXzogdmVjNDwke299PiA9IHZlYzQoJHtvfSgke3IubWlufSkpO1xuICAgIGNvbnN0IGNsaXBfbWF4XzogdmVjNDwke299PiA9IHZlYzQoJHtvfSgke3IubWF4fSkpO1xuYCxyLmNhY2hlS2V5KSx7aW5wdXRzOlswXX0pfSxuaT1lPT57ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJDZWlsIiwiY2VpbCIpKX0sb2k9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiQ29zIiwiY29zIikpfSxhaT1lPT57ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJDb3NoIiwiY29zaCIpKX0sWXI9ZT0+Z2UoZSksaWk9KGUsdCk9PntsZXQgcj1sdChlLmlucHV0c1swXS5kYXRhVHlwZSk7ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJFbHUiLG89PmBlbHVfdmYzMigke299KWAsYFxuICBjb25zdCBlbHVfYWxwaGFfID0gJHtyfSgke3QuYWxwaGF9KTtcblxuICBmbiBlbHVfZjMyKGE6ICR7cn0pIC0+ICR7cn0ge1xuICByZXR1cm4gc2VsZWN0KChleHAoYSkgLSAxLjApICogZWx1X2FscGhhXywgYSwgYSA+PSAwLjApO1xuICB9XG5cbiAgZm4gZWx1X3ZmMzIodjogdmVjNDwke3J9PikgLT4gdmVjNDwke3J9PiB7XG4gIHJldHVybiB2ZWM0KGVsdV9mMzIodi54KSwgZWx1X2YzMih2LnkpLCBlbHVfZjMyKHYueiksIGVsdV9mMzIodi53KSk7XG4gIH1gLHQuY2FjaGVLZXkpKX0sWnI9KGUsdD0iZjMyIik9PmBcbmNvbnN0IHIwOiAke3R9ID0gMC4zMjc1OTExO1xuY29uc3QgcjE6ICR7dH0gPSAwLjI1NDgyOTU5MjtcbmNvbnN0IHIyOiAke3R9ID0gLTAuMjg0NDk2NzM2O1xuY29uc3QgcjM6ICR7dH0gPSAxLjQyMTQxMzc0MTtcbmNvbnN0IHI0OiAke3R9ID0gLTEuNDUzMTUyMDI3O1xuY29uc3QgcjU6ICR7dH0gPSAxLjA2MTQwNTQyOTtcblxuZm4gZXJmX3ZmMzIodjogJHtlfSkgLT4gJHtlfSB7XG4gIGxldCBhYnN2ID0gYWJzKHYpO1xuICBsZXQgeCA9IDEuMCAvICgxLjAgKyByMCAqIGFic3YpO1xuICByZXR1cm4gc2lnbih2KSAqICgxLjAgLSAoKCgocjUgKiB4ICsgcjQpICogeCArIHIzKSAqIHggKyByMikgKiB4ICsgcjEpICogeCAqIGV4cCgtYWJzdiAqIGFic3YpKTtcbn1gLHNpPWU9PntsZXQgdD1sdChlLmlucHV0c1swXS5kYXRhVHlwZSk7ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJFcmYiLHI9PmBlcmZfdmYzMigke3J9KWAsWnIoYHZlYzQ8JHt0fT5gLHQpKSl9LHVpPWU9PntlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIkV4cCIsImV4cCIpKX0sZGk9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiRmxvb3IiLCJmbG9vciIpKX0sbGk9ZT0+e2xldCB0PWx0KGUuaW5wdXRzWzBdLmRhdGFUeXBlKTtlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIkdlbHUiLHI9PmAwLjUgKiAke3J9ICogKDEuMCArIGVyZl92ZjMyKCR7cn0gKiAwLjcwNzEwNjc4MTE4NjU0NzUpKWAsWnIoYHZlYzQ8JHt0fT5gLHQpKSl9LGNpPShlLHQpPT57bGV0IHI9bHQoZS5pbnB1dHNbMF0uZGF0YVR5cGUpO2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiTGVha3lSZWx1IixvPT5gc2VsZWN0KGxlYWt5X3JlbHVfYWxwaGFfICogJHtvfSwgJHtvfSwgJHtvfSA+PSB2ZWM0PCR7cn0+KDAuMCkpYCxgY29uc3QgbGVha3lfcmVsdV9hbHBoYV8gPSAke3J9KCR7dC5hbHBoYX0pO2AsdC5jYWNoZUtleSkpfSxwaT1lPT57ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJOb3QiLHQ9PmAhJHt0fWApKX0sbWk9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiTmVnIix0PT5gLSR7dH1gKSl9LGZpPWU9PntlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIlJlY2lwcm9jYWwiLHQ9PmAxLjAvJHt0fWApKX0saGk9ZT0+e2xldCB0PWx0KGUuaW5wdXRzWzBdLmRhdGFUeXBlKTtlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIlJlbHUiLHI9PmBzZWxlY3QodmVjNDwke3R9PigwLjApLCAke3J9LCAke3J9ID4gdmVjNDwke3R9PigwLjApKWApKX0sZ2k9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiU2lnbW9pZCIsdD0+YCgxLjAgLyAoMS4wICsgZXhwKC0ke3R9KSkpYCkpfSx5aT1lPT57ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJTaW4iLCJzaW4iKSl9LGJpPWU9PntlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIlNpbmgiLCJzaW5oIikpfSx3aT1lPT57ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJTcXJ0Iiwic3FydCIpKX0sdmk9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiVGFuIiwidGFuIikpfSwkaT1lPT57ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJUYW5oIiwidGFuaCIpKX0sU2k9KGUsdCk9PntsZXQgcj1sdChlLmlucHV0c1swXS5kYXRhVHlwZSk7cmV0dXJuIGUuY29tcHV0ZShBZShlLmlucHV0c1swXSwiVGhyZXNob2xkZWRSZWx1IixvPT5gc2VsZWN0KHZlYzQ8JHtyfT4oMC4wKSwgJHtvfSwgJHtvfSA+IHRocmVzaG9sZGVkX3JlbHVfYWxwaGFfKWAsYGNvbnN0IHRocmVzaG9sZGVkX3JlbHVfYWxwaGFfID0gdmVjNDwke3J9Pigke3QuYWxwaGF9KTtgLHQuY2FjaGVLZXkpKSwwfSx4aT1lPT57ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJMb2ciLCJsb2ciKSl9fSk7dmFyIFFkLFhkLF9pLENpPWooKCk9PnsidXNlIHN0cmljdCI7JGUoKTt2ZSgpO1ZuKCk7UWQ9ZT0+e2lmKGVbMF0uZGltcy5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcigiaW5wdXQgc2hvdWxkIGhhdmUgMyBkaW1lbnNpb25zIik7aWYoIVsyNTYwLDUxMjAsMTAyNDBdLmluY2x1ZGVzKGVbMF0uZGltc1syXSkpdGhyb3cgbmV3IEVycm9yKCJoaWRkZW4gc3RhdGUgc2hvdWxkIGJlIDI1NjAsIDUxMjAgb3IgMTAyNDAiKTtpZihlWzFdLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoImJpYXMgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAxIGRpbWVuc2lvbnMiKTtpZihlWzBdLmRpbXNbMl0hPT1lWzFdLmRpbXNbMF0pdGhyb3cgbmV3IEVycm9yKCJsYXN0IGRpbWVuc2lvbiBvZiBpbnB1dCBhbmQgYmlhcyBhcmUgbm90IHRoZSBzYW1lIil9LFhkPWU9PntsZXQgdD1lWzBdLmRpbXMuc2xpY2UoKTt0WzJdPXRbMl0vMjtsZXQgcj1NKCJpbnB1dCIsZVswXS5kYXRhVHlwZSxlWzBdLmRpbXMsNCksbz1NKCJiaWFzIixlWzBdLmRhdGFUeXBlLFtlWzBdLmRpbXNbMl1dLDQpLG49Rigib3V0cHV0IixlWzBdLmRhdGFUeXBlLHQsNCkscz1VLnNpemUodCkvNCx1PUxlKGVbMF0uZGF0YVR5cGUpO3JldHVybntuYW1lOiJCaWFzU3BsaXRHZWx1IixnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnQsZGF0YVR5cGU6ZVswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKHMvNjQpfX0pLGdldFNoYWRlclNvdXJjZTphPT5gXG4gIGNvbnN0IE1fU1FSVDIgPSBzcXJ0KDIuMCk7XG4gIGNvbnN0IGhhbGZDaGFubmVscyA9ICR7ZVswXS5kaW1zWzJdLzQvMn11O1xuXG4gICR7YS5kZWNsYXJlVmFyaWFibGVzKHIsbyxuKX1cblxuICAke1pyKGB2ZWM0PCR7dX0+YCx1KX1cblxuICAke2EubWFpblN0YXJ0KCl9XG4gICAgJHthLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMocyl9XG4gICAgbGV0IGJpYXNJZHggPSBnbG9iYWxfaWR4ICUgaGFsZkNoYW5uZWxzO1xuICAgIGxldCBiYXRjaEluZGV4ID0gZ2xvYmFsX2lkeCAvIGhhbGZDaGFubmVscztcbiAgICBsZXQgaW5wdXRPZmZzZXQgPSBiaWFzSWR4ICsgYmF0Y2hJbmRleCAqIGhhbGZDaGFubmVscyAqIDI7XG4gICAgbGV0IHZhbHVlTGVmdCA9IGlucHV0W2lucHV0T2Zmc2V0XSArIGJpYXNbYmlhc0lkeF07XG4gICAgbGV0IHZhbHVlUmlnaHQgPSBpbnB1dFtpbnB1dE9mZnNldCArIGhhbGZDaGFubmVsc10gKyBiaWFzW2JpYXNJZHggKyBoYWxmQ2hhbm5lbHNdO1xuICAgIGxldCBnZWx1UmlnaHQgPSB2YWx1ZVJpZ2h0ICogMC41ICogKGVyZl92ZjMyKHZhbHVlUmlnaHQgLyBNX1NRUlQyKSArIDEpO1xuXG4gICAgJHtuLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwidmFsdWVMZWZ0ICogZ2VsdVJpZ2h0Iil9XG4gIH1gfX0sX2k9ZT0+e1FkKGUuaW5wdXRzKSxlLmNvbXB1dGUoWGQoZS5pbnB1dHMpKX19KTt2YXIgSmQsZWwsaHQsSWksQWksVGksRWksT2ksUGksa2ksUmksQmksRGksTWk9aigoKT0+eyJ1c2Ugc3RyaWN0IjtOZSgpOyRlKCk7dmUoKTtKZD0oZSx0LHIsbyxuLHMsdSxsLGEscCxoLGcsYik9PntsZXQgdyx5O3R5cGVvZiBsPT0ic3RyaW5nIj93PXk9KFIsVik9PmAke2x9KCgke1J9KSwoJHtWfSkpYDp0eXBlb2YgbD09ImZ1bmN0aW9uIj93PXk9bDoodz1sLnNjYWxhcix5PWwudmVjdG9yKTtsZXQgXz1nP3QubGVuZ3RoOnQsST1nP3IubGVuZ3RoOnIsJD1nP28ubGVuZ3RoOm8seD1GKCJvdXRwdXREYXRhIixoLCQsNCksRT1NKCJhRGF0YSIsYSxfLDQpLEE9TSgiYkRhdGEiLHAsSSw0KSx6O2lmKG4paWYocyl7bGV0IFI9VS5zaXplKHQpPT09MSxWPVUuc2l6ZShyKT09PTEsVD10Lmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdJTQ9PT0wLE49ci5sZW5ndGg+MCYmcltyLmxlbmd0aC0xXSU0PT09MDtSfHxWP3o9eC5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIseShSP2Ake0UudHlwZS52YWx1ZX0oJHtFLmdldEJ5T2Zmc2V0KCIwIil9LngpYDpFLmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiksVj9gJHtBLnR5cGUudmFsdWV9KCR7QS5nZXRCeU9mZnNldCgiMCIpfS54KWA6QS5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpKSk6ej1gXG4gICAgICAgICAgICBsZXQgb3V0cHV0SW5kaWNlcyA9ICR7eC5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHggKiA0dSIpfTtcbiAgICAgICAgICAgIGxldCBvZmZzZXRBID0gJHtFLmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KCJvdXRwdXRJbmRpY2VzIix4KX07XG4gICAgICAgICAgICBsZXQgb2Zmc2V0QiA9ICR7QS5icm9hZGNhc3RlZEluZGljZXNUb09mZnNldCgib3V0cHV0SW5kaWNlcyIseCl9O1xuICAgICAgICAgICAgJHt4LnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4Iix5KHV8fFQ/RS5nZXRCeU9mZnNldCgib2Zmc2V0QSAvIDR1Iik6YCR7RS50eXBlLnZhbHVlfSgke0UuZ2V0QnlPZmZzZXQoIm9mZnNldEEgLyA0dSIpfVtvZmZzZXRBICUgNHVdKWAsdXx8Tj9BLmdldEJ5T2Zmc2V0KCJvZmZzZXRCIC8gNHUiKTpgJHtBLnR5cGUudmFsdWV9KCR7QS5nZXRCeU9mZnNldCgib2Zmc2V0QiAvIDR1Iil9W29mZnNldEIgJSA0dV0pYCkpfVxuICAgICAgICAgIGB9ZWxzZSB6PXguc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLHkoRS5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpLEEuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKSkpO2Vsc2V7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJubyBuZWNlc3NhcnkgdG8gdXNlIHNjYWxhciBpbXBsZW1lbnRhdGlvbiBmb3IgZWxlbWVudC13aXNlIGJpbmFyeSBvcCBpbXBsZW1lbnRhdGlvbi4iKTtsZXQgUj0oVixULE49IiIpPT57bGV0IHRlPWBhRGF0YVtpbmRleEEke1R9XVtjb21wb25lbnRBJHtUfV1gLFk9YGJEYXRhW2luZGV4QiR7VH1dW2NvbXBvbmVudEIke1R9XWA7cmV0dXJuYFxuICAgICAgICAgICAgbGV0IG91dHB1dEluZGljZXMke1R9ID0gJHt4Lm9mZnNldFRvSW5kaWNlcyhgZ2xvYmFsX2lkeCAqIDR1ICsgJHtUfXVgKX07XG4gICAgICAgICAgICBsZXQgb2Zmc2V0QSR7VH0gPSAke0UuYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQoYG91dHB1dEluZGljZXMke1R9YCx4KX07XG4gICAgICAgICAgICBsZXQgb2Zmc2V0QiR7VH0gPSAke0EuYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQoYG91dHB1dEluZGljZXMke1R9YCx4KX07XG4gICAgICAgICAgICBsZXQgaW5kZXhBJHtUfSA9IG9mZnNldEEke1R9IC8gNHU7XG4gICAgICAgICAgICBsZXQgaW5kZXhCJHtUfSA9IG9mZnNldEIke1R9IC8gNHU7XG4gICAgICAgICAgICBsZXQgY29tcG9uZW50QSR7VH0gPSBvZmZzZXRBJHtUfSAlIDR1O1xuICAgICAgICAgICAgbGV0IGNvbXBvbmVudEIke1R9ID0gb2Zmc2V0QiR7VH0gJSA0dTtcbiAgICAgICAgICAgICR7Vn1bJHtUfV0gPSAke059KCR7dyh0ZSxZKX0pO1xuICAgICAgICAgIGB9O2g9PT05P3o9YFxuICAgICAgICAgICAgdmFyIGRhdGEgPSB2ZWM0PHUzMj4oMCk7XG4gICAgICAgICAgICAke1IoImRhdGEiLDAsInUzMiIpfVxuICAgICAgICAgICAgJHtSKCJkYXRhIiwxLCJ1MzIiKX1cbiAgICAgICAgICAgICR7UigiZGF0YSIsMiwidTMyIil9XG4gICAgICAgICAgICAke1IoImRhdGEiLDMsInUzMiIpfVxuICAgICAgICAgICAgb3V0cHV0RGF0YVtnbG9iYWxfaWR4XSA9IGRvdCh2ZWM0PHUzMj4oMHgxLCAweDEwMCwgMHgxMDAwMCwgMHgxMDAwMDAwKSwgdmVjNDx1MzI+KGRhdGEpKTtgOno9YFxuICAgICAgICAgICAgJHtSKCJvdXRwdXREYXRhW2dsb2JhbF9pZHhdIiwwKX1cbiAgICAgICAgICAgICR7Uigib3V0cHV0RGF0YVtnbG9iYWxfaWR4XSIsMSl9XG4gICAgICAgICAgICAke1IoIm91dHB1dERhdGFbZ2xvYmFsX2lkeF0iLDIpfVxuICAgICAgICAgICAgJHtSKCJvdXRwdXREYXRhW2dsb2JhbF9pZHhdIiwzKX1cbiAgICAgICAgICBgfXJldHVybmBcbiAgICAgICAgJHtlLnJlZ2lzdGVyVW5pZm9ybSgidmVjX3NpemUiLCJ1MzIiKS5kZWNsYXJlVmFyaWFibGVzKEUsQSx4KX1cblxuICAgICAgICAke2I/PyIifVxuXG4gICAgICAgICR7ZS5tYWluU3RhcnQoKX1cbiAgICAgICAgJHtlLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLnZlY19zaXplIil9XG4gICAgICAgICR7en1cbiAgICAgIH1gfSxlbD0oZSx0LHIsbyxuLHMsdT1yLmRhdGFUeXBlKT0+e2xldCBsPSFVLmFyZUVxdWFsKHIuZGltcyxvLmRpbXMpLGE9ci5kaW1zLHA9VS5zaXplKHIuZGltcyksaD0hMSxnPSExLGI9W2xdO2lmKGwpe2xldCB5PWR0LmNhbGNTaGFwZShyLmRpbXMsby5kaW1zLCExKTtpZigheSl0aHJvdyBuZXcgRXJyb3IoIkNhblwndCBwZXJmb3JtIGJpbmFyeSBvcCBvbiB0aGUgZ2l2ZW4gdGVuc29ycyIpO2E9eSxwPVUuc2l6ZShhKTtsZXQgXz1VLnNpemUoci5kaW1zKT09PTEsST1VLnNpemUoby5kaW1zKT09PTEsJD1yLmRpbXMubGVuZ3RoPjAmJnIuZGltc1tyLmRpbXMubGVuZ3RoLTFdJTQ9PT0wLHg9by5kaW1zLmxlbmd0aD4wJiZvLmRpbXNbby5kaW1zLmxlbmd0aC0xXSU0PT09MDtiLnB1c2goXyksYi5wdXNoKEkpLGIucHVzaCgkKSxiLnB1c2goeCk7bGV0IEU9MTtmb3IobGV0IEE9MTtBPGEubGVuZ3RoO0ErKyl7bGV0IHo9ci5kaW1zW3IuZGltcy5sZW5ndGgtQV0/PzEsUj1vLmRpbXNbby5kaW1zLmxlbmd0aC1BXT8/MTtpZih6PT09UilFKj16O2Vsc2UgYnJlYWt9RSU0PT09MD8oZz0hMCxoPSEwKTooX3x8SXx8JHx8eCkmJihoPSEwKX1lbHNlIGg9ITA7Yi5wdXNoKGgpO2xldCB3PVJlKHIuZGltcy5sZW5ndGgpJiZSZShvLmRpbXMubGVuZ3RoKSYmUmUoYS5sZW5ndGgpO3JldHVybntuYW1lOmUsc2hhZGVyQ2FjaGU6e2hpbnQ6dCtiLm1hcCh5PT55LnRvU3RyaW5nKCkpLmpvaW4oIl8iKSxpbnB1dERlcGVuZGVuY2llczp3P1sicmFuayIsInJhbmsiXTpbImRpbXMiLCJkaW1zIl19LGdldFNoYWRlclNvdXJjZTp5PT5KZCh5LHIuZGltcyxvLmRpbXMsYSxoLGwsZyxuLHIuZGF0YVR5cGUsby5kYXRhVHlwZSx1LHcscyksZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczphLGRhdGFUeXBlOnV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChwLzY0LzQpfSxwcm9ncmFtVW5pZm9ybXM6dz9be3R5cGU6InVpbnQzMiIsZGF0YTpNYXRoLmNlaWwoVS5zaXplKGEpLzQpfSwuLi5MKHIuZGltcyksLi4uTChvLmRpbXMpLC4uLkwoYSldOlt7dHlwZToidWludDMyIixkYXRhOk1hdGguY2VpbChVLnNpemUoYSkvNCl9XX0pfX0saHQ9KGUsdCxyLG8sbixzKT0+e2UuY29tcHV0ZShlbCh0LG4/PyIiLGUuaW5wdXRzWzBdLGUuaW5wdXRzWzFdLHIsbyxzKSl9LElpPWU9PntodChlLCJBZGQiLCh0LHIpPT5gJHt0fSske3J9YCl9LEFpPWU9PntodChlLCJEaXYiLCh0LHIpPT5gJHt0fS8ke3J9YCl9LFRpPWU9PntodChlLCJFcXVhbCIse3NjYWxhcjoodCxyKT0+YHUzMigke3R9PT0ke3J9KWAsdmVjdG9yOih0LHIpPT5gdmVjNDx1MzI+KCR7dH09PSR7cn0pYH0sdm9pZCAwLHZvaWQgMCw5KX0sRWk9ZT0+e2h0KGUsIk11bCIsKHQscik9PmAke3R9KiR7cn1gKX0sT2k9ZT0+e2xldCB0PU0oImlucHV0IixlLmlucHV0c1swXS5kYXRhVHlwZSxlLmlucHV0c1swXS5kaW1zKS50eXBlLnZhbHVlO2h0KGUsIlBvdyIse3NjYWxhcjoobyxuKT0+YHBvd19jdXN0b20oJHtvfSwke259KWAsdmVjdG9yOihvLG4pPT5gcG93X3ZlY3Rvcl9jdXN0b20oJHtvfSwke259KWB9LGBcbiAgICBmbiBwb3dfY3VzdG9tKGEgOiAke3R9LCBiIDogJHt0fSkgLT4gJHt0fSB7XG4gICAgICBpZiAoYiA9PSAke3R9KDAuMCkpIHtcbiAgICAgICAgcmV0dXJuICR7dH0oMS4wKTtcbiAgICAgIH0gZWxzZSBpZiAoYSA8ICR7dH0oMC4wKSAmJiBmMzIoYikgIT0gZmxvb3IoZjMyKGIpKSkge1xuICAgICAgICByZXR1cm4gJHt0fShwb3coZjMyKGEpLCBmMzIoYikpKTsgLy8gTmFOXG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsZWN0KHNpZ24oYSksICR7dH0oMS4wKSwgcm91bmQoZjMyKGFicyhiKSAlICR7dH0oMi4wKSkpICE9IDEuMCkgKiAke3R9KCR7dD09PSJpMzIiPyJyb3VuZCI6IiJ9KHBvdyhmMzIoYWJzKGEpKSwgZjMyKGIpKSkpO1xuICAgIH1cbiAgICBmbiBwb3dfdmVjdG9yX2N1c3RvbShhIDogdmVjNDwke3R9PiwgYiA6IHZlYzQ8JHt0fT4pIC0+IHZlYzQ8JHt0fT4ge1xuICAgICAgLy8gVE9ETzogaW1wbGVtZW50IHZlY3Rvcml6ZWQgcG93XG4gICAgICByZXR1cm4gdmVjNDwke3R9Pihwb3dfY3VzdG9tKGEueCwgYi54KSwgcG93X2N1c3RvbShhLnksIGIueSksIHBvd19jdXN0b20oYS56LCBiLnopLCBwb3dfY3VzdG9tKGEudywgYi53KSk7XG4gICAgfVxuICAgICAgYCl9LFBpPWU9PntodChlLCJTdWIiLCh0LHIpPT5gJHt0fS0ke3J9YCl9LGtpPWU9PntodChlLCJHcmVhdGVyIix7c2NhbGFyOih0LHIpPT5gdTMyKCR7dH0+JHtyfSlgLHZlY3RvcjoodCxyKT0+YHZlYzQ8dTMyPigke3R9PiR7cn0pYH0sdm9pZCAwLHZvaWQgMCw5KX0sUmk9ZT0+e2h0KGUsIkxlc3MiLHtzY2FsYXI6KHQscik9PmB1MzIoJHt0fTwke3J9KWAsdmVjdG9yOih0LHIpPT5gdmVjNDx1MzI+KCR7dH08JHtyfSlgfSx2b2lkIDAsdm9pZCAwLDkpfSxCaT1lPT57aHQoZSwiR3JlYXRlck9yRXF1YWwiLHtzY2FsYXI6KHQscik9PmB1MzIoJHt0fT49JHtyfSlgLHZlY3RvcjoodCxyKT0+YHZlYzQ8dTMyPigke3R9Pj0ke3J9KWB9LHZvaWQgMCx2b2lkIDAsOSl9LERpPWU9PntodChlLCJMZXNzT3JFcXVhbCIse3NjYWxhcjoodCxyKT0+YHUzMigke3R9PD0ke3J9KWAsdmVjdG9yOih0LHIpPT5gdmVjNDx1MzI+KCR7dH08PSR7cn0pYH0sdm9pZCAwLHZvaWQgMCw5KX19KTt2YXIgcmwsbmwsb2wsYWwsemksVWksVmk9aigoKT0+eyJ1c2Ugc3RyaWN0IjskZSgpO2plKCk7dmUoKTtybD1lPT57aWYoIWV8fGUubGVuZ3RoPDEpdGhyb3cgbmV3IEVycm9yKCJ0b28gZmV3IGlucHV0cyIpO2xldCB0PWVbMF0uZGF0YVR5cGUscj1lWzBdLmRpbXMubGVuZ3RoO2ZvcihsZXQgbyBvZiBlKXtpZihvLmRhdGFUeXBlIT09dCl0aHJvdyBuZXcgRXJyb3IoImlucHV0IHRlbnNvcnMgc2hvdWxkIGJlIG9uZSB0eXBlIik7aWYoby5kaW1zLmxlbmd0aCE9PXIpdGhyb3cgbmV3IEVycm9yKCJpbnB1dCB0ZW5zb3JzIHNob3VsZCBoYXZlIHRoZSBzYW1lIHNoYXBlIil9fSxubD0oZSx0KT0+YFxuICBmbiBjYWxjdWxhdGVJbnB1dEluZGV4KGluZGV4OiB1MzIpIC0+IHUzMiB7XG4gICAgbGV0IHNpemVJbkNvbmNhdEF4aXMgPSBhcnJheTx1MzIsICR7ZX11Pigke3R9KTtcbiAgICBmb3IgKHZhciBpOiB1MzIgPSAwdTsgaSA8ICR7ZX07IGkgKz0gMXUgKSB7XG4gICAgICBpZiAoaW5kZXggPCBzaXplSW5Db25jYXRBeGlzW2ldKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gJHtlfXU7XG4gIH1gLG9sPShlLHQpPT57bGV0IHI9ZS5sZW5ndGgsbz1bXTtmb3IobGV0IG49MDtuPHI7KytuKXtsZXQgcz10LnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IixlW25dLmdldEJ5SW5kaWNlcygiaW5kaWNlcyIpKTtyPT09MT9vLnB1c2gocyk6bj09PTA/by5wdXNoKGBpZiAoaW5wdXRJbmRleCA9PSAke259dSkgeyAke3N9IH1gKTpuPT09ci0xP28ucHVzaChgZWxzZSB7ICR7c30gfWApOm8ucHVzaChgZWxzZSBpZiAoaW5wdXRJbmRleCA9PSAke259KSB7ICR7c30gfWApfXJldHVybiBvLmpvaW4oYFxuYCl9LGFsPShlLHQpPT57bGV0IHI9ZVswXS5kaW1zLnNsaWNlKCk7aWYodD49ci5sZW5ndGh8fHQ8LTEqci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJheGlzIHNwZWNpZmllZCBmb3IgY29uY2F0IGRvZXNuXCd0IG1hdGNoIGlucHV0IGRpbWVuc2lvbmFsaXR5Iik7bGV0IG89dDwwP3IubGVuZ3RoK3Q6dCxuPXIuc2xpY2UoMCk7Zm9yKGxldCBBPTE7QTxlLmxlbmd0aDtBKyspe2xldCB6PWVbQV0uZGltcy5zbGljZSgpO2ZvcihsZXQgUj0wO1I8ci5sZW5ndGg7UisrKWlmKFI9PT1vKW5bb10rPXpbUl07ZWxzZSBpZihyW1JdIT09eltSXSl0aHJvdyBuZXcgRXJyb3IoIm5vbiBjb25jYXQgZGltZW5zaW9ucyBtdXN0IG1hdGNoIil9bGV0IHM9VS5zaXplKG4pLHU9bmV3IEFycmF5KGUubGVuZ3RoKSxsPW5ldyBBcnJheShlLmxlbmd0aCksYT1lWzBdLmRhdGFUeXBlLHA9MCxoPVtdLGc9W10sYj1bXSx3PVt7dHlwZToidWludDMyIixkYXRhOnN9XTtmb3IobGV0IEE9MDtBPGUubGVuZ3RoOysrQSlwKz1lW0FdLmRpbXNbb10sdVtBXT1wLGIucHVzaChSZShlW0FdLmRpbXMubGVuZ3RoKSksZy5wdXNoKGJbQV0/ZVtBXS5kaW1zLmxlbmd0aDplW0FdLmRpbXMpLGxbQV09TShgaW5wdXQke0F9YCxhLGdbQV0pLGgucHVzaChiW0FdPyJyYW5rIjoiZGltcyIpLHcucHVzaCh7dHlwZToidWludDMyIixkYXRhOnVbQV19KTtmb3IobGV0IEE9MDtBPGUubGVuZ3RoOysrQSliW0FdJiZ3LnB1c2goLi4uTChlW0FdLmRpbXMpKTtsZXQgeT1SZShuLmxlbmd0aCk7eSYmdy5wdXNoKC4uLkwobikpO2xldCBfPXk/bi5sZW5ndGg6bixJPUYoIm91dHB1dCIsYSxfKSwkPUkuaW5kaWNlc0dldCgiaW5kaWNlcyIsbykseD1BcnJheS5mcm9tKEFycmF5KHUubGVuZ3RoKS5rZXlzKCkpLm1hcChBPT5gdW5pZm9ybXMuc2l6ZUluQ29uY2F0QXhpcyR7QX1gKS5qb2luKCIsIiksRT1BPT5gXG5cbiAgJHsoKCk9PntBLnJlZ2lzdGVyVW5pZm9ybSgib3V0cHV0U2l6ZSIsInUzMiIpO2ZvcihsZXQgej0wO3o8ZS5sZW5ndGg7eisrKUEucmVnaXN0ZXJVbmlmb3JtKGBzaXplSW5Db25jYXRBeGlzJHt6fWAsInUzMiIpO3JldHVybiBBLmRlY2xhcmVWYXJpYWJsZXMoLi4ubCxJKX0pKCl9XG5cbiAgJHtubCh1Lmxlbmd0aCx4KX1cblxuICAke0EubWFpblN0YXJ0KCl9XG4gICAgJHtBLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dFNpemUiKX1cblxuICAgIHZhciBpbmRpY2VzID0gJHtJLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcblxuICAgIGxldCBpbnB1dEluZGV4ID0gY2FsY3VsYXRlSW5wdXRJbmRleCgkeyR9KTtcbiAgICBpZiAoaW5wdXRJbmRleCAhPSAwdSkge1xuICAgICAgbGV0IHNpemVJbkNvbmNhdEF4aXMgPSBhcnJheTx1MzIsICR7dS5sZW5ndGh9dT4oJHt4fSk7XG4gICAgICAkeyR9IC09IHNpemVJbkNvbmNhdEF4aXNbaW5wdXRJbmRleCAtIDF1XTtcbiAgICB9XG5cbiAgICAke29sKGwsSSl9XG4gIH1gO3JldHVybntuYW1lOiJDb25jYXQiLHNoYWRlckNhY2hlOntoaW50OmAke3R9YCxpbnB1dERlcGVuZGVuY2llczpofSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOm4sZGF0YVR5cGU6ZVswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKHMvNjQpfSxwcm9ncmFtVW5pZm9ybXM6d30pLGdldFNoYWRlclNvdXJjZTpFfX0semk9KGUsdCk9PntybChlLmlucHV0cyksZS5jb21wdXRlKGFsKGUuaW5wdXRzLHQuYXhpcykpfSxVaT1lPT5nZSh7YXhpczplLmF4aXN9KX0pO3ZhciBndCxRcixJdD1qKCgpPT57InVzZSBzdHJpY3QiOyRlKCk7Z3Q9KGUsdCk9Pntzd2l0Y2goZS5hY3RpdmF0aW9uKXtjYXNlIlJlbHUiOnJldHVybnthY3RpdmF0aW9uRnVuY3Rpb246IiIsYXBwbHlBY3RpdmF0aW9uOmB2YWx1ZSA9IG1heCh2YWx1ZSwgJHt0fSgwLjApKTtgfTtjYXNlIlNpZ21vaWQiOnJldHVybnthY3RpdmF0aW9uRnVuY3Rpb246IiIsYXBwbHlBY3RpdmF0aW9uOmB2YWx1ZSA9ICgke3R9KDEuMCkgLyAoJHt0fSgxLjApICsgZXhwKC12YWx1ZSkpKTtgfTtjYXNlIkNsaXAiOnJldHVybnthY3RpdmF0aW9uRnVuY3Rpb246YGNvbnN0IGNsaXBfbWluXz0ke3R9KCR7ZS5jbGlwTWlufSk7Y29uc3QgY2xpcF9tYXhfPSR7dH0oJHtlLmNsaXBNYXh9KTtgLGFwcGx5QWN0aXZhdGlvbjoidmFsdWUgPSBjbGFtcCh2YWx1ZSwgY2xpcF9taW5fLCBjbGlwX21heF8pOyJ9O2RlZmF1bHQ6cmV0dXJue2FjdGl2YXRpb25GdW5jdGlvbjoiIixhcHBseUFjdGl2YXRpb246IiJ9fX0sUXI9ZT0+e2xldCB0PWU/LmFjdGl2YXRpb258fCIiO2lmKHQ9PT0iQ2xpcCIpe2xldFtyLG9dPWU/LmFjdGl2YXRpb25fcGFyYW1zfHxbR3IsTHJdO3JldHVybnthY3RpdmF0aW9uOnQsY2xpcE1heDpvLGNsaXBNaW46cixhY3RpdmF0aW9uQ2FjaGVLZXk6YCR7dH06JHtyfSwke299YH19cmV0dXJue2FjdGl2YXRpb246dCxhY3RpdmF0aW9uQ2FjaGVLZXk6dH19fSk7dmFyIEtlLFhyLEpyPWooKCk9PnsidXNlIHN0cmljdCI7S2U9KGUsdCk9Pntzd2l0Y2goZSl7Y2FzZSAxOnJldHVybiB0O2Nhc2UgMjpyZXR1cm5gdmVjMjwke3R9PmA7Y2FzZSAzOnJldHVybmB2ZWMzPCR7dH0+YDtjYXNlIDQ6cmV0dXJuYHZlYzQ8JHt0fT5gO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGAke2V9LWNvbXBvbmVudCBpcyBub3Qgc3VwcG9ydGVkLmApfX0sWHI9ZT0+YFxuICAgICAgJHtlPyJ2YWx1ZSA9IHZhbHVlICsgZ2V0Qmlhc0J5T3V0cHV0Q29vcmRzKGNvb3Jkcyk7IjoiIn1cbiAgICAgIGB9KTt2YXIgZW4sTm49aigoKT0+eyJ1c2Ugc3RyaWN0Ijtlbj1lPT5gXG5mbiBnZXRJbmRleEZyb21Db29yZHM0RChjb29yZHMgOiB2ZWM0PGkzMj4sIHNoYXBlIDogdmVjNDxpMzI+KSAtPiBpMzIge1xuICByZXR1cm4gZG90KGNvb3JkcywgdmVjNDxpMzI+KFxuICAgICAgc2hhcGUueSAqIHNoYXBlLnogKiBzaGFwZS53LCBzaGFwZS56ICogc2hhcGUudywgc2hhcGUudywgMSkpO1xufVxuZm4gZ2V0T3V0cHV0SW5kZXhGcm9tQ29vcmRzKGNvb3JkcyA6IHZlYzQ8aTMyPikgLT4gaTMyIHtcbiAgcmV0dXJuIGRvdChjb29yZHMsIHZlYzQ8aTMyPihcbiAgICBpMzIoJHtlfS54KSwgaTMyKCR7ZX0ueSksIGkzMigke2V9LnopLCAxKSk7XG59XG5gfSk7dmFyIGlsLHNsLG1yLE5pLHVsLGZyLGRsLHRuLGhyPWooKCk9PnsidXNlIHN0cmljdCI7JGUoKTt2ZSgpO0l0KCk7SnIoKTtpbD0oZSx0KT0+ZT9gXG4gICAgICAgIG1tX0FzdWJbaW5wdXRSb3ddW2lucHV0Q29sXSA9IG1tX3JlYWRBKGJhdGNoLFxuICAgICAgICAgIGtTdGFydCArIGlucHV0Um93LFxuICAgICAgICAgIGdsb2JhbFJvd1N0YXJ0IC8gaW5uZXJFbGVtZW50U2l6ZSArIGlucHV0Q29sJHt0PyIsIGJhdGNoSW5kaWNlcyI6IiJ9KTtcbiAgICAgICAgYDpgXG4gICAgICAgIG1tX0FzdWJbaW5wdXRSb3ddW2lucHV0Q29sXSA9IG1tX3JlYWRBKGJhdGNoLFxuICAgICAgICAgIGdsb2JhbFJvdyArIGlubmVyUm93LFxuICAgICAgICAgIGtTdGFydCAvIGlubmVyRWxlbWVudFNpemUgKyBpbnB1dENvbCR7dD8iLCBiYXRjaEluZGljZXMiOiIifSk7XG4gICAgICAgIGAsc2w9KGUsdCk9PmU/YFxuICAgICAgICBsZXQgQUNhY2hlZDAgPSBtbV9Bc3ViW2sgKiBpbm5lckVsZW1lbnRTaXplXVtsb2NhbFJvd107XG4gICAgICAgIGxldCBBQ2FjaGVkMSA9IG1tX0FzdWJbayAqIGlubmVyRWxlbWVudFNpemUgKyAxXVtsb2NhbFJvd107XG4gICAgICAgIGxldCBBQ2FjaGVkMiA9IG1tX0FzdWJbayAqIGlubmVyRWxlbWVudFNpemUgKyAyXVtsb2NhbFJvd107XG4gICAgICAgICR7dD09PTM/IiI6ImxldCBBQ2FjaGVkMyA9IG1tX0FzdWJbayAqIGlubmVyRWxlbWVudFNpemUgKyAzXVtsb2NhbFJvd107In1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dQZXJUaHJlYWQ7IGkgPSBpICsgMSkge1xuICAgICAgICAgIGFjY1tpXSA9IEJDYWNoZWQwICogQUNhY2hlZDBbaV0gKyBhY2NbaV07XG4gICAgICAgICAgYWNjW2ldID0gQkNhY2hlZDEgKiBBQ2FjaGVkMVtpXSArIGFjY1tpXTtcbiAgICAgICAgICBhY2NbaV0gPSBCQ2FjaGVkMiAqIEFDYWNoZWQyW2ldICsgYWNjW2ldO1xuICAgICAgICAgICR7dD09PTM/IiI6ImFjY1tpXSA9IEJDYWNoZWQzICogQUNhY2hlZDNbaV0gKyBhY2NbaV07In1cbiAgICAgICAgfWA6YFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd1BlclRocmVhZDsgaSA9IGkgKyAxKSB7XG4gICAgICAgICAgbGV0IEFDYWNoZWQgPSBtbV9Bc3ViW3RpbGVSb3cgKyBpXVtrXTtcbiAgICAgICAgICBhY2NbaV0gPSBCQ2FjaGVkMCAqIEFDYWNoZWQueCArIGFjY1tpXTtcbiAgICAgICAgICBhY2NbaV0gPSBCQ2FjaGVkMSAqIEFDYWNoZWQueSArIGFjY1tpXTtcbiAgICAgICAgICBhY2NbaV0gPSBCQ2FjaGVkMiAqIEFDYWNoZWQueiArIGFjY1tpXTtcbiAgICAgICAgICAke3Q9PT0zPyIiOiJhY2NbaV0gPSBCQ2FjaGVkMyAqIEFDYWNoZWQudyArIGFjY1tpXTsifVxuICAgICAgICB9YCxtcj0oZSx0LHI9ImYzMiIsbyxuPSExLHM9MzIsdT0hMSxsPTMyKT0+e2xldCBhPXRbMV0qZVsxXSxwPXRbMF0qZVswXSxoPW4/YTpzLGc9bj9zOmEsYj1oL3RbMF0sdz1zL3RbMV07aWYoISgobiYmYj09PTQmJmVbMV09PT00fHwhbiYmKGI9PT0zfHxiPT09NCkpJiZoJXRbMF09PT0wJiZzJXRbMV09PT0wJiZlWzBdPT09NCkpdGhyb3cgbmV3IEVycm9yKGBJZiB0cmFuc3Bvc2VBICR7bn0gaXMgdHJ1ZSwgaW5uZXJFbGVtZW50U2l6ZSAke2J9IGFuZCB3b3JrUGVyVGhyZWFkWzFdICR7ZVsxXX0gbXVzdCBiZSA0LlxuICAgICAgT3RoZXJ3aXNlLCBpbm5lckVsZW1lbnRTaXplICR7Yn0gbXVzdCBiZSAzIG9yIDQuXG4gIHRpbGVBV2lkdGggJHtofSBtdXN0IGJlIGRpdmlzaWJsZSBieSB3b3JrZ3JvdXBTaXplWzBdJHt0WzBdfS4gdGlsZUlubmVyICR7c30gbXVzdCBiZSBkaXZpc2libGUgYnkgd29ya2dyb3VwU2l6ZVsxXSAke3RbMV19LiBjb2xQZXJUaHJlYWQgJHtlWzBdfSBtdXN0IGJlIDQuYCk7cmV0dXJuYFxudmFyPHdvcmtncm91cD4gbW1fQXN1YjogYXJyYXk8YXJyYXk8dmVjJHtifTwke3J9PiwgJHtoL2J9PiwgJHtnfT47XG52YXI8d29ya2dyb3VwPiBtbV9Cc3ViOiBhcnJheTxhcnJheTx2ZWM0PCR7cn0+LCAke3AvZVswXX0+LCAke3N9PjtcblxuY29uc3Qgcm93UGVyVGhyZWFkID0gJHtlWzFdfTtcbmNvbnN0IGNvbFBlclRocmVhZCA9ICR7ZVswXX07XG5jb25zdCBpbm5lckVsZW1lbnRTaXplID0gJHtifTtcbmNvbnN0IHRpbGVJbm5lciA9ICR7c307XG5cbkBjb21wdXRlIEB3b3JrZ3JvdXBfc2l6ZSgke3RbMF19LCAke3RbMV19LCAke3RbMl19KVxuZm4gbWFpbihAYnVpbHRpbihsb2NhbF9pbnZvY2F0aW9uX2lkKSBsb2NhbElkIDogdmVjMzx1MzI+LFxuICAgICAgICBAYnVpbHRpbihnbG9iYWxfaW52b2NhdGlvbl9pZCkgZ2xvYmFsSWQgOiB2ZWMzPHUzMj4sXG4gICAgICAgIEBidWlsdGluKHdvcmtncm91cF9pZCkgd29ya2dyb3VwSWQgOiB2ZWMzPHUzMj4pIHtcbiAgbGV0IGxvY2FsUm93ID0gaTMyKGxvY2FsSWQueSk7XG4gIGxldCB0aWxlUm93ID0gbG9jYWxSb3cgKiByb3dQZXJUaHJlYWQ7XG4gIGxldCB0aWxlQ29sID0gaTMyKGxvY2FsSWQueCk7XG5cbiAgbGV0IGdsb2JhbFJvdyA9aTMyKGdsb2JhbElkLnkpICogcm93UGVyVGhyZWFkO1xuICBsZXQgZ2xvYmFsQ29sID0gaTMyKGdsb2JhbElkLngpO1xuICBsZXQgYmF0Y2ggPSAke3U/IjAiOiJpMzIoZ2xvYmFsSWQueikifTtcbiAgJHtvP2BsZXQgYmF0Y2hJbmRpY2VzID0gJHtvLm9mZnNldFRvSW5kaWNlcygidTMyKGJhdGNoKSIpfTtgOiIifVxuICBsZXQgZ2xvYmFsUm93U3RhcnQgPSBpMzIod29ya2dyb3VwSWQueSkgKiAke2F9O1xuXG4gIGxldCBudW1UaWxlcyA9ICR7dT9gJHtNYXRoLmNlaWwobC9zKX1gOiIodW5pZm9ybXMuZGltSW5uZXIgLSAxKSAvIHRpbGVJbm5lciArIDEifTtcbiAgdmFyIGtTdGFydCA9ICR7dT9gaTMyKGdsb2JhbElkLnopICogJHtsfWA6IjAifTtcblxuICB2YXIgYWNjOiBhcnJheTx2ZWM0PCR7cn0+LCByb3dQZXJUaHJlYWQ+O1xuXG4gIC8vIExvb3Agb3ZlciBzaGFyZWQgZGltZW5zaW9uLlxuICBsZXQgdGlsZVJvd0IgPSBsb2NhbFJvdyAqICR7d307XG4gIGZvciAodmFyIHQgPSAwOyB0IDwgbnVtVGlsZXM7IHQgPSB0ICsgMSkge1xuICAgICAgLy8gTG9hZCBvbmUgdGlsZSBvZiBBIGludG8gbG9jYWwgbWVtb3J5LlxuICAgICAgZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8IHJvd1BlclRocmVhZDsgaW5uZXJSb3cgPSBpbm5lclJvdyArIDEpIHtcbiAgICAgICAgICBsZXQgaW5wdXRSb3cgPSB0aWxlUm93ICsgaW5uZXJSb3c7XG4gICAgICAgICAgbGV0IGlucHV0Q29sID0gdGlsZUNvbDtcbiAgICAgICAgICAke2lsKG4sbyl9XG4gICAgICB9XG5cbiAgICAgIC8vIExvYWQgb25lIHRpbGUgb2YgQiBpbnRvIGxvY2FsIG1lbW9yeS5cbiAgICAgIGZvciAodmFyIGlubmVyUm93ID0gMDsgaW5uZXJSb3cgPCAke3d9OyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkge1xuICAgICAgICAgIGxldCBpbnB1dFJvdyA9IHRpbGVSb3dCICsgaW5uZXJSb3c7XG4gICAgICAgICAgbGV0IGlucHV0Q29sID0gdGlsZUNvbDtcbiAgICAgICAgICBtbV9Cc3ViW2lucHV0Um93XVtpbnB1dENvbF0gPSBtbV9yZWFkQihiYXRjaCwga1N0YXJ0ICsgaW5wdXRSb3csIGdsb2JhbENvbCR7bz8iLCBiYXRjaEluZGljZXMiOiIifSk7XG4gICAgICB9XG4gICAgICBrU3RhcnQgPSBrU3RhcnQgKyB0aWxlSW5uZXI7XG4gICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG5cbiAgICAgIC8vIENvbXB1dGUgYWNjIHZhbHVlcyBmb3IgYSBzaW5nbGUgdGhyZWFkLlxuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aWxlSW5uZXIgLyBpbm5lckVsZW1lbnRTaXplOyBrID0gayArIDEpIHtcbiAgICAgICAgICBsZXQgQkNhY2hlZDAgPSBtbV9Cc3ViW2sgKiBpbm5lckVsZW1lbnRTaXplXVt0aWxlQ29sXTtcbiAgICAgICAgICBsZXQgQkNhY2hlZDEgPSBtbV9Cc3ViW2sgKiBpbm5lckVsZW1lbnRTaXplICsgMV1bdGlsZUNvbF07XG4gICAgICAgICAgbGV0IEJDYWNoZWQyID0gbW1fQnN1YltrICogaW5uZXJFbGVtZW50U2l6ZSArIDJdW3RpbGVDb2xdO1xuICAgICAgICAgICR7Yj09PTM/IiI6ImxldCBCQ2FjaGVkMyA9IG1tX0JzdWJbayAqIGlubmVyRWxlbWVudFNpemUgKyAzXVt0aWxlQ29sXTsifVxuXG4gICAgICAgICAgJHtzbChuLGIpfVxuICAgICAgfVxuXG4gICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG4gIH1cblxuICBmb3IgKHZhciBpbm5lclJvdyA9IDA7IGlubmVyUm93IDwgcm93UGVyVGhyZWFkOyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkge1xuICAgICAgbW1fd3JpdGUoYmF0Y2gsIGdsb2JhbFJvdyArIGlubmVyUm93LCBnbG9iYWxDb2wsIGFjY1tpbm5lclJvd10pO1xuICB9XG59YH0sTmk9KGUsdCk9PmU/YFxuICAgICAgICAgICAgbW1fQXN1YltpbnB1dFJvd11baW5wdXRDb2xdID0gbW1fcmVhZEEoYmF0Y2gsXG4gICAgICAgICAgICAgIGtTdGFydCArIGlucHV0Um93LFxuICAgICAgICAgICAgICBnbG9iYWxSb3dTdGFydCArIGlucHV0Q29sJHt0PyIsIGJhdGNoSW5kaWNlcyI6IiJ9KTtcbiAgICAgICAgICAgIGA6YFxuICAgICAgICAgICAgbW1fQXN1YltpbnB1dFJvd11baW5wdXRDb2xdID0gbW1fcmVhZEEoYmF0Y2gsXG4gICAgICAgICAgICAgIGdsb2JhbFJvd1N0YXJ0ICsgaW5wdXRSb3csXG4gICAgICAgICAgICAgIGtTdGFydCArIGlucHV0Q29sJHt0PyIsIGJhdGNoSW5kaWNlcyI6IiJ9KTtcbiAgICAgICAgICAgIGAsdWw9ZT0+ZT8ibGV0IEFDYWNoZWQgPSBtbV9Bc3ViW2tdW3RpbGVSb3cgKyBpbm5lclJvd107IjoibGV0IEFDYWNoZWQgPSBtbV9Bc3ViW3RpbGVSb3cgKyBpbm5lclJvd11ba107Iixmcj0oZSx0LHI9ImYzMiIsbyxuPSExLHM9MzIsdT0hMSxsPTMyLGE9ITEpPT57bGV0IHA9ZVsxXSp0WzFdLGg9ZVswXSp0WzBdLGc9bj9wOnMsYj1uP3M6cDtpZighKGIldFsxXT09PTAmJmcldFswXT09PTAmJnMldFsxXT09PTApKXRocm93IG5ldyBFcnJvcihgdGlsZUFIaWdodCAke2J9IG11c3QgYmUgZGl2aXNpYmxlIGJ5IHdvcmtncm91cFNpemVbMV0ke3RbMV19LCB0aWxlQVdpZHRoICR7Z30gbXVzdCBiZSBkaXZpc2libGUgYnkgd29ya2dyb3VwU2l6ZVswXSR7dFswXX0sIHRpbGVJbm5lciAke3N9IG11c3QgYmUgZGl2aXNpYmxlIGJ5IHdvcmtncm91cFNpemVbMV0ke3RbMV19YCk7bGV0IHc9Yi90WzFdLHk9Zy90WzBdLF89cy90WzFdLEk9YT9gXG4gICAgbGV0IGxvY2FsUm93ID0gaTMyKGxvY2FsSWQueSk7XG4gICAgbGV0IGxvY2FsQ29sID0gaTMyKGxvY2FsSWQueCk7XG4gICAgbGV0IGdsb2JhbFJvd1N0YXJ0ID0gaTMyKHdvcmtncm91cElkLnkpICogJHtwfTtcbiAgICBsZXQgZ2xvYmFsQ29sU3RhcnQgPSBpMzIod29ya2dyb3VwSWQueCkgKiAke2h9O1xuXG4gICAgLy8gTG9vcCBvdmVyIHNoYXJlZCBkaW1lbnNpb24uXG4gICAgZm9yICh2YXIgdCA9IDA7IHQgPCBudW1UaWxlczsgdCA9IHQgKyAxKSB7XG4gICAgICAvLyBMb2FkIG9uZSB0aWxlIG9mIEEgaW50byBsb2NhbCBtZW1vcnkuXG4gICAgICBmb3IgKHZhciBpbnB1dFJvdyA9IGxvY2FsUm93OyBpbnB1dFJvdyA8ICR7Yn07IGlucHV0Um93ID0gaW5wdXRSb3cgKyAke3RbMV19KSB7XG4gICAgICAgIGZvciAodmFyIGlucHV0Q29sID0gbG9jYWxDb2w7IGlucHV0Q29sIDwgJHtnfTsgaW5wdXRDb2wgPSBpbnB1dENvbCArICR7dFswXX0pIHtcbiAgICAgICAgICAke05pKG4sbyl9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIExvYWQgb25lIHRpbGUgb2YgQiBpbnRvIGxvY2FsIG1lbW9yeS5cbiAgICAgIGZvciAodmFyIGlucHV0Um93ID0gbG9jYWxSb3c7IGlucHV0Um93IDwgJHtzfTsgaW5wdXRSb3cgPSBpbnB1dFJvdyArICR7dFsxXX0pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGlucHV0Q29sID0gbG9jYWxDb2w7IGlucHV0Q29sIDwgJHtofTsgaW5wdXRDb2wgPSBpbnB1dENvbCArICR7dFswXX0pIHtcbiAgICAgICAgICBtbV9Cc3ViW2lucHV0Um93XVtpbnB1dENvbF0gPSBtbV9yZWFkQihiYXRjaCxcbiAgICAgICAgICAgIGtTdGFydCArIGlucHV0Um93LFxuICAgICAgICAgICAgZ2xvYmFsQ29sU3RhcnQgKyBpbnB1dENvbCR7bz8iLCBiYXRjaEluZGljZXMiOiIifSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGtTdGFydCA9IGtTdGFydCArIHRpbGVJbm5lcjtcbiAgICAgIHdvcmtncm91cEJhcnJpZXIoKTtcblxuICAgICAgLy8gQ29tcHV0ZSBhY2MgdmFsdWVzIGZvciBhIHNpbmdsZSB0aHJlYWQuXG4gICAgICB2YXIgQkNhY2hlZCA6IGFycmF5PCR7cn0sIGNvbFBlclRocmVhZD47XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRpbGVJbm5lcjsgayA9IGsgKyAxKSB7XG4gICAgICAgIGZvciAodmFyIGlubmVyID0gMDsgaW5uZXIgPCBjb2xQZXJUaHJlYWQ7IGlubmVyID0gaW5uZXIgKyAxKSB7XG4gICAgICAgICAgQkNhY2hlZFtpbm5lcl0gPSBtbV9Cc3ViW2tdW2xvY2FsQ29sICsgaW5uZXIgKiAke3RbMF19XTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpbm5lclJvdyA9IDA7IGlubmVyUm93IDwgcm93UGVyVGhyZWFkOyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkge1xuICAgICAgICAgIGxldCBBQ2FjaGVkID0gJHtuP2BtbV9Bc3ViW2tdW2xvY2FsUm93ICsgaW5uZXJSb3cgKiAke3RbMV19XTtgOmBtbV9Bc3ViW2xvY2FsUm93ICsgaW5uZXJSb3cgKiAke3RbMV19XVtrXTtgfVxuICAgICAgICAgIGZvciAodmFyIGlubmVyQ29sID0gMDsgaW5uZXJDb2wgPCBjb2xQZXJUaHJlYWQ7IGlubmVyQ29sID0gaW5uZXJDb2wgKyAxKSB7XG4gICAgICAgICAgICBhY2NbaW5uZXJSb3ddW2lubmVyQ29sXSA9IGFjY1tpbm5lclJvd11baW5uZXJDb2xdICtcbiAgICAgICAgICAgICAgICBBQ2FjaGVkICogQkNhY2hlZFtpbm5lckNvbF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG4gICAgfVxuICAgIGZvciAodmFyIGlubmVyUm93ID0gMDsgaW5uZXJSb3cgPCByb3dQZXJUaHJlYWQ7IGlubmVyUm93ID0gaW5uZXJSb3cgKyAxKSB7XG4gICAgICBsZXQgZ1JvdyA9IGdsb2JhbFJvd1N0YXJ0ICsgbG9jYWxSb3cgKyBpbm5lclJvdyAqICR7dFsxXX07XG4gICAgICBmb3IgKHZhciBpbm5lckNvbCA9IDA7IGlubmVyQ29sIDwgY29sUGVyVGhyZWFkOyBpbm5lckNvbCA9IGlubmVyQ29sICsgMSkge1xuICAgICAgICBsZXQgZ0NvbCA9IGdsb2JhbENvbFN0YXJ0ICsgbG9jYWxDb2wgKyBpbm5lckNvbCAqICR7dFswXX07XG4gICAgICAgIG1tX3dyaXRlKGJhdGNoLCBnUm93LCBnQ29sLCBhY2NbaW5uZXJSb3ddW2lubmVyQ29sXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGA6YFxubGV0IHRpbGVSb3cgPSBpMzIobG9jYWxJZC55KSAqIHJvd1BlclRocmVhZDtcbmxldCB0aWxlQ29sID0gaTMyKGxvY2FsSWQueCkgKiBjb2xQZXJUaHJlYWQ7XG5cbmxldCBnbG9iYWxSb3cgPSBpMzIoZ2xvYmFsSWQueSkgKiByb3dQZXJUaHJlYWQ7XG5sZXQgZ2xvYmFsQ29sID0gaTMyKGdsb2JhbElkLngpICogY29sUGVyVGhyZWFkO1xubGV0IGdsb2JhbFJvd1N0YXJ0ID0gaTMyKHdvcmtncm91cElkLnkpICogJHtwfTtcblxubGV0IHRpbGVSb3dBID0gaTMyKGxvY2FsSWQueSkgKiAke3d9O1xubGV0IHRpbGVDb2xBID0gaTMyKGxvY2FsSWQueCkgKiAke3l9O1xubGV0IHRpbGVSb3dCID0gaTMyKGxvY2FsSWQueSkgKiAke199O1xuLy8gTG9vcCBvdmVyIHNoYXJlZCBkaW1lbnNpb24uXG5mb3IgKHZhciB0ID0gMDsgdCA8IG51bVRpbGVzOyB0ID0gdCArIDEpIHtcbiAgLy8gTG9hZCBvbmUgdGlsZSBvZiBBIGludG8gbG9jYWwgbWVtb3J5LlxuICBmb3IgKHZhciBpbm5lclJvdyA9IDA7IGlubmVyUm93IDwgJHt3fTsgaW5uZXJSb3cgPSBpbm5lclJvdyArIDEpIHtcbiAgICBmb3IgKHZhciBpbm5lckNvbCA9IDA7IGlubmVyQ29sIDwgJHt5fTsgaW5uZXJDb2wgPSBpbm5lckNvbCArIDEpIHtcbiAgICAgIGxldCBpbnB1dFJvdyA9IHRpbGVSb3dBICsgaW5uZXJSb3c7XG4gICAgICBsZXQgaW5wdXRDb2wgPSB0aWxlQ29sQSArIGlubmVyQ29sO1xuICAgICAgJHtOaShuLG8pfVxuICAgIH1cbiAgfVxuXG4gIC8vIExvYWQgb25lIHRpbGUgb2YgQiBpbnRvIGxvY2FsIG1lbW9yeS5cbiAgZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8ICR7X307IGlubmVyUm93ID0gaW5uZXJSb3cgKyAxKSB7XG4gICAgZm9yICh2YXIgaW5uZXJDb2wgPSAwOyBpbm5lckNvbCA8IGNvbFBlclRocmVhZDsgaW5uZXJDb2wgPSBpbm5lckNvbCArIDEpIHtcbiAgICAgIGxldCBpbnB1dFJvdyA9IHRpbGVSb3dCICsgaW5uZXJSb3c7XG4gICAgICBsZXQgaW5wdXRDb2wgPSB0aWxlQ29sICsgaW5uZXJDb2w7XG4gICAgICBtbV9Cc3ViW2lucHV0Um93XVtpbnB1dENvbF0gPSBtbV9yZWFkQihiYXRjaCxcbiAgICAgICAga1N0YXJ0ICsgaW5wdXRSb3csXG4gICAgICAgIGdsb2JhbENvbCArIGlubmVyQ29sJHtvPyIsIGJhdGNoSW5kaWNlcyI6IiJ9KTtcbiAgICB9XG4gIH1cbiAga1N0YXJ0ID0ga1N0YXJ0ICsgdGlsZUlubmVyO1xuICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG5cbiAgLy8gQ29tcHV0ZSBhY2MgdmFsdWVzIGZvciBhIHNpbmdsZSB0aHJlYWQuXG4gIHZhciBCQ2FjaGVkIDogYXJyYXk8JHtyfSwgY29sUGVyVGhyZWFkPjtcbiAgZm9yICh2YXIgayA9IDA7IGsgPCB0aWxlSW5uZXI7IGsgPSBrICsgMSkge1xuICAgIGZvciAodmFyIGlubmVyID0gMDsgaW5uZXIgPCBjb2xQZXJUaHJlYWQ7IGlubmVyID0gaW5uZXIgKyAxKSB7XG4gICAgICBCQ2FjaGVkW2lubmVyXSA9IG1tX0JzdWJba11bdGlsZUNvbCArIGlubmVyXTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpbm5lclJvdyA9IDA7IGlubmVyUm93IDwgcm93UGVyVGhyZWFkOyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkge1xuICAgICAgJHt1bChuKX1cbiAgICAgIGZvciAodmFyIGlubmVyQ29sID0gMDsgaW5uZXJDb2wgPCBjb2xQZXJUaHJlYWQ7IGlubmVyQ29sID0gaW5uZXJDb2wgKyAxKSB7XG4gICAgICAgIGFjY1tpbm5lclJvd11baW5uZXJDb2xdID0gYWNjW2lubmVyUm93XVtpbm5lckNvbF0gKyBBQ2FjaGVkICogQkNhY2hlZFtpbm5lckNvbF07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgd29ya2dyb3VwQmFycmllcigpO1xufVxuXG5mb3IgKHZhciBpbm5lclJvdyA9IDA7IGlubmVyUm93IDwgcm93UGVyVGhyZWFkOyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkge1xuICBmb3IgKHZhciBpbm5lckNvbCA9IDA7IGlubmVyQ29sIDwgY29sUGVyVGhyZWFkOyBpbm5lckNvbCA9IGlubmVyQ29sICsgMSkge1xuICAgIG1tX3dyaXRlKGJhdGNoLCBnbG9iYWxSb3cgKyBpbm5lclJvdywgZ2xvYmFsQ29sICsgaW5uZXJDb2wsXG4gICAgICAgIGFjY1tpbm5lclJvd11baW5uZXJDb2xdKTtcbiAgfVxufVxuYDtyZXR1cm5gXG4gIHZhcjx3b3JrZ3JvdXA+IG1tX0FzdWIgOiBhcnJheTxhcnJheTwke3J9LCAke2d9PiwgJHtifT47XG4gIHZhcjx3b3JrZ3JvdXA+IG1tX0JzdWIgOiBhcnJheTxhcnJheTwke3J9LCAke2h9PiwgJHtzfT47XG4gIGNvbnN0IHJvd1BlclRocmVhZCA9ICR7ZVsxXX07XG4gIGNvbnN0IGNvbFBlclRocmVhZCA9ICR7ZVswXX07XG4gIGNvbnN0IHRpbGVJbm5lciA9ICR7c307XG5cbkBjb21wdXRlIEB3b3JrZ3JvdXBfc2l6ZSgke3RbMF19LCAke3RbMV19LCAke3RbMl19KVxuZm4gbWFpbihAYnVpbHRpbihsb2NhbF9pbnZvY2F0aW9uX2lkKSBsb2NhbElkIDogdmVjMzx1MzI+LFxuICAgICAgICBAYnVpbHRpbihnbG9iYWxfaW52b2NhdGlvbl9pZCkgZ2xvYmFsSWQgOiB2ZWMzPHUzMj4sXG4gICAgICAgIEBidWlsdGluKHdvcmtncm91cF9pZCkgd29ya2dyb3VwSWQgOiB2ZWMzPHUzMj4pIHtcbiAgICBsZXQgYmF0Y2ggPSAke3U/IjAiOiJpMzIoZ2xvYmFsSWQueikifTtcbiAgICAke28/YGxldCBiYXRjaEluZGljZXMgPSAke28ub2Zmc2V0VG9JbmRpY2VzKCJ1MzIoYmF0Y2gpIil9O2A6IiJ9XG4gICAgbGV0IG51bVRpbGVzID0gJHt1P2Ake01hdGguY2VpbChsL3MpfWA6Iih1bmlmb3Jtcy5kaW1Jbm5lciAtIDEpIC8gdGlsZUlubmVyICsgMSJ9O1xuICAgIHZhciBrU3RhcnQgPSAke3U/YGkzMihnbG9iYWxJZC56KSAqICR7bH1gOiIwIn07XG5cbiAgICB2YXIgYWNjIDogYXJyYXk8YXJyYXk8JHtyfSwgY29sUGVyVGhyZWFkPiwgcm93UGVyVGhyZWFkPjtcblxuICAgIC8vIFdpdGhvdXQgdGhpcyBpbml0aWFsaXphdGlvbiBzdHJhbmdlIHZhbHVlcyBzaG93IHVwIGluIGFjYy5cbiAgICBmb3IgKHZhciBpbm5lclJvdyA9IDA7IGlubmVyUm93IDwgcm93UGVyVGhyZWFkOyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkge1xuICAgICAgZm9yICh2YXIgaW5uZXJDb2wgPSAwOyBpbm5lckNvbCA8IGNvbFBlclRocmVhZDsgaW5uZXJDb2wgPSBpbm5lckNvbCArIDEpIHtcbiAgICAgICAgYWNjW2lubmVyUm93XVtpbm5lckNvbF0gPSAwLjA7XG4gICAgICB9XG4gICAgfVxuICAgICR7SX1cbiAgfVxuYH0sZGw9KGUsdCxyLG8sbixzPSExKT0+e2xldFt1LGwsYV09bixbcCxoLGcsYl09byx3PUZ0KHUsYSkseT1GdChsLGEpLF89TGUob1swXS50eXBlLnRlbnNvciksST0oKT0+e2xldCBFPWgucmFuayxBPXAucmFuayx6PWB2YXIgYUluZGljZXM6ICR7aC50eXBlLmluZGljZXN9O2A7Zm9yKGxldCBSPUUtMi0xLFY9QS0xO1I+PTA7Ui0tLFYtLSl6Kz1gXG5hSW5kaWNlc1ske1J9XSA9ICR7QT4xP2BiYXRjaEluZGljZXNbJHtWfV1gOiJiYXRjaEluZGljZXMifTtgO3JldHVybiB3LmZvckVhY2goUj0+e3orPWBcbmFJbmRpY2VzWyR7Un1dID0gMDtgfSkseis9YFxuYUluZGljZXNbJHtFLTJ9XSA9IHUzMihyb3cpO1xuICAgICAgICAgICAgICAgICAgIGFJbmRpY2VzWyR7RS0xfV0gPSB1MzIoY29sSW4pO2Asen0sJD0oKT0+e2xldCBFPWcucmFuayxBPXAucmFuayx6PWB2YXIgYkluZGljZXM6ICR7Zy50eXBlLmluZGljZXN9O2A7Zm9yKGxldCBSPUUtMi0xLFY9QS0xO1I+PTA7Ui0tLFYtLSl6Kz1gXG5iSW5kaWNlc1ske1J9XSA9ICR7QT4xP2BiYXRjaEluZGljZXNbJHtWfV1gOiJiYXRjaEluZGljZXMifTtgO3JldHVybiB5LmZvckVhY2goUj0+e3orPWBcbmJJbmRpY2VzWyR7Un1dID0gMDtgfSkseis9YFxuYkluZGljZXNbJHtFLTJ9XSA9IHUzMihyb3cpO1xuICAgICAgICAgICAgICAgICAgIGJJbmRpY2VzWyR7RS0xfV0gPSB1MzIoY29sSW4pO2Asen07cmV0dXJuYFxuICAgIGZuIG1tX3JlYWRBKGJhdGNoOiBpMzIsIHJvdzogaTMyLCBjb2xJbjogaTMyLCBiYXRjaEluZGljZXM6ICR7cC50eXBlLmluZGljZXN9KSAtPiAke0tlKGUsXyl9IHtcbiAgICAgIHZhciB2YWx1ZSA9ICR7S2UoZSxfKX0oMC4wKTtcbiAgICAgIGxldCBjb2wgPSBjb2xJbiAqICR7ZX07XG4gICAgICBpZihyb3cgPCB1bmlmb3Jtcy5kaW1BT3V0ZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltSW5uZXIpXG4gICAgICB7XG4gICAgICAgICR7SSgpfVxuICAgICAgICB2YWx1ZSA9ICR7aC5nZXRCeUluZGljZXMoImFJbmRpY2VzIil9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGZuIG1tX3JlYWRCKGJhdGNoOiBpMzIsIHJvdzogaTMyLCBjb2xJbjogaTMyLCBiYXRjaEluZGljZXM6ICR7cC50eXBlLmluZGljZXN9KSAtPiAke0tlKGUsXyl9IHtcbiAgICAgIHZhciB2YWx1ZSA9ICR7S2UoZSxfKX0oMC4wKTtcbiAgICAgIGxldCBjb2wgPSBjb2xJbiAqICR7ZX07XG4gICAgICBpZihyb3cgPCB1bmlmb3Jtcy5kaW1Jbm5lciAmJiBjb2wgPCB1bmlmb3Jtcy5kaW1CT3V0ZXIpXG4gICAgICB7XG4gICAgICAgICR7JCgpfVxuICAgICAgICB2YWx1ZSA9ICR7Zy5nZXRCeUluZGljZXMoImJJbmRpY2VzIil9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGZuIG1tX3dyaXRlKGJhdGNoOiBpMzIsIHJvdzogaTMyLCBjb2xJbjogaTMyLCB2YWx1ZUluOiAke0tlKGUsXyl9KSB7XG4gICAgICBsZXQgY29sID0gY29sSW4gKiAke2V9O1xuICAgICAgaWYgKHJvdyA8IHVuaWZvcm1zLmRpbUFPdXRlciAmJiBjb2wgPCB1bmlmb3Jtcy5kaW1CT3V0ZXIpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVJbjtcbiAgICAgICAgbGV0IGNvb3JkcyA9IHZlYzM8aTMyPihiYXRjaCwgcm93LCBjb2xJbik7XG4gICAgICAgICR7dD9gdmFsdWUgPSB2YWx1ZSArICR7cz8iYmlhc1tjb2xJbl0iOmAke0tlKGUsXyl9KGJpYXNbcm93XSlgfTtgOiIifVxuICAgICAgICAke3J9XG4gICAgICAgICR7Yi5zZXRCeUluZGljZXMoInZlYzM8dTMyPihjb29yZHMpIiwidmFsdWUiKX1cbiAgICAgIH1cbiAgICB9XG4gICAgYH0sdG49KGUsdCxyLG8sbj0hMSk9PntsZXQgcz1lWzBdLmRpbXMsdT1lWzFdLmRpbXMsbD1zLnNsaWNlKDAsLTIpLGE9dS5zbGljZSgwLC0yKSxwPW8/by5zbGljZSgwLC0yKTpyLnNsaWNlKDAsLTIpLGg9UmUocC5sZW5ndGgpLGc9aD9wLmxlbmd0aDpwLGI9RnIoImJhdGNoRGltcyIsZVswXS5kYXRhVHlwZSxnLDEpLHc9VS5zaXplKHApLHk9c1tzLmxlbmd0aC0yXSxfPXNbcy5sZW5ndGgtMV0sST11W3UubGVuZ3RoLTFdLCQ9XyU0PT09MCYmSSU0PT09MCx4PXk8PTg/WzQsMSwxXTpbNCw0LDFdLEU9WzgsOCwxXSxBPVtNYXRoLmNlaWwoSS9FWzBdL3hbMF0pLE1hdGguY2VpbCh5L0VbMV0veFsxXSksTWF0aC5jZWlsKHcvRVsyXS94WzJdKV0sej1MZShlWzBdLmRhdGFUeXBlKSxSPSQ/NDoxLFY9Wy4uLmwseSxfL1JdLFQ9UmUoVi5sZW5ndGgpLE49VD9WLmxlbmd0aDpWLHRlPVsuLi5hLF8sSS9SXSxZPVJlKHRlLmxlbmd0aCksSz1ZP3RlLmxlbmd0aDp0ZSxRPVt3LHksSS9SXSxaPU0oImEiLGVbMF0uZGF0YVR5cGUsTixSKSxFZT1NKCJiIixlWzFdLmRhdGFUeXBlLEssUiksUGU9RigicmVzdWx0IixlWzBdLmRhdGFUeXBlLFEubGVuZ3RoLFIpLGZlPVtaLEVlXSxJZT1be3R5cGU6ImludDMyIixkYXRhOnl9LHt0eXBlOiJpbnQzMiIsZGF0YTpJfSx7dHlwZToiaW50MzIiLGRhdGE6X31dO2gmJkllLnB1c2goLi4uTChwKSksVCYmSWUucHVzaCguLi5MKFYpKSxZJiZJZS5wdXNoKC4uLkwodGUpKTtsZXQgaGU9W107aGUucHVzaChUPyJyYW5rIjoiZGltcyIpLGhlLnB1c2goWT8icmFuayI6ImRpbXMiKTtsZXQgeWU9ZS5sZW5ndGg+Mix7YWN0aXZhdGlvbkZ1bmN0aW9uOldlLGFwcGx5QWN0aXZhdGlvbjpEZX09Z3QodCxQZS50eXBlLnZhbHVlKSxHZT1kbChSLHllLERlLFtiLFosRWUsUGVdLFtsLGEscF0sbik7aWYoeWUpe2xldCBlZT1uP1I6MTtmZS5wdXNoKE0oImJpYXMiLGVbMl0uZGF0YVR5cGUsZVsyXS5kaW1zLmxlbmd0aCxlZSkpLEllLnB1c2goLi4uTChlWzJdLmRpbXMpKSxoZS5wdXNoKCJyYW5rIil9SWUucHVzaCguLi5MKFEpKTtsZXQgRz1lZT0+YFxuICAke2VlLnJlZ2lzdGVyVW5pZm9ybSgiZGltQU91dGVyIiwiaTMyIikucmVnaXN0ZXJVbmlmb3JtKCJkaW1CT3V0ZXIiLCJpMzIiKS5yZWdpc3RlclVuaWZvcm0oImRpbUlubmVyIiwiaTMyIikucmVnaXN0ZXJJbnRlcm5hbFZhcmlhYmxlcyhiKS5kZWNsYXJlVmFyaWFibGVzKC4uLmZlLFBlKX1cbiAgJHtXZX1cbiAgJHtHZX1cbiAgJHskP21yKHgsRSx6LGIpOmZyKHgsRSx6LGIpfVxuICAgICAgICAgICAgICAgICAgIGA7cmV0dXJue25hbWU6Ik1hdE11bCIsc2hhZGVyQ2FjaGU6e2hpbnQ6dC5hY3RpdmF0aW9uQ2FjaGVLZXkrYCR7eH0keyR9JHtufWAsaW5wdXREZXBlbmRlbmNpZXM6aGV9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cixkYXRhVHlwZTplWzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpBWzBdLHk6QVsxXSx6OkFbMl19LHByb2dyYW1Vbmlmb3JtczpJZX0pLGdldFNoYWRlclNvdXJjZTpHfX19KTt2YXIgbGwsV2ksSGk9aigoKT0+eyJ1c2Ugc3RyaWN0IjtDdCgpO3ZlKCk7SXQoKTtKcigpO05uKCk7aHIoKTtsbD0oZSx0LHIsbyxuPSExLHMsdT00LGw9NCxhPTQscD0iZjMyIik9PntsZXQgaD1ZPT57c3dpdGNoKFkpe2Nhc2UgMTpyZXR1cm4icmVzRGF0YSA9IHhbeEluZGV4XTsiO2Nhc2UgMzpyZXR1cm5gcmVzRGF0YSA9IHZlYzM8JHtwfT4oeFt4SW5kZXhdLCB4W3hJbmRleCArIDFdLCB4W3hJbmRleCArIDJdKTtgO2Nhc2UgNDpyZXR1cm4icmVzRGF0YSA9IHhbeEluZGV4IC8gNF07IjtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgaW5uZXJFbGVtZW50U2l6ZSAke1l9IGlzIG5vdCBzdXBwb3J0ZWQuYCl9fSxnPVk9Pntzd2l0Y2goWSl7Y2FzZSAxOnJldHVybiJyZXR1cm4gd1tyb3cgKiBpMzIodW5pZm9ybXMud19zaGFwZVszXSkgKyBjb2xJbl07IjtjYXNlIDQ6cmV0dXJuInJldHVybiB3W3JvdyAqIGkzMih1bmlmb3Jtcy53X3NoYXBlWzNdKSAvIDQgKyBjb2xJbl07IjtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgaW5uZXJFbGVtZW50U2l6ZSAke1l9IGlzIG5vdCBzdXBwb3J0ZWQuYCl9fSxiPWU/YFxuICAgIGxldCBjb29yZCA9IHZlYzQ8aTMyPihiYXRjaCwgeFJvdywgeENvbCwgeENoKTtcbiAgICBgOmBcbiAgICBsZXQgY29vcmQgPSB2ZWM0PGkzMj4oYmF0Y2gsIHhDaCwgeFJvdywgeENvbCk7XG4gICAgYCx3PWU/YFxuICAgIGxldCBjb29yZHMgPSB2ZWM0PGkzMj4oXG4gICAgICBiYXRjaCxcbiAgICAgIHJvdyAvIG91dFdpZHRoLFxuICAgICAgcm93ICUgb3V0V2lkdGgsXG4gICAgICBjb2wpO1xuICAgIGA6YFxuICAgIGxldCBjb29yZHMgPSB2ZWM0PGkzMj4oXG4gICAgICBiYXRjaCxcbiAgICAgIHJvdyxcbiAgICAgIGNvbCAvIG91dFdpZHRoLFxuICAgICAgY29sICUgb3V0V2lkdGgpO1xuICAgIGAseT1lPyJpMzIodW5pZm9ybXMueF9zaGFwZVsxXSkiOiJpMzIodW5pZm9ybXMueF9zaGFwZVsyXSkiLF89ZT8iaTMyKHVuaWZvcm1zLnhfc2hhcGVbMl0pIjoiaTMyKHVuaWZvcm1zLnhfc2hhcGVbM10pIixJPWU/InJvdyI6ImNvbCIsJD1lPyJjb2wiOiJyb3ciLHg9YFxuICAgIGxldCBpbkNoYW5uZWxzID0gaTMyKHVuaWZvcm1zLndfc2hhcGVbMl0pO1xuICAgIGxldCBvdXRXaWR0aCA9ICR7ZT8iaTMyKHVuaWZvcm1zLnJlc3VsdF9zaGFwZVsyXSkiOiJpMzIodW5pZm9ybXMucmVzdWx0X3NoYXBlWzNdKSJ9O1xuICAgIGxldCBvdXRSb3cgPSAke0l9IC8gb3V0V2lkdGg7XG4gICAgbGV0IG91dENvbCA9ICR7SX0gJSBvdXRXaWR0aDtcblxuICAgIGxldCBXUm93ID0gJHskfSAvIChmaWx0ZXJEaW1zWzFdICogaW5DaGFubmVscyk7XG4gICAgbGV0IFdDb2wgPSAkeyR9IC8gaW5DaGFubmVscyAlIGZpbHRlckRpbXNbMV07XG4gICAgbGV0IHhSb3cgPSBvdXRSb3cgKiBzdHJpZGVbMF0gKyBkaWxhdGlvblswXSAqIFdSb3cgLSBwYWRbMF07XG4gICAgbGV0IHhDb2wgPSBvdXRDb2wgKiBzdHJpZGVbMV0gKyBkaWxhdGlvblsxXSAqIFdDb2wgLSBwYWRbMV07XG4gICAgbGV0IHhDaCA9ICR7JH0gJSBpbkNoYW5uZWxzO1xuICAgIHZhciByZXNEYXRhID0gJHtLZSh1LHApfSgwLjApO1xuICAgIC8vIFRoZSBib3VuZHMgY2hlY2tpbmcgaXMgYWx3YXlzIG5lZWRlZCBzaW5jZSB3ZSB1c2UgaXQgdG8gcGFkIHplcm8gZm9yXG4gICAgLy8gdGhlIFwnc2FtZVwnIHBhZGRpbmcgdHlwZS5cbiAgICBpZiAoeFJvdyA+PSAwICYmIHhSb3cgPCAke3l9ICYmIHhDb2wgPj0gMCAmJiB4Q29sIDwgJHtffSkge1xuICAgICAgJHtifVxuICAgICAgbGV0IHhJbmRleCA9IGdldEluZGV4RnJvbUNvb3JkczREKGNvb3JkLCB2ZWM0PGkzMj4odW5pZm9ybXMueF9zaGFwZSkpO1xuICAgICAgJHtoKHUpfVxuICAgIH1cbiAgICByZXR1cm4gcmVzRGF0YTtgLEU9ZT90JiZvP2BcbiAgICBsZXQgY29sID0gY29sSW4gKiAke3V9O1xuICAgICR7eH1gOmBcbiAgICBsZXQgY29sID0gY29sSW4gKiAke3V9O1xuICAgIGlmIChyb3cgPCB1bmlmb3Jtcy5kaW1BT3V0ZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltSW5uZXIpIHtcbiAgICAgICR7eH1cbiAgICB9XG4gICAgcmV0dXJuICR7S2UodSxwKX0oMC4wKTtgOm8mJnI/YFxuICAgIGxldCBjb2wgPSBjb2xJbiAqICR7dX07XG4gICAgJHt4fWA6YFxuICAgIGxldCBjb2wgPSBjb2xJbiAqICR7dX07XG4gICAgaWYgKHJvdyA8IHVuaWZvcm1zLmRpbUlubmVyICYmIGNvbCA8IHVuaWZvcm1zLmRpbUJPdXRlcikge1xuICAgICAgJHt4fVxuICAgIH1cbiAgICByZXR1cm4gJHtLZSh1LHApfSgwLjApO2AsQT1gJHtnKGwpfWAsej1LZShhLHApLFI9ZT9LZSh1LHApOktlKGwscCksVj1lP0tlKGwscCk6S2UodSxwKSx7YWN0aXZhdGlvbkZ1bmN0aW9uOlQsYXBwbHlBY3RpdmF0aW9uOk59PWd0KHMseik7cmV0dXJuYFxuICAgICR7VH1cbiAgICBmbiBtbV9yZWFkQShiYXRjaDogaTMyLCByb3cgOiBpMzIsIGNvbEluIDogaTMyKSAtPiAke1J9IHtcbiAgICAgICR7ZT9FOkF9XG4gICAgfVxuXG4gICAgZm4gbW1fcmVhZEIoYmF0Y2g6IGkzMiwgcm93IDogaTMyLCBjb2xJbiA6IGkzMikgLT4gJHtWfSB7XG4gICAgICAke2U/QTpFfVxuICAgIH1cblxuICAgIGZuIG1tX3dyaXRlKGJhdGNoOiBpMzIsIHJvdyA6IGkzMiwgY29sSW4gOiBpMzIsIHZhbHVlSW4gOiAke3p9KSB7XG4gICAgICBsZXQgY29sID0gY29sSW4gKiAke2F9O1xuICAgICAgaWYgKHJvdyA8IHVuaWZvcm1zLmRpbUFPdXRlciAmJiBjb2wgPCB1bmlmb3Jtcy5kaW1CT3V0ZXIpXG4gICAgICB7XG4gICAgICB2YXIgdmFsdWUgPSB2YWx1ZUluO1xuICAgICAgbGV0IG91dFdpZHRoID0gJHtlPyJpMzIodW5pZm9ybXMucmVzdWx0X3NoYXBlWzJdKSI6ImkzMih1bmlmb3Jtcy5yZXN1bHRfc2hhcGVbM10pIn07XG4gICAgICAke3d9XG4gICAgICAke1hyKG4pfVxuICAgICAgJHtOfVxuICAgICAgc2V0T3V0cHV0QXRDb29yZHMoY29vcmRzWzBdLCBjb29yZHNbMV0sIGNvb3Jkc1syXSwgY29vcmRzWzNdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfWB9LFdpPShlLHQscixvLG4scyx1LGwpPT57bGV0IGE9dC5mb3JtYXQ9PT0iTkhXQyIscD1hP2VbMF0uZGltc1szXTplWzBdLmRpbXNbMV0saD1yWzBdLGc9YT9yWzJdOnJbM10sYj1hP3JbMV06clsyXSx3PWE/clszXTpyWzFdLHk9YSYmKHAlND09PTB8fHAlMz09PTApJiZ3JTQ9PT0wLF89YT93OmcqYixJPWE/ZypiOncsJD1bOCw4LDFdLHg9bzw9OD9bNCwxLDFdOls0LDQsMV0sRT1bTWF0aC5jZWlsKF8vJFswXS94WzBdKSxNYXRoLmNlaWwoSS8kWzFdL3hbMV0pLE1hdGguY2VpbChoLyRbMl0veFsyXSldO0JlKCJ2ZXJib3NlIiwoKT0+YFtjb252MmRfbW1fd2ViZ3B1XSBkaXNwYXRjaCA9ICR7RX1gKTtsZXQgQT15P2EmJnAlNCE9PTA/Mzo0OjEsej0kWzFdKnhbMV0sUj0kWzBdKnhbMF0sVj1NYXRoLm1heCgkWzBdKkEsJFsxXSksVD1vJXo9PT0wLE49biVSPT09MCx0ZT1zJVY9PT0wLFk9eT9bQSw0LDRdOlsxLDEsMV0sSz1MZShlWzBdLmRhdGFUeXBlKSxRPXk/NDoxLFo9W3t0eXBlOiJpbnQzMiIsZGF0YTpvfSx7dHlwZToiaW50MzIiLGRhdGE6bn0se3R5cGU6ImludDMyIixkYXRhOnN9XSxFZT1NKCJ4IixlWzBdLmRhdGFUeXBlLGVbMF0uZGltcy5sZW5ndGgsQT09PTM/MTpBKSxQZT1NKCJ3IixlWzFdLmRhdGFUeXBlLGVbMV0uZGltcy5sZW5ndGgsUSksZmU9W0VlLFBlXTtaLnB1c2goLi4uTChlWzBdLmRpbXMpKSxaLnB1c2goLi4uTChlWzFdLmRpbXMpKTtsZXQgSWU9YFxuICAgICAgZm4gc2V0T3V0cHV0QXRJbmRleChmbGF0SW5kZXggOiBpMzIsIHZhbHVlIDogJHt5P2B2ZWM0PCR7S30+YDpLfSkge1xuICAgICAgICByZXN1bHRbZmxhdEluZGV4XSA9ICR7eT9gdmVjNDwke0t9PmA6S30odmFsdWUpO1xuICAgICAgfVxuICAgICAgZm4gc2V0T3V0cHV0QXRDb29yZHMoZDAgOiBpMzIsIGQxIDogaTMyLCBkMiA6IGkzMiwgZDMgOiBpMzIsIHZhbHVlIDogJHt5P2B2ZWM0PCR7S30+YDpLfSkge1xuICAgICAgICBsZXQgZmxhdEluZGV4ID0gZ2V0T3V0cHV0SW5kZXhGcm9tQ29vcmRzKHZlYzQ8aTMyPihkMCwgZDEsIGQyLCBkMykpO1xuICAgICAgICBzZXRPdXRwdXRBdEluZGV4KGZsYXRJbmRleCAke3k/Ii8gNCI6IiJ9LCB2YWx1ZSk7XG4gICAgICB9YDtpZih1KXtsZXQgeWU9TSgiYmlhcyIsZVsyXS5kYXRhVHlwZSxlWzJdLmRpbXMubGVuZ3RoLFEpO2ZlLnB1c2goeWUpLFoucHVzaCguLi5MKGVbMl0uZGltcykpLEllKz1gXG4gICAgICAgIGZuIGdldEJpYXNCeU91dHB1dENvb3Jkcyhjb29yZHMgOiB2ZWM0PGkzMj4pIC0+ICR7eT9gdmVjNDwke0t9PmA6S30ge1xuICAgICAgICAgIHJldHVybiBiaWFzW2Nvb3Jkcy4ke2E/InciOiJ5In0ke3k/Ii8gNCI6IiJ9XTtcbiAgICAgICAgfWB9bGV0IGhlPUYoInJlc3VsdCIsZVswXS5kYXRhVHlwZSxyLmxlbmd0aCxRKTtyZXR1cm4gWi5wdXNoKC4uLkwocikpLHtuYW1lOiJDb252MkRNYXRNdWwiLHNoYWRlckNhY2hlOntoaW50OnQuY2FjaGVLZXl9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cixkYXRhVHlwZTplWzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpFWzBdLHk6RVsxXSx6OkVbMl19LHByb2dyYW1Vbmlmb3JtczpafSksZ2V0U2hhZGVyU291cmNlOnllPT5gXG4gICAgICAgICR7ZW4oInVuaWZvcm1zLnJlc3VsdF9zdHJpZGVzIil9XG4gICAgICAgIC8vc3RydWN0IFVuaWZvcm1zIHsgeFNoYXBlIDogdmVjNDxpMzI+LCB3U2hhcGUgOiB2ZWM0PGkzMj4sIG91dFNoYXBlIDogdmVjNDxpMzI+LFxuICAgICAgICAvLyAgb3V0U2hhcGVTdHJpZGVzOiB2ZWMzPGkzMj4sIGZpbHRlckRpbXMgOiB2ZWMyPGkzMj4sIHBhZCA6IHZlYzI8aTMyPiwgc3RyaWRlIDogdmVjMjxpMzI+LFxuICAgICAgICAvLyAgZGlsYXRpb24gOiB2ZWMyPGkzMj4sIGRpbUFPdXRlciA6IGkzMiwgZGltQk91dGVyIDogaTMyLCBkaW1Jbm5lciA6IGkzMiB9O1xuICAgICAgICAke3llLnJlZ2lzdGVyVW5pZm9ybSgiZGltQU91dGVyIiwiaTMyIikucmVnaXN0ZXJVbmlmb3JtKCJkaW1CT3V0ZXIiLCJpMzIiKS5yZWdpc3RlclVuaWZvcm0oImRpbUlubmVyIiwiaTMyIikuZGVjbGFyZVZhcmlhYmxlcyguLi5mZSxoZSl9XG4gICAgICAgIGNvbnN0IGZpbHRlckRpbXMgOiB2ZWMyPGkzMj4gPSB2ZWMyPGkzMj4oJHt0Lmtlcm5lbFNoYXBlWzBdfSwgJHt0Lmtlcm5lbFNoYXBlWzFdfSk7XG4gICAgICAgIGNvbnN0IHBhZCA6IHZlYzI8aTMyPiA9IHZlYzI8aTMyPigke3QucGFkc1swXX0sICR7dC5wYWRzWzFdfSk7XG4gICAgICAgIGNvbnN0IHN0cmlkZSA6IHZlYzI8aTMyPiA9IHZlYzI8aTMyPigke3Quc3RyaWRlc1swXX0sICR7dC5zdHJpZGVzWzFdfSk7XG4gICAgICAgIGNvbnN0IGRpbGF0aW9uIDogdmVjMjxpMzI+ID0gdmVjMjxpMzI+KCR7dC5kaWxhdGlvbnNbMF19LCAke3QuZGlsYXRpb25zWzFdfSk7XG4gICAgICAgICR7SWV9XG4gICAgICAgICR7bGwoYSxULE4sdGUsdSx0LFlbMF0sWVsxXSxZWzJdLEspfVxuICAgICAgICAgICAgJHt5P21yKHgsJCxLLHZvaWQgMCwhYSxWKTpmcih4LCQsSyx2b2lkIDAsIWEsViwhMSx2b2lkIDAsbCl9YH19fSk7dmFyIFduLEdpPWooKCk9PnsidXNlIHN0cmljdCI7JGUoKTt2ZSgpO0duKCk7SXQoKTtXbj0oZSx0LHIpPT57bGV0IG89ZS5sZW5ndGg+MixuPW8/InZhbHVlICs9IGJbb3V0cHV0X2NoYW5uZWxdOyI6IiIscz1lWzBdLmRpbXMsdT1lWzFdLmRpbXMsbD11WzBdL3QuZ3JvdXAsYT10LmZvcm1hdD09PSJOSFdDIixwPUhuKHMsdSx0LmRpbGF0aW9ucyx0LnBhZHMsdC5zdHJpZGVzLGEpLGg9VS5zaXplKHApLGc9Rigib3V0cHV0IixlWzBdLmRhdGFUeXBlLHApLHthY3RpdmF0aW9uRnVuY3Rpb246YixhcHBseUFjdGl2YXRpb246d309Z3QodCxnLnR5cGUudmFsdWUpLHk9TSgieCIsZVswXS5kYXRhVHlwZSxzKSxfPU0oInciLGVbMV0uZGF0YVR5cGUsdSksST1beSxfXTtvJiZJLnB1c2goTSgiYiIsZVsyXS5kYXRhVHlwZSxlWzJdLmRpbXMpKTtsZXQgJD14PT5gXG4gIGNvbnN0IHN0cmlkZXM6IHZlYzI8dTMyPiA9IHZlYzIoJHt0LnN0cmlkZXNbMF19dSwgJHt0LnN0cmlkZXNbMV19dSk7XG4gIGNvbnN0IHBhZHM6IHZlYzI8dTMyPiA9IHZlYzIoJHt0LnBhZHNbMF19dSwgJHt0LnBhZHNbMV19dSk7XG5cbiAgJHt4LmRlY2xhcmVWYXJpYWJsZXMoLi4uSSxnKX1cblxuICAke2J9XG5cbiAgJHt4Lm1haW5TdGFydCgpfVxuICAgICR7eC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKGgpfVxuXG4gICAgbGV0IG91dHB1dEluZGljZXMgPSAke2cub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9O1xuICAgIGxldCBiYXRjaDogdTMyID0gb3V0cHV0SW5kaWNlc1swXTtcbiAgICBsZXQgb3V0cHV0X2NoYW5uZWw6IHUzMiA9IG91dHB1dEluZGljZXNbJHthPzM6MX1dO1xuICAgIGxldCB4UkNDb3JuZXI6IHZlYzI8dTMyPiA9IHZlYzI8dTMyPihvdXRwdXRJbmRpY2VzWyR7YT8xOjJ9XSwgb3V0cHV0SW5kaWNlc1ske2E/MjozfV0pICogc3RyaWRlcyAtIHBhZHM7XG4gICAgbGV0IGdyb3VwX2lkOiB1MzIgPSBvdXRwdXRfY2hhbm5lbCAvICR7bH11O1xuXG4gICAgdmFyIHZhbHVlOiAke2cudHlwZS52YWx1ZX0gPSAke2cudHlwZS52YWx1ZX0oMCk7XG4gICAgZm9yICh2YXIgd0luQ2hhbm5lbDogdTMyID0gMHU7IHdJbkNoYW5uZWwgPCAke3VbMV19dTsgd0luQ2hhbm5lbCsrKSB7XG4gICAgICBsZXQgaW5wdXRfY2hhbm5lbCA9IGdyb3VwX2lkICogJHt1WzFdfXUgKyB3SW5DaGFubmVsO1xuICAgICAgZm9yICh2YXIgd0hlaWdodDogdTMyID0gMHU7IHdIZWlnaHQgPCAke3VbMl19dTsgd0hlaWdodCsrKSB7XG4gICAgICAgIGxldCB4SGVpZ2h0ID0geFJDQ29ybmVyLnggKyB3SGVpZ2h0ICogJHt0LmRpbGF0aW9uc1swXX11O1xuXG4gICAgICAgIGlmICh4SGVpZ2h0IDwgMHUgfHwgeEhlaWdodCA+PSAke3NbYT8xOjJdfXUpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIHdXaWR0aDogdTMyID0gMHU7IHdXaWR0aCA8ICR7dVszXX11OyB3V2lkdGgrKykge1xuICAgICAgICAgIGxldCB4V2lkdGggPSB4UkNDb3JuZXIueSArIHdXaWR0aCAqICR7dC5kaWxhdGlvbnNbMV19dTtcbiAgICAgICAgICBpZiAoeFdpZHRoIDwgMHUgfHwgeFdpZHRoID49ICR7c1thPzI6M119dSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IHhWYWwgPSAke2E/eS5nZXQoImJhdGNoIiwieEhlaWdodCIsInhXaWR0aCIsImlucHV0X2NoYW5uZWwiKTp5LmdldCgiYmF0Y2giLCJpbnB1dF9jaGFubmVsIiwieEhlaWdodCIsInhXaWR0aCIpfTtcbiAgICAgICAgICBsZXQgd1ZhbCA9ICR7Xy5nZXQoIm91dHB1dF9jaGFubmVsIiwid0luQ2hhbm5lbCIsIndIZWlnaHQiLCJ3V2lkdGgiKX07XG4gICAgICAgICAgdmFsdWUgKz0geFZhbCp3VmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgICR7bn1cbiAgICAke3d9XG4gICAgJHtnLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwidmFsdWUiKX1cbiAgfWA7cmV0dXJue25hbWU6Ikdyb3VwZWRDb252IixzaGFkZXJDYWNoZTp7aGludDp0LmNhY2hlS2V5fSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnI/cihwKTpwLGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChoLzY0KX19KSxnZXRTaGFkZXJTb3VyY2U6JH19fSk7dmFyIExuLGNsLExpLEZuPWooKCk9PnsidXNlIHN0cmljdCI7JGUoKTtocigpO3ZlKCk7SXQoKTtMbj0oZSx0LHIsbyxuPSExKT0+e2xldCBzPWVbMF0uZGltcyx1PWVbMV0uZGltcyxsPXNbcy5sZW5ndGgtMl0sYT11W3UubGVuZ3RoLTFdLHA9c1tzLmxlbmd0aC0xXSxoPUZlKGEpLGc9RmUocCksYj1GZShsKSx3PVUuc2l6ZShyKS9oL2IseT1lLmxlbmd0aD4yLF89bz9vLnNsaWNlKDAsLTIpOnIuc2xpY2UoMCwtMiksJD1bVS5zaXplKF8pLGwsYV0seD1be3R5cGU6InVpbnQzMiIsZGF0YTp3fSx7dHlwZToidWludDMyIixkYXRhOmx9LHt0eXBlOiJ1aW50MzIiLGRhdGE6YX0se3R5cGU6InVpbnQzMiIsZGF0YTpwfSwuLi5MKF8pLC4uLkwocyksLi4uTCh1KV07eSYmeC5wdXNoKC4uLkwoZVsyXS5kaW1zKSkseC5wdXNoKC4uLkwoJCkpO2xldCBFPUE9PntsZXQgej1GcigiYmF0Y2hfZGltcyIsZVswXS5kYXRhVHlwZSxfLmxlbmd0aCksUj1NKCJhIixlWzBdLmRhdGFUeXBlLHMubGVuZ3RoLGcpLFY9TSgiYiIsZVsxXS5kYXRhVHlwZSx1Lmxlbmd0aCxoKSxUPUYoIm91dHB1dCIsZVswXS5kYXRhVHlwZSwkLmxlbmd0aCxoKSx7YWN0aXZhdGlvbkZ1bmN0aW9uOk4sYXBwbHlBY3RpdmF0aW9uOnRlfT1ndCh0LFQudHlwZS52YWx1ZSksWT1bUixWXSxLPSIiO2lmKHkpe2xldCBoZT1uP2g6MTtZLnB1c2goTSgiYmlhcyIsZVsyXS5kYXRhVHlwZSxlWzJdLmRpbXMubGVuZ3RoLGhlKSksSz1gJHtuP2B2YWx1ZSArPSBiaWFzW2NvbCAvICR7aGV9XTtgOmB2YWx1ZSArPSAke1QudHlwZS52YWx1ZX0oYmlhc1tyb3cgKyBpXSk7YH1gfWxldCBRPXMuc2xpY2UoMCwtMiksWj11LnNsaWNlKDAsLTIpLEVlPUZ0KFEsXyksUGU9RnQoWixfKSxmZT0oaGUseWUpPT57bGV0IFdlPWhlLnJhbmssRGU9aGUubmFtZTtpZihXZT09PTIpcmV0dXJuYHZhciAke0RlfV9pbmRpY2VzID0gJHtoZS50eXBlLmluZGljZXN9KDB1LCAwdSk7YDtsZXQgR2U9ei5yYW5rLEc9YHZhciAke0RlfV9pbmRpY2VzOiAke2hlLnR5cGUuaW5kaWNlc307YDtmb3IobGV0IGVlPVdlLTItMSxiZT1HZS0xO2VlPj0wO2VlLS0sYmUtLSlHKz1gXG4ke0RlfV9pbmRpY2VzWyR7ZWV9XSA9ICR7R2U+MT9gYmF0Y2hfaW5kaWNlc1ske2JlfV1gOiJiYXRjaF9pbmRpY2VzIn07YDtyZXR1cm4geWUuZm9yRWFjaChlZT0+e0crPWBcbiR7RGV9X2luZGljZXNbJHtlZX1dID0gMDtgfSksRys9YCR7RGV9X2luZGljZXNbJHtXZS0yfV0gPSAwdTtcbiAgICAgICAgICAgICAgICAgICAgICR7RGV9X2luZGljZXNbJHtXZS0xfV0gPSAwdTtgLEd9LEllPSgpPT57bGV0IGhlPWB2YXIgYV9kYXRhOiAke1IudHlwZS52YWx1ZX07YDtmb3IobGV0IHllPTA7eWU8Zzt5ZSsrKWhlKz1gXG4gICAgICAgICAgICAgIGxldCBiX2RhdGEke3llfSA9IGJbKGJfb2Zmc2V0ICsgKGsgKyAke3llfSkgKiB1bmlmb3Jtcy5OICsgY29sKSAvICR7aH1dO2A7Zm9yKGxldCB5ZT0wO3llPGI7eWUrKyl7aGUrPWBhX2RhdGEgPSBhWyhhX29mZnNldCArIChyb3cgKyAke3llfSkgKiB1bmlmb3Jtcy5LICsgaykgLyAke2d9XTtgO2ZvcihsZXQgV2U9MDtXZTxnO1dlKyspaGUrPWBcbiAgICAgICAgICAgIHZhbHVlc1ske3llfV0gPSBmbWEoJHtWLnR5cGUudmFsdWV9KGFfZGF0YSR7Zz09PTE/IiI6YFske1dlfV1gfSksIGJfZGF0YSR7V2V9LCB2YWx1ZXNbJHt5ZX1dKTtcbmB9cmV0dXJuIGhlfTtyZXR1cm5gXG4gICR7QS5yZWdpc3RlclVuaWZvcm0oIm91dHB1dFNpemUiLCJ1MzIiKS5yZWdpc3RlclVuaWZvcm0oIk0iLCJ1MzIiKS5yZWdpc3RlclVuaWZvcm0oIk4iLCJ1MzIiKS5yZWdpc3RlclVuaWZvcm0oIksiLCJ1MzIiKS5yZWdpc3RlckludGVybmFsVmFyaWFibGVzKHopLmRlY2xhcmVWYXJpYWJsZXMoLi4uWSxUKX1cbiAgJHtOfVxuICAke0EubWFpblN0YXJ0KCl9XG4gICAgJHtBLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dFNpemUiKX1cbiAgICBsZXQgY29sID0gKGdsb2JhbF9pZHggJSAodW5pZm9ybXMuTiAvICR7aH0pKSAqICR7aH07XG4gICAgdmFyIGluZGV4MSA9IGdsb2JhbF9pZHggLyAodW5pZm9ybXMuTiAvICR7aH0pO1xuICAgIGxldCBzdHJpZGUxID0gdW5pZm9ybXMuTSAvICR7Yn07XG4gICAgbGV0IHJvdyA9IChpbmRleDEgJSBzdHJpZGUxKSAqICR7Yn07XG4gICAgbGV0IGJhdGNoID0gaW5kZXgxIC8gc3RyaWRlMTtcblxuICAgICR7ci5sZW5ndGg9PT0yPyIiOmBsZXQgYmF0Y2hfaW5kaWNlcyA9ICR7ei5vZmZzZXRUb0luZGljZXMoImJhdGNoIil9O2B9XG4gICAgJHtmZShSLEVlKX1cbiAgICBsZXQgYV9vZmZzZXQgPSAke1IuaW5kaWNlc1RvT2Zmc2V0KCJhX2luZGljZXMiKX07XG4gICAgJHtmZShWLFBlKX1cbiAgICBsZXQgYl9vZmZzZXQgPSAke1YuaW5kaWNlc1RvT2Zmc2V0KCJiX2luZGljZXMiKX07XG4gICAgdmFyIHZhbHVlczogYXJyYXk8JHtULnR5cGUudmFsdWV9LCAke2J9PjtcbiAgICBmb3IgKHZhciBrOiB1MzIgPSAwdTsgayA8IHVuaWZvcm1zLks7IGsgPSBrICsgJHtnfSkge1xuICAgICAgJHtJZSgpfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMHU7IGkgPCAke2J9dTsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaV07XG4gICAgICAke0t9XG4gICAgICAke3RlfVxuICAgICAgbGV0IGN1cl9pbmRpY2VzID0gJHtULnR5cGUuaW5kaWNlc30oYmF0Y2gsIHJvdyArIGksIGNvbCk7XG4gICAgICBsZXQgb2Zmc2V0ID0gJHtULmluZGljZXNUb09mZnNldCgiY3VyX2luZGljZXMiKX07XG4gICAgICAke1Quc2V0QnlPZmZzZXQoYG9mZnNldCAvICR7aH1gLCJ2YWx1ZSIpfTtcbiAgICB9XG4gIH1cbiAgYH07cmV0dXJue25hbWU6Ik1hdE11bE5haXZlIixzaGFkZXJDYWNoZTp7aGludDpgJHt0LmFjdGl2YXRpb25DYWNoZUtleX1fJHtofV8ke2d9XyR7Yn1fJHtufWAsaW5wdXREZXBlbmRlbmNpZXM6eT9bInJhbmsiLCJyYW5rIiwicmFuayJdOlsicmFuayIsInJhbmsiXX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpyLGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbCh3LzY0KX0scHJvZ3JhbVVuaWZvcm1zOnh9KSxnZXRTaGFkZXJTb3VyY2U6RX19LGNsPWU9PntpZighZXx8ZS5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcigiTWF0TXVsIHJlcXVpcmVzIDIgaW5wdXRzLiIpO2lmKGVbMF0uZGltc1tlWzBdLmRpbXMubGVuZ3RoLTFdIT09ZVsxXS5kaW1zW2VbMV0uZGltcy5sZW5ndGgtMl0pdGhyb3cgbmV3IEVycm9yKCJzaGFyZWQgZGltZW5zaW9uIGRvZXMgbm90IG1hdGNoLiIpfSxMaT1lPT57Y2woZS5pbnB1dHMpO2xldCB0PWR0LmNhbGNTaGFwZShlLmlucHV0c1swXS5kaW1zLGUuaW5wdXRzWzFdLmRpbXMsITApO2lmKCF0KXRocm93IG5ldyBFcnJvcigiQ2FuXCd0IHVzZSBtYXRtdWwgb24gdGhlIGdpdmVuIHRlbnNvcnMiKTtsZXQgcj10W3QubGVuZ3RoLTFdLG89ZS5pbnB1dHNbMF0uZGltc1tlLmlucHV0c1swXS5kaW1zLmxlbmd0aC0xXTtyPDgmJm88OD9lLmNvbXB1dGUoTG4oZS5pbnB1dHMse2FjdGl2YXRpb246IiIsYWN0aXZhdGlvbkNhY2hlS2V5OiIifSx0KSk6ZS5jb21wdXRlKHRuKGUuaW5wdXRzLHthY3RpdmF0aW9uOiIiLGFjdGl2YXRpb25DYWNoZUtleToiIn0sdCkpfX0pO3ZhciBIbixGaSxwbCxqaSxqbixtbCxmbCxxbixHbj1qKCgpPT57InVzZSBzdHJpY3QiOyRlKCk7amUoKTtIaSgpO2hyKCk7R2koKTtJdCgpO0ZuKCk7anQoKTtIbj0oZSx0LHIsbyxuLHMpPT57bGV0IHU9ZVswXSxsPWUuc2xpY2Uocz8xOjIscz8zOjQpLGE9bC5sZW5ndGgscD10WzBdLGc9dC5zbGljZSgyKS5tYXAoKHksXyk9PnkrKHktMSkqKHJbX10tMSkpLHc9bC5tYXAoKHksXyk9Pnkrb1tfXStvW18rYV0pLm1hcCgoeSxfKT0+TWF0aC5mbG9vcigoeS1nW19dK25bX10pL25bX10pKTtyZXR1cm4gdy5zcGxpY2UoMCwwLHUpLHcuc3BsaWNlKHM/MzoxLDAscCksd30sRmk9WzIsMywxLDBdLHBsPShlLHQpPT57aWYoIWV8fGUubGVuZ3RoIT09MiYmZS5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcigiQ29udiByZXF1aXJlcyAyIG9yIDMgaW5wdXRzIik7aWYoZVswXS5kaW1zLmxlbmd0aCE9PTQmJmVbMF0uZGltcy5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcigiY3VycmVudGx5IG9ubHkgc3VwcG9ydCBjb252IDFEIGFuZCAyRCIpO2lmKGVbMF0uZGltcy5sZW5ndGghPT1lWzFdLmRpbXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiZmlsdGVyIGRvZXMgbm90IGhhdmUgc2FtZSBkaW1lbnNpb24gYXMgaW5wdXQiKTtsZXQgcj1lWzBdLmRpbXNbdC5mb3JtYXQ9PT0iTkhXQyI/ZVswXS5kaW1zLmxlbmd0aC0xOjFdLG89ZVsxXS5kaW1zWzFdKnQuZ3JvdXA7aWYociE9PW8pdGhyb3cgbmV3IEVycm9yKCJGSUxURVJfSU5fQ0hBTk5FTCBzaG91bGQgYmUgZXF1YWwgdG8gREFUQV9DSEFOTkVMIik7aWYoZS5sZW5ndGg9PT0zJiYoZVsyXS5kaW1zLmxlbmd0aCE9PTF8fGVbMV0uZGltc1swXSE9PWVbMl0uZGltc1swXSkpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGJpYXMiKTtsZXQgbj1lWzBdLmRpbXMubGVuZ3RoLTI7aWYodC5kaWxhdGlvbnMubGVuZ3RoIT09bil0aHJvdyBuZXcgRXJyb3IoYGRpbGF0aW9ucyBzaG91bGQgYmUgJHtufURgKTtpZih0LnN0cmlkZXMubGVuZ3RoIT09bil0aHJvdyBuZXcgRXJyb3IoYHN0cmlkZXMgc2hvdWxkIGJlICR7bn1EYCk7aWYodC5wYWRzLmxlbmd0aCE9PW4qMil0aHJvdyBuZXcgRXJyb3IoYHBhZHMgc2hvdWxkIGJlICR7bioyfURgKTtpZih0Lmtlcm5lbFNoYXBlLmxlbmd0aCE9PTAmJnQua2VybmVsU2hhcGUubGVuZ3RoIT09ZVsxXS5kaW1zLmxlbmd0aC0yKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBrZXJuZWwgc2hhcGUiKX0samk9KGUsdCk9PntsZXQgcj1lLmtlcm5lbFNoYXBlLnNsaWNlKCk7Zm9yKGxldCBzPTI7czx0WzFdLmRpbXMubGVuZ3RoOysrcylyW3MtMl09PT0wJiYocltzLTJdPXRbMV0uZGltc1tzXSk7bGV0IG89ZS5wYWRzLnNsaWNlKCk7QnQuYWRqdXN0UGFkc0Jhc2VkT25BdXRvUGFkKHRbMF0uZGltcyxlLnN0cmlkZXMsZS5kaWxhdGlvbnMscixvLGUuZm9ybWF0PT09Ik5IV0MiLGUuYXV0b1BhZCk7bGV0IG49T2JqZWN0LmFzc2lnbih7fSxlKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihuLHtrZXJuZWxTaGFwZTpyLHBhZHM6byxjYWNoZUtleTplLmNhY2hlS2V5fSksbn0sam49ZT0+e2xldCB0PVFyKGUpLHI9ZS5mb3JtYXQsbz1bIk5PVFNFVCIsIlZBTElEIiwiU0FNRV9VUFBFUiIsIlNBTUVfTE9XRVIiXVtlLmF1dG9fcGFkXSxuPWUuZGlsYXRpb25zLHM9ZS5ncm91cCx1PWUua2VybmVsX3NoYXBlLGw9ZS5wYWRzLGE9ZS5zdHJpZGVzLHA9ZS53X2lzX2NvbnN0KCk7cmV0dXJuIGdlKHthdXRvUGFkOm8sZm9ybWF0OnIsZGlsYXRpb25zOm4sZ3JvdXA6cyxrZXJuZWxTaGFwZTp1LHBhZHM6bCxzdHJpZGVzOmEsd0lzQ29uc3Q6cCwuLi50fSl9LG1sPShlLHQscik9PntsZXQgbz1qaShyLHQpLG49ci5mb3JtYXQ9PT0iTkhXQyI7aWYoci5ncm91cCE9PTEpe2UuY29tcHV0ZShXbih0LG8pKTtyZXR1cm59bGV0IHM9dC5sZW5ndGg9PT0zLHU9dFswXS5kaW1zW24/MToyXSxsPXRbMF0uZGltc1tuPzI6M10sYT10WzBdLmRpbXNbbj8zOjFdLHA9dFsxXS5kaW1zWzJdLGg9dFsxXS5kaW1zWzNdLGc9SG4odFswXS5kaW1zLHRbMV0uZGltcyxyLmRpbGF0aW9ucyxvLnBhZHMsci5zdHJpZGVzLG4pLGI9Z1tuPzE6Ml0sdz1nW24/MjozXSx5PWdbbj8zOjFdLF89biYmcD09PXUmJmg9PT1sJiZyLnBhZHNbMF09PT0wJiZyLnBhZHNbMV09PT0wO2lmKF98fHA9PT0xJiZoPT09MSYmci5kaWxhdGlvbnNbMF09PT0xJiZyLmRpbGF0aW9uc1sxXT09PTEmJnIuc3RyaWRlc1swXT09PTEmJnIuc3RyaWRlc1sxXT09PTEmJnIucGFkc1swXT09PTAmJnIucGFkc1sxXT09PTApe2xldCBSPWdbMF0sVixULE4sdGU9W107aWYobil7bGV0IFE9ZS5rZXJuZWxDdXN0b21EYXRhLndUPz9lLmNvbXB1dGUoaXQodFsxXSxGaSkse2lucHV0czpbMV0sb3V0cHV0czpbci53SXNDb25zdD8tMjotMV19KVswXTtpZihyLndJc0NvbnN0JiYhZS5rZXJuZWxDdXN0b21EYXRhLndUJiYoZS5rZXJuZWxDdXN0b21EYXRhLndUPVEpLF8pe2xldCBaPXUqbCphO1Y9dFswXS5yZXNoYXBlKFsxLFIsWl0pLFQ9US5yZXNoYXBlKFsxLFoseV0pLE49WzEsUix5XX1lbHNlIFY9dFswXS5yZXNoYXBlKFtSLHUqbCxhXSksVD1RLnJlc2hhcGUoWzEsYSx5XSksTj1bUixiKncseV07dGUucHVzaChWKSx0ZS5wdXNoKFQpfWVsc2UgVj10WzBdLnJlc2hhcGUoW1IsYSx1KmxdKSxUPXRbMV0ucmVzaGFwZShbMSx5LGFdKSxOPVtSLHksYip3XSx0ZS5wdXNoKFQpLHRlLnB1c2goVik7cyYmdGUucHVzaCh0WzJdKTtsZXQgWT1OWzJdLEs9dGVbMF0uZGltc1t0ZVswXS5kaW1zLmxlbmd0aC0xXTtZPDgmJks8OD9lLmNvbXB1dGUoTG4odGUsbyxnLE4sbikse2lucHV0czp0ZX0pOmUuY29tcHV0ZSh0bih0ZSxvLGcsTixuKSx7aW5wdXRzOnRlfSk7cmV0dXJufWxldCBJPSEwLCQ9ZS5rZXJuZWxDdXN0b21EYXRhLndUPz9lLmNvbXB1dGUoaXQodFsxXSxGaSkse2lucHV0czpbMV0sb3V0cHV0czpbci53SXNDb25zdD8tMjotMV19KVswXTtyLndJc0NvbnN0JiYhZS5rZXJuZWxDdXN0b21EYXRhLndUJiYoZS5rZXJuZWxDdXN0b21EYXRhLndUPSQpO2xldCB4PVt0WzBdLCRdO3MmJngucHVzaCh0WzJdKTtsZXQgRT1uP2Iqdzp5LEE9bj95OmIqdyx6PXAqaCphO2UuY29tcHV0ZShXaSh4LG8sZyxFLEEseixzLEkpLHtpbnB1dHM6eH0pfSxmbD0oZSx0KT0+e2xldCByPXQuZm9ybWF0PT09Ik5IV0MiLG89W2UuaW5wdXRzWzBdLnJlc2hhcGUocj9bZS5pbnB1dHNbMF0uZGltc1swXSwxLGUuaW5wdXRzWzBdLmRpbXNbMV0sZS5pbnB1dHNbMF0uZGltc1syXV06W2UuaW5wdXRzWzBdLmRpbXNbMF0sZS5pbnB1dHNbMF0uZGltc1sxXSwxLGUuaW5wdXRzWzBdLmRpbXNbMl1dKSxlLmlucHV0c1sxXS5yZXNoYXBlKFtlLmlucHV0c1sxXS5kaW1zWzBdLGUuaW5wdXRzWzFdLmRpbXNbMV0sMSxlLmlucHV0c1sxXS5kaW1zWzJdXSldO2UuaW5wdXRzLmxlbmd0aD09PTMmJm8ucHVzaChlLmlucHV0c1syXSk7bGV0IG49WzAsdC5wYWRzWzBdLDAsdC5wYWRzWzFdXSxzPVsxXS5jb25jYXQodC5zdHJpZGVzKSx1PVsxXS5jb25jYXQodC5kaWxhdGlvbnMpLGw9WzFdLmNvbmNhdCh0Lmtlcm5lbFNoYXBlKSxhPWppKHsuLi50LHBhZHM6bixzdHJpZGVzOnMsZGlsYXRpb25zOnUsa2VybmVsU2hhcGU6bH0sbyk7ZS5jb21wdXRlKFduKG8sYSxwPT5yP1twWzBdLHBbMl0scFszXV06W10pKX0scW49KGUsdCk9PntwbChlLmlucHV0cyx0KSxlLmlucHV0c1swXS5kaW1zLmxlbmd0aD09PTM/ZmwoZSx0KTptbChlLGUuaW5wdXRzLHQpfX0pO3ZhciBobCxxaSxLaT1qKCgpPT57InVzZSBzdHJpY3QiO0N0KCk7dmUoKTtJdCgpO0pyKCk7Tm4oKTtocigpO2hsPShlLHQ9ITEscixvPTQpPT57bGV0IG49S2UobywiZjMyIikscz14PT57c3dpdGNoKHgpe2Nhc2UgMTpyZXR1cm4icmV0dXJuIHdbZ2V0SW5kZXhGcm9tQ29vcmRzNEQoY29vcmQsIHZlYzQ8aTMyPih1bmlmb3Jtcy53X3NoYXBlKSldOyI7Y2FzZSA0OnJldHVybmBcbiAgICAgICAgICAgIGxldCBjb29yZDEgPSB2ZWM0PGkzMj4oY29vcmRYLCBjb29yZFksIGNvbCArIDEsIHJvd0lubmVyKTtcbiAgICAgICAgICAgIGxldCBjb29yZDIgPSB2ZWM0PGkzMj4oY29vcmRYLCBjb29yZFksIGNvbCArIDIsIHJvd0lubmVyKTtcbiAgICAgICAgICAgIGxldCBjb29yZDMgPSB2ZWM0PGkzMj4oY29vcmRYLCBjb29yZFksIGNvbCArIDMsIHJvd0lubmVyKTtcbiAgICAgICAgICAgIGxldCB2MCA9IHdbZ2V0SW5kZXhGcm9tQ29vcmRzNEQoY29vcmQsIHZlYzQ8aTMyPih1bmlmb3Jtcy53X3NoYXBlKSldO1xuICAgICAgICAgICAgbGV0IHYxID0gd1tnZXRJbmRleEZyb21Db29yZHM0RChjb29yZDEsIHZlYzQ8aTMyPih1bmlmb3Jtcy53X3NoYXBlKSldO1xuICAgICAgICAgICAgbGV0IHYyID0gd1tnZXRJbmRleEZyb21Db29yZHM0RChjb29yZDIsIHZlYzQ8aTMyPih1bmlmb3Jtcy53X3NoYXBlKSldO1xuICAgICAgICAgICAgbGV0IHYzID0gd1tnZXRJbmRleEZyb21Db29yZHM0RChjb29yZDMsIHZlYzQ8aTMyPih1bmlmb3Jtcy53X3NoYXBlKSldO1xuICAgICAgICAgICAgcmV0dXJuIHZlYzQ8ZjMyPih2MCwgdjEsIHYyLCB2Myk7XG4gICAgICAgICAgICBgO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBpbm5lckVsZW1lbnRTaXplICR7eH0gaXMgbm90IHN1cHBvcnRlZC5gKX19LHU9ZT9gXG4gICAgICBsZXQgY29vcmQgPSB2ZWM0PGkzMj4oYmF0Y2gsIGlYUiwgaVhDLCB4Q2gpO1xuICAgICAgYDpgXG4gICAgICBsZXQgY29vcmQgPSB2ZWM0PGkzMj4oYmF0Y2gsIHhDaCwgaVhSLCBpWEMpO1xuICAgICAgYCxsPWU/YFxuICAgIGxldCBjb29yZHMgPSB2ZWM0PGkzMj4oXG4gICAgICBiYXRjaCxcbiAgICAgIHJvdyAvIG91dFdpZHRoLFxuICAgICAgcm93ICUgb3V0V2lkdGgsXG4gICAgICBjb2wpO1xuICAgIGA6YFxuICAgIGxldCBjb29yZHMgPSB2ZWM0PGkzMj4oXG4gICAgICBiYXRjaCxcbiAgICAgIHJvdyxcbiAgICAgIGNvbCAvIG91dFdpZHRoLFxuICAgICAgY29sICUgb3V0V2lkdGgpO1xuICAgIGAsYT1lPyJvdXRCYWNrcHJvcFsxXSI6Im91dEJhY2twcm9wWzJdIixwPWU/Im91dEJhY2twcm9wWzJdIjoib3V0QmFja3Byb3BbM10iLGg9ZT8icm93IjoiY29sIixnPWU/ImNvbCI6InJvdyIsYj1gXG4gICAgICBsZXQgaW5DaGFubmVscyA9ICR7ZT8ib3V0QmFja3Byb3BbM10iOiJvdXRCYWNrcHJvcFsxXSJ9O1xuICAgICAgbGV0IG91dFdpZHRoID0gJHtlPyJpMzIodW5pZm9ybXMucmVzdWx0X3NoYXBlWzJdKSI6ImkzMih1bmlmb3Jtcy5yZXN1bHRfc2hhcGVbM10pIn07XG4gICAgICBsZXQgb3V0Um93ID0gJHtofSAvIG91dFdpZHRoO1xuICAgICAgbGV0IG91dENvbCA9ICR7aH0gJSBvdXRXaWR0aDtcblxuICAgICAgbGV0IFdSb3cgPSAke2d9IC8gKGZpbHRlckRpbXNbMV0gKiBpbkNoYW5uZWxzKTtcbiAgICAgIGxldCBXQ29sID0gJHtnfSAvIGluQ2hhbm5lbHMgJSBmaWx0ZXJEaW1zWzFdO1xuICAgICAgbGV0IHhSID0gZjMyKG91dFJvdyAtIHBhZHNbMF0gKyBkaWxhdGlvblswXSAqIFdSb3cpIC8gZjMyKHN0cmlkZXNbMF0pO1xuICAgICAgbGV0IHhDID0gZjMyKG91dENvbCAtIHBhZHNbMV0gKyBkaWxhdGlvblsxXSAqIFdDb2wpIC8gZjMyKHN0cmlkZXNbMV0pO1xuICAgICAgaWYgKHhSIDwgMC4wIHx8IHhSID49IGYzMigke2F9KSB8fCBmcmFjdCh4UikgPiAwLjApIHtcbiAgICAgICAgcmV0dXJuICR7bn0oMC4wKTtcbiAgICAgIH1cbiAgICAgIGlmICh4QyA8IDAuMCB8fCB4QyA+PSBmMzIoJHtwfSkgfHwgZnJhY3QoeEMpID4gMC4wKSB7XG4gICAgICAgIHJldHVybiAke259KDAuMCk7XG4gICAgICB9XG4gICAgICBsZXQgaVhSID0gaTMyKHhSKTtcbiAgICAgIGxldCBpWEMgPSBpMzIoeEMpO1xuICAgICAgbGV0IHhDaCA9ICR7Z30gJSBpbkNoYW5uZWxzO1xuICAgICAgJHt1fVxuICAgICAgcmV0dXJuIHhbZ2V0SW5kZXhGcm9tQ29vcmRzNEQoY29vcmQsIHZlYzQ8aTMyPih1bmlmb3Jtcy54X3NoYXBlKSkvJHtvfV07YCx3PWU/YFxuICAgICAgbGV0IGNvbCA9IGNvbEluICogJHtvfTtcbiAgICAgIGlmIChyb3cgPCB1bmlmb3Jtcy5kaW1BT3V0ZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltSW5uZXIpIHtcbiAgICAgICAgJHtifVxuICAgICAgfVxuICAgICAgcmV0dXJuICR7bn0oMC4wKTtgOmBcbiAgICAgIGxldCBjb2wgPSBjb2xJbiAqICR7b307XG4gICAgICBpZiAocm93IDwgdW5pZm9ybXMuZGltSW5uZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltQk91dGVyKSB7XG4gICAgICAgICR7Yn1cbiAgICAgIH1cbiAgICAgIHJldHVybiAke259KDAuMCk7YCx5PWBcbiAgICAgIGxldCBjb2wgPSBjb2xJbiAqICR7b307XG4gICAgICBsZXQgaW5DaGFubmVscyA9ICR7ZT8ib3V0QmFja3Byb3BbM10iOiJvdXRCYWNrcHJvcFsxXSJ9O1xuICAgICAgbGV0IGNvb3JkWCA9IGZpbHRlckRpbXMueCAtIDEgLSByb3cgLyAoZmlsdGVyRGltc1sxXSAqIGluQ2hhbm5lbHMpO1xuICAgICAgbGV0IGNvb3JkWSA9IGZpbHRlckRpbXMueSAtIDEgLSAocm93IC8gaW5DaGFubmVscykgJSBmaWx0ZXJEaW1zWzFdO1xuICAgICAgaWYgKCR7ZT8icm93IDwgdW5pZm9ybXMuZGltSW5uZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltQk91dGVyIjoicm93IDwgdW5pZm9ybXMuZGltSW5uZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltQU91dGVyIn0gICYmIGNvb3JkWCA+PSAwICYmIGNvb3JkWSA+PSAwKSB7XG4gICAgICAgIGxldCByb3dJbm5lciA9IHJvdyAlIGluQ2hhbm5lbHM7XG4gICAgICAgIGxldCBjb29yZCA9IHZlYzQ8aTMyPihjb29yZFgsIGNvb3JkWSwgY29sLCByb3dJbm5lcik7XG4gICAgICAgICR7cyhvKX1cbiAgICAgIH1cbiAgICAgIHJldHVybiAke259KDAuMCk7XG4gICAgICBgLHthY3RpdmF0aW9uRnVuY3Rpb246XyxhcHBseUFjdGl2YXRpb246SX09Z3QocixuKTtyZXR1cm5gXG4gICAgICAke199XG4gIGZuIG1tX3JlYWRBKGJhdGNoOiBpMzIsIHJvdyA6IGkzMiwgY29sSW4gOiBpMzIpIC0+ICR7bn0ge1xuICAgICR7ZT93Onl9XG4gIH1cblxuICBmbiBtbV9yZWFkQihiYXRjaDogaTMyLCByb3cgOiBpMzIsIGNvbEluIDogaTMyKSAtPiAke259IHtcbiAgICAke2U/eTp3fVxuICB9XG5cbiAgZm4gbW1fd3JpdGUoYmF0Y2g6IGkzMiwgcm93IDogaTMyLCBjb2xJbiA6IGkzMiwgdmFsdWVJbnB1dCA6ICR7bn0pIHtcbiAgICBsZXQgY29sID0gY29sSW4gKiAke299O1xuICAgIGlmIChyb3cgPCB1bmlmb3Jtcy5kaW1BT3V0ZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltQk91dGVyKSB7XG4gICAgICB2YXIgdmFsdWUgPSB2YWx1ZUlucHV0O1xuICAgICAgbGV0IG91dFdpZHRoID0gJHtlPyJpMzIodW5pZm9ybXMucmVzdWx0X3NoYXBlWzJdKSI6ImkzMih1bmlmb3Jtcy5yZXN1bHRfc2hhcGVbM10pIn07XG4gICAgICAke2x9XG4gICAgICAke1hyKHQpfVxuICAgICAgJHtJfVxuICAgICAgcmVzdWx0W2dldEluZGV4RnJvbUNvb3JkczREKGNvb3JkcywgdmVjNDxpMzI+KHVuaWZvcm1zLnJlc3VsdF9zaGFwZSkpLyR7b31dID0gdmFsdWU7XG4gICAgfVxuICB9YH0scWk9KGUsdCxyLG8sbixzLHUsbCk9PntsZXQgYT10LmZvcm1hdD09PSJOSFdDIixwPWE/ZVswXS5kaW1zWzNdOmVbMF0uZGltc1sxXSxoPXJbMF0sZz1hP3JbMl06clszXSxiPWE/clsxXTpyWzJdLHc9YT9yWzNdOnJbMV0seT1hP3AlND09PTAmJnclND09PTA6ZyU0PT09MCYmdyU0PT09MCxfPWE/dzpnKmIsST1hP2cqYjp3LCQ9eT9bOCw4LDFdOltfPD00fHxJPD00PzQ6MTYsXz40JiZJPD00PzQ6MTYsMV0seD15P1s0LDQsMV06W188PTQ/MTo0LF8+NCYmSTw9ND8xOjQsMV0sRT1bTWF0aC5jZWlsKF8vJFswXS94WzBdKSxNYXRoLmNlaWwoSS8kWzFdL3hbMV0pLE1hdGguY2VpbChoLyRbMl0veFsyXSldO0JlKCJ2ZXJib3NlIiwoKT0+YFtjb252X2JhY2twcm9wX21tX3dlYmdwdV0gZGlzcGF0Y2ggPSAke0V9YCk7bGV0IEE9eT80OjEsej1NYXRoLm1heCgkWzBdKkEsJFsxXSksUj15PzQ6MSxWPVt7dHlwZToiaW50MzIiLGRhdGE6b30se3R5cGU6ImludDMyIixkYXRhOm59LHt0eXBlOiJpbnQzMiIsZGF0YTpzfV0sVD1NKCJ4IixlWzBdLmRhdGFUeXBlLGVbMF0uZGltcy5sZW5ndGgsUiksTj1NKCJ3IixlWzFdLmRhdGFUeXBlLGVbMV0uZGltcy5sZW5ndGgsMSksdGU9RigicmVzdWx0IixlWzBdLmRhdGFUeXBlLHIubGVuZ3RoLFIpLFk9W1QsTl07Vi5wdXNoKC4uLkwoZVswXS5kaW1zKSksVi5wdXNoKC4uLkwoZVsxXS5kaW1zKSk7bGV0IEs9IiI7aWYodSl7bGV0IFE9TSgiYmlhcyIsZVsyXS5kYXRhVHlwZSxlWzJdLmRpbXMubGVuZ3RoLFIpO1kucHVzaChRKSxWLnB1c2goLi4uTChlWzJdLmRpbXMpKSxLKz1gXG4gICAgICAgIGZuIGdldEJpYXNCeU91dHB1dENvb3Jkcyhjb29yZHMgOiB2ZWM0PGkzMj4pIC0+ICR7eT8idmVjNDxmMzI+IjoiZjMyIn0ge1xuICAgICAgICAgIHJldHVybiBiaWFzW2Nvb3Jkcy4ke2E/InciOiJ5In0ke3k/Ii8gNCI6IiJ9XTtcbiAgICAgICAgfWB9cmV0dXJuIFYucHVzaCguLi5MKHIpKSx7bmFtZToiQ29udjJEVHJhbnNwb3NlTWF0TXVsIixzaGFkZXJDYWNoZTp7aGludDp0LmNhY2hlS2V5fSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnIsZGF0YVR5cGU6ZVswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6RVswXSx5OkVbMV0sejpFWzJdfSxwcm9ncmFtVW5pZm9ybXM6Vn0pLGdldFNoYWRlclNvdXJjZTpRPT5gXG4gICAgICAgICR7ZW4oInVuaWZvcm1zLnJlc3VsdF9zdHJpZGVzIil9XG4gICAgICAgICR7US5yZWdpc3RlclVuaWZvcm0oImRpbUFPdXRlciIsImkzMiIpLnJlZ2lzdGVyVW5pZm9ybSgiZGltQk91dGVyIiwiaTMyIikucmVnaXN0ZXJVbmlmb3JtKCJkaW1Jbm5lciIsImkzMiIpLmRlY2xhcmVWYXJpYWJsZXMoLi4uWSx0ZSl9O1xuICAgICAgICBjb25zdCBvdXRCYWNrcHJvcCA6IHZlYzQ8aTMyPiA9IHZlYzQ8aTMyPigke2VbMF0uZGltcy5qb2luKCIsIil9KTtcbiAgICAgICAgY29uc3QgZmlsdGVyRGltcyA6IHZlYzI8aTMyPiA9IHZlYzI8aTMyPigke3Qua2VybmVsU2hhcGVbYT8xOjJdfSwgJHt0Lmtlcm5lbFNoYXBlW2E/MjozXX0pO1xuICAgICAgICBjb25zdCBlZmZlY3RpdmVGaWx0ZXJEaW1zIDogdmVjMjxpMzI+ID0gZmlsdGVyRGltcyArIHZlYzI8aTMyPihcbiAgICAgICAgICAgICAgJHt0LmRpbGF0aW9uc1swXTw9MT8wOih0Lmtlcm5lbFNoYXBlW2E/MToyXS0xKSoodC5kaWxhdGlvbnNbMF0tMSl9LFxuICAgICAgICAgICAgICAke3QuZGlsYXRpb25zWzFdPD0xPzA6KHQua2VybmVsU2hhcGVbYT8yOjNdLTEpKih0LmRpbGF0aW9uc1sxXS0xKX0pO1xuICAgICAgICBjb25zdCBwYWRzIDogdmVjMjxpMzI+ID0gdmVjMjxpMzI+KGkzMihlZmZlY3RpdmVGaWx0ZXJEaW1zWzBdKSAtIDEgLSAoJHt0LnBhZHNbMF0rdC5wYWRzWzJdfSkvMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTMyKGVmZmVjdGl2ZUZpbHRlckRpbXNbMV0pIC0gMSAtICgke3QucGFkc1sxXSt0LnBhZHNbM119KS8yKTtcbiAgICAgICAgY29uc3Qgc3RyaWRlcyA6IHZlYzI8aTMyPiA9IHZlYzI8aTMyPigke3Quc3RyaWRlc1swXX0sICR7dC5zdHJpZGVzWzFdfSk7XG4gICAgICAgIGNvbnN0IGRpbGF0aW9uIDogdmVjMjxpMzI+ID0gdmVjMjxpMzI+KCR7dC5kaWxhdGlvbnNbMF19LCAke3QuZGlsYXRpb25zWzFdfSk7XG4gICAgICAgIGNvbnN0IGRpbUFPdXRlciA6IGkzMiA9ICR7b307XG4gICAgICAgIGNvbnN0IGRpbUJPdXRlciA6IGkzMiA9ICR7bn07XG4gICAgICAgIGNvbnN0IGRpbUlubmVyIDogaTMyID0gJHtzfTtcbiAgICAgICAgJHtLfVxuICAgICAgICAke2hsKGEsdSx0LEEpfVxuICAgICAgICAke3k/bXIoeCwkLCJmMzIiLHZvaWQgMCwhYSx6KTpmcih4LCQsImYzMiIsdm9pZCAwLCFhLHosITEsdm9pZCAwLGwpfWB9fX0pO3ZhciBnbCxLbixZaT1qKCgpPT57InVzZSBzdHJpY3QiO0N0KCk7JGUoKTt2ZSgpO2dsPShlLHQscixvLG4scyx1PSExLGwpPT57bGV0IGE9ci5mb3JtYXQ9PT0iTkhXQyIscD1hPzE6MixoPWE/MjozLGc9YT8zOjEsYj1VLnNpemUobyksdz11PzI6MSx5PXIuZ3JvdXAsXz10WzFdLmRpbXMsST1fWzBdL3ksJD1fWzFdLHg9YFxuICBmbiBzZXRPdXRwdXRBdEluZGV4KGZsYXRJbmRleCA6IHUzMiwgdmFsdWUgOiAke3U/YHZlYzQ8JHtsfT5gOmx9KSB7XG4gICAgcmVzdWx0W2ZsYXRJbmRleF0gPSAke3U/YHZlYzQ8JHtsfT5gOmx9KHZhbHVlKTtcbiAgfWA7biYmKHgrPWBcbiAgICBmbiBnZXRCaWFzQnlPdXRwdXRDb29yZHMoY29vcmRzIDogdmVjNDx1MzI+KSAtPiAke3U/YHZlYzQ8JHtsfT5gOmx9IHtcbiAgICAgIHJldHVybiBiaWFzW2Nvb3Jkcy4ke2E/InciOiJ5In0ke3U/Ii8gNCI6IiJ9XTtcbiAgICB9YCk7bGV0IEU9dT80OjEsQT1NKCJXIix0WzFdLmRhdGFUeXBlLHRbMV0uZGltcyxFKSx6PU0oIkR5Iix0WzBdLmRhdGFUeXBlLHRbMF0uZGltcyxFKSxSPVt6LEFdO24mJlIucHVzaChNKCJiaWFzIix0WzJdLmRhdGFUeXBlLFtvW2ddXSxFKSk7bGV0IFY9RigicmVzdWx0Iix0WzBdLmRhdGFUeXBlLG8sRSksVD1ge1xuICAgICAgICBsZXQgYmF0Y2g6IHUzMiA9ICR7cz8iZ2xvYmFsX2lkLnoiOiJ3b3JrZ3JvdXBfaWQueiJ9IC8gb3V0U2hhcGVbMV07XG4gICAgICAgIGxldCByID0gJHtzPyJnbG9iYWxfaWQueiI6Indvcmtncm91cF9pZC56In0gJSBvdXRTaGFwZVsxXTtcbiAgICAgICAgbGV0IGMgPSAke3M/Imdsb2JhbF9pZC55Ijoid29ya2dyb3VwX2lkLnkifSAqICR7d307XG4gICAgICAgIGxldCBkMTogdTMyID0gJHtzPyJnbG9iYWxfaWQueCI6Indvcmtncm91cF9pZC54In0gKiA0O1xuXG4gICAgICAgIGxldCBkeUNvcm5lciA9IHZlYzI8aTMyPihpMzIociksIGkzMihjKSkgLSB2ZWMyPGkzMj4ocGFkcyk7XG5cbiAgICAgICAgLy8gQ29udm9sdmUgZHkoPywgPywgZDIpIHdpdGggdyg6LCA6LCBkMSwgZDIpIHRvIGNvbXB1dGUgZHgoeFIsIHhDLCBkMSkuXG4gICAgICAgIC8vID8gPSB0byBiZSBkZXRlcm1pbmVkLiA6ID0gYWNyb3NzIGFsbCB2YWx1ZXMgaW4gdGhhdCBheGlzLlxuICAgICAgICB2YXIgZG90UHJvZDogYXJyYXk8dmVjNDwke2x9PiwgJHt3fT47XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHt3fTsgaSsrKSB7XG4gICAgICAgICAgZG90UHJvZFtpXSA9IHZlYzQ8JHtsfT4oMC4wKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciB3UjogdTMyID0gMDsgd1IgPCBmaWx0ZXJEaW1zWzBdOyB3UiA9IHdSICsgMSkge1xuICAgICAgICAgIHZhciBkeVIgPSAoJHtsfShkeUNvcm5lci54KSArICR7bH0od1IpKSAvICR7bH0oc3RyaWRlcy54KTtcbiAgICAgICAgICBsZXQgd1JQZXJtID0gZmlsdGVyRGltc1swXSAtIDEgLSB3UjtcbiAgICAgICAgICBpZiAoZHlSIDwgMC4wIHx8IGR5UiA+PSAke2x9KG91dEJhY2twcm9wWzFdKSB8fFxuICAgICAgICAgICAgICBmcmFjdChkeVIpID4gMC4wIHx8IHdSUGVybSA8IDApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgaWR5UjogdTMyID0gdTMyKGR5Uik7XG5cbiAgICAgICAgICBmb3IgKHZhciB3QzogdTMyID0gMDsgd0MgPCBmaWx0ZXJEaW1zWzFdOyB3QyA9IHdDICsgMSkge1xuICAgICAgICAgICAgbGV0IGR5QyA9ICgke2x9KGR5Q29ybmVyLnkpICsgJHtsfSh3QykpIC8gJHtsfShzdHJpZGVzLnkpO1xuICAgICAgICAgICAgbGV0IGR5QzIgPSAoJHtsfShkeUNvcm5lci55KSArIDEuMCArICR7bH0od0MpKSAvICR7bH0oc3RyaWRlcy55KTtcbiAgICAgICAgICAgIGxldCB3Q1Blcm0gPSBmaWx0ZXJEaW1zWzFdIC0gMSAtIHdDO1xuICAgICAgICAgICAgaWYgKHdDUGVybSA8IDApIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYkR5Q1ZhbCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgYkR5Q1ZhbDIgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGR5QyA8IDAuMCB8fCBkeUMgPj0gJHtsfShvdXRCYWNrcHJvcFsyXSkgfHxcbiAgICAgICAgICAgICAgICBmcmFjdChkeUMpID4gMC4wKSB7XG4gICAgICAgICAgICAgIGJEeUNWYWwgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkeUMyIDwgMC4wIHx8IGR5QzIgPj0gJHtsfShvdXRCYWNrcHJvcFsyXSkgfHxcbiAgICAgICAgICAgICAgICBmcmFjdChkeUMyKSA+IDAuMCkge1xuICAgICAgICAgICAgICBiRHlDVmFsMiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgaWR5QzogdTMyID0gdTMyKGR5Qyk7XG4gICAgICAgICAgICBsZXQgaWR5QzI6IHUzMiA9IHUzMihkeUMyKTtcbiAgICAgICAgICAgIGlmIChiRHlDVmFsICYmIGJEeUNWYWwyKSB7XG4gICAgICAgICAgICAgIGxldCBkMkxlbmd0aCA9IG91dEJhY2twcm9wWzNdO1xuICAgICAgICAgICAgICBmb3IgKHZhciBkMiA6dTMyID0gMDsgZDIgPCBkMkxlbmd0aDsgZDIgPSBkMiArIDQpIHtcbiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMCA9ICR7QS5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSIsImQyIil9O1xuICAgICAgICAgICAgICAgIGxldCB3VmFsdWUxID0gJHtBLmdldCgidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIsImQxICsgMSIsImQyIil9O1xuICAgICAgICAgICAgICAgIGxldCB3VmFsdWUyID0gJHtBLmdldCgidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIsImQxICsgMiIsImQyIil9O1xuICAgICAgICAgICAgICAgIGxldCB3VmFsdWUzID0gJHtBLmdldCgidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIsImQxICsgMyIsImQyIil9O1xuXG4gICAgICAgICAgICAgICAgdmFyIHhWYWx1ZSA9ICR7ei5nZXQoImJhdGNoIiwiaWR5UiIsImlkeUMiLCJkMiIpfTtcbiAgICAgICAgICAgICAgICBsZXQgdG1wdmFsID0gdmVjNDwke2x9Pihkb3QoeFZhbHVlLCB3VmFsdWUwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCh4VmFsdWUsIHdWYWx1ZTIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUzKSk7XG4gICAgICAgICAgICAgICAgZG90UHJvZFswXSA9IGRvdFByb2RbMF0gKyB0bXB2YWw7XG5cbiAgICAgICAgICAgICAgICB4VmFsdWUgPSAgJHt6LmdldCgiYmF0Y2giLCJpZHlSIiwiaWR5QzIiLCJkMiIpfTtcblxuICAgICAgICAgICAgICAgIGRvdFByb2RbMV0gPSBkb3RQcm9kWzFdICsgdmVjNDwke2x9Pihkb3QoeFZhbHVlLCB3VmFsdWUwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUzKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYkR5Q1ZhbCkge1xuICAgICAgICAgICAgICBsZXQgZDJMZW5ndGggPSBvdXRCYWNrcHJvcFske2d9XTtcbiAgICAgICAgICAgICAgZm9yICh2YXIgZDI6IHUzMiA9IDA7IGQyIDwgZDJMZW5ndGg7IGQyID0gZDIgKyA0KSB7XG4gICAgICAgICAgICAgICAgbGV0IHdWYWx1ZTAgPSAke0EuZ2V0KCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIiwiZDEiLCJkMiIpfTtcbiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMSA9ICR7QS5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDEiLCJkMiIpfTtcbiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMiA9ICR7QS5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDIiLCJkMiIpfTtcbiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMyA9ICR7QS5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDMiLCJkMiIpfTtcblxuICAgICAgICAgICAgICAgIHZhciB4VmFsdWUgPSAke3ouZ2V0KCJiYXRjaCIsImlkeVIiLCJpZHlDIiwiZDIiKX07XG4gICAgICAgICAgICAgICAgbGV0IHRtcHZhbCA9IHZlYzQ8JHtsfT4oZG90KHhWYWx1ZSwgd1ZhbHVlMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCh4VmFsdWUsIHdWYWx1ZTEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMykpO1xuICAgICAgICAgICAgICAgIGRvdFByb2RbMF0gPSBkb3RQcm9kWzBdICsgdG1wdmFsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJEeUNWYWwyKSB7XG4gICAgICAgICAgICAgIGxldCBkMkxlbmd0aCA9IG91dEJhY2twcm9wWzNdO1xuICAgICAgICAgICAgICBmb3IgKHZhciBkMjogdTMyID0gMDsgZDIgPCBkMkxlbmd0aDsgZDIgPSBkMiArIDQpIHtcbiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMCA9ICR7QS5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSIsImQyIil9O1xuICAgICAgICAgICAgICAgIGxldCB3VmFsdWUxID0gJHtBLmdldCgidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIsImQxICsgMSIsImQyIil9O1xuICAgICAgICAgICAgICAgIGxldCB3VmFsdWUyID0gJHtBLmdldCgidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIsImQxICsgMiIsImQyIil9O1xuICAgICAgICAgICAgICAgIGxldCB3VmFsdWUzID0gJHtBLmdldCgidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIsImQxICsgMyIsImQyIil9O1xuXG4gICAgICAgICAgICAgICAgdmFyIHhWYWx1ZSA9ICR7ei5nZXQoImJhdGNoIiwiaWR5UiIsImlkeUMyIiwiZDIiKX07XG4gICAgICAgICAgICAgICAgbGV0IHRtcHZhbCA9IHZlYzQ8JHtsfT4oZG90KHhWYWx1ZSwgd1ZhbHVlMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCh4VmFsdWUsIHdWYWx1ZTEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMykpO1xuICAgICAgICAgICAgICAgIGRvdFByb2RbMV0gPSBkb3RQcm9kWzFdICsgdG1wdmFsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaTogdTMyID0gMDsgaSA8ICR7d307IGkgPSBpICsgMSkge1xuICAgICAgICAgIGxldCB2YWx1ZSA9IGRvdFByb2RbaV0gKyAke24/ImJpYXNbYytpXSI6YHZlYzQ8JHtsfT4oMC4wKWB9O1xuICAgICAgICAgICR7Vi5zZXQoImJhdGNoIiwiciIsImMgKyBpIiwiZDEiLCJ2YWx1ZSIpfTtcbiAgICAgICAgfVxuICAgICAgfWAsTj1gXG4gICAgICAgICAgbGV0IG91dHB1dEluZGljZXMgPSAke1Yub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9O1xuICAgICAgICAgIGxldCBiYXRjaCA9ICR7Vi5pbmRpY2VzR2V0KCJvdXRwdXRJbmRpY2VzIiwwKX07XG4gICAgICAgICAgbGV0IGQxID0gJHtWLmluZGljZXNHZXQoIm91dHB1dEluZGljZXMiLGcpfTtcbiAgICAgICAgICBsZXQgciA9ICR7Vi5pbmRpY2VzR2V0KCJvdXRwdXRJbmRpY2VzIixwKX07XG4gICAgICAgICAgbGV0IGMgPSAke1YuaW5kaWNlc0dldCgib3V0cHV0SW5kaWNlcyIsaCl9O1xuICAgICAgICAgIGxldCBkeUNvcm5lciA9IHZlYzI8aTMyPihpMzIociksIGkzMihjKSkgLSBwYWRzO1xuICAgICAgICAgIGxldCBkeVJDb3JuZXIgPSBkeUNvcm5lci54O1xuICAgICAgICAgIGxldCBkeUNDb3JuZXIgPSBkeUNvcm5lci55O1xuICAgICAgICAgIGxldCBncm91cElkID0gZDEgLyAkeyR9O1xuICAgICAgICAgIGxldCB3T3V0Q2hhbm5lbCA9IGQxIC0gZ3JvdXBJZCAqICR7JH07XG4gICAgICAgICAgLy8gQ29udm9sdmUgZHkoPywgPywgZDIpIHdpdGggdyg6LCA6LCBkMSwgZDIpIHRvIGNvbXB1dGUgZHgoeFIsIHhDLCBkMSkuXG4gICAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWQuIDogPSBhY3Jvc3MgYWxsIHZhbHVlcyBpbiB0aGF0IGF4aXMuXG4gICAgICAgICAgdmFyIGRvdFByb2QgPSAke2x9KDAuMCk7XG4gICAgICAgICAgZm9yICh2YXIgd1I6IHUzMiA9IDA7IHdSIDwgZWZmZWN0aXZlRmlsdGVyRGltcy54OyB3UiA9IHdSICsgMSkge1xuICAgICAgICAgICAgaWYgKHdSICUgZGlsYXRpb25zLnggIT0gMCkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBkeVIgPSAoJHtsfShkeVJDb3JuZXIpICsgJHtsfSh3UikpIC8gJHtsfShzdHJpZGVzWzBdKTtcbiAgICAgICAgICAgIGxldCB3UlBlcm0gPSBmaWx0ZXJEaW1zLnggLSAxIC0gd1IgLyBkaWxhdGlvbnMueDtcbiAgICAgICAgICAgIGlmIChkeVIgPCAwLjAgfHwgZHlSID49ICR7bH0ob3V0QmFja3Byb3BbJHtwfV0pIHx8IGZyYWN0KGR5UikgPiAwLjAgfHxcbiAgICAgICAgICAgICAgICB3UlBlcm0gPCAwKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGlkeVI6IHUzMiA9IHUzMihkeVIpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciB3QzogdTMyID0gMDsgd0MgPCBlZmZlY3RpdmVGaWx0ZXJEaW1zLnk7IHdDID0gd0MgKyAxKSB7XG4gICAgICAgICAgICAgIGlmICh3QyAlIGRpbGF0aW9ucy55ICE9IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsZXQgZHlDID0gKCR7bH0oZHlDQ29ybmVyKSArICR7bH0od0MpKSAvICR7bH0oc3RyaWRlcy55KTtcbiAgICAgICAgICAgICAgbGV0IHdDUGVybSA9IGZpbHRlckRpbXMueSAtIDEgLSB3QyAvIGRpbGF0aW9ucy55O1xuICAgICAgICAgICAgICBpZiAoZHlDIDwgMC4wIHx8IGR5QyA+PSAke2x9KG91dEJhY2twcm9wWyR7aH1dKSB8fFxuICAgICAgICAgICAgICAgICAgZnJhY3QoZHlDKSA+IDAuMCB8fCB3Q1Blcm0gPCAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGV0IGlkeUM6IHUzMiA9IHUzMihkeUMpO1xuICAgICAgICAgICAgICB2YXIgaW5wdXRDaGFubmVsID0gZ3JvdXBJZCAqICR7SX07XG4gICAgICAgICAgICAgIGZvciAodmFyIGQyOiB1MzIgPSAwOyBkMiA8ICR7SX07IGQyID0gZDIgKyAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IHhWYWx1ZSA9ICR7YT96LmdldCgiYmF0Y2giLCJpZHlSIiwiaWR5QyIsImlucHV0Q2hhbm5lbCIpOnouZ2V0KCJiYXRjaCIsImlucHV0Q2hhbm5lbCIsImlkeVIiLCJpZHlDIil9O1xuICAgICAgICAgICAgICAgIGxldCB3VmFsdWUgPSAke0EuZ2V0KCJpbnB1dENoYW5uZWwiLCJ3T3V0Q2hhbm5lbCIsInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiKX07XG4gICAgICAgICAgICAgICAgZG90UHJvZCA9IGRvdFByb2QgKyB4VmFsdWUgKiB3VmFsdWU7XG4gICAgICAgICAgICAgICAgaW5wdXRDaGFubmVsID0gaW5wdXRDaGFubmVsICsgMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgdmFsdWUgPSBkb3RQcm9kICsgJHtuPyJiaWFzW2QxXSI6YCR7bH0oMC4wKWB9O1xuICAgICAgICAgICR7Vi5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsInZhbHVlIil9O1xuICAgICAgICBgO3JldHVybmBcbiAgJHtlLmRlY2xhcmVWYXJpYWJsZXMoLi4uUixWKX1cbiAgJHt4fVxuICBjb25zdCBvdXRTaGFwZSA6IHZlYzQ8dTMyPiA9IHZlYzQ8dTMyPigke28uam9pbigiLCIpfSk7XG4gIGNvbnN0IG91dEJhY2twcm9wIDogdmVjNDx1MzI+ID0gdmVjNDx1MzI+KCR7dFswXS5kaW1zLmpvaW4oIiwiKX0pO1xuICBjb25zdCBzdHJpZGVzIDogdmVjMjx1MzI+ID0gdmVjMjx1MzI+KCR7ci5zdHJpZGVzWzBdfSwgJHtyLnN0cmlkZXNbMV19KTtcbiAgY29uc3QgZmlsdGVyRGltcyA6IHZlYzI8dTMyPiA9IHZlYzI8dTMyPigke3Iua2VybmVsU2hhcGVbYT8xOjJdfSwgJHtyLmtlcm5lbFNoYXBlW2E/MjozXX0pO1xuICBjb25zdCBkaWxhdGlvbnMgOiB2ZWMyPHUzMj4gPSB2ZWMyPHUzMj4oJHtyLmRpbGF0aW9uc1swXX0sICR7ci5kaWxhdGlvbnNbMV19KTtcbiAgY29uc3QgZWZmZWN0aXZlRmlsdGVyRGltcyA6IHZlYzI8dTMyPiA9IGZpbHRlckRpbXMgKyB2ZWMyPHUzMj4oXG4gICAgICAgICAgJHtyLmRpbGF0aW9uc1swXTw9MT8wOihyLmtlcm5lbFNoYXBlW2E/MToyXS0xKSooci5kaWxhdGlvbnNbMF0tMSl9LFxuICAgICAgICAgICR7ci5kaWxhdGlvbnNbMV08PTE/MDooci5rZXJuZWxTaGFwZVthPzI6M10tMSkqKHIuZGlsYXRpb25zWzFdLTEpfSk7XG4gIGNvbnN0IHBhZHMgOiB2ZWMyPGkzMj4gPSB2ZWMyPGkzMj4oaTMyKGVmZmVjdGl2ZUZpbHRlckRpbXNbMF0pIC0gMSAtICgke3IucGFkc1swXStyLnBhZHNbMl19KS8yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkzMihlZmZlY3RpdmVGaWx0ZXJEaW1zWzFdKSAtIDEgLSAoJHtyLnBhZHNbMV0rci5wYWRzWzNdfSkvMik7XG4gICAgJHtlLm1haW5TdGFydCgpfVxuICAgICR7ZS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKGIpfTtcbiAgJHt1P1Q6Tn19YH0sS249KGUsdCxyKT0+e2xldCBvPWUubGVuZ3RoPjIsbj10Lm91dHB1dFNoYXBlLHM9VS5zaXplKG4pLHU9W01hdGguY2VpbChzLzY0KSwxLDFdO0JlKCJ2ZXJib3NlIiwoKT0+YFtjb252MmRfYmFja3Byb3Bfd2ViZ3B1XSBkaXNwYXRjaCA9ICR7dX1gKTtsZXQgbD1MZShlWzBdLmRhdGFUeXBlKTtyZXR1cm57bmFtZToiQ29udlRyYW5zcG9zZTJEIixzaGFkZXJDYWNoZTp7aGludDp0LmNhY2hlS2V5fSxnZXRSdW5EYXRhOigpPT4oe2Rpc3BhdGNoR3JvdXA6e3g6dVswXSx5OnVbMV0sejp1WzJdfSxvdXRwdXRzOlt7ZGltczpyP3Iobik6bixkYXRhVHlwZTplWzBdLmRhdGFUeXBlfV19KSxnZXRTaGFkZXJTb3VyY2U6YT0+Z2woYSxlLHQsbixvLHVbMV09PT0xJiZ1WzJdPT09MSwhMSxsKX19fSk7dmFyIHlsLGJsLHdsLFppLFFpLHZsLCRsLFNsLHhsLFhpLEppPWooKCk9PnsidXNlIHN0cmljdCI7amUoKTtLaSgpO1lpKCk7SXQoKTtqdCgpO3lsPShlLHQscixvLG4scyk9PihlLTEpKnQrcisoby0xKSpuKzEtcyxibD0oZSx0LHIsbyxuKT0+e2xldCBzPU1hdGguZmxvb3IoZS8yKTt0PT09IlNBTUVfVVBQRVIiPyhyW29dPXMscltuXT1lLXMpOnQ9PT0iU0FNRV9MT1dFUiImJihyW29dPWUtcyxyW25dPXMpfSx3bD0oZSx0LHIsbyxuLHMsdSxsLGEscCk9PntsZXQgaD1lLmxlbmd0aC0yLGc9cC5sZW5ndGg9PT0wO2lmKGEubGVuZ3RoPT09MClmb3IobGV0IHk9MDt5PGg7Kyt5KWEucHVzaCgwKTtsZXQgYj1lWzBdLHc9dFtsPzM6MV0qbjtmb3IobGV0IHk9MCxfPWUubGVuZ3RoLWgtKGw/MTowKTt5PGg7Kyt5LCsrXyl7bGV0IEk9ZVtfXSwkPWc/SSp1W3ldOnBbeV0seD15bChJLHVbeV0sc1t5XSx0W19dLHJbeV0sJCk7YmwoeCxvLHMseSx5K2gpLGcmJnAucHVzaCh1W3ldKihJLTEpK2FbeV0rKHRbX10tMSkqclt5XSsxLXNbeV0tc1t5K2hdKX1wLnNwbGljZSgwLDAsYikscC5zcGxpY2UobD8zOjEsMCx3KX0sWmk9KGUsdCk9PntsZXQgcj1lLmtlcm5lbFNoYXBlLnNsaWNlKCk7aWYoZS5rZXJuZWxTaGFwZS5sZW5ndGg9PT0wfHxlLmtlcm5lbFNoYXBlLnJlZHVjZSgoYix3KT0+Yip3LDEpPT09MCl7ci5sZW5ndGg9MDtmb3IobGV0IGI9MjtiPHRbMV0uZGltcy5sZW5ndGg7KytiKXIucHVzaCh0WzFdLmRpbXNbYl0pfWxldCBvPWUuZm9ybWF0PT09Ik5IV0MiO3Iuc3BsaWNlKDAsMCx0WzFdLmRpbXNbMF0pLHIuc3BsaWNlKG8/MzoxLDAsdFsxXS5kaW1zWzFdKTtsZXQgbj1lLnBhZHMuc2xpY2UoKSxzPWUub3V0cHV0U2hhcGUuc2xpY2UoKSx1PWUub3V0cHV0UGFkZGluZy5zbGljZSgpLGw9dFswXS5kaW1zLGE9ZS5kaWxhdGlvbnMuc2xpY2UoKTtpZihhLnJlZHVjZSgoYix3KT0+Yit3LDApPT09MCl7bGV0IGI9dFswXS5kaW1zLmxlbmd0aC0yO2E9bmV3IEFycmF5KGIpLmZpbGwoMSl9bGV0IHA9ZS5zdHJpZGVzLnNsaWNlKCk7aWYocC5yZWR1Y2UoKGIsdyk9PmIrdywwKT09PTApe2xldCBiPXRbMF0uZGltcy5sZW5ndGgtMjtwPW5ldyBBcnJheShiKS5maWxsKDEpfXdsKGwscixhLGUuYXV0b1BhZCxlLmdyb3VwLG4scCxvLHUscyk7bGV0IGg9T2JqZWN0LmFzc2lnbih7fSxlKSxnPWUuY2FjaGVLZXkrW3Iuam9pbigibiwiKSxuLmpvaW4oIiwiKSxwLmpvaW4oIiwiKSx1LmpvaW4oIiwiKSxzLmpvaW4oIiwiKSxhLmpvaW4oIiwiKV0uam9pbigiXyIpO3JldHVybiBPYmplY3QuYXNzaWduKGgse2tlcm5lbFNoYXBlOnIscGFkczpuLG91dHB1dFBhZGRpbmc6dSxvdXRwdXRTaGFwZTpzLGRpbGF0aW9uczphLHN0cmlkZXM6cCxjYWNoZUtleTpnfSksaH0sUWk9ZT0+e2xldCB0PVFyKGUpLHI9ZS5mb3JtYXQsbz1bIk5PVFNFVCIsIlZBTElEIiwiU0FNRV9VUFBFUiIsIlNBTUVfTE9XRVIiXVt0eXBlb2YgZS5hdXRvUGFkPiJ1Ij8wOmUuYXV0b1BhZF0sbj1lLmRpbGF0aW9ucyxzPWUuZ3JvdXAsdT1lLmtlcm5lbFNoYXBlLGw9ZS5wYWRzLGE9ZS5zdHJpZGVzLHA9ZS53SXNDb25zdCgpLGg9ZS5vdXRwdXRQYWRkaW5nLGc9ZS5vdXRwdXRTaGFwZTtyZXR1cm4gZ2Uoe2F1dG9QYWQ6byxmb3JtYXQ6cixkaWxhdGlvbnM6bixncm91cDpzLGtlcm5lbFNoYXBlOnUsb3V0cHV0UGFkZGluZzpoLG91dHB1dFNoYXBlOmcscGFkczpsLHN0cmlkZXM6YSx3SXNDb25zdDpwLC4uLnR9KX0sdmw9KGUsdCk9PntpZighZXx8ZS5sZW5ndGghPT0yJiZlLmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKCJDb252IHJlcXVpcmVzIDIgb3IgMyBpbnB1dHMiKTtpZihlWzBdLmRpbXMubGVuZ3RoIT09NCYmZVswXS5kaW1zLmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKCJjdXJyZW50bHkgb25seSBzdXBwb3J0IDItZGltZW5zaW9uYWwgY29udiIpO2lmKGVbMF0uZGltcy5sZW5ndGghPT1lWzFdLmRpbXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiZmlsdGVyIGRvZXMgbm90IGhhdmUgc2FtZSBkaW1lbnNpb24gYXMgaW5wdXQiKTtsZXQgcj1lWzBdLmRpbXNbdC5mb3JtYXQ9PT0iTkhXQyI/ZVswXS5kaW1zLmxlbmd0aC0xOjFdLG89ZVsxXS5kaW1zWzBdO2lmKHIhPT1vKXRocm93IG5ldyBFcnJvcigiRklMVEVSX0lOX0NIQU5ORUwgc2hvdWxkIGJlIGVxdWFsIHRvIERBVEFfQ0hBTk5FTCIpO2xldCBuPWVbMV0uZGltc1sxXSp0Lmdyb3VwO2lmKGUubGVuZ3RoPT09MyYmKGVbMl0uZGltcy5sZW5ndGghPT0xfHxlWzJdLmRpbXNbMF0hPT1uKSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgYmlhcyIpO2xldCBzPWVbMF0uZGltcy5sZW5ndGgtMjtpZih0LmRpbGF0aW9ucy5yZWR1Y2UoKGgsZyk9PmgrZywwKT4wJiZ0LmRpbGF0aW9ucy5sZW5ndGghPT1zKXRocm93IG5ldyBFcnJvcihgZGlsYXRpb25zIHNob3VsZCBiZSAke3N9RGApO2lmKHQuc3RyaWRlcy5yZWR1Y2UoKGgsZyk9PmgrZywwKT4wJiZ0LnN0cmlkZXMubGVuZ3RoIT09cyl0aHJvdyBuZXcgRXJyb3IoYHN0cmlkZXMgc2hvdWxkIGJlICR7c31EYCk7aWYodC5wYWRzLnJlZHVjZSgoaCxnKT0+aCtnLDApPjAmJnQucGFkcy5sZW5ndGghPT1zKjIpdGhyb3cgbmV3IEVycm9yKGBwYWRzIHNob3VsZCBiZSAke3MqMn1EYCk7aWYodC5vdXRwdXRQYWRkaW5nLmxlbmd0aCE9PXMmJnQub3V0cHV0UGFkZGluZy5sZW5ndGghPT0wKXRocm93IG5ldyBFcnJvcihgb3V0cHV0X3BhZGRpbmcgc2hvdWxkIGJlICR7c31EYCk7aWYodC5rZXJuZWxTaGFwZS5yZWR1Y2UoKGgsZyk9PmgrZywwKT4wJiZ0Lmtlcm5lbFNoYXBlLmxlbmd0aCE9PTAmJnQua2VybmVsU2hhcGUubGVuZ3RoIT09ZVsxXS5kaW1zLmxlbmd0aC0yKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBrZXJuZWwgc2hhcGUiKTtpZih0Lm91dHB1dFNoYXBlLmxlbmd0aCE9PTAmJnQub3V0cHV0U2hhcGUubGVuZ3RoIT09ZVswXS5kaW1zLmxlbmd0aC0yKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBvdXRwdXQgc2hhcGUiKX0sJGw9WzIsMywxLDBdLFNsPShlLHQscik9PntsZXQgbz1aaShyLHQpLG49ci5mb3JtYXQ9PT0iTkhXQyIscz1vLm91dHB1dFNoYXBlLHU9c1tuPzM6MV0sbD10WzBdLmRpbXNbbj8zOjFdO2lmKG8uZ3JvdXAhPT0xfHx1PT09MSYmbD09PTEpe2UuY29tcHV0ZShLbih0LG8pKTtyZXR1cm59bGV0IGE9c1tuPzE6Ml0scD1zW24/MjozXSxoPXRbMV0uZGltc1syXSxnPXRbMV0uZGltc1szXSxiPW4/YSpwOnUsdz1uP3U6YSpwLHk9aCpnKmwsXz0hMCxJPWUua2VybmVsQ3VzdG9tRGF0YS53VD8/ZS5jb21wdXRlKGl0KHRbMV0sJGwpLHtpbnB1dHM6WzFdLG91dHB1dHM6W3Iud0lzQ29uc3Q/LTI6LTFdfSlbMF07ci53SXNDb25zdCYmIWUua2VybmVsQ3VzdG9tRGF0YS53VCYmKGUua2VybmVsQ3VzdG9tRGF0YS53VD1JKTtsZXQgJD1bdFswXSxJXSx4PXQubGVuZ3RoPT09Mzt4JiYoIW4mJnRbMl0uZGltcy5sZW5ndGg9PT0xPyQucHVzaCh0WzJdLnJlc2hhcGUoW3RbMl0uZGltc1swXSwxLDFdKSk6JC5wdXNoKHRbMl0pKSxlLmNvbXB1dGUocWkoJCxvLHMsYix3LHkseCxfKSx7aW5wdXRzOiR9KX0seGw9KGUsdCk9PntsZXQgcj10LmZvcm1hdD09PSJOSFdDIixvPVtlLmlucHV0c1swXS5yZXNoYXBlKHI/W2UuaW5wdXRzWzBdLmRpbXNbMF0sMSxlLmlucHV0c1swXS5kaW1zWzFdLGUuaW5wdXRzWzBdLmRpbXNbMl1dOltlLmlucHV0c1swXS5kaW1zWzBdLGUuaW5wdXRzWzBdLmRpbXNbMV0sMSxlLmlucHV0c1swXS5kaW1zWzJdXSksZS5pbnB1dHNbMV0ucmVzaGFwZShbZS5pbnB1dHNbMV0uZGltc1swXSxlLmlucHV0c1sxXS5kaW1zWzFdLDEsZS5pbnB1dHNbMV0uZGltc1syXV0pXTtvLmxlbmd0aD09PTMmJm8ucHVzaChlLmlucHV0c1syXSk7bGV0IG49dC5rZXJuZWxTaGFwZTsobi5sZW5ndGg9PT0wfHxuWzBdPT09MCkmJihuPVtlLmlucHV0c1sxXS5kaW1zWzJdXSk7bGV0IHM9dC5kaWxhdGlvbnM7KHMubGVuZ3RoPT09MHx8c1swXT09PTApJiYocz1bMV0pO2xldCB1PXQuc3RyaWRlczsodS5sZW5ndGg9PT0wfHx1WzBdPT09MCkmJih1PVsxXSk7bGV0IGw9dC5wYWRzO2wubGVuZ3RoPT09MCYmKGw9WzAsMF0pLGw9WzAsbFswXSwwLGxbMV1dLHU9WzFdLmNvbmNhdCh1KSxzPVsxXS5jb25jYXQocyksbj1bMV0uY29uY2F0KG4pO2xldCBhPVppKHsuLi50LHBhZHM6bCxzdHJpZGVzOnUsZGlsYXRpb25zOnMsa2VybmVsU2hhcGU6bn0sbyk7ZS5jb21wdXRlKEtuKG8sYSxwPT5yP1twWzBdLHBbMl0scFszXV06W3BbMF0scFsxXSxwWzNdXSkpfSxYaT0oZSx0KT0+e3ZsKGUuaW5wdXRzLHQpLGUuaW5wdXRzWzBdLmRpbXMubGVuZ3RoPT09Mz94bChlLHQpOlNsKGUsZS5pbnB1dHMsdCl9fSk7dmFyIF9sLGVzLHRzLHJzPWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTskZSgpO2plKCk7dmUoKTtfbD0oZSx0LHIsbyk9PntsZXQgbj1VLnNpemUodCkscz10Lmxlbmd0aCx1PU0oImlucHV0IixlLHMpLGw9Rigib3V0cHV0IixlLHMpLGE9ci5kYXRhVHlwZT09PTY/ci5nZXRJbnQzMkFycmF5KClbMF06TnVtYmVyKHIuZ2V0QmlnSW50NjRBcnJheSgpWzBdKSxwPVUubm9ybWFsaXplQXhpcyhhLHMpLGg9Zz0+e2xldCBiPWAgaTMyKCR7dS5pbmRpY2VzR2V0KCJpbnB1dEluZGljZXMiLCJ1bmlmb3Jtcy5heGlzIil9KSBgLHc9Y2UoInVuaWZvcm1zLmlucHV0X3NoYXBlIiwidW5pZm9ybXMuYXhpcyIscykseT1vLnJldmVyc2U/Yisoby5leGNsdXNpdmU/IiArIDEiOiIiKToiMCIsXz1vLnJldmVyc2U/dzpiKyhvLmV4Y2x1c2l2ZT8iIjoiICsgMSIpO3JldHVybmBcbiAgICAgICAgICAgICAgICAke2cucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRTaXplIiwidTMyIikucmVnaXN0ZXJVbmlmb3JtKCJheGlzIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyh1LGwpfVxuICAgICAgICAgICAgICAgICR7Zy5tYWluU3RhcnQoKX1cbiAgICAgICAgICAgICAgICAgICR7Zy5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9XG4gICAgICAgICAgICAgICAgICB2YXIgaW5wdXRJbmRpY2VzID0gJHtsLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcbiAgICAgICAgICAgICAgICAgIHZhciBzdW0gPSAke2wudHlwZS52YWx1ZX0oMCk7XG4gICAgICAgICAgICAgICAgICBsZXQgZmlyc3QgOiBpMzIgPSAke3l9O1xuICAgICAgICAgICAgICAgICAgbGV0IGxhc3QgOiBpMzIgPSAke199O1xuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA6IGkzMiA9IGZpcnN0OyBpIDwgbGFzdDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICR7dS5pbmRpY2VzU2V0KCJpbnB1dEluZGljZXMiLCJ1bmlmb3Jtcy5heGlzIiwidTMyKGkpIil9O1xuICAgICAgICAgICAgICAgICAgICBzdW0gPSBzdW0gKyAke3UuZ2V0QnlJbmRpY2VzKCJpbnB1dEluZGljZXMiKX07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAke2wuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJzdW0iKX07XG4gICAgICAgICAgICAgICAgfWB9O3JldHVybntuYW1lOiJDdW1TdW0iLHNoYWRlckNhY2hlOntoaW50Om8uY2FjaGVLZXksaW5wdXREZXBlbmRlbmNpZXM6WyJyYW5rIl19LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6dCxkYXRhVHlwZTplfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwobi82NCl9LHByb2dyYW1Vbmlmb3Jtczpbe3R5cGU6InVpbnQzMiIsZGF0YTpufSx7dHlwZToiaW50MzIiLGRhdGE6cH0sLi4uTCh0KSwuLi5MKHQpXX0pLGdldFNoYWRlclNvdXJjZTpofX0sZXM9KGUsdCk9PntsZXQgcj1lLmlucHV0c1swXS5kaW1zLG89ZS5pbnB1dHNbMF0uZGF0YVR5cGUsbj1lLmlucHV0c1sxXTtlLmNvbXB1dGUoX2wobyxyLG4sdCkse2lucHV0czpbMF19KX0sdHM9ZT0+e2xldCB0PWUuZXhjbHVzaXZlPT09MSxyPWUucmV2ZXJzZT09PTE7cmV0dXJuIGdlKHtleGNsdXNpdmU6dCxyZXZlcnNlOnJ9KX19KTt2YXIgWW4scm4sbnMsQ2wsSWwsWm4sUW4sb3MsQWwsYXMsaXMsc3M9aigoKT0+eyJ1c2Ugc3RyaWN0IjskZSgpO2plKCk7dmUoKTtZbj0iW2EtekEtWl18XFxcXC5cXFxcLlxcXFwuIixybj0iKCIrWW4rIikrIixucz0iXiIrcm4rIiQiLENsPSIoIitybisiLCkqIitybixJbD0iXiIrQ2wrIiQiLFpuPWNsYXNze2NvbnN0cnVjdG9yKHQ9LTEpe3RoaXMuc3ltYm9sVG9JbmRpY2VzPW5ldyBNYXAsdGhpcy5pbnB1dEluZGV4PXR9YWRkU3ltYm9sKHQscil7bGV0IG89dGhpcy5zeW1ib2xUb0luZGljZXMuZ2V0KHQpO289PT12b2lkIDA/bz1bcl06by5wdXNoKHIpLHRoaXMuc3ltYm9sVG9JbmRpY2VzLnNldCh0LG8pfX0sUW49Y2xhc3N7Y29uc3RydWN0b3IodCxyKXt0aGlzLmVxdWF0aW9uPXI7dGhpcy5oYXNFbGxpcHNpcz0hMSx0aGlzLnN5bWJvbFRvSW5mbz1uZXcgTWFwLHRoaXMubGhzPW5ldyBBcnJheSx0aGlzLm91dHB1dERpbXM9W107bGV0W28sbl09ci5pbmNsdWRlcygiLT4iKT9yLnNwbGl0KCItPiIsMik6W3IsIiJdO2lmKCFvLm1hdGNoKFJlZ0V4cChJbCkpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBMSFMgdGVybSIpO2lmKG8uc3BsaXQoIiwiKS5mb3JFYWNoKChsLGEpPT57bGV0IHA9dFthXS5kaW1zLnNsaWNlKCk7aWYoIWwubWF0Y2goUmVnRXhwKG5zKSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIExIUyB0ZXJtIik7bGV0IGg9dGhpcy5wcm9jZXNzVGVybShsLCEwLHAsYSk7dGhpcy5saHMucHVzaChoKX0pLG49PT0iIiluKz1bLi4udGhpcy5zeW1ib2xUb0luZm8uZW50cmllcygpXS5maWx0ZXIoKFtsLGFdKT0+YS5jb3VudD09PTF8fGw9PT0iLi4uIikubWFwKChbbF0pPT5sKS5qb2luKCIiKTtlbHNlIGlmKCFuLm1hdGNoKFJlZ0V4cChybikpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBSSFMiKTtuLm1hdGNoKFJlZ0V4cChZbiwiZyIpKT8uZm9yRWFjaChsPT57aWYobD09PSIuLi4iKXRoaXMub3V0cHV0RGltcz10aGlzLm91dHB1dERpbXMuY29uY2F0KHRoaXMuZWxsaXBzaXNEaW1zKTtlbHNle2xldCBhPXRoaXMuc3ltYm9sVG9JbmZvLmdldChsKTtpZihhPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBSSFMgc3ltYm9sIik7dGhpcy5vdXRwdXREaW1zLnB1c2goYS5kaW1WYWx1ZSl9fSksdGhpcy5yaHM9dGhpcy5wcm9jZXNzVGVybShuLCExLHRoaXMub3V0cHV0RGltcyl9YWRkU3ltYm9sKHQscixvKXtsZXQgbj10aGlzLnN5bWJvbFRvSW5mby5nZXQodCk7aWYobiE9PXZvaWQgMCl7aWYobi5kaW1WYWx1ZSE9PXImJm4uY291bnQhPT0xKXRocm93IG5ldyBFcnJvcigiRGltZW5zaW9uIG1pc21hdGNoIik7bi5jb3VudCsrLG4uaW5wdXRJbmRpY2VzLnB1c2gobyl9ZWxzZSBuPXtjb3VudDoxLGRpbVZhbHVlOnIsaW5wdXRJbmRpY2VzOltvXX07dGhpcy5zeW1ib2xUb0luZm8uc2V0KHQsbil9cHJvY2Vzc1Rlcm0odCxyLG8sbj0tMSl7bGV0IHM9by5sZW5ndGgsdT0hMSxsPVtdLGE9MDtpZighdC5tYXRjaChSZWdFeHAobnMpKSYmIXImJnQhPT0iIil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgTEhTIHRlcm0iKTtsZXQgcD10Lm1hdGNoKFJlZ0V4cChZbiwiZyIpKSxoPW5ldyBabihuKTtyZXR1cm4gcD8uZm9yRWFjaCgoZyxiKT0+e2lmKGc9PT0iLi4uIil7aWYodSl0aHJvdyBuZXcgRXJyb3IoIk9ubHkgb25lIGVsbGlwc2lzIGlzIGFsbG93ZWQgcGVyIGlucHV0IHRlcm0iKTt1PSEwO2xldCB3PXMtcC5sZW5ndGgrMTtpZih3PDApdGhyb3cgbmV3IEVycm9yKCJFbGxpcHNpcyBvdXQgb2YgYm91bmRzIik7aWYobD1vLnNsaWNlKGEsYSt3KSx0aGlzLmhhc0VsbGlwc2lzKXtpZih0aGlzLmVsbGlwc2lzRGltcy5sZW5ndGghPT1sLmxlbmd0aHx8dGhpcy5lbGxpcHNpc0RpbXMudG9TdHJpbmcoKSE9PWwudG9TdHJpbmcoKSl0aHJvdyBuZXcgRXJyb3IoIkVsbGlwc2lzIGRpbWVuc2lvbnMgbWlzbWF0Y2giKX1lbHNlIGlmKHIpdGhpcy5oYXNFbGxpcHNpcz0hMCx0aGlzLmVsbGlwc2lzRGltcz1sO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJFbGxpcHNpcyBtdXN0IGJlIHNwZWNpZmllZCBpbiB0aGUgTEhTIik7Zm9yKGxldCB5PTA7eTxsLmxlbmd0aDt5Kyspe2xldCBfPVN0cmluZy5mcm9tQ2hhckNvZGUoIjAiLmNoYXJDb2RlQXQoMCkreSk7aC5hZGRTeW1ib2woXyxiK3kpLHRoaXMuYWRkU3ltYm9sKF8sb1thKytdLG4pfX1lbHNlIGguYWRkU3ltYm9sKGcsYisodGhpcy5oYXNFbGxpcHNpcz90aGlzLmVsbGlwc2lzRGltcy5sZW5ndGgtMTowKSksdGhpcy5hZGRTeW1ib2woZyxvW2ErK10sbil9KSxofX0sb3M9ZT0+ZSsiX21heCIsQWw9KGUsdCxyLG8sbik9PntsZXQgdT10Lm1hcCgodyx5KT0+ZVt5XT93Lmxlbmd0aDp3KS5tYXAoKHcseSk9Pk0oYGlucHV0JHt5fWAscix3KSksbD1VLnNpemUobiksYT1SZShuLmxlbmd0aCkscD1hP24ubGVuZ3RoOm4saD1GKCJvdXRwdXQiLHIscCksZz1bLi4uby5zeW1ib2xUb0luZm8ua2V5cygpXS5maWx0ZXIodz0+IW8ucmhzLnN5bWJvbFRvSW5kaWNlcy5oYXModykpLGI9dz0+e2xldCB5PVtdLF89InZhciBwcm9kID0gMS4wOyIsST0idmFyIHN1bSA9IDAuMDsiLCQ9InN1bSArPSBwcm9kOyIseD1bXSxFPVtdLEE9W10sej1bXSxSPW8uc3ltYm9sVG9JbmZvLnNpemU9PT1vLnJocy5zeW1ib2xUb0luZGljZXMuc2l6ZTtvLnN5bWJvbFRvSW5mby5mb3JFYWNoKChULE4pPT57aWYoby5yaHMuc3ltYm9sVG9JbmRpY2VzLmhhcyhOKSl7bGV0IHRlPW8ucmhzLnN5bWJvbFRvSW5kaWNlcy5nZXQoTik/LlswXTt0ZSE9PXZvaWQgMCYmby5saHMuZm9yRWFjaCgoWSxLKT0+e2lmKFQuaW5wdXRJbmRpY2VzLmluY2x1ZGVzKEspKXtsZXQgUT1ZLnN5bWJvbFRvSW5kaWNlcy5nZXQoTik7aWYoUT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3ltYm9sIGVycm9yIik7US5mb3JFYWNoKFo9Pnt5LnB1c2goYCR7dVtLXS5pbmRpY2VzU2V0KGBpbnB1dCR7S31JbmRpY2VzYCxaLGguaW5kaWNlc0dldCgib3V0cHV0SW5kaWNlcyIsdGUpKX1gKX0pfX0pfWVsc2Ugby5saHMuZm9yRWFjaCgodGUsWSk9PntpZihULmlucHV0SW5kaWNlcy5pbmNsdWRlcyhZKSl7bGV0IEs9dGUuc3ltYm9sVG9JbmRpY2VzLmdldChOKTtpZihLPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzeW1ib2wgZXJyb3IiKTtLLmZvckVhY2goUT0+e3gucHVzaChgJHt1W1ldLmluZGljZXNTZXQoYGlucHV0JHtZfUluZGljZXNgLFEsYCR7Tn1gKX1gKX0pLHoucHVzaChgcHJvZCAqPSAke3VbWV0uZ2V0QnlJbmRpY2VzKGBpbnB1dCR7WX1JbmRpY2VzYCl9O2ApfX0pLEUucHVzaChgZm9yKHZhciAke059OiB1MzIgPSAwOyAke059IDwgdW5pZm9ybXMuJHtvcyhOKX07ICR7Tn0rKykge2ApLEEucHVzaCgifSIpfSk7bGV0IFY9Uj9bLi4ueSxgbGV0IHN1bSA9ICR7dS5tYXAoKFQsTik9PlQuZ2V0QnlJbmRpY2VzKGBpbnB1dCR7Tn1JbmRpY2VzYCkpLmpvaW4oIiAqICIpfTtgXTpbLi4ueSxJLC4uLkUsLi4ueCxfLC4uLnosJCwuLi5BXTtyZXR1cm5gXG4gICAgICAgICAgICAke3cucmVnaXN0ZXJVbmlmb3JtcyhnLm1hcChUPT4oe25hbWU6YCR7b3MoVCl9YCx0eXBlOiJ1MzIifSkpKS5yZWdpc3RlclVuaWZvcm0oIm91dHB1dFNpemUiLCJ1MzIiKS5kZWNsYXJlVmFyaWFibGVzKC4uLnUsaCl9XG5cbiAgICAgICAgICAgICR7dy5tYWluU3RhcnQoKX1cbiAgICAgICAgICAgICR7dy5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9XG4gICAgICAgICAgICB2YXIgb3V0cHV0SW5kaWNlcyA9ICR7aC5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07XG4gICAgICAgICAgICAke3UubWFwKChULE4pPT5gdmFyIGlucHV0JHtOfUluZGljZXM6ICR7dVtOXS50eXBlLmluZGljZXN9O2ApLmpvaW4oYFxuYCl9XG4gICAgICAgICAgICAke1Yuam9pbihgXG5gKX07XG4gICAgICAgICAgICAke2guc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJzdW0iKX07XG4gICAgICAgICAgfWB9O3JldHVybntuYW1lOiJFaW5zdW0iLHNoYWRlckNhY2hlOntoaW50Om8uZXF1YXRpb24saW5wdXREZXBlbmRlbmNpZXM6ZS5tYXAodz0+dz8icmFuayI6ImRpbXMiKX0sZ2V0UnVuRGF0YTooKT0+e2xldCB3PWcuZmlsdGVyKF89Pm8uc3ltYm9sVG9JbmZvLmhhcyhfKSkubWFwKF89Pih7dHlwZToidWludDMyIixkYXRhOm8uc3ltYm9sVG9JbmZvLmdldChfKT8uZGltVmFsdWV8fDB9KSk7dy5wdXNoKHt0eXBlOiJ1aW50MzIiLGRhdGE6bH0pO2xldCB5PXQuZmlsdGVyKChfLEkpPT5lW0ldKS5tYXAoKF8sSSk9PlsuLi5MKF8pXSkucmVkdWNlKChfLEkpPT5fLmNvbmNhdChJKSx3KTtyZXR1cm4gYSYmeS5wdXNoKC4uLkwobikpLHtvdXRwdXRzOlt7ZGltczpuLGRhdGFUeXBlOnJ9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChsLzY0KX0scHJvZ3JhbVVuaWZvcm1zOnl9fSxnZXRTaGFkZXJTb3VyY2U6Yn19LGFzPShlLHQpPT57bGV0IHI9bmV3IFFuKGUuaW5wdXRzLHQuZXF1YXRpb24pLG89ZS5pbnB1dHMubWFwKCh1LGwpPT5SZSh1LmRpbXMubGVuZ3RoKSksbj1yLm91dHB1dERpbXMscz1lLmlucHV0cy5tYXAoKHUsbCk9PnUuZGltcyk7ZS5jb21wdXRlKEFsKG8scyxlLmlucHV0c1swXS5kYXRhVHlwZSxyLG4pKX0saXM9ZT0+e2xldCB0PWUuZXF1YXRpb24ucmVwbGFjZSgvXFxzKy9nLCIiKTtyZXR1cm4gZ2Uoe2VxdWF0aW9uOnR9KX19KTt2YXIgVGwsdXMsRWwsT2wsZHMsbHM9aigoKT0+eyJ1c2Ugc3RyaWN0IjtOZSgpOyRlKCk7dmUoKTtUbD1lPT57aWYoIWV8fGUubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoIkV4cGFuZCByZXF1aXJlcyAyIGlucHV0LiIpO2xldCB0PWVbMF0uZGltcyxyPUFycmF5LmZyb20oZVsxXS5nZXRCaWdJbnQ2NEFycmF5KCksTnVtYmVyKSxvPXIubGVuZ3RoPHQubGVuZ3RoPzA6ci5sZW5ndGgtdC5sZW5ndGgsbj10Lmxlbmd0aDxyLmxlbmd0aD8wOnQubGVuZ3RoLXIubGVuZ3RoO2Zvcig7bzxyLmxlbmd0aCYmbjx0Lmxlbmd0aDsrK28sKytuKWlmKHJbb10hPT10W25dJiZyW29dIT09MSYmdFtuXSE9PTEpdGhyb3cgbmV3IEVycm9yKCJFeHBhbmQgcmVxdWlyZXMgc2hhcGUgdG8gYmUgYnJvYWRjYXN0YWJsZSB0byBpbnB1dCIpfSx1cz0oZSx0KT0+e2xldCByPWUubGVuZ3RoLXQubGVuZ3RoLG89W107Zm9yKGxldCBuPTA7bjxyOysrbilvLnB1c2goZVtuXSk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDsrK24pby5wdXNoKHRbbl09PT0xP2VbbityXTp0W25dKTtyZXR1cm4gb30sRWw9KGUsdCk9PmUubGVuZ3RoPnQubGVuZ3RoP3VzKGUsdCk6dXModCxlKSxPbD1lPT57bGV0IHQ9ZVswXS5kaW1zLHI9QXJyYXkuZnJvbShlWzFdLmdldEJpZ0ludDY0QXJyYXkoKSxOdW1iZXIpLG89RWwodCxyKSxuPWVbMF0uZGF0YVR5cGUscz1uPT09OT80OjEsdT1NYXRoLmNlaWwoVS5zaXplKG8pL3MpLGw9UmUodC5sZW5ndGgpLGE9UmUoby5sZW5ndGgpLHA9Zz0+e2xldCBiPWw/dC5sZW5ndGg6dCx3PWE/by5sZW5ndGg6byx5PU0oImlucHV0IixuLGIscyksXz1GKCJvdXRwdXQiLG4sdyxzKSxJO2lmKG49PT05KXtsZXQgJD0oeCxFLEE9IiIpPT5gXG4gICAgICAgICAgbGV0IG91dHB1dEluZGljZXMke0V9ID0gJHtfLm9mZnNldFRvSW5kaWNlcyhgb3V0cHV0T2Zmc2V0ICsgJHtFfXVgKX07XG4gICAgICAgICAgbGV0IG9mZnNldCR7RX0gPSAke3kuYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQoYG91dHB1dEluZGljZXMke0V9YCxfKX07XG4gICAgICAgICAgbGV0IGluZGV4JHtFfSA9IG9mZnNldCR7RX0gLyA0dTtcbiAgICAgICAgICBsZXQgY29tcG9uZW50JHtFfSA9IG9mZnNldCR7RX0gJSA0dTtcbiAgICAgICAgICAke3h9WyR7RX1dID0gJHtBfSgke3kuZ2V0QnlPZmZzZXQoYGluZGV4JHtFfWApfVtjb21wb25lbnQke0V9XSk7XG4gICAgICAgIGA7ST1gXG4gICAgICAgIGxldCBvdXRwdXRPZmZzZXQgPSBnbG9iYWxfaWR4ICogJHtzfTtcbiAgICAgICAgdmFyIGRhdGEgPSB2ZWM0PHUzMj4oMCk7XG4gICAgICAgICR7JCgiZGF0YSIsMCwidTMyIil9XG4gICAgICAgICR7JCgiZGF0YSIsMSwidTMyIil9XG4gICAgICAgICR7JCgiZGF0YSIsMiwidTMyIil9XG4gICAgICAgICR7JCgiZGF0YSIsMywidTMyIil9XG4gICAgICAgICR7Xy5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsImRhdGEiKX1cbiAgICAgIH1gfWVsc2UgST1gXG4gICAgICAgIGxldCBvdXRwdXRJbmRpY2VzID0gJHtfLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcbiAgICAgICAgbGV0IGlucHV0T2Zmc2V0ID0gJHt5LmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KCJvdXRwdXRJbmRpY2VzIixfKX07XG4gICAgICAgICR7Xy5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIseS5nZXRCeU9mZnNldCgiaW5wdXRPZmZzZXQiKSl9XG4gICAgICB9YDtyZXR1cm5gXG4gICAgJHtnLnJlZ2lzdGVyVW5pZm9ybSgidmVjX3NpemUiLCJ1MzIiKS5kZWNsYXJlVmFyaWFibGVzKHksXyl9XG4gICAgJHtnLm1haW5TdGFydCgpfVxuICAgICR7Zy5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy52ZWNfc2l6ZSIpfVxuICAgICR7SX1gfSxoPVt7dHlwZToidWludDMyIixkYXRhOnV9XTtyZXR1cm4gbCYmaC5wdXNoKC4uLkwodCkpLGEmJmgucHVzaCguLi5MKG8pKSx7bmFtZToiRXhwYW5kIixzaGFkZXJDYWNoZTp7aGludDpgJHtvLmxlbmd0aH1gLGlucHV0RGVwZW5kZW5jaWVzOltsPyJyYW5rIjoiZGltcyJdfSxnZXRTaGFkZXJTb3VyY2U6cCxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOm8sZGF0YVR5cGU6ZVswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKHUvNjQpfSxwcm9ncmFtVW5pZm9ybXM6aH0pfX0sZHM9ZT0+e1RsKGUuaW5wdXRzKSxlLmNvbXB1dGUoT2woZS5pbnB1dHMpLHtpbnB1dHM6WzBdfSl9fSk7dmFyIFBsLGtsLGNzLHBzLG1zPWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTskZSgpO2plKCk7dmUoKTtQbD1lPT57aWYoIWV8fGUubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoIkdhdGhlciByZXF1aXJlcyAyIGlucHV0cy4iKX0sa2w9KGUsdCk9PntsZXQgcj1lWzBdLmRpbXMsbz1lWzFdLmRpbXMsbj1yLmxlbmd0aCxzPVUubm9ybWFsaXplQXhpcyh0LmF4aXMsbiksdT1yLnNsaWNlKDApO3Uuc3BsaWNlKHMsMSwuLi5vKTtsZXQgbD1yW3NdLGE9ZVswXS5kYXRhVHlwZT09PTk/NDoxLHA9TWF0aC5jZWlsKFUuc2l6ZSh1KS9hKSxoPVJlKGVbMF0uZGltcy5sZW5ndGgpLGc9aD9lWzBdLmRpbXMubGVuZ3RoOmVbMF0uZGltcyxiPVJlKGVbMV0uZGltcy5sZW5ndGgpLHc9Yj9lWzFdLmRpbXMubGVuZ3RoOmVbMV0uZGltcyx5PVJlKHUubGVuZ3RoKSxfPXk/dS5sZW5ndGg6dSxJPVt7dHlwZToidWludDMyIixkYXRhOnB9LHt0eXBlOiJpbnQzMiIsZGF0YTpsfSx7dHlwZToidWludDMyIixkYXRhOnN9XTtoJiZJLnB1c2goLi4uTChlWzBdLmRpbXMpKSxiJiZJLnB1c2goLi4uTChlWzFdLmRpbXMpKSx5JiZJLnB1c2goLi4uTCh1KSk7bGV0ICQ9W107JC5wdXNoKGg/InJhbmsiOiJkaW1zIiksJC5wdXNoKGI/InJhbmsiOiJkaW1zIik7bGV0IHg9RT0+e2xldCBBPU0oImRhdGEiLGVbMF0uZGF0YVR5cGUsZyxhKSx6PU0oImlucHV0SW5kaWNlcyIsZVsxXS5kYXRhVHlwZSx3KSxSPUYoIm91dHB1dCIsZVswXS5kYXRhVHlwZSxfLGEpLFY9Tj0+e2xldCB0ZT1vLmxlbmd0aCxZPWB2YXIgaW5kaWNlc0luZGljZXMke059ICA9ICR7ei50eXBlLmluZGljZXN9KDApO2A7Zm9yKGxldCBLPTA7Szx0ZTtLKyspWSs9YCR7dGU+MT9gaW5kaWNlc0luZGljZXMke059WyR7S31dYDpgaW5kaWNlc0luZGljZXMke059YH0gPSAke3UubGVuZ3RoPjE/YG91dHB1dEluZGljZXMke059W3VuaWZvcm1zLmF4aXMgKyAke0t9XWA6YG91dHB1dEluZGljZXMke059YH07YDtZKz1gXG4gICAgICAgICAgdmFyIGlkeCR7Tn0gPSAke3ouZ2V0QnlJbmRpY2VzKGBpbmRpY2VzSW5kaWNlcyR7Tn1gKX07XG4gICAgICAgICAgaWYgKGlkeCR7Tn0gPCAwKSB7XG4gICAgICAgICAgICBpZHgke059ID0gaWR4JHtOfSArIHVuaWZvcm1zLmF4aXNEaW1MaW1pdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGRhdGFJbmRpY2VzJHtOfSA9ICR7QS50eXBlLmluZGljZXN9KDApO1xuICAgICAgICBgO2ZvcihsZXQgSz0wLFE9MDtLPG47SysrKUs9PT1zPyhZKz1gJHtuPjE/YGRhdGFJbmRpY2VzJHtOfVske0t9XWA6YGRhdGFJbmRpY2VzJHtOfWB9ID0gdTMyKGlkeCR7Tn0pO2AsUSs9dGUpOihZKz1gJHtuPjE/YGRhdGFJbmRpY2VzJHtOfVske0t9XWA6YGRhdGFJbmRpY2VzJHtOfWB9ID0gJHt1Lmxlbmd0aD4xP2BvdXRwdXRJbmRpY2VzJHtOfVske1F9XWA6YG91dHB1dEluZGljZXMke059YH07YCxRKyspO3JldHVybiBZfSxUO2lmKGVbMF0uZGF0YVR5cGU9PT05KXtsZXQgTj0odGUsWSxLPSIiKT0+YFxuICAgICAgICAgIGxldCBvdXRwdXRJbmRpY2VzJHtZfSA9ICR7Ui5vZmZzZXRUb0luZGljZXMoYG91dHB1dE9mZnNldCArICR7WX11YCl9O1xuICAgICAgICAgICR7VihZKX07XG4gICAgICAgICAgbGV0IG9mZnNldCR7WX0gPSAke0EuaW5kaWNlc1RvT2Zmc2V0KGBkYXRhSW5kaWNlcyR7WX1gKX07XG4gICAgICAgICAgbGV0IGluZGV4JHtZfSA9IG9mZnNldCR7WX0gLyA0dTtcbiAgICAgICAgICBsZXQgY29tcG9uZW50JHtZfSA9IG9mZnNldCR7WX0gJSA0dTtcbiAgICAgICAgICAke3RlfVske1l9XSA9ICR7S30oJHtBLmdldEJ5T2Zmc2V0KGBpbmRleCR7WX1gKX1bY29tcG9uZW50JHtZfV0pO1xuICAgICAgICBgO1Q9YFxuICAgICAgICBsZXQgb3V0cHV0T2Zmc2V0ID0gZ2xvYmFsX2lkeCAqICR7YX07XG4gICAgICAgIHZhciB2YWx1ZSA9IHZlYzQ8dTMyPigwKTtcbiAgICAgICAgJHtOKCJ2YWx1ZSIsMCwidTMyIil9XG4gICAgICAgICR7TigidmFsdWUiLDEsInUzMiIpfVxuICAgICAgICAke04oInZhbHVlIiwyLCJ1MzIiKX1cbiAgICAgICAgJHtOKCJ2YWx1ZSIsMywidTMyIil9XG4gICAgICAgICR7Ui5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsInZhbHVlIil9XG4gICAgICBgfWVsc2UgVD1gXG4gICAgICBsZXQgb3V0cHV0SW5kaWNlcyA9ICR7Ui5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07XG4gICAgICAke1YoIiIpfTtcbiAgICAgIGxldCB2YWx1ZSA9ICR7QS5nZXRCeUluZGljZXMoImRhdGFJbmRpY2VzIil9O1xuICAgICAgJHtSLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwidmFsdWUiKX07XG4gICAgICBgO3JldHVybmBcbiAgICAgICR7RS5yZWdpc3RlclVuaWZvcm0oIm91dHB1dFNpemUiLCJ1MzIiKS5yZWdpc3RlclVuaWZvcm0oImF4aXNEaW1MaW1pdCIsImkzMiIpLnJlZ2lzdGVyVW5pZm9ybSgiYXhpcyIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMoQSx6LFIpfVxuICAgICAgJHtFLm1haW5TdGFydCgpfVxuICAgICAgICAke0UuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0U2l6ZSIpfVxuICAgICAgICAke1R9XG4gICAgICB9YH07cmV0dXJue25hbWU6IkdhdGhlciIsc2hhZGVyQ2FjaGU6e2hpbnQ6dC5jYWNoZUtleSxpbnB1dERlcGVuZGVuY2llczokfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnUsZGF0YVR5cGU6ZVswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKHAvNjQpfSxwcm9ncmFtVW5pZm9ybXM6SX0pLGdldFNoYWRlclNvdXJjZTp4fX0sY3M9ZT0+Z2Uoe2F4aXM6ZS5heGlzfSkscHM9KGUsdCk9PntsZXQgcj1lLmlucHV0cztQbChyKSxlLmNvbXB1dGUoa2woZS5pbnB1dHMsdCkpfX0pO3ZhciBSbCxCbCxmcyxocyxncz1qKCgpPT57InVzZSBzdHJpY3QiOyRlKCk7amUoKTt2ZSgpO1JsPWU9PntpZighZXx8ZS5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcigiR2F0aGVyRWxlbWVudHMgcmVxdWlyZXMgMiBpbnB1dHMuIik7aWYoZVswXS5kaW1zLmxlbmd0aDwxKXRocm93IG5ldyBFcnJvcigiR2F0aGVyRWxlbWVudHMgcmVxdWlyZXMgdGhhdCB0aGUgZGF0YSBpbnB1dCBiZSByYW5rID49IDEuIik7aWYoZVswXS5kaW1zLmxlbmd0aCE9PWVbMV0uZGltcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBHYXRoZXJFbGVtZW50cyByZXF1aXJlcyB0aGF0IHRoZSBkYXRhIGlucHV0IGFuZFxuICAgICAgICAgICAgICAgICAgICAgaW5kaWNlcyBpbnB1dCB0ZW5zb3JzIGJlIG9mIHNhbWUgcmFuay5gKX0sQmw9KGUsdCk9PntsZXQgcj1lWzBdLmRpbXMsbz1lWzBdLmRhdGFUeXBlLG49ci5sZW5ndGgscz1lWzFdLmRpbXMsdT1lWzFdLmRhdGFUeXBlLGw9VS5ub3JtYWxpemVBeGlzKHQuYXhpcyxuKSxhPXJbbF0scD1zLnNsaWNlKDApLGg9VS5zaXplKHApLGc9TSgiaW5wdXQiLG8sbiksYj1NKCJpbmRpY2VzSW5wdXQiLHUscy5sZW5ndGgpLHc9Rigib3V0cHV0IixvLHAubGVuZ3RoKSx5PVt7dHlwZToidWludDMyIixkYXRhOmh9LHt0eXBlOiJpbnQzMiIsZGF0YTphfSx7dHlwZToidWludDMyIixkYXRhOmx9XTtyZXR1cm4geS5wdXNoKC4uLkwocikpLHkucHVzaCguLi5MKHMpKSx5LnB1c2goLi4uTChwKSkse25hbWU6IkdhdGhlckVsZW1lbnRzIixzaGFkZXJDYWNoZTp7aW5wdXREZXBlbmRlbmNpZXM6WyJyYW5rIiwicmFuayJdfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnAsZGF0YVR5cGU6ZVswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGgvNjQpfSxwcm9ncmFtVW5pZm9ybXM6eX0pLGdldFNoYWRlclNvdXJjZTokPT5gXG4gICAgICAkeyQucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRTaXplIiwidTMyIikucmVnaXN0ZXJVbmlmb3JtKCJheGlzRGltTGltaXQiLCJpMzIiKS5yZWdpc3RlclVuaWZvcm0oImF4aXMiLCJ1MzIiKS5kZWNsYXJlVmFyaWFibGVzKGcsYix3KX1cbiAgICAgICR7JC5tYWluU3RhcnQoKX1cbiAgICAgICR7JC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9XG5cbiAgICAgIGxldCBvdXRwdXRJbmRpY2VzID0gJHt3Lm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcblxuICAgICAgdmFyIGlkeCA9ICR7Yi5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpfTtcbiAgICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgIGlkeCA9IGlkeCArIHVuaWZvcm1zLmF4aXNEaW1MaW1pdDtcbiAgICAgIH1cbiAgICAgIHZhciBpbnB1dEluZGljZXMgPSAke2cudHlwZS5pbmRpY2VzfShvdXRwdXRJbmRpY2VzKTtcbiAgICAgICR7Zy5pbmRpY2VzU2V0KCJpbnB1dEluZGljZXMiLCJ1bmlmb3Jtcy5heGlzIiwidTMyKGlkeCkiKX07XG4gICAgICBsZXQgdmFsdWUgPSAke2cuZ2V0QnlJbmRpY2VzKCJpbnB1dEluZGljZXMiKX07XG5cbiAgICAgICR7dy5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsInZhbHVlIil9O1xuICB9YH19LGZzPWU9PmdlKHtheGlzOmUuYXhpc30pLGhzPShlLHQpPT57bGV0IHI9ZS5pbnB1dHM7UmwociksZS5jb21wdXRlKEJsKGUuaW5wdXRzLHQpKX19KTt2YXIgRGwsTWwseXMsYnMsd3M9aigoKT0+eyJ1c2Ugc3RyaWN0IjskZSgpO3ZlKCk7RGw9ZT0+e2lmKCFlKXRocm93IG5ldyBFcnJvcigiSW5wdXQgaXMgbWlzc2luZyIpO2lmKGUubGVuZ3RoPDJ8fGUubGVuZ3RoPjMpdGhyb3cgbmV3IEVycm9yKCJJbnZhaWQgaW5wdXQgbnVtYmVyLiIpO2lmKGUubGVuZ3RoPT09MyYmZVsyXS5kaW1zLmxlbmd0aD4yKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCBzaGFwZSBvZiBDIik7aWYoZVswXS5kYXRhVHlwZSE9PWVbMV0uZGF0YVR5cGV8fGUubGVuZ3RoPT09MyYmZVswXS5kYXRhVHlwZSE9PWVbMl0uZGF0YVR5cGUpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCB0eXBlcyBhcmUgbWlzbWF0Y2hlZCIpfSxNbD0oZSx0KT0+e2xldCByPWVbMF0uZGltcy5zbGljZSgpLG89ZVsxXS5kaW1zLnNsaWNlKCksW24scyx1XT1Ici5nZXRTaGFwZU9mR2VtbVJlc3VsdChyLHQudHJhbnNBLG8sdC50cmFuc0IsZS5sZW5ndGg9PT0zP2VbMl0uZGltczp2b2lkIDApLGw9W24sc107aWYoIWwpdGhyb3cgbmV3IEVycm9yKCJDYW5cJ3QgdXNlIGdlbW0gb24gdGhlIGdpdmVuIHRlbnNvcnMiKTtsZXQgYT1VLnNpemUobCkscD1be3R5cGU6InVpbnQzMiIsZGF0YTphfSx7dHlwZToidWludDMyIixkYXRhOm59LHt0eXBlOiJ1aW50MzIiLGRhdGE6c30se3R5cGU6InVpbnQzMiIsZGF0YTp1fSx7dHlwZToiZmxvYXQzMiIsZGF0YTp0LmFscGhhfSx7dHlwZToiZmxvYXQzMiIsZGF0YTp0LmJldGF9XSxoPVsidHlwZSIsInR5cGUiXTtlLmxlbmd0aD09PTMmJihwLnB1c2goLi4uTChlWzJdLmRpbXMpKSxoLnB1c2goInJhbmsiKSkscC5wdXNoKC4uLkwobCkpO2xldCBnPWI9PntsZXQgdz0iIjt0LnRyYW5zQSYmdC50cmFuc0I/dz0idmFsdWUgKz0gYVtrICogdW5pZm9ybXMuTSArIG1dICogYltuICogdW5pZm9ybXMuSyArIGtdOyI6dC50cmFuc0EmJiF0LnRyYW5zQj93PSJ2YWx1ZSArPSBhW2sgKiB1bmlmb3Jtcy5NICsgbV0gKiBiW2sgKiB1bmlmb3Jtcy5OICsgbl07IjohdC50cmFuc0EmJnQudHJhbnNCP3c9InZhbHVlICs9IGFbbSAqIHVuaWZvcm1zLksgKyBrXSAqIGJbbiAqIHVuaWZvcm1zLksgKyBrXTsiOiF0LnRyYW5zQSYmIXQudHJhbnNCJiYodz0idmFsdWUgKz0gYVttICogdW5pZm9ybXMuSyArIGtdICogYltrICogdW5pZm9ybXMuTiArIG5dOyIpO2xldCB5PXQuYWxwaGE9PT0xPyIiOiJ2YWx1ZSAqPSB1bmlmb3Jtcy5hbHBoYTsiLF89TSgiYSIsZVswXS5kYXRhVHlwZSxlWzBdLmRpbXMpLEk9TSgiYiIsZVsxXS5kYXRhVHlwZSxlWzFdLmRpbXMpLCQ9Xy50eXBlLnZhbHVlLHg9bnVsbCxFPVtfLEldO2UubGVuZ3RoPT09MyYmKHg9TSgiYyIsZVsyXS5kYXRhVHlwZSxlWzJdLmRpbXMubGVuZ3RoKSxFLnB1c2goeCkpO2xldCBBPUYoIm91dHB1dCIsZVswXS5kYXRhVHlwZSxsLmxlbmd0aCk7RS5wdXNoKEEpO2xldCB6PVt7bmFtZToib3V0cHV0X3NpemUiLHR5cGU6InUzMiJ9LHtuYW1lOiJNIix0eXBlOiJ1MzIifSx7bmFtZToiTiIsdHlwZToidTMyIn0se25hbWU6IksiLHR5cGU6InUzMiJ9LHtuYW1lOiJhbHBoYSIsdHlwZToiZjMyIn0se25hbWU6ImJldGEiLHR5cGU6ImYzMiJ9XTtyZXR1cm5gXG4gICR7Yi5yZWdpc3RlclVuaWZvcm1zKHopLmRlY2xhcmVWYXJpYWJsZXMoLi4uRSl9XG5cbiAgJHtiLm1haW5TdGFydCgpfVxuICAgICR7Yi5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRfc2l6ZSIpfVxuXG4gICAgbGV0IG0gPSBnbG9iYWxfaWR4IC8gdW5pZm9ybXMuTjtcbiAgICBsZXQgbiA9IGdsb2JhbF9pZHggJSB1bmlmb3Jtcy5OO1xuXG4gICAgdmFyIHZhbHVlID0gJHskfSgwKTtcbiAgICBmb3IgKHZhciBrOiB1MzIgPSAwdTsgayA8IHVuaWZvcm1zLks7IGsrKykge1xuICAgICAgJHt3fVxuICAgIH1cblxuICAgICR7eX1cbiAgICAkeygoKT0+eCE9bnVsbD9gbGV0IGNPZmZzZXQgPSAke3guYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQoInZlYzIobSwgbikiLEEpfTsgdmFsdWUgKz0gJHskfSh1bmlmb3Jtcy5iZXRhKSAqICR7eC5nZXRCeU9mZnNldCgiY09mZnNldCIpfTtgOiIiKSgpfVxuICAgIG91dHB1dFtnbG9iYWxfaWR4XSA9IHZhbHVlO1xuICB9YH07cmV0dXJue25hbWU6IkdlbW0iLHNoYWRlckNhY2hlOntoaW50OmAke3QuY2FjaGVLZXl9YCxpbnB1dERlcGVuZGVuY2llczpofSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmwsZGF0YVR5cGU6ZVswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGEvNjQpfSxwcm9ncmFtVW5pZm9ybXM6cH0pLGdldFNoYWRlclNvdXJjZTpnfX0seXM9ZT0+e2xldCB0PWUudHJhbnNBLHI9ZS50cmFuc0Isbz1lLmFscGhhLG49ZS5iZXRhO3JldHVybnt0cmFuc0E6dCx0cmFuc0I6cixhbHBoYTpvLGJldGE6bixjYWNoZUtleTpgJHtlLnRyYW5zQX07JHtlLnRyYW5zQn07JHtlLmFscGhhPT09MX1gfX0sYnM9KGUsdCk9PntEbChlLmlucHV0cyksZS5jb21wdXRlKE1sKGUuaW5wdXRzLHQpKX19KTt2YXIgemwsVWwsVmwsdnMsJHM9aigoKT0+eyJ1c2Ugc3RyaWN0IjtOZSgpOyRlKCk7dmUoKTt6bD0oZSx0KT0+e2xldCByPWVbMF0uZGltcyxvPXIsbj0yLHM9VS5zaXplVG9EaW1lbnNpb24ocixuKSx1PVUuc2l6ZUZyb21EaW1lbnNpb24ocixuKSxsPUZlKHUpLGE9dS9sLHA9W3JbMF0sclsxXSxhXSxoPVsicmFuayIsInR5cGUiLCJ0eXBlIl0sZz1be3R5cGU6InVpbnQzMiIsZGF0YTp1fSx7dHlwZToidWludDMyIixkYXRhOmF9XTtnLnB1c2goLi4uTChwKSwuLi5MKHApKTtsZXQgYj13PT57bGV0IHk9TSgieCIsZVswXS5kYXRhVHlwZSxwLmxlbmd0aCxsKSxfPU0oInNjYWxlIixlWzFdLmRhdGFUeXBlLGVbMV0uZGltcyksST1NKCJiaWFzIixlWzJdLmRhdGFUeXBlLGVbMl0uZGltcyksJD1GKCJvdXRwdXQiLGVbMF0uZGF0YVR5cGUscC5sZW5ndGgsbCkseD1beSxfLEksJF0sRT15LnR5cGUudmFsdWUsQT1sPT09MT8iZjMyIjpgdmVjJHtsfTxmMzI+YCx6PTY0LFI9W3tuYW1lOiJub3JtU2l6ZSIsdHlwZToidTMyIn0se25hbWU6Im5vcm1QYWNrZWRTaXplIix0eXBlOiJ1MzIifV07cmV0dXJuYFxuICB2YXI8d29ya2dyb3VwPiBtZWFuU2hhcmVkIDogZjMyO1xuICB2YXI8d29ya2dyb3VwPiBzcXVhcmVkTm9ybVNoYXJlZCA6IGYzMjtcbiAgdmFyPHdvcmtncm91cD4gd29ya2dyb3VwU2hhcmVkIDogYXJyYXk8JHtBfSwgJHt6fT47XG4gIGNvbnN0IHdvcmtncm91cFNpemUgPSAke3p9dTtcbiAgJHt3LnJlZ2lzdGVyVW5pZm9ybXMoUikuZGVjbGFyZVZhcmlhYmxlcyguLi54KX1cbiAgJHt3Lm1haW5TdGFydCh6KX1cbiAgICBsZXQgbm9ybSA9IGdsb2JhbF9pZHggLyB3b3JrZ3JvdXBTaXplO1xuICAgIGxldCBiYXRjaCA9IG5vcm0gLyB1bmlmb3Jtcy54X3NoYXBlWzFdO1xuICAgIGxldCBjaGFubmVsID0gbm9ybSAlIHVuaWZvcm1zLnhfc2hhcGVbMV07XG4gICAgbGV0IGxvY2FsSW5kZXggPSBsb2NhbF9pZC54O1xuXG4gICAgLy8gaW5pdGlhbGl6ZSB3b3JrZ3JvdXAgbWVtb3J5XG4gICAgdmFyIGluaXRpYWwgPSAke0F9KDApO1xuICAgIGZvciAodmFyIGggPSBsb2NhbEluZGV4OyBoIDwgdW5pZm9ybXMubm9ybVBhY2tlZFNpemU7IGggKz0gd29ya2dyb3VwU2l6ZSkge1xuICAgICAgaW5pdGlhbCA9IGluaXRpYWwgKyAke0F9KCR7eS5nZXQoImJhdGNoIiwiY2hhbm5lbCIsImgiKX0pO1xuICAgIH1cbiAgICB3b3JrZ3JvdXBTaGFyZWRbbG9jYWxJbmRleF0gPSBpbml0aWFsO1xuICAgIHdvcmtncm91cEJhcnJpZXIoKTtcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgbWVhbiBvZiBjdXJyZW50IGNoYW5uZWwgZGF0YS5cbiAgICBmb3IgKHZhciBjdXJyU2l6ZSA9IHdvcmtncm91cFNpemUgPj4gMTsgIGN1cnJTaXplID4gMDsgY3VyclNpemUgPSBjdXJyU2l6ZSA+PiAxKSB7XG4gICAgICBpZiAobG9jYWxJbmRleCA8IGN1cnJTaXplKSB7XG4gICAgICAgIHdvcmtncm91cFNoYXJlZFtsb2NhbEluZGV4XSA9IHdvcmtncm91cFNoYXJlZFtsb2NhbEluZGV4XSArIHdvcmtncm91cFNoYXJlZFtsb2NhbEluZGV4ICsgY3VyclNpemVdO1xuICAgICAgfVxuICAgICAgd29ya2dyb3VwQmFycmllcigpO1xuICAgIH1cbiAgICBpZiAobG9jYWxJbmRleCA9PSAwKSB7XG4gICAgICBtZWFuU2hhcmVkID0gJHtKZSgid29ya2dyb3VwU2hhcmVkWzBdIixsKX0gLyBmMzIodW5pZm9ybXMubm9ybVNpemUpO1xuICAgIH1cbiAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG5cbiAgICAvLyByZWluaXRpYWxpemUgd29ya2dyb3VwIG1lbW9yeS5cbiAgICBpbml0aWFsID0gJHtBfSgwKTtcbiAgICBmb3IgKHZhciBoID0gbG9jYWxJbmRleDsgaCA8IHVuaWZvcm1zLm5vcm1QYWNrZWRTaXplOyBoICs9IHdvcmtncm91cFNpemUpIHtcbiAgICAgIGxldCBkZXZpYXRpb24gPSAgJHtBfSgke3kuZ2V0KCJiYXRjaCIsImNoYW5uZWwiLCJoIil9KSAtICR7QX0obWVhblNoYXJlZCk7XG4gICAgICBpbml0aWFsID0gaW5pdGlhbCArIGRldmlhdGlvbiAqIGRldmlhdGlvbjtcbiAgICB9XG4gICAgd29ya2dyb3VwU2hhcmVkW2xvY2FsSW5kZXhdID0gaW5pdGlhbDtcbiAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIHN1bSBvZiBzcXVhcmUgb2YgZGV2aWF0aW9uIG9mIGN1cnJlbnQgY2hhbm5lbCBkYXRhLlxuICAgIGZvciAodmFyIGN1cnJTaXplID0gd29ya2dyb3VwU2l6ZSA+PiAxOyAgY3VyclNpemUgPiAwOyBjdXJyU2l6ZSA9IGN1cnJTaXplID4+IDEpIHtcbiAgICAgIGlmIChsb2NhbEluZGV4IDwgY3VyclNpemUpIHtcbiAgICAgICAgd29ya2dyb3VwU2hhcmVkW2xvY2FsSW5kZXhdID0gd29ya2dyb3VwU2hhcmVkW2xvY2FsSW5kZXhdICsgd29ya2dyb3VwU2hhcmVkW2xvY2FsSW5kZXggKyBjdXJyU2l6ZV07XG4gICAgICB9XG4gICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG4gICAgfVxuICAgIGlmIChsb2NhbEluZGV4ID09IDApIHtcbiAgICAgIHNxdWFyZWROb3JtU2hhcmVkID0gJHtKZSgid29ya2dyb3VwU2hhcmVkWzBdIixsKX07XG4gICAgfVxuICAgIHdvcmtncm91cEJhcnJpZXIoKTtcblxuICAgIGxldCBpbnZTdGREZXYgPSBpbnZlcnNlU3FydChzcXVhcmVkTm9ybVNoYXJlZCAvIGYzMih1bmlmb3Jtcy5ub3JtU2l6ZSkgKyBmMzIoJHt0LmVwc2lsb259KSk7XG4gICAgbGV0IGNoYW5uZWxTY2FsZSA9IGludlN0ZERldiAqIGYzMigke18uZ2V0QnlPZmZzZXQoImNoYW5uZWwiKX0pO1xuICAgIGxldCBjaGFubmVsU2hpZnQgPSBmMzIoJHtJLmdldEJ5T2Zmc2V0KCJjaGFubmVsIil9KSAtIG1lYW5TaGFyZWQgKiBjaGFubmVsU2NhbGU7XG4gICAgZm9yICh2YXIgaCA9IGxvY2FsSW5kZXg7IGggPCB1bmlmb3Jtcy5ub3JtUGFja2VkU2l6ZTsgaCArPSB3b3JrZ3JvdXBTaXplKSB7XG4gICAgICBsZXQgdmFsdWUgPSAke3kuZ2V0KCJiYXRjaCIsImNoYW5uZWwiLCJoIil9ICogJHtFfSgke0F9KGNoYW5uZWxTY2FsZSkpICsgJHtFfSgke0F9KGNoYW5uZWxTaGlmdCkpO1xuICAgICAgJHskLnNldCgiYmF0Y2giLCJjaGFubmVsIiwiaCIsInZhbHVlIil9O1xuICAgIH1cbiAgfWB9O3JldHVybntuYW1lOiJJbnN0YW5jZU5vcm1hbGl6YXRpb24iLHNoYWRlckNhY2hlOntoaW50OmAke3QuZXBzaWxvbn07JHtsfWAsaW5wdXREZXBlbmRlbmNpZXM6aH0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpvLGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4OnN9LHByb2dyYW1Vbmlmb3JtczpnfSksZ2V0U2hhZGVyU291cmNlOmJ9fSxVbD0oZSx0LHIsbyxuLHMsdSxsKT0+e2xldCBhPUZlKHUpLHA9NjQsaD1hPT09MT8idmVjMmYiOmBtYXQyeCR7YX1mYCxnPWE9PT0xPyJmMzIiOmB2ZWMke2F9ZmAsYj0oUixWKT0+YCR7aH0oJHtSfSwgJHtWfSlgLHc9bip1L2EseT1NYXRoLmNlaWwocy9wKSxfPVsidHlwZSJdLEk9W3t0eXBlOiJ1aW50MzIiLGRhdGE6eX0se3R5cGU6InVpbnQzMiIsZGF0YTpzfSx7dHlwZToidWludDMyIixkYXRhOk1hdGguZmxvb3IodS9hKX0se3R5cGU6InVpbnQzMiIsZGF0YTpNYXRoLmZsb29yKHMqdS9hKX1dLCQ9Uj0+e2xldCBWPU0oImlucHV0Iix0LmRhdGFUeXBlLHQuZGltcyxhKTtyZXR1cm5gXG4gICR7Ui5kZWNsYXJlVmFyaWFibGVzKFYpfVxuICBAZ3JvdXAoMCkgQGJpbmRpbmcoMSkgdmFyPHN0b3JhZ2UsIHJlYWRfd3JpdGU+IG91dHB1dCA6IGFycmF5PCR7aH0+O1xuICBzdHJ1Y3QgVW5pZm9ybXMge3dnX3NpemU6dTMyLCBIOnUzMiwgQzp1MzIsIGltYWdlX3NpemU6dTMyfTtcbiAgQGdyb3VwKDApIEBiaW5kaW5nKDIpIHZhcjx1bmlmb3JtPiB1bmlmb3JtczogVW5pZm9ybXM7XG5cbiAgJHtSLm1haW5TdGFydChwKX1cbiAgICBsZXQgY3VycmVudEltYWdlTnVtYmVyID0gZ2xvYmFsX2lkeCAvICR7cH0gLyB1bmlmb3Jtcy5DO1xuICAgIGxldCBjdXJyZW50Q2hhbm5lbE51bWJlciA9IChnbG9iYWxfaWR4IC8gJHtwfSkgJSB1bmlmb3Jtcy5DO1xuICAgIGxldCB3Z0lkID0gZ2xvYmFsX2lkeCAlICR7cH07XG4gICAgbGV0IHdnT2Zmc2V0ID0gd2dJZCAqIHVuaWZvcm1zLndnX3NpemU7XG4gICAgaWYgKHdnT2Zmc2V0ID49IHVuaWZvcm1zLkgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgd2dNYXggPSBtaW4od2dPZmZzZXQgKyB1bmlmb3Jtcy53Z19zaXplLCB1bmlmb3Jtcy5IKTtcblxuICAgIGxldCBvZmZzZXQgPSBjdXJyZW50SW1hZ2VOdW1iZXIgKiB1bmlmb3Jtcy5pbWFnZV9zaXplICsgY3VycmVudENoYW5uZWxOdW1iZXI7XG4gICAgdmFyIHN1bSA9ICR7WmUoImYzMiIsYSl9O1xuICAgIHZhciBzcXVhcmVkU3VtID0gJHtaZSgiZjMyIixhKX07XG4gICAgZm9yICh2YXIgaTogdTMyID0gd2dPZmZzZXQ7IGkgPCB3Z01heDsgaSsrKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9ICR7Z30oaW5wdXRbb2Zmc2V0ICsgaSAqIHVuaWZvcm1zLkNdKTtcbiAgICAgICAgc3VtICs9IHZhbHVlO1xuICAgICAgICBzcXVhcmVkU3VtICs9IHZhbHVlICogdmFsdWU7XG4gICAgfVxuICAgIG91dHB1dFtnbG9iYWxfaWR4XSA9ICR7Yigic3VtIiwic3F1YXJlZFN1bSIpfTtcbiAgfWB9LHg9ZS5jb21wdXRlKHtuYW1lOiJJbnN0YW5jZU5vcm1Db21wdXRlTWVhbiIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7YX1gLGlucHV0RGVwZW5kZW5jaWVzOl99LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6W24sdSxwLDJdLGRhdGFUeXBlOjF9XSxkaXNwYXRjaEdyb3VwOnt4Om4qdS9hfSxwcm9ncmFtVW5pZm9ybXM6SX0pLGdldFNoYWRlclNvdXJjZTokfSx7aW5wdXRzOlt0XSxvdXRwdXRzOlstMV19KVswXSxFPVt7dHlwZToidWludDMyIixkYXRhOnd9LHt0eXBlOiJ1aW50MzIiLGRhdGE6c30se3R5cGU6InVpbnQzMiIsZGF0YTpNYXRoLmZsb29yKHUvYSl9LHt0eXBlOiJ1aW50MzIiLGRhdGE6TWF0aC5mbG9vcihwKnUvYSl9XSxBPVsidHlwZSIsInR5cGUiLCJ0eXBlIl0sej1SPT57bGV0IFY9TSgic2NhbGUiLHIuZGF0YVR5cGUsci5kaW1zLGEpLFQ9TSgiYmlhcyIsby5kYXRhVHlwZSxvLmRpbXMsYSk7cmV0dXJuYFxuICBAZ3JvdXAoMCkgQGJpbmRpbmcoMCkgdmFyPHN0b3JhZ2UsIHJlYWQ+IGlucHV0IDogYXJyYXk8JHtofT47XG4gIEBncm91cCgwKSBAYmluZGluZygxKSB2YXI8c3RvcmFnZSwgcmVhZD4gc2NhbGUgOiBhcnJheTwke1YudHlwZS5zdG9yYWdlfT47XG4gIEBncm91cCgwKSBAYmluZGluZygyKSB2YXI8c3RvcmFnZSwgcmVhZD4gYmlhcyA6IGFycmF5PCR7VC50eXBlLnN0b3JhZ2V9PjtcbiAgQGdyb3VwKDApIEBiaW5kaW5nKDMpIHZhcjxzdG9yYWdlLCByZWFkX3dyaXRlPiBvdXRwdXQgOiBhcnJheTwke2h9PjtcbiAgc3RydWN0IFVuaWZvcm1zIHt1bml0c19vZl93b3JrIDogdTMyLCBIOiB1MzIsIEMgOiB1MzIsIGltYWdlX3NpemUgOiB1MzJ9O1xuICBAZ3JvdXAoMCkgQGJpbmRpbmcoNCkgdmFyPHVuaWZvcm0+IHVuaWZvcm1zOiBVbmlmb3JtcztcblxuICAke1IubWFpblN0YXJ0KCl9XG4gICAgJHtSLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLnVuaXRzX29mX3dvcmsiKX1cbiAgICBsZXQgY3VycmVudEltYWdlTnVtYmVyID0gZ2xvYmFsX2lkeCAvIHVuaWZvcm1zLkM7XG4gICAgbGV0IGN1cnJlbnRDaGFubmVsTnVtYmVyID0gZ2xvYmFsX2lkeCAlIHVuaWZvcm1zLkM7XG5cbiAgICBsZXQgb2Zmc2V0ID0gY3VycmVudEltYWdlTnVtYmVyICogdW5pZm9ybXMuaW1hZ2Vfc2l6ZTtcbiAgICB2YXIgc3VtID0gJHtaZSgiZjMyIixhKX07XG4gICAgdmFyIHNxdWFyZWRTdW0gPSAke1plKCJmMzIiLGEpfTtcbiAgICBmb3IgKHZhciBpOiB1MzIgPSAwOyBpIDwgJHtwfTsgaSsrKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGlucHV0W29mZnNldCArIGkgKyBjdXJyZW50Q2hhbm5lbE51bWJlciAqICR7cH1dO1xuICAgICAgICBzdW0gKz0gdmFsdWVbMF07XG4gICAgICAgIHNxdWFyZWRTdW0gKz0gdmFsdWVbMV07XG4gICAgfVxuICAgIHN1bSA9IHN1bSAvIGYzMih1bmlmb3Jtcy5IKTtcbiAgICBzcXVhcmVkU3VtID0gc3F1YXJlZFN1bSAvIGYzMih1bmlmb3Jtcy5IKTtcbiAgICBsZXQgaW52U3RkRGV2ID0gaW52ZXJzZVNxcnQoc3F1YXJlZFN1bSAtIHN1bSAqIHN1bSArIGYzMigke2x9KSk7XG4gICAgbGV0IGNoYW5uZWxTY2FsZSA9IGludlN0ZERldiAqICR7Z30oc2NhbGVbY3VycmVudENoYW5uZWxOdW1iZXJdKTtcbiAgICBsZXQgY2hhbm5lbFNoaWZ0ID0gJHtnfShiaWFzW2N1cnJlbnRDaGFubmVsTnVtYmVyXSkgLSBzdW0gKiBjaGFubmVsU2NhbGU7XG5cbiAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSAke2IoImNoYW5uZWxTY2FsZSIsImNoYW5uZWxTaGlmdCIpfTtcbiAgfWB9O3JldHVybiBlLmNvbXB1dGUoe25hbWU6Ikluc3RhbmNlTm9ybUNvbXB1dGVDaGFubmVsU2NhbGVTaGlmdCIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7YX07JHtsfWAsaW5wdXREZXBlbmRlbmNpZXM6QX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpbbix1LDJdLGRhdGFUeXBlOjF9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbCh3LzY0KX0scHJvZ3JhbVVuaWZvcm1zOkV9KSxnZXRTaGFkZXJTb3VyY2U6en0se2lucHV0czpbeCxyLG9dLG91dHB1dHM6Wy0xXX0pWzBdfSxWbD0oZSx0LHIpPT57bGV0IG89dFswXS5kaW1zLG49byxzPW9bMF0sdT1vW28ubGVuZ3RoLTFdLGw9VS5zaXplRnJvbURpbWVuc2lvbihvLDEpL3UsYT1GZSh1KSxwPVUuc2l6ZShuKS9hLGg9W3t0eXBlOiJ1aW50MzIiLGRhdGE6bH0se3R5cGU6InVpbnQzMiIsZGF0YTpNYXRoLmZsb29yKHUvYSl9XSxnPVsidHlwZSIsInR5cGUiXSxiPVVsKGUsdFswXSx0WzFdLHRbMl0scyxsLHUsci5lcHNpbG9uKSx3PXk9PntsZXQgXz1MZSh0WzBdLmRhdGFUeXBlKSxJPWE9PT0xPyJ2ZWMyZiI6YG1hdDJ4JHthfWZgLCQ9YT09PTE/XzpgdmVjJHthfTwke199PmAseD1NKCJpbnB1dCIsdFswXS5kYXRhVHlwZSx0WzBdLmRpbXMsYSksRT1GKCJvdXRwdXQiLHRbMF0uZGF0YVR5cGUsbixhKTtyZXR1cm5gXG4gIEBncm91cCgwKSBAYmluZGluZygwKSB2YXI8c3RvcmFnZSwgcmVhZD4gaW5wdXQgOiBhcnJheTwke3gudHlwZS5zdG9yYWdlfT47XG4gIEBncm91cCgwKSBAYmluZGluZygxKSB2YXI8c3RvcmFnZSwgcmVhZD4gc2NhbGVJbnB1dCA6IGFycmF5PCR7SX0+O1xuICBAZ3JvdXAoMCkgQGJpbmRpbmcoMikgdmFyPHN0b3JhZ2UsIHJlYWRfd3JpdGU+IG91dHB1dCA6IGFycmF5PCR7RS50eXBlLnN0b3JhZ2V9PjtcbiAgc3RydWN0IFVuaWZvcm1zIHtIOiB1MzIsIEMgOiB1MzJ9O1xuICBAZ3JvdXAoMCkgQGJpbmRpbmcoMykgdmFyPHVuaWZvcm0+IHVuaWZvcm1zOiBVbmlmb3JtcztcblxuICAke3kubWFpblN0YXJ0KCl9XG4gICAgbGV0IGN1cnJlbnRJbWFnZU51bWJlciA9IGdsb2JhbF9pZHggLyAodW5pZm9ybXMuQyAqIHVuaWZvcm1zLkgpO1xuICAgIGxldCBjdXJyZW50Q2hhbm5lbE51bWJlciA9IGdsb2JhbF9pZHggJSB1bmlmb3Jtcy5DO1xuXG4gICAgbGV0IHNjYWxlT2Zmc2V0ID0gY3VycmVudEltYWdlTnVtYmVyICogdW5pZm9ybXMuQyArIGN1cnJlbnRDaGFubmVsTnVtYmVyO1xuICAgIGxldCBzY2FsZSA9IHNjYWxlSW5wdXRbc2NhbGVPZmZzZXRdO1xuICAgIG91dHB1dFtnbG9iYWxfaWR4XSA9IGZtYShpbnB1dFtnbG9iYWxfaWR4XSwgJHskfShzY2FsZVswXSksICR7JH0oc2NhbGVbMV0pKTtcbiAgfWB9O2UuY29tcHV0ZSh7bmFtZToiSW5zdGFuY2VOb3JtYWxpemF0aW9uTkhXQyIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7YX1gLGlucHV0RGVwZW5kZW5jaWVzOmd9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6bixkYXRhVHlwZTp0WzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwocC82NCl9LHByb2dyYW1Vbmlmb3JtczpofSksZ2V0U2hhZGVyU291cmNlOnd9LHtpbnB1dHM6W3RbMF0sYl19KX0sdnM9KGUsdCk9Pnt0LmZvcm1hdD09PSJOSFdDIj9WbChlLGUuaW5wdXRzLHQpOmUuY29tcHV0ZSh6bChlLmlucHV0cyx0KSl9fSk7dmFyIE5sLFdsLFNzLHhzPWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTskZSgpO3ZlKCk7Tmw9ZT0+e2lmKCFlfHxlLmxlbmd0aDwyKXRocm93IG5ldyBFcnJvcigibGF5ZXJOb3JtIHJlcXVpcmVzIGF0IGxlYXN0IDIgaW5wdXRzLiIpfSxXbD0oZSx0LHIpPT57bGV0IG89ZVswXS5kaW1zLG49ZVsxXSxzPWVbMl0sdT1vLGw9VS5ub3JtYWxpemVBeGlzKHQuYXhpcyxvLmxlbmd0aCksYT1VLnNpemVUb0RpbWVuc2lvbihvLGwpLHA9VS5zaXplRnJvbURpbWVuc2lvbihvLGwpLGg9VS5zaXplKG4uZGltcyksZz1zP1Uuc2l6ZShzLmRpbXMpOjA7aWYoaCE9PXB8fHMmJmchPT1wKXRocm93IG5ldyBFcnJvcihgU2l6ZSBvZiBYLnNoYXBlKClbYXhpczpdID09ICR7cH0uXG4gICAgICAgU2l6ZSBvZiBzY2FsZSBhbmQgYmlhcyAoaWYgcHJvdmlkZWQpIG11c3QgbWF0Y2ggdGhpcy5cbiAgICAgICBHb3Qgc2NhbGUgc2l6ZSBvZiAke2h9IGFuZCBiaWFzIHNpemUgb2YgJHtnfWApO2xldCBiPVtdO2ZvcihsZXQgQT0wO0E8by5sZW5ndGg7KytBKUE8bD9iLnB1c2gob1tBXSk6Yi5wdXNoKDEpO2xldCB3PUZlKHApLHk9WyJ0eXBlIiwidHlwZSJdLF89W3t0eXBlOiJ1aW50MzIiLGRhdGE6YX0se3R5cGU6ImZsb2F0MzIiLGRhdGE6cH0se3R5cGU6InVpbnQzMiIsZGF0YTpNYXRoLmZsb29yKHAvdyl9LHt0eXBlOiJmbG9hdDMyIixkYXRhOnQuZXBzaWxvbn1dO3MmJnkucHVzaCgidHlwZSIpO2xldCBJPXI+MSwkPXI+Mix4PUE9PntsZXQgej1MZShlWzBdLmRhdGFUeXBlKSxSPVtNKCJ4IixlWzBdLmRhdGFUeXBlLGVbMF0uZGltcyx3KSxNKCJzY2FsZSIsbi5kYXRhVHlwZSxuLmRpbXMsdyldO3MmJlIucHVzaChNKCJiaWFzIixzLmRhdGFUeXBlLHMuZGltcyx3KSksUi5wdXNoKEYoIm91dHB1dCIsZVswXS5kYXRhVHlwZSx1LHcpKSxJJiZSLnB1c2goRigibWVhbl9kYXRhX291dHB1dCIsMSxiKSksJCYmUi5wdXNoKEYoImludl9zdGRfb3V0cHV0IiwxLGIpKTtsZXQgVj1be25hbWU6Im5vcm1fY291bnQiLHR5cGU6InUzMiJ9LHtuYW1lOiJub3JtX3NpemUiLHR5cGU6ImYzMiJ9LHtuYW1lOiJub3JtX3NpemVfdmVjdG9yaXplZCIsdHlwZToidTMyIn0se25hbWU6ImVwc2lsb24iLHR5cGU6ImYzMiJ9XTtyZXR1cm5gXG4gICR7QS5yZWdpc3RlclVuaWZvcm1zKFYpLmRlY2xhcmVWYXJpYWJsZXMoLi4uUil9XG4gICR7QS5tYWluU3RhcnQoKX1cbiAgICAke0EuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMubm9ybV9jb3VudCIpfVxuICAgIGxldCBvZmZzZXQgPSBnbG9iYWxfaWR4ICogdW5pZm9ybXMubm9ybV9zaXplX3ZlY3Rvcml6ZWQ7XG4gICAgdmFyIG1lYW5WZWN0b3IgPSAke1plKCJmMzIiLHcpfTtcbiAgICB2YXIgbWVhblNxdWFyZVZlY3RvciA9ICR7WmUoImYzMiIsdyl9O1xuXG4gICAgZm9yICh2YXIgaDogdTMyID0gMHU7IGggPCB1bmlmb3Jtcy5ub3JtX3NpemVfdmVjdG9yaXplZDsgaCsrKSB7XG4gICAgICBsZXQgdmFsdWUgPSAke2F0KHosdywieFtoICsgb2Zmc2V0XSIpfTtcbiAgICAgIG1lYW5WZWN0b3IgKz0gdmFsdWU7XG4gICAgICBtZWFuU3F1YXJlVmVjdG9yICs9IHZhbHVlICogdmFsdWU7XG4gICAgfVxuICAgIGxldCBtZWFuID0gJHtKZSgibWVhblZlY3RvciIsdyl9IC8gdW5pZm9ybXMubm9ybV9zaXplO1xuICAgIGxldCBpbnZTdGREZXYgPVxuICAgICAgICBpbnZlcnNlU3FydCgke0plKCJtZWFuU3F1YXJlVmVjdG9yIix3KX0gLyB1bmlmb3Jtcy5ub3JtX3NpemUgLSBtZWFuICogbWVhbiArIHVuaWZvcm1zLmVwc2lsb24pO1xuXG4gICAgZm9yICh2YXIgajogdTMyID0gMDsgaiA8IHVuaWZvcm1zLm5vcm1fc2l6ZV92ZWN0b3JpemVkOyBqKyspIHtcbiAgICAgIGxldCBmMzJpbnB1dCA9ICR7YXQoeix3LCJ4W2ogKyBvZmZzZXRdIil9O1xuICAgICAgbGV0IGYzMnNjYWxlID0gJHthdCh6LHcsInNjYWxlW2pdIil9O1xuICAgICAgb3V0cHV0W2ogKyBvZmZzZXRdID0gJHtSWzBdLnR5cGUudmFsdWV9KChmMzJpbnB1dCAtIG1lYW4pICogaW52U3RkRGV2ICogZjMyc2NhbGVcbiAgICAgICAgJHtzP2ArICR7YXQoeix3LCJiaWFzW2pdIil9YDoiIn1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgJHtJPyJtZWFuX2RhdGFfb3V0cHV0W2dsb2JhbF9pZHhdID0gbWVhbiI6IiJ9O1xuICAgICR7JD8iaW52X3N0ZF9vdXRwdXRbZ2xvYmFsX2lkeF0gPSBpbnZTdGREZXYiOiIifTtcbiAgfWB9LEU9W3tkaW1zOnUsZGF0YVR5cGU6ZVswXS5kYXRhVHlwZX1dO3JldHVybiBJJiZFLnB1c2goe2RpbXM6YixkYXRhVHlwZToxfSksJCYmRS5wdXNoKHtkaW1zOmIsZGF0YVR5cGU6MX0pLHtuYW1lOiJMYXllck5vcm1hbGl6YXRpb24iLHNoYWRlckNhY2hlOntoaW50OmAke3d9OyR7cn1gLGlucHV0RGVwZW5kZW5jaWVzOnl9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpFLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGEvNjQpfSxwcm9ncmFtVW5pZm9ybXM6X30pLGdldFNoYWRlclNvdXJjZTp4fX0sU3M9KGUsdCk9PntObChlLmlucHV0cyksZS5jb21wdXRlKFdsKGUuaW5wdXRzLHQsZS5vdXRwdXRDb3VudCkpfX0pO3ZhciBIbCxDcyxfcyxHbCxYbixJcyxBcz1qKCgpPT57InVzZSBzdHJpY3QiOyRlKCk7amUoKTtOcigpO1VuKCk7dmUoKTtqdCgpO0hsPShlLHQpPT57bGV0IHI9ZVswXSxvPWVbMV0sbj1lWzJdLHM9ZVszXSx1PWVbNF0sbD1lWzVdLGE9ZVs2XSxwPWVbN107aWYoci5kaW1zLmxlbmd0aCE9PTMmJnIuZGltcy5sZW5ndGghPT01KXRocm93IG5ldyBFcnJvcigiSW5wdXQgcXVlcnkgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAzIG9yIDUgZGltZW5zaW9ucyIpO2xldCBoPSExLGc9ci5kaW1zWzBdLGI9ci5kaW1zWzFdLHc9ci5kaW1zLmxlbmd0aD09PTM/aD9yLmRpbXNbMl0vMzpyLmRpbXNbMl06dC5udW1IZWFkcypyLmRpbXNbNF0seT1iLF89MCxJPTAsJD1NYXRoLmZsb29yKHcvdC5udW1IZWFkcyk7aWYoYSYmcCl7aWYoYS5kaW1zLmxlbmd0aCE9PTQpdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgInBhc3Rfa2V5IiBpcyBleHBlY3RlZCB0byBoYXZlIDQgZGltZW5zaW9uc1wnKTtpZihwLmRpbXMubGVuZ3RoIT09NCl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAicGFzdF92YWx1ZSIgaXMgZXhwZWN0ZWQgdG8gaGF2ZSA0IGRpbWVuc2lvbnNcJyk7Xz1hLmRpbXNbMl0sST1hLmRpbXNbMl19ZWxzZSBpZihhfHxwKXRocm93IG5ldyBFcnJvcihcJ0lucHV0ICJwYXN0X2tleSIgYW5kICJwYXN0X3ZhbHVlIiBzaGFsbCBiZSBib3RoIHByZXNlbnQgb3IgYm90aCBhYnNlbnRcJyk7bGV0IHg7aWYobyl7aWYoci5kaW1zLmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgInF1ZXJ5IiBpcyBleHBlY3RlZCB0byBoYXZlIDMgZGltZW5zaW9ucyB3aGVuIGtleSBpcyBnaXZlblwnKTtpZihvLmRpbXMubGVuZ3RoPDN8fG8uZGltcy5sZW5ndGg+NSl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAia2V5IiBpcyBleHBlY3RlZCB0byBoYXZlIDMsIDQsIG9yIDUgZGltZW5zaW9uc1wnKTtpZihyLmRpbXNbMF0hPT1vLmRpbXNbMF0pdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgInF1ZXJ5IiBhbmQgImtleSIgc2hhbGwgaGF2ZSBzYW1lIGRpbSAwIChiYXRjaCBzaXplKVwnKTtpZihvLmRpbXMubGVuZ3RoPT09Myl7aWYoby5kaW1zWzJdIT09ci5kaW1zWzJdKXRocm93IG5ldyBFcnJvcihcJ0lucHV0ICJxdWVyeSIgYW5kICJrZXkiIHNoYWxsIGhhdmUgc2FtZSBkaW0gMiAoaGlkZGVuX3NpemUpXCcpO3g9Mix5PW8uZGltc1sxXX1lbHNlIGlmKG8uZGltcy5sZW5ndGg9PT01KXtpZihvLmRpbXNbMl0hPT10Lm51bUhlYWRzfHxvLmRpbXNbM10hPT0yfHxvLmRpbXNbNF0hPT0kKXRocm93IG5ldyBFcnJvcihcJ0V4cGVjdCAia2V5IiBzaGFwZSAoYmF0Y2hfc2l6ZSwga3Zfc2VxdWVuY2VfbGVuZ3RoLCBudW1faGVhZHMsIDIsIGhlYWRfc2l6ZSkgZm9yIHBhY2tlZCBrdlwnKTtpZihuKXRocm93IG5ldyBFcnJvcihcJ0V4cGVjdCAidmFsdWUiIGJlIG5vbmUgd2hlbiAia2V5IiBoYXMgcGFja2VkIGt2IGZvcm1hdC5cJyk7eD01LHk9by5kaW1zWzFdfWVsc2V7aWYoby5kaW1zWzFdIT09dC5udW1IZWFkc3x8by5kaW1zWzNdIT09JCl0aHJvdyBuZXcgRXJyb3IoXCdFeHBlY3QgImtleSIgc2hhcGUgKGJhdGNoX3NpemUsIG51bV9oZWFkcywga3Zfc2VxdWVuY2VfbGVuZ3RoLCBoZWFkX3NpemUpIGZvciBwYXN0X2tleVwnKTt4PTAseT1vLmRpbXNbMl19fWVsc2V7aWYoci5kaW1zLmxlbmd0aCE9PTMmJnIuZGltcy5sZW5ndGghPT01KXRocm93IG5ldyBFcnJvcihcJ0lucHV0ICJxdWVyeSIgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAzIG9yIDUgZGltZW5zaW9ucyB3aGVuIGtleSBpcyBlbXB0eVwnKTtpZihyLmRpbXMubGVuZ3RoPT09NSYmKHIuZGltc1syXSE9PXQubnVtSGVhZHN8fHIuZGltc1szXSE9PTMpKXRocm93IG5ldyBFcnJvcihcJ0V4cGVjdCAicXVlcnkiIHNoYXBlIChiYXRjaF9zaXplLCBrdl9zZXF1ZW5jZV9sZW5ndGgsIG51bV9oZWFkcywgMywgaGVhZF9zaXplKSBmb3IgcGFja2VkIGt2XCcpO3g9M31pZihzKXtpZihzLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAiYmlhcyIgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAxIGRpbWVuc2lvblwnKTtpZihuJiZyLmRpbXMubGVuZ3RoPT09NSYmci5kaW1zWzNdPT09Mil0aHJvdyBuZXcgRXJyb3IoImJpYXMgaXMgbm90IGFsbG93ZWQgZm9yIHBhY2tlZCBrdi4iKX1sZXQgRT0wO2lmKHUpe0U9ODtsZXQgVD11LmRpbXM7dGhyb3cgVC5sZW5ndGg9PT0xP1RbMF09PT1nP0U9MTpUWzBdPT09MypnKzImJihFPTMpOlQubGVuZ3RoPT09MiYmVFswXT09PWcmJlRbMV09PT15JiYoRT01KSxFPT09OD9uZXcgRXJyb3IoXCdJbnB1dCAia2V5X3BhZGRpbmdfbWFzayIgc2hhcGUgc2hhbGwgYmUgKGJhdGNoX3NpemUpIG9yIChiYXRjaF9zaXplLCBrdl9zZXF1ZW5jZV9sZW5ndGgpXCcpOm5ldyBFcnJvcigiTWFzayBub3Qgc3VwcG9ydGVkIil9bGV0IEE9ITEsej13O2lmKG4pe2lmKG4uZGltcy5sZW5ndGghPT0zJiZuLmRpbXMubGVuZ3RoIT09NCl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAidmFsdWUiIGlzIGV4cGVjdGVkIHRvIGhhdmUgMyBvciA0IGRpbWVuc2lvbnNcJyk7aWYoci5kaW1zWzBdIT09bi5kaW1zWzBdKXRocm93IG5ldyBFcnJvcihcJ0lucHV0ICJxdWVyeSIgYW5kICJ2YWx1ZSIgc2hhbGwgaGF2ZSBzYW1lIGRpbSAwIChiYXRjaF9zaXplKVwnKTtpZihuLmRpbXMubGVuZ3RoPT09Myl7aWYoeSE9PW4uZGltc1sxXSl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAia2V5IiBhbmQgInZhbHVlIiBzaGFsbCBoYXZlIHRoZSBzYW1lIGRpbSAxIChrdl9zZXF1ZW5jZV9sZW5ndGgpXCcpO3o9bi5kaW1zWzJdfWVsc2V7aWYoeSE9PW4uZGltc1syXSl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAicGFzdF9rZXkiIGFuZCAicGFzdF92YWx1ZSIgc2hhbGwgaGF2ZSB0aGUgc2FtZSBkaW0gMiAoa3Zfc2VxdWVuY2VfbGVuZ3RoKVwnKTt6PW4uZGltc1sxXSpuLmRpbXNbM10sQT0hMH19bGV0IFI9Xyt5LFY9ITE7aWYodSl0aHJvdyBuZXcgRXJyb3IoIktleSBwYWRkaW5nIG1hc2sgaXMgbm90IHN1cHBvcnRlZCIpO2lmKGwpdGhyb3cgbmV3IEVycm9yKCJleHRyYUFkZFFrIGlzIG5vdCBzdXBwb3J0ZWQiKTtpZihhKXRocm93IG5ldyBFcnJvcigicGFzdEtleSBpcyBub3Qgc3VwcG9ydGVkIik7aWYocCl0aHJvdyBuZXcgRXJyb3IoInBhc3RWYWx1ZSBpcyBub3Qgc3VwcG9ydGVkIik7cmV0dXJue2JhdGNoU2l6ZTpnLHNlcXVlbmNlTGVuZ3RoOmIscGFzdFNlcXVlbmNlTGVuZ3RoOl8sa3ZTZXF1ZW5jZUxlbmd0aDp5LHRvdGFsU2VxdWVuY2VMZW5ndGg6UixtYXhTZXF1ZW5jZUxlbmd0aDpJLGlucHV0SGlkZGVuU2l6ZTowLGhpZGRlblNpemU6dyx2SGlkZGVuU2l6ZTp6LGhlYWRTaXplOiQsdkhlYWRTaXplOk1hdGguZmxvb3Ioei90Lm51bUhlYWRzKSxudW1IZWFkczp0Lm51bUhlYWRzLGlzVW5pZGlyZWN0aW9uYWw6ITEscGFzdFByZXNlbnRTaGFyZUJ1ZmZlcjohMSxtYXNrRmlsdGVyVmFsdWU6dC5tYXNrRmlsdGVyVmFsdWUsbWFza1R5cGU6RSxzY2FsZTp0LnNjYWxlLGJyb2FkY2FzdFJlc1Bvc0JpYXM6VixwYXNzUGFzdEluS3Y6QSxxa3ZGb3JtYXQ6eH19LENzPWU9PmdlKHsuLi5lfSksX3M9Z2Uoe3Blcm06WzAsMiwxLDNdfSksR2w9KGUsdCxyLG8sbixzLHUpPT57bGV0IGw9W28sbixzXSxhPVUuc2l6ZShsKSxwPVt7dHlwZToidWludDMyIixkYXRhOmF9LHt0eXBlOiJ1aW50MzIiLGRhdGE6dX0se3R5cGU6InVpbnQzMiIsZGF0YTpzfV0saD1nPT57bGV0IGI9RigicWt2X3dpdGhfYmlhcyIsdC5kYXRhVHlwZSxsKSx3PU0oInFrdiIsdC5kYXRhVHlwZSxsKSx5PU0oImJpYXMiLHIuZGF0YVR5cGUsbCksXz1be25hbWU6Im91dHB1dF9zaXplIix0eXBlOiJ1MzIifSx7bmFtZToiYmlhc19vZmZzZXQiLHR5cGU6InUzMiJ9LHtuYW1lOiJoaWRkZW5fc2l6ZSIsdHlwZToidTMyIn1dO3JldHVybmBcbiAgJHtnLnJlZ2lzdGVyVW5pZm9ybXMoXykuZGVjbGFyZVZhcmlhYmxlcyh3LHksYil9XG4gICR7Zy5tYWluU3RhcnQoKX1cbiAgICAke2cuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0X3NpemUiKX1cbiAgICBsZXQgYmlhc19vZmZzZXRfaWR4ID0gKGdsb2JhbF9pZHggJSB1bmlmb3Jtcy5oaWRkZW5fc2l6ZSkgKyB1bmlmb3Jtcy5iaWFzX29mZnNldDtcblxuICAgIHFrdl93aXRoX2JpYXNbZ2xvYmFsX2lkeF0gPSBxa3ZbZ2xvYmFsX2lkeF0gKyBiaWFzW2JpYXNfb2Zmc2V0X2lkeF07XG4gIH1gfTtyZXR1cm4gZS5jb21wdXRlKHtuYW1lOiJNdWx0aUhlYWRBdHRlbnRpb25BZGRCaWFzIixzaGFkZXJDYWNoZTp7aW5wdXREZXBlbmRlbmNpZXM6WyJ0eXBlIiwidHlwZSJdfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmwsZGF0YVR5cGU6dC5kYXRhVHlwZSxncHVEYXRhVHlwZTowfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoYS82NCl9LHByb2dyYW1Vbmlmb3JtczpwfSksZ2V0U2hhZGVyU291cmNlOmh9LHtpbnB1dHM6W3Qscl0sb3V0cHV0czpbLTFdfSlbMF19LFhuPShlLHQscixvLG4scyx1LGwpPT57bGV0IGE9cztpZih1KXtpZihvPT09MSl0aHJvdyBuZXcgRXJyb3IoIkFkZEJpYXNSZXNoYXBlIGlzIG5vdCBpbXBsZW1lbnRlZC4gUGxlYXNlIGV4cG9ydCB5b3VyIG1vZGVsIHdpdGggcGFja2VkIFFLViBvciBLViIpO3JldHVybiBhPUdsKGUscyx1LHQsbyxyKm4sbCksYT1hLnJlc2hhcGUoW3QsbyxyLG5dKSxlLmNvbXB1dGUoaXQoYSxfcy5wZXJtKSx7aW5wdXRzOlthXSxvdXRwdXRzOlstMV19KVswXX1lbHNlIHJldHVybiBzLmRpbXMubGVuZ3RoPT09MyYmKGE9cy5yZXNoYXBlKFt0LG8scixuXSkpLGUuY29tcHV0ZShpdChhLF9zLnBlcm0pLHtpbnB1dHM6W2FdLG91dHB1dHM6Wy0xXX0pWzBdfSxJcz0oZSx0KT0+e2xldCByPUhsKGUuaW5wdXRzLHQpO2lmKGUuaW5wdXRzWzBdLmRpbXMubGVuZ3RoPT09NSl0aHJvdyBuZXcgRXJyb3IoIlBhY2tlZCBRS1YgaXMgbm90IGltcGxlbWVudGVkIik7aWYoZS5pbnB1dHNbMV0/LmRpbXMubGVuZ3RoPT09NSl0aHJvdyBuZXcgRXJyb3IoIlBhY2tlZCBLViBpcyBub3QgaW1wbGVtZW50ZWQiKTtsZXQgbz1lLmlucHV0c1sxXSYmZS5pbnB1dHNbMl0mJmUuaW5wdXRzWzFdLmRpbXMubGVuZ3RoPT09NCYmZS5pbnB1dHNbMl0uZGltcy5sZW5ndGg9PT00LG49WG4oZSxyLmJhdGNoU2l6ZSxyLm51bUhlYWRzLHIuc2VxdWVuY2VMZW5ndGgsci5oZWFkU2l6ZSxlLmlucHV0c1swXSxlLmlucHV0c1szXSwwKTtpZihvKXJldHVybiBLcihlLG4sZS5pbnB1dHNbMV0sZS5pbnB1dHNbMl0sZS5pbnB1dHNbNF0sdm9pZCAwLHZvaWQgMCx2b2lkIDAsZS5pbnB1dHNbNV0scix0KTtsZXQgcz1YbihlLHIuYmF0Y2hTaXplLHIubnVtSGVhZHMsci5rdlNlcXVlbmNlTGVuZ3RoLHIuaGVhZFNpemUsZS5pbnB1dHNbMV0sZS5pbnB1dHNbM10sci5oaWRkZW5TaXplKSx1PVhuKGUsci5iYXRjaFNpemUsci5udW1IZWFkcyxyLmt2U2VxdWVuY2VMZW5ndGgsci52SGVhZFNpemUsZS5pbnB1dHNbMl0sZS5pbnB1dHNbM10sMipyLmhpZGRlblNpemUpO0tyKGUsbixzLHUsZS5pbnB1dHNbNF0sdm9pZCAwLGUuaW5wdXRzWzZdLGUuaW5wdXRzWzddLGUuaW5wdXRzWzVdLHIsdCl9fSk7dmFyIExsLEZsLGpsLHFsLEtsLFlsLFpsLFFsLFRzLEVzPWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTskZSgpO3ZlKCk7TGw9ZT0+e2lmKCFlfHxlLmxlbmd0aDwxKXRocm93IG5ldyBFcnJvcigiVG9vIGZldyBpbnB1dHMiKTtpZihlWzBdLmRhdGFUeXBlIT09MSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IHR5cGUgbXVzdCBiZSBmbG9hdC4iKTtpZihlLmxlbmd0aD49Mil7bGV0IHQ9ZVswXS5kaW1zLmxlbmd0aCoyPT09ZVsxXS5kaW1zWzBdO2lmKGUubGVuZ3RoPT09NCYmKHQ9ZVszXS5kaW1zWzBdKjI9PT1lWzFdLmRpbXNbMF0pLCF0KXRocm93IG5ldyBFcnJvcigiVGhlIHBhZHMgc2hvdWxkIGJlIGEgMUQgdGVuc29yIG9mIHNoYXBlIFsyICogaW5wdXRfcmFua10gb3IgWzIgKiBudW1fYXhlc10uIil9fSxGbD0oZSx0LHIpPT57bGV0IG89IiI7Zm9yKGxldCBuPXQtMTtuPj0wOy0tbilvKz1gXG4gICAgICAgICAgICBrID0gaTMyKCR7ZS5pbmRpY2VzR2V0KCJpbmRpY2VzIixuKX0pIC0gJHtjZSgidW5pZm9ybXMucGFkcyIsbixyKX07XG4gICAgICAgICAgICBpZiAoayA8IDApIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoayA+PSBpMzIoJHtjZSgidW5pZm9ybXMueF9zaGFwZSIsbix0KX0pKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2Zmc2V0ICs9IGsgKiBpMzIoJHtjZSgidW5pZm9ybXMueF9zdHJpZGVzIixuLHQpfSk7XG4gICAgICAgIGA7cmV0dXJuYFxuICAgICAgICAgIHZhbHVlID0gJHtlLnR5cGUudmFsdWV9KHVuaWZvcm1zLmNvbnN0YW50X3ZhbHVlKTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE7IGkrKykge1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgICAgICB2YXIgayA9IDA7XG4gICAgICAgICAgICAke299XG4gICAgICAgICAgICB2YWx1ZSA9IHhbb2Zmc2V0XTtcbiAgICAgICAgICB9XG4gICAgICBgfSxqbD0oZSx0LHIpPT57bGV0IG89IiI7Zm9yKGxldCBuPXQtMTtuPj0wOy0tbilvKz1gXG4gICAgICAgICAgICAgICAgayA9IGkzMigke2UuaW5kaWNlc0dldCgiaW5kaWNlcyIsbil9KSAtICR7Y2UoInVuaWZvcm1zLnBhZHMiLG4scil9O1xuICAgICAgICAgICAgICAgIGlmIChrIDwgMCkge1xuICAgICAgICAgICAgICAgICAgayA9IC1rO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBsZXQgXzJuXzEgPSAyICogKGkzMigke2NlKCJ1bmlmb3Jtcy54X3NoYXBlIixuLHQpfSkgLSAxKTtcbiAgICAgICAgICAgICAgICAgIGsgPSBrICUgXzJuXzE7XG4gICAgICAgICAgICAgICAgICBpZihrID49IGkzMigke2NlKCJ1bmlmb3Jtcy54X3NoYXBlIixuLHQpfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgayA9IF8ybl8xIC0gaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGsgKiBpMzIoJHtjZSgidW5pZm9ybXMueF9zdHJpZGVzIixuLHQpfSk7XG4gICAgICAgICAgICBgO3JldHVybmBcbiAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgICAgICAgIHZhciBrID0gMDtcbiAgICAgICAgICAgICAgJHtvfVxuICAgICAgICAgICAgICB2YWx1ZSA9IHhbb2Zmc2V0XTtcbiAgICAgICAgICBgfSxxbD0oZSx0LHIpPT57bGV0IG89IiI7Zm9yKGxldCBuPXQtMTtuPj0wOy0tbilvKz1gXG4gICAgICAgICAgICAgICAgayA9IGkzMigke2UuaW5kaWNlc0dldCgiaW5kaWNlcyIsbil9KSAtICR7Y2UoInVuaWZvcm1zLnBhZHMiLG4scil9O1xuICAgICAgICAgICAgICAgIGlmIChrIDwgMCkge1xuICAgICAgICAgICAgICAgICAgayA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrID49IGkzMigke2NlKCJ1bmlmb3Jtcy54X3NoYXBlIixuLHQpfSkpIHtcbiAgICAgICAgICAgICAgICAgIGsgPSBpMzIoJHtjZSgidW5pZm9ybXMueF9zaGFwZSIsbix0KX0pIC0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGsgKiBpMzIoJHtjZSgidW5pZm9ybXMueF9zdHJpZGVzIixuLHQpfSk7XG4gICAgICAgICAgICBgO3JldHVybmBcbiAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgICAgICAgIHZhciBrID0gMDtcbiAgICAgICAgICAgICAgJHtvfVxuICAgICAgICAgICAgICB2YWx1ZSA9IHhbb2Zmc2V0XTtcbiAgICAgICAgICBgfSxLbD0oZSx0LHIpPT57bGV0IG89IiI7Zm9yKGxldCBuPXQtMTtuPj0wOy0tbilvKz1gXG4gICAgICAgICAgICAgICAgayA9IGkzMigke2UuaW5kaWNlc0dldCgiaW5kaWNlcyIsbil9KSAtICR7Y2UoInVuaWZvcm1zLnBhZHMiLG4scil9O1xuICAgICAgICAgICAgICAgIGlmIChrIDwgMCkgIHtcbiAgICAgICAgICAgICAgICAgIGsgKz0gaTMyKCR7Y2UoInVuaWZvcm1zLnhfc2hhcGUiLG4sdCl9XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrID49IGkzMigke2NlKCJ1bmlmb3Jtcy54X3NoYXBlIixuLHQpfSkpIHtcbiAgICAgICAgICAgICAgICAgIGsgLT0gaTMyKCR7Y2UoInVuaWZvcm1zLnhfc2hhcGUiLG4sdCl9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGsgKiBpMzIoJHtjZSgidW5pZm9ybXMueF9zdHJpZGVzIixuLHQpfSk7XG4gICAgICAgICAgICBgO3JldHVybmBcbiAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgICAgICAgIHZhciBrID0gMDtcbiAgICAgICAgICAgICAgJHtvfVxuICAgICAgICAgICAgICB2YWx1ZSA9IHhbb2Zmc2V0XTtcbiAgICAgICAgICBgfSxZbD0oZSx0LHIpPT57c3dpdGNoKHIubW9kZSl7Y2FzZSAwOnJldHVybiBGbChlLHQsci5wYWRzLmxlbmd0aCk7Y2FzZSAxOnJldHVybiBqbChlLHQsci5wYWRzLmxlbmd0aCk7Y2FzZSAyOnJldHVybiBxbChlLHQsci5wYWRzLmxlbmd0aCk7Y2FzZSAzOnJldHVybiBLbChlLHQsci5wYWRzLmxlbmd0aCk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgbW9kZSIpfX0sWmw9KGUsdCk9PntsZXQgcj1VLnBhZFNoYXBlKGVbMF0uZGltcy5zbGljZSgpLHQucGFkcyksbz1lWzBdLmRpbXMscz1be3R5cGU6InVpbnQzMiIsZGF0YTpVLnNpemUocil9LHt0eXBlOiJ1aW50MzIiLGRhdGE6dC5wYWRzfV07aWYodC5tb2RlPT09MCl7bGV0IGE9WGUoZVswXS5kYXRhVHlwZSk7cy5wdXNoKHt0eXBlOmEsZGF0YTp0LnZhbHVlfSl9cy5wdXNoKC4uLkwoZVswXS5kaW1zKSwuLi5MKHIpKTtsZXQgdT1bInJhbmsiXSxsPWE9PntsZXQgcD1GKCJvdXRwdXQiLGVbMF0uZGF0YVR5cGUsci5sZW5ndGgpLGg9TSgieCIsZVswXS5kYXRhVHlwZSxvLmxlbmd0aCksZz1oLnR5cGUudmFsdWUsYj1ZbChwLG8ubGVuZ3RoLHQpLHc9W3tuYW1lOiJvdXRwdXRfc2l6ZSIsdHlwZToidTMyIn0se25hbWU6InBhZHMiLHR5cGU6ImkzMiIsbGVuZ3RoOnQucGFkcy5sZW5ndGh9XTtyZXR1cm4gdC5tb2RlPT09MCYmdy5wdXNoKHtuYW1lOiJjb25zdGFudF92YWx1ZSIsdHlwZTpnfSksYFxuICAgICAgICAgICAgJHthLnJlZ2lzdGVyVW5pZm9ybXModykuZGVjbGFyZVZhcmlhYmxlcyhoLHApfVxuICAgICAgICAgICAgJHthLm1haW5TdGFydCgpfVxuICAgICAgICAgICAgJHthLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dF9zaXplIil9XG5cbiAgICAgICAgICAgIGxldCBpbmRpY2VzID0gJHtwLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcblxuICAgICAgICAgICAgdmFyIHZhbHVlID0gJHtnfSgwKTtcbiAgICAgICAgICAgICR7Yn1cbiAgICAgICAgICAgIG91dHB1dFtnbG9iYWxfaWR4XSA9IHZhbHVlO1xuICAgICAgICB9YH07cmV0dXJue25hbWU6IlBhZCIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7dC5tb2RlfWAsaW5wdXREZXBlbmRlbmNpZXM6dX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpyLGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChVLnNpemUocikvNjQpfSxwcm9ncmFtVW5pZm9ybXM6c30pLGdldFNoYWRlclNvdXJjZTpsfX0sUWw9KGUsdCk9PntpZihlLmxlbmd0aD4xKXtsZXQgcj1lWzFdLmdldEJpZ0ludDY0QXJyYXkoKSxvPWUubGVuZ3RoPj0zJiZlWzJdLmRhdGE/ZVsyXS5nZXRGbG9hdDMyQXJyYXkoKVswXTowLG49ZVswXS5kaW1zLmxlbmd0aCxzPW5ldyBJbnQzMkFycmF5KDIqbikuZmlsbCgwKTtpZihlLmxlbmd0aD49NCl7bGV0IGw9ZVszXS5nZXRCaWdJbnQ2NEFycmF5KCk7Zm9yKGxldCBhPTA7YTxsLmxlbmd0aDthKyspc1tOdW1iZXIobFthXSldPU51bWJlcihyW2FdKSxzW051bWJlcihsW2FdKStuXT1OdW1iZXIoclthK2wubGVuZ3RoXSl9ZWxzZSByLmZvckVhY2goKGwsYSk9PnNbTnVtYmVyKGEpXT1OdW1iZXIobCkpO2xldCB1PVtdO3JldHVybiBzLmZvckVhY2gobD0+dS5wdXNoKGwpKSx7bW9kZTp0Lm1vZGUsdmFsdWU6byxwYWRzOnV9fWVsc2UgcmV0dXJuIHR9LFRzPShlLHQpPT57TGwoZS5pbnB1dHMpO2xldCByPVFsKGUuaW5wdXRzLHQpO2UuY29tcHV0ZShabChlLmlucHV0cyxyKSx7aW5wdXRzOlswXX0pfX0pO3ZhciBubixPcyxQcyxrcyxScyxYbCxKbCxCcyxEcyxNcyx6cyxVcyxWcyxOcyxXcyxIcyxHcyxMcyxGcyxqcz1qKCgpPT57InVzZSBzdHJpY3QiO0x0KCk7JGUoKTt2ZSgpO25uPWU9PntpZihHdC53ZWJncHUudmFsaWRhdGVJbnB1dENvbnRlbnQmJighZXx8ZS5sZW5ndGghPT0xKSl0aHJvdyBuZXcgRXJyb3IoIlBvb2wgb3BzIHJlcXVpcmVzIDEgaW5wdXQuIil9LE9zPShlLHQscik9PntsZXQgbz10LmZvcm1hdD09PSJOSFdDIixuPWUuZGltcy5zbGljZSgpO28mJm4uc3BsaWNlKDEsMCxuLnBvcCgpKTtsZXQgcz1PYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0LCJkaWxhdGlvbnMiKSx1PXQua2VybmVsU2hhcGUuc2xpY2UoKSxsPXQuc3RyaWRlcy5zbGljZSgpLGE9cz90LmRpbGF0aW9ucy5zbGljZSgpOltdLHA9dC5wYWRzLnNsaWNlKCk7QnQuYWRqdXN0UG9vbEF0dHJpYnV0ZXMocixuLHUsbCxhLHApO2xldCBoPUJ0LmNvbXB1dGVQb29sT3V0cHV0U2hhcGUocixuLGwsYSx1LHAsdC5hdXRvUGFkKSxnPU9iamVjdC5hc3NpZ24oe30sdCk7cz9PYmplY3QuYXNzaWduKGcse2tlcm5lbFNoYXBlOnUsc3RyaWRlczpsLHBhZHM6cCxkaWxhdGlvbnM6YSxjYWNoZUtleTp0LmNhY2hlS2V5fSk6T2JqZWN0LmFzc2lnbihnLHtrZXJuZWxTaGFwZTp1LHN0cmlkZXM6bCxwYWRzOnAsY2FjaGVLZXk6dC5jYWNoZUtleX0pO2xldCBiPWguc2xpY2UoKTtyZXR1cm4gYi5wdXNoKGIuc3BsaWNlKDEsMSlbMF0pLFtnLG8/YjpoXX0sUHM9KGUsdCk9PntsZXQgcj10LmZvcm1hdD09PSJOSFdDIixvPVUuc2l6ZShlKSxuPVUuc2l6ZSh0Lmtlcm5lbFNoYXBlKSxzPVt7dHlwZToidWludDMyIixkYXRhOm99LHt0eXBlOiJ1aW50MzIiLGRhdGE6bn1dLHU9W3tuYW1lOiJvdXRwdXRTaXplIix0eXBlOiJ1MzIifSx7bmFtZToia2VybmVsU2l6ZSIsdHlwZToidTMyIn1dO2lmKHQua2VybmVsU2hhcGUubGVuZ3RoPD0yKXtsZXQgbD10Lmtlcm5lbFNoYXBlW3Qua2VybmVsU2hhcGUubGVuZ3RoLTFdLGE9dC5zdHJpZGVzW3Quc3RyaWRlcy5sZW5ndGgtMV0scD10LnBhZHNbdC5wYWRzLmxlbmd0aC8yLTFdLGg9dC5wYWRzW3QucGFkcy5sZW5ndGgtMV0sZz0hIShwK2gpO3MucHVzaCh7dHlwZToidWludDMyIixkYXRhOmx9LHt0eXBlOiJ1aW50MzIiLGRhdGE6YX0se3R5cGU6InVpbnQzMiIsZGF0YTpwfSx7dHlwZToidWludDMyIixkYXRhOmh9KSx1LnB1c2goe25hbWU6Imt3Iix0eXBlOiJ1MzIifSx7bmFtZToic3ciLHR5cGU6InUzMiJ9LHtuYW1lOiJwd1N0YXJ0Iix0eXBlOiJ1MzIifSx7bmFtZToicHdFbmQiLHR5cGU6InUzMiJ9KTtsZXQgYj0hMTtpZih0Lmtlcm5lbFNoYXBlLmxlbmd0aD09PTIpe2xldCB3PXQua2VybmVsU2hhcGVbdC5rZXJuZWxTaGFwZS5sZW5ndGgtMl0seT10LnN0cmlkZXNbdC5zdHJpZGVzLmxlbmd0aC0yXSxfPXQucGFkc1t0LnBhZHMubGVuZ3RoLzItMl0sST10LnBhZHNbdC5wYWRzLmxlbmd0aC0yXTtiPSEhKF8rSSkscy5wdXNoKHt0eXBlOiJ1aW50MzIiLGRhdGE6d30se3R5cGU6InVpbnQzMiIsZGF0YTp5fSx7dHlwZToidWludDMyIixkYXRhOl99LHt0eXBlOiJ1aW50MzIiLGRhdGE6SX0pLHUucHVzaCh7bmFtZToia2giLHR5cGU6InUzMiJ9LHtuYW1lOiJzaCIsdHlwZToidTMyIn0se25hbWU6InBoU3RhcnQiLHR5cGU6InUzMiJ9LHtuYW1lOiJwaEVuZCIsdHlwZToidTMyIn0pfXJldHVybltzLHUsITAsZyxiXX1lbHNle2lmKHIpdGhyb3cgbmV3IEVycm9yKCJQb29saW5nIHdpdGgga2VybmVsU2hhcGUubGVuZ3RoID4gMiBpcyBub3Qgc3VwcG9ydGVkIGZvciBOSFdDIGZvcm1hdC4iKTtsZXQgbD1VLmNvbXB1dGVTdHJpZGVzKHQua2VybmVsU2hhcGUpO3MucHVzaCh7dHlwZToidWludDMyIixkYXRhOmx9LHt0eXBlOiJ1aW50MzIiLGRhdGE6dC5wYWRzfSx7dHlwZToidWludDMyIixkYXRhOnQuc3RyaWRlc30pLHUucHVzaCh7bmFtZToia2VybmVsU3RyaWRlcyIsdHlwZToidTMyIixsZW5ndGg6bC5sZW5ndGh9LHtuYW1lOiJwYWRzIix0eXBlOiJ1MzIiLGxlbmd0aDp0LnBhZHMubGVuZ3RofSx7bmFtZToic3RyaWRlcyIsdHlwZToidTMyIixsZW5ndGg6dC5zdHJpZGVzLmxlbmd0aH0pO2xldCBhPXQucGFkcy5yZWR1Y2UoKHAsaCk9PnAraCk7cmV0dXJuW3MsdSwhIWEsITEsITFdfX0sa3M9KGUsdCxyLG8sbixzLHUsbCxhLHAsaCxnKT0+e2xldCBiPW4uZm9ybWF0PT09Ik5IV0MiLHc9dC50eXBlLnZhbHVlLHk9Rigib3V0cHV0Iix0LnR5cGUudGVuc29yLG8pO2lmKG4ua2VybmVsU2hhcGUubGVuZ3RoPD0yKXtsZXQgXz0iIixJPSIiLCQ9IiIseD1yLShiPzI6MSk7aWYoaD9fPWBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpOiB1MzIgPSAwdTsgaSA8IHVuaWZvcm1zLmt3OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgIHhJbmRpY2VzWyR7eH1dID0gaW5kaWNlc1ske3h9XSAqIHVuaWZvcm1zLnN3IC0gdW5pZm9ybXMucHdTdGFydCArIGk7XG4gICAgICAgICAgICAgICAgICBpZiAoeEluZGljZXNbJHt4fV0gPCAwIHx8IHhJbmRpY2VzWyR7eH1dXG4gICAgICAgICAgICAgICAgICAgICAgPj0gdW5pZm9ybXMueF9zaGFwZVske3h9XSkge1xuICAgICAgICAgICAgICAgICAgICBwYWQrKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBsZXQgeF92YWwgPSB4WyR7dC5pbmRpY2VzVG9PZmZzZXQoInhJbmRpY2VzIil9XTtcbiAgICAgICAgICAgICAgICAgICR7c31cbiAgICAgICAgICAgICAgICB9YDpfPWBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpOiB1MzIgPSAwdTsgaSA8IHVuaWZvcm1zLmt3OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgIHhJbmRpY2VzWyR7eH1dID0gaW5kaWNlc1ske3h9XSAqIHVuaWZvcm1zLnN3IC0gdW5pZm9ybXMucHdTdGFydCArIGk7XG4gICAgICAgICAgICAgICAgICBsZXQgeF92YWwgPSB4WyR7dC5pbmRpY2VzVG9PZmZzZXQoInhJbmRpY2VzIil9XTtcbiAgICAgICAgICAgICAgICAgICR7c31cbiAgICAgICAgICAgICAgICB9YCxuLmtlcm5lbFNoYXBlLmxlbmd0aD09PTIpe2xldCBBPXItKGI/MzoyKTtnP0k9YFxuICAgICAgICAgICAgICAgIGZvciAodmFyIGo6IHUzMiA9IDB1OyBqIDwgdW5pZm9ybXMua2g7IGorKykge1xuICAgICAgICAgICAgICAgICAgeEluZGljZXNbJHtBfV0gPSBpbmRpY2VzWyR7QX1dICogdW5pZm9ybXMuc2ggLSB1bmlmb3Jtcy5waFN0YXJ0ICsgajtcbiAgICAgICAgICAgICAgICAgIGlmICh4SW5kaWNlc1ske0F9XSA8IDAgfHwgeEluZGljZXNbJHtBfV0gPj0gdW5pZm9ybXMueF9zaGFwZVske0F9XSkge1xuICAgICAgICAgICAgICAgICAgICBwYWQgKz0gaTMyKHVuaWZvcm1zLmt3KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGA6ST1gXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgajogdTMyID0gMHU7IGogPCB1bmlmb3Jtcy5raDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICB4SW5kaWNlc1ske0F9XSA9IGluZGljZXNbJHtBfV0gKiB1bmlmb3Jtcy5zaCAtIHVuaWZvcm1zLnBoU3RhcnQgKyBqO1xuICAgICAgICAgICAgICAgIGAsJD1gXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGB9cmV0dXJuYFxuICAgICAgICAgICAgJHtlLnJlZ2lzdGVyVW5pZm9ybXMoYSkuZGVjbGFyZVZhcmlhYmxlcyh0LHkpfVxuXG4gICAgICAgICAgICAke2UubWFpblN0YXJ0KCl9XG4gICAgICAgICAgICAgICR7ZS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9XG5cbiAgICAgICAgICAgICAgbGV0IGluZGljZXMgPSAke3kub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9O1xuICAgICAgICAgICAgICB2YXIgeEluZGljZXMgPSAke3kub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9O1xuXG4gICAgICAgICAgICAgIHZhciB2YWx1ZSA9ICR7d30oJHtsfSk7XG4gICAgICAgICAgICAgIHZhciBwYWQgPSAwO1xuICAgICAgICAgICAgICAke0l9XG4gICAgICAgICAgICAgICR7X31cbiAgICAgICAgICAgICAgJHskfVxuICAgICAgICAgICAgICAke3V9XG5cbiAgICAgICAgICAgICAgb3V0cHV0W2dsb2JhbF9pZHhdID0gdmFsdWU7XG4gICAgICAgICAgICB9YH1lbHNle2lmKGIpdGhyb3cgbmV3IEVycm9yKCJQb29saW5nIHdpdGgga2VybmVsU2hhcGUubGVuZ3RoID4gMiBpcyBub3Qgc3VwcG9ydGVkIGZvciBOSFdDIGZvcm1hdC4iKTtsZXQgXz1uLmtlcm5lbFNoYXBlLmxlbmd0aCxJPW4ucGFkcy5sZW5ndGgsJD0iIjtyZXR1cm4gcD8kPWBcbiAgICAgICAgICAgICAgICBpZiAoeEluZGljZXNbal0gPj0gdW5pZm9ybXMueF9zaGFwZVtqXSkge1xuICAgICAgICAgICAgICAgICAgcGFkKys7XG4gICAgICAgICAgICAgICAgICBpc1BhZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFpc1BhZCkge1xuICAgICAgICAgICAgICAgIGxldCB4X3ZhbCA9IHhbJHt0LmluZGljZXNUb09mZnNldCgieEluZGljZXMiKX1dO1xuICAgICAgICAgICAgICAgICR7c31cbiAgICAgICAgICAgICAgfWA6JD1gXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGV0IHhfdmFsID0geFske3QuaW5kaWNlc1RvT2Zmc2V0KCJ4SW5kaWNlcyIpfV07XG4gICAgICAgICAgICAgICR7c31cbiAgICAgICAgICAgIGAsYFxuICAgICAgICAgICAgJHtlLnJlZ2lzdGVyVW5pZm9ybXMoYSkuZGVjbGFyZVZhcmlhYmxlcyh0LHkpfVxuXG4gICAgICAgICAgICAke2UubWFpblN0YXJ0KCl9XG4gICAgICAgICAgICAgICR7ZS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9XG4gICAgICAgICAgICAgIGxldCBpbmRpY2VzID0gJHt5Lm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcbiAgICAgICAgICAgICAgdmFyIHhJbmRpY2VzID0gJHt5Lm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcblxuICAgICAgICAgICAgICB2YXIgb2Zmc2V0czogYXJyYXk8dTMyLCAke199PjtcblxuICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAke3d9KCR7bH0pO1xuICAgICAgICAgICAgICB2YXIgcGFkID0gMDtcbiAgICAgICAgICAgICAgdmFyIGlzUGFkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgaTogdTMyID0gMHU7IGkgPCB1bmlmb3Jtcy5rZXJuZWxTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gaTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMHU7IGogPCAke18tMX11OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgIG9mZnNldHNbal0gPSBvZmZzZXQgLyAke2NlKCJ1bmlmb3Jtcy5rZXJuZWxTdHJpZGVzIiwiaiIsXyl9O1xuICAgICAgICAgICAgICAgICAgb2Zmc2V0IC09IG9mZnNldHNbal0gKiAke2NlKCJ1bmlmb3Jtcy5rZXJuZWxTdHJpZGVzIiwiaiIsXyl9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvZmZzZXRzWyR7Xy0xfV0gPSBvZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICBpc1BhZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAke3ItX311OyBqIDwgJHtyfXU7IGorKykge1xuICAgICAgICAgICAgICAgICAgeEluZGljZXNbal0gPSBpbmRpY2VzW2pdICogJHtjZSgidW5pZm9ybXMuc3RyaWRlcyIsYGogLSAke3ItX311YCxfKX1cbiAgICAgICAgICAgICAgICAgICAgKyBvZmZzZXRzW2ogLSAke3ItX311XSAtICR7Y2UoInVuaWZvcm1zLnBhZHMiLCJqIC0gMnUiLEkpfTtcbiAgICAgICAgICAgICAgICAgICR7JH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAke3V9XG5cbiAgICAgICAgICAgICAgb3V0cHV0W2dsb2JhbF9pZHhdID0gdmFsdWU7XG4gICAgICAgICAgICB9YH19LFJzPWU9PmAke2UuZm9ybWF0fTske2UuY2VpbE1vZGV9OyR7ZS5hdXRvUGFkfTske2Uua2VybmVsU2hhcGUubGVuZ3RofWAsWGw9ZT0+YCR7UnMoZSl9OyR7ZS5jb3VudEluY2x1ZGVQYWR9YCxKbD1lPT5gJHtScyhlKX07JHtlLnN0b3JhZ2VPcmRlcn07JHtlLmRpbGF0aW9uc31gLEJzPWU9Pih7Zm9ybWF0OmUuZm9ybWF0LGF1dG9QYWQ6WyJOT1RTRVQiLCJWQUxJRCIsIlNBTUVfVVBQRVIiLCJTQU1FX0xPV0VSIl1bZS5hdXRvX3BhZF0sY2VpbE1vZGU6ZS5jZWlsX21vZGUsa2VybmVsU2hhcGU6ZS5rZXJuZWxfc2hhcGUsc3RyaWRlczplLnN0cmlkZXMscGFkczplLnBhZHN9KSxEcz0oZSx0LHIsbyk9PntsZXRbbixzXT1Pcyh0LG8sciksdT1NKCJ4Iix0LmRhdGFUeXBlLHQuZGltcy5sZW5ndGgpLGw9dS50eXBlLnZhbHVlLGE9InZhbHVlICs9IHhfdmFsOyIscD0iIjtuLmNvdW50SW5jbHVkZVBhZD9wKz1gdmFsdWUgLz0gJHtsfSh1bmlmb3Jtcy5rZXJuZWxTaXplKTtgOnArPWB2YWx1ZSAvPSAke2x9KGkzMih1bmlmb3Jtcy5rZXJuZWxTaXplKSAtIHBhZCk7YDtsZXRbaCxnLGIsdyx5XT1QcyhzLG4pO2gucHVzaCguLi5MKHQuZGltcyksLi4uTChzKSk7bGV0IF89WyJyYW5rIl07cmV0dXJue25hbWU6ZSxzaGFkZXJDYWNoZTp7aGludDpgJHtvLmNhY2hlS2V5fTske2J9OyR7d307JHt5fWAsaW5wdXREZXBlbmRlbmNpZXM6X30sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpzLGRhdGFUeXBlOnQuZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChVLnNpemUocykvNjQpfSxwcm9ncmFtVW5pZm9ybXM6aH0pLGdldFNoYWRlclNvdXJjZTpJPT5rcyhJLHUsdC5kaW1zLmxlbmd0aCxzLmxlbmd0aCxuLGEscCwwLGcsYix3LHkpfX0sTXM9ZT0+e2xldCB0PWUuY291bnRfaW5jbHVkZV9wYWQhPT0wLHI9QnMoZSk7aWYoci5jZWlsTW9kZSE9PTApdGhyb3cgbmV3IEVycm9yKCJ1c2luZyBjZWlsKCkgaW4gc2hhcGUgY29tcHV0YXRpb24gaXMgbm90IHlldCBzdXBwb3J0ZWQgZm9yIEF2ZXJhZ2VQb29sIik7bGV0IG89e2NvdW50SW5jbHVkZVBhZDp0LC4uLnIsY2FjaGVLZXk6IiJ9O3JldHVybnsuLi5vLGNhY2hlS2V5OlhsKG8pfX0senM9KGUsdCk9PntubihlLmlucHV0cyksZS5jb21wdXRlKERzKCJBdmVyYWdlUG9vbCIsZS5pbnB1dHNbMF0sITEsdCkpfSxVcz17YXV0b1BhZDoiIixjZWlsTW9kZTowLGNvdW50SW5jbHVkZVBhZDohMSxrZXJuZWxTaGFwZTpbXSxzdHJpZGVzOltdLHBhZHM6W10sc3RvcmFnZU9yZGVyOjAsZGlsYXRpb25zOltdfSxWcz1lPT57bGV0IHQ9ZS5mb3JtYXQ7cmV0dXJue2Zvcm1hdDp0LC4uLlVzLGNhY2hlS2V5OnR9fSxOcz0oZSx0KT0+e25uKGUuaW5wdXRzKSxlLmNvbXB1dGUoRHMoIkdsb2JhbEF2ZXJhZ2VQb29sIixlLmlucHV0c1swXSwhMCx0KSl9LFdzPShlLHQscixvKT0+e2xldFtuLHNdPU9zKHQsbyxyKSx1PWBcbiAgICAgIHZhbHVlID0gbWF4KHhfdmFsLCB2YWx1ZSk7XG4gICAgYCxsPSIiLGE9TSgieCIsdC5kYXRhVHlwZSx0LmRpbXMubGVuZ3RoKSxwPVsicmFuayJdLFtoLGcsYix3LHldPVBzKHMsbik7cmV0dXJuIGgucHVzaCguLi5MKHQuZGltcyksLi4uTChzKSkse25hbWU6ZSxzaGFkZXJDYWNoZTp7aGludDpgJHtvLmNhY2hlS2V5fTske2J9OyR7d307JHt5fWAsaW5wdXREZXBlbmRlbmNpZXM6cH0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpzLGRhdGFUeXBlOnQuZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChVLnNpemUocykvNjQpfSxwcm9ncmFtVW5pZm9ybXM6aH0pLGdldFNoYWRlclNvdXJjZTpfPT5rcyhfLGEsdC5kaW1zLmxlbmd0aCxzLmxlbmd0aCxuLHUsbCwtMWU1LGcsYix3LHkpfX0sSHM9KGUsdCk9PntubihlLmlucHV0cyksZS5jb21wdXRlKFdzKCJNYXhQb29sIixlLmlucHV0c1swXSwhMSx0KSl9LEdzPWU9PntsZXQgdD1lLnN0b3JhZ2Vfb3JkZXIscj1lLmRpbGF0aW9ucyxvPUJzKGUpO2lmKHQhPT0wKXRocm93IG5ldyBFcnJvcigiY29sdW1uIG1ham9yIHN0b3JhZ2Ugb3JkZXIgaXMgbm90IHlldCBzdXBwb3J0ZWQgZm9yIE1heFBvb2wiKTtpZihvLmNlaWxNb2RlIT09MCl0aHJvdyBuZXcgRXJyb3IoInVzaW5nIGNlaWwoKSBpbiBzaGFwZSBjb21wdXRhdGlvbiBpcyBub3QgeWV0IHN1cHBvcnRlZCBmb3IgTWF4UG9vbCIpO2xldCBuPXtzdG9yYWdlT3JkZXI6dCxkaWxhdGlvbnM6ciwuLi5vLGNhY2hlS2V5OiIifTtyZXR1cm57Li4ubixjYWNoZUtleTpKbChuKX19LExzPWU9PntsZXQgdD1lLmZvcm1hdDtyZXR1cm57Zm9ybWF0OnQsLi4uVXMsY2FjaGVLZXk6dH19LEZzPShlLHQpPT57bm4oZS5pbnB1dHMpLGUuY29tcHV0ZShXcygiR2xvYmFsTWF4UG9vbCIsZS5pbnB1dHNbMF0sITAsdCkpfX0pO3ZhciB0YyxyYyxxcyxLcz1qKCgpPT57InVzZSBzdHJpY3QiO0x0KCk7TmUoKTt2ZSgpO3RjPShlLHQscik9PntsZXQgbz1lPT09dCxuPWU8dCYmcjwwLHM9ZT50JiZyPjA7aWYob3x8bnx8cyl0aHJvdyBuZXcgRXJyb3IoIlJhbmdlIHRoZXNlIGlucHV0c1wnIGNvbnRlbnRzIGFyZSBpbnZhbGlkLiIpfSxyYz0oZSx0LHIsbyk9PntsZXQgbj1NYXRoLmFicyhNYXRoLmNlaWwoKHQtZSkvcikpLHM9W25dLHU9bixsPVhlKG8pLGE9W3t0eXBlOiJ1aW50MzIiLGRhdGE6dX0se3R5cGU6bCxkYXRhOmV9LHt0eXBlOmwsZGF0YTpyfSwuLi5MKHMpXSxwPWg9PntsZXQgZz1GKCJvdXRwdXQiLG8scy5sZW5ndGgpLGI9Zy50eXBlLnZhbHVlLHc9W3tuYW1lOiJvdXRwdXRTaXplIix0eXBlOiJ1MzIifSx7bmFtZToic3RhcnQiLHR5cGU6Yn0se25hbWU6ImRlbHRhIix0eXBlOmJ9XTtyZXR1cm5gXG4gICAgICAgICR7aC5yZWdpc3RlclVuaWZvcm1zKHcpLmRlY2xhcmVWYXJpYWJsZXMoZyl9XG4gICAgICAgICR7aC5tYWluU3RhcnQoKX1cbiAgICAgICAgJHtoLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dFNpemUiKX1cbiAgICAgICAgb3V0cHV0W2dsb2JhbF9pZHhdID0gdW5pZm9ybXMuc3RhcnQgKyAke2J9KGdsb2JhbF9pZHgpICogdW5pZm9ybXMuZGVsdGE7XG4gICAgICB9YH07cmV0dXJue25hbWU6IlJhbmdlIixzaGFkZXJDYWNoZTp7aGludDpgJHtvfWB9LGdldFNoYWRlclNvdXJjZTpwLGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cyxkYXRhVHlwZTpvfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwodS82NCl9LHByb2dyYW1Vbmlmb3JtczphfSl9fSxxcz1lPT57bGV0IHQ9MCxyPTAsbz0wO2UuaW5wdXRzWzBdLmRhdGFUeXBlPT09Nj8odD1lLmlucHV0c1swXS5nZXRJbnQzMkFycmF5KClbMF0scj1lLmlucHV0c1sxXS5nZXRJbnQzMkFycmF5KClbMF0sbz1lLmlucHV0c1syXS5nZXRJbnQzMkFycmF5KClbMF0pOmUuaW5wdXRzWzBdLmRhdGFUeXBlPT09MSYmKHQ9ZS5pbnB1dHNbMF0uZ2V0RmxvYXQzMkFycmF5KClbMF0scj1lLmlucHV0c1sxXS5nZXRGbG9hdDMyQXJyYXkoKVswXSxvPWUuaW5wdXRzWzJdLmdldEZsb2F0MzJBcnJheSgpWzBdKSxHdC53ZWJncHUudmFsaWRhdGVJbnB1dENvbnRlbnQmJnRjKHQscixvKSxlLmNvbXB1dGUocmModCxyLG8sZS5pbnB1dHNbMF0uZGF0YVR5cGUpLHtpbnB1dHM6W119KX19KTt2YXIgbmMsb2MsYWMsaWMsc2MsdWMsZGMsbGMsY2MscGMsbWMsWXMsZmMsaGMsZ2MseWMsYmMsWnMsUXMsWHM9aigoKT0+eyJ1c2Ugc3RyaWN0IjskZSgpO2plKCk7dmUoKTtuYz0oZSx0KT0+e2lmKGUuZXZlcnkocj0+cj4wfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIlJlc2l6ZSByZXF1aXJlcyBzY2FsZXMgaW5wdXQgdmFsdWVzIHRvIGJlIHBvc2l0aXZlIil9KSksZS5sZW5ndGg+MCl7aWYodC5tb2RlPT09ImxpbmVhciIpe2lmKCEoZS5sZW5ndGg9PT0yfHxlLmxlbmd0aD09PTN8fGUubGVuZ3RoPT09NCYmZVswXT09PTEmJmVbMV09PT0xfHxlLmxlbmd0aD09PTQmJmVbMF09PT0xJiZlWzNdPT09MXx8ZS5sZW5ndGg9PT01JiZlWzBdPT09MSYmZVsxXT09PTEpKXRocm93IG5ldyBFcnJvcihgRm9yIGxpbmVhciBtb2RlLCBSZXNpemUgcmVxdWlyZXMgc2NhbGVzIHRvIGJlIDJELCAzRCwgNEQgd2l0aCBlaXRoZXIgdHdvIG91dGVybW9zdCBvciBvbmUgaW5uZXJtb3N0IGFuZFxuICAgICAgICAgICAgb25lIG91dGVybW9zdCBzY2FsZSB2YWx1ZXMgZXF1YWwgdG8gMSwgb3IgNUQgd2l0aCB0d28gb3V0ZXJtb3N0IHNjYWxlIHZhbHVlcyBlcXVhbCB0byAxYCl9ZWxzZSBpZih0Lm1vZGU9PT0iY3ViaWMiJiYhKGUubGVuZ3RoPT09Mnx8ZS5sZW5ndGg9PT00JiZlWzBdPT09MSYmZVsxXT09PTF8fGUubGVuZ3RoPT09NCYmZVswXT09PTEmJmVbM109PT0xKSl0aHJvdyBuZXcgRXJyb3IoIlJlc2l6ZSByZXF1aXJlcyBzY2FsZXMgaW5wdXQgc2l6ZSB0byBiZSAyIG9yIDQgZm9yIGN1YmljIG1vZGUiKX19LG9jPShlLHQscik9Pnt0LmV2ZXJ5KG49Pm4+PTAmJm48cnx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJSZXNpemUgcmVxdWlyZXMgYXhlcyBpbnB1dCB2YWx1ZXMgdG8gYmUgcG9zaXRpdmUgYW5kIGxlc3MgdGhhbiByYW5rIil9KSk7bGV0IG89bmV3IEFycmF5KHIpLmZpbGwoMSk7cmV0dXJuIHQuZm9yRWFjaCgobixzKT0+b1tuXT1lW3NdKSxvfSxhYz0oZSx0LHIsbyxuLHMpPT57bGV0W3UsbCxhXT1yPjEwP1sxLDIsM106Wy0xLGUubGVuZ3RoPjE/MTotMSwtMV0scD1lWzBdLmRpbXMubGVuZ3RoO2lmKHU+MCYmZS5sZW5ndGg+dSYmZVt1XS5kaW1zLmxlbmd0aD4wKWVbdV0uZ2V0RmxvYXQzMkFycmF5KCkuZm9yRWFjaChoPT5zLnB1c2goaCkpO2Vsc2UgaWYodC5jb29yZGluYXRlVHJhbnNmb3JtTW9kZT09PSJ0Zl9jcm9wX2FuZF9yZXNpemUiKXRocm93IG5ldyBFcnJvcigiUmVzaXplIHJlcXVpcmVzIFJvSSBpbnB1dCB0byBiZSBzcGVjaWZpZWQgd2hlbiBjb29yZGluYXRlVHJhbnNmb3JtTW9kZSBpcyB0ZkNyb3BBbmRSZXNpemUiKTtpZihsPjAmJmUubGVuZ3RoPmwmJmVbbF0uZGltcy5sZW5ndGg+MCl7aWYoZVtsXS5nZXRGbG9hdDMyQXJyYXkoKS5mb3JFYWNoKGg9Pm8ucHVzaChoKSksby5sZW5ndGghPT0wJiZvLmxlbmd0aCE9PXAmJnI+PTE4JiZvLmxlbmd0aCE9PXQuYXhlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJSZXNpemUgcmVxdWlyZXMgc2NhbGVzIGlucHV0IHNpemUgdG8gYmUgc2FtZSBhcyBpbnB1dCByYW5rIG9yIGF4ZXMgc2l6ZSBmb3Igb3BzZXQgMTggYW5kIHVwIik7bmMobyx0KSx0LmF4ZXMubGVuZ3RoPjAmJm9jKG8sdC5heGVzLHApLmZvckVhY2goKGgsZyk9Pm9bZ109aCl9aWYoYT4wJiZlLmxlbmd0aD5hJiYoZVthXS5nZXRCaWdJbnQ2NEFycmF5KCkuZm9yRWFjaChoPT5uLnB1c2goTnVtYmVyKGgpKSksbi5sZW5ndGghPT1wfHxyPj0xOCYmbi5sZW5ndGg9PT10LmF4ZXMubGVuZ3RoKSl0aHJvdyBuZXcgRXJyb3IoIlJlc2l6ZSByZXF1aXJlcyBzaXplcyBpbnB1dCBzaXplIHRvIGJlIHNhbWUgYXMgaW5wdXQgcmFuayBvciBheGVzIHNpemUgZm9yIG9wc2V0IDE4IGFuZCB1cCIpO2lmKHQuYXhlcy5sZW5ndGg+MCl7aWYoby5sZW5ndGghPT10LmF4ZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcJ1Jlc2l6ZSByZXF1aXJlcyAic2NhbGVzIiBpbnB1dCBzaXplIHRvIGJlIG9mIGF4ZXMgcmFuayB3aGVuIGF4ZXMgYXR0cmlidXRlcyBpcyBzcGVjaWZpZWRcJyk7aWYobi5sZW5ndGghPT10LmF4ZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcJ1Jlc2l6ZSByZXF1aXJlcyAic2l6ZXMiIGlucHV0IHNpemUgdG8gYmUgb2YgcmFuayBheGVzIHJhbmsgd2hlbiBheGVzIGF0dHJpYnV0ZXMgaXMgc3BlY2lmaWVkXCcpfWlmKHR5cGVvZiBvPCJ1IiYmdHlwZW9mIG48InUiJiZvLmxlbmd0aD4wJiZuLmxlbmd0aD5wKXRocm93IG5ldyBFcnJvcigiUmVzaXplIHJlcXVpcmVzIG9ubHkgb2Ygc2NhbGVzIG9yIHNpemVzIHRvIGJlIHNwZWNpZmllZCIpfSxpYz0oZSx0KT0+YGZuIGdldE9yaWdpbmFsQ29vcmRpbmF0ZUZyb21SZXNpemVkQ29vcmRpbmF0ZSh4UmVzaXplZDogdTMyLCB4U2NhbGU6IGYzMiwgbGVuZ3RoUmVzaXplZDogdTMyLFxuICAgICBsZW5ndGhPcmlnaW5hbDogdTMyLCByb2lTdGFydDogZjMyLCByb2lFbmQ6IGYzMikgLT4gJHt0fSB7IGArKCgpPT57c3dpdGNoKGUpe2Nhc2UiYXN5bW1ldHJpYyI6cmV0dXJuYHJldHVybiAke3R9KHhSZXNpemVkKSAvICR7dH0oeFNjYWxlKTtgO2Nhc2UicHl0b3JjaF9oYWxmX3BpeGVsIjpyZXR1cm5gaWYgKGxlbmd0aFJlc2l6ZWQgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoJHt0fSh4UmVzaXplZCkgKyAwLjUpIC8gJHt0fSh4U2NhbGUpIC0gMC41O1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDAuMDtcbiAgICAgICAgICAgICAgICAgIH1gO2Nhc2UidGZfaGFsZl9waXhlbF9mb3Jfbm4iOnJldHVybmByZXR1cm4gKCR7dH0oeFJlc2l6ZWQpICsgMC41KSAvICR7dH0oeFNjYWxlKTtgO2Nhc2UiYWxpZ25fY29ybmVycyI6cmV0dXJuYGlmIChsZW5ndGhSZXNpemVkID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDAuMDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB3aG9sZSBwYXJ0IGFuZCB0aGUgZnJhY3Rpb25hbCBwYXJ0IGFyZSBjYWxjdWxhdGVkIHNlcGFyYXRlbHkgZHVlIHRvIGluYWNjdXJhY3kgb2YgZmxvYXRpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gcG9pbnQgZGl2aXNpb24uIEFzIGFuIGV4YW1wbGUsIGYzMigyMSkgLyBmMzIoNykgbWF5IGV2YWx1YXRlIHRvIDIuOTkuLi4gaW5zdGVhZCBvZiAzLCBjYXVzaW5nIGFuXG4gICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldC1ieS1vbmUgZXJyb3IgbGF0ZXIgaW4gZmxvb3IoKS5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHdob2xlID0gJHt0fSh4UmVzaXplZCAqIChsZW5ndGhPcmlnaW5hbCAtIDEpIC8gKGxlbmd0aFJlc2l6ZWQgLSAxKSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmcmFjdCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAke3R9KHhSZXNpemVkICogKGxlbmd0aE9yaWdpbmFsIC0gMSkgJSAobGVuZ3RoUmVzaXplZCAtIDEpKSAvICR7dH0obGVuZ3RoUmVzaXplZCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2hvbGUgKyBmcmFjdDtcbiAgICAgICAgICAgICAgICAgIH1gO2Nhc2UidGZfY3JvcF9hbmRfcmVzaXplIjpyZXR1cm5gaWYgKGxlbmd0aFJlc2l6ZWQgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAke3R9KHJvaVN0YXJ0KSAqICR7dH0obGVuZ3RoT3JpZ2luYWwgLSAxKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAoJHt0fSh4UmVzaXplZCkgKiAke3R9KHJvaUVuZCAtIHJvaVN0YXJ0KSAqICR7dH0obGVuZ3RoT3JpZ2luYWwgLSAxKSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgJHt0fShsZW5ndGhSZXNpemVkIC0gMSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMC41ICogJHt0fShyb2lTdGFydCArIHJvaUVuZCkgKiAke3R9KGxlbmd0aE9yaWdpbmFsIC0gMSk7XG4gICAgICAgICAgICAgICAgICB9YDtjYXNlImhhbGZfcGl4ZWxfc3ltbWV0cmljIjpyZXR1cm5gY29uc3Qgb3V0cHV0V2lkdGggPSAke3R9eFNjYWxlICogJHt0fShsZW5ndGhSZXNpemVkKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGFkanVzdG1lbnQgPSAke3R9KGxlbmd0aFJlc2l6ZWQpIC8gb3V0cHV0V2lkdGg7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXIgPSAke3R9KGxlbmd0aE9yaWdpbmFsKSAvIDI7XG4gICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBjZW50ZXIgKiAoMSAtIGFkanVzdG1lbnQpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG9mZnNldCArICgoJHt0fSh4UmVzaXplZCkgKyAwLjUpIC8gJHt0fSh4U2NhbGUpKSAtIDAuNTtgO2Nhc2UiaGFsZl9waXhlbCI6cmV0dXJuYHJldHVybiAoKCR7dH0oeFJlc2l6ZWQpICsgMC41KSAvICR7dH0oeFNjYWxlKSkgLSAwLjU7YDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgQ29vcmRpbmF0ZSB0cmFuc2Zvcm0gbW9kZSAke2V9IGlzIG5vdCBzdXBwb3J0ZWRgKX19KSgpKyJ9IixzYz0oZSx0LHIpPT5gZm4gZ2V0TmVhcmVzdFBpeGVsRnJvbU9yaWdpbmFsKHhPcmlnaW5hbDogJHtyfSwgaXNEb3duU2FtcGxlOiBib29sKSAtPiAke3J9IHtgKygoKT0+e3N3aXRjaChlKXtjYXNlInJvdW5kX3ByZWZlcl9jZWlsIjpyZXR1cm4iaWYgKGZyYWN0KHhPcmlnaW5hbCkgPT0gMC41KSB7ICAgICAgICAgICAgIHJldHVybiBjZWlsKHhPcmlnaW5hbCk7ICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICByZXR1cm4gcm91bmQoeE9yaWdpbmFsKTsgICAgICAgICAgIH0iO2Nhc2UiZmxvb3IiOnJldHVybiJyZXR1cm4gZmxvb3IoeE9yaWdpbmFsKTsiO2Nhc2UiY2VpbCI6cmV0dXJuInJldHVybiBjZWlsKHhPcmlnaW5hbCk7IjtjYXNlInJvdW5kX3ByZWZlcl9mbG9vciI6cmV0dXJuImlmIChmcmFjdCh4T3JpZ2luYWwpID09IDAuNSkgeyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmbG9vcih4T3JpZ2luYWwpOyAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgIHJldHVybiByb3VuZCh4T3JpZ2luYWwpOyAgICAgICAgICAgICAgICAgICB9IjtjYXNlInNpbXBsZSI6ZGVmYXVsdDppZih0PDExKXJldHVybiJpZiAoaXNEb3duU2FtcGxlKSAgICAgICAgICAgICAgICAgICAgIHsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZWlsKHhPcmlnaW5hbCk7ICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB4T3JpZ2luYWw7ICAgICAgICAgICAgICAgICAgICAgfSI7dGhyb3cgbmV3IEVycm9yKGBOZWFyZXN0IG1vZGUgJHtlfSBpcyBub3Qgc3VwcG9ydGVkYCl9fSkoKSsifSIsdWM9KGUsdCxyKT0+e2xldCBvPW5ldyBBcnJheShyKS5maWxsKDApLmNvbmNhdChuZXcgQXJyYXkocikuZmlsbCgxKSksbj1lLmxlbmd0aD09PTA/bzplLnNsaWNlKCk7cmV0dXJuIHQubGVuZ3RoPjA/KHQuZm9yRWFjaCgocyx1KT0+e29bc109blt1XSxvW3Urcl09blt0Lmxlbmd0aCt1XX0pLG8pOm59LGRjPShlLHQscixvKT0+e2xldCBuPVtdO2lmKHIubGVuZ3RoPjApaWYoby5sZW5ndGg+MCl7aWYoZS5mb3JFYWNoKHM9Pm4ucHVzaChzKSksTWF0aC5tYXgoLi4ubyk+ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJheGVzIGlzIG91dCBvZiBib3VuZCIpO28uZm9yRWFjaCgocyx1KT0+bltzXT1yW3VdKX1lbHNlIHIuZm9yRWFjaChzPT5uLnB1c2gocykpO2Vsc2V7aWYodC5sZW5ndGg9PT0wKXRocm93IG5ldyBFcnJvcigiUmVzaXplIHJlcXVpcmVzIGVpdGhlciBzY2FsZXMgb3Igc2l6ZXMuIik7bj1lLm1hcCgocyx1KT0+TWF0aC5yb3VuZChzKnRbdV0pKX1yZXR1cm4gbn0sbGM9KGUsdCxyKT0+e2xldCBvPSgoKT0+e3N3aXRjaChyLmtlZXBBc3BlY3RSYXRpb1BvbGljeSl7Y2FzZSJub3RfbGFyZ2VyIjpyZXR1cm4gci5heGVzLmxlbmd0aD4wP01hdGgubWluKC4uLnIuYXhlcy5tYXAocz0+dFtzXSksTnVtYmVyLk1BWF9WQUxVRSk6TWF0aC5taW4oLi4udCxOdW1iZXIuTUFYX1ZBTFVFKTtjYXNlIm5vdF9zbWFsbGVyIjpyZXR1cm4gci5heGVzLmxlbmd0aD4wP01hdGgubWF4KC4uLnIuYXhlcy5tYXAocz0+dFtzXSksTnVtYmVyLk1JTl9WQUxVRSk6TWF0aC5tYXgoLi4udCxOdW1iZXIuTUlOX1ZBTFVFKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgS2VlcCBhc3BlY3QgcmF0aW8gcG9saWN5ICR7ci5rZWVwQXNwZWN0UmF0aW9Qb2xpY3l9IGlzIG5vdCBzdXBwb3J0ZWRgKX19KSgpO3QuZmlsbCgxLDAsdC5sZW5ndGgpO2xldCBuPWUuc2xpY2UoKTtyZXR1cm4gci5heGVzLmxlbmd0aD4wPyhyLmF4ZXMuZm9yRWFjaChzPT50W3NdPW8pLHIuYXhlcy5mb3JFYWNoKHM9Pm5bc109TWF0aC5yb3VuZChlW3NdKnRbc10pKSk6KHQuZmlsbChvLDAsdC5sZW5ndGgpLG4uZm9yRWFjaCgocyx1KT0+blt1XT1NYXRoLnJvdW5kKHMqdFt1XSkpKSxufSxjYz0oZSx0LHIsbyxuKT0+YFxuICAgIGZuIGNhbGN1bGF0ZU9yaWdpbmFsSW5kaWNlc0Zyb21PdXRwdXRJbmRpY2VzKG91dHB1dF9pbmRpY2VzOiAke2UudHlwZS5pbmRpY2VzfSkgLT4gYXJyYXk8JHtlLnR5cGUudmFsdWV9LCAke3IubGVuZ3RofT4ge1xuICAgICAgdmFyIG9yaWdpbmFsX2luZGljZXM6IGFycmF5PCR7ZS50eXBlLnZhbHVlfSwgJHtyLmxlbmd0aH0+O1xuICAgICAgZm9yICh2YXIgaTp1MzIgPSAwOyBpIDwgJHtyLmxlbmd0aH07IGkrKykge1xuICAgICAgICB2YXIgb3V0cHV0X2luZGV4ID0gJHtlLmluZGljZXNHZXQoIm91dHB1dF9pbmRpY2VzIiwiaSIpfTtcbiAgICAgICAgdmFyIHNjYWxlID0gJHtjZSgidW5pZm9ybXMuc2NhbGVzIiwiaSIsbyl9O1xuICAgICAgICB2YXIgcm9pX2xvdyA9ICR7Y2UoInVuaWZvcm1zLnJvaSIsImkiLG4pfTtcbiAgICAgICAgdmFyIHJvaV9oaSA9ICR7Y2UoInVuaWZvcm1zLnJvaSIsYGkgKyAke3QubGVuZ3RofWAsbil9O1xuICAgICAgICBpZiAoc2NhbGUgPT0gMS4wKSB7XG4gICAgICAgICAgb3JpZ2luYWxfaW5kaWNlc1tpXSA9ICR7ZS50eXBlLnZhbHVlfShvdXRwdXRfaW5kZXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBpbnB1dF9zaGFwZV9pID0gJHtjZSgidW5pZm9ybXMuaW5wdXRfc2hhcGUiLCJpIix0Lmxlbmd0aCl9O1xuICAgICAgICAgIHZhciBvdXRwdXRfc2hhcGVfaSA9ICR7Y2UoInVuaWZvcm1zLm91dHB1dF9zaGFwZSIsImkiLHIubGVuZ3RoKX07XG4gICAgICAgICAgb3JpZ2luYWxfaW5kaWNlc1tpXSA9IGdldE9yaWdpbmFsQ29vcmRpbmF0ZUZyb21SZXNpemVkQ29vcmRpbmF0ZShvdXRwdXRfaW5kZXgsIHNjYWxlLCBvdXRwdXRfc2hhcGVfaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0X3NoYXBlX2ksIHJvaV9sb3csIHJvaV9oaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvcmlnaW5hbF9pbmRpY2VzO1xuICAgIH1gLHBjPShlLHQscixvLG4scyx1KT0+YFxuICAgIGZuIGNhbGN1bGF0ZUlucHV0SW5kaWNlc0Zyb21PdXRwdXRJbmRpY2VzKG91dHB1dF9pbmRpY2VzOiAke3QudHlwZS5pbmRpY2VzfSkgLT4gJHtlLnR5cGUuaW5kaWNlc30ge1xuICAgICAgdmFyIGlucHV0X2luZGljZXM6ICR7ZS50eXBlLmluZGljZXN9O1xuICAgICAgZm9yICh2YXIgaTp1MzIgPSAwOyBpIDwgJHtvLmxlbmd0aH07IGkrKykge1xuICAgICAgICB2YXIgb3V0cHV0X2luZGV4ID0gJHt0LmluZGljZXNHZXQoIm91dHB1dF9pbmRpY2VzIiwiaSIpfTtcbiAgICAgICAgdmFyIGlucHV0X2luZGV4OiB1MzI7XG4gICAgICAgIHZhciBzY2FsZSA9ICR7Y2UoInVuaWZvcm1zLnNjYWxlcyIsImkiLG4pfTtcbiAgICAgICAgaWYgKHNjYWxlID09IDEuMCkge1xuICAgICAgICAgIGlucHV0X2luZGV4ID0gb3V0cHV0X2luZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByb2lfbG93ID0gJHtjZSgidW5pZm9ybXMucm9pIiwiaSIscyl9O1xuICAgICAgICAgIHZhciByb2lfaGkgPSAke2NlKCJ1bmlmb3Jtcy5yb2kiLGBpICsgJHtyLmxlbmd0aH1gLHMpfTtcbiAgICAgICAgICB2YXIgaW5wdXRfc2hhcGVfaSA9ICR7Y2UoInVuaWZvcm1zLmlucHV0X3NoYXBlIiwiaSIsci5sZW5ndGgpfTtcbiAgICAgICAgICB2YXIgb3V0cHV0X3NoYXBlX2kgPSAke2NlKCJ1bmlmb3Jtcy5vdXRwdXRfc2hhcGUiLCJpIixvLmxlbmd0aCl9O1xuICAgICAgICAgIHZhciBvcmlnaW5hbF9pZHggPSBnZXRPcmlnaW5hbENvb3JkaW5hdGVGcm9tUmVzaXplZENvb3JkaW5hdGUob3V0cHV0X2luZGV4LCBzY2FsZSwgb3V0cHV0X3NoYXBlX2ksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dF9zaGFwZV9pLCByb2lfbG93LCByb2lfaGkpO1xuICAgICAgICAgIGlmICghJHt1fSB8fCAob3JpZ2luYWxfaWR4ID49IDAgJiYgb3JpZ2luYWxfaWR4IDwgJHt0LnR5cGUudmFsdWV9KGlucHV0X3NoYXBlX2kpKSkge1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsX2lkeCA8IDApIHtcbiAgICAgICAgICAgICAgaW5wdXRfaW5kZXggPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcmlnaW5hbF9pZHggPiAke3QudHlwZS52YWx1ZX0oaW5wdXRfc2hhcGVfaSAtIDEpKSB7XG4gICAgICAgICAgICAgIGlucHV0X2luZGV4ID0gaW5wdXRfc2hhcGVfaSAtIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpbnB1dF9pbmRleCA9IHUzMihnZXROZWFyZXN0UGl4ZWxGcm9tT3JpZ2luYWwob3JpZ2luYWxfaWR4LCBzY2FsZSA8IDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXRfaW5kZXggPSB1MzIob3JpZ2luYWxfaWR4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgJHtlLmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLCJpIiwiIGlucHV0X2luZGV4Iil9XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5wdXRfaW5kaWNlcztcbiAgICB9YCxtYz0oZSx0KT0+YFxuICAgIGZuIGNoZWNrSW5wdXRJbmRpY2VzKGlucHV0X2luZGljZXM6ICR7ZS50eXBlLmluZGljZXN9KSAtPiBib29sIHtcbiAgICAgIGZvciAodmFyIGk6dTMyID0gMDsgaSA8ICR7dC5sZW5ndGh9OyBpKyspIHtcbiAgICAgICAgdmFyIGlucHV0X2luZGV4ID0gJHtlLmluZGljZXNHZXQoImlucHV0X2luZGljZXMiLCJpIil9O1xuICAgICAgICBpZiAoaW5wdXRfaW5kZXggPCAwIHx8IGlucHV0X2luZGV4ID49ICR7Y2UoInVuaWZvcm1zLmlucHV0X3NoYXBlIiwiaSIsdC5sZW5ndGgpfSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfWAsWXM9KGUsdCxyLG8pPT5lLnJhbms+bz9gXG4gICAgJHtlLmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLHQsImNoYW5uZWwiKX07XG4gICAgJHtlLmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLHIsImJhdGNoIil9O1xuYDoiIixmYz0oZSx0LHIsbyxuKT0+e2xldFt1LGwsYSxwXT1yLmxlbmd0aD09PTI/Wy0xLDAsMSwtMV06WzAsMiwzLDFdLGg9ZS50eXBlLnZhbHVlO3JldHVybmBcbiAgICBmbiBnZXRJbnB1dFZhbHVlKGJhdGNoOiB1MzIsIGNoYW5uZWw6IHUzMiwgcm93OiB1MzIsIGNvbDogdTMyKSAtPiAke2h9IHtcbiAgICAgIHZhciBpbnB1dF9pbmRpY2VzOiAke2UudHlwZS5pbmRpY2VzfTtcbiAgICAgICR7ZS5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIixsLGBtYXgoMCwgbWluKHJvdywgJHtyW2xdfSAtIDEpKWApfTtcbiAgICAgICR7ZS5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIixhLGBtYXgoMCwgbWluKGNvbCwgJHtyW2FdfSAtIDEpKWApfTtcbiAgICAgICR7WXMoZSxwLHUsMil9XG4gICAgICByZXR1cm4gJHtlLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTtcbiAgICB9XG5cbiAgICBmbiBiaWxpbmVhckludGVycG9sYXRpb24ob3V0cHV0X2luZGljZXM6ICR7dC50eXBlLmluZGljZXN9KSAtPiAke2h9IHtcbiAgICAgIHZhciBvcmlnaW5hbEluZGljZXMgPSBjYWxjdWxhdGVPcmlnaW5hbEluZGljZXNGcm9tT3V0cHV0SW5kaWNlcyhvdXRwdXRfaW5kaWNlcyk7XG4gICAgICB2YXIgcm93OiR7aH0gPSBvcmlnaW5hbEluZGljZXNbJHtsfV07XG4gICAgICB2YXIgY29sOiR7aH0gPSBvcmlnaW5hbEluZGljZXNbJHthfV07XG4gICAgICAke28/YGlmIChyb3cgPCAwIHx8IHJvdyA+ICgke3JbbF19IC0gMSkgfHwgY29sIDwgMCB8fCBjb2wgPiAoJHtyW2FdfSAtIDEpKSB7XG4gICAgICAgIHJldHVybiAke259O1xuICAgICAgfWA6IiJ9O1xuICAgICAgcm93ID0gbWF4KDAsIG1pbihyb3csICR7cltsXX0gLSAxKSk7XG4gICAgICBjb2wgPSBtYXgoMCwgbWluKGNvbCwgJHtyW2FdfSAtIDEpKTtcbiAgICAgIHZhciByb3cxOiB1MzIgPSB1MzIocm93KTtcbiAgICAgIHZhciBjb2wxOiB1MzIgPSB1MzIoY29sKTtcbiAgICAgIHZhciByb3cyOiB1MzIgPSB1MzIocm93ICsgMSk7XG4gICAgICB2YXIgY29sMjogdTMyID0gdTMyKGNvbCArIDEpO1xuICAgICAgdmFyIGNoYW5uZWw6IHUzMiA9ICR7ci5sZW5ndGg+Mj9gdTMyKG9yaWdpbmFsSW5kaWNlc1ske3B9XSlgOiIwIn07XG4gICAgICB2YXIgYmF0Y2g6IHUzMiA9ICAke3IubGVuZ3RoPjI/YHUzMihvcmlnaW5hbEluZGljZXNbJHt1fV0pYDoiMCJ9O1xuICAgICAgdmFyIHgxMTogJHtofSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIHJvdzEsIGNvbDEpO1xuICAgICAgdmFyIHgxMjogJHtofSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIHJvdzEsIGNvbDIpO1xuICAgICAgdmFyIHgyMTogJHtofSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIHJvdzIsIGNvbDEpO1xuICAgICAgdmFyIHgyMjogJHtofSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIHJvdzIsIGNvbDIpO1xuICAgICAgdmFyIGR4MTogJHtofSA9IGFicyhyb3cgLSAke2h9KHJvdzEpKTtcbiAgICAgIHZhciBkeDI6ICR7aH0gPSBhYnMoJHtofShyb3cyKSAtIHJvdyk7XG4gICAgICB2YXIgZHkxOiAke2h9ID0gYWJzKGNvbCAtICR7aH0oY29sMSkpO1xuICAgICAgdmFyIGR5MjogJHtofSA9IGFicygke2h9KGNvbDIpIC0gY29sKTtcbiAgICAgIGlmIChyb3cxID09IHJvdzIpIHtcbiAgICAgICAgZHgxID0gMC41O1xuICAgICAgICBkeDIgPSAwLjU7XG4gICAgICB9XG4gICAgICBpZiAoY29sMSA9PSBjb2wyKSB7XG4gICAgICAgIGR5MSA9IDAuNTtcbiAgICAgICAgZHkyID0gMC41O1xuICAgICAgfVxuICAgICAgcmV0dXJuICh4MTEgKiBkeDIgKiBkeTIgKyB4MTIgKiBkeDIgKiBkeTEgKyB4MjEgKiBkeDEgKiBkeTIgKyB4MjIgKiBkeDEgKiBkeTEpO1xuICAgIH1gfSxoYz0oZSx0LHIsbyxuLHMsdSxsLGEscCk9PntsZXQgaD1yLmxlbmd0aD09PTIsZz0hMCxbYix3XT1oP1swLDFdOmc/WzIsM106WzEsMl0seT1lLnR5cGUudmFsdWUsXz1JPT57bGV0ICQ9ST09PWI/InJvdyI6ImNvbCI7cmV0dXJuYFxuICAgICAgZm4gJHskfUN1YmljSW50ZXJwb2xhdGlvbihpbnB1dF9pbmRpY2VzOiAke2UudHlwZS5pbmRpY2VzfSwgb3V0cHV0X2luZGljZXM6ICR7dC50eXBlLmluZGljZXN9KSAtPiAke3l9IHtcbiAgICAgICAgdmFyIG91dHB1dF9pbmRleCA9ICR7dC5pbmRpY2VzR2V0KCJvdXRwdXRfaW5kaWNlcyIsSSl9O1xuICAgICAgICB2YXIgb3JpZ2luYWxJZHg6ICR7eX0gPSBnZXRPcmlnaW5hbENvb3JkaW5hdGVGcm9tUmVzaXplZENvb3JkaW5hdGUob3V0cHV0X2luZGV4LCAke25bSV19LFxuICAgICAgICAke29bSV19LCAke3JbSV19LCAke3NbSV19LCAke3NbSV19ICsgJHtyLmxlbmd0aH0pO1xuICAgICAgICB2YXIgZnJhY3RPcmlnaW5hbElkeDogJHt5fSA9IG9yaWdpbmFsSWR4IC0gZmxvb3Iob3JpZ2luYWxJZHgpO1xuICAgICAgICB2YXIgY29lZnMgPSBnZXRDdWJpY0ludGVycG9sYXRpb25Db2VmcyhmcmFjdE9yaWdpbmFsSWR4KTtcblxuICAgICAgICBpZiAoJHtsfSAmJiAob3JpZ2luYWxJZHggPCAwIHx8IG9yaWdpbmFsSWR4ID4gKCR7cltJXX0gLSAxKSkpIHtcbiAgICAgICAgICByZXR1cm4gJHthfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YTogYXJyYXk8JHt5fSwgND4gPSBhcnJheTwke3l9LCA0PigwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBmb3IgKHZhciBpOiBpMzIgPSAtMTsgaSA8IDM7IGkrKykge1xuICAgICAgICAgIHZhciAkeyR9OiAke3l9ID0gb3JpZ2luYWxJZHggKyAke3l9KGkpO1xuICAgICAgICAgIGlmICgkeyR9IDwgMCB8fCAkeyR9ID49ICR7cltJXX0pIHtcbiAgICAgICAgICAgICR7KCgpPT5wP2Bjb2Vmc1tpICsgMV0gPSAwLjA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtgOmw/YHJldHVybiAke2F9O2A6YCR7JH0gPSBtYXgoMCwgbWluKCR7JH0sICR7cltJXX0gLSAxKSk7YCkoKX07XG4gICAgICAgICAgfVxuICAgICAgICB2YXIgaW5wdXRfaW5kaWNlc19jb3B5OiAke2UudHlwZS5pbmRpY2VzfSA9IGlucHV0X2luZGljZXM7XG4gICAgICAgICAgJHtlLmluZGljZXNTZXQoImlucHV0X2luZGljZXNfY29weSIsSSxgdTMyKCR7JH0pYCl9O1xuICAgICAgICAgIGRhdGFbaSArIDFdID0gJHtJPT09Yj9lLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlc19jb3B5Iik6InJvd0N1YmljSW50ZXJwb2xhdGlvbihpbnB1dF9pbmRpY2VzX2NvcHksIG91dHB1dF9pbmRpY2VzKSJ9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdWJpY0ludGVycG9sYXRpb24xRChkYXRhLCBjb2Vmcyk7XG4gICAgICB9YH07cmV0dXJuYFxuICAgICR7XyhiKX07XG4gICAgJHtfKHcpfTtcbiAgZm4gZ2V0Q3ViaWNJbnRlcnBvbGF0aW9uQ29lZnMoczogJHt5fSkgLT4gYXJyYXk8JHt5fSwgND4ge1xuICAgIHZhciBhYnNTID0gYWJzKHMpO1xuICAgIHZhciBjb2VmZnM6IGFycmF5PCR7eX0sIDQ+ID0gYXJyYXk8JHt5fSwgND4oMC4wLCAwLjAsIDAuMCwgMC4wKTtcbiAgICB2YXIgb25lTWludXNBYnNTOiAke3l9ID0gMS4wIC0gYWJzUztcbiAgICB2YXIgdHdvTWludXNBYnNTOiAke3l9ID0gMi4wIC0gYWJzUztcbiAgICB2YXIgb25lUGx1c0Fic1M6ICR7eX0gPSAxLjAgKyBhYnNTO1xuICAgIGNvZWZmc1swXSA9ICgoJHt1fSAqIG9uZVBsdXNBYnNTIC0gNSAqICR7dX0pICogb25lUGx1c0Fic1MgKyA4ICogJHt1fSkgKiBvbmVQbHVzQWJzUyAtIDQgKiAke3V9O1xuICAgIGNvZWZmc1sxXSA9ICgoJHt1fSArIDIpICogYWJzUyAtICgke3V9ICsgMykpICogYWJzUyAqIGFic1MgKyAxO1xuICAgIGNvZWZmc1syXSA9ICgoJHt1fSArIDIpICogb25lTWludXNBYnNTIC0gKCR7dX0gKyAzKSkgKiBvbmVNaW51c0Fic1MgKiBvbmVNaW51c0Fic1MgKyAxO1xuICAgIGNvZWZmc1szXSA9ICgoJHt1fSAqIHR3b01pbnVzQWJzUyAtIDUgKiAke3V9KSAqIHR3b01pbnVzQWJzUyArIDggKiAke3V9KSAqIHR3b01pbnVzQWJzUyAtIDQgKiAke3V9O1xuICAgIHJldHVybiBjb2VmZnM7XG4gIH1cblxuICBmbiBjdWJpY0ludGVycG9sYXRpb24xRCh4OiBhcnJheTwke3l9LCA0PiwgY29lZnM6IGFycmF5PCR7eX0sIDQ+KSAtPiAke3l9IHtcbiAgICB2YXIgY29lZnNTdW06ICR7eX0gPSBjb2Vmc1swXSArIGNvZWZzWzFdICsgY29lZnNbMl0gKyBjb2Vmc1szXTtcbiAgICByZXR1cm4gKHhbMF0gKiBjb2Vmc1swXSArIHhbMV0gKiBjb2Vmc1sxXSsgeFsyXSAqIGNvZWZzWzJdKyB4WzNdICogY29lZnNbM10pIC8gY29lZnNTdW07XG4gIH1cblxuICBmbiBiaWN1YmljSW50ZXJwb2xhdGlvbihvdXRwdXRfaW5kaWNlczogJHt0LnR5cGUuaW5kaWNlc30pIC0+ICR7eX0ge1xuICAgIHZhciBpbnB1dF9pbmRpY2VzOiAke2UudHlwZS5pbmRpY2VzfSA9IG91dHB1dF9pbmRpY2VzO1xuICAgIHJldHVybiBjb2xDdWJpY0ludGVycG9sYXRpb24oaW5wdXRfaW5kaWNlcywgb3V0cHV0X2luZGljZXMpO1xuICB9XG4gICAgYH0sZ2M9KGUsdCxyLG8sbik9PntsZXRbdSxsLGEscCxoXT1yLmxlbmd0aD09PTM/Wy0xLDAsMSwyLC0xXTpbMCwyLDMsNCwxXSxnPWUudHlwZS52YWx1ZTtyZXR1cm5gXG4gICAgZm4gZ2V0SW5wdXRWYWx1ZShiYXRjaDogdTMyLCBjaGFubmVsOiB1MzIsIGRlcHRoOnUzMiwgaGVpZ2h0OiB1MzIsIHdpZHRoOiB1MzIpIC0+ICR7Z30ge1xuICAgICAgdmFyIGlucHV0X2luZGljZXM6ICR7ZS50eXBlLmluZGljZXN9O1xuICAgICAgJHtlLmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLGwsYG1heCgwLCBtaW4oZGVwdGgsICR7cltsXX0gLSAxKSlgKX07XG4gICAgICAke2UuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIsYSxgbWF4KDAsIG1pbihoZWlnaHQsICR7clthXX0gLSAxKSlgKX07XG4gICAgICAke2UuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIscCxgbWF4KDAsIG1pbih3aWR0aCwgJHtyW3BdfSAtIDEpKWApfTtcbiAgICAgICR7WXMoZSxoLHUsMyl9XG4gICAgICByZXR1cm4gJHtlLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTtcbiAgICB9XG5cbiAgICBmbiB0cmlsaW5lYXJJbnRlcnBvbGF0aW9uKG91dHB1dF9pbmRpY2VzOiAke3QudHlwZS5pbmRpY2VzfSkgLT4gJHtnfSB7XG4gICAgICB2YXIgb3JpZ2luYWxJbmRpY2VzID0gY2FsY3VsYXRlT3JpZ2luYWxJbmRpY2VzRnJvbU91dHB1dEluZGljZXMob3V0cHV0X2luZGljZXMpO1xuICAgICAgdmFyIGRlcHRoOiR7Z30gPSBvcmlnaW5hbEluZGljZXNbJHtsfV07XG4gICAgICB2YXIgaGVpZ2h0OiR7Z30gPSBvcmlnaW5hbEluZGljZXNbJHthfV07XG4gICAgICB2YXIgd2lkdGg6JHtnfSA9IG9yaWdpbmFsSW5kaWNlc1ske3B9XTtcbiAgICAgICR7bz9gaWYgKGRlcHRoIDwgMCB8fCBkZXB0aCA+ICgke3JbbF19IC0gMSkgfHwgaGVpZ2h0IDwgMCB8fCBoZWlnaHQgPiAoJHtyW2FdfSAtIDEpIHx8IHdpZHRoIDwgMCB8fCAod2lkdGggPiAke3JbcF19IC0gMSkpIHtcbiAgICAgIHJldHVybiAke259O1xuICAgICAgICB9YDoiIn07XG5cbiAgICBkZXB0aCA9IG1heCgwLCBtaW4oZGVwdGgsICR7cltsXX0gLSAxKSk7XG4gICAgICBoZWlnaHQgPSBtYXgoMCwgbWluKGhlaWdodCwgJHtyW2FdfSAtIDEpKTtcbiAgICAgIHdpZHRoID0gbWF4KDAsIG1pbih3aWR0aCwgJHtyW3BdfSAtIDEpKTtcbiAgICAgIHZhciBkZXB0aDE6IHUzMiA9IHUzMihkZXB0aCk7XG4gICAgICB2YXIgaGVpZ2h0MTogdTMyID0gdTMyKGhlaWdodCk7XG4gICAgICB2YXIgd2lkdGgxOiB1MzIgPSB1MzIod2lkdGgpO1xuICAgICAgdmFyIGRlcHRoMjogdTMyID0gdTMyKGRlcHRoICsgMSk7XG4gICAgICB2YXIgaGVpZ2h0MjogdTMyID0gdTMyKGhlaWdodCArIDEpO1xuICAgICAgdmFyIHdpZHRoMjogdTMyID0gdTMyKHdpZHRoICsgMSk7XG4gICAgICB2YXIgY2hhbm5lbDogdTMyID0gJHtyLmxlbmd0aD4zP2B1MzIob3JpZ2luYWxJbmRpY2VzWyR7aH1dKWA6IjAifTtcbiAgICAgIHZhciBiYXRjaDogdTMyID0gICR7ci5sZW5ndGg+Mz9gdTMyKG9yaWdpbmFsSW5kaWNlc1ske3V9XSlgOiIwIn07XG5cbiAgICAgIHZhciB4MTExOiAke2d9ID0gZ2V0SW5wdXRWYWx1ZShiYXRjaCwgY2hhbm5lbCwgZGVwdGgxLCBoZWlnaHQxLCB3aWR0aDEpO1xuICAgICAgdmFyIHgxMTI6ICR7Z30gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCBkZXB0aDEsIGhlaWdodDEsIHdpZHRoMik7XG4gICAgICB2YXIgeDEyMTogJHtnfSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIGRlcHRoMSwgaGVpZ2h0Miwgd2lkdGgxKTtcbiAgICAgIHZhciB4MTIyOiAke2d9ID0gZ2V0SW5wdXRWYWx1ZShiYXRjaCwgY2hhbm5lbCwgZGVwdGgxLCBoZWlnaHQyLCB3aWR0aDIpO1xuICAgICAgdmFyIHgyMTE6ICR7Z30gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCBkZXB0aDIsIGhlaWdodDEsIHdpZHRoMSk7XG4gICAgICB2YXIgeDIxMjogJHtnfSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIGRlcHRoMiwgaGVpZ2h0MSwgd2lkdGgyKTtcbiAgICAgIHZhciB4MjIxOiAke2d9ID0gZ2V0SW5wdXRWYWx1ZShiYXRjaCwgY2hhbm5lbCwgZGVwdGgyLCBoZWlnaHQyLCB3aWR0aDEpO1xuICAgICAgdmFyIHgyMjI6ICR7Z30gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCBkZXB0aDIsIGhlaWdodDIsIHdpZHRoMik7XG4gICAgICB2YXIgZHgxOiAke2d9ID0gYWJzKGRlcHRoIC0gJHtnfShkZXB0aDEpKTtcbiAgICAgIHZhciBkeDI6ICR7Z30gPSBhYnMoJHtnfShkZXB0aDIpIC0gZGVwdGgpO1xuICAgICAgdmFyIGR5MTogJHtnfSA9IGFicyhoZWlnaHQgLSAke2d9KGhlaWdodDEpKTtcbiAgICAgIHZhciBkeTI6ICR7Z30gPSBhYnMoJHtnfShoZWlnaHQyKSAtIGhlaWdodCk7XG4gICAgICB2YXIgZHoxOiAke2d9ID0gYWJzKHdpZHRoIC0gJHtnfSh3aWR0aDEpKTtcbiAgICAgIHZhciBkejI6ICR7Z30gPSBhYnMoJHtnfSh3aWR0aDIpIC0gd2lkdGgpO1xuICAgICAgaWYgKGRlcHRoMSA9PSBkZXB0aDIpIHtcbiAgICAgICAgZHgxID0gMC41O1xuICAgICAgICBkeDIgPSAwLjU7XG4gICAgICB9XG4gICAgICBpZiAoaGVpZ2h0MSA9PSBoZWlnaHQyKSB7XG4gICAgICAgIGR5MSA9IDAuNTtcbiAgICAgICAgZHkyID0gMC41O1xuICAgICAgfVxuICAgICAgaWYgKHdpZHRoMSA9PSB3aWR0aDIpIHtcbiAgICAgICAgZHoxID0gMC41O1xuICAgICAgICBkejIgPSAwLjU7XG4gICAgICB9XG4gICAgICByZXR1cm4gKHgxMTEgKiBkeDIgKiBkeTIgKiBkejIgKyB4MTEyICogZHgyICogZHkyICogZHoxICsgeDEyMSAqIGR4MiAqIGR5MSAqZHoyICsgeDEyMiAqIGR4MiAqIGR5MSAqIGR6MSArXG4gICAgICAgICAgICAgIHgyMTEgKiBkeDEgKiBkeTIgKiBkejIgKyB4MjEyICogZHgxICogZHkyICogZHoxICsgeDIyMSAqIGR4MSAqIGR5MSAqZHoyICsgeDIyMiAqIGR4MSAqIGR5MSAqIGR6MSk7XG4gICAgfWB9LHljPShlLHQscixvLG4scyk9PntsZXQgdT1lLmRpbXMsbD11YyhzLHQuYXhlcyx1Lmxlbmd0aCksYT1kYyh1LG8sbix0LmF4ZXMpLHA9by5zbGljZSgpO28ubGVuZ3RoPT09MCYmKHA9dS5tYXAoKHgsRSk9Png9PT0wPzE6YVtFXS94KSx0LmtlZXBBc3BlY3RSYXRpb1BvbGljeSE9PSJzdHJldGNoIiYmKGE9bGModSxwLHQpKSk7bGV0IGg9Rigib3V0cHV0IixlLmRhdGFUeXBlLGEubGVuZ3RoKSxnPU0oImlucHV0IixlLmRhdGFUeXBlLHUubGVuZ3RoKSxiPVUuc2l6ZShhKSx3PXUubGVuZ3RoPT09YS5sZW5ndGgmJnUuZXZlcnkoKHgsRSk9Png9PT1hW0VdKSx5PXQuY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGU9PT0idGZfY3JvcF9hbmRfcmVzaXplIixfPXQuZXh0cmFwb2xhdGlvblZhbHVlLEk9Zy50eXBlLnZhbHVlLCQ9eD0+YFxuICAgICAgJHt3PyIiOmBcbiAgICAgICR7aWModC5jb29yZGluYXRlVHJhbnNmb3JtTW9kZSxJKX07XG4gICAgICAkeygoKT0+e3N3aXRjaCh0Lm1vZGUpe2Nhc2UibmVhcmVzdCI6cmV0dXJuYFxuICAgICAgICAgICAgICAke21jKGcsdSl9O1xuICAgICAgICAgICAgICAke3NjKHQubmVhcmVzdE1vZGUscixJKX07XG4gICAgICAgICAgICAgICR7cGMoZyxoLHUsYSxwLmxlbmd0aCxsLmxlbmd0aCx5KX07XG4gICAgICAgICAgICAgIGA7Y2FzZSJsaW5lYXIiOnJldHVybmBcbiAgICAgICAgICAgICAgJHtjYyhoLHUsYSxwLmxlbmd0aCxsLmxlbmd0aCl9O1xuICAgICAgICAgICAgICAkeygoKT0+e2lmKHUubGVuZ3RoPT09Mnx8dS5sZW5ndGg9PT00KXJldHVybmAke2ZjKGcsaCx1LHksXyl9YDtpZih1Lmxlbmd0aD09PTN8fHUubGVuZ3RoPT09NSlyZXR1cm5gJHtnYyhnLGgsdSx5LF8pfWA7dGhyb3cgRXJyb3IoIkxpbmVhciBtb2RlIG9ubHkgc3VwcG9ydHMgaW5wdXQgZGltcyAyLCAzLCA0IGFuZCA1IGFyZSBzdXBwb3J0ZWQgaW4gbGluZWFyIG1vZGUuIil9KSgpfTtcbiAgICAgICAgICAgIGA7Y2FzZSJjdWJpYyI6cmV0dXJuYFxuICAgICAgICAgICAgJHsoKCk9PntpZih1Lmxlbmd0aD09PTJ8fHUubGVuZ3RoPT09NClyZXR1cm5gJHtoYyhnLGgsdSxhLHAsbCx0LmN1YmljQ29lZmZBLHksdC5leHRyYXBvbGF0aW9uVmFsdWUsdC5leGNsdWRlT3V0c2lkZSl9YDt0aHJvdyBFcnJvcigiQ3ViaWMgbW9kZSBvbmx5IHN1cHBvcnRzIGlucHV0IGRpbXMgMiBhbmQgNCBhcmUgc3VwcG9ydGVkIGluIGxpbmVhciBtb2RlLiIpfSkoKX07XG4gICAgICAgICAgICBgO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIkludmFsaWQgcmVzaXplIG1vZGUiKX19KSgpfTtcbiAgICAgIGB9XG4gICAgICAke3gucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRfc2l6ZSIsInUzMiIpLnJlZ2lzdGVyVW5pZm9ybSgic2NhbGVzIiwiZjMyIixwLmxlbmd0aCkucmVnaXN0ZXJVbmlmb3JtKCJyb2kiLCJmMzIiLGwubGVuZ3RoKS5kZWNsYXJlVmFyaWFibGVzKGcsaCl9XG4gICAgICAke3gubWFpblN0YXJ0KCl9XG4gICAgICAgICR7eC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRfc2l6ZSIpfVxuICAgICAgICAke3c/Im91dHB1dFtnbG9iYWxfaWR4XSA9IGlucHV0W2dsb2JhbF9pZHhdOyI6YFxuICAgICAgICBsZXQgb3V0cHV0X2luZGljZXMgPSAke2gub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9O1xuICAgICAgICB2YXIgaW5wdXRfaW5kaWNlczogJHtnLnR5cGUuaW5kaWNlc307XG4gICAgICAgICR7KCgpPT57c3dpdGNoKHQubW9kZSl7Y2FzZSJuZWFyZXN0IjpyZXR1cm5gaW5wdXRfaW5kaWNlcyA9IGNhbGN1bGF0ZUlucHV0SW5kaWNlc0Zyb21PdXRwdXRJbmRpY2VzKG91dHB1dF9pbmRpY2VzKTtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tJbnB1dEluZGljZXMoaW5wdXRfaW5kaWNlcykpIHtcbiAgICAgICAgICAgICAgICAgIG91dHB1dFtnbG9iYWxfaWR4XSA9ICR7Zy5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG91dHB1dFtnbG9iYWxfaWR4XSA9ICR7dC5leHRyYXBvbGF0aW9uVmFsdWV9O1xuICAgICAgICAgICAgICAgIH1gO2Nhc2UibGluZWFyIjpyZXR1cm5gb3V0cHV0W2dsb2JhbF9pZHhdID0gJHt1Lmxlbmd0aD09PTJ8fHUubGVuZ3RoPT09ND8iYmlsaW5lYXJJbnRlcnBvbGF0aW9uIjoidHJpbGluZWFySW50ZXJwb2xhdGlvbiJ9KG91dHB1dF9pbmRpY2VzKTtgO2Nhc2UiY3ViaWMiOnJldHVybiJvdXRwdXRbZ2xvYmFsX2lkeF0gPSBiaWN1YmljSW50ZXJwb2xhdGlvbihvdXRwdXRfaW5kaWNlcyk7IjtkZWZhdWx0OnRocm93IEVycm9yKGBVbnN1cHBvcnRlZCByZXNpemUgbW9kZTogJHt0Lm1vZGV9YCl9fSkoKX07XG5gfVxuICAgICAgfWA7cmV0dXJue25hbWU6IlJlc2l6ZSIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7dC5jYWNoZUtleX18JHtyfXwke3AubGVuZ3RoPjA/cDoiIn18JHtuLmxlbmd0aD4wP246IiJ9fCR7bC5sZW5ndGg+MD9sOiIifXwke3d9fCR7dX1gLGlucHV0RGVwZW5kZW5jaWVzOlsicmFuayJdfSxnZXRTaGFkZXJTb3VyY2U6JCxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmEsZGF0YVR5cGU6ZS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGIvNjQpfSxwcm9ncmFtVW5pZm9ybXM6W3t0eXBlOiJ1aW50MzIiLGRhdGE6Yn0se3R5cGU6ImZsb2F0MzIiLGRhdGE6cH0se3R5cGU6ImZsb2F0MzIiLGRhdGE6bH0sLi4uTCh1KSwuLi5MKGEpXX0pfX0sYmM9ZT0+e2xldCB0PWUuY3VzdG9tRGF0YUJ1ZmZlcjtyZXR1cm4gbmV3IFVpbnQzMkFycmF5KHQsdC5ieXRlT2Zmc2V0LDEpWzBdfSxacz0oZSx0KT0+e2xldCByPVtdLG89W10sbj1bXSxzPWJjKGUpO2lmKHQuYW50aWFsaWFzIT09MCl0aHJvdyBFcnJvcigiT25seSBkZWZhdWx0IHZhbHVlICgwKSBmb3IgQW50aWFsaWFzIGF0dHJpYnV0ZSBpcyBzdXBwb3J0ZWQiKTthYyhlLmlucHV0cyx0LHMscixvLG4pLGUuY29tcHV0ZSh5YyhlLmlucHV0c1swXSx0LHMscixvLG4pLHtpbnB1dHM6WzBdfSl9LFFzPWU9PntsZXQgdD1lLmFudGlhbGlhcyxyPWUuYXhlcyxvPWUuY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGUsbj1lLmN1YmljQ29lZmZBLHM9ZS5leGNsdWRlT3V0c2lkZSE9PTAsdT1lLmV4dHJhcG9sYXRpb25WYWx1ZSxsPWUua2VlcEFzcGVjdFJhdGlvUG9saWN5LGE9ZS5tb2RlLHA9ZS5uZWFyZXN0TW9kZT09PSIiPyJzaW1wbGUiOmUubmVhcmVzdE1vZGU7cmV0dXJuIGdlKHthbnRpYWxpYXM6dCxheGVzOnIsY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGU6byxjdWJpY0NvZWZmQTpuLGV4Y2x1ZGVPdXRzaWRlOnMsZXh0cmFwb2xhdGlvblZhbHVlOnUsa2VlcEFzcGVjdFJhdGlvUG9saWN5OmwsbW9kZTphLG5lYXJlc3RNb2RlOnB9KX19KTt2YXIgd2MsdmMsSnMsZXUsdHU9aigoKT0+eyJ1c2Ugc3RyaWN0IjtOZSgpOyRlKCk7amUoKTt2ZSgpO3djPWU9PntpZighZXx8ZS5sZW5ndGg8Myl0aHJvdyBuZXcgRXJyb3IoImxheWVyTm9ybSByZXF1aXJlcyBhdCBsZWFzdCAzIGlucHV0cy4iKTtsZXQgdD1lWzBdLHI9ZVsxXSxvPWVbMl07aWYodC5kYXRhVHlwZSE9PXIuZGF0YVR5cGV8fHQuZGF0YVR5cGUhPT1vLmRhdGFUeXBlKXRocm93IG5ldyBFcnJvcigiQWxsIGlucHV0cyBtdXN0IGhhdmUgdGhlIHNhbWUgZGF0YSB0eXBlIik7aWYodC5kaW1zLmxlbmd0aCE9PTMmJnQuZGltcy5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcigiSW5wdXQgbXVzdCBiZSAyRCBvciAzRCIpO2lmKHIuZGltcy5sZW5ndGghPT0zJiZyLmRpbXMubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoIlNraXAgbXVzdCBiZSAyRCBvciAzRCIpO2xldCBuPXQuZGltc1t0LmRpbXMubGVuZ3RoLTFdLHM9dC5kaW1zW3QuZGltcy5sZW5ndGgtMl07aWYoci5kaW1zW3IuZGltcy5sZW5ndGgtMV0hPT1uKXRocm93IG5ldyBFcnJvcigiU2tpcCBtdXN0IGhhdmUgdGhlIHNhbWUgaGlkZGVuIHNpemUgYXMgaW5wdXQiKTtpZihyLmRpbXNbci5kaW1zLmxlbmd0aC0yXSE9PXMpdGhyb3cgbmV3IEVycm9yKCJTa2lwIG11c3QgaGF2ZSB0aGUgc2FtZSBzZXF1ZW5jZSBsZW5ndGggYXMgaW5wdXQiKTtpZihvLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIkdhbW1hIG11c3QgYmUgMUQiKTtpZihvLmRpbXNbby5kaW1zLmxlbmd0aC0xXSE9PW4pdGhyb3cgbmV3IEVycm9yKCJHYW1tYSBtdXN0IGhhdmUgdGhlIHNhbWUgaGlkZGVuIHNpemUgYXMgaW5wdXQiKTtpZihlLmxlbmd0aD4zKXtsZXQgdT1lWzNdO2lmKHUuZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiQmV0YSBtdXN0IGJlIDFEIik7aWYodS5kaW1zW3UuZGltcy5sZW5ndGgtMV0hPT1uKXRocm93IG5ldyBFcnJvcigiQmV0YSBtdXN0IGhhdmUgdGhlIHNhbWUgaGlkZGVuIHNpemUgYXMgaW5wdXQiKX1pZihlLmxlbmd0aD40KXtsZXQgdT1lWzRdO2lmKHUuZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiQmlhcyBtdXN0IGJlIDFEIik7aWYodS5kaW1zW3UuZGltcy5sZW5ndGgtMV0hPT1uKXRocm93IG5ldyBFcnJvcigiQmlhcyBtdXN0IGhhdmUgdGhlIHNhbWUgaGlkZGVuIHNpemUgYXMgaW5wdXQiKX19LHZjPShlLHQscixvKT0+e2xldCBuPWVbMF0uZGltcyxzPVUuc2l6ZShuKSx1PW4sbD1zLGE9bi5zbGljZSgtMSlbMF0scD1vP24uc2xpY2UoMCwtMSkuY29uY2F0KDEpOltdLGg9ZS5sZW5ndGg+MyxnPWUubGVuZ3RoPjQsYj1vJiZyPjEsdz1vJiZyPjIseT1yPjMsXz1GZShhKSxJPVtNKCJ4IixlWzBdLmRhdGFUeXBlLGVbMF0uZGltcyxfKSxNKCJza2lwIixlWzFdLmRhdGFUeXBlLGVbMV0uZGltcyxfKSxNKCJnYW1tYSIsZVsyXS5kYXRhVHlwZSxlWzJdLmRpbXMsXyldO2gmJkkucHVzaChNKCJiZXRhIixlWzNdLmRhdGFUeXBlLGVbM10uZGltcyxfKSksZyYmSS5wdXNoKE0oImJpYXMiLGVbNF0uZGF0YVR5cGUsZVs0XS5kaW1zLF8pKSxJLnB1c2goRigib3V0cHV0IixlWzBdLmRhdGFUeXBlLHUsXykpLGImJkkucHVzaChGKCJtZWFuT3V0cHV0IiwxLHApKSx3JiZJLnB1c2goRigiaW52U3RkT3V0cHV0IiwxLHApKSx5JiZJLnB1c2goRigiaW5wdXRTa2lwQmlhc1N1bSIsZVswXS5kYXRhVHlwZSx1LF8pKTtsZXQgJD1MZShlWzBdLmRhdGFUeXBlKSx4PUE9PmBcbiAgICAgIGNvbnN0IGhpZGRlblNpemU6IGYzMiA9ICR7YX07XG4gICAgICBjb25zdCBoaWRkZW5TaXplVmVjdG9yaXplZDogdTMyID0gJHthL199O1xuICAgICAgY29uc3QgZXBzaWxvbjogZjMyID0gJHt0LmVwc2lsb259O1xuXG4gICAgICAke0EuZGVjbGFyZVZhcmlhYmxlcyguLi5JKX1cblxuICAgICAgJHtBLm1haW5TdGFydCgpfVxuICAgICAgICAke0EuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcyhsL2EpfVxuICAgICAgICBsZXQgb2Zmc2V0ID0gZ2xvYmFsX2lkeCAqIGhpZGRlblNpemVWZWN0b3JpemVkO1xuICAgICAgICB2YXIgc3VtID0gJHtaZSgiZjMyIixfKX07XG4gICAgICAgIHZhciBzcXVhcmVTdW0gPSAke1plKCJmMzIiLF8pfTtcbiAgICAgICAgZm9yICh2YXIgaTogdTMyID0gMDsgaSA8IGhpZGRlblNpemVWZWN0b3JpemVkOyBpKyspIHtcbiAgICAgICAgICBsZXQgc2tpcFZhbHVlID0gc2tpcFtvZmZzZXQgKyBpXTtcbiAgICAgICAgICBsZXQgYmlhc1ZhbHVlID0gJHtnPyJiaWFzW2ldIjoiMC4wIn07XG4gICAgICAgICAgbGV0IGlucHV0VmFsdWUgPSB4W29mZnNldCArIGldO1xuICAgICAgICAgIGxldCB2YWx1ZSA9IGlucHV0VmFsdWUgKyBza2lwVmFsdWUgKyBiaWFzVmFsdWU7XG4gICAgICAgICAgJHt5PyJpbnB1dFNraXBCaWFzU3VtW29mZnNldCArIGldID0gdmFsdWU7IjoiIn1cbiAgICAgICAgICBvdXRwdXRbb2Zmc2V0ICsgaV0gPSB2YWx1ZTtcbiAgICAgICAgICBsZXQgZjMyVmFsdWUgPSAke2F0KCQsXywidmFsdWUiKX07XG4gICAgICAgICAgc3VtICs9IGYzMlZhbHVlO1xuICAgICAgICAgIHNxdWFyZVN1bSArPSBmMzJWYWx1ZSAqIGYzMlZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtZWFuID0gJHtKZSgic3VtIixfKX0gLyBoaWRkZW5TaXplO1xuICAgICAgICBsZXQgaW52U3RkRGV2ID0gaW52ZXJzZVNxcnQoJHtKZSgic3F1YXJlU3VtIixfKX0gLyBoaWRkZW5TaXplIC0gbWVhbiAqIG1lYW4gKyBlcHNpbG9uKTtcbiAgICAgICAgJHtiPyJtZWFuT3V0cHV0W2dsb2JhbF9pZHhdID0gbWVhbjsiOiIifVxuICAgICAgICAke3c/ImludlN0ZE91dHB1dFtnbG9iYWxfaWR4XSA9IGludlN0ZERldjsiOiIifVxuICAgICAgICBmb3IgKHZhciBpOiB1MzIgPSAwOyBpIDwgaGlkZGVuU2l6ZVZlY3Rvcml6ZWQ7IGkrKykge1xuICAgICAgICAgIG91dHB1dFtvZmZzZXQgKyBpXSA9IChvdXRwdXRbb2Zmc2V0ICsgaV0gLSAkeyR9KG1lYW4pKSAqICR7JH0oaW52U3RkRGV2KSAqIGdhbW1hW2ldXG4gICAgICAgICAgICsgJHtoPyJiZXRhW2ldIjoiMC4wIn07XG4gICAgICAgIH1cbiAgICAgIH1gLEU9W3tkaW1zOnUsZGF0YVR5cGU6ZVswXS5kYXRhVHlwZX1dO3JldHVybiByPjEmJkUucHVzaCh7ZGltczpwLGRhdGFUeXBlOjF9KSxyPjImJkUucHVzaCh7ZGltczpwLGRhdGFUeXBlOjF9KSxyPjMmJkUucHVzaCh7ZGltczpuLGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9KSx7bmFtZToiU2tpcExheWVyTm9ybWFsaXphdGlvbiIsc2hhZGVyQ2FjaGU6e2hpbnQ6dC5jYWNoZUtleX0sZ2V0U2hhZGVyU291cmNlOngsZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOkUsZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwobC9hLzY0KX19KX19LEpzPShlLHQpPT57d2MoZS5pbnB1dHMpO2xldCBvPVswXTtlLm91dHB1dENvdW50PjEmJm8ucHVzaCgtMyksZS5vdXRwdXRDb3VudD4yJiZvLnB1c2goLTMpLGUub3V0cHV0Q291bnQ+MyYmby5wdXNoKDMpLGUuY29tcHV0ZSh2YyhlLmlucHV0cyx0LGUub3V0cHV0Q291bnQsITEpLHtvdXRwdXRzOm99KX0sZXU9ZT0+e2xldCB0PWUuZXBzaWxvbjtyZXR1cm4gZ2Uoe2Vwc2lsb246dH0pfX0pO3ZhciAkYyxvbixTYyxydSx4YyxfYyxudSxvdSxhdT1qKCgpPT57InVzZSBzdHJpY3QiO05lKCk7JGUoKTtqZSgpO3ZlKCk7JGM9KGUsdCk9PntpZighZXx8ZS5sZW5ndGg8MSl0aHJvdyBuZXcgRXJyb3IoInRvbyBmZXcgaW5wdXRzIik7aWYodC5heGVzLmxlbmd0aCE9PTApe2lmKHQuYXhlcy5sZW5ndGghPT10LnN0YXJ0cy5sZW5ndGh8fHQuYXhlcy5sZW5ndGghPT10LmVuZHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiYXhlcywgc3RhcnRzIGFuZCBlbmRzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGgiKX1lbHNlIGlmKHQuc3RhcnRzLmxlbmd0aCE9PXQuZW5kcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJzdGFydHMgYW5kIGVuZHMgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aCIpO2Uuc2xpY2UoMSkuZm9yRWFjaCgocixvKT0+e2lmKGVbbysxXS5kYXRhVHlwZSE9PTYmJmVbbysxXS5kYXRhVHlwZSE9PTcpdGhyb3cgbmV3IEVycm9yKGBJbnB1dCAke299IG11c3QgYmUgYW4gYXJyYXkgb2YgaW50MzIgb3IgaW50NjRgKX0pfSxvbj0oZSx0KT0+e2xldCByPVtdO2lmKGUubGVuZ3RoPnQpaWYoZVt0XS5kYXRhVHlwZT09PTcpZVt0XS5nZXRCaWdJbnQ2NEFycmF5KCkuZm9yRWFjaChvPT5yLnB1c2goTnVtYmVyKG8pKSk7ZWxzZSBpZihlW3RdLmRhdGFUeXBlPT09NillW3RdLmdldEludDMyQXJyYXkoKS5mb3JFYWNoKG89PnIucHVzaChOdW1iZXIobykpKTtlbHNlIHRocm93IG5ldyBFcnJvcihgSW5wdXQgJHt0fSBtdXN0IGJlIGFuIGFycmF5IG9mIGludDMyIG9yIGludDY0YCk7cmV0dXJuIHJ9LFNjPShlLHQpPT57aWYoZS5sZW5ndGg+MSl7bGV0IHI9b24oZSwxKSxvPW9uKGUsMiksbj1vbihlLDMpO3JldHVybiBuLmxlbmd0aD09PTAmJihuPVsuLi5BcnJheShlWzBdLmRpbXMubGVuZ3RoKS5rZXlzKCldKSxnZSh7c3RhcnRzOnIsZW5kczpvLGF4ZXM6bn0pfWVsc2UgcmV0dXJuIHR9LHJ1PShlLHQscixvLG4pPT57bGV0IHM9ZTtyZXR1cm4gZTwwJiYocys9cltvW3RdXSksblt0XTwwP01hdGgubWF4KDAsTWF0aC5taW4ocyxyW29bdF1dLTEpKTpNYXRoLm1heCgwLE1hdGgubWluKHMscltvW3RdXSkpfSx4Yz0oZSx0LHIpPT5gZm4gY2FsY3VsYXRlSW5wdXRJbmRpY2VzKG91dHB1dF9pbmRpY2VzOiAke3QudHlwZS5pbmRpY2VzfSkgLT4gJHtlLnR5cGUuaW5kaWNlc30ge1xuICAgICAgICAgIHZhciBpbnB1dF9pbmRpY2VzOiAke2UudHlwZS5pbmRpY2VzfTtcbiAgICAgICAgICB2YXIgY2FycnkgPSAwdTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gJHtyLmxlbmd0aH07IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgaW5wdXRfc2hhcGVfaSA9ICR7Y2UoInVuaWZvcm1zLmlucHV0X3NoYXBlIiwiaSIsci5sZW5ndGgpfTtcbiAgICAgICAgICAgIGxldCBzdGVwc19pID0gJHtjZSgidW5pZm9ybXMuc3RlcHMiLCJpIixyLmxlbmd0aCl9O1xuICAgICAgICAgICAgbGV0IHNpZ25zX2kgPSAke2NlKCJ1bmlmb3Jtcy5zaWducyIsImkiLHIubGVuZ3RoKX07XG4gICAgICAgICAgICBsZXQgc3RhcnRzX2kgPSAke2NlKCJ1bmlmb3Jtcy5zdGFydHMiLCJpIixyLmxlbmd0aCl9O1xuICAgICAgICAgICAgdmFyIG91dHB1dF9pbmRleCA9ICR7dC5pbmRpY2VzR2V0KCJvdXRwdXRfaW5kaWNlcyIsImkiKX07XG4gICAgICAgICAgICB2YXIgaW5wdXRfaW5kZXggPSBvdXRwdXRfaW5kZXggKiBzdGVwc19pICsgc3RhcnRzX2kgKyBjYXJyeTtcbiAgICAgICAgICAgIGNhcnJ5ID0gaW5wdXRfaW5kZXggLyBpbnB1dF9zaGFwZV9pO1xuICAgICAgICAgICAgaW5wdXRfaW5kZXggPSBpbnB1dF9pbmRleCAlIGlucHV0X3NoYXBlX2k7XG4gICAgICAgICAgICBpZiAoc2lnbnNfaSA8IDApIHtcbiAgICAgICAgICAgICAgaW5wdXRfaW5kZXggPSBpbnB1dF9zaGFwZV9pIC0gaW5wdXRfaW5kZXggLSAxdSArIHN0YXJ0c19pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHtlLmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLCJpIiwiaW5wdXRfaW5kZXgiKX07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpbnB1dF9pbmRpY2VzO1xuICAgICAgfWAsX2M9KGUsdCk9PntsZXQgcj1lWzBdLmRpbXMsbz1VLnNpemUociksbj10LmF4ZXMubGVuZ3RoPjA/VS5ub3JtYWxpemVBeGVzKHQuYXhlcyxyLmxlbmd0aCk6Wy4uLkFycmF5KHIubGVuZ3RoKS5rZXlzKCldLHM9b24oZSw0KTtzLmZvckVhY2goJD0+JCE9PTB8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigic3RlcCBjYW5ub3QgYmUgMCIpfSkpLHMubGVuZ3RoPT09MCYmKHM9QXJyYXkobi5sZW5ndGgpLmZpbGwoMSkpO2xldCB1PXQuc3RhcnRzLm1hcCgoJCx4KT0+cnUoJCx4LHIsbixzKSksbD10LmVuZHMubWFwKCgkLHgpPT5ydSgkLHgscixuLHMpKTtpZihuLmxlbmd0aCE9PXUubGVuZ3RofHxuLmxlbmd0aCE9PWwubGVuZ3RoKXRocm93IG5ldyBFcnJvcigic3RhcnQsIGVuZHMgYW5kIGF4ZXMgc2hvdWxkIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIGVsZW1lbnRzIik7aWYobi5sZW5ndGghPT1yLmxlbmd0aClmb3IobGV0ICQ9MDskPHIubGVuZ3RoOysrJCluLmluY2x1ZGVzKCQpfHwodS5zcGxpY2UoJCwwLDApLGwuc3BsaWNlKCQsMCxyWyRdKSxzLnNwbGljZSgkLDAsMSkpO2xldCBhPXMubWFwKCQ9Pk1hdGguc2lnbigkKSk7cy5mb3JFYWNoKCgkLHgsRSk9PntpZigkPDApe2xldCBBPShsW3hdLXVbeF0pLyQsej11W3hdLFI9eitBKnNbeF07dVt4XT1SLGxbeF09eixFW3hdPS0kfX0pO2xldCBwPXIuc2xpY2UoMCk7bi5mb3JFYWNoKCgkLHgpPT57cFskXT1NYXRoLmNlaWwoKGxbJF0tdVskXSkvc1skXSl9KTtsZXQgaD17ZGltczpwLGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9LGc9Rigib3V0cHV0IixlWzBdLmRhdGFUeXBlLHAubGVuZ3RoKSxiPU0oImlucHV0IixlWzBdLmRhdGFUeXBlLGVbMF0uZGltcy5sZW5ndGgpLHc9VS5zaXplKHApLHk9W3tuYW1lOiJvdXRwdXRTaXplIix0eXBlOiJ1MzIifSx7bmFtZToic3RhcnRzIix0eXBlOiJ1MzIiLGxlbmd0aDp1Lmxlbmd0aH0se25hbWU6InNpZ25zIix0eXBlOiJpMzIiLGxlbmd0aDphLmxlbmd0aH0se25hbWU6InN0ZXBzIix0eXBlOiJ1MzIiLGxlbmd0aDpzLmxlbmd0aH1dLF89W3t0eXBlOiJ1aW50MzIiLGRhdGE6d30se3R5cGU6InVpbnQzMiIsZGF0YTp1fSx7dHlwZToiaW50MzIiLGRhdGE6YX0se3R5cGU6InVpbnQzMiIsZGF0YTpzfSwuLi5MKGVbMF0uZGltcyksLi4uTChwKV0sST0kPT5gXG4gICAgICAkeyQucmVnaXN0ZXJVbmlmb3Jtcyh5KS5kZWNsYXJlVmFyaWFibGVzKGIsZyl9XG4gICAgICAgICR7eGMoYixnLHIpfVxuICAgICAgICAkeyQubWFpblN0YXJ0KCl9XG4gICAgICAgICAgJHskLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dFNpemUiKX1cbiAgICAgICAgICBsZXQgb3V0cHV0X2luZGljZXMgPSAke2cub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9O1xuICAgICAgICAgIGxldCBpbnB1dF9pbmRpY2VzID0gY2FsY3VsYXRlSW5wdXRJbmRpY2VzKG91dHB1dF9pbmRpY2VzKTtcbiAgICAgICAgICAke2cuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLGIuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIikpfVxuICAgICAgfWA7cmV0dXJue25hbWU6IlNsaWNlIixzaGFkZXJDYWNoZTp7aGludDpgJHthLmxlbmd0aH1fJHt1Lmxlbmd0aH1fJHtzLmxlbmd0aH1gLGlucHV0RGVwZW5kZW5jaWVzOlsicmFuayJdfSxnZXRTaGFkZXJTb3VyY2U6SSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W2hdLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKG8vNjQpfSxwcm9ncmFtVW5pZm9ybXM6X30pfX0sbnU9KGUsdCk9PnskYyhlLmlucHV0cyx0KTtsZXQgcj1TYyhlLmlucHV0cyx0KTtlLmNvbXB1dGUoX2MoZS5pbnB1dHMscikse2lucHV0czpbMF19KX0sb3U9ZT0+e2xldCB0PWUuc3RhcnRzLHI9ZS5lbmRzLG89ZS5heGVzO3JldHVybiBnZSh7c3RhcnRzOnQsZW5kczpyLGF4ZXM6b30pfX0pO3ZhciBDYyxJYyxpdSxzdSx1dT1qKCgpPT57InVzZSBzdHJpY3QiOyRlKCk7amUoKTt2ZSgpO0NjPWU9PntpZighZXx8ZS5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiU29mdG1heCBvcCByZXF1aXJlcyAxIGlucHV0LiIpfSxJYz0oZSx0KT0+e2xldCByPWUuZGltcyxvPVUuc2l6ZShyKSxuPTY0LHM9dC5heGlzO2lmKHM8MCYmKHM9ci5sZW5ndGgrcyksczxyLmxlbmd0aC0xKXRocm93IG5ldyBFcnJvcigic29mdG1heCBvbmx5IHN1cHBvcnRzIGxhc3QgYXhpcyBmb3Igbm93LiIpO2xldCB1PXJbc10sbD1vL3UsYT1GZSh1KSxwPXUvYSxoPShJLCQpPT4kPT09ND9gbWF4KG1heCgke0l9LngsICR7SX0ueSksIG1heCgke0l9LnosICR7SX0udykpYDokPT09Mj9gbWF4KCR7SX0ueCwgJHtJfS55KWA6JD09PTM/YG1heChtYXgoJHtJfS54LCAke0l9LnkpLCAke0l9LnopYDpJLGc9TSgieCIsZS5kYXRhVHlwZSxlLmRpbXMsYSksYj1GKCJyZXN1bHQiLGUuZGF0YVR5cGUsZS5kaW1zLGEpLHc9Zy50eXBlLnZhbHVlLHk9TGUoZS5kYXRhVHlwZSk9PT0iZjMyIj9gdmFyIHRocmVhZE1heCA9ICR7d30oLTMuNDAyODIzZSszOGYpO2A6YHZhciB0aHJlYWRNYXggPSAke3d9KC02NTUwNC4waCk7YCxfPUk9PmBcbiAgICAgIHZhcjx3b3JrZ3JvdXA+IHJvd01heFNoYXJlZCA6ICR7d307XG4gICAgICB2YXI8d29ya2dyb3VwPiByb3dTdW1TaGFyZWQgOiAke3d9O1xuICAgICAgdmFyPHdvcmtncm91cD4gdGhyZWFkU2hhcmVkIDogYXJyYXk8JHt3fSwgJHtufT47XG5cbiAgICAgIGZuIGdldFZhbHVlKHJvdzogaTMyLCBjb2w6IGkzMiwgcm93X3N0cmlkZTogaTMyKSAtPiAke3d9IHtcbiAgICAgICAgbGV0IGluZGV4ID0gcm93ICogcm93X3N0cmlkZSArIGNvbDtcbiAgICAgICAgcmV0dXJuIHhbaW5kZXhdO1xuICAgICAgfVxuXG4gICAgICBmbiBzZXRWYWx1ZShyb3c6IGkzMiwgY29sOiBpMzIsIHJvd19zdHJpZGU6IGkzMiwgdmFsdWU6ICR7d30pIHtcbiAgICAgICAgbGV0IGluZGV4ID0gcm93ICogcm93X3N0cmlkZSArIGNvbDtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgJHtJLnJlZ2lzdGVyVW5pZm9ybSgicGFja2VkQ29scyIsImkzMiIpLmRlY2xhcmVWYXJpYWJsZXMoZyxiKX1cbiAgICAgICR7SS5tYWluU3RhcnQoKX1cbiAgICAgICAgbGV0IGdpbmRleCA9IGkzMihnbG9iYWxfaWR4KTtcbiAgICAgICAgbGV0IGxpbmRleCA9IGkzMihsb2NhbF9pZHgpO1xuICAgICAgICBjb25zdCB3ZyA9ICR7bn07XG4gICAgICAgIGxldCByb3cgPSBnaW5kZXggLyB3ZztcbiAgICAgICAgbGV0IGNvbHMgPSB1bmlmb3Jtcy5wYWNrZWRDb2xzO1xuICAgICAgICBsZXQgcm93X3N0cmlkZSA6IGkzMiA9IHVuaWZvcm1zLnBhY2tlZENvbHM7XG5cbiAgICAgICAgLy8gZmluZCB0aGUgcm93cyBtYXhcbiAgICAgICAgJHt5fVxuICAgICAgICBmb3IgKHZhciBjb2wgPSBsaW5kZXg7IGNvbCA8IGNvbHM7IGNvbCArPSB3Zykge1xuICAgICAgICAgIGxldCB2YWx1ZSA9IGdldFZhbHVlKHJvdywgY29sLCByb3dfc3RyaWRlKTtcbiAgICAgICAgICB0aHJlYWRNYXggPSBtYXgodGhyZWFkTWF4LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbmRleCA8IGNvbHMpIHtcbiAgICAgICAgICB0aHJlYWRTaGFyZWRbbGluZGV4XSA9IHRocmVhZE1heDtcbiAgICAgICAgfVxuICAgICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG5cbiAgICAgICAgdmFyIHJlZHVjZVNpemUgPSBtaW4oY29scywgd2cpO1xuICAgICAgICBmb3IgKHZhciBjdXJyU2l6ZSA9IHJlZHVjZVNpemUgPj4gMTsgIGN1cnJTaXplID4gMDsgY3VyclNpemUgPSByZWR1Y2VTaXplID4+IDEpIHtcbiAgICAgICAgICByZWR1Y2VTaXplID0gY3VyclNpemUgKyAocmVkdWNlU2l6ZSAmIDEpO1xuICAgICAgICAgIGlmIChsaW5kZXggPCBjdXJyU2l6ZSkge1xuICAgICAgICAgICAgdGhyZWFkU2hhcmVkW2xpbmRleF0gPSBtYXgodGhyZWFkU2hhcmVkW2xpbmRleF0sIHRocmVhZFNoYXJlZFtsaW5kZXggKyByZWR1Y2VTaXplXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdvcmtncm91cEJhcnJpZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluZGV4ID09IDApIHtcbiAgICAgICAgICByb3dNYXhTaGFyZWQgPSAke3d9KCR7aCgidGhyZWFkU2hhcmVkWzBdIixhKX0pO1xuICAgICAgICB9XG4gICAgICAgIHdvcmtncm91cEJhcnJpZXIoKTtcblxuICAgICAgICAvLyBmaW5kIHRoZSByb3dzIHN1bVxuICAgICAgICB2YXIgdGhyZWFkU3VtID0gJHt3fSgwLjApO1xuICAgICAgICBmb3IgKHZhciBjb2wgPSBsaW5kZXg7IGNvbCA8IGNvbHM7IGNvbCArPSB3Zykge1xuICAgICAgICAgIGxldCBzdWJFeHAgPSBleHAoZ2V0VmFsdWUocm93LCBjb2wsIHJvd19zdHJpZGUpIC0gcm93TWF4U2hhcmVkKTtcbiAgICAgICAgICB0aHJlYWRTdW0gKz0gc3ViRXhwO1xuICAgICAgICB9XG4gICAgICAgIHRocmVhZFNoYXJlZFtsaW5kZXhdID0gdGhyZWFkU3VtO1xuICAgICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG5cbiAgICAgICAgZm9yICh2YXIgY3VyclNpemUgPSB3ZyA+PiAxOyAgY3VyclNpemUgPiAwOyBjdXJyU2l6ZSA9IGN1cnJTaXplID4+IDEpIHtcbiAgICAgICAgICBpZiAobGluZGV4IDwgY3VyclNpemUpIHtcbiAgICAgICAgICAgIHRocmVhZFNoYXJlZFtsaW5kZXhdID0gdGhyZWFkU2hhcmVkW2xpbmRleF0gKyB0aHJlYWRTaGFyZWRbbGluZGV4ICsgY3VyclNpemVdO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbmRleCA9PSAwKSB7XG4gICAgICAgICAgcm93U3VtU2hhcmVkID0gJHt3fSgke0plKCJ0aHJlYWRTaGFyZWRbMF0iLGEpfSk7XG4gICAgICAgIH1cbiAgICAgICAgd29ya2dyb3VwQmFycmllcigpO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBmaW5hbCB2YWx1ZSBmb3IgZWFjaCBlbGVtZW50IGluIHRoZSByb3dcbiAgICAgICAgZm9yICh2YXIgY29sID0gbGluZGV4OyBjb2wgPCBjb2xzOyBjb2wgKz0gd2cpIHtcbiAgICAgICAgICBsZXQgdmFsdWUgPSBleHAoZ2V0VmFsdWUocm93LCBjb2wsIHJvd19zdHJpZGUpIC0gcm93TWF4U2hhcmVkKSAvIHJvd1N1bVNoYXJlZDtcbiAgICAgICAgICBzZXRWYWx1ZShyb3csIGNvbCwgcm93X3N0cmlkZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9YDtyZXR1cm57bmFtZToiU29mdG1heCIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7YX1gLGlucHV0RGVwZW5kZW5jaWVzOlsidHlwZSJdfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnIsZGF0YVR5cGU6ZS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6bH0scHJvZ3JhbVVuaWZvcm1zOlt7dHlwZToidWludDMyIixkYXRhOnB9XX0pLGdldFNoYWRlclNvdXJjZTpffX0saXU9KGUsdCk9PntDYyhlLmlucHV0cyksZS5jb21wdXRlKEljKGUuaW5wdXRzWzBdLHQpKX0sc3U9ZT0+Z2Uoe2F4aXM6ZS5heGlzfSl9KTt2YXIgQWMsVGMsRWMsT2MsUGMsZHUsbHUsY3U9aigoKT0+eyJ1c2Ugc3RyaWN0IjskZSgpO2plKCk7dmUoKTtBYz1lPT57aWYoIWV8fGUubGVuZ3RoPDEpdGhyb3cgbmV3IEVycm9yKCJ0b28gZmV3IGlucHV0cyIpfSxUYz0oZSx0KT0+e2xldCByPVtdLG89dC5udW1PdXRwdXRzO3JldHVybiBlWzFdLmRpbXNbMF0+MCYmKGVbMV0uZ2V0QmlnSW50NjRBcnJheSgpLmZvckVhY2gobj0+ci5wdXNoKE51bWJlcihuKSkpLG89ci5sZW5ndGgpLGdlKHtudW1PdXRwdXRzOm8sYXhpczp0LmF4aXMsc3BsaXRTaXplczpyfSl9LEVjPWU9PmBcbmZuIGNhbGN1bGF0ZU91dHB1dEluZGV4KGluZGV4OiB1MzIpIC0+IHUzMiB7XG4gICAgZm9yICh2YXIgaTogdTMyID0gMHU7IGkgPCAke2V9dTsgaSArPSAxdSApIHtcbiAgICBpZiAoaW5kZXggPCAke2NlKCJ1bmlmb3Jtcy5zaXplX2luX3NwbGl0X2F4aXMiLCJpIixlKX0pIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICAgIH1cbiAgICByZXR1cm4gJHtlfXU7XG59YCxPYz1lPT57bGV0IHQ9ZS5sZW5ndGgscj1bXTtmb3IobGV0IG89MDtvPHQ7KytvKXtsZXQgbj1lW29dLnNldEJ5SW5kaWNlcygiaW5kaWNlcyIsImlucHV0W2dsb2JhbF9pZHhdIik7dD09PTE/ci5wdXNoKG4pOm89PT0wP3IucHVzaChgaWYgKG91dHB1dF9udW1iZXIgPT0gJHtvfXUpIHsgJHtufSB9YCk6bz09PXQtMT9yLnB1c2goYGVsc2UgeyAke259IH1gKTpyLnB1c2goYGVsc2UgaWYgKG91dHB1dF9udW1iZXIgPT0gJHtvfSkgeyAke259IH1gKX1yZXR1cm5gXG4gICAgICBmbiB3cml0ZUJ1ZmZlckRhdGEob3V0cHV0X251bWJlcjogdTMyLCBpbmRpY2VzOiAke2VbMF0udHlwZS5pbmRpY2VzfSwgZ2xvYmFsX2lkeDogdTMyKSB7XG4gICAgICAgICR7ci5qb2luKGBcbmApfVxuICAgICAgfWB9LFBjPShlLHQpPT57bGV0IHI9ZVswXS5kaW1zLG89VS5zaXplKHIpLG49ZVswXS5kYXRhVHlwZSxzPVUubm9ybWFsaXplQXhpcyh0LmF4aXMsci5sZW5ndGgpLHU9bmV3IEFycmF5KHQubnVtT3V0cHV0cyksbD1NKCJpbnB1dCIsbixyKSxhPW5ldyBBcnJheSh0Lm51bU91dHB1dHMpLHA9W10saD1bXSxnPTAsYj1be3R5cGU6InVpbnQzMiIsZGF0YTpvfV07Zm9yKGxldCB5PTA7eTx0Lm51bU91dHB1dHM7eSsrKXtnKz10LnNwbGl0U2l6ZXNbeV0sYVt5XT1nO2xldCBfPXIuc2xpY2UoKTtfW3QuYXhpc109dC5zcGxpdFNpemVzW3ldLGgucHVzaChfKSx1W3ldPUYoYG91dHB1dCR7eX1gLG4sXykscC5wdXNoKHtkaW1zOmhbeV0sZGF0YVR5cGU6ZVswXS5kYXRhVHlwZX0pfWIucHVzaCh7dHlwZToidWludDMyIixkYXRhOmF9KSxiLnB1c2goLi4uTChyKSksaC5mb3JFYWNoKHk9PmIucHVzaCguLi5MKHkpKSk7bGV0IHc9eT0+YFxuICAke3kucmVnaXN0ZXJVbmlmb3JtKCJpbnB1dF9zaXplIiwidTMyIikucmVnaXN0ZXJVbmlmb3JtKCJzaXplX2luX3NwbGl0X2F4aXMiLCJ1MzIiLGEubGVuZ3RoKS5kZWNsYXJlVmFyaWFibGVzKGwsLi4udSl9XG4gICR7RWMoYS5sZW5ndGgpfVxuICAke09jKHUpfVxuXG4gICR7eS5tYWluU3RhcnQoKX1cbiAgICAke3kuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMuaW5wdXRfc2l6ZSIpfVxuXG4gICAgdmFyIGluZGljZXMgPSAke2wub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9O1xuICAgIHZhciBpbmRleCA9ICR7bC5pbmRpY2VzR2V0KCJpbmRpY2VzIixzKX07XG4gICAgbGV0IG91dHB1dF9udW1iZXIgPSBjYWxjdWxhdGVPdXRwdXRJbmRleChpbmRleCk7XG4gICAgaWYgKG91dHB1dF9udW1iZXIgIT0gMCkge1xuICAgICAgaW5kZXggLT0gJHtjZSgidW5pZm9ybXMuc2l6ZV9pbl9zcGxpdF9heGlzIiwib3V0cHV0X251bWJlciAtIDF1IixhLmxlbmd0aCl9O1xuICAgICAgJHtsLmluZGljZXNTZXQoImluZGljZXMiLHMsImluZGV4Iil9O1xuICAgIH1cbiAgICB3cml0ZUJ1ZmZlckRhdGEob3V0cHV0X251bWJlciwgaW5kaWNlcywgZ2xvYmFsX2lkeCk7XG4gIH1gO3JldHVybntuYW1lOiJTcGxpdCIsc2hhZGVyQ2FjaGU6e2hpbnQ6dC5jYWNoZUtleSxpbnB1dERlcGVuZGVuY2llczpbInJhbmsiXX0sZ2V0U2hhZGVyU291cmNlOncsZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOnAsZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoby82NCl9LHByb2dyYW1Vbmlmb3JtczpifSl9fSxkdT0oZSx0KT0+e0FjKGUuaW5wdXRzKTtsZXQgcj1lLmlucHV0cy5sZW5ndGg9PT0xP3Q6VGMoZS5pbnB1dHMsdCk7ZS5jb21wdXRlKFBjKGUuaW5wdXRzLHIpLHtpbnB1dHM6WzBdfSl9LGx1PWU9PntsZXQgdD1lLmF4aXMscj1lLnNwbGl0U2l6ZXMsbz1lLm51bU91dHB1dHM8MD9yLmxlbmd0aDplLm51bU91dHB1dHM7aWYobyE9PXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcigibnVtT3V0cHV0cyBhbmQgc3BsaXRTaXplcyBsZW5naCBtdXN0IGJlIGVxdWFsIik7cmV0dXJuIGdlKHtheGlzOnQsbnVtT3V0cHV0czpvLHNwbGl0U2l6ZXM6cn0pfX0pO3ZhciBwdSxrYyxSYyxCYyxtdSxmdT1qKCgpPT57InVzZSBzdHJpY3QiO05lKCk7JGUoKTt2ZSgpO3B1PWU9PkFycmF5LmZyb20oZS5nZXRCaWdJbnQ2NEFycmF5KCksTnVtYmVyKSxrYz1lPT57aWYoIWV8fGUubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoIlRpbGUgcmVxdWlyZXMgMiBpbnB1dHMuIik7aWYoZVswXS5kYXRhVHlwZSE9PTEmJmVbMF0uZGF0YVR5cGUhPT02JiZlWzBdLmRhdGFUeXBlIT09MTIpdGhyb3cgbmV3IEVycm9yKCJUaWxlIG9ubHkgc3VwcG9ydCBmbG9hdCwgaW50MzIsIGFuZCB1aW50MzIgZGF0YSB0eXBlcyIpO2lmKGVbMV0uZGF0YVR5cGUhPT03KXRocm93IG5ldyBFcnJvcigiVGlsZSBgcmVwZWF0c2AgaW5wdXQgc2hvdWxkIGJlIG9mIGludDY0IGRhdGEgdHlwZSIpO2lmKGVbMV0uZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiVGlsZSBgcmVwZWF0c2AgaW5wdXQgc2hvdWxkIGJlIDEtRCIpO2lmKHB1KGVbMV0pLmxlbmd0aCE9PWVbMF0uZGltcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJUaWxlIGByZXBlYXRzYCBpbnB1dCBzaG91bGQgaGF2ZSBzYW1lIG51bWJlciBvZiBlbGVtZW50cyBhcyByYW5rIG9mIGlucHV0IGRhdGEgdGVuc29yIil9LFJjPShlLHQpPT57bGV0IHI9W107Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDsrK28pci5wdXNoKGVbb10qdFtvXSk7cmV0dXJuIHJ9LEJjPWU9PntsZXQgdD1lWzBdLmRpbXMscj1wdShlWzFdKSxvPVJjKHQsciksbj1VLnNpemUobykscz1lWzBdLmRhdGFUeXBlLHU9TSgiaW5wdXQiLHMsdC5sZW5ndGgpLGw9Rigib3V0cHV0IixzLG8ubGVuZ3RoKSxhPXA9PmBcbiAgICAgIGNvbnN0IGlucHV0U2hhcGUgPSAke3UuaW5kaWNlcyguLi50KX07XG4gICAgICAke3AucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRfc2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXModSxsKX1cbiAgICAgICR7cC5tYWluU3RhcnQoKX1cbiAgICAgICR7cC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRfc2l6ZSIpfVxuICAgICAgbGV0IG91dHB1dF9pbmRpY2VzID0gJHtsLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcbiAgICAgIHZhciBpbnB1dF9pbmRpY2VzOiAke3UudHlwZS5pbmRpY2VzfTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHt0Lmxlbmd0aH07IGkrKykge1xuICAgICAgICBsZXQgaW5wdXRfZGltX2kgPSAke3UuaW5kaWNlc0dldCgidW5pZm9ybXMuaW5wdXRfc2hhcGUiLCJpIil9O1xuICAgICAgICBsZXQgaW5wdXRfZGltX3ZhbHVlID0gJHtsLmluZGljZXNHZXQoIm91dHB1dF9pbmRpY2VzIiwiaSIpfSAgJSBpbnB1dF9kaW1faTtcblxuICAgICAgICAke3UuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIsImkiLCJpbnB1dF9kaW1fdmFsdWUiKX1cbiAgICAgIH1cbiAgICAgICR7bC5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsdS5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKSl9XG4gICAgfWA7cmV0dXJue25hbWU6IlRpbGUiLHNoYWRlckNhY2hlOntoaW50OmAke3J9YCxpbnB1dERlcGVuZGVuY2llczpbInJhbmsiXX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpvLGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChuLzY0KX0scHJvZ3JhbVVuaWZvcm1zOlt7dHlwZToidWludDMyIixkYXRhOm59LC4uLkwoZVswXS5kaW1zKSwuLi5MKG8pXX0pLGdldFNoYWRlclNvdXJjZTphfX0sbXU9ZT0+e2tjKGUuaW5wdXRzKSxlLmNvbXB1dGUoQmMoZS5pbnB1dHMpLHtpbnB1dHM6WzBdfSl9fSk7dmFyIERjLE1jLGh1LGd1PWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTskZSgpO3ZlKCk7RGM9KGUsdCxyLG8sbik9PntsZXQgcz1GKCJvdXRwdXRfZGF0YSIsbixyLmxlbmd0aCw0KSx1PU0oImFfZGF0YSIsdFsxXS5kYXRhVHlwZSx0WzFdLmRpbXMubGVuZ3RoLDQpLGw9TSgiYl9kYXRhIix0WzJdLmRhdGFUeXBlLHRbMl0uZGltcy5sZW5ndGgsNCksYT1NKCJjX2RhdGEiLHRbMF0uZGF0YVR5cGUsdFswXS5kaW1zLmxlbmd0aCw0KSxwLGg9KGcsYix3KT0+YHNlbGVjdCgke2J9LCAke2d9LCAke3d9KWA7aWYoIW8pcD1zLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IixoKHUuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKSxsLmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiksYS5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpKSk7ZWxzZXtsZXQgZz0oYix3LHk9IiIpPT57bGV0IF89YGFfZGF0YVtpbmRleF9hJHt3fV1bY29tcG9uZW50X2Eke3d9XWAsST1gYl9kYXRhW2luZGV4X2Ike3d9XVtjb21wb25lbnRfYiR7d31dYCwkPWBib29sKGNfZGF0YVtpbmRleF9jJHt3fV0gJiAkezQyNzgxOTAwODA+Pj4oMy13KSo4fXUpYDtyZXR1cm5gXG4gICAgICAgICAgICBsZXQgb3V0cHV0X2luZGljZXMke3d9ID0gJHtzLm9mZnNldFRvSW5kaWNlcyhgZ2xvYmFsX2lkeCAqIDR1ICsgJHt3fXVgKX07XG4gICAgICAgICAgICBsZXQgb2Zmc2V0X2Eke3d9ID0gJHt1LmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KGBvdXRwdXRfaW5kaWNlcyR7d31gLHMpfTtcbiAgICAgICAgICAgIGxldCBvZmZzZXRfYiR7d30gPSAke2wuYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQoYG91dHB1dF9pbmRpY2VzJHt3fWAscyl9O1xuICAgICAgICAgICAgbGV0IG9mZnNldF9jJHt3fSA9ICR7YS5icm9hZGNhc3RlZEluZGljZXNUb09mZnNldChgb3V0cHV0X2luZGljZXMke3d9YCxzKX07XG4gICAgICAgICAgICBsZXQgaW5kZXhfYSR7d30gPSBvZmZzZXRfYSR7d30gLyA0dTtcbiAgICAgICAgICAgIGxldCBpbmRleF9iJHt3fSA9IG9mZnNldF9iJHt3fSAvIDR1O1xuICAgICAgICAgICAgbGV0IGluZGV4X2Mke3d9ID0gb2Zmc2V0X2Mke3d9IC8gNHU7XG4gICAgICAgICAgICBsZXQgY29tcG9uZW50X2Eke3d9ID0gb2Zmc2V0X2Eke3d9ICUgNHU7XG4gICAgICAgICAgICBsZXQgY29tcG9uZW50X2Ike3d9ID0gb2Zmc2V0X2Ike3d9ICUgNHU7XG4gICAgICAgICAgICAke2J9WyR7d31dID0gJHt5fSgke2goXyxJLCQpfSk7XG4gICAgICAgICAgYH07bj09PTk/cD1gXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHZlYzQ8dTMyPigwKTtcbiAgICAgICAgICAgICR7ZygiZGF0YSIsMCwidTMyIil9XG4gICAgICAgICAgICAke2coImRhdGEiLDEsInUzMiIpfVxuICAgICAgICAgICAgJHtnKCJkYXRhIiwyLCJ1MzIiKX1cbiAgICAgICAgICAgICR7ZygiZGF0YSIsMywidTMyIil9XG4gICAgICAgICAgICBvdXRwdXRfZGF0YVtnbG9iYWxfaWR4XSA9IGRvdCh2ZWM0PHUzMj4oMHgxLCAweDEwMCwgMHgxMDAwMCwgMHgxMDAwMDAwKSwgdmVjNDx1MzI+KGRhdGEpKTtgOnA9YFxuICAgICAgICAgICAgJHtnKCJvdXRwdXRfZGF0YVtnbG9iYWxfaWR4XSIsMCl9XG4gICAgICAgICAgICAke2coIm91dHB1dF9kYXRhW2dsb2JhbF9pZHhdIiwxKX1cbiAgICAgICAgICAgICR7Zygib3V0cHV0X2RhdGFbZ2xvYmFsX2lkeF0iLDIpfVxuICAgICAgICAgICAgJHtnKCJvdXRwdXRfZGF0YVtnbG9iYWxfaWR4XSIsMyl9XG4gICAgICAgICAgYH1yZXR1cm5gXG4gICAgICAgICR7ZS5yZWdpc3RlclVuaWZvcm0oInZlY19zaXplIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyhhLHUsbCxzKX1cbiAgICAgICAgJHtlLm1haW5TdGFydCgpfVxuICAgICAgICAke2UuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMudmVjX3NpemUiKX1cbiAgICAgICAgJHtwfVxuICAgICAgfWB9LE1jPWU9PntsZXQgdD1lWzFdLmRpbXMscj1lWzJdLmRpbXMsbz1lWzBdLmRpbXMsbj1lWzFdLmRhdGFUeXBlLHM9IShVLmFyZUVxdWFsKHQscikmJlUuYXJlRXF1YWwocixvKSksdT10LGw9VS5zaXplKHQpO2lmKHMpe2xldCBwPWR0LmNhbGNTaGFwZShkdC5jYWxjU2hhcGUodCxyLCExKSxvLCExKTtpZighcCl0aHJvdyBuZXcgRXJyb3IoIkNhblwndCBwZXJmb3JtIHdoZXJlIG9wIG9uIHRoZSBnaXZlbiB0ZW5zb3JzIik7dT1wLGw9VS5zaXplKHUpfWxldCBhPU1hdGguY2VpbChsLzQpO3JldHVybntuYW1lOiJXaGVyZSIsc2hhZGVyQ2FjaGU6e2lucHV0RGVwZW5kZW5jaWVzOlsicmFuayIsInJhbmsiLCJyYW5rIl19LGdldFNoYWRlclNvdXJjZTpwPT5EYyhwLGUsdSxzLG4pLGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6dSxkYXRhVHlwZTpufV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwobC82NC80KX0scHJvZ3JhbVVuaWZvcm1zOlt7dHlwZToidWludDMyIixkYXRhOmF9LC4uLkwobyksLi4uTCh0KSwuLi5MKHIpLC4uLkwodSldfSl9fSxodT1lPT57ZS5jb21wdXRlKE1jKGUuaW5wdXRzKSl9fSk7dmFyIHl1LGJ1PWooKCk9PnsidXNlIHN0cmljdCI7V2EoKTtVbigpO0xhKCk7amEoKTtDaSgpO01pKCk7VmkoKTtHbigpO0ppKCk7cnMoKTtzcygpO2xzKCk7bXMoKTtncygpO3dzKCk7JHMoKTt4cygpO0ZuKCk7QXMoKTtFcygpO2pzKCk7S3MoKTtqcigpO1hzKCk7dHUoKTthdSgpO3V1KCk7Y3UoKTtmdSgpO2p0KCk7Vm4oKTtndSgpO3l1PW5ldyBNYXAoW1siQWJzIixbcWFdXSxbIkFjb3MiLFtLYV1dLFsiQWNvc2giLFtZYV1dLFsiQWRkIixbSWldXSxbIkFyZ01heCIsW05hLHpuXV0sWyJBcmdNaW4iLFtWYSx6bl1dLFsiQXNpbiIsW1phXV0sWyJBc2luaCIsW1FhXV0sWyJBdGFuIixbWGFdXSxbIkF0YW5oIixbSmFdXSxbIkF0dGVudGlvbiIsW0hhXV0sWyJBdmVyYWdlUG9vbCIsW3pzLE1zXV0sWyJCYXRjaE5vcm1hbGl6YXRpb24iLFtHYV1dLFsiQmlhc0FkZCIsW0ZhXV0sWyJCaWFzU3BsaXRHZWx1IixbX2ldXSxbIkNhc3QiLFt0aSxlaV1dLFsiQ2VpbCIsW25pXV0sWyJDbGlwIixbcmldXSxbIkNvbmNhdCIsW3ppLFVpXV0sWyJDb252IixbcW4sam5dXSxbIkNvbnZUcmFuc3Bvc2UiLFtYaSxRaV1dLFsiQ29zIixbb2ldXSxbIkNvc2giLFthaV1dLFsiQ3VtU3VtIixbZXMsdHNdXSxbIkRpdiIsW0FpXV0sWyJFaW5zdW0iLFthcyxpc11dLFsiRWx1IixbaWksWXJdXSxbIkVxdWFsIixbVGldXSxbIkVyZiIsW3NpXV0sWyJFeHAiLFt1aV1dLFsiRXhwYW5kIixbZHNdXSxbIkZsb29yIixbZGldXSxbIkZ1c2VkQ29udiIsW3FuLGpuXV0sWyJHYXRoZXIiLFtwcyxjc11dLFsiR2F0aGVyRWxlbWVudHMiLFtocyxmc11dLFsiR2VsdSIsW2xpXV0sWyJHZW1tIixbYnMseXNdXSxbIkdsb2JhbEF2ZXJhZ2VQb29sIixbTnMsVnNdXSxbIkdsb2JhbE1heFBvb2wiLFtGcyxMc11dLFsiR3JlYXRlciIsW2tpXV0sWyJHcmVhdGVyT3JFcXVhbCIsW0JpXV0sWyJJbnN0YW5jZU5vcm1hbGl6YXRpb24iLFt2c11dLFsiTGF5ZXJOb3JtYWxpemF0aW9uIixbU3NdXSxbIkxlYWt5UmVsdSIsW2NpLFlyXV0sWyJMZXNzIixbUmldXSxbIkxlc3NPckVxdWFsIixbRGldXSxbIkxvZyIsW3hpXV0sWyJNYXRNdWwiLFtMaV1dLFsiTWF4UG9vbCIsW0hzLEdzXV0sWyJNdWwiLFtFaV1dLFsiTXVsdGlIZWFkQXR0ZW50aW9uIixbSXMsQ3NdXSxbIk5lZyIsW21pXV0sWyJOb3QiLFtwaV1dLFsiUGFkIixbVHNdXSxbIlBvdyIsW09pXV0sWyJSYW5nZSIsW3FzXV0sWyJSZWNpcHJvY2FsIixbZmldXSxbIlJlZHVjZU1pbiIsW1JhXV0sWyJSZWR1Y2VNZWFuIixbVGFdXSxbIlJlZHVjZU1heCIsW2thXV0sWyJSZWR1Y2VTdW0iLFtEYV1dLFsiUmVkdWNlUHJvZCIsW0JhXV0sWyJSZWR1Y2VMMSIsW0VhXV0sWyJSZWR1Y2VMMiIsW09hXV0sWyJSZWR1Y2VMb2dTdW0iLFt6YV1dLFsiUmVkdWNlTG9nU3VtRXhwIixbUGFdXSxbIlJlZHVjZVN1bVNxdWFyZSIsW01hXV0sWyJSZWx1IixbaGldXSxbIlJlc2l6ZSIsW1pzLFFzXV0sWyJTaWdtb2lkIixbZ2ldXSxbIlNpbiIsW3lpXV0sWyJTaW5oIixbYmldXSxbIlNsaWNlIixbbnUsb3VdXSxbIlNraXBMYXllck5vcm1hbGl6YXRpb24iLFtKcyxldV1dLFsiU3BsaXQiLFtkdSxsdV1dLFsiU3FydCIsW3dpXV0sWyJTb2Z0bWF4IixbaXUsc3VdXSxbIlN1YiIsW1BpXV0sWyJUYW4iLFt2aV1dLFsiVGFuaCIsWyRpXV0sWyJUaHJlc2hvbGRlZFJlbHUiLFtTaSxZcl1dLFsiVGlsZSIsW211XV0sWyJUcmFuc3Bvc2UiLFtoYSxnYV1dLFsiV2hlcmUiLFtodV1dXSl9KTt2YXIgYW4sd3U9aigoKT0+eyJ1c2Ugc3RyaWN0IjtMdCgpO0N0KCk7dmUoKTthbj1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmJhY2tlbmQ9dDt0aGlzLnJlcG89bmV3IE1hcCx0aGlzLmF0dHJpYnV0ZXNCb3VuZD0hMX1nZXRBcnRpZmFjdCh0KXtyZXR1cm4gdGhpcy5yZXBvLmdldCh0KX1zZXRBcnRpZmFjdCh0LHIpe3RoaXMucmVwby5zZXQodCxyKX1ydW4odCxyLG8sbixzKXtrdCh0LnByb2dyYW1JbmZvLm5hbWUpO2xldCB1PXRoaXMuYmFja2VuZC5kZXZpY2UsbD10aGlzLmJhY2tlbmQuZ2V0Q29tcHV0ZVBhc3NFbmNvZGVyKCk7dGhpcy5iYWNrZW5kLndyaXRlVGltZXN0YW1wKHRoaXMuYmFja2VuZC5wZW5kaW5nRGlzcGF0Y2hOdW1iZXIqMiksbC5zZXRQaXBlbGluZSh0LmNvbXB1dGVQaXBlbGluZSk7bGV0IGE9W107Zm9yKGxldCBoIG9mIHIpYS5wdXNoKHtiaW5kaW5nOmEubGVuZ3RoLHJlc291cmNlOntidWZmZXI6aC5idWZmZXJ9fSk7Zm9yKGxldCBoIG9mIG8pYS5wdXNoKHtiaW5kaW5nOmEubGVuZ3RoLHJlc291cmNlOntidWZmZXI6aC5idWZmZXJ9fSk7cyYmYS5wdXNoKHtiaW5kaW5nOmEubGVuZ3RoLHJlc291cmNlOnN9KTtsZXQgcD11LmNyZWF0ZUJpbmRHcm91cCh7bGF5b3V0OnQuY29tcHV0ZVBpcGVsaW5lLmdldEJpbmRHcm91cExheW91dCgwKSxlbnRyaWVzOmEsbGFiZWw6dC5wcm9ncmFtSW5mby5uYW1lfSk7bC5zZXRCaW5kR3JvdXAoMCxwKSxsLmRpc3BhdGNoV29ya2dyb3VwcyguLi5uKSx0aGlzLmJhY2tlbmQud3JpdGVUaW1lc3RhbXAodGhpcy5iYWNrZW5kLnBlbmRpbmdEaXNwYXRjaE51bWJlcioyKzEpLHRoaXMuYmFja2VuZC5wZW5kaW5nRGlzcGF0Y2hOdW1iZXIrKywodGhpcy5iYWNrZW5kLnBlbmRpbmdEaXNwYXRjaE51bWJlcj49dGhpcy5iYWNrZW5kLm1heERpc3BhdGNoTnVtYmVyfHx0aGlzLmJhY2tlbmQucXVlcnlUeXBlPT09ImF0LXBhc3NlcyIpJiZ0aGlzLmJhY2tlbmQuZW5kQ29tcHV0ZVBhc3MoKSx0aGlzLmJhY2tlbmQucGVuZGluZ0Rpc3BhdGNoTnVtYmVyPj10aGlzLmJhY2tlbmQubWF4RGlzcGF0Y2hOdW1iZXImJnRoaXMuYmFja2VuZC5mbHVzaCgpLFJ0KHQucHJvZ3JhbUluZm8ubmFtZSl9ZGlzcG9zZSgpe31idWlsZCh0LHIpe2t0KHQubmFtZSk7bGV0IG89dGhpcy5iYWNrZW5kLmRldmljZSxuPVtdO28uZmVhdHVyZXMuaGFzKCJzaGFkZXItZjE2IikmJm4ucHVzaCgiZW5hYmxlIGYxNjsiKTtsZXQgcz1tYShyKSx1PXQuZ2V0U2hhZGVyU291cmNlKHMpLGw9YCR7bi5qb2luKGBcbmApfVxuJHtzLmFkZGl0aW9uYWxJbXBsZW1lbnRhdGlvbnN9XG4ke3V9YCxhPW8uY3JlYXRlU2hhZGVyTW9kdWxlKHtjb2RlOmwsbGFiZWw6dC5uYW1lfSk7QmUoInZlcmJvc2UiLCgpPT5gW1dlYkdQVV0gJHt0Lm5hbWV9IHNoYWRlciBjb2RlOiAke2x9YCk7bGV0IHA9by5jcmVhdGVDb21wdXRlUGlwZWxpbmUoe2NvbXB1dGU6e21vZHVsZTphLGVudHJ5UG9pbnQ6Im1haW4ifSxsYXlvdXQ6ImF1dG8iLGxhYmVsOnQubmFtZX0pO3JldHVybiBSdCh0Lm5hbWUpLHtwcm9ncmFtSW5mbzp0LGNvbXB1dGVQaXBlbGluZTpwfX1ub3JtYWxpemVEaXNwYXRjaEdyb3VwU2l6ZSh0KXtsZXQgcj10eXBlb2YgdD09Im51bWJlciI/dDp0Lngsbz10eXBlb2YgdD09Im51bWJlciI/MTp0Lnl8fDEsbj10eXBlb2YgdD09Im51bWJlciI/MTp0Lnp8fDEscz10aGlzLmJhY2tlbmQuZGV2aWNlLmxpbWl0cy5tYXhDb21wdXRlV29ya2dyb3Vwc1BlckRpbWVuc2lvbjtpZihyPD1zJiZvPD1zJiZuPD1zKXJldHVybltyLG8sbl07bGV0IHU9cipvKm4sbD1NYXRoLmNlaWwoTWF0aC5zcXJ0KHUpKTtpZihsPnMpe2lmKGw9TWF0aC5jZWlsKE1hdGguY2JydCh1KSksbD5zKXRocm93IG5ldyBFcnJvcigiVG90YWwgZGlzcGF0Y2ggc2l6ZSBleGNlZWRzIFdlYkdQVSBtYXhpbXVtLiIpO3JldHVybltsLGwsbF19ZWxzZSByZXR1cm5bbCxsLDFdfX19KTt2YXIgemMsVWMsc24sdnU9aigoKT0+eyJ1c2Ugc3RyaWN0IjtMdCgpO05lKCk7Q3QoKTt1YSgpO3BhKCk7YnUoKTt3dSgpO3pjPShlLHQpPT57aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYGlucHV0RGVwZW5kZW5jaWVzIGxlbmd0aCAke3QubGVuZ3RofSBpcyBub3QgZXF1YWwgdG8gaW5wdXRUZW5zb3JzIGxlbmd0aCAke2UubGVuZ3RofS5gKTtsZXQgcj1bXTtmb3IobGV0IG89MDtvPGUubGVuZ3RoOysrbyl7bGV0IG49ZVtvXS5kYXRhVHlwZTtzd2l0Y2godFtvXSl7Y2FzZSJub25lIjp7ci5wdXNoKCIiKTticmVha31jYXNlInR5cGUiOntyLnB1c2goYCR7bn1gKTticmVha31jYXNlInJhbmsiOntsZXQgcz1lW29dLmRpbXMubGVuZ3RoO3IucHVzaChgJHtufTske3N9YCk7YnJlYWt9Y2FzZSJkaW1zIjp7bGV0IHM9ZVtvXS5kaW1zLmpvaW4oIiwiKTtyLnB1c2goYCR7bn07JHtzfWApO2JyZWFrfWRlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBpbnB1dCBkZXBlbmRlbmN5OiAke3Rbb119YCl9fXJldHVybiByLmpvaW4oInwiKX0sVWM9KGUsdCxyKT0+e2xldCBvPWUubmFtZTtyZXR1cm4gZS5zaGFkZXJDYWNoZT8uaGludCYmKG8rPSJbIitlLnNoYWRlckNhY2hlLmhpbnQrIl0iKSxvKz0iOiIrcitgOiR7emModCxlLnNoYWRlckNhY2hlPy5pbnB1dERlcGVuZGVuY2llcz8/bmV3IEFycmF5KHQubGVuZ3RoKS5maWxsKCJkaW1zIikpfWAsb30sc249Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmN1cnJlbnRLZXJuZWxJZD1udWxsO3RoaXMuY29tbWFuZEVuY29kZXI9bnVsbDt0aGlzLmNvbXB1dGVQYXNzRW5jb2Rlcj1udWxsO3RoaXMubWF4RGlzcGF0Y2hOdW1iZXI9MTY7dGhpcy5wZW5kaW5nRGlzcGF0Y2hOdW1iZXI9MDt0aGlzLnBlbmRpbmdLZXJuZWxzPVtdO3RoaXMucGVuZGluZ1F1ZXJpZXM9bmV3IE1hcDt0aGlzLnNlc3Npb25FeHRlcm5hbERhdGFNYXBwaW5nPW5ldyBNYXB9Z2V0IGN1cnJlbnRLZXJuZWxDdXN0b21EYXRhKCl7aWYodGhpcy5jdXJyZW50S2VybmVsSWQ9PT1udWxsKXRocm93IG5ldyBFcnJvcigiY3VycmVudEtlcm5lbEN1c3RvbURhdGEoKTogY3VycmVudEtlcm5lbElkIGlzIG51bGwuIChzaG91bGQgbm90IGhhcHBlbikiKTtsZXQgdD10aGlzLmtlcm5lbEN1c3RvbURhdGEuZ2V0KHRoaXMuY3VycmVudEtlcm5lbElkKTtyZXR1cm4gdHx8KHQ9e30sdGhpcy5rZXJuZWxDdXN0b21EYXRhLnNldCh0aGlzLmN1cnJlbnRLZXJuZWxJZCx0KSksdH1hc3luYyBpbml0aWFsaXplKHQscil7dGhpcy5lbnY9dDtsZXQgbz1bXSxuPXtyZXF1aXJlZExpbWl0czp7bWF4Q29tcHV0ZVdvcmtncm91cFN0b3JhZ2VTaXplOnIubGltaXRzLm1heENvbXB1dGVXb3JrZ3JvdXBTdG9yYWdlU2l6ZSxtYXhDb21wdXRlV29ya2dyb3Vwc1BlckRpbWVuc2lvbjpyLmxpbWl0cy5tYXhDb21wdXRlV29ya2dyb3Vwc1BlckRpbWVuc2lvbixtYXhTdG9yYWdlQnVmZmVyQmluZGluZ1NpemU6ci5saW1pdHMubWF4U3RvcmFnZUJ1ZmZlckJpbmRpbmdTaXplLG1heEJ1ZmZlclNpemU6ci5saW1pdHMubWF4QnVmZmVyU2l6ZSxtYXhDb21wdXRlSW52b2NhdGlvbnNQZXJXb3JrZ3JvdXA6ci5saW1pdHMubWF4Q29tcHV0ZUludm9jYXRpb25zUGVyV29ya2dyb3VwLG1heENvbXB1dGVXb3JrZ3JvdXBTaXplWDpyLmxpbWl0cy5tYXhDb21wdXRlV29ya2dyb3VwU2l6ZVgsbWF4Q29tcHV0ZVdvcmtncm91cFNpemVZOnIubGltaXRzLm1heENvbXB1dGVXb3JrZ3JvdXBTaXplWSxtYXhDb21wdXRlV29ya2dyb3VwU2l6ZVo6ci5saW1pdHMubWF4Q29tcHV0ZVdvcmtncm91cFNpemVafSxyZXF1aXJlZEZlYXR1cmVzOm99O3IuZmVhdHVyZXMuaGFzKCJjaHJvbWl1bS1leHBlcmltZW50YWwtdGltZXN0YW1wLXF1ZXJ5LWluc2lkZS1wYXNzZXMiKT9vLnB1c2goImNocm9taXVtLWV4cGVyaW1lbnRhbC10aW1lc3RhbXAtcXVlcnktaW5zaWRlLXBhc3NlcyIpOnIuZmVhdHVyZXMuaGFzKCJ0aW1lc3RhbXAtcXVlcnkiKSYmby5wdXNoKCJ0aW1lc3RhbXAtcXVlcnkiKSxyLmZlYXR1cmVzLmhhcygic2hhZGVyLWYxNiIpJiZvLnB1c2goInNoYWRlci1mMTYiKSx0aGlzLmRldmljZT1hd2FpdCByLnJlcXVlc3REZXZpY2UobiksdGhpcy5ncHVEYXRhTWFuYWdlcj1jYSh0aGlzKSx0aGlzLnByb2dyYW1NYW5hZ2VyPW5ldyBhbih0aGlzKSx0aGlzLmtlcm5lbHM9bmV3IE1hcCx0aGlzLmtlcm5lbFBlcnNpc3RlbnREYXRhPW5ldyBNYXAsdGhpcy5rZXJuZWxDdXN0b21EYXRhPW5ldyBNYXAsaWEodC5sb2dMZXZlbCwhIXQuZGVidWcpLHRoaXMuZGV2aWNlLm9udW5jYXB0dXJlZGVycm9yPXM9PntzLmVycm9yIGluc3RhbmNlb2YgR1BVVmFsaWRhdGlvbkVycm9yJiZjb25zb2xlLmVycm9yKGBBbiB1bmNhdWdodCBXZWJHUFUgdmFsaWRhdGlvbiBlcnJvciB3YXMgcmFpc2VkOiAke3MuZXJyb3IubWVzc2FnZX1gKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuZW52LndlYmdwdSwiZGV2aWNlIix7dmFsdWU6dGhpcy5kZXZpY2V9KSx0aGlzLnNldFF1ZXJ5VHlwZSgpfWRpc3Bvc2UoKXt0eXBlb2YgdGhpcy5xdWVyeVNldDwidSImJnRoaXMucXVlcnlTZXQuZGVzdHJveSgpLHRoaXMuZ3B1RGF0YU1hbmFnZXIuZGlzcG9zZSgpfWdldENvbW1hbmRFbmNvZGVyKCl7cmV0dXJuIHRoaXMuY29tbWFuZEVuY29kZXJ8fCh0aGlzLmNvbW1hbmRFbmNvZGVyPXRoaXMuZGV2aWNlLmNyZWF0ZUNvbW1hbmRFbmNvZGVyKCksdGhpcy5zZXRRdWVyeVR5cGUoKSx0aGlzLnF1ZXJ5VHlwZSE9PSJub25lIiYmdHlwZW9mIHRoaXMucXVlcnlTZXQ+InUiJiYodGhpcy5xdWVyeVNldD10aGlzLmRldmljZS5jcmVhdGVRdWVyeVNldCh7dHlwZToidGltZXN0YW1wIixjb3VudDp0aGlzLm1heERpc3BhdGNoTnVtYmVyKjJ9KSx0aGlzLnF1ZXJ5UmVzb2x2ZUJ1ZmZlcj10aGlzLmRldmljZS5jcmVhdGVCdWZmZXIoe3NpemU6dGhpcy5tYXhEaXNwYXRjaE51bWJlcioyKjgsdXNhZ2U6R1BVQnVmZmVyVXNhZ2UuQ09QWV9TUkN8R1BVQnVmZmVyVXNhZ2UuUVVFUllfUkVTT0xWRX0pKSksdGhpcy5jb21tYW5kRW5jb2Rlcn1nZXRDb21wdXRlUGFzc0VuY29kZXIoKXtpZighdGhpcy5jb21wdXRlUGFzc0VuY29kZXIpe2xldCB0PXt9O3RoaXMucXVlcnlUeXBlPT09ImF0LXBhc3NlcyImJih0LnRpbWVzdGFtcFdyaXRlcz17cXVlcnlTZXQ6dGhpcy5xdWVyeVNldCxiZWdpbm5pbmdPZlBhc3NXcml0ZUluZGV4OnRoaXMucGVuZGluZ0Rpc3BhdGNoTnVtYmVyKjIsZW5kT2ZQYXNzV3JpdGVJbmRleDp0aGlzLnBlbmRpbmdEaXNwYXRjaE51bWJlcioyKzF9KSx0aGlzLmNvbXB1dGVQYXNzRW5jb2Rlcj10aGlzLmdldENvbW1hbmRFbmNvZGVyKCkuYmVnaW5Db21wdXRlUGFzcyh0KX1yZXR1cm4gdGhpcy5jb21wdXRlUGFzc0VuY29kZXJ9ZW5kQ29tcHV0ZVBhc3MoKXt0aGlzLmNvbXB1dGVQYXNzRW5jb2RlciYmKHRoaXMuY29tcHV0ZVBhc3NFbmNvZGVyLmVuZCgpLHRoaXMuY29tcHV0ZVBhc3NFbmNvZGVyPW51bGwpfWZsdXNoKCl7aWYoIXRoaXMuY29tbWFuZEVuY29kZXIpcmV0dXJuO2t0KCksdGhpcy5lbmRDb21wdXRlUGFzcygpO2xldCB0O3RoaXMucXVlcnlUeXBlIT09Im5vbmUiJiYodGhpcy5jb21tYW5kRW5jb2Rlci5yZXNvbHZlUXVlcnlTZXQodGhpcy5xdWVyeVNldCwwLHRoaXMucGVuZGluZ0Rpc3BhdGNoTnVtYmVyKjIsdGhpcy5xdWVyeVJlc29sdmVCdWZmZXIsMCksdD10aGlzLmRldmljZS5jcmVhdGVCdWZmZXIoe3NpemU6dGhpcy5wZW5kaW5nRGlzcGF0Y2hOdW1iZXIqMio4LHVzYWdlOkdQVUJ1ZmZlclVzYWdlLk1BUF9SRUFEfEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUfSksdGhpcy5wZW5kaW5nUXVlcmllcy5zZXQodCx0aGlzLnBlbmRpbmdLZXJuZWxzKSx0aGlzLnBlbmRpbmdLZXJuZWxzPVtdLHRoaXMuY29tbWFuZEVuY29kZXIuY29weUJ1ZmZlclRvQnVmZmVyKHRoaXMucXVlcnlSZXNvbHZlQnVmZmVyLDAsdCwwLHRoaXMucGVuZGluZ0Rpc3BhdGNoTnVtYmVyKjIqOCkpLHRoaXMuZGV2aWNlLnF1ZXVlLnN1Ym1pdChbdGhpcy5jb21tYW5kRW5jb2Rlci5maW5pc2goKV0pLHRoaXMuZ3B1RGF0YU1hbmFnZXIucmVmcmVzaFBlbmRpbmdCdWZmZXJzKCksdGhpcy5jb21tYW5kRW5jb2Rlcj1udWxsLHRoaXMucGVuZGluZ0Rpc3BhdGNoTnVtYmVyPTAsdGhpcy5xdWVyeVR5cGUhPT0ibm9uZSImJnQubWFwQXN5bmMoR1BVTWFwTW9kZS5SRUFEKS50aGVuKCgpPT57bGV0IHI9bmV3IEJpZ1VpbnQ2NEFycmF5KHQuZ2V0TWFwcGVkUmFuZ2UoKSksbz10aGlzLnBlbmRpbmdRdWVyaWVzLmdldCh0KTtmb3IobGV0IG49MDtuPHIubGVuZ3RoLzI7bisrKXtsZXQgcz1vW25dLHU9cy5rZXJuZWxJZCxsPXRoaXMua2VybmVscy5nZXQodSksYT1sLmtlcm5lbFR5cGUscD1sLmtlcm5lbE5hbWUsaD1zLnByb2dyYW1OYW1lLGc9cy5pbnB1dFRlbnNvclZpZXdzLGI9cy5vdXRwdXRUZW5zb3JWaWV3cyx3PXJbbioyXSx5PXJbbioyKzFdO3R5cGVvZiB0aGlzLnF1ZXJ5VGltZUJhc2U+InUiJiYodGhpcy5xdWVyeVRpbWVCYXNlPXcpO2xldCBfPU51bWJlcih3LXRoaXMucXVlcnlUaW1lQmFzZSksST1OdW1iZXIoeS10aGlzLnF1ZXJ5VGltZUJhc2UpO2lmKCFOdW1iZXIuaXNTYWZlSW50ZWdlcihfKXx8IU51bWJlci5pc1NhZmVJbnRlZ2VyKEkpKXRocm93IG5ldyBSYW5nZUVycm9yKCJpbmNvcnJlY3QgdGltZXN0YW1wIHJhbmdlIik7aWYodGhpcy5lbnYud2ViZ3B1LnByb2ZpbGluZz8ub25kYXRhKXRoaXMuZW52LndlYmdwdS5wcm9maWxpbmcub25kYXRhKHt2ZXJzaW9uOjEsaW5wdXRzTWV0YWRhdGE6Zy5tYXAoJD0+KHtkaW1zOiQuZGltcyxkYXRhVHlwZTpYZSgkLmRhdGFUeXBlKX0pKSxvdXRwdXRzTWV0YWRhdGE6Yi5tYXAoJD0+KHtkaW1zOiQuZGltcyxkYXRhVHlwZTpYZSgkLmRhdGFUeXBlKX0pKSxrZXJuZWxJZDp1LGtlcm5lbFR5cGU6YSxrZXJuZWxOYW1lOnAscHJvZ3JhbU5hbWU6aCxzdGFydFRpbWU6XyxlbmRUaW1lOkl9KTtlbHNle2xldCAkPSIiO2cuZm9yRWFjaCgoRSxBKT0+eyQrPWBpbnB1dFske0F9XTogWyR7RS5kaW1zfV0gfCAke1hlKEUuZGF0YVR5cGUpfSwgYH0pO2xldCB4PSIiO2IuZm9yRWFjaCgoRSxBKT0+e3grPWBvdXRwdXRbJHtBfV06IFske0UuZGltc31dIHwgJHtYZShFLmRhdGFUeXBlKX0sIGB9KSxjb25zb2xlLmxvZyhgW3Byb2ZpbGluZ10ga2VybmVsICIke3V9fCR7YX18JHtwfXwke2h9IiAkeyR9JHt4fWV4ZWN1dGlvbiB0aW1lOiAke0ktX30gbnNgKX1BbigiR1BVIixgJHtofTo6JHt3fTo6JHt5fWApfXQudW5tYXAoKSx0aGlzLnBlbmRpbmdRdWVyaWVzLmRlbGV0ZSh0KX0pLFJ0KCl9cnVuKHQscixvLG4scyl7a3QodC5uYW1lKTtsZXQgdT1bXTtmb3IobGV0IHg9MDt4PHIubGVuZ3RoOysreCl7bGV0IEU9dGhpcy5ncHVEYXRhTWFuYWdlci5nZXQoclt4XS5kYXRhKTtpZighRSl0aHJvdyBuZXcgRXJyb3IoYG5vIEdQVSBkYXRhIGZvciBpbnB1dDogJHtyW3hdLmRhdGF9YCk7dVt4XT1FfWxldHtvdXRwdXRzOmwsZGlzcGF0Y2hHcm91cDphLHByb2dyYW1Vbmlmb3JtczpwfT10LmdldFJ1bkRhdGEociksaD1vLmxlbmd0aD09PTA/bC5tYXAoKHgsRSk9PkUpOm87aWYoaC5sZW5ndGghPT1sLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYE91dHB1dCBzaXplICR7aC5sZW5ndGh9IG11c3QgYmUgZXF1YWwgdG8gJHtsLmxlbmd0aH0uYCk7bGV0IGc9W10sYj1bXTtmb3IobGV0IHg9MDt4PGwubGVuZ3RoOysreCl7aWYoIU51bWJlci5pc0ludGVnZXIoaFt4XSl8fGhbeF08LTN8fGhbeF0+PWwubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBvdXRwdXQgaW5kZXg6ICR7aFt4XX1gKTtpZihoW3hdPT09LTMpY29udGludWU7bGV0IEU9aFt4XT09PS0xLEE9aFt4XT09PS0yLHo9RXx8QT9zKGxbeF0uZGF0YVR5cGUsbFt4XS5kaW1zKTpuKGhbeF0sbFt4XS5kYXRhVHlwZSxsW3hdLmRpbXMpLFI9dGhpcy5ncHVEYXRhTWFuYWdlci5nZXQoei5kYXRhKTtpZighUil0aHJvdyBuZXcgRXJyb3IoYG5vIEdQVSBkYXRhIGZvciBvdXRwdXQ6ICR7ei5kYXRhfWApO2lmKEUmJnRoaXMudGVtcG9yYXJ5RGF0YS5wdXNoKFIpLEEpe2xldCBWPXRoaXMua2VybmVsUGVyc2lzdGVudERhdGEuZ2V0KHRoaXMuY3VycmVudEtlcm5lbElkKTtWfHwoVj1bXSx0aGlzLmtlcm5lbFBlcnNpc3RlbnREYXRhLnNldCh0aGlzLmN1cnJlbnRLZXJuZWxJZCxWKSksVi5wdXNoKFIpfWcucHVzaCh6KSxiLnB1c2goUil9bGV0IHc7aWYocCl7bGV0IHg9MCxFPVtdO3AuZm9yRWFjaChWPT57bGV0IFQ9dHlwZW9mIFYuZGF0YT09Im51bWJlciI/W1YuZGF0YV06Vi5kYXRhO2lmKFQubGVuZ3RoPT09MClyZXR1cm47bGV0IE49VC5sZW5ndGg8PTI/VC5sZW5ndGgqNDoxNjt4PU1hdGguY2VpbCh4L04pKk4sRS5wdXNoKHgpLHgrPVQubGVuZ3RoPjQ/TWF0aC5jZWlsKFQubGVuZ3RoLzQpKjE2OlQubGVuZ3RoKjR9KTtsZXQgQT0xNjt4PU1hdGguY2VpbCh4L0EpKkE7bGV0IHo9bmV3IEFycmF5QnVmZmVyKHgpO3AuZm9yRWFjaCgoVixUKT0+e2xldCBOPUVbVF0sdGU9dHlwZW9mIFYuZGF0YT09Im51bWJlciI/W1YuZGF0YV06Vi5kYXRhO1YudHlwZT09PSJpbnQzMiI/bmV3IEludDMyQXJyYXkoeixOLHRlLmxlbmd0aCkuc2V0KHRlKTpWLnR5cGU9PT0idWludDMyIj9uZXcgVWludDMyQXJyYXkoeixOLHRlLmxlbmd0aCkuc2V0KHRlKTpuZXcgRmxvYXQzMkFycmF5KHosTix0ZS5sZW5ndGgpLnNldCh0ZSl9KTtsZXQgUj10aGlzLmdwdURhdGFNYW5hZ2VyLmNyZWF0ZSh4LEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUfEdQVUJ1ZmZlclVzYWdlLlVOSUZPUk0pO3RoaXMuZGV2aWNlLnF1ZXVlLndyaXRlQnVmZmVyKFIuYnVmZmVyLDAseiwwLHgpLHRoaXMuZ3B1RGF0YU1hbmFnZXIucmVsZWFzZShSLmlkKSx3PXtvZmZzZXQ6MCxzaXplOngsYnVmZmVyOlIuYnVmZmVyfX1sZXQgeT10aGlzLnByb2dyYW1NYW5hZ2VyLm5vcm1hbGl6ZURpc3BhdGNoR3JvdXBTaXplKGEpLF89eVsxXT09PTEmJnlbMl09PT0xLEk9VWModCxyLF8pLCQ9dGhpcy5wcm9ncmFtTWFuYWdlci5nZXRBcnRpZmFjdChJKTtpZigkfHwoJD10aGlzLnByb2dyYW1NYW5hZ2VyLmJ1aWxkKHQseSksdGhpcy5wcm9ncmFtTWFuYWdlci5zZXRBcnRpZmFjdChJLCQpLEJlKCJpbmZvIiwoKT0+YFthcnRpZmFjdF0ga2V5OiAke0l9LCBwcm9ncmFtTmFtZTogJHt0Lm5hbWV9YCkpLEJlKCJpbmZvIiwoKT0+YFtQcm9ncmFtTWFuYWdlcl0gcnVuICIke3QubmFtZX0iIChrZXk9JHtJfSkgd2l0aCAke3lbMF19eCR7eVsxXX14JHt5WzJdfWApLHRoaXMucXVlcnlUeXBlIT09Im5vbmUiKXtsZXQgeD17a2VybmVsSWQ6dGhpcy5jdXJyZW50S2VybmVsSWQscHJvZ3JhbU5hbWU6JC5wcm9ncmFtSW5mby5uYW1lLGlucHV0VGVuc29yVmlld3M6cixvdXRwdXRUZW5zb3JWaWV3czpnfTt0aGlzLnBlbmRpbmdLZXJuZWxzLnB1c2goeCl9cmV0dXJuIHRoaXMucHJvZ3JhbU1hbmFnZXIucnVuKCQsdSxiLHksdyksUnQodC5uYW1lKSxnfXVwbG9hZCh0LHIpe3RoaXMuZ3B1RGF0YU1hbmFnZXIudXBsb2FkKHQscil9bWVtY3B5KHQscil7dGhpcy5ncHVEYXRhTWFuYWdlci5tZW1jcHkodCxyKX1hc3luYyBkb3dubG9hZCh0LHIpe2F3YWl0IHRoaXMuZ3B1RGF0YU1hbmFnZXIuZG93bmxvYWQodCxyKX1hbGxvYyh0KXtyZXR1cm4gdGhpcy5ncHVEYXRhTWFuYWdlci5jcmVhdGUodCkuaWR9ZnJlZSh0KXtyZXR1cm4gdGhpcy5ncHVEYXRhTWFuYWdlci5yZWxlYXNlKHQpfWNyZWF0ZUtlcm5lbCh0LHIsbyxuKXtsZXQgcz15dS5nZXQodCk7aWYoIXMpdGhyb3cgbmV3IEVycm9yKGBrZXJuZWwgbm90IGltcGxlbWVudGVkOiAke3R9YCk7bGV0IHU9e2tlcm5lbFR5cGU6dCxrZXJuZWxOYW1lOm4sa2VybmVsRW50cnk6c1swXSxhdHRyaWJ1dGVzOltzWzFdLG9dfTt0aGlzLmtlcm5lbHMuc2V0KHIsdSl9cmVsZWFzZUtlcm5lbCh0KXtsZXQgcj10aGlzLmtlcm5lbFBlcnNpc3RlbnREYXRhLmdldCh0KTtpZihyKXtmb3IobGV0IG8gb2Ygcil0aGlzLmdwdURhdGFNYW5hZ2VyLnJlbGVhc2Uoby5pZCk7dGhpcy5rZXJuZWxQZXJzaXN0ZW50RGF0YS5kZWxldGUodCl9dGhpcy5rZXJuZWxDdXN0b21EYXRhLmRlbGV0ZSh0KSx0aGlzLmtlcm5lbHMuZGVsZXRlKHQpfWNvbXB1dGVLZXJuZWwodCxyLG8pe2xldCBuPXRoaXMua2VybmVscy5nZXQodCk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKGBrZXJuZWwgbm90IGNyZWF0ZWQ6ICR7dH1gKTtsZXQgcz1uLmtlcm5lbFR5cGUsdT1uLmtlcm5lbE5hbWUsbD1uLmtlcm5lbEVudHJ5LGE9bi5hdHRyaWJ1dGVzO2lmKHRoaXMuY3VycmVudEtlcm5lbElkIT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoYGtlcm5lbCAiWyR7c31dICR7dX0iIGlzIG5vdCBhbGxvd2VkIHRvIGJlIGNhbGxlZCByZWN1cnNpdmVseWApO3RoaXMuY3VycmVudEtlcm5lbElkPXQsYVswXSYmKGFbMV09YVswXShhWzFdKSxhWzBdPXZvaWQgMCksQmUoImluZm8iLCgpPT5gW1dlYkdQVV0gU3RhcnQgdG8gcnVuIGtlcm5lbCAiWyR7c31dICR7dX0iLi4uYCk7bGV0IHA9dGhpcy5lbnYuZGVidWc7dGhpcy50ZW1wb3JhcnlEYXRhPVtdO3RyeXtyZXR1cm4gcCYmdGhpcy5kZXZpY2UucHVzaEVycm9yU2NvcGUoInZhbGlkYXRpb24iKSxsKHIsYVsxXSksMH1jYXRjaChoKXtyZXR1cm4gby5wdXNoKFByb21pc2UucmVzb2x2ZShgW1dlYkdQVV0gS2VybmVsICJbJHtzfV0gJHt1fSIgZmFpbGVkLiAke2h9YCkpLDF9ZmluYWxseXtwJiZvLnB1c2godGhpcy5kZXZpY2UucG9wRXJyb3JTY29wZSgpLnRoZW4oaD0+aD9gR1BVIHZhbGlkYXRpb24gZXJyb3IgZm9yIGtlcm5lbCAiWyR7c31dICR7dX0iOiAke2gubWVzc2FnZX1gOm51bGwpKTtmb3IobGV0IGggb2YgdGhpcy50ZW1wb3JhcnlEYXRhKXRoaXMuZ3B1RGF0YU1hbmFnZXIucmVsZWFzZShoLmlkKTt0aGlzLnRlbXBvcmFyeURhdGE9W10sdGhpcy5jdXJyZW50S2VybmVsSWQ9bnVsbH19cmVnaXN0ZXJCdWZmZXIodCxyLG8sbil7bGV0IHM9dGhpcy5zZXNzaW9uRXh0ZXJuYWxEYXRhTWFwcGluZy5nZXQodCk7c3x8KHM9bmV3IE1hcCx0aGlzLnNlc3Npb25FeHRlcm5hbERhdGFNYXBwaW5nLnNldCh0LHMpKTtsZXQgdT1zLmdldChyKSxsPXRoaXMuZ3B1RGF0YU1hbmFnZXIucmVnaXN0ZXJFeHRlcm5hbEJ1ZmZlcihvLG4sdT8uWzFdKTtyZXR1cm4gcy5zZXQocixbbCxvXSksbH11bnJlZ2lzdGVyQnVmZmVycyh0KXtsZXQgcj10aGlzLnNlc3Npb25FeHRlcm5hbERhdGFNYXBwaW5nLmdldCh0KTtyJiYoci5mb3JFYWNoKG89PnRoaXMuZ3B1RGF0YU1hbmFnZXIudW5yZWdpc3RlckV4dGVybmFsQnVmZmVyKG9bMV0pKSx0aGlzLnNlc3Npb25FeHRlcm5hbERhdGFNYXBwaW5nLmRlbGV0ZSh0KSl9Z2V0QnVmZmVyKHQpe2xldCByPXRoaXMuZ3B1RGF0YU1hbmFnZXIuZ2V0KHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcihgbm8gR1BVIGRhdGEgZm9yIGJ1ZmZlcjogJHt0fWApO3JldHVybiByLmJ1ZmZlcn1jcmVhdGVEb3dubG9hZGVyKHQscixvKXtyZXR1cm4gYXN5bmMoKT0+e2xldCBuPWF3YWl0IE9uKHRoaXMsdCxyKTtyZXR1cm4gc2Eobi5idWZmZXIsbyl9fXdyaXRlVGltZXN0YW1wKHQpe3RoaXMucXVlcnlUeXBlPT09Imluc2lkZS1wYXNzZXMiJiZ0aGlzLmNvbXB1dGVQYXNzRW5jb2Rlci53cml0ZVRpbWVzdGFtcCh0aGlzLnF1ZXJ5U2V0LHQpfXNldFF1ZXJ5VHlwZSgpe3RoaXMucXVlcnlUeXBlPSJub25lIiwodGhpcy5lbnYud2ViZ3B1LnByb2ZpbGluZz8ubW9kZT09PSJkZWZhdWx0Inx8dGhpcy5lbnYud2FzbS50cmFjZSkmJih0aGlzLmRldmljZS5mZWF0dXJlcy5oYXMoImNocm9taXVtLWV4cGVyaW1lbnRhbC10aW1lc3RhbXAtcXVlcnktaW5zaWRlLXBhc3NlcyIpP3RoaXMucXVlcnlUeXBlPSJpbnNpZGUtcGFzc2VzIjp0aGlzLmRldmljZS5mZWF0dXJlcy5oYXMoInRpbWVzdGFtcC1xdWVyeSIpJiYodGhpcy5xdWVyeVR5cGU9ImF0LXBhc3NlcyIpKX19fSk7dmFyICR1PXt9O0JyKCR1LHtpbml0OigpPT5WY30pO3ZhciBncixKbixWYyxTdT1qKCgpPT57InVzZSBzdHJpY3QiO05lKCk7dnUoKTtDdCgpOyRlKCk7Z3I9Y2xhc3MgZXtjb25zdHJ1Y3Rvcih0LHIsbyxuKXt0aGlzLm1vZHVsZT10O3RoaXMuZGF0YVR5cGU9cjt0aGlzLmRhdGE9bzt0aGlzLmRpbXM9bn1nZXRGbG9hdDMyQXJyYXkoKXtpZih0aGlzLmRhdGFUeXBlIT09MSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZGF0YSB0eXBlIik7bGV0IHQ9VS5zaXplKHRoaXMuZGltcyk7cmV0dXJuIHQ9PT0wP25ldyBGbG9hdDMyQXJyYXk6bmV3IEZsb2F0MzJBcnJheSh0aGlzLm1vZHVsZS5IRUFQOC5idWZmZXIsdGhpcy5kYXRhLHQpfWdldEJpZ0ludDY0QXJyYXkoKXtpZih0aGlzLmRhdGFUeXBlIT09Nyl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZGF0YSB0eXBlIik7bGV0IHQ9VS5zaXplKHRoaXMuZGltcyk7cmV0dXJuIHQ9PT0wP25ldyBCaWdJbnQ2NEFycmF5Om5ldyBCaWdJbnQ2NEFycmF5KHRoaXMubW9kdWxlLkhFQVA4LmJ1ZmZlcix0aGlzLmRhdGEsdCl9Z2V0SW50MzJBcnJheSgpe2lmKHRoaXMuZGF0YVR5cGUhPT02KXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBkYXRhIHR5cGUiKTtsZXQgdD1VLnNpemUodGhpcy5kaW1zKTtyZXR1cm4gdD09PTA/bmV3IEludDMyQXJyYXk6bmV3IEludDMyQXJyYXkodGhpcy5tb2R1bGUuSEVBUDguYnVmZmVyLHRoaXMuZGF0YSx0KX1yZXNoYXBlKHQpe2lmKFUuc2l6ZSh0KSE9PVUuc2l6ZSh0aGlzLmRpbXMpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBuZXcgc2hhcGUiKTtyZXR1cm4gbmV3IGUodGhpcy5tb2R1bGUsdGhpcy5kYXRhVHlwZSx0aGlzLmRhdGEsdCl9fSxKbj1jbGFzc3tjb25zdHJ1Y3Rvcih0LHIsbyl7dGhpcy5tb2R1bGU9dDt0aGlzLmJhY2tlbmQ9cjt0aGlzLmN1c3RvbURhdGFPZmZzZXQ9MDt0aGlzLmN1c3RvbURhdGFTaXplPTA7bGV0IG49dC5IRUFQVTMyLHM9bz4+PjI7dGhpcy5vcEtlcm5lbENvbnRleHQ9bltzKytdO2xldCB1PW5bcysrXTt0aGlzLm91dHB1dENvdW50PW5bcysrXSx0aGlzLmN1c3RvbURhdGFPZmZzZXQ9bltzKytdLHRoaXMuY3VzdG9tRGF0YVNpemU9bltzKytdO2xldCBsPVtdO2ZvcihsZXQgYT0wO2E8dTthKyspe2xldCBwPW5bcysrXSxoPW5bcysrXSxnPW5bcysrXSxiPVtdO2ZvcihsZXQgdz0wO3c8Zzt3KyspYi5wdXNoKG5bcysrXSk7bC5wdXNoKG5ldyBncih0LHAsaCxiKSl9dGhpcy5pbnB1dHM9bH1nZXQga2VybmVsQ3VzdG9tRGF0YSgpe3JldHVybiB0aGlzLmJhY2tlbmQuY3VycmVudEtlcm5lbEN1c3RvbURhdGF9Z2V0IGN1c3RvbURhdGFCdWZmZXIoKXtyZXR1cm4gdGhpcy5tb2R1bGUuSEVBUFU4LnN1YmFycmF5KHRoaXMuY3VzdG9tRGF0YU9mZnNldCx0aGlzLmN1c3RvbURhdGFPZmZzZXQrdGhpcy5jdXN0b21EYXRhU2l6ZSl9Y29tcHV0ZSh0LHIpe2xldCBvPXI/LmlucHV0cz8ubWFwKGw9PnR5cGVvZiBsPT0ibnVtYmVyIj90aGlzLmlucHV0c1tsXTpsKT8/dGhpcy5pbnB1dHMsbj1yPy5vdXRwdXRzPz9bXSxzPShsLGEscCk9Pm5ldyBncih0aGlzLm1vZHVsZSxhLHRoaXMub3V0cHV0KGwscCkscCksdT0obCxhKT0+e2xldCBwPWNyKGwpO2lmKCFwKXRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZGF0YSB0eXBlOiAke2x9YCk7bGV0IGg9cCpVLnNpemUoYSk7cmV0dXJuIG5ldyBncih0aGlzLm1vZHVsZSxsLHRoaXMuYmFja2VuZC5ncHVEYXRhTWFuYWdlci5jcmVhdGUoaCkuaWQsYSl9O3JldHVybiB0aGlzLmJhY2tlbmQucnVuKHQsbyxuLHMsdSl9b3V0cHV0KHQscil7bGV0IG89dGhpcy5tb2R1bGUuc3RhY2tTYXZlKCk7dHJ5e2xldCBuPXRoaXMubW9kdWxlLnN0YWNrQWxsb2MoKDErci5sZW5ndGgpKjQpLHM9bj4+Mjt0aGlzLm1vZHVsZS5IRUFQVTMyW3MrK109ci5sZW5ndGg7Zm9yKGxldCB1PTA7dTxyLmxlbmd0aDt1KyspdGhpcy5tb2R1bGUuSEVBUFUzMltzKytdPXJbdV07cmV0dXJuIHRoaXMubW9kdWxlLl9Kc2VwT3V0cHV0KHRoaXMub3BLZXJuZWxDb250ZXh0LHQsbil9Y2F0Y2gobil7dGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2VuZXJhdGUga2VybmVsXCdzIG91dHB1dFske3R9XSB3aXRoIGRpbXMgWyR7cn1dLiBJZiB5b3UgYXJlIHJ1bm5pbmcgd2l0aCBwcmUtYWxsb2NhdGVkIG91dHB1dCwgcGxlYXNlIG1ha2Ugc3VyZSB0aGUgb3V0cHV0IHR5cGUvZGltcyBhcmUgY29ycmVjdC4gRXJyb3I6ICR7bn1gKX1maW5hbGx5e3RoaXMubW9kdWxlLnN0YWNrUmVzdG9yZShvKX19fSxWYz1hc3luYyhlLHQscik9PntsZXQgbz1lLmpzZXBJbml0O2lmKCFvKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGluaXRpYWxpemUgSlNFUC4gVGhlIFdlYkFzc2VtYmx5IG1vZHVsZSBpcyBub3QgYnVpbHQgd2l0aCBKU0VQIHN1cHBvcnQuIik7bGV0IG49bmV3IHNuO2F3YWl0IG4uaW5pdGlhbGl6ZSh0LHIpLG8obixzPT5uLmFsbG9jKHMpLHM9Pm4uZnJlZShzKSwocyx1LGwsYT0hMSk9PntpZihhKUJlKCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIGpzZXBDb3B5R3B1VG9HcHU6IHNyYz0ke3N9LCBkc3Q9JHt1fSwgc2l6ZT0ke2x9YCksbi5tZW1jcHkocyx1KTtlbHNle0JlKCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIGpzZXBDb3B5Q3B1VG9HcHU6IGRhdGFPZmZzZXQ9JHtzfSwgZ3B1RGF0YUlkPSR7dX0sIHNpemU9JHtsfWApO2xldCBwPWUuSEVBUFU4LnN1YmFycmF5KHM+Pj4wLChzPj4+MCkrbCk7bi51cGxvYWQodSxwKX19LGFzeW5jKHMsdSxsKT0+e0JlKCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIGpzZXBDb3B5R3B1VG9DcHU6IGdwdURhdGFJZD0ke3N9LCBkYXRhT2Zmc2V0PSR7dX0sIHNpemU9JHtsfWApLGF3YWl0IG4uZG93bmxvYWQocywoKT0+ZS5IRUFQVTguc3ViYXJyYXkodT4+PjAsKHU+Pj4wKStsKSl9LChzLHUsbCk9Pm4uY3JlYXRlS2VybmVsKHMsdSxsLGUuVVRGOFRvU3RyaW5nKGUuX0pzZXBHZXROb2RlTmFtZSh1KSkpLHM9Pm4ucmVsZWFzZUtlcm5lbChzKSwocyx1LGwsYSk9PntCZSgidmVyYm9zZSIsKCk9PmBbV2ViR1BVXSBqc2VwUnVuOiBzZXNzaW9uSGFuZGxlPSR7bH0sIGtlcm5lbD0ke3N9LCBjb250ZXh0RGF0YU9mZnNldD0ke3V9YCk7bGV0IHA9bmV3IEpuKGUsbix1KTtyZXR1cm4gbi5jb21wdXRlS2VybmVsKHMscCxhKX0pfX0pO3ZhciBNbztNbz1JbygpO3ZhciBKdT1SbygpLFNuLHhuPSExLERyPSExLERvPSExLGVkPWU9PntpZihlPT09MSlyZXR1cm4hMTtpZih0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI+InUiKXJldHVybiB0eXBlb2Ygc2VsZjwidSImJiFzZWxmLmNyb3NzT3JpZ2luSXNvbGF0ZWQmJmNvbnNvbGUud2FybigiZW52Lndhc20ubnVtVGhyZWFkcyBpcyBzZXQgdG8gIitlKyIsIGJ1dCB0aGlzIHdpbGwgbm90IHdvcmsgdW5sZXNzIHlvdSBlbmFibGUgY3Jvc3NPcmlnaW5Jc29sYXRlZCBtb2RlLiBTZWUgaHR0cHM6Ly93ZWIuZGV2L2Nyb3NzLW9yaWdpbi1pc29sYXRpb24tZ3VpZGUvIGZvciBtb3JlIGluZm8uIiksITE7dHlwZW9mIHByb2Nlc3M8InUiJiZwcm9jZXNzLnZlcnNpb25zJiZwcm9jZXNzLnZlcnNpb25zLm5vZGUmJmNvbnNvbGUud2FybigiZW52Lndhc20ubnVtVGhyZWFkcyBpcyBzZXQgdG8gIitlKyIsIGhvd2V2ZXIsIGN1cnJlbnRseSBvbm54cnVudGltZS13ZWIgZG9lcyBub3Qgc3VwcG9ydCBtdWx0aS10aHJlYWRzIGluIE5vZGUuanMuIFBsZWFzZSBjb25zaWRlciB1c2luZyBvbm54cnVudGltZS1ub2RlIGZvciBwZXJmb3JtYW5jZSBjcml0aWNhbCBzY2VuYXJpb3MuIik7dHJ5e3JldHVybiB0eXBlb2YgTWVzc2FnZUNoYW5uZWw8InUiJiZuZXcgTWVzc2FnZUNoYW5uZWwoKS5wb3J0MS5wb3N0TWVzc2FnZShuZXcgU2hhcmVkQXJyYXlCdWZmZXIoMSkpLFdlYkFzc2VtYmx5LnZhbGlkYXRlKG5ldyBVaW50OEFycmF5KFswLDk3LDExNSwxMDksMSwwLDAsMCwxLDQsMSw5NiwwLDAsMywyLDEsMCw1LDQsMSwzLDEsMSwxMCwxMSwxLDksMCw2NSwwLDI1NCwxNiwyLDAsMjYsMTFdKSl9Y2F0Y2h7cmV0dXJuITF9fSx0ZD0oKT0+e3RyeXtyZXR1cm4gV2ViQXNzZW1ibHkudmFsaWRhdGUobmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNCwxLDk2LDAsMCwzLDIsMSwwLDEwLDMwLDEsMjgsMCw2NSwwLDI1MywxNSwyNTMsMTIsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyNTMsMTg2LDEsMjYsMTFdKSl9Y2F0Y2h7cmV0dXJuITF9fSxyZD0oZSx0KT0+ZT90PyJvcnQtd2FzbS1zaW1kLXRocmVhZGVkLndhc20iOiJvcnQtd2FzbS1zaW1kLndhc20iOnQ/Im9ydC13YXNtLXRocmVhZGVkLndhc20iOiJvcnQtd2FzbS53YXNtIix6bz1hc3luYyBlPT57aWYoeG4pcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO2lmKERyKXRocm93IG5ldyBFcnJvcigibXVsdGlwbGUgY2FsbHMgdG8gXCdpbml0aWFsaXplV2ViQXNzZW1ibHkoKVwnIGRldGVjdGVkLiIpO2lmKERvKXRocm93IG5ldyBFcnJvcigicHJldmlvdXMgY2FsbCB0byBcJ2luaXRpYWxpemVXZWJBc3NlbWJseSgpXCcgZmFpbGVkLiIpO0RyPSEwO2xldCB0PWUuaW5pdFRpbWVvdXQscj1lLm51bVRocmVhZHMsbz1lLnNpbWQsbj1lZChyKSxzPW8mJnRkKCksdT1lLndhc21QYXRocyxsPXR5cGVvZiB1PT0ic3RyaW5nIj91OnZvaWQgMCxhPXJkKHMsbikscD10eXBlb2YgdT09Im9iamVjdCI/dVthXTp2b2lkIDAsaD0hMSxnPVtdO2lmKHQ+MCYmZy5wdXNoKG5ldyBQcm9taXNlKGI9PntzZXRUaW1lb3V0KCgpPT57aD0hMCxiKCl9LHQpfSkpLGcucHVzaChuZXcgUHJvbWlzZSgoYix3KT0+e2xldCB5PW4/SnU6TW8sXz17bG9jYXRlRmlsZTooSSwkKT0+e2lmKG4mJkkuZW5kc1dpdGgoIi53b3JrZXIuanMiKSYmdHlwZW9mIEJsb2I8InUiKXJldHVybiBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtCbygpXSx7dHlwZToidGV4dC9qYXZhc2NyaXB0In0pKTtpZihJLmVuZHNXaXRoKCIud2FzbSIpKXtpZihwKXJldHVybiBwO2xldCB4PWw/PyQ7cmV0dXJuIGE9PT0ib3J0LXdhc20tc2ltZC53YXNtIj94KyJvcnQtd2FzbS1zaW1kLmpzZXAud2FzbSI6YT09PSJvcnQtd2FzbS1zaW1kLXRocmVhZGVkLndhc20iP3grIm9ydC13YXNtLXNpbWQtdGhyZWFkZWQuanNlcC53YXNtIjp4K2F9cmV0dXJuICQrSX19O2lmKG4paWYoXy5udW1UaHJlYWRzPXIsdHlwZW9mIEJsb2I+InUiKV8ubWFpblNjcmlwdFVybE9yQmxvYj0odm9pZCAwKShfX2Rpcm5hbWUsIm9ydC13YXNtLXRocmVhZGVkLmpzIik7ZWxzZXtsZXQgST1gdmFyIG9ydFdhc21UaHJlYWRlZD0ke3kudG9TdHJpbmcoKX07YDtfLm1haW5TY3JpcHRVcmxPckJsb2I9bmV3IEJsb2IoW0ldLHt0eXBlOiJ0ZXh0L2phdmFzY3JpcHQifSl9eShfKS50aGVuKEk9PntEcj0hMSx4bj0hMCxTbj1JLGIoKX0sST0+e0RyPSExLERvPSEwLHcoSSl9KX0pKSxhd2FpdCBQcm9taXNlLnJhY2UoZyksaCl0aHJvdyBuZXcgRXJyb3IoYFdlYkFzc2VtYmx5IGJhY2tlbmQgaW5pdGlhbGl6aW5nIGZhaWxlZCBkdWUgdG8gdGltZW91dDogJHt0fW1zYCl9LFZlPSgpPT57aWYoeG4mJlNuKXJldHVybiBTbjt0aHJvdyBuZXcgRXJyb3IoIldlYkFzc2VtYmx5IGlzIG5vdCBpbml0aWFsaXplZCB5ZXQuIil9O3ZhciBIZT0oZSx0KT0+e2xldCByPVZlKCksbz1yLmxlbmd0aEJ5dGVzVVRGOChlKSsxLG49ci5fbWFsbG9jKG8pO3JldHVybiByLnN0cmluZ1RvVVRGOChlLG4sbyksdC5wdXNoKG4pLG59LGxyPShlLHQscixvKT0+e2lmKHR5cGVvZiBlPT0ib2JqZWN0IiYmZSE9PW51bGwpe2lmKHIuaGFzKGUpKXRocm93IG5ldyBFcnJvcigiQ2lyY3VsYXIgcmVmZXJlbmNlIGluIG9wdGlvbnMiKTtyLmFkZChlKX1PYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKChbbixzXSk9PntsZXQgdT10P3QrbjpuO2lmKHR5cGVvZiBzPT0ib2JqZWN0IilscihzLHUrIi4iLHIsbyk7ZWxzZSBpZih0eXBlb2Ygcz09InN0cmluZyJ8fHR5cGVvZiBzPT0ibnVtYmVyIilvKHUscy50b1N0cmluZygpKTtlbHNlIGlmKHR5cGVvZiBzPT0iYm9vbGVhbiIpbyh1LHM/IjEiOiIwIik7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYENhblwndCBoYW5kbGUgZXh0cmEgY29uZmlnIHR5cGU6ICR7dHlwZW9mIHN9YCl9KX0sa2U9ZT0+e2xldCB0PVZlKCkscj10LnN0YWNrU2F2ZSgpO3RyeXtsZXQgbz10LnN0YWNrQWxsb2MoOCk7dC5fT3J0R2V0TGFzdEVycm9yKG8sbys0KTtsZXQgbj10LkhFQVAzMltvLzRdLHM9dC5IRUFQVTMyW28vNCsxXSx1PXM/dC5VVEY4VG9TdHJpbmcocyk6IiI7dGhyb3cgbmV3IEVycm9yKGAke2V9IEVSUk9SX0NPREU6ICR7bn0sIEVSUk9SX01FU1NBR0U6ICR7dX1gKX1maW5hbGx5e3Quc3RhY2tSZXN0b3JlKHIpfX07dmFyIFVvPWU9PntsZXQgdD1WZSgpLHI9MCxvPVtdLG49ZXx8e307dHJ5e2lmKGU/LmxvZ1NldmVyaXR5TGV2ZWw9PT12b2lkIDApbi5sb2dTZXZlcml0eUxldmVsPTI7ZWxzZSBpZih0eXBlb2YgZS5sb2dTZXZlcml0eUxldmVsIT0ibnVtYmVyInx8IU51bWJlci5pc0ludGVnZXIoZS5sb2dTZXZlcml0eUxldmVsKXx8ZS5sb2dTZXZlcml0eUxldmVsPDB8fGUubG9nU2V2ZXJpdHlMZXZlbD40KXRocm93IG5ldyBFcnJvcihgbG9nIHNlcnZlcml0eSBsZXZlbCBpcyBub3QgdmFsaWQ6ICR7ZS5sb2dTZXZlcml0eUxldmVsfWApO2lmKGU/LmxvZ1ZlcmJvc2l0eUxldmVsPT09dm9pZCAwKW4ubG9nVmVyYm9zaXR5TGV2ZWw9MDtlbHNlIGlmKHR5cGVvZiBlLmxvZ1ZlcmJvc2l0eUxldmVsIT0ibnVtYmVyInx8IU51bWJlci5pc0ludGVnZXIoZS5sb2dWZXJib3NpdHlMZXZlbCkpdGhyb3cgbmV3IEVycm9yKGBsb2cgdmVyYm9zaXR5IGxldmVsIGlzIG5vdCB2YWxpZDogJHtlLmxvZ1ZlcmJvc2l0eUxldmVsfWApO2U/LnRlcm1pbmF0ZT09PXZvaWQgMCYmKG4udGVybWluYXRlPSExKTtsZXQgcz0wO3JldHVybiBlPy50YWchPT12b2lkIDAmJihzPUhlKGUudGFnLG8pKSxyPXQuX09ydENyZWF0ZVJ1bk9wdGlvbnMobi5sb2dTZXZlcml0eUxldmVsLG4ubG9nVmVyYm9zaXR5TGV2ZWwsISFuLnRlcm1pbmF0ZSxzKSxyPT09MCYma2UoIkNhblwndCBjcmVhdGUgcnVuIG9wdGlvbnMuIiksZT8uZXh0cmEhPT12b2lkIDAmJmxyKGUuZXh0cmEsIiIsbmV3IFdlYWtTZXQsKHUsbCk9PntsZXQgYT1IZSh1LG8pLHA9SGUobCxvKTt0Ll9PcnRBZGRSdW5Db25maWdFbnRyeShyLGEscCkhPT0wJiZrZShgQ2FuXCd0IHNldCBhIHJ1biBjb25maWcgZW50cnk6ICR7dX0gLSAke2x9LmApfSksW3Isb119Y2F0Y2gocyl7dGhyb3cgciE9PTAmJnQuX09ydFJlbGVhc2VSdW5PcHRpb25zKHIpLG8uZm9yRWFjaCh1PT50Ll9mcmVlKHUpKSxzfX07dmFyIG5kPWU9Pntzd2l0Y2goZSl7Y2FzZSJkaXNhYmxlZCI6cmV0dXJuIDA7Y2FzZSJiYXNpYyI6cmV0dXJuIDE7Y2FzZSJleHRlbmRlZCI6cmV0dXJuIDI7Y2FzZSJhbGwiOnJldHVybiA5OTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZ3JhcGggb3B0aW1pemF0aW9uIGxldmVsOiAke2V9YCl9fSxvZD1lPT57c3dpdGNoKGUpe2Nhc2Uic2VxdWVudGlhbCI6cmV0dXJuIDA7Y2FzZSJwYXJhbGxlbCI6cmV0dXJuIDE7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGV4ZWN1dGlvbiBtb2RlOiAke2V9YCl9fSxhZD1lPT57ZS5leHRyYXx8KGUuZXh0cmE9e30pLGUuZXh0cmEuc2Vzc2lvbnx8KGUuZXh0cmEuc2Vzc2lvbj17fSk7bGV0IHQ9ZS5leHRyYS5zZXNzaW9uO3QudXNlX29ydF9tb2RlbF9ieXRlc19kaXJlY3RseXx8KHQudXNlX29ydF9tb2RlbF9ieXRlc19kaXJlY3RseT0iMSIpLGUuZXhlY3V0aW9uUHJvdmlkZXJzJiZlLmV4ZWN1dGlvblByb3ZpZGVycy5zb21lKHI9Pih0eXBlb2Ygcj09InN0cmluZyI/cjpyLm5hbWUpPT09IndlYmdwdSIpJiYoZS5lbmFibGVNZW1QYXR0ZXJuPSExKX0saWQ9KGUsdCxyKT0+e2ZvcihsZXQgbyBvZiB0KXtsZXQgbj10eXBlb2Ygbz09InN0cmluZyI/bzpvLm5hbWU7c3dpdGNoKG4pe2Nhc2Uid2Vibm4iOmlmKG49IldFQk5OIix0eXBlb2YgbyE9InN0cmluZyIpe2xldCB1PW87aWYodT8uZGV2aWNlVHlwZSl7bGV0IGw9SGUoImRldmljZVR5cGUiLHIpLGE9SGUodS5kZXZpY2VUeXBlLHIpO1ZlKCkuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeShlLGwsYSkhPT0wJiZrZShgQ2FuXCd0IHNldCBhIHNlc3Npb24gY29uZmlnIGVudHJ5OiBcJ2RldmljZVR5cGVcJyAtICR7dS5kZXZpY2VUeXBlfS5gKX1pZih1Py5udW1UaHJlYWRzKXtsZXQgbD11Lm51bVRocmVhZHM7KHR5cGVvZiBsIT0ibnVtYmVyInx8IU51bWJlci5pc0ludGVnZXIobCl8fGw8MCkmJihsPTApO2xldCBhPUhlKCJudW1UaHJlYWRzIixyKSxwPUhlKGwudG9TdHJpbmcoKSxyKTtWZSgpLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnkoZSxhLHApIT09MCYma2UoYENhblwndCBzZXQgYSBzZXNzaW9uIGNvbmZpZyBlbnRyeTogXCdudW1UaHJlYWRzXCcgLSAke3UubnVtVGhyZWFkc30uYCl9aWYodT8ucG93ZXJQcmVmZXJlbmNlKXtsZXQgbD1IZSgicG93ZXJQcmVmZXJlbmNlIixyKSxhPUhlKHUucG93ZXJQcmVmZXJlbmNlLHIpO1ZlKCkuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeShlLGwsYSkhPT0wJiZrZShgQ2FuXCd0IHNldCBhIHNlc3Npb24gY29uZmlnIGVudHJ5OiBcJ3Bvd2VyUHJlZmVyZW5jZVwnIC0gJHt1LnBvd2VyUHJlZmVyZW5jZX0uYCl9fWJyZWFrO2Nhc2Uid2ViZ3B1IjppZihuPSJKUyIsdHlwZW9mIG8hPSJzdHJpbmciKXtsZXQgdT1vO2lmKHU/LnByZWZlcnJlZExheW91dCl7aWYodS5wcmVmZXJyZWRMYXlvdXQhPT0iTkNIVyImJnUucHJlZmVycmVkTGF5b3V0IT09Ik5IV0MiKXRocm93IG5ldyBFcnJvcihgcHJlZmVycmVkTGF5b3V0IG11c3QgYmUgZWl0aGVyIFwnTkNIV1wnIG9yIFwnTkhXQ1wnOiAke3UucHJlZmVycmVkTGF5b3V0fWApO2xldCBsPUhlKCJwcmVmZXJyZWRMYXlvdXQiLHIpLGE9SGUodS5wcmVmZXJyZWRMYXlvdXQscik7VmUoKS5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5KGUsbCxhKSE9PTAmJmtlKGBDYW5cJ3Qgc2V0IGEgc2Vzc2lvbiBjb25maWcgZW50cnk6IFwncHJlZmVycmVkTGF5b3V0XCcgLSAke3UucHJlZmVycmVkTGF5b3V0fS5gKX19YnJlYWs7Y2FzZSJ3YXNtIjpjYXNlImNwdSI6Y29udGludWU7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYG5vdCBzdXBwb3J0ZWQgZXhlY3V0aW9uIHByb3ZpZGVyOiAke259YCl9bGV0IHM9SGUobixyKTtWZSgpLl9PcnRBcHBlbmRFeGVjdXRpb25Qcm92aWRlcihlLHMpIT09MCYma2UoYENhblwndCBhcHBlbmQgZXhlY3V0aW9uIHByb3ZpZGVyOiAke259LmApfX0sVm89ZT0+e2xldCB0PVZlKCkscj0wLG89W10sbj1lfHx7fTthZChuKTt0cnl7bGV0IHM9bmQobi5ncmFwaE9wdGltaXphdGlvbkxldmVsPz8iYWxsIiksdT1vZChuLmV4ZWN1dGlvbk1vZGU/PyJzZXF1ZW50aWFsIiksbD10eXBlb2Ygbi5sb2dJZD09InN0cmluZyI/SGUobi5sb2dJZCxvKTowLGE9bi5sb2dTZXZlcml0eUxldmVsPz8yO2lmKCFOdW1iZXIuaXNJbnRlZ2VyKGEpfHxhPDB8fGE+NCl0aHJvdyBuZXcgRXJyb3IoYGxvZyBzZXJ2ZXJpdHkgbGV2ZWwgaXMgbm90IHZhbGlkOiAke2F9YCk7bGV0IHA9bi5sb2dWZXJib3NpdHlMZXZlbD8/MDtpZighTnVtYmVyLmlzSW50ZWdlcihwKXx8cDwwfHxwPjQpdGhyb3cgbmV3IEVycm9yKGBsb2cgdmVyYm9zaXR5IGxldmVsIGlzIG5vdCB2YWxpZDogJHtwfWApO2xldCBoPXR5cGVvZiBuLm9wdGltaXplZE1vZGVsRmlsZVBhdGg9PSJzdHJpbmciP0hlKG4ub3B0aW1pemVkTW9kZWxGaWxlUGF0aCxvKTowO2lmKHI9dC5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnMocywhIW4uZW5hYmxlQ3B1TWVtQXJlbmEsISFuLmVuYWJsZU1lbVBhdHRlcm4sdSwhIW4uZW5hYmxlUHJvZmlsaW5nLDAsbCxhLHAsaCkscj09PTAmJmtlKCJDYW5cJ3QgY3JlYXRlIHNlc3Npb24gb3B0aW9ucy4iKSxuLmV4ZWN1dGlvblByb3ZpZGVycyYmaWQocixuLmV4ZWN1dGlvblByb3ZpZGVycyxvKSxuLmZyZWVEaW1lbnNpb25PdmVycmlkZXMpZm9yKGxldFtnLGJdb2YgT2JqZWN0LmVudHJpZXMobi5mcmVlRGltZW5zaW9uT3ZlcnJpZGVzKSl7aWYodHlwZW9mIGchPSJzdHJpbmciKXRocm93IG5ldyBFcnJvcihgZnJlZSBkaW1lbnNpb24gb3ZlcnJpZGUgbmFtZSBtdXN0IGJlIGEgc3RyaW5nOiAke2d9YCk7aWYodHlwZW9mIGIhPSJudW1iZXIifHwhTnVtYmVyLmlzSW50ZWdlcihiKXx8YjwwKXRocm93IG5ldyBFcnJvcihgZnJlZSBkaW1lbnNpb24gb3ZlcnJpZGUgdmFsdWUgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyOiAke2J9YCk7bGV0IHc9SGUoZyxvKTt0Ll9PcnRBZGRGcmVlRGltZW5zaW9uT3ZlcnJpZGUocix3LGIpIT09MCYma2UoYENhblwndCBzZXQgYSBmcmVlIGRpbWVuc2lvbiBvdmVycmlkZTogJHtnfSAtICR7Yn0uYCl9cmV0dXJuIG4uZXh0cmEhPT12b2lkIDAmJmxyKG4uZXh0cmEsIiIsbmV3IFdlYWtTZXQsKGcsYik9PntsZXQgdz1IZShnLG8pLHk9SGUoYixvKTt0Ll9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnkocix3LHkpIT09MCYma2UoYENhblwndCBzZXQgYSBzZXNzaW9uIGNvbmZpZyBlbnRyeTogJHtnfSAtICR7Yn0uYCl9KSxbcixvXX1jYXRjaChzKXt0aHJvdyByIT09MCYmdC5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zKHIpLG8uZm9yRWFjaCh1PT50Ll9mcmVlKHUpKSxzfX07TmUoKTt2YXIgV289YXN5bmMgZT0+e2lmKHR5cGVvZiBlPT0ic3RyaW5nIilpZih0eXBlb2YgcHJvY2VzczwidSImJnByb2Nlc3MudmVyc2lvbnMmJnByb2Nlc3MudmVyc2lvbnMubm9kZSl0cnl7cmV0dXJuIG5ldyBVaW50OEFycmF5KGF3YWl0KHZvaWQgMCkoZSkpfWNhdGNoKHQpe2lmKHQuY29kZT09PSJFUlJfRlNfRklMRV9UT09fTEFSR0UiKXtsZXQgcj0odm9pZCAwKShlKSxvPVtdO2ZvciBhd2FpdChsZXQgbiBvZiByKW8ucHVzaChuKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoQnVmZmVyLmNvbmNhdChvKSl9dGhyb3cgdH1lbHNle2xldCB0PWF3YWl0IGZldGNoKGUpO2lmKCF0Lm9rKXRocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGxvYWQgZXh0ZXJuYWwgZGF0YSBmaWxlOiAke2V9YCk7bGV0IHI9dC5oZWFkZXJzLmdldCgiQ29udGVudC1MZW5ndGgiKSxvPXI/cGFyc2VJbnQociwxMCk6MDtpZihvPDEwNzM3NDE4MjQpcmV0dXJuIG5ldyBVaW50OEFycmF5KGF3YWl0IHQuYXJyYXlCdWZmZXIoKSk7e2lmKCF0LmJvZHkpdGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gbG9hZCBleHRlcm5hbCBkYXRhIGZpbGU6ICR7ZX0sIG5vIHJlc3BvbnNlIGJvZHkuYCk7bGV0IG49dC5ib2R5LmdldFJlYWRlcigpLHM7dHJ5e3M9bmV3IEFycmF5QnVmZmVyKG8pfWNhdGNoKGwpe2lmKGwgaW5zdGFuY2VvZiBSYW5nZUVycm9yKXtsZXQgYT1NYXRoLmNlaWwoby82NTUzNik7cz1uZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtpbml0aWFsOmEsbWF4aW11bTphfSkuYnVmZmVyfWVsc2UgdGhyb3cgbH1sZXQgdT0wO2Zvcig7Oyl7bGV0e2RvbmU6bCx2YWx1ZTphfT1hd2FpdCBuLnJlYWQoKTtpZihsKWJyZWFrO2xldCBwPWEuYnl0ZUxlbmd0aDtuZXcgVWludDhBcnJheShzLHUscCkuc2V0KGEpLHUrPXB9cmV0dXJuIG5ldyBVaW50OEFycmF5KHMsMCxvKX19ZWxzZSByZXR1cm4gZSBpbnN0YW5jZW9mIEJsb2I/bmV3IFVpbnQ4QXJyYXkoYXdhaXQgZS5hcnJheUJ1ZmZlcigpKTplIGluc3RhbmNlb2YgVWludDhBcnJheT9lOm5ldyBVaW50OEFycmF5KGUpfTt2YXIgTmM9KGUsdCk9PntWZSgpLl9PcnRJbml0KGUsdCkhPT0wJiZrZSgiQ2FuXCd0IGluaXRpYWxpemUgb25ueHJ1bnRpbWUuIil9LF91PWFzeW5jIGU9PntOYyhlLndhc20ubnVtVGhyZWFkcyxwcihlLmxvZ0xldmVsKSl9LEN1PWFzeW5jKGUsdCk9PntpZih0PT09IndlYmdwdSIpe2lmKHR5cGVvZiBuYXZpZ2F0b3I+InUifHwhbmF2aWdhdG9yLmdwdSl0aHJvdyBuZXcgRXJyb3IoIldlYkdQVSBpcyBub3Qgc3VwcG9ydGVkIGluIGN1cnJlbnQgZW52aXJvbm1lbnQiKTtsZXQgcj1hd2FpdCBuYXZpZ2F0b3IuZ3B1LnJlcXVlc3RBZGFwdGVyKCk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKFwnRmFpbGVkIHRvIGdldCBHUFUgYWRhcHRlci4gWW91IG1heSBuZWVkIHRvIGVuYWJsZSBmbGFnICItLWVuYWJsZS11bnNhZmUtd2ViZ3B1IiBpZiB5b3UgYXJlIHVzaW5nIENocm9tZS5cJyk7aWYoIWUud2FzbS5zaW1kKXRocm93IG5ldyBFcnJvcigiTm90IHN1cHBvcnRlZCBmb3IgV2ViR1BVPU9OIGFuZCBTSU1EPU9GRi4gUGxlYXNlIHNldCBgZW52Lndhc20uc2ltZGAgdG8gdHJ1ZSB3aGVuIHVzaW5nIGB3ZWJncHVgIEVQIik7bGV0IG89KFN1KCksSHQoJHUpKS5pbml0O2F3YWl0IG8oVmUoKSxlLHIpfX0seXI9bmV3IE1hcCxXYz1lPT57bGV0IHQ9VmUoKSxyPXQuc3RhY2tTYXZlKCk7dHJ5e2xldCBvPXQuc3RhY2tBbGxvYyg4KTtyZXR1cm4gdC5fT3J0R2V0SW5wdXRPdXRwdXRDb3VudChlLG8sbys0KSE9PTAmJmtlKCJDYW5cJ3QgZ2V0IHNlc3Npb24gaW5wdXQvb3V0cHV0IGNvdW50LiIpLFt0LkhFQVAzMltvLzRdLHQuSEVBUDMyW28vNCsxXV19ZmluYWxseXt0LnN0YWNrUmVzdG9yZShyKX19LGVvPWU9PntsZXQgdD1WZSgpLHI9dC5fbWFsbG9jKGUuYnl0ZUxlbmd0aCk7aWYocj09PTApdGhyb3cgbmV3IEVycm9yKGBDYW5cJ3QgY3JlYXRlIGEgc2Vzc2lvbi4gZmFpbGVkIHRvIGFsbG9jYXRlIGEgYnVmZmVyIG9mIHNpemUgJHtlLmJ5dGVMZW5ndGh9LmApO3JldHVybiB0LkhFQVBVOC5zZXQoZSxyKSxbcixlLmJ5dGVMZW5ndGhdfSxJdT1hc3luYyhlLHQpPT57bGV0IHIsbyxuPVZlKCk7QXJyYXkuaXNBcnJheShlKT9bcixvXT1lOmUuYnVmZmVyPT09bi5IRUFQVTguYnVmZmVyP1tyLG9dPVtlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoXTpbcixvXT1lbyhlKTtsZXQgcz0wLHU9MCxsPTAsYT1bXSxwPVtdLGg9W107dHJ5e2lmKFt1LGFdPVZvKHQpLHQ/LmV4dGVybmFsRGF0YSYmbi5tb3VudEV4dGVybmFsRGF0YSl7bGV0ICQ9W107Zm9yKGxldCB4IG9mIHQuZXh0ZXJuYWxEYXRhKXtsZXQgRT10eXBlb2YgeD09InN0cmluZyI/eDp4LnBhdGg7JC5wdXNoKFdvKHR5cGVvZiB4PT0ic3RyaW5nIj94OnguZGF0YSkudGhlbihBPT57bi5tb3VudEV4dGVybmFsRGF0YShFLEEpfSkpfWF3YWl0IFByb21pc2UuYWxsKCQpfXM9bi5fT3J0Q3JlYXRlU2Vzc2lvbihyLG8sdSkscz09PTAmJmtlKCJDYW5cJ3QgY3JlYXRlIGEgc2Vzc2lvbi4iKTtsZXRbZyxiXT1XYyhzKSx3PVtdLHk9W10sXz1bXTtmb3IobGV0ICQ9MDskPGc7JCsrKXtsZXQgeD1uLl9PcnRHZXRJbnB1dE5hbWUocywkKTt4PT09MCYma2UoIkNhblwndCBnZXQgYW4gaW5wdXQgbmFtZS4iKSxwLnB1c2goeCksdy5wdXNoKG4uVVRGOFRvU3RyaW5nKHgpKX1mb3IobGV0ICQ9MDskPGI7JCsrKXtsZXQgeD1uLl9PcnRHZXRPdXRwdXROYW1lKHMsJCk7eD09PTAmJmtlKCJDYW5cJ3QgZ2V0IGFuIG91dHB1dCBuYW1lLiIpLGgucHVzaCh4KTtsZXQgRT1uLlVURjhUb1N0cmluZyh4KTt5LnB1c2goRSk7e2xldCBBPXR5cGVvZiB0Py5wcmVmZXJyZWRPdXRwdXRMb2NhdGlvbj09InN0cmluZyI/dC5wcmVmZXJyZWRPdXRwdXRMb2NhdGlvbjp0Py5wcmVmZXJyZWRPdXRwdXRMb2NhdGlvbj8uW0VdPz8iY3B1IjtpZihBIT09ImNwdSImJkEhPT0iY3B1LXBpbm5lZCImJkEhPT0iZ3B1LWJ1ZmZlciIpdGhyb3cgbmV3IEVycm9yKGBOb3Qgc3VwcG9ydGVkIHByZWZlcnJlZCBvdXRwdXQgbG9jYXRpb246ICR7QX0uYCk7Xy5wdXNoKEEpfX1sZXQgST1udWxsO3JldHVybiBfLnNvbWUoJD0+JD09PSJncHUtYnVmZmVyIikmJihsPW4uX09ydENyZWF0ZUJpbmRpbmcocyksbD09PTAmJmtlKCJDYW5cJ3QgY3JlYXRlIElPIGJpbmRpbmcuIiksST17aGFuZGxlOmwsb3V0cHV0UHJlZmVycmVkTG9jYXRpb25zOl8sb3V0cHV0UHJlZmVycmVkTG9jYXRpb25zRW5jb2RlZDpfLm1hcCgkPT5DbigkKSl9KSx5ci5zZXQocyxbcyxwLGgsSV0pLFtzLHcseV19Y2F0Y2goZyl7dGhyb3cgcC5mb3JFYWNoKGI9Pm4uX09ydEZyZWUoYikpLGguZm9yRWFjaChiPT5uLl9PcnRGcmVlKGIpKSxsIT09MCYmbi5fT3J0UmVsZWFzZUJpbmRpbmcobCkscyE9PTAmJm4uX09ydFJlbGVhc2VTZXNzaW9uKHMpLGd9ZmluYWxseXtuLl9mcmVlKHIpLHUhPT0wJiZuLl9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnModSksYS5mb3JFYWNoKGc9Pm4uX2ZyZWUoZykpLG4udW5tb3VudEV4dGVybmFsRGF0YT8uKCl9fSxBdT1lPT57bGV0IHQ9VmUoKSxyPXlyLmdldChlKTtpZighcil0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCByZWxlYXNlIHNlc3Npb24uIGludmFsaWQgc2Vzc2lvbiBpZDogJHtlfWApO2xldFtvLG4scyx1XT1yO3UmJnQuX09ydFJlbGVhc2VCaW5kaW5nKHUuaGFuZGxlKSx0LmpzZXBVbnJlZ2lzdGVyQnVmZmVycz8uKGUpLG4uZm9yRWFjaChsPT50Ll9PcnRGcmVlKGwpKSxzLmZvckVhY2gobD0+dC5fT3J0RnJlZShsKSksdC5fT3J0UmVsZWFzZVNlc3Npb24obykseXIuZGVsZXRlKGUpfSx4dT0oZSx0LHIsbyxuKT0+e2lmKCFlKXt0LnB1c2goMCk7cmV0dXJufWxldCBzPVZlKCksdT1lWzBdLGw9ZVsxXSxhPWVbM10scCxoO2lmKHU9PT0ic3RyaW5nIiYmYT09PSJncHUtYnVmZmVyIil0aHJvdyBuZXcgRXJyb3IoIlN0cmluZyB0ZW5zb3IgaXMgbm90IHN1cHBvcnRlZCBvbiBHUFUuIik7aWYoYT09PSJncHUtYnVmZmVyIil7bGV0IHc9ZVsyXS5ncHVCdWZmZXIseT1jcihfbih1KSk7aD1sLnJlZHVjZSgoXyxJKT0+XypJLDEpKnkscD1zLmpzZXBSZWdpc3RlckJ1ZmZlcihvLG4sdyxoKX1lbHNle2xldCB3PWVbMl07aWYoQXJyYXkuaXNBcnJheSh3KSl7aD00KncubGVuZ3RoLHA9cy5fbWFsbG9jKGgpLHIucHVzaChwKTtsZXQgeT1wLzQ7Zm9yKGxldCBfPTA7Xzx3Lmxlbmd0aDtfKyspe2lmKHR5cGVvZiB3W19dIT0ic3RyaW5nIil0aHJvdyBuZXcgVHlwZUVycm9yKGB0ZW5zb3IgZGF0YSBhdCBpbmRleCAke199IGlzIG5vdCBhIHN0cmluZ2ApO3MuSEVBUFUzMlt5KytdPUhlKHdbX10scil9fWVsc2UgaD13LmJ5dGVMZW5ndGgscD1zLl9tYWxsb2MoaCksci5wdXNoKHApLHMuSEVBUFU4LnNldChuZXcgVWludDhBcnJheSh3LmJ1ZmZlcix3LmJ5dGVPZmZzZXQsaCkscCl9bGV0IGc9cy5zdGFja1NhdmUoKSxiPXMuc3RhY2tBbGxvYyg0KmwubGVuZ3RoKTt0cnl7bGV0IHc9Yi80O2wuZm9yRWFjaChfPT5zLkhFQVAzMlt3KytdPV8pO2xldCB5PXMuX09ydENyZWF0ZVRlbnNvcihfbih1KSxwLGgsYixsLmxlbmd0aCxDbihhKSk7eT09PTAmJmtlKGBDYW5cJ3QgY3JlYXRlIHRlbnNvciBmb3IgaW5wdXQvb3V0cHV0LiBzZXNzaW9uPSR7b30sIGluZGV4PSR7bn0uYCksdC5wdXNoKHkpfWZpbmFsbHl7cy5zdGFja1Jlc3RvcmUoZyl9fSxUdT1hc3luYyhlLHQscixvLG4scyk9PntsZXQgdT1WZSgpLGw9eXIuZ2V0KGUpO2lmKCFsKXRocm93IG5ldyBFcnJvcihgY2Fubm90IHJ1biBpbmZlcmVuY2UuIGludmFsaWQgc2Vzc2lvbiBpZDogJHtlfWApO2xldFthLHAsaCxnXT1sLGI9dC5sZW5ndGgsdz1vLmxlbmd0aCx5PTAsXz1bXSxJPVtdLCQ9W10seD1bXSxFPXUuc3RhY2tTYXZlKCksQT11LnN0YWNrQWxsb2MoYio0KSx6PXUuc3RhY2tBbGxvYyhiKjQpLFI9dS5zdGFja0FsbG9jKHcqNCksVj11LnN0YWNrQWxsb2Modyo0KTt0cnl7W3ksX109VW8ocyk7Zm9yKGxldCBaPTA7WjxiO1orKyl4dShyW1pdLEkseCxlLHRbWl0pO2ZvcihsZXQgWj0wO1o8dztaKyspeHUobltaXSwkLHgsZSxiK29bWl0pO2xldCBUPUEvNCxOPXovNCx0ZT1SLzQsWT1WLzQ7Zm9yKGxldCBaPTA7WjxiO1orKyl1LkhFQVBVMzJbVCsrXT1JW1pdLHUuSEVBUFUzMltOKytdPXBbdFtaXV07Zm9yKGxldCBaPTA7Wjx3O1orKyl1LkhFQVBVMzJbdGUrK109JFtaXSx1LkhFQVBVMzJbWSsrXT1oW29bWl1dO2lmKGcpe2xldHtoYW5kbGU6WixvdXRwdXRQcmVmZXJyZWRMb2NhdGlvbnM6RWUsb3V0cHV0UHJlZmVycmVkTG9jYXRpb25zRW5jb2RlZDpQZX09ZztpZihwLmxlbmd0aCE9PWIpdGhyb3cgbmV3IEVycm9yKGBpbnB1dCBjb3VudCBmcm9tIGZlZWRzICgke2J9KSBpcyBleHBlY3RlZCB0byBiZSBhbHdheXMgZXF1YWwgdG8gbW9kZWxcJ3MgaW5wdXQgY291bnQgKCR7cC5sZW5ndGh9KS5gKTtmb3IobGV0IGZlPTA7ZmU8YjtmZSsrKXtsZXQgSWU9dFtmZV07YXdhaXQgdS5fT3J0QmluZElucHV0KFoscFtJZV0sSVtmZV0pIT09MCYma2UoYENhblwndCBiaW5kIGlucHV0WyR7ZmV9XSBmb3Igc2Vzc2lvbj0ke2V9LmApfWZvcihsZXQgZmU9MDtmZTx3O2ZlKyspe2xldCBJZT1vW2ZlXTtuW2ZlXT8uWzNdP3UuX09ydEJpbmRPdXRwdXQoWixoW0llXSwkW2ZlXSwwKSE9PTAmJmtlKGBDYW5cJ3QgYmluZCBwcmUtYWxsb2NhdGVkIG91dHB1dFske2ZlfV0gZm9yIHNlc3Npb249JHtlfS5gKTp1Ll9PcnRCaW5kT3V0cHV0KFosaFtJZV0sMCxQZVtJZV0pIT09MCYma2UoYENhblwndCBiaW5kIG91dHB1dFske2ZlfV0gdG8gJHtFZVtmZV19IGZvciBzZXNzaW9uPSR7ZX0uYCl9fWxldCBLO2c/Sz1hd2FpdCB1Ll9PcnRSdW5XaXRoQmluZGluZyhhLGcuaGFuZGxlLHcsUix5KTpLPWF3YWl0IHUuX09ydFJ1bihhLHosQSxiLFYsdyxSLHkpLEshPT0wJiZrZSgiZmFpbGVkIHRvIGNhbGwgT3J0UnVuKCkuIik7bGV0IFE9W107Zm9yKGxldCBaPTA7Wjx3O1orKyl7bGV0IEVlPXUuSEVBUFUzMltSLzQrWl07aWYoRWU9PT0kW1pdKXtRLnB1c2gobltaXSk7Y29udGludWV9bGV0IFBlPXUuc3RhY2tTYXZlKCksZmU9dS5zdGFja0FsbG9jKDQqNCksSWU9ITEsaGUseWU9MDt0cnl7dS5fT3J0R2V0VGVuc29yRGF0YShFZSxmZSxmZSs0LGZlKzgsZmUrMTIpIT09MCYma2UoYENhblwndCBhY2Nlc3Mgb3V0cHV0IHRlbnNvciBkYXRhIG9uIGluZGV4ICR7Wn0uYCk7bGV0IERlPWZlLzQsR2U9dS5IRUFQVTMyW0RlKytdO3llPXUuSEVBUFUzMltEZSsrXTtsZXQgRz11LkhFQVBVMzJbRGUrK10sZWU9dS5IRUFQVTMyW0RlKytdLGJlPVtdO2ZvcihsZXQgVWU9MDtVZTxlZTtVZSsrKWJlLnB1c2godS5IRUFQVTMyW0cvNCtVZV0pO3UuX09ydEZyZWUoRyk7bGV0IGV0PWJlLnJlZHVjZSgoVWUsTWUpPT5VZSpNZSwxKTtoZT1YZShHZSk7bGV0IHplPWc/Lm91dHB1dFByZWZlcnJlZExvY2F0aW9uc1tvW1pdXTtpZihoZT09PSJzdHJpbmciKXtpZih6ZT09PSJncHUtYnVmZmVyIil0aHJvdyBuZXcgRXJyb3IoIlN0cmluZyB0ZW5zb3IgaXMgbm90IHN1cHBvcnRlZCBvbiBHUFUuIik7bGV0IFVlPVtdLE1lPXllLzQ7Zm9yKGxldCB3dD0wO3d0PGV0O3d0Kyspe2xldCBydD11LkhFQVBVMzJbTWUrK10sRHQ9d3Q9PT1ldC0xP3ZvaWQgMDp1LkhFQVBVMzJbTWVdLXJ0O1VlLnB1c2godS5VVEY4VG9TdHJpbmcocnQsRHQpKX1RLnB1c2goW2hlLGJlLFVlLCJjcHUiXSl9ZWxzZSBpZih6ZT09PSJncHUtYnVmZmVyIiYmZXQ+MCl7bGV0IFVlPXUuanNlcEdldEJ1ZmZlcih5ZSksTWU9Y3IoR2UpO2lmKE1lPT09dm9pZCAwfHwhTm8oaGUpKXRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZGF0YSB0eXBlOiAke2hlfWApO0llPSEwLFEucHVzaChbaGUsYmUse2dwdUJ1ZmZlcjpVZSxkb3dubG9hZDp1LmpzZXBDcmVhdGVEb3dubG9hZGVyKFVlLGV0Kk1lLGhlKSxkaXNwb3NlOigpPT57dS5fT3J0UmVsZWFzZVRlbnNvcihFZSl9fSwiZ3B1LWJ1ZmZlciJdKX1lbHNle2xldCBVZT1NcihoZSksTWU9bmV3IFVlKGV0KTtuZXcgVWludDhBcnJheShNZS5idWZmZXIsTWUuYnl0ZU9mZnNldCxNZS5ieXRlTGVuZ3RoKS5zZXQodS5IRUFQVTguc3ViYXJyYXkoeWUseWUrTWUuYnl0ZUxlbmd0aCkpLFEucHVzaChbaGUsYmUsTWUsImNwdSJdKX19ZmluYWxseXt1LnN0YWNrUmVzdG9yZShQZSksaGU9PT0ic3RyaW5nIiYmeWUmJnUuX2ZyZWUoeWUpLEllfHx1Ll9PcnRSZWxlYXNlVGVuc29yKEVlKX19cmV0dXJuIGcmJnUuX09ydENsZWFyQm91bmRPdXRwdXRzKGcuaGFuZGxlKSxRfWZpbmFsbHl7dS5zdGFja1Jlc3RvcmUoRSksSS5mb3JFYWNoKFQ9PnUuX09ydFJlbGVhc2VUZW5zb3IoVCkpLCQuZm9yRWFjaChUPT51Ll9PcnRSZWxlYXNlVGVuc29yKFQpKSx4LmZvckVhY2goVD0+dS5fZnJlZShUKSkseSE9PTAmJnUuX09ydFJlbGVhc2VSdW5PcHRpb25zKHkpLF8uZm9yRWFjaChUPT51Ll9mcmVlKFQpKX19LEV1PWU9PntsZXQgdD1WZSgpLHI9eXIuZ2V0KGUpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBzZXNzaW9uIGlkIik7bGV0IG89clswXSxuPXQuX09ydEVuZFByb2ZpbGluZyhvKTtuPT09MCYma2UoIkNhblwndCBnZXQgYW4gcHJvZmlsZSBmaWxlIG5hbWUuIiksdC5fT3J0RnJlZShuKX0sT3U9ZT0+e2xldCB0PVtdO2ZvcihsZXQgciBvZiBlKXtsZXQgbz1yWzJdOyFBcnJheS5pc0FycmF5KG8pJiYiYnVmZmVyImluIG8mJnQucHVzaChvLmJ1ZmZlcil9cmV0dXJuIHR9O3NlbGYub25tZXNzYWdlPWU9PntsZXR7dHlwZTp0LGluOnJ9PWUuZGF0YTt0cnl7c3dpdGNoKHQpe2Nhc2UiaW5pdC13YXNtIjp6byhyLndhc20pLnRoZW4oKCk9PntfdShyKS50aGVuKCgpPT57cG9zdE1lc3NhZ2Uoe3R5cGU6dH0pfSxvPT57cG9zdE1lc3NhZ2Uoe3R5cGU6dCxlcnI6b30pfSl9LG89Pntwb3N0TWVzc2FnZSh7dHlwZTp0LGVycjpvfSl9KTticmVhaztjYXNlImluaXQtZXAiOntsZXR7ZXBOYW1lOm8sZW52Om59PXI7Q3UobixvKS50aGVuKCgpPT57cG9zdE1lc3NhZ2Uoe3R5cGU6dH0pfSxzPT57cG9zdE1lc3NhZ2Uoe3R5cGU6dCxlcnI6c30pfSk7YnJlYWt9Y2FzZSJjb3B5LWZyb20iOntsZXR7YnVmZmVyOm99PXIsbj1lbyhvKTtwb3N0TWVzc2FnZSh7dHlwZTp0LG91dDpufSk7YnJlYWt9Y2FzZSJjcmVhdGUiOntsZXR7bW9kZWw6byxvcHRpb25zOm59PXI7SXUobyxuKS50aGVuKHM9Pntwb3N0TWVzc2FnZSh7dHlwZTp0LG91dDpzfSl9LHM9Pntwb3N0TWVzc2FnZSh7dHlwZTp0LGVycjpzfSl9KTticmVha31jYXNlInJlbGVhc2UiOkF1KHIpLHBvc3RNZXNzYWdlKHt0eXBlOnR9KTticmVhaztjYXNlInJ1biI6e2xldHtzZXNzaW9uSWQ6byxpbnB1dEluZGljZXM6bixpbnB1dHM6cyxvdXRwdXRJbmRpY2VzOnUsb3B0aW9uczpsfT1yO1R1KG8sbixzLHUsbmV3IEFycmF5KHUubGVuZ3RoKS5maWxsKG51bGwpLGwpLnRoZW4oYT0+e2Euc29tZShwPT5wWzNdIT09ImNwdSIpP3Bvc3RNZXNzYWdlKHt0eXBlOnQsZXJyOiJQcm94eSBkb2VzIG5vdCBzdXBwb3J0IG5vbi1jcHUgdGVuc29yIGxvY2F0aW9uLiJ9KTpwb3N0TWVzc2FnZSh7dHlwZTp0LG91dDphfSxPdShhKSl9LGE9Pntwb3N0TWVzc2FnZSh7dHlwZTp0LGVycjphfSl9KTticmVha31jYXNlImVuZC1wcm9maWxpbmciOkV1KHIpLHBvc3RNZXNzYWdlKHt0eXBlOnR9KTticmVhaztkZWZhdWx0On19Y2F0Y2gobyl7cG9zdE1lc3NhZ2Uoe3R5cGU6dCxlcnI6b30pfX07fSkoKTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbid9KSxjcixBdCxIcixfbix5bixEcyxCYSwkcix4cixiaCx3biwkaCx4aCxraCxTaCxFaCxDaCxJaCxBaD1RKCgpPT57UHQoKSxXXygpLGRuKCksY3I9KCk9PiEhUGUud2FzbS5wcm94eSYmdHlwZW9mIGRvY3VtZW50PCJ1IixIcj0hMSxfbj0hMSx5bj0hMSxCYT1uZXcgTWFwLCRyPSh0LGUpPT57bGV0IHI9QmEuZ2V0KHQpO3I/ci5wdXNoKGUpOkJhLnNldCh0LFtlXSl9LHhyPSgpPT57aWYoSHJ8fCFfbnx8eW58fCFBdCl0aHJvdyBuZXcgRXJyb3IoIndvcmtlciBub3QgcmVhZHkiKX0sYmg9dD0+e3N3aXRjaCh0LmRhdGEudHlwZSl7Y2FzZSJpbml0LXdhc20iOkhyPSExLHQuZGF0YS5lcnI/KHluPSEwLERzWzFdKHQuZGF0YS5lcnIpKTooX249ITAsRHNbMF0oKSk7YnJlYWs7Y2FzZSJpbml0LWVwIjpjYXNlImNvcHktZnJvbSI6Y2FzZSJjcmVhdGUiOmNhc2UicmVsZWFzZSI6Y2FzZSJydW4iOmNhc2UiZW5kLXByb2ZpbGluZyI6e2xldCBlPUJhLmdldCh0LmRhdGEudHlwZSk7dC5kYXRhLmVycj9lLnNoaWZ0KClbMV0odC5kYXRhLmVycik6ZS5zaGlmdCgpWzBdKHQuZGF0YS5vdXQpO2JyZWFrfX19LHduPXR5cGVvZiBkb2N1bWVudDwidSI/ZG9jdW1lbnQ/LmN1cnJlbnRTY3JpcHQ/LnNyYzp2b2lkIDAsJGg9YXN5bmMoKT0+e2lmKCFfbil7aWYoSHIpdGhyb3cgbmV3IEVycm9yKCJtdWx0aXBsZSBjYWxscyB0byAnaW5pdFdhc20oKScgZGV0ZWN0ZWQuIik7aWYoeW4pdGhyb3cgbmV3IEVycm9yKCJwcmV2aW91cyBjYWxsIHRvICdpbml0V2FzbSgpJyBmYWlsZWQuIik7aWYoSHI9ITAsY3IoKSlyZXR1cm4gUGUud2FzbS53YXNtUGF0aHM9PT12b2lkIDAmJnduJiZ3bi5pbmRleE9mKCJibG9iOiIpIT09MCYmKFBlLndhc20ud2FzbVBhdGhzPXduLnN1YnN0cigwLCt3bi5sYXN0SW5kZXhPZigiLyIpKzEpKSxuZXcgUHJvbWlzZSgodCxlKT0+e0F0Py50ZXJtaW5hdGUoKTtsZXQgcj1VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtMXygpXSx7dHlwZToidGV4dC9qYXZhc2NyaXB0In0pKTtBdD1uZXcgV29ya2VyKHIse25hbWU6Im9ydC13YXNtLXByb3h5LXdvcmtlciJ9KSxBdC5vbmVycm9yPWE9PmUoYSksQXQub25tZXNzYWdlPWJoLFVSTC5yZXZva2VPYmplY3RVUkwociksRHM9W3QsZV07bGV0IG49e3R5cGU6ImluaXQtd2FzbSIsaW46UGV9O0F0LnBvc3RNZXNzYWdlKG4pfSk7dHJ5e2F3YWl0IHJsKFBlLndhc20pLGF3YWl0IGhoKFBlKSxfbj0hMH1jYXRjaCh0KXt0aHJvdyB5bj0hMCx0fWZpbmFsbHl7SHI9ITF9fX0seGg9YXN5bmMgdD0+e2lmKGNyKCkpcmV0dXJuIHhyKCksbmV3IFByb21pc2UoKGUscik9PnskcigiaW5pdC1lcCIsW2Uscl0pO2xldCBuPXt0eXBlOiJpbml0LWVwIixpbjp7ZXBOYW1lOnQsZW52OlBlfX07QXQucG9zdE1lc3NhZ2Uobil9KTthd2FpdCBmaChQZSx0KX0sa2g9YXN5bmMgdD0+Y3IoKT8oeHIoKSxuZXcgUHJvbWlzZSgoZSxyKT0+eyRyKCJjb3B5LWZyb20iLFtlLHJdKTtsZXQgbj17dHlwZToiY29weS1mcm9tIixpbjp7YnVmZmVyOnR9fTtBdC5wb3N0TWVzc2FnZShuLFt0LmJ1ZmZlcl0pfSkpOkJzKHQpLFNoPWFzeW5jKHQsZSk9PntpZihjcigpKXtpZihlPy5wcmVmZXJyZWRPdXRwdXRMb2NhdGlvbil0aHJvdyBuZXcgRXJyb3IoJ3Nlc3Npb24gb3B0aW9uICJwcmVmZXJyZWRPdXRwdXRMb2NhdGlvbiIgaXMgbm90IHN1cHBvcnRlZCBmb3IgcHJveHkuJyk7cmV0dXJuIHhyKCksbmV3IFByb21pc2UoKHIsbik9PnskcigiY3JlYXRlIixbcixuXSk7bGV0IGE9e3R5cGU6ImNyZWF0ZSIsaW46e21vZGVsOnQsb3B0aW9uczplfX0saT1bXTt0IGluc3RhbmNlb2YgVWludDhBcnJheSYmaS5wdXNoKHQuYnVmZmVyKSxBdC5wb3N0TWVzc2FnZShhLGkpfSl9ZWxzZSByZXR1cm4gZ2godCxlKX0sRWg9YXN5bmMgdD0+e2lmKGNyKCkpcmV0dXJuIHhyKCksbmV3IFByb21pc2UoKGUscik9PnskcigicmVsZWFzZSIsW2Uscl0pO2xldCBuPXt0eXBlOiJyZWxlYXNlIixpbjp0fTtBdC5wb3N0TWVzc2FnZShuKX0pO19oKHQpfSxDaD1hc3luYyh0LGUscixuLGEsaSk9PntpZihjcigpKXtpZihyLnNvbWUocz0+c1szXSE9PSJjcHUiKSl0aHJvdyBuZXcgRXJyb3IoImlucHV0IHRlbnNvciBvbiBHUFUgaXMgbm90IHN1cHBvcnRlZCBmb3IgcHJveHkuIik7aWYoYS5zb21lKHM9PnMpKXRocm93IG5ldyBFcnJvcigicHJlLWFsbG9jYXRlZCBvdXRwdXQgdGVuc29yIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHByb3h5LiIpO3JldHVybiB4cigpLG5ldyBQcm9taXNlKChzLG8pPT57JHIoInJ1biIsW3Msb10pO2xldCBsPXIsZD17dHlwZToicnVuIixpbjp7c2Vzc2lvbklkOnQsaW5wdXRJbmRpY2VzOmUsaW5wdXRzOmwsb3V0cHV0SW5kaWNlczpuLG9wdGlvbnM6aX19O0F0LnBvc3RNZXNzYWdlKGQsdmgobCkpfSl9ZWxzZSByZXR1cm4geWgodCxlLHIsbixhLGkpfSxJaD1hc3luYyB0PT57aWYoY3IoKSlyZXR1cm4geHIoKSxuZXcgUHJvbWlzZSgoZSxyKT0+eyRyKCJlbmQtcHJvZmlsaW5nIixbZSxyXSk7bGV0IG49e3R5cGU6ImVuZC1wcm9maWxpbmciLGluOnR9O0F0LnBvc3RNZXNzYWdlKG4pfSk7d2godCl9fSksUHMsVGgsT2gsRl89USgoKT0+e1B0KCksQWgoKSxZZSgpLHVsKCksUHM9KHQsZSk9Pntzd2l0Y2godC5sb2NhdGlvbil7Y2FzZSJjcHUiOnJldHVyblt0LnR5cGUsdC5kaW1zLHQuZGF0YSwiY3B1Il07Y2FzZSJncHUtYnVmZmVyIjpyZXR1cm5bdC50eXBlLHQuZGltcyx7Z3B1QnVmZmVyOnQuZ3B1QnVmZmVyfSwiZ3B1LWJ1ZmZlciJdO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIGRhdGEgbG9jYXRpb246ICR7dC5sb2NhdGlvbn0gZm9yICR7ZSgpfWApfX0sVGg9dD0+e3N3aXRjaCh0WzNdKXtjYXNlImNwdSI6cmV0dXJuIG5ldyBodCh0WzBdLHRbMl0sdFsxXSk7Y2FzZSJncHUtYnVmZmVyIjp7bGV0IGU9dFswXTtpZighR2koZSkpdGhyb3cgbmV3IEVycm9yKGBub3Qgc3VwcG9ydGVkIGRhdGEgdHlwZTogJHtlfSBmb3IgZGVzZXJpYWxpemluZyBHUFUgdGVuc29yYCk7bGV0e2dwdUJ1ZmZlcjpyLGRvd25sb2FkOm4sZGlzcG9zZTphfT10WzJdO3JldHVybiBodC5mcm9tR3B1QnVmZmVyKHIse2RhdGFUeXBlOmUsZGltczp0WzFdLGRvd25sb2FkOm4sZGlzcG9zZTphfSl9ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgZGF0YSBsb2NhdGlvbjogJHt0WzNdfWApfX0sT2g9Y2xhc3N7YXN5bmMgZmV0Y2hNb2RlbEFuZENvcHlUb1dhc21NZW1vcnkodCl7cmV0dXJuIGtoKGF3YWl0IHZhKHQpKX1hc3luYyBsb2FkTW9kZWwodCxlKXtSdCgpO2xldCByO3R5cGVvZiB0PT0ic3RyaW5nIj90eXBlb2YgcHJvY2VzczwidSImJnByb2Nlc3MudmVyc2lvbnMmJnByb2Nlc3MudmVyc2lvbnMubm9kZT9yPWF3YWl0IHZhKHQpOnI9YXdhaXQgdGhpcy5mZXRjaE1vZGVsQW5kQ29weVRvV2FzbU1lbW9yeSh0KTpyPXQsW3RoaXMuc2Vzc2lvbklkLHRoaXMuaW5wdXROYW1lcyx0aGlzLm91dHB1dE5hbWVzXT1hd2FpdCBTaChyLGUpLER0KCl9YXN5bmMgZGlzcG9zZSgpe3JldHVybiBFaCh0aGlzLnNlc3Npb25JZCl9YXN5bmMgcnVuKHQsZSxyKXtSdCgpO2xldCBuPVtdLGE9W107T2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCh1PT57bGV0IGg9dVswXSxmPXVbMV0sZz10aGlzLmlucHV0TmFtZXMuaW5kZXhPZihoKTtpZihnPT09LTEpdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIGlucHV0ICcke2h9J2ApO24ucHVzaChmKSxhLnB1c2goZyl9KTtsZXQgaT1bXSxzPVtdO09iamVjdC5lbnRyaWVzKGUpLmZvckVhY2godT0+e2xldCBoPXVbMF0sZj11WzFdLGc9dGhpcy5vdXRwdXROYW1lcy5pbmRleE9mKGgpO2lmKGc9PT0tMSl0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgb3V0cHV0ICcke2h9J2ApO2kucHVzaChmKSxzLnB1c2goZyl9KTtsZXQgbz1uLm1hcCgodSxoKT0+UHModSwoKT0+YGlucHV0ICIke3RoaXMuaW5wdXROYW1lc1thW2hdXX0iYCkpLGw9aS5tYXAoKHUsaCk9PnU/UHModSwoKT0+YG91dHB1dCAiJHt0aGlzLm91dHB1dE5hbWVzW3NbaF1dfSJgKTpudWxsKSxkPWF3YWl0IENoKHRoaXMuc2Vzc2lvbklkLGEsbyxzLGwsciksYz17fTtmb3IobGV0IHU9MDt1PGQubGVuZ3RoO3UrKyljW3RoaXMub3V0cHV0TmFtZXNbc1t1XV1dPWlbdV0/P1RoKGRbdV0pO3JldHVybiBEdCgpLGN9c3RhcnRQcm9maWxpbmcoKXt9ZW5kUHJvZmlsaW5nKCl7SWgodGhpcy5zZXNzaW9uSWQpfX19KSxNaCx6aCxWXz1RKCgpPT57UHQoKSxBaCgpLEZfKCksTWg9KCk9PntpZigodHlwZW9mIFBlLndhc20uaW5pdFRpbWVvdXQhPSJudW1iZXIifHxQZS53YXNtLmluaXRUaW1lb3V0PDApJiYoUGUud2FzbS5pbml0VGltZW91dD0wKSx0eXBlb2YgUGUud2FzbS5zaW1kIT0iYm9vbGVhbiImJihQZS53YXNtLnNpbWQ9ITApLHR5cGVvZiBQZS53YXNtLnByb3h5IT0iYm9vbGVhbiImJihQZS53YXNtLnByb3h5PSExKSx0eXBlb2YgUGUud2FzbS50cmFjZSE9ImJvb2xlYW4iJiYoUGUud2FzbS50cmFjZT0hMSksdHlwZW9mIFBlLndhc20ubnVtVGhyZWFkcyE9Im51bWJlciJ8fCFOdW1iZXIuaXNJbnRlZ2VyKFBlLndhc20ubnVtVGhyZWFkcyl8fFBlLndhc20ubnVtVGhyZWFkczw9MCl7KHR5cGVvZiBzZWxmPCJ1IiYmIXNlbGYuY3Jvc3NPcmlnaW5Jc29sYXRlZHx8dHlwZW9mIHByb2Nlc3M8InUiJiZwcm9jZXNzLnZlcnNpb25zJiZwcm9jZXNzLnZlcnNpb25zLm5vZGUpJiYoUGUud2FzbS5udW1UaHJlYWRzPTEpO2xldCB0PXR5cGVvZiBuYXZpZ2F0b3I+InUiPyh2b2lkIDApKCkubGVuZ3RoOm5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5O1BlLndhc20ubnVtVGhyZWFkcz1NYXRoLm1pbig0LE1hdGguY2VpbCgodHx8MSkvMikpfX0semg9Y2xhc3N7YXN5bmMgaW5pdCh0KXtNaCgpLGF3YWl0ICRoKCksYXdhaXQgeGgodCl9YXN5bmMgY3JlYXRlSW5mZXJlbmNlU2Vzc2lvbkhhbmRsZXIodCxlKXtsZXQgcj1uZXcgT2g7cmV0dXJuIGF3YWl0IHIubG9hZE1vZGVsKHQsZSksUHJvbWlzZS5yZXNvbHZlKHIpfX19KSxCaD17fTtOcihCaCx7d2FzbUJhY2tlbmQ6KCk9PlJofSk7dmFyIFJoLEhfPVEoKCk9PntWXygpLFJoPW5ldyB6aH0pO1B0KCksUHQoKSxQdCgpO3ZhciBHXz0iMS4xNy4xIixxXz1Gbzt7bGV0IHQ9KEhfKCksd3IoQmgpKS53YXNtQmFja2VuZDtVcigid2ViZ3B1Iix0LDUpLFVyKCJjcHUiLHQsMTApLFVyKCJ3YXNtIix0LDEwKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoUGUudmVyc2lvbnMsIndlYiIse3ZhbHVlOkdfLGVudW1lcmFibGU6ITB9KTt2YXIgal89T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZ2V0IEluZmVyZW5jZVNlc3Npb24oKXtyZXR1cm4gRGl9LGdldCBUUkFDRSgpe3JldHVybiBsbn0sZ2V0IFRSQUNFX0ZVTkNfQkVHSU4oKXtyZXR1cm4gUnR9LGdldCBUUkFDRV9GVU5DX0VORCgpe3JldHVybiBEdH0sZ2V0IFRlbnNvcigpe3JldHVybiBodH0sZ2V0IFRyYWluaW5nU2Vzc2lvbigpe3JldHVybiBQaX0sZGVmYXVsdDpxXyxnZXQgZW52KCl7cmV0dXJuIFBlfSxnZXQgcmVnaXN0ZXJCYWNrZW5kKCl7cmV0dXJuIFVyfX0pO2NvbnN0IEtfPSh0LGUpPT57Y29uc3Qgcj10eXBlb2YgZG9jdW1lbnQ8InUiP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOm5ldyBPZmZzY3JlZW5DYW52YXMoMSwxKTtyLndpZHRoPXQuZGltc1szXSxyLmhlaWdodD10LmRpbXNbMl07Y29uc3Qgbj1yLmdldENvbnRleHQoIjJkIik7aWYobiE9bnVsbCl7bGV0IGEsaTtlPy50ZW5zb3JMYXlvdXQhPT12b2lkIDAmJmUudGVuc29yTGF5b3V0PT09Ik5IV0MiPyhhPXQuZGltc1syXSxpPXQuZGltc1szXSk6KGE9dC5kaW1zWzNdLGk9dC5kaW1zWzJdKTtjb25zdCBzPWU/LmZvcm1hdCE9PXZvaWQgMD9lLmZvcm1hdDoiUkdCIixvPWU/Lm5vcm07bGV0IGwsZDtvPT09dm9pZCAwfHxvLm1lYW49PT12b2lkIDA/bD1bMjU1LDI1NSwyNTUsMjU1XTp0eXBlb2Ygby5tZWFuPT0ibnVtYmVyIj9sPVtvLm1lYW4sby5tZWFuLG8ubWVhbixvLm1lYW5dOihsPVtvLm1lYW5bMF0sby5tZWFuWzFdLG8ubWVhblsyXSwwXSxvLm1lYW5bM10hPT12b2lkIDAmJihsWzNdPW8ubWVhblszXSkpLG89PT12b2lkIDB8fG8uYmlhcz09PXZvaWQgMD9kPVswLDAsMCwwXTp0eXBlb2Ygby5iaWFzPT0ibnVtYmVyIj9kPVtvLmJpYXMsby5iaWFzLG8uYmlhcyxvLmJpYXNdOihkPVtvLmJpYXNbMF0sby5iaWFzWzFdLG8uYmlhc1syXSwwXSxvLmJpYXNbM10hPT12b2lkIDAmJihkWzNdPW8uYmlhc1szXSkpO2NvbnN0IGM9aSphO2xldCB1PTAsaD1jLGY9YyoyLGc9LTE7cz09PSJSR0JBIj8odT0wLGg9YyxmPWMqMixnPWMqMyk6cz09PSJSR0IiPyh1PTAsaD1jLGY9YyoyKTpzPT09IlJCRyImJih1PTAsZj1jLGg9YyoyKTtmb3IobGV0IHk9MDt5PGk7eSsrKWZvcihsZXQgdz0wO3c8YTt3Kyspe2NvbnN0IHY9KHQuZGF0YVt1KytdLWRbMF0pKmxbMF0saz0odC5kYXRhW2grK10tZFsxXSkqbFsxXSxFPSh0LmRhdGFbZisrXS1kWzJdKSpsWzJdLHg9Zz09PS0xPzI1NToodC5kYXRhW2crK10tZFszXSkqbFszXTtuLmZpbGxTdHlsZT0icmdiYSgiK3YrIiwiK2srIiwiK0UrIiwiK3grIikiLG4uZmlsbFJlY3Qodyx5LDEsMSl9aWYoInRvRGF0YVVSTCJpbiByKXJldHVybiByLnRvRGF0YVVSTCgpO3Rocm93IG5ldyBFcnJvcigidG9EYXRhVVJMIGlzIG5vdCBzdXBwb3J0ZWQiKX1lbHNlIHRocm93IG5ldyBFcnJvcigiQ2FuIG5vdCBhY2Nlc3MgaW1hZ2UgZGF0YSIpfSxZXz0odCxlKT0+e2NvbnN0IHI9dHlwZW9mIGRvY3VtZW50PCJ1Ij9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpOm5ldyBPZmZzY3JlZW5DYW52YXMoMSwxKS5nZXRDb250ZXh0KCIyZCIpO2xldCBuO2lmKHIhPW51bGwpe2xldCBhLGkscztlPy50ZW5zb3JMYXlvdXQhPT12b2lkIDAmJmUudGVuc29yTGF5b3V0PT09Ik5IV0MiPyhhPXQuZGltc1syXSxpPXQuZGltc1sxXSxzPXQuZGltc1szXSk6KGE9dC5kaW1zWzNdLGk9dC5kaW1zWzJdLHM9dC5kaW1zWzFdKTtjb25zdCBvPWUhPT12b2lkIDAmJmUuZm9ybWF0IT09dm9pZCAwP2UuZm9ybWF0OiJSR0IiLGw9ZT8ubm9ybTtsZXQgZCxjO2w9PT12b2lkIDB8fGwubWVhbj09PXZvaWQgMD9kPVsyNTUsMjU1LDI1NSwyNTVdOnR5cGVvZiBsLm1lYW49PSJudW1iZXIiP2Q9W2wubWVhbixsLm1lYW4sbC5tZWFuLGwubWVhbl06KGQ9W2wubWVhblswXSxsLm1lYW5bMV0sbC5tZWFuWzJdLDI1NV0sbC5tZWFuWzNdIT09dm9pZCAwJiYoZFszXT1sLm1lYW5bM10pKSxsPT09dm9pZCAwfHxsLmJpYXM9PT12b2lkIDA/Yz1bMCwwLDAsMF06dHlwZW9mIGwuYmlhcz09Im51bWJlciI/Yz1bbC5iaWFzLGwuYmlhcyxsLmJpYXMsbC5iaWFzXTooYz1bbC5iaWFzWzBdLGwuYmlhc1sxXSxsLmJpYXNbMl0sMF0sbC5iaWFzWzNdIT09dm9pZCAwJiYoY1szXT1sLmJpYXNbM10pKTtjb25zdCB1PWkqYTtpZihlIT09dm9pZCAwJiYoZS5mb3JtYXQhPT12b2lkIDAmJnM9PT00JiZlLmZvcm1hdCE9PSJSR0JBInx8cz09PTMmJmUuZm9ybWF0IT09IlJHQiImJmUuZm9ybWF0IT09IkJHUiIpKXRocm93IG5ldyBFcnJvcigiVGVuc29yIGZvcm1hdCBkb2Vzbid0IG1hdGNoIGlucHV0IHRlbnNvciBkaW1zIik7Y29uc3QgaD00O2xldCBmPTAsZz0xLHk9Mix3PTMsdj0wLGs9dSxFPXUqMix4PS0xO289PT0iUkdCQSI/KHY9MCxrPXUsRT11KjIseD11KjMpOm89PT0iUkdCIj8odj0wLGs9dSxFPXUqMik6bz09PSJSQkciJiYodj0wLEU9dSxrPXUqMiksbj1yLmNyZWF0ZUltYWdlRGF0YShhLGkpO2ZvcihsZXQgST0wO0k8aSphO2YrPWgsZys9aCx5Kz1oLHcrPWgsSSsrKW4uZGF0YVtmXT0odC5kYXRhW3YrK10tY1swXSkqZFswXSxuLmRhdGFbZ109KHQuZGF0YVtrKytdLWNbMV0pKmRbMV0sbi5kYXRhW3ldPSh0LmRhdGFbRSsrXS1jWzJdKSpkWzJdLG4uZGF0YVt3XT14PT09LTE/MjU1Oih0LmRhdGFbeCsrXS1jWzNdKSpkWzNdfWVsc2UgdGhyb3cgbmV3IEVycm9yKCJDYW4gbm90IGFjY2VzcyBpbWFnZSBkYXRhIik7cmV0dXJuIG59LE5zPSh0LGUpPT57aWYodD09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkltYWdlIGJ1ZmZlciBtdXN0IGJlIGRlZmluZWQiKTtpZihlLmhlaWdodD09PXZvaWQgMHx8ZS53aWR0aD09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkltYWdlIGhlaWdodCBhbmQgd2lkdGggbXVzdCBiZSBkZWZpbmVkIik7aWYoZS50ZW5zb3JMYXlvdXQ9PT0iTkhXQyIpdGhyb3cgbmV3IEVycm9yKCJOSFdDIFRlbnNvciBsYXlvdXQgaXMgbm90IHN1cHBvcnRlZCB5ZXQiKTtjb25zdHtoZWlnaHQ6cix3aWR0aDpufT1lLGE9ZS5ub3JtPz97bWVhbjoyNTUsYmlhczowfTtsZXQgaSxzO3R5cGVvZiBhLm1lYW49PSJudW1iZXIiP2k9W2EubWVhbixhLm1lYW4sYS5tZWFuLGEubWVhbl06aT1bYS5tZWFuWzBdLGEubWVhblsxXSxhLm1lYW5bMl0sYS5tZWFuWzNdPz8yNTVdLHR5cGVvZiBhLmJpYXM9PSJudW1iZXIiP3M9W2EuYmlhcyxhLmJpYXMsYS5iaWFzLGEuYmlhc106cz1bYS5iaWFzWzBdLGEuYmlhc1sxXSxhLmJpYXNbMl0sYS5iaWFzWzNdPz8wXTtjb25zdCBvPWUuZm9ybWF0IT09dm9pZCAwP2UuZm9ybWF0OiJSR0JBIixsPWUudGVuc29yRm9ybWF0IT09dm9pZCAwJiZlLnRlbnNvckZvcm1hdCE9PXZvaWQgMD9lLnRlbnNvckZvcm1hdDoiUkdCIixkPXIqbixjPWw9PT0iUkdCQSI/bmV3IEZsb2F0MzJBcnJheShkKjQpOm5ldyBGbG9hdDMyQXJyYXkoZCozKTtsZXQgdT00LGg9MCxmPTEsZz0yLHk9Myx3PTAsdj1kLGs9ZCoyLEU9LTE7bz09PSJSR0IiJiYodT0zLGg9MCxmPTEsZz0yLHk9LTEpLGw9PT0iUkdCQSI/RT1kKjM6bD09PSJSQkciPyh3PTAsaz1kLHY9ZCoyKTpsPT09IkJHUiImJihrPTAsdj1kLHc9ZCoyKTtmb3IobGV0IHg9MDt4PGQ7eCsrLGgrPXUsZys9dSxmKz11LHkrPXUpY1t3KytdPSh0W2hdK3NbMF0pL2lbMF0sY1t2KytdPSh0W2ZdK3NbMV0pL2lbMV0sY1trKytdPSh0W2ddK3NbMl0pL2lbMl0sRSE9PS0xJiZ5IT09LTEmJihjW0UrK109KHRbeV0rc1szXSkvaVszXSk7cmV0dXJuIGw9PT0iUkdCQSI/bmV3IFl0KCJmbG9hdDMyIixjLFsxLDQscixuXSk6bmV3IFl0KCJmbG9hdDMyIixjLFsxLDMscixuXSl9LFhfPWFzeW5jKHQsZSk9Pntjb25zdCByPXR5cGVvZiBIVE1MSW1hZ2VFbGVtZW50PCJ1IiYmdCBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQsbj10eXBlb2YgSW1hZ2VEYXRhPCJ1IiYmdCBpbnN0YW5jZW9mIEltYWdlRGF0YSxhPXR5cGVvZiBJbWFnZUJpdG1hcDwidSImJnQgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcCxpPXR5cGVvZiB0PT0ic3RyaW5nIjtsZXQgcyxvPWU/P3t9O2NvbnN0IGw9KCk9PntpZih0eXBlb2YgZG9jdW1lbnQ8InUiKXJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtpZih0eXBlb2YgT2Zmc2NyZWVuQ2FudmFzPCJ1IilyZXR1cm4gbmV3IE9mZnNjcmVlbkNhbnZhcygxLDEpO3Rocm93IG5ldyBFcnJvcigiQ2FudmFzIGlzIG5vdCBzdXBwb3J0ZWQiKX0sZD1jPT5jIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnR8fGMgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXM/Yy5nZXRDb250ZXh0KCIyZCIpOm51bGw7aWYocil7Y29uc3QgYz1sKCk7Yy53aWR0aD10LndpZHRoLGMuaGVpZ2h0PXQuaGVpZ2h0O2NvbnN0IHU9ZChjKTtpZih1IT1udWxsKXtsZXQgaD10LmhlaWdodCxmPXQud2lkdGg7aWYoZSE9PXZvaWQgMCYmZS5yZXNpemVkSGVpZ2h0IT09dm9pZCAwJiZlLnJlc2l6ZWRXaWR0aCE9PXZvaWQgMCYmKGg9ZS5yZXNpemVkSGVpZ2h0LGY9ZS5yZXNpemVkV2lkdGgpLGUhPT12b2lkIDApe2lmKG89ZSxlLnRlbnNvckZvcm1hdCE9PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkltYWdlIGlucHV0IGNvbmZpZyBmb3JtYXQgbXVzdCBiZSBSR0JBIGZvciBIVE1MSW1hZ2VFbGVtZW50Iik7by50ZW5zb3JGb3JtYXQ9IlJHQkEiLG8uaGVpZ2h0PWgsby53aWR0aD1mfWVsc2Ugby50ZW5zb3JGb3JtYXQ9IlJHQkEiLG8uaGVpZ2h0PWgsby53aWR0aD1mO3UuZHJhd0ltYWdlKHQsMCwwKSxzPXUuZ2V0SW1hZ2VEYXRhKDAsMCxmLGgpLmRhdGF9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkNhbiBub3QgYWNjZXNzIGltYWdlIGRhdGEiKX1lbHNlIGlmKG4pe2xldCBjLHU7aWYoZSE9PXZvaWQgMCYmZS5yZXNpemVkV2lkdGghPT12b2lkIDAmJmUucmVzaXplZEhlaWdodCE9PXZvaWQgMD8oYz1lLnJlc2l6ZWRIZWlnaHQsdT1lLnJlc2l6ZWRXaWR0aCk6KGM9dC5oZWlnaHQsdT10LndpZHRoKSxlIT09dm9pZCAwJiYobz1lKSxvLmZvcm1hdD0iUkdCQSIsby5oZWlnaHQ9YyxvLndpZHRoPXUsZSE9PXZvaWQgMCl7Y29uc3QgaD1sKCk7aC53aWR0aD11LGguaGVpZ2h0PWM7Y29uc3QgZj1kKGgpO2lmKGYhPW51bGwpZi5wdXRJbWFnZURhdGEodCwwLDApLHM9Zi5nZXRJbWFnZURhdGEoMCwwLHUsYykuZGF0YTtlbHNlIHRocm93IG5ldyBFcnJvcigiQ2FuIG5vdCBhY2Nlc3MgaW1hZ2UgZGF0YSIpfWVsc2Ugcz10LmRhdGF9ZWxzZSBpZihhKXtpZihlPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigiUGxlYXNlIHByb3ZpZGUgaW1hZ2UgY29uZmlnIHdpdGggZm9ybWF0IGZvciBJbWFnZWJpdG1hcCIpO2NvbnN0IGM9bCgpO2Mud2lkdGg9dC53aWR0aCxjLmhlaWdodD10LmhlaWdodDtjb25zdCB1PWQoYyk7aWYodSE9bnVsbCl7Y29uc3QgaD10LmhlaWdodCxmPXQud2lkdGg7cmV0dXJuIHUuZHJhd0ltYWdlKHQsMCwwLGYsaCkscz11LmdldEltYWdlRGF0YSgwLDAsZixoKS5kYXRhLG8uaGVpZ2h0PWgsby53aWR0aD1mLE5zKHMsbyl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkNhbiBub3QgYWNjZXNzIGltYWdlIGRhdGEiKX1lbHNle2lmKGkpcmV0dXJuIG5ldyBQcm9taXNlKChjLHUpPT57Y29uc3QgaD1sKCksZj1kKGgpO2lmKCF0fHwhZilyZXR1cm4gdSgpO2NvbnN0IGc9bmV3IEltYWdlO2cuY3Jvc3NPcmlnaW49IkFub255bW91cyIsZy5zcmM9dCxnLm9ubG9hZD0oKT0+e2gud2lkdGg9Zy53aWR0aCxoLmhlaWdodD1nLmhlaWdodCxmLmRyYXdJbWFnZShnLDAsMCxoLndpZHRoLGguaGVpZ2h0KTtjb25zdCB5PWYuZ2V0SW1hZ2VEYXRhKDAsMCxoLndpZHRoLGguaGVpZ2h0KTtvLmhlaWdodD1oLmhlaWdodCxvLndpZHRoPWgud2lkdGgsYyhOcyh5LmRhdGEsbykpfX0pO3Rocm93IG5ldyBFcnJvcigiSW5wdXQgZGF0YSBwcm92aWRlZCBpcyBub3Qgc3VwcG9ydGVkIC0gYWJvcnRlZCB0ZW5zb3IgY3JlYXRpb24iKX1pZihzIT09dm9pZCAwKXJldHVybiBOcyhzLG8pO3Rocm93IG5ldyBFcnJvcigiSW5wdXQgZGF0YSBwcm92aWRlZCBpcyBub3Qgc3VwcG9ydGVkIC0gYWJvcnRlZCB0ZW5zb3IgY3JlYXRpb24iKX0sUV89KHQsZSk9Pntjb25zdHt3aWR0aDpyLGhlaWdodDpuLGRvd25sb2FkOmEsZGlzcG9zZTppfT1lLHM9WzEsbixyLDRdO3JldHVybiBuZXcgWXQoe2xvY2F0aW9uOiJ0ZXh0dXJlIix0eXBlOiJmbG9hdDMyIix0ZXh0dXJlOnQsZGltczpzLGRvd25sb2FkOmEsZGlzcG9zZTppfSl9LFpfPSh0LGUpPT57Y29uc3R7ZGF0YVR5cGU6cixkaW1zOm4sZG93bmxvYWQ6YSxkaXNwb3NlOml9PWU7cmV0dXJuIG5ldyBZdCh7bG9jYXRpb246ImdwdS1idWZmZXIiLHR5cGU6cj8/ImZsb2F0MzIiLGdwdUJ1ZmZlcjp0LGRpbXM6bixkb3dubG9hZDphLGRpc3Bvc2U6aX0pfSxKXz0odCxlLHIpPT5uZXcgWXQoe2xvY2F0aW9uOiJjcHUtcGlubmVkIix0eXBlOnQsZGF0YTplLGRpbXM6cj8/W2UubGVuZ3RoXX0pLFJhPW5ldyBNYXAoW1siZmxvYXQzMiIsRmxvYXQzMkFycmF5XSxbInVpbnQ4IixVaW50OEFycmF5XSxbImludDgiLEludDhBcnJheV0sWyJ1aW50MTYiLFVpbnQxNkFycmF5XSxbImZsb2F0MTYiLFVpbnQxNkFycmF5XSxbImludDE2IixJbnQxNkFycmF5XSxbImludDMyIixJbnQzMkFycmF5XSxbImJvb2wiLFVpbnQ4QXJyYXldLFsiZmxvYXQ2NCIsRmxvYXQ2NEFycmF5XSxbInVpbnQzMiIsVWludDMyQXJyYXldXSksVXM9bmV3IE1hcChbW0Zsb2F0MzJBcnJheSwiZmxvYXQzMiJdLFtVaW50OEFycmF5LCJ1aW50OCJdLFtJbnQ4QXJyYXksImludDgiXSxbVWludDE2QXJyYXksInVpbnQxNiJdLFtJbnQxNkFycmF5LCJpbnQxNiJdLFtJbnQzMkFycmF5LCJpbnQzMiJdLFtGbG9hdDY0QXJyYXksImZsb2F0NjQiXSxbVWludDMyQXJyYXksInVpbnQzMiJdXSk7bGV0IERoPSExO2NvbnN0IGUwPSgpPT57aWYoIURoKXtEaD0hMDtjb25zdCB0PXR5cGVvZiBCaWdJbnQ2NEFycmF5PCJ1IiYmdHlwZW9mIEJpZ0ludDY0QXJyYXkuZnJvbT09ImZ1bmN0aW9uIixlPXR5cGVvZiBCaWdVaW50NjRBcnJheTwidSImJnR5cGVvZiBCaWdVaW50NjRBcnJheS5mcm9tPT0iZnVuY3Rpb24iO3QmJihSYS5zZXQoImludDY0IixCaWdJbnQ2NEFycmF5KSxVcy5zZXQoQmlnSW50NjRBcnJheSwiaW50NjQiKSksZSYmKFJhLnNldCgidWludDY0IixCaWdVaW50NjRBcnJheSksVXMuc2V0KEJpZ1VpbnQ2NEFycmF5LCJ1aW50NjQiKSl9fSx0MD10PT57bGV0IGU9MTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbj10W3JdO2lmKHR5cGVvZiBuIT0ibnVtYmVyInx8IU51bWJlci5pc1NhZmVJbnRlZ2VyKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoYGRpbXNbJHtyfV0gbXVzdCBiZSBhbiBpbnRlZ2VyLCBnb3Q6ICR7bn1gKTtpZihuPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoYGRpbXNbJHtyfV0gbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyLCBnb3Q6ICR7bn1gKTtlKj1ufXJldHVybiBlfSxyMD0odCxlKT0+e3N3aXRjaCh0LmxvY2F0aW9uKXtjYXNlImNwdSI6cmV0dXJuIG5ldyBZdCh0LnR5cGUsdC5kYXRhLGUpO2Nhc2UiY3B1LXBpbm5lZCI6cmV0dXJuIG5ldyBZdCh7bG9jYXRpb246ImNwdS1waW5uZWQiLGRhdGE6dC5kYXRhLHR5cGU6dC50eXBlLGRpbXM6ZX0pO2Nhc2UidGV4dHVyZSI6cmV0dXJuIG5ldyBZdCh7bG9jYXRpb246InRleHR1cmUiLHRleHR1cmU6dC50ZXh0dXJlLHR5cGU6dC50eXBlLGRpbXM6ZX0pO2Nhc2UiZ3B1LWJ1ZmZlciI6cmV0dXJuIG5ldyBZdCh7bG9jYXRpb246ImdwdS1idWZmZXIiLGdwdUJ1ZmZlcjp0LmdwdUJ1ZmZlcix0eXBlOnQudHlwZSxkaW1zOmV9KTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdGVuc29yUmVzaGFwZTogdGVuc29yIGxvY2F0aW9uICR7dC5sb2NhdGlvbn0gaXMgbm90IHN1cHBvcnRlZGApfX07bGV0IFl0PWNsYXNze2NvbnN0cnVjdG9yKHQsZSxyKXtlMCgpO2xldCBuLGE7aWYodHlwZW9mIHQ9PSJvYmplY3QiJiYibG9jYXRpb24iaW4gdClzd2l0Y2godGhpcy5kYXRhTG9jYXRpb249dC5sb2NhdGlvbixuPXQudHlwZSxhPXQuZGltcyx0LmxvY2F0aW9uKXtjYXNlImNwdS1waW5uZWQiOntjb25zdCBzPVJhLmdldChuKTtpZighcyl0aHJvdyBuZXcgVHlwZUVycm9yKGB1bnN1cHBvcnRlZCB0eXBlICIke259IiB0byBjcmVhdGUgdGVuc29yIGZyb20gcGlubmVkIGJ1ZmZlcmApO2lmKCEodC5kYXRhIGluc3RhbmNlb2YgcykpdGhyb3cgbmV3IFR5cGVFcnJvcihgYnVmZmVyIHNob3VsZCBiZSBvZiB0eXBlICR7cy5uYW1lfWApO3RoaXMuY3B1RGF0YT10LmRhdGE7YnJlYWt9Y2FzZSJ0ZXh0dXJlIjp7aWYobiE9PSJmbG9hdDMyIil0aHJvdyBuZXcgVHlwZUVycm9yKGB1bnN1cHBvcnRlZCB0eXBlICIke259IiB0byBjcmVhdGUgdGVuc29yIGZyb20gdGV4dHVyZWApO3RoaXMuZ3B1VGV4dHVyZURhdGE9dC50ZXh0dXJlLHRoaXMuZG93bmxvYWRlcj10LmRvd25sb2FkLHRoaXMuZGlzcG9zZXI9dC5kaXNwb3NlO2JyZWFrfWNhc2UiZ3B1LWJ1ZmZlciI6e2lmKG4hPT0iZmxvYXQzMiImJm4hPT0iZmxvYXQxNiImJm4hPT0iaW50MzIiJiZuIT09ImludDY0IiYmbiE9PSJ1aW50MzIiJiZuIT09ImJvb2wiKXRocm93IG5ldyBUeXBlRXJyb3IoYHVuc3VwcG9ydGVkIHR5cGUgIiR7bn0iIHRvIGNyZWF0ZSB0ZW5zb3IgZnJvbSBncHUgYnVmZmVyYCk7dGhpcy5ncHVCdWZmZXJEYXRhPXQuZ3B1QnVmZmVyLHRoaXMuZG93bmxvYWRlcj10LmRvd25sb2FkLHRoaXMuZGlzcG9zZXI9dC5kaXNwb3NlO2JyZWFrfWRlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBUZW5zb3IgY29uc3RydWN0b3I6IHVuc3VwcG9ydGVkIGxvY2F0aW9uICcke3RoaXMuZGF0YUxvY2F0aW9ufSdgKX1lbHNle2xldCBzLG87aWYodHlwZW9mIHQ9PSJzdHJpbmciKWlmKG49dCxvPXIsdD09PSJzdHJpbmciKXtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBIHN0cmluZyB0ZW5zb3IncyBkYXRhIG11c3QgYmUgYSBzdHJpbmcgYXJyYXkuIik7cz1lfWVsc2V7Y29uc3QgbD1SYS5nZXQodCk7aWYobD09PXZvaWQgMCl0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnN1cHBvcnRlZCB0ZW5zb3IgdHlwZTogJHt0fS5gKTtpZihBcnJheS5pc0FycmF5KGUpKXtpZih0PT09ImZsb2F0MTYiKXRocm93IG5ldyBUeXBlRXJyb3IoIkNyZWF0aW5nIGEgZmxvYXQxNiB0ZW5zb3IgZnJvbSBudW1iZXIgYXJyYXkgaXMgbm90IHN1cHBvcnRlZC4gUGxlYXNlIHVzZSBVaW50MTZBcnJheSBhcyBkYXRhLiIpO3Q9PT0idWludDY0Inx8dD09PSJpbnQ2NCI/cz1sLmZyb20oZSxCaWdJbnQpOnM9bC5mcm9tKGUpfWVsc2UgaWYoZSBpbnN0YW5jZW9mIGwpcz1lO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcihgQSAke259IHRlbnNvcidzIGRhdGEgbXVzdCBiZSB0eXBlIG9mICR7bH1gKX1lbHNlIGlmKG89ZSxBcnJheS5pc0FycmF5KHQpKXtpZih0Lmxlbmd0aD09PTApdGhyb3cgbmV3IFR5cGVFcnJvcigiVGVuc29yIHR5cGUgY2Fubm90IGJlIGluZmVycmVkIGZyb20gYW4gZW1wdHkgYXJyYXkuIik7Y29uc3QgbD10eXBlb2YgdFswXTtpZihsPT09InN0cmluZyIpbj0ic3RyaW5nIixzPXQ7ZWxzZSBpZihsPT09ImJvb2xlYW4iKW49ImJvb2wiLHM9VWludDhBcnJheS5mcm9tKHQpO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBlbGVtZW50IHR5cGUgb2YgZGF0YSBhcnJheTogJHtsfS5gKX1lbHNle2NvbnN0IGw9VXMuZ2V0KHQuY29uc3RydWN0b3IpO2lmKGw9PT12b2lkIDApdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5zdXBwb3J0ZWQgdHlwZSBmb3IgdGVuc29yIGRhdGE6ICR7dC5jb25zdHJ1Y3Rvcn0uYCk7bj1sLHM9dH1pZihvPT09dm9pZCAwKW89W3MubGVuZ3RoXTtlbHNlIGlmKCFBcnJheS5pc0FycmF5KG8pKXRocm93IG5ldyBUeXBlRXJyb3IoIkEgdGVuc29yJ3MgZGltcyBtdXN0IGJlIGEgbnVtYmVyIGFycmF5Iik7YT1vLHRoaXMuY3B1RGF0YT1zLHRoaXMuZGF0YUxvY2F0aW9uPSJjcHUifWNvbnN0IGk9dDAoYSk7aWYodGhpcy5jcHVEYXRhJiZpIT09dGhpcy5jcHVEYXRhLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYFRlbnNvcidzIHNpemUoJHtpfSkgZG9lcyBub3QgbWF0Y2ggZGF0YSBsZW5ndGgoJHt0aGlzLmNwdURhdGEubGVuZ3RofSkuYCk7dGhpcy50eXBlPW4sdGhpcy5kaW1zPWEsdGhpcy5zaXplPWl9c3RhdGljIGFzeW5jIGZyb21JbWFnZSh0LGUpe3JldHVybiBYXyh0LGUpfXN0YXRpYyBmcm9tVGV4dHVyZSh0LGUpe3JldHVybiBRXyh0LGUpfXN0YXRpYyBmcm9tR3B1QnVmZmVyKHQsZSl7cmV0dXJuIFpfKHQsZSl9c3RhdGljIGZyb21QaW5uZWRCdWZmZXIodCxlLHIpe3JldHVybiBKXyh0LGUscil9dG9EYXRhVVJMKHQpe3JldHVybiBLXyh0aGlzLHQpfXRvSW1hZ2VEYXRhKHQpe3JldHVybiBZXyh0aGlzLHQpfWdldCBkYXRhKCl7aWYodGhpcy5lbnN1cmVWYWxpZCgpLCF0aGlzLmNwdURhdGEpdGhyb3cgbmV3IEVycm9yKCJUaGUgZGF0YSBpcyBub3Qgb24gQ1BVLiBVc2UgYGdldERhdGEoKWAgdG8gZG93bmxvYWQgR1BVIGRhdGEgdG8gQ1BVLCBvciB1c2UgYHRleHR1cmVgIG9yIGBncHVCdWZmZXJgIHByb3BlcnR5IHRvIGFjY2VzcyB0aGUgR1BVIGRhdGEgZGlyZWN0bHkuIik7cmV0dXJuIHRoaXMuY3B1RGF0YX1nZXQgbG9jYXRpb24oKXtyZXR1cm4gdGhpcy5kYXRhTG9jYXRpb259Z2V0IHRleHR1cmUoKXtpZih0aGlzLmVuc3VyZVZhbGlkKCksIXRoaXMuZ3B1VGV4dHVyZURhdGEpdGhyb3cgbmV3IEVycm9yKCJUaGUgZGF0YSBpcyBub3Qgc3RvcmVkIGFzIGEgV2ViR0wgdGV4dHVyZS4iKTtyZXR1cm4gdGhpcy5ncHVUZXh0dXJlRGF0YX1nZXQgZ3B1QnVmZmVyKCl7aWYodGhpcy5lbnN1cmVWYWxpZCgpLCF0aGlzLmdwdUJ1ZmZlckRhdGEpdGhyb3cgbmV3IEVycm9yKCJUaGUgZGF0YSBpcyBub3Qgc3RvcmVkIGFzIGEgV2ViR1BVIGJ1ZmZlci4iKTtyZXR1cm4gdGhpcy5ncHVCdWZmZXJEYXRhfWFzeW5jIGdldERhdGEodCl7c3dpdGNoKHRoaXMuZW5zdXJlVmFsaWQoKSx0aGlzLmRhdGFMb2NhdGlvbil7Y2FzZSJjcHUiOmNhc2UiY3B1LXBpbm5lZCI6cmV0dXJuIHRoaXMuZGF0YTtjYXNlInRleHR1cmUiOmNhc2UiZ3B1LWJ1ZmZlciI6e2lmKCF0aGlzLmRvd25sb2FkZXIpdGhyb3cgbmV3IEVycm9yKCJUaGUgY3VycmVudCB0ZW5zb3IgaXMgbm90IGNyZWF0ZWQgd2l0aCBhIHNwZWNpZmllZCBkYXRhIGRvd25sb2FkZXIuIik7aWYodGhpcy5pc0Rvd25sb2FkaW5nKXRocm93IG5ldyBFcnJvcigiVGhlIGN1cnJlbnQgdGVuc29yIGlzIGJlaW5nIGRvd25sb2FkZWQuIik7dHJ5e3RoaXMuaXNEb3dubG9hZGluZz0hMDtjb25zdCBlPWF3YWl0IHRoaXMuZG93bmxvYWRlcigpO3JldHVybiB0aGlzLmRvd25sb2FkZXI9dm9pZCAwLHRoaXMuZGF0YUxvY2F0aW9uPSJjcHUiLHRoaXMuY3B1RGF0YT1lLHQmJnRoaXMuZGlzcG9zZXImJih0aGlzLmRpc3Bvc2VyKCksdGhpcy5kaXNwb3Nlcj12b2lkIDApLGV9ZmluYWxseXt0aGlzLmlzRG93bmxvYWRpbmc9ITF9fWRlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgZ2V0IGRhdGEgZnJvbSBsb2NhdGlvbjogJHt0aGlzLmRhdGFMb2NhdGlvbn1gKX19ZGlzcG9zZSgpe2lmKHRoaXMuaXNEb3dubG9hZGluZyl0aHJvdyBuZXcgRXJyb3IoIlRoZSBjdXJyZW50IHRlbnNvciBpcyBiZWluZyBkb3dubG9hZGVkLiIpO3RoaXMuZGlzcG9zZXImJih0aGlzLmRpc3Bvc2VyKCksdGhpcy5kaXNwb3Nlcj12b2lkIDApLHRoaXMuY3B1RGF0YT12b2lkIDAsdGhpcy5ncHVUZXh0dXJlRGF0YT12b2lkIDAsdGhpcy5ncHVCdWZmZXJEYXRhPXZvaWQgMCx0aGlzLmRvd25sb2FkZXI9dm9pZCAwLHRoaXMuaXNEb3dubG9hZGluZz12b2lkIDAsdGhpcy5kYXRhTG9jYXRpb249Im5vbmUifWVuc3VyZVZhbGlkKCl7aWYodGhpcy5kYXRhTG9jYXRpb249PT0ibm9uZSIpdGhyb3cgbmV3IEVycm9yKCJUaGUgdGVuc29yIGlzIGRpc3Bvc2VkLiIpfXJlc2hhcGUodCl7aWYodGhpcy5lbnN1cmVWYWxpZCgpLHRoaXMuZG93bmxvYWRlcnx8dGhpcy5kaXNwb3Nlcil0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCByZXNoYXBlIGEgdGVuc29yIHRoYXQgb3ducyBHUFUgcmVzb3VyY2UuIik7cmV0dXJuIHIwKHRoaXMsdCl9fTtjb25zdCBuMD1ZdCxhMD10eXBlb2YgbmF2aWdhdG9yPCJ1IiYmImdwdSJpbiBuYXZpZ2F0b3IsaTA9dHlwZW9mIHByb2Nlc3M8InUiJiZwcm9jZXNzPy5yZWxlYXNlPy5uYW1lPT09Im5vZGUiLHZuPVtdO2xldCBXcyxibjtpMD8oYm49S2U/P2dnLHZuLnB1c2goImNwdSIpLFdzPVsiY3B1Il0pOihibj1qXyxhMCYmdm4ucHVzaCgid2ViZ3B1Iiksdm4ucHVzaCgid2FzbSIpLFdzPVsid2FzbSJdKTtjb25zdCBzMD1ibi5JbmZlcmVuY2VTZXNzaW9uO2Z1bmN0aW9uIG8wKHQpe2xldCBlPVdzO2lmKHQpe2lmKCF2bi5pbmNsdWRlcyh0KSl0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRldmljZTogIiR7dH0iLiBTaG91bGQgYmUgb25lIG9mOiAke3ZuLmpvaW4oIiwgIil9LmApO2U9W3RdfXJldHVybiBlfWFzeW5jIGZ1bmN0aW9uIGwwKHQsZSl7Y29uc3Qgcj17Li4uZX07cmV0dXJuIGF3YWl0IHMwLmNyZWF0ZSh0LHIpfWZ1bmN0aW9uIFBoKHQpe3JldHVybiB0IGluc3RhbmNlb2YgYm4uVGVuc29yfWNvbnN0IGtyPWJuPy5lbnY7a3I/Lndhc20mJihrci53YXNtLndhc21QYXRocz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9vbm54cnVudGltZS13ZWJAMS4xNy4xL2Rpc3QvIixrci53YXNtLnByb3h5PSEwLCh0eXBlb2YgY3Jvc3NPcmlnaW5Jc29sYXRlZD4idSJ8fCFjcm9zc09yaWdpbklzb2xhdGVkKSYmKGtyLndhc20ubnVtVGhyZWFkcz0xKSx0eXBlb2YgbmF2aWdhdG9yPCJ1IiYmL2lQKGhvbmV8b2R8YWQpLisxNl80LitBcHBsZVdlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmKGtyLndhc20uc2ltZD0hMSkpO2Z1bmN0aW9uIHUwKCl7cmV0dXJuIGtyPy53YXNtPy5wcm94eX10dC5iYWNrZW5kcy5vbm54PWtyO2NvbnN0IE5oPU9iamVjdC5mcmVlemUoe2Zsb2F0MzI6RmxvYXQzMkFycmF5LGZsb2F0MTY6VWludDE2QXJyYXksZmxvYXQ2NDpGbG9hdDY0QXJyYXksc3RyaW5nOkFycmF5LGludDg6SW50OEFycmF5LHVpbnQ4OlVpbnQ4QXJyYXksaW50MTY6SW50MTZBcnJheSx1aW50MTY6VWludDE2QXJyYXksaW50MzI6SW50MzJBcnJheSx1aW50MzI6VWludDMyQXJyYXksaW50NjQ6QmlnSW50NjRBcnJheSx1aW50NjQ6QmlnVWludDY0QXJyYXksYm9vbDpVaW50OEFycmF5fSk7Y2xhc3MgcmV7Z2V0IGRpbXMoKXtyZXR1cm4gdGhpcy5vcnRfdGVuc29yLmRpbXN9c2V0IGRpbXMoZSl7dGhpcy5vcnRfdGVuc29yLmRpbXM9ZX1nZXQgdHlwZSgpe3JldHVybiB0aGlzLm9ydF90ZW5zb3IudHlwZX1nZXQgZGF0YSgpe3JldHVybiB0aGlzLm9ydF90ZW5zb3IuZGF0YX1nZXQgc2l6ZSgpe3JldHVybiB0aGlzLm9ydF90ZW5zb3Iuc2l6ZX1vcnRfdGVuc29yO2NvbnN0cnVjdG9yKC4uLmUpe3JldHVybiBQaChlWzBdKT90aGlzLm9ydF90ZW5zb3I9ZVswXTp0aGlzLm9ydF90ZW5zb3I9bmV3IG4wKGVbMF0sZVsxXSxlWzJdKSxuZXcgUHJveHkodGhpcyx7Z2V0OihyLG4pPT57aWYodHlwZW9mIG49PSJzdHJpbmciKXtsZXQgYT1OdW1iZXIobik7aWYoTnVtYmVyLmlzSW50ZWdlcihhKSlyZXR1cm4gci5fZ2V0aXRlbShhKX1yZXR1cm4gcltuXX0sc2V0OihyLG4sYSk9PnJbbl09YX0pfWRpc3Bvc2UoKXt0aGlzLm9ydF90ZW5zb3IuZGlzcG9zZSgpfSpbU3ltYm9sLml0ZXJhdG9yXSgpe2NvbnN0W2UsLi4ucl09dGhpcy5kaW1zO2lmKHIubGVuZ3RoPjApe2NvbnN0IG49ci5yZWR1Y2UoKGEsaSk9PmEqaSk7Zm9yKGxldCBhPTA7YTxlOysrYSl5aWVsZCB0aGlzLl9zdWJhcnJheShhLG4scil9ZWxzZSB5aWVsZCp0aGlzLmRhdGF9X2dldGl0ZW0oZSl7Y29uc3RbciwuLi5uXT10aGlzLmRpbXM7aWYoZT1wcihlLHIpLG4ubGVuZ3RoPjApe2NvbnN0IGE9bi5yZWR1Y2UoKGkscyk9Pmkqcyk7cmV0dXJuIHRoaXMuX3N1YmFycmF5KGUsYSxuKX1lbHNlIHJldHVybiBuZXcgcmUodGhpcy50eXBlLFt0aGlzLmRhdGFbZV1dLG4pfWluZGV4T2YoZSl7Zm9yKGxldCByPTA7cjx0aGlzLmRhdGEubGVuZ3RoOysrcilpZih0aGlzLmRhdGFbcl09PWUpcmV0dXJuIHI7cmV0dXJuLTF9X3N1YmFycmF5KGUscixuKXtjb25zdCBhPWUqcixpPShlKzEpKnIscz0ic3ViYXJyYXkiaW4gdGhpcy5kYXRhP3RoaXMuZGF0YS5zdWJhcnJheShhLGkpOnRoaXMuZGF0YS5zbGljZShhLGkpO3JldHVybiBuZXcgcmUodGhpcy50eXBlLHMsbil9aXRlbSgpe2lmKHRoaXMuZGF0YS5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcihgYSBUZW5zb3Igd2l0aCAke3RoaXMuZGF0YS5sZW5ndGh9IGVsZW1lbnRzIGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gU2NhbGFyYCk7cmV0dXJuIHRoaXMuZGF0YVswXX10b2xpc3QoKXtyZXR1cm4gZDAodGhpcy5kYXRhLHRoaXMuZGltcyl9c2lnbW9pZCgpe3JldHVybiB0aGlzLmNsb25lKCkuc2lnbW9pZF8oKX1zaWdtb2lkXygpe2ZvcihsZXQgZT0wO2U8dGhpcy5kYXRhLmxlbmd0aDsrK2UpdGhpcy5kYXRhW2VdPTEvKDErTWF0aC5leHAoLXRoaXMuZGF0YVtlXSkpO3JldHVybiB0aGlzfW11bChlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLm11bF8oZSl9bXVsXyhlKXtmb3IobGV0IHI9MDtyPHRoaXMuZGF0YS5sZW5ndGg7KytyKXRoaXMuZGF0YVtyXSo9ZTtyZXR1cm4gdGhpc31hZGQoZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5hZGRfKGUpfWFkZF8oZSl7Zm9yKGxldCByPTA7cjx0aGlzLmRhdGEubGVuZ3RoOysrcil0aGlzLmRhdGFbcl0rPWU7cmV0dXJuIHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHJlKHRoaXMudHlwZSx0aGlzLmRhdGEuc2xpY2UoKSx0aGlzLmRpbXMuc2xpY2UoKSl9c2xpY2UoLi4uZSl7bGV0IHI9W10sbj1bXTtmb3IobGV0IGw9MDtsPHRoaXMuZGltcy5sZW5ndGg7KytsKXtsZXQgZD1lW2xdO2lmKGQ9PW51bGwpbi5wdXNoKFswLHRoaXMuZGltc1tsXV0pLHIucHVzaCh0aGlzLmRpbXNbbF0pO2Vsc2UgaWYodHlwZW9mIGQ9PSJudW1iZXIiKWQ9cHIoZCx0aGlzLmRpbXNbbF0sbCksbi5wdXNoKFtkLGQrMV0pO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShkKSYmZC5sZW5ndGg9PT0yKXtpZihkWzBdPmRbMV0pdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHNsaWNlOiAke2R9YCk7bGV0IGM9W01hdGgubWF4KGRbMF0sMCksTWF0aC5taW4oZFsxXSx0aGlzLmRpbXNbbF0pXTtuLnB1c2goYyksci5wdXNoKGNbMV0tY1swXSl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2xpY2U6ICR7ZH1gKX1sZXQgYT1uLm1hcCgoW2wsZF0pPT5kLWwpLGk9YS5yZWR1Y2UoKGwsZCk9PmwqZCkscz1uZXcgdGhpcy5kYXRhLmNvbnN0cnVjdG9yKGkpO2NvbnN0IG89dGhpcy5zdHJpZGUoKTtmb3IobGV0IGw9MDtsPGk7KytsKXtsZXQgZD0wO2ZvcihsZXQgYz1hLmxlbmd0aC0xLHU9bDtjPj0wOy0tYyl7Y29uc3QgaD1hW2NdO2QrPSh1JWgrbltjXVswXSkqb1tjXSx1PU1hdGguZmxvb3IodS9oKX1zW2xdPXRoaXMuZGF0YVtkXX1yZXR1cm4gbmV3IHJlKHRoaXMudHlwZSxzLHIpfXBlcm11dGUoLi4uZSl7cmV0dXJuIGMwKHRoaXMsZSl9dHJhbnNwb3NlKC4uLmUpe3JldHVybiB0aGlzLnBlcm11dGUoLi4uZSl9c3VtKGU9bnVsbCxyPSExKXtyZXR1cm4gdGhpcy5ub3JtKDEsZSxyKX1ub3JtKGU9ImZybyIscj1udWxsLG49ITEpe2lmKGU9PT0iZnJvIillPTI7ZWxzZSBpZih0eXBlb2YgZT09InN0cmluZyIpdGhyb3cgRXJyb3IoYFVuc3VwcG9ydGVkIG5vcm06ICR7ZX1gKTtpZihyPT09bnVsbCl7bGV0IHM9dGhpcy5kYXRhLnJlZHVjZSgobyxsKT0+bytsKiplLDApKiooMS9lKTtyZXR1cm4gbmV3IHJlKHRoaXMudHlwZSxbc10sW10pfXI9cHIocix0aGlzLmRpbXMubGVuZ3RoKTtjb25zdCBhPXRoaXMuZGltcy5zbGljZSgpO2Fbcl09MTtjb25zdCBpPW5ldyB0aGlzLmRhdGEuY29uc3RydWN0b3IodGhpcy5kYXRhLmxlbmd0aC90aGlzLmRpbXNbcl0pO2ZvcihsZXQgcz0wO3M8dGhpcy5kYXRhLmxlbmd0aDsrK3Mpe2xldCBvPTA7Zm9yKGxldCBsPXRoaXMuZGltcy5sZW5ndGgtMSxkPXMsYz0xO2w+PTA7LS1sKXtjb25zdCB1PXRoaXMuZGltc1tsXTtpZihsIT09cil7Y29uc3QgaD1kJXU7bys9aCpjLGMqPWFbbF19ZD1NYXRoLmZsb29yKGQvdSl9aVtvXSs9dGhpcy5kYXRhW3NdKiplfWlmKGUhPT0xKWZvcihsZXQgcz0wO3M8aS5sZW5ndGg7KytzKWlbc109aVtzXSoqKDEvZSk7cmV0dXJuIG58fGEuc3BsaWNlKHIsMSksbmV3IHJlKHRoaXMudHlwZSxpLGEpfW5vcm1hbGl6ZV8oZT0yLHI9MSl7cj1wcihyLHRoaXMuZGltcy5sZW5ndGgpO2NvbnN0IG49dGhpcy5ub3JtKGUsciwhMCk7Zm9yKGxldCBhPTA7YTx0aGlzLmRhdGEubGVuZ3RoOysrYSl7bGV0IGk9MDtmb3IobGV0IHM9dGhpcy5kaW1zLmxlbmd0aC0xLG89YSxsPTE7cz49MDstLXMpe2NvbnN0IGQ9dGhpcy5kaW1zW3NdO2lmKHMhPT1yKXtjb25zdCBjPW8lZDtpKz1jKmwsbCo9dGhpcy5kaW1zW3NdfW89TWF0aC5mbG9vcihvL2QpfXRoaXMuZGF0YVthXS89bi5kYXRhW2ldfXJldHVybiB0aGlzfW5vcm1hbGl6ZShlPTIscj0xKXtyZXR1cm4gdGhpcy5jbG9uZSgpLm5vcm1hbGl6ZV8oZSxyKX1zdHJpZGUoKXtyZXR1cm4gbTAodGhpcy5kaW1zKX1zcXVlZXplKGU9bnVsbCl7cmV0dXJuIG5ldyByZSh0aGlzLnR5cGUsdGhpcy5kYXRhLFVoKHRoaXMuZGltcyxlKSl9c3F1ZWV6ZV8oZT1udWxsKXtyZXR1cm4gdGhpcy5kaW1zPVVoKHRoaXMuZGltcyxlKSx0aGlzfXVuc3F1ZWV6ZShlPW51bGwpe3JldHVybiBuZXcgcmUodGhpcy50eXBlLHRoaXMuZGF0YSxXaCh0aGlzLmRpbXMsZSkpfXVuc3F1ZWV6ZV8oZT1udWxsKXtyZXR1cm4gdGhpcy5kaW1zPVdoKHRoaXMuZGltcyxlKSx0aGlzfWZsYXR0ZW5fKGU9MCxyPS0xKXtyPShyK3RoaXMuZGltcy5sZW5ndGgpJXRoaXMuZGltcy5sZW5ndGg7bGV0IG49dGhpcy5kaW1zLnNsaWNlKDAsZSksYT10aGlzLmRpbXMuc2xpY2UoZSxyKzEpLGk9dGhpcy5kaW1zLnNsaWNlKHIrMSk7cmV0dXJuIHRoaXMuZGltcz1bLi4ubixhLnJlZHVjZSgocyxvKT0+cypvLDEpLC4uLmldLHRoaXN9ZmxhdHRlbihlPTAscj0tMSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5mbGF0dGVuXyhlLHIpfXZpZXcoLi4uZSl7bGV0IHI9LTE7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDsrK24paWYoZVtuXT09PS0xKXtpZihyIT09LTEpdGhyb3cgbmV3IEVycm9yKCJPbmx5IG9uZSBkaW1lbnNpb24gY2FuIGJlIGluZmVycmVkIik7cj1ufWlmKHIhPT0tMSl7Y29uc3Qgbj1lLnJlZHVjZSgoYSxpLHMpPT5zIT09cj9hKmk6YSwxKTtlW3JdPXRoaXMuZGF0YS5sZW5ndGgvbn1yZXR1cm4gbmV3IHJlKHRoaXMudHlwZSx0aGlzLmRhdGEsZSl9bmVnXygpe2ZvcihsZXQgZT0wO2U8dGhpcy5kYXRhLmxlbmd0aDsrK2UpdGhpcy5kYXRhW2VdPS10aGlzLmRhdGFbZV07cmV0dXJuIHRoaXN9bmVnKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5uZWdfKCl9Y2xhbXBfKGUscil7Zm9yKGxldCBuPTA7bjx0aGlzLmRhdGEubGVuZ3RoOysrbil0aGlzLmRhdGFbbl09TWF0aC5taW4oTWF0aC5tYXgodGhpcy5kYXRhW25dLGUpLHIpO3JldHVybiB0aGlzfWNsYW1wKGUscil7cmV0dXJuIHRoaXMuY2xvbmUoKS5jbGFtcF8oZSxyKX1yb3VuZF8oKXtmb3IobGV0IGU9MDtlPHRoaXMuZGF0YS5sZW5ndGg7KytlKXRoaXMuZGF0YVtlXT1NYXRoLnJvdW5kKHRoaXMuZGF0YVtlXSk7cmV0dXJuIHRoaXN9cm91bmQoKXtyZXR1cm4gdGhpcy5jbG9uZSgpLnJvdW5kXygpfXRvKGUpe2lmKHRoaXMudHlwZT09PWUpcmV0dXJuIHRoaXM7aWYoIU5oLmhhc093blByb3BlcnR5KGUpKXRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgdHlwZTogJHtlfWApO3JldHVybiBuZXcgcmUoZSxOaFtlXS5mcm9tKHRoaXMuZGF0YSksdGhpcy5kaW1zKX19ZnVuY3Rpb24gZDAodCxlKXtjb25zdCByPXQubGVuZ3RoLG49ZS5yZWR1Y2UoKGkscyk9Pmkqcyk7aWYociE9PW4pdGhyb3cgRXJyb3IoYGNhbm5vdCByZXNoYXBlIGFycmF5IG9mIHNpemUgJHtyfSBpbnRvIHNoYXBlICgke2V9KWApO2xldCBhPXQ7Zm9yKGxldCBpPWUubGVuZ3RoLTE7aT49MDtpLS0pYT1hLnJlZHVjZSgocyxvKT0+e2xldCBsPXNbcy5sZW5ndGgtMV07cmV0dXJuIGwubGVuZ3RoPGVbaV0/bC5wdXNoKG8pOnMucHVzaChbb10pLHN9LFtbXV0pO3JldHVybiBhWzBdfWZ1bmN0aW9uIGMwKHQsZSl7Y29uc3RbcixuXT1DZyh0LmRhdGEsdC5kaW1zLGUpO3JldHVybiBuZXcgcmUodC50eXBlLHIsbil9ZnVuY3Rpb24gJG4odCxbZSxyXSxuPSJiaWxpbmVhciIsYT0hMSl7Y29uc3QgaT10LmRpbXMuYXQoLTMpPz8xLHM9dC5kaW1zLmF0KC0yKSxvPXQuZGltcy5hdCgtMSk7bGV0IGw9RWcodC5kYXRhLFtpLHMsb10sW2Uscl0sbixhKTtyZXR1cm4gbmV3IHJlKHQudHlwZSxsLFtpLGUscl0pfWZ1bmN0aW9uIHAwKHQsZSl7bGV0IHI9W3QuZGltc1swXSx0LmRpbXNbMl1dLG49bmV3IHQuZGF0YS5jb25zdHJ1Y3RvcihyWzBdKnJbMV0pLFthLGksc109dC5kaW1zLG89MDtmb3IobGV0IGw9MDtsPGE7KytsKXtsZXQgZD1sKnMqaTtmb3IobGV0IGM9MDtjPHM7KytjKXtsZXQgdT0wLGg9MCxmPWwqaSxnPWQrYztmb3IobGV0IHc9MDt3PGk7Kyt3KXtsZXQgdj1OdW1iZXIoZS5kYXRhW2Yrd10pO2grPXYsdSs9dC5kYXRhW2crdypzXSp2fWxldCB5PXUvaDtuW28rK109eX19cmV0dXJuIG5ldyByZSh0LnR5cGUsbixyKX1mdW5jdGlvbiBVaCh0LGUpe3JldHVybiB0PXQuc2xpY2UoKSxlPT09bnVsbD90PXQuZmlsdGVyKHI9PnIhPT0xKTp0eXBlb2YgZT09Im51bWJlciI/dFtlXT09PTEmJnQuc3BsaWNlKGUsMSk6QXJyYXkuaXNBcnJheShlKSYmKHQ9dC5maWx0ZXIoKHIsbik9PnIhPT0xfHwhZS5pbmNsdWRlcyhuKSkpLHR9ZnVuY3Rpb24gV2godCxlKXtyZXR1cm4gZT1wcihlLHQubGVuZ3RoKzEpLHQ9dC5zbGljZSgpLHQuc3BsaWNlKGUsMCwxKSx0fWZ1bmN0aW9uIHByKHQsZSxyPW51bGwpe2lmKHQ8LWV8fHQ+PWUpdGhyb3cgbmV3IEVycm9yKGBJbmRleEVycm9yOiBpbmRleCAke3R9IGlzIG91dCBvZiBib3VuZHMgZm9yIGRpbWVuc2lvbiR7cj09PW51bGw/IiI6IiAiK3J9IHdpdGggc2l6ZSAke2V9YCk7cmV0dXJuIHQ8MCYmKHQ9KHQlZStlKSVlKSx0fWZ1bmN0aW9uIERhKHQsZT0wKXtlPXByKGUsdFswXS5kaW1zLmxlbmd0aCk7Y29uc3Qgcj10WzBdLmRpbXMuc2xpY2UoKTtyW2VdPXQucmVkdWNlKChzLG8pPT5zK28uZGltc1tlXSwwKTtjb25zdCBuPXIucmVkdWNlKChzLG8pPT5zKm8sMSksYT1uZXcgdFswXS5kYXRhLmNvbnN0cnVjdG9yKG4pLGk9dFswXS50eXBlO2lmKGU9PT0wKXtsZXQgcz0wO2ZvcihsZXQgbyBvZiB0KWEuc2V0KG8uZGF0YSxzKSxzKz1vLmRhdGEubGVuZ3RofWVsc2V7bGV0IHM9MDtmb3IobGV0IG89MDtvPHQubGVuZ3RoOysrbyl7bGV0IGw9dFtvXTtmb3IobGV0IGQ9MDtkPGwuZGF0YS5sZW5ndGg7KytkKXtsZXQgYz0wO2ZvcihsZXQgdT1sLmRpbXMubGVuZ3RoLTEsaD1kLGY9MTt1Pj0wOy0tdSl7Y29uc3QgZz1sLmRpbXNbdV07bGV0IHk9aCVnO3U9PT1lJiYoeSs9cyksYys9eSpmLGYqPXJbdV0saD1NYXRoLmZsb29yKGgvZyl9YVtjXT1sLmRhdGFbZF19cys9bC5kaW1zW2VdfX1yZXR1cm4gbmV3IHJlKGksYSxyKX1mdW5jdGlvbiBQYSh0LGU9MCl7cmV0dXJuIERhKHQubWFwKHI9PnIudW5zcXVlZXplKGUpKSxlKX1mdW5jdGlvbiBoMCh0LGU9bnVsbCxyPTEsbj0hMSl7aWYoZT09PW51bGwpe2NvbnN0IG89dC5kYXRhLnJlZHVjZSgoYyx1KT0+Yyt1LDApL3QuZGF0YS5sZW5ndGgsbD1NYXRoLnNxcnQodC5kYXRhLnJlZHVjZSgoYyx1KT0+YysodS1vKSoqMiwwKS8odC5kYXRhLmxlbmd0aC1yKSksZD1uZXcgcmUodC50eXBlLFtvXSxbXSk7cmV0dXJuW25ldyByZSh0LnR5cGUsW2xdLFtdKSxkXX1lPXByKGUsdC5kaW1zLmxlbmd0aCk7Y29uc3QgYT1MaCh0LGUsbiksaT10LmRpbXMuc2xpY2UoKTtpW2VdPTE7Y29uc3Qgcz1uZXcgdC5kYXRhLmNvbnN0cnVjdG9yKHQuZGF0YS5sZW5ndGgvdC5kaW1zW2VdKTtmb3IobGV0IG89MDtvPHQuZGF0YS5sZW5ndGg7KytvKXtsZXQgbD0wO2ZvcihsZXQgZD10LmRpbXMubGVuZ3RoLTEsYz1vLHU9MTtkPj0wOy0tZCl7Y29uc3QgaD10LmRpbXNbZF07aWYoZCE9PWUpe2NvbnN0IGY9YyVoO2wrPWYqdSx1Kj1pW2RdfWM9TWF0aC5mbG9vcihjL2gpfXNbbF0rPSh0LmRhdGFbb10tYS5kYXRhW2xdKSoqMn1mb3IobGV0IG89MDtvPHMubGVuZ3RoOysrbylzW29dPU1hdGguc3FydChzW29dLyh0LmRpbXNbZV0tcikpO3JldHVybiBufHxpLnNwbGljZShlLDEpLFtuZXcgcmUodC50eXBlLHMsaSksYV19ZnVuY3Rpb24gTGgodCxlPW51bGwscj0hMSl7aWYoZT09PW51bGwpe2xldCBpPXQuZGF0YS5yZWR1Y2UoKHMsbyk9PnMrbywwKTtyZXR1cm4gbmV3IHJlKHQudHlwZSxbaS90LmRhdGEubGVuZ3RoXSxbXSl9ZT1wcihlLHQuZGltcy5sZW5ndGgpO2NvbnN0IG49dC5kaW1zLnNsaWNlKCk7bltlXT0xO2NvbnN0IGE9bmV3IHQuZGF0YS5jb25zdHJ1Y3Rvcih0LmRhdGEubGVuZ3RoL3QuZGltc1tlXSk7Zm9yKGxldCBpPTA7aTx0LmRhdGEubGVuZ3RoOysraSl7bGV0IHM9MDtmb3IobGV0IG89dC5kaW1zLmxlbmd0aC0xLGw9aSxkPTE7bz49MDstLW8pe2NvbnN0IGM9dC5kaW1zW29dO2lmKG8hPT1lKXtjb25zdCB1PWwlYztzKz11KmQsZCo9bltvXX1sPU1hdGguZmxvb3IobC9jKX1hW3NdKz10LmRhdGFbaV19aWYodC5kaW1zW2VdIT09MSlmb3IobGV0IGk9MDtpPGEubGVuZ3RoOysraSlhW2ldPWFbaV0vdC5kaW1zW2VdO3JldHVybiByfHxuLnNwbGljZShlLDEpLG5ldyByZSh0LnR5cGUsYSxuKX1mdW5jdGlvbiBmMCh0KXtjb25zdFtlLHJdPXQuZGltcyxuPVtlKzEscisxXSxhPW5ldyByZSgiZmxvYXQzMiIsbmV3IEZsb2F0MzJBcnJheShuWzBdKm5bMV0pLmZpbGwoMS8wKSxuKSxpPW5ldyByZSgiZmxvYXQzMiIsbmV3IEZsb2F0MzJBcnJheShuWzBdKm5bMV0pLmZpbGwoLTEpLG4pO2FbMF0uZGF0YVswXT0wO2ZvcihsZXQgYz0xO2M8cisxOysrYylmb3IobGV0IHU9MTt1PGUrMTsrK3Upe2NvbnN0IGg9YVt1LTFdW2MtMV0uaXRlbSgpLGY9YVt1LTFdW2NdLml0ZW0oKSxnPWFbdV1bYy0xXS5pdGVtKCk7bGV0IHksdztoPGYmJmg8Zz8oeT1oLHc9MCk6ZjxoJiZmPGc/KHk9Zix3PTEpOih5PWcsdz0yKSxhW3VdLmRhdGFbY109dFt1LTFdW2MtMV0uaXRlbSgpK3ksaVt1XS5kYXRhW2NdPXd9bGV0IHM9ZSxvPXI7aS5kYXRhLmZpbGwoMiwwLG5bMV0pO2ZvcihsZXQgYz0wO2M8blswXTsrK2MpaVtjXS5kYXRhWzBdPTE7bGV0IGw9W10sZD1bXTtmb3IoO3M+MHx8bz4wOylzd2l0Y2gobC5wdXNoKHMtMSksZC5wdXNoKG8tMSksaVtzXVtvXS5pdGVtKCkpe2Nhc2UgMDotLXMsLS1vO2JyZWFrO2Nhc2UgMTotLXM7YnJlYWs7Y2FzZSAyOi0tbzticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgSW50ZXJuYWwgZXJyb3IgaW4gZHluYW1pYyB0aW1lIHdhcnBpbmcuIFVuZXhwZWN0ZWQgdHJhY2VbJHtzfSwgJHtvfV0uIFBsZWFzZSBmaWxlIGEgYnVnIHJlcG9ydC5gKX1yZXR1cm4gbC5yZXZlcnNlKCksZC5yZXZlcnNlKCksW2wsZF19ZnVuY3Rpb24gbTAodCl7Y29uc3QgZT1uZXcgQXJyYXkodC5sZW5ndGgpO2ZvcihsZXQgcj10Lmxlbmd0aC0xLG49MTtyPj0wOy0tcillW3JdPW4sbio9dFtyXTtyZXR1cm4gZX1mdW5jdGlvbiBnMCh0KXtjb25zdCBlPXQucmVkdWNlKChyLG4pPT5yKm4sMSk7cmV0dXJuIG5ldyByZSgiaW50NjQiLG5ldyBCaWdJbnQ2NEFycmF5KGUpLmZpbGwoMW4pLHQpfWZ1bmN0aW9uIF8wKHQpe3JldHVybiBnMCh0LmRpbXMpfWNsYXNzIHkwe2NvbnN0cnVjdG9yKGU9KHIsbik9PnI+bil7dGhpcy5faGVhcD1bXSx0aGlzLl9jb21wYXJhdG9yPWV9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5faGVhcC5sZW5ndGh9aXNFbXB0eSgpe3JldHVybiB0aGlzLnNpemU9PT0wfXBlZWsoKXtyZXR1cm4gdGhpcy5faGVhcFswXX1wdXNoKC4uLmUpe3JldHVybiB0aGlzLmV4dGVuZChlKX1leHRlbmQoZSl7Zm9yKGNvbnN0IHIgb2YgZSl0aGlzLl9oZWFwLnB1c2gociksdGhpcy5fc2lmdFVwKCk7cmV0dXJuIHRoaXMuc2l6ZX1wb3AoKXtjb25zdCBlPXRoaXMucGVlaygpLHI9dGhpcy5zaXplLTE7cmV0dXJuIHI+MCYmdGhpcy5fc3dhcCgwLHIpLHRoaXMuX2hlYXAucG9wKCksdGhpcy5fc2lmdERvd24oKSxlfXJlcGxhY2UoZSl7Y29uc3Qgcj10aGlzLnBlZWsoKTtyZXR1cm4gdGhpcy5faGVhcFswXT1lLHRoaXMuX3NpZnREb3duKCkscn1fcGFyZW50KGUpe3JldHVybihlKzE+Pj4xKS0xfV9sZWZ0KGUpe3JldHVybihlPDwxKSsxfV9yaWdodChlKXtyZXR1cm4gZSsxPDwxfV9ncmVhdGVyKGUscil7cmV0dXJuIHRoaXMuX2NvbXBhcmF0b3IodGhpcy5faGVhcFtlXSx0aGlzLl9oZWFwW3JdKX1fc3dhcChlLHIpe2NvbnN0IG49dGhpcy5faGVhcFtlXTt0aGlzLl9oZWFwW2VdPXRoaXMuX2hlYXBbcl0sdGhpcy5faGVhcFtyXT1ufV9zaWZ0VXAoKXtsZXQgZT10aGlzLnNpemUtMTtmb3IoO2U+MCYmdGhpcy5fZ3JlYXRlcihlLHRoaXMuX3BhcmVudChlKSk7KXRoaXMuX3N3YXAoZSx0aGlzLl9wYXJlbnQoZSkpLGU9dGhpcy5fcGFyZW50KGUpfV9zaWZ0RG93bigpe2xldCBlPTA7Zm9yKDt0aGlzLl9sZWZ0KGUpPHRoaXMuc2l6ZSYmdGhpcy5fZ3JlYXRlcih0aGlzLl9sZWZ0KGUpLGUpfHx0aGlzLl9yaWdodChlKTx0aGlzLnNpemUmJnRoaXMuX2dyZWF0ZXIodGhpcy5fcmlnaHQoZSksZSk7KXtjb25zdCByPXRoaXMuX3JpZ2h0KGUpPHRoaXMuc2l6ZSYmdGhpcy5fZ3JlYXRlcih0aGlzLl9yaWdodChlKSx0aGlzLl9sZWZ0KGUpKT90aGlzLl9yaWdodChlKTp0aGlzLl9sZWZ0KGUpO3RoaXMuX3N3YXAoZSxyKSxlPXJ9fX1jbGFzcyB3MHtjb25zdHJ1Y3Rvcigpe3RoaXMucm9vdD1OYS5kZWZhdWx0KCl9ZXh0ZW5kKGUpe2ZvcihsZXQgciBvZiBlKXRoaXMucHVzaChyKX1wdXNoKGUpe2xldCByPXRoaXMucm9vdDtmb3IobGV0IG4gb2YgZSl7bGV0IGE9ci5jaGlsZHJlbi5nZXQobik7YT09PXZvaWQgMCYmKGE9TmEuZGVmYXVsdCgpLHIuY2hpbGRyZW4uc2V0KG4sYSkpLHI9YX1yLmlzTGVhZj0hMH0qY29tbW9uUHJlZml4U2VhcmNoKGUpe2xldCByPXRoaXMucm9vdCxuPSIiO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGgmJnIhPT12b2lkIDA7KythKXtjb25zdCBpPWVbYV07bis9aSxyPXIuY2hpbGRyZW4uZ2V0KGkpLHIhPT12b2lkIDAmJnIuaXNMZWFmJiYoeWllbGQgbil9fX1jbGFzcyBOYXtjb25zdHJ1Y3RvcihlLHIpe3RoaXMuaXNMZWFmPWUsdGhpcy5jaGlsZHJlbj1yfXN0YXRpYyBkZWZhdWx0KCl7cmV0dXJuIG5ldyBOYSghMSxuZXcgTWFwKX19Y2xhc3MgdjB7Y29uc3RydWN0b3IoZSxyLG4pe3RoaXMuc2VudGVuY2U9ZSx0aGlzLmxlbj1lLmxlbmd0aCx0aGlzLmJvc1Rva2VuSWQ9cix0aGlzLmVvc1Rva2VuSWQ9bix0aGlzLm5vZGVzPVtdLHRoaXMuYmVnaW5Ob2Rlcz1BcnJheS5mcm9tKHtsZW5ndGg6dGhpcy5sZW4rMX0sKCk9PltdKSx0aGlzLmVuZE5vZGVzPUFycmF5LmZyb20oe2xlbmd0aDp0aGlzLmxlbisxfSwoKT0+W10pO2NvbnN0IGE9bmV3IHhuKHRoaXMuYm9zVG9rZW5JZCwwLDAsMCwwKSxpPW5ldyB4bih0aGlzLmVvc1Rva2VuSWQsMSx0aGlzLmxlbiwwLDApO3RoaXMubm9kZXMucHVzaChhLmNsb25lKCkpLHRoaXMubm9kZXMucHVzaChpLmNsb25lKCkpLHRoaXMuYmVnaW5Ob2Rlc1t0aGlzLmxlbl0ucHVzaChpKSx0aGlzLmVuZE5vZGVzWzBdLnB1c2goYSl9aW5zZXJ0KGUscixuLGEpe2NvbnN0IGk9dGhpcy5ub2Rlcy5sZW5ndGgscz1uZXcgeG4oYSxpLGUscixuKTt0aGlzLmJlZ2luTm9kZXNbZV0ucHVzaChzKSx0aGlzLmVuZE5vZGVzW2Urcl0ucHVzaChzKSx0aGlzLm5vZGVzLnB1c2gocyl9dml0ZXJiaSgpe2NvbnN0IGU9dGhpcy5sZW47bGV0IHI9MDtmb3IoO3I8PWU7KXtpZih0aGlzLmJlZ2luTm9kZXNbcl0ubGVuZ3RoPT0wKXJldHVybltdO2ZvcihsZXQgcyBvZiB0aGlzLmJlZ2luTm9kZXNbcl0pe3MucHJldj1udWxsO2xldCBvPTAsbD1udWxsO2ZvcihsZXQgZCBvZiB0aGlzLmVuZE5vZGVzW3JdKXtjb25zdCBjPWQuYmFja3RyYWNlU2NvcmUrcy5zY29yZTsobD09PW51bGx8fGM+bykmJihsPWQuY2xvbmUoKSxvPWMpfWlmKGwhPT1udWxsKXMucHJldj1sLHMuYmFja3RyYWNlU2NvcmU9bztlbHNlIHJldHVybltdfSsrcn1jb25zdCBuPVtdLGE9dGhpcy5iZWdpbk5vZGVzW2VdWzBdLnByZXY7aWYoYT09PW51bGwpcmV0dXJuW107bGV0IGk9YS5jbG9uZSgpO2Zvcig7aS5wcmV2IT09bnVsbDspbi5wdXNoKGkuY2xvbmUoKSksaT1pLmNsb25lKCkucHJldi5jbG9uZSgpO3JldHVybiBuLnJldmVyc2UoKSxufXBpZWNlKGUpe3JldHVybiB0aGlzLnNlbnRlbmNlLnNsaWNlKGUucG9zLGUucG9zK2UubGVuZ3RoKX10b2tlbnMoKXtyZXR1cm4gdGhpcy52aXRlcmJpKCkubWFwKGU9PnRoaXMucGllY2UoZSkpfXRva2VuSWRzKCl7cmV0dXJuIHRoaXMudml0ZXJiaSgpLm1hcChlPT5lLnRva2VuSWQpfX1jbGFzcyB4bntjb25zdHJ1Y3RvcihlLHIsbixhLGkpe3RoaXMudG9rZW5JZD1lLHRoaXMubm9kZUlkPXIsdGhpcy5wb3M9bix0aGlzLmxlbmd0aD1hLHRoaXMuc2NvcmU9aSx0aGlzLnByZXY9bnVsbCx0aGlzLmJhY2t0cmFjZVNjb3JlPTB9Y2xvbmUoKXtjb25zdCBlPW5ldyB4bih0aGlzLnRva2VuSWQsdGhpcy5ub2RlSWQsdGhpcy5wb3MsdGhpcy5sZW5ndGgsdGhpcy5zY29yZSk7cmV0dXJuIGUucHJldj10aGlzLnByZXYsZS5iYWNrdHJhY2VTY29yZT10aGlzLmJhY2t0cmFjZVNjb3JlLGV9fXZhciBOPU9iamVjdC5mcmVlemUoe1RleHQ6IlRleHQiLE51bWVyaWNMaXRlcmFsOiJOdW1lcmljTGl0ZXJhbCIsQm9vbGVhbkxpdGVyYWw6IkJvb2xlYW5MaXRlcmFsIixTdHJpbmdMaXRlcmFsOiJTdHJpbmdMaXRlcmFsIixJZGVudGlmaWVyOiJJZGVudGlmaWVyIixFcXVhbHM6IkVxdWFscyIsT3BlblBhcmVuOiJPcGVuUGFyZW4iLENsb3NlUGFyZW46IkNsb3NlUGFyZW4iLE9wZW5TdGF0ZW1lbnQ6Ik9wZW5TdGF0ZW1lbnQiLENsb3NlU3RhdGVtZW50OiJDbG9zZVN0YXRlbWVudCIsT3BlbkV4cHJlc3Npb246Ik9wZW5FeHByZXNzaW9uIixDbG9zZUV4cHJlc3Npb246IkNsb3NlRXhwcmVzc2lvbiIsT3BlblNxdWFyZUJyYWNrZXQ6Ik9wZW5TcXVhcmVCcmFja2V0IixDbG9zZVNxdWFyZUJyYWNrZXQ6IkNsb3NlU3F1YXJlQnJhY2tldCIsT3BlbkN1cmx5QnJhY2tldDoiT3BlbkN1cmx5QnJhY2tldCIsQ2xvc2VDdXJseUJyYWNrZXQ6IkNsb3NlQ3VybHlCcmFja2V0IixDb21tYToiQ29tbWEiLERvdDoiRG90IixDb2xvbjoiQ29sb24iLFBpcGU6IlBpcGUiLENhbGxPcGVyYXRvcjoiQ2FsbE9wZXJhdG9yIixBZGRpdGl2ZUJpbmFyeU9wZXJhdG9yOiJBZGRpdGl2ZUJpbmFyeU9wZXJhdG9yIixNdWx0aXBsaWNhdGl2ZUJpbmFyeU9wZXJhdG9yOiJNdWx0aXBsaWNhdGl2ZUJpbmFyeU9wZXJhdG9yIixDb21wYXJpc29uQmluYXJ5T3BlcmF0b3I6IkNvbXBhcmlzb25CaW5hcnlPcGVyYXRvciIsVW5hcnlPcGVyYXRvcjoiVW5hcnlPcGVyYXRvciIsU2V0OiJTZXQiLElmOiJJZiIsRm9yOiJGb3IiLEluOiJJbiIsSXM6IklzIixOb3RJbjoiTm90SW4iLEVsc2U6IkVsc2UiLEVuZElmOiJFbmRJZiIsRWxzZUlmOiJFbHNlSWYiLEVuZEZvcjoiRW5kRm9yIixBbmQ6IkFuZCIsT3I6Ik9yIixOb3Q6IlVuYXJ5T3BlcmF0b3IifSksRmg9T2JqZWN0LmZyZWV6ZSh7c2V0Ok4uU2V0LGZvcjpOLkZvcixpbjpOLkluLGlzOk4uSXMsaWY6Ti5JZixlbHNlOk4uRWxzZSxlbmRpZjpOLkVuZElmLGVsaWY6Ti5FbHNlSWYsZW5kZm9yOk4uRW5kRm9yLGFuZDpOLkFuZCxvcjpOLk9yLG5vdDpOLk5vdCwibm90IGluIjpOLk5vdEluLHRydWU6Ti5Cb29sZWFuTGl0ZXJhbCxmYWxzZTpOLkJvb2xlYW5MaXRlcmFsfSksU3I9Y2xhc3N7Y29uc3RydWN0b3IodCxlKXt0aGlzLnZhbHVlPXQsdGhpcy50eXBlPWV9fTtmdW5jdGlvbiBWaCh0KXtyZXR1cm4vXHcvLnRlc3QodCl9ZnVuY3Rpb24gTHModCl7cmV0dXJuL1swLTldLy50ZXN0KHQpfXZhciBiMD1bWyJ7JSIsTi5PcGVuU3RhdGVtZW50XSxbIiV9IixOLkNsb3NlU3RhdGVtZW50XSxbInt7IixOLk9wZW5FeHByZXNzaW9uXSxbIn19IixOLkNsb3NlRXhwcmVzc2lvbl0sWyIoIixOLk9wZW5QYXJlbl0sWyIpIixOLkNsb3NlUGFyZW5dLFsieyIsTi5PcGVuQ3VybHlCcmFja2V0XSxbIn0iLE4uQ2xvc2VDdXJseUJyYWNrZXRdLFsiWyIsTi5PcGVuU3F1YXJlQnJhY2tldF0sWyJdIixOLkNsb3NlU3F1YXJlQnJhY2tldF0sWyIsIixOLkNvbW1hXSxbIi4iLE4uRG90XSxbIjoiLE4uQ29sb25dLFsifCIsTi5QaXBlXSxbIjw9IixOLkNvbXBhcmlzb25CaW5hcnlPcGVyYXRvcl0sWyI+PSIsTi5Db21wYXJpc29uQmluYXJ5T3BlcmF0b3JdLFsiPT0iLE4uQ29tcGFyaXNvbkJpbmFyeU9wZXJhdG9yXSxbIiE9IixOLkNvbXBhcmlzb25CaW5hcnlPcGVyYXRvcl0sWyI8IixOLkNvbXBhcmlzb25CaW5hcnlPcGVyYXRvcl0sWyI+IixOLkNvbXBhcmlzb25CaW5hcnlPcGVyYXRvcl0sWyIrIixOLkFkZGl0aXZlQmluYXJ5T3BlcmF0b3JdLFsiLSIsTi5BZGRpdGl2ZUJpbmFyeU9wZXJhdG9yXSxbIioiLE4uTXVsdGlwbGljYXRpdmVCaW5hcnlPcGVyYXRvcl0sWyIvIixOLk11bHRpcGxpY2F0aXZlQmluYXJ5T3BlcmF0b3JdLFsiJSIsTi5NdWx0aXBsaWNhdGl2ZUJpbmFyeU9wZXJhdG9yXSxbIj0iLE4uRXF1YWxzXV0sJDA9bmV3IE1hcChbWyJuIixgCmBdLFsidCIsIgkiXSxbInIiLCJcciJdLFsiYiIsIlxiIl0sWyJmIiwiXGYiXSxbInYiLCJcdiJdLFsiJyIsIiciXSxbJyInLCciJ10sWyJcXCIsIlxcIl1dKTtmdW5jdGlvbiB4MCh0LGU9e30pe3JldHVybiB0LmVuZHNXaXRoKGAKYCkmJih0PXQuc2xpY2UoMCwtMSkpLHQ9dC5yZXBsYWNlKC97Iy4qPyN9L2dzLCJ7IyN9IiksZS5sc3RyaXBfYmxvY2tzJiYodD10LnJlcGxhY2UoL15bIFx0XSooe1sjJV0pL2dtLCIkMSIpKSxlLnRyaW1fYmxvY2tzJiYodD10LnJlcGxhY2UoLyhbIyVdfSlcbi9nLCIkMSIpKSx0LnJlcGxhY2UoL3sjI30vZywiIikucmVwbGFjZSgvLSV9XHMqL2csIiV9IikucmVwbGFjZSgvXHMqeyUtL2csInslIikucmVwbGFjZSgvLX19XHMqL2csIn19IikucmVwbGFjZSgvXHMqe3stL2csInt7Iil9ZnVuY3Rpb24gazAodCxlPXt9KXtjb25zdCByPVtdLG49eDAodCxlKTtsZXQgYT0wO2NvbnN0IGk9cz0+e2xldCBvPSIiO2Zvcig7cyhuW2FdKTspe2lmKG5bYV09PT0iXFwiKXtpZigrK2EsYT49bi5sZW5ndGgpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJVbmV4cGVjdGVkIGVuZCBvZiBpbnB1dCIpO2NvbnN0IGw9blthKytdLGQ9JDAuZ2V0KGwpO2lmKGQ9PT12b2lkIDApdGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIGVzY2FwZWQgY2hhcmFjdGVyOiAke2x9YCk7bys9ZDtjb250aW51ZX1pZihvKz1uW2ErK10sYT49bi5sZW5ndGgpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJVbmV4cGVjdGVkIGVuZCBvZiBpbnB1dCIpfXJldHVybiBvfTtlOmZvcig7YTxuLmxlbmd0aDspe2NvbnN0IHM9ci5hdCgtMSk/LnR5cGU7aWYocz09PXZvaWQgMHx8cz09PU4uQ2xvc2VTdGF0ZW1lbnR8fHM9PT1OLkNsb3NlRXhwcmVzc2lvbil7bGV0IGw9IiI7Zm9yKDthPG4ubGVuZ3RoJiYhKG5bYV09PT0ieyImJihuW2ErMV09PT0iJSJ8fG5bYSsxXT09PSJ7IikpOylsKz1uW2ErK107aWYobC5sZW5ndGg+MCl7ci5wdXNoKG5ldyBTcihsLE4uVGV4dCkpO2NvbnRpbnVlfX1pKGw9Pi9ccy8udGVzdChsKSk7Y29uc3Qgbz1uW2FdO2lmKG89PT0iLSJ8fG89PT0iKyIpe2NvbnN0IGw9ci5hdCgtMSk/LnR5cGU7aWYobD09PU4uVGV4dHx8bD09PXZvaWQgMCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyOiAke299YCk7c3dpdGNoKGwpe2Nhc2UgTi5JZGVudGlmaWVyOmNhc2UgTi5OdW1lcmljTGl0ZXJhbDpjYXNlIE4uQm9vbGVhbkxpdGVyYWw6Y2FzZSBOLlN0cmluZ0xpdGVyYWw6Y2FzZSBOLkNsb3NlUGFyZW46Y2FzZSBOLkNsb3NlU3F1YXJlQnJhY2tldDpicmVhaztkZWZhdWx0OnsrK2E7Y29uc3QgZD1pKExzKTtyLnB1c2gobmV3IFNyKGAke299JHtkfWAsZC5sZW5ndGg+MD9OLk51bWVyaWNMaXRlcmFsOk4uVW5hcnlPcGVyYXRvcikpO2NvbnRpbnVlfX19Zm9yKGNvbnN0W2wsZF1vZiBiMClpZihuLnNsaWNlKGEsYStsLmxlbmd0aCk9PT1sKXtyLnB1c2gobmV3IFNyKGwsZCkpLGErPWwubGVuZ3RoO2NvbnRpbnVlIGV9aWYobz09PSInInx8bz09PSciJyl7KythO2NvbnN0IGw9aShkPT5kIT09byk7ci5wdXNoKG5ldyBTcihsLE4uU3RyaW5nTGl0ZXJhbCkpLCsrYTtjb250aW51ZX1pZihMcyhvKSl7Y29uc3QgbD1pKExzKTtyLnB1c2gobmV3IFNyKGwsTi5OdW1lcmljTGl0ZXJhbCkpO2NvbnRpbnVlfWlmKFZoKG8pKXtjb25zdCBsPWkoVmgpLGQ9T2JqZWN0Lmhhc093bihGaCxsKT9GaFtsXTpOLklkZW50aWZpZXI7ZD09PU4uSW4mJnIuYXQoLTEpPy50eXBlPT09Ti5Ob3Q/KHIucG9wKCksci5wdXNoKG5ldyBTcigibm90IGluIixOLk5vdEluKSkpOnIucHVzaChuZXcgU3IobCxkKSk7Y29udGludWV9dGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlcjogJHtvfWApfXJldHVybiByfXZhciBrbj1jbGFzc3t0eXBlPSJTdGF0ZW1lbnQifSxTMD1jbGFzcyBleHRlbmRzIGtue2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5ib2R5PXR9dHlwZT0iUHJvZ3JhbSJ9LEhoPWNsYXNzIGV4dGVuZHMga257Y29uc3RydWN0b3IodCxlLHIpe3N1cGVyKCksdGhpcy50ZXN0PXQsdGhpcy5ib2R5PWUsdGhpcy5hbHRlcm5hdGU9cn10eXBlPSJJZiJ9LEUwPWNsYXNzIGV4dGVuZHMga257Y29uc3RydWN0b3IodCxlLHIpe3N1cGVyKCksdGhpcy5sb29wdmFyPXQsdGhpcy5pdGVyYWJsZT1lLHRoaXMuYm9keT1yfXR5cGU9IkZvciJ9LEMwPWNsYXNzIGV4dGVuZHMga257Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMuYXNzaWduZWU9dCx0aGlzLnZhbHVlPWV9dHlwZT0iU2V0In0sWHQ9Y2xhc3MgZXh0ZW5kcyBrbnt0eXBlPSJFeHByZXNzaW9uIn0sSTA9Y2xhc3MgZXh0ZW5kcyBYdHtjb25zdHJ1Y3Rvcih0LGUscil7c3VwZXIoKSx0aGlzLm9iamVjdD10LHRoaXMucHJvcGVydHk9ZSx0aGlzLmNvbXB1dGVkPXJ9dHlwZT0iTWVtYmVyRXhwcmVzc2lvbiJ9LEEwPWNsYXNzIGV4dGVuZHMgWHR7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMuY2FsbGVlPXQsdGhpcy5hcmdzPWV9dHlwZT0iQ2FsbEV4cHJlc3Npb24ifSxHcj1jbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy52YWx1ZT10fXR5cGU9IklkZW50aWZpZXIifSxxcj1jbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy52YWx1ZT10fXR5cGU9IkxpdGVyYWwifSxUMD1jbGFzcyBleHRlbmRzIHFye3R5cGU9Ik51bWVyaWNMaXRlcmFsIn0sR2g9Y2xhc3MgZXh0ZW5kcyBxcnt0eXBlPSJTdHJpbmdMaXRlcmFsIn0scWg9Y2xhc3MgZXh0ZW5kcyBxcnt0eXBlPSJCb29sZWFuTGl0ZXJhbCJ9LE8wPWNsYXNzIGV4dGVuZHMgcXJ7dHlwZT0iQXJyYXlMaXRlcmFsIn0samg9Y2xhc3MgZXh0ZW5kcyBxcnt0eXBlPSJUdXBsZUxpdGVyYWwifSxNMD1jbGFzcyBleHRlbmRzIHFye3R5cGU9Ik9iamVjdExpdGVyYWwifSxTbj1jbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKHQsZSxyKXtzdXBlcigpLHRoaXMub3BlcmF0b3I9dCx0aGlzLmxlZnQ9ZSx0aGlzLnJpZ2h0PXJ9dHlwZT0iQmluYXJ5RXhwcmVzc2lvbiJ9LHowPWNsYXNzIGV4dGVuZHMgWHR7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMub3BlcmFuZD10LHRoaXMuZmlsdGVyPWV9dHlwZT0iRmlsdGVyRXhwcmVzc2lvbiJ9LEIwPWNsYXNzIGV4dGVuZHMgWHR7Y29uc3RydWN0b3IodCxlLHIpe3N1cGVyKCksdGhpcy5vcGVyYW5kPXQsdGhpcy5uZWdhdGU9ZSx0aGlzLnRlc3Q9cn10eXBlPSJUZXN0RXhwcmVzc2lvbiJ9LFIwPWNsYXNzIGV4dGVuZHMgWHR7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMub3BlcmF0b3I9dCx0aGlzLmFyZ3VtZW50PWV9dHlwZT0iVW5hcnlFeHByZXNzaW9uIn0sRDA9Y2xhc3MgZXh0ZW5kcyBYdHtjb25zdHJ1Y3Rvcih0PXZvaWQgMCxlPXZvaWQgMCxyPXZvaWQgMCl7c3VwZXIoKSx0aGlzLnN0YXJ0PXQsdGhpcy5zdG9wPWUsdGhpcy5zdGVwPXJ9dHlwZT0iU2xpY2VFeHByZXNzaW9uIn0sUDA9Y2xhc3MgZXh0ZW5kcyBYdHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5rZXk9dCx0aGlzLnZhbHVlPWV9dHlwZT0iS2V5d29yZEFyZ3VtZW50RXhwcmVzc2lvbiJ9O2Z1bmN0aW9uIE4wKHQpe2NvbnN0IGU9bmV3IFMwKFtdKTtsZXQgcj0wO2Z1bmN0aW9uIG4oRCxMKXtjb25zdCBWPXRbcisrXTtpZighVnx8Vi50eXBlIT09RCl0aHJvdyBuZXcgRXJyb3IoYFBhcnNlciBFcnJvcjogJHtMfS4gJHtWLnR5cGV9ICE9PSAke0R9LmApO3JldHVybiBWfWZ1bmN0aW9uIGEoKXtzd2l0Y2godFtyXS50eXBlKXtjYXNlIE4uVGV4dDpyZXR1cm4gbygpO2Nhc2UgTi5PcGVuU3RhdGVtZW50OnJldHVybiBsKCk7Y2FzZSBOLk9wZW5FeHByZXNzaW9uOnJldHVybiBkKCk7ZGVmYXVsdDp0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgdG9rZW4gdHlwZTogJHt0W3JdLnR5cGV9YCl9fWZ1bmN0aW9uIGkoLi4uRCl7cmV0dXJuIHIrRC5sZW5ndGg8PXQubGVuZ3RoJiZELnNvbWUoKEwsVik9PkwhPT10W3IrVl0udHlwZSl9ZnVuY3Rpb24gcyguLi5EKXtyZXR1cm4gcitELmxlbmd0aDw9dC5sZW5ndGgmJkQuZXZlcnkoKEwsVik9Pkw9PT10W3IrVl0udHlwZSl9ZnVuY3Rpb24gbygpe3JldHVybiBuZXcgR2gobihOLlRleHQsIkV4cGVjdGVkIHRleHQgdG9rZW4iKS52YWx1ZSl9ZnVuY3Rpb24gbCgpe24oTi5PcGVuU3RhdGVtZW50LCJFeHBlY3RlZCBvcGVuaW5nIHN0YXRlbWVudCB0b2tlbiIpO2xldCBEO3N3aXRjaCh0W3JdLnR5cGUpe2Nhc2UgTi5TZXQ6KytyLEQ9YygpLG4oTi5DbG9zZVN0YXRlbWVudCwiRXhwZWN0ZWQgY2xvc2luZyBzdGF0ZW1lbnQgdG9rZW4iKTticmVhaztjYXNlIE4uSWY6KytyLEQ9dSgpLG4oTi5PcGVuU3RhdGVtZW50LCJFeHBlY3RlZCB7JSB0b2tlbiIpLG4oTi5FbmRJZiwiRXhwZWN0ZWQgZW5kaWYgdG9rZW4iKSxuKE4uQ2xvc2VTdGF0ZW1lbnQsIkV4cGVjdGVkICV9IHRva2VuIik7YnJlYWs7Y2FzZSBOLkZvcjorK3IsRD1mKCksbihOLk9wZW5TdGF0ZW1lbnQsIkV4cGVjdGVkIHslIHRva2VuIiksbihOLkVuZEZvciwiRXhwZWN0ZWQgZW5kZm9yIHRva2VuIiksbihOLkNsb3NlU3RhdGVtZW50LCJFeHBlY3RlZCAlfSB0b2tlbiIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmtub3duIHN0YXRlbWVudCB0eXBlOiAke3Rbcl0udHlwZX1gKX1yZXR1cm4gRH1mdW5jdGlvbiBkKCl7bihOLk9wZW5FeHByZXNzaW9uLCJFeHBlY3RlZCBvcGVuaW5nIGV4cHJlc3Npb24gdG9rZW4iKTtjb25zdCBEPWcoKTtyZXR1cm4gbihOLkNsb3NlRXhwcmVzc2lvbiwiRXhwZWN0ZWQgY2xvc2luZyBleHByZXNzaW9uIHRva2VuIiksRH1mdW5jdGlvbiBjKCl7Y29uc3QgRD1nKCk7aWYocyhOLkVxdWFscykpeysrcjtjb25zdCBMPWMoKTtyZXR1cm4gbmV3IEMwKEQsTCl9cmV0dXJuIER9ZnVuY3Rpb24gdSgpe2NvbnN0IEQ9ZygpO24oTi5DbG9zZVN0YXRlbWVudCwiRXhwZWN0ZWQgY2xvc2luZyBzdGF0ZW1lbnQgdG9rZW4iKTtjb25zdCBMPVtdLFY9W107Zm9yKDshKHRbcl0/LnR5cGU9PT1OLk9wZW5TdGF0ZW1lbnQmJih0W3IrMV0/LnR5cGU9PT1OLkVsc2VJZnx8dFtyKzFdPy50eXBlPT09Ti5FbHNlfHx0W3IrMV0/LnR5cGU9PT1OLkVuZElmKSk7KUwucHVzaChhKCkpO2lmKHRbcl0/LnR5cGU9PT1OLk9wZW5TdGF0ZW1lbnQmJnRbcisxXT8udHlwZSE9PU4uRW5kSWYpaWYoKytyLHMoTi5FbHNlSWYpKW4oTi5FbHNlSWYsIkV4cGVjdGVkIGVsc2VpZiB0b2tlbiIpLFYucHVzaCh1KCkpO2Vsc2UgZm9yKG4oTi5FbHNlLCJFeHBlY3RlZCBlbHNlIHRva2VuIiksbihOLkNsb3NlU3RhdGVtZW50LCJFeHBlY3RlZCBjbG9zaW5nIHN0YXRlbWVudCB0b2tlbiIpOyEodFtyXT8udHlwZT09PU4uT3BlblN0YXRlbWVudCYmdFtyKzFdPy50eXBlPT09Ti5FbmRJZik7KVYucHVzaChhKCkpO3JldHVybiBuZXcgSGgoRCxMLFYpfWZ1bmN0aW9uIGgoRD0hMSl7Y29uc3QgTD1EP3E6ZyxWPVtMKCldLHRlPXMoTi5Db21tYSk7Zm9yKDt0ZSYmKCsrcixWLnB1c2goTCgpKSwhIXMoTi5Db21tYSkpOyk7cmV0dXJuIHRlP25ldyBqaChWKTpWWzBdfWZ1bmN0aW9uIGYoKXtjb25zdCBEPWgoITApO2lmKCEoRCBpbnN0YW5jZW9mIEdyfHxEIGluc3RhbmNlb2YgamgpKXRocm93IG5ldyBTeW50YXhFcnJvcihgRXhwZWN0ZWQgaWRlbnRpZmllci90dXBsZSBmb3IgdGhlIGxvb3AgdmFyaWFibGUsIGdvdCAke0QudHlwZX0gaW5zdGVhZGApO24oTi5JbiwiRXhwZWN0ZWQgYGluYCBrZXl3b3JkIGZvbGxvd2luZyBsb29wIHZhcmlhYmxlIik7Y29uc3QgTD1nKCk7bihOLkNsb3NlU3RhdGVtZW50LCJFeHBlY3RlZCBjbG9zaW5nIHN0YXRlbWVudCB0b2tlbiIpO2NvbnN0IFY9W107Zm9yKDtpKE4uT3BlblN0YXRlbWVudCxOLkVuZEZvcik7KVYucHVzaChhKCkpO3JldHVybiBuZXcgRTAoRCxMLFYpfWZ1bmN0aW9uIGcoKXtyZXR1cm4geSgpfWZ1bmN0aW9uIHkoKXtjb25zdCBEPXcoKTtpZihzKE4uSWYpKXsrK3I7Y29uc3QgTD13KCk7bihOLkVsc2UsIkV4cGVjdGVkIGVsc2UgdG9rZW4iKTtjb25zdCBWPXcoKTtyZXR1cm4gbmV3IEhoKEwsW0RdLFtWXSl9cmV0dXJuIER9ZnVuY3Rpb24gdygpe2xldCBEPXYoKTtmb3IoO3MoTi5Pcik7KXtjb25zdCBMPXRbcl07KytyO2NvbnN0IFY9digpO0Q9bmV3IFNuKEwsRCxWKX1yZXR1cm4gRH1mdW5jdGlvbiB2KCl7bGV0IEQ9aygpO2Zvcig7cyhOLkFuZCk7KXtjb25zdCBMPXRbcl07KytyO2NvbnN0IFY9aygpO0Q9bmV3IFNuKEwsRCxWKX1yZXR1cm4gRH1mdW5jdGlvbiBrKCl7bGV0IEQ7Zm9yKDtzKE4uTm90KTspe2NvbnN0IEw9dFtyXTsrK3I7Y29uc3QgVj1rKCk7RD1uZXcgUjAoTCxWKX1yZXR1cm4gRD8/RSgpfWZ1bmN0aW9uIEUoKXtsZXQgRD14KCk7Zm9yKDtzKE4uQ29tcGFyaXNvbkJpbmFyeU9wZXJhdG9yKXx8cyhOLkluKXx8cyhOLk5vdEluKTspe2NvbnN0IEw9dFtyXTsrK3I7Y29uc3QgVj14KCk7RD1uZXcgU24oTCxELFYpfXJldHVybiBEfWZ1bmN0aW9uIHgoKXtsZXQgRD1PKCk7Zm9yKDtzKE4uQWRkaXRpdmVCaW5hcnlPcGVyYXRvcik7KXtjb25zdCBMPXRbcl07KytyO2NvbnN0IFY9TygpO0Q9bmV3IFNuKEwsRCxWKX1yZXR1cm4gRH1mdW5jdGlvbiBJKCl7Y29uc3QgRD1LKCk7cmV0dXJuIHMoTi5PcGVuUGFyZW4pP1QoRCk6RH1mdW5jdGlvbiBUKEQpe2xldCBMPW5ldyBBMChELEIoKSk7cmV0dXJuIHMoTi5PcGVuUGFyZW4pJiYoTD1UKEwpKSxMfWZ1bmN0aW9uIEIoKXtuKE4uT3BlblBhcmVuLCJFeHBlY3RlZCBvcGVuaW5nIHBhcmVudGhlc2lzIGZvciBhcmd1bWVudHMgbGlzdCIpO2NvbnN0IEQ9VSgpO3JldHVybiBuKE4uQ2xvc2VQYXJlbiwiRXhwZWN0ZWQgY2xvc2luZyBwYXJlbnRoZXNpcyBmb3IgYXJndW1lbnRzIGxpc3QiKSxEfWZ1bmN0aW9uIFUoKXtjb25zdCBEPVtdO2Zvcig7IXMoTi5DbG9zZVBhcmVuKTspe2xldCBMPWcoKTtpZihzKE4uRXF1YWxzKSl7aWYoKytyLCEoTCBpbnN0YW5jZW9mIEdyKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIkV4cGVjdGVkIGlkZW50aWZpZXIgZm9yIGtleXdvcmQgYXJndW1lbnQiKTtjb25zdCBWPWcoKTtMPW5ldyBQMChMLFYpfUQucHVzaChMKSxzKE4uQ29tbWEpJiYrK3J9cmV0dXJuIER9ZnVuY3Rpb24gSCgpe2NvbnN0IEQ9W107bGV0IEw9ITE7Zm9yKDshcyhOLkNsb3NlU3F1YXJlQnJhY2tldCk7KXMoTi5Db2xvbik/KEQucHVzaCh2b2lkIDApLCsrcixMPSEwKTooRC5wdXNoKGcoKSkscyhOLkNvbG9uKSYmKCsrcixMPSEwKSk7aWYoRC5sZW5ndGg9PT0wKXRocm93IG5ldyBTeW50YXhFcnJvcigiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50IGZvciBtZW1iZXIvc2xpY2UgZXhwcmVzc2lvbiIpO2lmKEwpe2lmKEQubGVuZ3RoPjMpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJFeHBlY3RlZCAwLTMgYXJndW1lbnRzIGZvciBzbGljZSBleHByZXNzaW9uIik7cmV0dXJuIG5ldyBEMCguLi5EKX1yZXR1cm4gRFswXX1mdW5jdGlvbiBLKCl7bGV0IEQ9cSgpO2Zvcig7cyhOLkRvdCl8fHMoTi5PcGVuU3F1YXJlQnJhY2tldCk7KXtjb25zdCBMPXRbcl07KytyO2xldCBWO2NvbnN0IHRlPUwudHlwZSE9PU4uRG90O2lmKHRlKVY9SCgpLG4oTi5DbG9zZVNxdWFyZUJyYWNrZXQsIkV4cGVjdGVkIGNsb3Npbmcgc3F1YXJlIGJyYWNrZXQiKTtlbHNlIGlmKFY9cSgpLFYudHlwZSE9PSJJZGVudGlmaWVyIil0aHJvdyBuZXcgU3ludGF4RXJyb3IoIkV4cGVjdGVkIGlkZW50aWZpZXIgZm9sbG93aW5nIGRvdCBvcGVyYXRvciIpO0Q9bmV3IEkwKEQsVix0ZSl9cmV0dXJuIER9ZnVuY3Rpb24gTygpe2xldCBEPUcoKTtmb3IoO3MoTi5NdWx0aXBsaWNhdGl2ZUJpbmFyeU9wZXJhdG9yKTspe2NvbnN0IEw9dFtyXTsrK3I7Y29uc3QgVj1HKCk7RD1uZXcgU24oTCxELFYpfXJldHVybiBEfWZ1bmN0aW9uIEcoKXtsZXQgRD1uZSgpO2Zvcig7cyhOLklzKTspeysrcjtjb25zdCBMPXMoTi5Ob3QpO0wmJisrcjtsZXQgVj1xKCk7aWYoViBpbnN0YW5jZW9mIHFoJiYoVj1uZXcgR3IoVi52YWx1ZS50b1N0cmluZygpKSksIShWIGluc3RhbmNlb2YgR3IpKXRocm93IG5ldyBTeW50YXhFcnJvcigiRXhwZWN0ZWQgaWRlbnRpZmllciBmb3IgdGhlIHRlc3QiKTtEPW5ldyBCMChELEwsVil9cmV0dXJuIER9ZnVuY3Rpb24gbmUoKXtsZXQgRD1JKCk7Zm9yKDtzKE4uUGlwZSk7KXsrK3I7bGV0IEw9cSgpO2lmKCEoTCBpbnN0YW5jZW9mIEdyKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIkV4cGVjdGVkIGlkZW50aWZpZXIgZm9yIHRoZSBmaWx0ZXIiKTtzKE4uT3BlblBhcmVuKSYmKEw9VChMKSksRD1uZXcgejAoRCxMKX1yZXR1cm4gRH1mdW5jdGlvbiBxKCl7Y29uc3QgRD10W3JdO3N3aXRjaChELnR5cGUpe2Nhc2UgTi5OdW1lcmljTGl0ZXJhbDpyZXR1cm4rK3IsbmV3IFQwKE51bWJlcihELnZhbHVlKSk7Y2FzZSBOLlN0cmluZ0xpdGVyYWw6cmV0dXJuKytyLG5ldyBHaChELnZhbHVlKTtjYXNlIE4uQm9vbGVhbkxpdGVyYWw6cmV0dXJuKytyLG5ldyBxaChELnZhbHVlPT09InRydWUiKTtjYXNlIE4uSWRlbnRpZmllcjpyZXR1cm4rK3IsbmV3IEdyKEQudmFsdWUpO2Nhc2UgTi5PcGVuUGFyZW46eysrcjtjb25zdCBMPWgoKTtpZih0W3JdLnR5cGUhPT1OLkNsb3NlUGFyZW4pdGhyb3cgbmV3IFN5bnRheEVycm9yKGBFeHBlY3RlZCBjbG9zaW5nIHBhcmVudGhlc2lzLCBnb3QgJHt0W3JdLnR5cGV9IGluc3RlYWRgKTtyZXR1cm4rK3IsTH1jYXNlIE4uT3BlblNxdWFyZUJyYWNrZXQ6eysrcjtjb25zdCBMPVtdO2Zvcig7IXMoTi5DbG9zZVNxdWFyZUJyYWNrZXQpOylMLnB1c2goZygpKSxzKE4uQ29tbWEpJiYrK3I7cmV0dXJuKytyLG5ldyBPMChMKX1jYXNlIE4uT3BlbkN1cmx5QnJhY2tldDp7KytyO2NvbnN0IEw9bmV3IE1hcDtmb3IoOyFzKE4uQ2xvc2VDdXJseUJyYWNrZXQpOyl7Y29uc3QgVj1nKCk7bihOLkNvbG9uLCJFeHBlY3RlZCBjb2xvbiBiZXR3ZWVuIGtleSBhbmQgdmFsdWUgaW4gb2JqZWN0IGxpdGVyYWwiKTtjb25zdCB0ZT1nKCk7TC5zZXQoVix0ZSkscyhOLkNvbW1hKSYmKytyfXJldHVybisrcixuZXcgTTAoTCl9ZGVmYXVsdDp0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgdG9rZW46ICR7RC50eXBlfWApfX1mb3IoO3I8dC5sZW5ndGg7KWUuYm9keS5wdXNoKGEoKSk7cmV0dXJuIGV9ZnVuY3Rpb24gVTAodCxlLHI9MSl7ZT09PXZvaWQgMCYmKGU9dCx0PTApO2NvbnN0IG49W107Zm9yKGxldCBhPXQ7YTxlO2ErPXIpbi5wdXNoKGEpO3JldHVybiBufWZ1bmN0aW9uIEtoKHQsZSxyLG49MSl7Y29uc3QgYT1NYXRoLnNpZ24obik7YT49MD8oZT0oZT8/PTApPDA/TWF0aC5tYXgodC5sZW5ndGgrZSwwKTpNYXRoLm1pbihlLHQubGVuZ3RoKSxyPShyPz89dC5sZW5ndGgpPDA/TWF0aC5tYXgodC5sZW5ndGgrciwwKTpNYXRoLm1pbihyLHQubGVuZ3RoKSk6KGU9KGU/Pz10Lmxlbmd0aC0xKTwwP01hdGgubWF4KHQubGVuZ3RoK2UsLTEpOk1hdGgubWluKGUsdC5sZW5ndGgtMSkscj0ocj8/PS0xKTwtMT9NYXRoLm1heCh0Lmxlbmd0aCtyLC0xKTpNYXRoLm1pbihyLHQubGVuZ3RoLTEpKTtjb25zdCBpPVtdO2ZvcihsZXQgcz1lO2EqczxhKnI7cys9bilpLnB1c2godFtzXSk7cmV0dXJuIGl9ZnVuY3Rpb24gWWgodCl7cmV0dXJuIHQucmVwbGFjZSgvXGJcdy9nLGU9PmUudG9VcHBlckNhc2UoKSl9dmFyIGlyPWNsYXNze3R5cGU9IlJ1bnRpbWVWYWx1ZSI7dmFsdWU7YnVpbHRpbnM9bmV3IE1hcDtjb25zdHJ1Y3Rvcih0PXZvaWQgMCl7dGhpcy52YWx1ZT10fV9fYm9vbF9fKCl7cmV0dXJuIG5ldyBKZSghIXRoaXMudmFsdWUpfX0sRmU9Y2xhc3MgZXh0ZW5kcyBpcnt0eXBlPSJOdW1lcmljVmFsdWUifSxUZT1jbGFzcyBleHRlbmRzIGlye3R5cGU9IlN0cmluZ1ZhbHVlIjtidWlsdGlucz1uZXcgTWFwKFtbInVwcGVyIixuZXcgc3IoKCk9Pm5ldyBUZSh0aGlzLnZhbHVlLnRvVXBwZXJDYXNlKCkpKV0sWyJsb3dlciIsbmV3IHNyKCgpPT5uZXcgVGUodGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpKSldLFsic3RyaXAiLG5ldyBzcigoKT0+bmV3IFRlKHRoaXMudmFsdWUudHJpbSgpKSldLFsidGl0bGUiLG5ldyBzcigoKT0+bmV3IFRlKFloKHRoaXMudmFsdWUpKSldLFsibGVuZ3RoIixuZXcgRmUodGhpcy52YWx1ZS5sZW5ndGgpXV0pfSxKZT1jbGFzcyBleHRlbmRzIGlye3R5cGU9IkJvb2xlYW5WYWx1ZSJ9LFZ0PWNsYXNzIGV4dGVuZHMgaXJ7dHlwZT0iT2JqZWN0VmFsdWUiO19fYm9vbF9fKCl7cmV0dXJuIG5ldyBKZSh0aGlzLnZhbHVlLnNpemU+MCl9YnVpbHRpbnM9bmV3IE1hcChbWyJnZXQiLG5ldyBzcigoW3QsZV0pPT57aWYoISh0IGluc3RhbmNlb2YgVGUpKXRocm93IG5ldyBFcnJvcihgT2JqZWN0IGtleSBtdXN0IGJlIGEgc3RyaW5nOiBnb3QgJHt0LnR5cGV9YCk7cmV0dXJuIHRoaXMudmFsdWUuZ2V0KHQudmFsdWUpPz9lPz9uZXcgRW59KV0sWyJpdGVtcyIsbmV3IHNyKCgpPT5uZXcgWGUoQXJyYXkuZnJvbSh0aGlzLnZhbHVlLmVudHJpZXMoKSkubWFwKChbdCxlXSk9Pm5ldyBYZShbbmV3IFRlKHQpLGVdKSkpKV1dKX0sWGU9Y2xhc3MgZXh0ZW5kcyBpcnt0eXBlPSJBcnJheVZhbHVlIjtidWlsdGlucz1uZXcgTWFwKFtbImxlbmd0aCIsbmV3IEZlKHRoaXMudmFsdWUubGVuZ3RoKV1dKTtfX2Jvb2xfXygpe3JldHVybiBuZXcgSmUodGhpcy52YWx1ZS5sZW5ndGg+MCl9fSxXMD1jbGFzcyBleHRlbmRzIFhle3R5cGU9IlR1cGxlVmFsdWUifSxzcj1jbGFzcyBleHRlbmRzIGlye3R5cGU9IkZ1bmN0aW9uVmFsdWUifSxFbj1jbGFzcyBleHRlbmRzIGlye3R5cGU9Ik51bGxWYWx1ZSJ9LEh0PWNsYXNzIGV4dGVuZHMgaXJ7dHlwZT0iVW5kZWZpbmVkVmFsdWUifSxGcz1jbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnBhcmVudD10fXZhcmlhYmxlcz1uZXcgTWFwKFtbIm5hbWVzcGFjZSIsbmV3IHNyKHQ9PntpZih0Lmxlbmd0aD09PTApcmV0dXJuIG5ldyBWdChuZXcgTWFwKTtpZih0Lmxlbmd0aCE9PTF8fCEodFswXWluc3RhbmNlb2YgVnQpKXRocm93IG5ldyBFcnJvcigiYG5hbWVzcGFjZWAgZXhwZWN0cyBlaXRoZXIgemVybyBhcmd1bWVudHMgb3IgYSBzaW5nbGUgb2JqZWN0IGFyZ3VtZW50Iik7cmV0dXJuIHRbMF19KV1dKTt0ZXN0cz1uZXcgTWFwKFtbImJvb2xlYW4iLHQ9PnQudHlwZT09PSJCb29sZWFuVmFsdWUiXSxbImNhbGxhYmxlIix0PT50IGluc3RhbmNlb2Ygc3JdLFsib2RkIix0PT57aWYodC50eXBlIT09Ik51bWVyaWNWYWx1ZSIpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgYXBwbHkgdGVzdCAib2RkIiB0byB0eXBlOiAke3QudHlwZX1gKTtyZXR1cm4gdC52YWx1ZSUyIT09MH1dLFsiZXZlbiIsdD0+e2lmKHQudHlwZSE9PSJOdW1lcmljVmFsdWUiKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGFwcGx5IHRlc3QgImV2ZW4iIHRvIHR5cGU6ICR7dC50eXBlfWApO3JldHVybiB0LnZhbHVlJTI9PT0wfV0sWyJmYWxzZSIsdD0+dC50eXBlPT09IkJvb2xlYW5WYWx1ZSImJiF0LnZhbHVlXSxbInRydWUiLHQ9PnQudHlwZT09PSJCb29sZWFuVmFsdWUiJiZ0LnZhbHVlXSxbIm51bWJlciIsdD0+dC50eXBlPT09Ik51bWVyaWNWYWx1ZSJdLFsiaW50ZWdlciIsdD0+dC50eXBlPT09Ik51bWVyaWNWYWx1ZSImJk51bWJlci5pc0ludGVnZXIodC52YWx1ZSldLFsiaXRlcmFibGUiLHQ9PnQgaW5zdGFuY2VvZiBYZXx8dCBpbnN0YW5jZW9mIFRlXSxbImxvd2VyIix0PT57Y29uc3QgZT10LnZhbHVlO3JldHVybiB0LnR5cGU9PT0iU3RyaW5nVmFsdWUiJiZlPT09ZS50b0xvd2VyQ2FzZSgpfV0sWyJ1cHBlciIsdD0+e2NvbnN0IGU9dC52YWx1ZTtyZXR1cm4gdC50eXBlPT09IlN0cmluZ1ZhbHVlIiYmZT09PWUudG9VcHBlckNhc2UoKX1dLFsibm9uZSIsdD0+dC50eXBlPT09Ik51bGxWYWx1ZSJdLFsiZGVmaW5lZCIsdD0+dC50eXBlIT09IlVuZGVmaW5lZFZhbHVlIl0sWyJ1bmRlZmluZWQiLHQ9PnQudHlwZT09PSJVbmRlZmluZWRWYWx1ZSJdLFsiZXF1YWx0byIsKHQsZSk9PnQudmFsdWU9PT1lLnZhbHVlXV0pO3NldCh0LGUpe3JldHVybiB0aGlzLmRlY2xhcmVWYXJpYWJsZSh0LFVhKGUpKX1kZWNsYXJlVmFyaWFibGUodCxlKXtpZih0aGlzLnZhcmlhYmxlcy5oYXModCkpdGhyb3cgbmV3IFN5bnRheEVycm9yKGBWYXJpYWJsZSBhbHJlYWR5IGRlY2xhcmVkOiAke3R9YCk7cmV0dXJuIHRoaXMudmFyaWFibGVzLnNldCh0LGUpLGV9c2V0VmFyaWFibGUodCxlKXtyZXR1cm4gdGhpcy52YXJpYWJsZXMuc2V0KHQsZSksZX1yZXNvbHZlKHQpe2lmKHRoaXMudmFyaWFibGVzLmhhcyh0KSlyZXR1cm4gdGhpcztpZih0aGlzLnBhcmVudClyZXR1cm4gdGhpcy5wYXJlbnQucmVzb2x2ZSh0KTt0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gdmFyaWFibGU6ICR7dH1gKX1sb29rdXBWYXJpYWJsZSh0KXt0cnl7cmV0dXJuIHRoaXMucmVzb2x2ZSh0KS52YXJpYWJsZXMuZ2V0KHQpPz9uZXcgSHR9Y2F0Y2h7cmV0dXJuIG5ldyBIdH19fSxMMD1jbGFzc3tnbG9iYWw7Y29uc3RydWN0b3IodCl7dGhpcy5nbG9iYWw9dD8/bmV3IEZzfXJ1bih0KXtyZXR1cm4gdGhpcy5ldmFsdWF0ZSh0LHRoaXMuZ2xvYmFsKX1ldmFsdWF0ZUJpbmFyeUV4cHJlc3Npb24odCxlKXtjb25zdCByPXRoaXMuZXZhbHVhdGUodC5sZWZ0LGUpO3N3aXRjaCh0Lm9wZXJhdG9yLnZhbHVlKXtjYXNlImFuZCI6cmV0dXJuIHIuX19ib29sX18oKS52YWx1ZT90aGlzLmV2YWx1YXRlKHQucmlnaHQsZSk6cjtjYXNlIm9yIjpyZXR1cm4gci5fX2Jvb2xfXygpLnZhbHVlP3I6dGhpcy5ldmFsdWF0ZSh0LnJpZ2h0LGUpfWNvbnN0IG49dGhpcy5ldmFsdWF0ZSh0LnJpZ2h0LGUpO3N3aXRjaCh0Lm9wZXJhdG9yLnZhbHVlKXtjYXNlIj09IjpyZXR1cm4gbmV3IEplKHIudmFsdWU9PW4udmFsdWUpO2Nhc2UiIT0iOnJldHVybiBuZXcgSmUoci52YWx1ZSE9bi52YWx1ZSl9aWYociBpbnN0YW5jZW9mIEh0fHxuIGluc3RhbmNlb2YgSHQpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgcGVyZm9ybSBvcGVyYXRpb24gb24gdW5kZWZpbmVkIHZhbHVlcyIpO2lmKHIgaW5zdGFuY2VvZiBFbnx8biBpbnN0YW5jZW9mIEVuKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIG9uIG51bGwgdmFsdWVzIik7aWYociBpbnN0YW5jZW9mIEZlJiZuIGluc3RhbmNlb2YgRmUpc3dpdGNoKHQub3BlcmF0b3IudmFsdWUpe2Nhc2UiKyI6cmV0dXJuIG5ldyBGZShyLnZhbHVlK24udmFsdWUpO2Nhc2UiLSI6cmV0dXJuIG5ldyBGZShyLnZhbHVlLW4udmFsdWUpO2Nhc2UiKiI6cmV0dXJuIG5ldyBGZShyLnZhbHVlKm4udmFsdWUpO2Nhc2UiLyI6cmV0dXJuIG5ldyBGZShyLnZhbHVlL24udmFsdWUpO2Nhc2UiJSI6cmV0dXJuIG5ldyBGZShyLnZhbHVlJW4udmFsdWUpO2Nhc2UiPCI6cmV0dXJuIG5ldyBKZShyLnZhbHVlPG4udmFsdWUpO2Nhc2UiPiI6cmV0dXJuIG5ldyBKZShyLnZhbHVlPm4udmFsdWUpO2Nhc2UiPj0iOnJldHVybiBuZXcgSmUoci52YWx1ZT49bi52YWx1ZSk7Y2FzZSI8PSI6cmV0dXJuIG5ldyBKZShyLnZhbHVlPD1uLnZhbHVlKX1lbHNlIGlmKHIgaW5zdGFuY2VvZiBYZSYmbiBpbnN0YW5jZW9mIFhlKXN3aXRjaCh0Lm9wZXJhdG9yLnZhbHVlKXtjYXNlIisiOnJldHVybiBuZXcgWGUoci52YWx1ZS5jb25jYXQobi52YWx1ZSkpfWVsc2UgaWYobiBpbnN0YW5jZW9mIFhlKXtjb25zdCBhPW4udmFsdWUuZmluZChpPT5pLnZhbHVlPT09ci52YWx1ZSkhPT12b2lkIDA7c3dpdGNoKHQub3BlcmF0b3IudmFsdWUpe2Nhc2UiaW4iOnJldHVybiBuZXcgSmUoYSk7Y2FzZSJub3QgaW4iOnJldHVybiBuZXcgSmUoIWEpfX1pZihyIGluc3RhbmNlb2YgVGV8fG4gaW5zdGFuY2VvZiBUZSlzd2l0Y2godC5vcGVyYXRvci52YWx1ZSl7Y2FzZSIrIjpyZXR1cm4gbmV3IFRlKHIudmFsdWUudG9TdHJpbmcoKStuLnZhbHVlLnRvU3RyaW5nKCkpfWlmKHIgaW5zdGFuY2VvZiBUZSYmbiBpbnN0YW5jZW9mIFRlKXN3aXRjaCh0Lm9wZXJhdG9yLnZhbHVlKXtjYXNlImluIjpyZXR1cm4gbmV3IEplKG4udmFsdWUuaW5jbHVkZXMoci52YWx1ZSkpO2Nhc2Uibm90IGluIjpyZXR1cm4gbmV3IEplKCFuLnZhbHVlLmluY2x1ZGVzKHIudmFsdWUpKX1pZihyIGluc3RhbmNlb2YgVGUmJm4gaW5zdGFuY2VvZiBWdClzd2l0Y2godC5vcGVyYXRvci52YWx1ZSl7Y2FzZSJpbiI6cmV0dXJuIG5ldyBKZShuLnZhbHVlLmhhcyhyLnZhbHVlKSk7Y2FzZSJub3QgaW4iOnJldHVybiBuZXcgSmUoIW4udmFsdWUuaGFzKHIudmFsdWUpKX10aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVua25vd24gb3BlcmF0b3IgIiR7dC5vcGVyYXRvci52YWx1ZX0iIGJldHdlZW4gJHtyLnR5cGV9IGFuZCAke24udHlwZX1gKX1ldmFsdWF0ZUZpbHRlckV4cHJlc3Npb24odCxlKXtjb25zdCByPXRoaXMuZXZhbHVhdGUodC5vcGVyYW5kLGUpO2lmKHQuZmlsdGVyLnR5cGU9PT0iSWRlbnRpZmllciIpe2NvbnN0IG49dC5maWx0ZXI7aWYociBpbnN0YW5jZW9mIFhlKXN3aXRjaChuLnZhbHVlKXtjYXNlImxpc3QiOnJldHVybiByO2Nhc2UiZmlyc3QiOnJldHVybiByLnZhbHVlWzBdO2Nhc2UibGFzdCI6cmV0dXJuIHIudmFsdWVbci52YWx1ZS5sZW5ndGgtMV07Y2FzZSJsZW5ndGgiOnJldHVybiBuZXcgRmUoci52YWx1ZS5sZW5ndGgpO2Nhc2UicmV2ZXJzZSI6cmV0dXJuIG5ldyBYZShyLnZhbHVlLnJldmVyc2UoKSk7Y2FzZSJzb3J0IjpyZXR1cm4gbmV3IFhlKHIudmFsdWUuc29ydCgoYSxpKT0+e2lmKGEudHlwZSE9PWkudHlwZSl0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb21wYXJlIGRpZmZlcmVudCB0eXBlczogJHthLnR5cGV9IGFuZCAke2kudHlwZX1gKTtzd2l0Y2goYS50eXBlKXtjYXNlIk51bWVyaWNWYWx1ZSI6cmV0dXJuIGEudmFsdWUtaS52YWx1ZTtjYXNlIlN0cmluZ1ZhbHVlIjpyZXR1cm4gYS52YWx1ZS5sb2NhbGVDb21wYXJlKGkudmFsdWUpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29tcGFyZSB0eXBlOiAke2EudHlwZX1gKX19KSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gQXJyYXlWYWx1ZSBmaWx0ZXI6ICR7bi52YWx1ZX1gKX1lbHNlIGlmKHIgaW5zdGFuY2VvZiBUZSlzd2l0Y2gobi52YWx1ZSl7Y2FzZSJsZW5ndGgiOnJldHVybiBuZXcgRmUoci52YWx1ZS5sZW5ndGgpO2Nhc2UidXBwZXIiOnJldHVybiBuZXcgVGUoci52YWx1ZS50b1VwcGVyQ2FzZSgpKTtjYXNlImxvd2VyIjpyZXR1cm4gbmV3IFRlKHIudmFsdWUudG9Mb3dlckNhc2UoKSk7Y2FzZSJ0aXRsZSI6cmV0dXJuIG5ldyBUZShZaChyLnZhbHVlKSk7Y2FzZSJjYXBpdGFsaXplIjpyZXR1cm4gbmV3IFRlKHIudmFsdWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrci52YWx1ZS5zbGljZSgxKSk7Y2FzZSJ0cmltIjpyZXR1cm4gbmV3IFRlKHIudmFsdWUudHJpbSgpKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBTdHJpbmdWYWx1ZSBmaWx0ZXI6ICR7bi52YWx1ZX1gKX1lbHNlIGlmKHIgaW5zdGFuY2VvZiBGZSlzd2l0Y2gobi52YWx1ZSl7Y2FzZSJhYnMiOnJldHVybiBuZXcgRmUoTWF0aC5hYnMoci52YWx1ZSkpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIE51bWVyaWNWYWx1ZSBmaWx0ZXI6ICR7bi52YWx1ZX1gKX1lbHNlIGlmKHIgaW5zdGFuY2VvZiBWdClzd2l0Y2gobi52YWx1ZSl7Y2FzZSJpdGVtcyI6cmV0dXJuIG5ldyBYZShBcnJheS5mcm9tKHIudmFsdWUuZW50cmllcygpKS5tYXAoKFthLGldKT0+bmV3IFhlKFtuZXcgVGUoYSksaV0pKSk7Y2FzZSJsZW5ndGgiOnJldHVybiBuZXcgRmUoci52YWx1ZS5zaXplKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBPYmplY3RWYWx1ZSBmaWx0ZXI6ICR7bi52YWx1ZX1gKX10aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBhcHBseSBmaWx0ZXIgIiR7bi52YWx1ZX0iIHRvIHR5cGU6ICR7ci50eXBlfWApfWVsc2UgaWYodC5maWx0ZXIudHlwZT09PSJDYWxsRXhwcmVzc2lvbiIpe2NvbnN0IG49dC5maWx0ZXI7aWYobi5jYWxsZWUudHlwZSE9PSJJZGVudGlmaWVyIil0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZmlsdGVyOiAke24uY2FsbGVlLnR5cGV9YCk7Y29uc3QgYT1uLmNhbGxlZS52YWx1ZTtpZihyIGluc3RhbmNlb2YgWGUpe3N3aXRjaChhKXtjYXNlInNlbGVjdGF0dHIiOntpZihyLnZhbHVlLnNvbWUoYz0+IShjIGluc3RhbmNlb2YgVnQpKSl0aHJvdyBuZXcgRXJyb3IoImBzZWxlY3RhdHRyYCBjYW4gb25seSBiZSBhcHBsaWVkIHRvIGFycmF5IG9mIG9iamVjdHMiKTtpZihuLmFyZ3Muc29tZShjPT5jLnR5cGUhPT0iU3RyaW5nTGl0ZXJhbCIpKXRocm93IG5ldyBFcnJvcigiYXJndW1lbnRzIG9mIGBzZWxlY3RhdHRyYCBtdXN0IGJlIHN0cmluZ3MiKTtjb25zdFtpLHMsb109bi5hcmdzLm1hcChjPT50aGlzLmV2YWx1YXRlKGMsZSkpO2xldCBsO2lmKHMpe2NvbnN0IGM9ZS50ZXN0cy5nZXQocy52YWx1ZSk7aWYoIWMpdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHRlc3Q6ICR7cy52YWx1ZX1gKTtsPWN9ZWxzZSBsPSguLi5jKT0+Y1swXS5fX2Jvb2xfXygpLnZhbHVlO2NvbnN0IGQ9ci52YWx1ZS5maWx0ZXIoYz0+e2NvbnN0IHU9Yy52YWx1ZS5nZXQoaS52YWx1ZSk7cmV0dXJuIHU/bCh1LG8pOiExfSk7cmV0dXJuIG5ldyBYZShkKX19dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIEFycmF5VmFsdWUgZmlsdGVyOiAke2F9YCl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBhcHBseSBmaWx0ZXIgIiR7YX0iIHRvIHR5cGU6ICR7ci50eXBlfWApfXRocm93IG5ldyBFcnJvcihgVW5rbm93biBmaWx0ZXI6ICR7dC5maWx0ZXIudHlwZX1gKX1ldmFsdWF0ZVRlc3RFeHByZXNzaW9uKHQsZSl7Y29uc3Qgcj10aGlzLmV2YWx1YXRlKHQub3BlcmFuZCxlKSxuPWUudGVzdHMuZ2V0KHQudGVzdC52YWx1ZSk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHRlc3Q6ICR7dC50ZXN0LnZhbHVlfWApO2NvbnN0IGE9bihyKTtyZXR1cm4gbmV3IEplKHQubmVnYXRlPyFhOmEpfWV2YWx1YXRlVW5hcnlFeHByZXNzaW9uKHQsZSl7Y29uc3Qgcj10aGlzLmV2YWx1YXRlKHQuYXJndW1lbnQsZSk7c3dpdGNoKHQub3BlcmF0b3IudmFsdWUpe2Nhc2Uibm90IjpyZXR1cm4gbmV3IEplKCFyLnZhbHVlKTtkZWZhdWx0OnRocm93IG5ldyBTeW50YXhFcnJvcihgVW5rbm93biBvcGVyYXRvcjogJHt0Lm9wZXJhdG9yLnZhbHVlfWApfX1ldmFsUHJvZ3JhbSh0LGUpe3JldHVybiB0aGlzLmV2YWx1YXRlQmxvY2sodC5ib2R5LGUpfWV2YWx1YXRlQmxvY2sodCxlKXtsZXQgcj0iIjtmb3IoY29uc3QgbiBvZiB0KXtjb25zdCBhPXRoaXMuZXZhbHVhdGUobixlKTthLnR5cGUhPT0iTnVsbFZhbHVlIiYmYS50eXBlIT09IlVuZGVmaW5lZFZhbHVlIiYmKHIrPWEudmFsdWUpfXJldHVybiBuZXcgVGUocil9ZXZhbHVhdGVJZGVudGlmaWVyKHQsZSl7cmV0dXJuIGUubG9va3VwVmFyaWFibGUodC52YWx1ZSl9ZXZhbHVhdGVDYWxsRXhwcmVzc2lvbih0LGUpe2NvbnN0IHI9W10sbj1uZXcgTWFwO2Zvcihjb25zdCBpIG9mIHQuYXJncylpZihpLnR5cGU9PT0iS2V5d29yZEFyZ3VtZW50RXhwcmVzc2lvbiIpe2NvbnN0IHM9aTtuLnNldChzLmtleS52YWx1ZSx0aGlzLmV2YWx1YXRlKHMudmFsdWUsZSkpfWVsc2Ugci5wdXNoKHRoaXMuZXZhbHVhdGUoaSxlKSk7bi5zaXplPjAmJnIucHVzaChuZXcgVnQobikpO2NvbnN0IGE9dGhpcy5ldmFsdWF0ZSh0LmNhbGxlZSxlKTtpZihhLnR5cGUhPT0iRnVuY3Rpb25WYWx1ZSIpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY2FsbCBzb21ldGhpbmcgdGhhdCBpcyBub3QgYSBmdW5jdGlvbjogZ290ICR7YS50eXBlfWApO3JldHVybiBhLnZhbHVlKHIsZSl9ZXZhbHVhdGVTbGljZUV4cHJlc3Npb24odCxlLHIpe2lmKCEodCBpbnN0YW5jZW9mIFhlfHx0IGluc3RhbmNlb2YgVGUpKXRocm93IG5ldyBFcnJvcigiU2xpY2Ugb2JqZWN0IG11c3QgYmUgYW4gYXJyYXkgb3Igc3RyaW5nIik7Y29uc3Qgbj10aGlzLmV2YWx1YXRlKGUuc3RhcnQsciksYT10aGlzLmV2YWx1YXRlKGUuc3RvcCxyKSxpPXRoaXMuZXZhbHVhdGUoZS5zdGVwLHIpO2lmKCEobiBpbnN0YW5jZW9mIEZlfHxuIGluc3RhbmNlb2YgSHQpKXRocm93IG5ldyBFcnJvcigiU2xpY2Ugc3RhcnQgbXVzdCBiZSBudW1lcmljIG9yIHVuZGVmaW5lZCIpO2lmKCEoYSBpbnN0YW5jZW9mIEZlfHxhIGluc3RhbmNlb2YgSHQpKXRocm93IG5ldyBFcnJvcigiU2xpY2Ugc3RvcCBtdXN0IGJlIG51bWVyaWMgb3IgdW5kZWZpbmVkIik7aWYoIShpIGluc3RhbmNlb2YgRmV8fGkgaW5zdGFuY2VvZiBIdCkpdGhyb3cgbmV3IEVycm9yKCJTbGljZSBzdGVwIG11c3QgYmUgbnVtZXJpYyBvciB1bmRlZmluZWQiKTtyZXR1cm4gdCBpbnN0YW5jZW9mIFhlP25ldyBYZShLaCh0LnZhbHVlLG4udmFsdWUsYS52YWx1ZSxpLnZhbHVlKSk6bmV3IFRlKEtoKEFycmF5LmZyb20odC52YWx1ZSksbi52YWx1ZSxhLnZhbHVlLGkudmFsdWUpLmpvaW4oIiIpKX1ldmFsdWF0ZU1lbWJlckV4cHJlc3Npb24odCxlKXtjb25zdCByPXRoaXMuZXZhbHVhdGUodC5vYmplY3QsZSk7bGV0IG47aWYodC5jb21wdXRlZCl7aWYodC5wcm9wZXJ0eS50eXBlPT09IlNsaWNlRXhwcmVzc2lvbiIpcmV0dXJuIHRoaXMuZXZhbHVhdGVTbGljZUV4cHJlc3Npb24ocix0LnByb3BlcnR5LGUpO249dGhpcy5ldmFsdWF0ZSh0LnByb3BlcnR5LGUpfWVsc2Ugbj1uZXcgVGUodC5wcm9wZXJ0eS52YWx1ZSk7bGV0IGE7aWYociBpbnN0YW5jZW9mIFZ0KXtpZighKG4gaW5zdGFuY2VvZiBUZSkpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgYWNjZXNzIHByb3BlcnR5IHdpdGggbm9uLXN0cmluZzogZ290ICR7bi50eXBlfWApO2E9ci52YWx1ZS5nZXQobi52YWx1ZSk/P3IuYnVpbHRpbnMuZ2V0KG4udmFsdWUpfWVsc2UgaWYociBpbnN0YW5jZW9mIFhlfHxyIGluc3RhbmNlb2YgVGUpaWYobiBpbnN0YW5jZW9mIEZlKWE9ci52YWx1ZS5hdChuLnZhbHVlKSxyIGluc3RhbmNlb2YgVGUmJihhPW5ldyBUZShyLnZhbHVlLmF0KG4udmFsdWUpKSk7ZWxzZSBpZihuIGluc3RhbmNlb2YgVGUpYT1yLmJ1aWx0aW5zLmdldChuLnZhbHVlKTtlbHNlIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGFjY2VzcyBwcm9wZXJ0eSB3aXRoIG5vbi1zdHJpbmcvbm9uLW51bWJlcjogZ290ICR7bi50eXBlfWApO2Vsc2V7aWYoIShuIGluc3RhbmNlb2YgVGUpKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGFjY2VzcyBwcm9wZXJ0eSB3aXRoIG5vbi1zdHJpbmc6IGdvdCAke24udHlwZX1gKTthPXIuYnVpbHRpbnMuZ2V0KG4udmFsdWUpfXJldHVybiBhIGluc3RhbmNlb2YgaXI/YTpuZXcgSHR9ZXZhbHVhdGVTZXQodCxlKXtjb25zdCByPXRoaXMuZXZhbHVhdGUodC52YWx1ZSxlKTtpZih0LmFzc2lnbmVlLnR5cGU9PT0iSWRlbnRpZmllciIpe2NvbnN0IG49dC5hc3NpZ25lZS52YWx1ZTtlLnNldFZhcmlhYmxlKG4scil9ZWxzZSBpZih0LmFzc2lnbmVlLnR5cGU9PT0iTWVtYmVyRXhwcmVzc2lvbiIpe2NvbnN0IG49dC5hc3NpZ25lZSxhPXRoaXMuZXZhbHVhdGUobi5vYmplY3QsZSk7aWYoIShhIGluc3RhbmNlb2YgVnQpKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGFzc2lnbiB0byBtZW1iZXIgb2Ygbm9uLW9iamVjdCIpO2lmKG4ucHJvcGVydHkudHlwZSE9PSJJZGVudGlmaWVyIil0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBhc3NpZ24gdG8gbWVtYmVyIHdpdGggbm9uLWlkZW50aWZpZXIgcHJvcGVydHkiKTthLnZhbHVlLnNldChuLnByb3BlcnR5LnZhbHVlLHIpfWVsc2UgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIExIUyBpbnNpZGUgYXNzaWdubWVudCBleHByZXNzaW9uOiAke0pTT04uc3RyaW5naWZ5KHQuYXNzaWduZWUpfWApO3JldHVybiBuZXcgRW59ZXZhbHVhdGVJZih0LGUpe2NvbnN0IHI9dGhpcy5ldmFsdWF0ZSh0LnRlc3QsZSk7cmV0dXJuIHRoaXMuZXZhbHVhdGVCbG9jayhyLl9fYm9vbF9fKCkudmFsdWU/dC5ib2R5OnQuYWx0ZXJuYXRlLGUpfWV2YWx1YXRlRm9yKHQsZSl7Y29uc3Qgcj1uZXcgRnMoZSksbj10aGlzLmV2YWx1YXRlKHQuaXRlcmFibGUscik7aWYoIShuIGluc3RhbmNlb2YgWGUpKXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgaXRlcmFibGUgdHlwZSBpbiBmb3IgbG9vcDogZ290ICR7bi50eXBlfWApO2xldCBhPSIiO2ZvcihsZXQgaT0wO2k8bi52YWx1ZS5sZW5ndGg7KytpKXtjb25zdCBzPW5ldyBNYXAoW1siaW5kZXgiLG5ldyBGZShpKzEpXSxbImluZGV4MCIsbmV3IEZlKGkpXSxbInJldmluZGV4IixuZXcgRmUobi52YWx1ZS5sZW5ndGgtaSldLFsicmV2aW5kZXgwIixuZXcgRmUobi52YWx1ZS5sZW5ndGgtaS0xKV0sWyJmaXJzdCIsbmV3IEplKGk9PT0wKV0sWyJsYXN0IixuZXcgSmUoaT09PW4udmFsdWUubGVuZ3RoLTEpXSxbImxlbmd0aCIsbmV3IEZlKG4udmFsdWUubGVuZ3RoKV0sWyJwcmV2aXRlbSIsaT4wP24udmFsdWVbaS0xXTpuZXcgSHRdLFsibmV4dGl0ZW0iLGk8bi52YWx1ZS5sZW5ndGgtMT9uLnZhbHVlW2krMV06bmV3IEh0XV0pO3Iuc2V0VmFyaWFibGUoImxvb3AiLG5ldyBWdChzKSk7Y29uc3Qgbz1uLnZhbHVlW2ldO2lmKHQubG9vcHZhci50eXBlPT09IklkZW50aWZpZXIiKXIuc2V0VmFyaWFibGUodC5sb29wdmFyLnZhbHVlLG8pO2Vsc2UgaWYodC5sb29wdmFyLnR5cGU9PT0iVHVwbGVMaXRlcmFsIil7Y29uc3QgZD10Lmxvb3B2YXI7aWYoby50eXBlIT09IkFycmF5VmFsdWUiKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IHVucGFjayBub24taXRlcmFibGUgdHlwZTogJHtvLnR5cGV9YCk7Y29uc3QgYz1vO2lmKGQudmFsdWUubGVuZ3RoIT09Yy52YWx1ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBUb28gJHtkLnZhbHVlLmxlbmd0aD5jLnZhbHVlLmxlbmd0aD8iZmV3IjoibWFueSJ9IGl0ZW1zIHRvIHVucGFja2ApO2ZvcihsZXQgdT0wO3U8ZC52YWx1ZS5sZW5ndGg7Kyt1KXtpZihkLnZhbHVlW3VdLnR5cGUhPT0iSWRlbnRpZmllciIpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgdW5wYWNrIG5vbi1pZGVudGlmaWVyIHR5cGU6ICR7ZC52YWx1ZVt1XS50eXBlfWApO3Iuc2V0VmFyaWFibGUoZC52YWx1ZVt1XS52YWx1ZSxjLnZhbHVlW3VdKX19Y29uc3QgbD10aGlzLmV2YWx1YXRlQmxvY2sodC5ib2R5LHIpO2ErPWwudmFsdWV9cmV0dXJuIG5ldyBUZShhKX1ldmFsdWF0ZSh0LGUpe2lmKHQ9PT12b2lkIDApcmV0dXJuIG5ldyBIdDtzd2l0Y2godC50eXBlKXtjYXNlIlByb2dyYW0iOnJldHVybiB0aGlzLmV2YWxQcm9ncmFtKHQsZSk7Y2FzZSJTZXQiOnJldHVybiB0aGlzLmV2YWx1YXRlU2V0KHQsZSk7Y2FzZSJJZiI6cmV0dXJuIHRoaXMuZXZhbHVhdGVJZih0LGUpO2Nhc2UiRm9yIjpyZXR1cm4gdGhpcy5ldmFsdWF0ZUZvcih0LGUpO2Nhc2UiTnVtZXJpY0xpdGVyYWwiOnJldHVybiBuZXcgRmUoTnVtYmVyKHQudmFsdWUpKTtjYXNlIlN0cmluZ0xpdGVyYWwiOnJldHVybiBuZXcgVGUodC52YWx1ZSk7Y2FzZSJCb29sZWFuTGl0ZXJhbCI6cmV0dXJuIG5ldyBKZSh0LnZhbHVlKTtjYXNlIkFycmF5TGl0ZXJhbCI6cmV0dXJuIG5ldyBYZSh0LnZhbHVlLm1hcChyPT50aGlzLmV2YWx1YXRlKHIsZSkpKTtjYXNlIlR1cGxlTGl0ZXJhbCI6cmV0dXJuIG5ldyBXMCh0LnZhbHVlLm1hcChyPT50aGlzLmV2YWx1YXRlKHIsZSkpKTtjYXNlIk9iamVjdExpdGVyYWwiOntjb25zdCByPW5ldyBNYXA7Zm9yKGNvbnN0W24sYV1vZiB0LnZhbHVlKXtjb25zdCBpPXRoaXMuZXZhbHVhdGUobixlKTtpZighKGkgaW5zdGFuY2VvZiBUZSkpdGhyb3cgbmV3IEVycm9yKGBPYmplY3Qga2V5cyBtdXN0IGJlIHN0cmluZ3M6IGdvdCAke2kudHlwZX1gKTtyLnNldChpLnZhbHVlLHRoaXMuZXZhbHVhdGUoYSxlKSl9cmV0dXJuIG5ldyBWdChyKX1jYXNlIklkZW50aWZpZXIiOnJldHVybiB0aGlzLmV2YWx1YXRlSWRlbnRpZmllcih0LGUpO2Nhc2UiQ2FsbEV4cHJlc3Npb24iOnJldHVybiB0aGlzLmV2YWx1YXRlQ2FsbEV4cHJlc3Npb24odCxlKTtjYXNlIk1lbWJlckV4cHJlc3Npb24iOnJldHVybiB0aGlzLmV2YWx1YXRlTWVtYmVyRXhwcmVzc2lvbih0LGUpO2Nhc2UiVW5hcnlFeHByZXNzaW9uIjpyZXR1cm4gdGhpcy5ldmFsdWF0ZVVuYXJ5RXhwcmVzc2lvbih0LGUpO2Nhc2UiQmluYXJ5RXhwcmVzc2lvbiI6cmV0dXJuIHRoaXMuZXZhbHVhdGVCaW5hcnlFeHByZXNzaW9uKHQsZSk7Y2FzZSJGaWx0ZXJFeHByZXNzaW9uIjpyZXR1cm4gdGhpcy5ldmFsdWF0ZUZpbHRlckV4cHJlc3Npb24odCxlKTtjYXNlIlRlc3RFeHByZXNzaW9uIjpyZXR1cm4gdGhpcy5ldmFsdWF0ZVRlc3RFeHByZXNzaW9uKHQsZSk7ZGVmYXVsdDp0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVua25vd24gbm9kZSB0eXBlOiAke3QudHlwZX1gKX19fTtmdW5jdGlvbiBVYSh0KXtzd2l0Y2godHlwZW9mIHQpe2Nhc2UibnVtYmVyIjpyZXR1cm4gbmV3IEZlKHQpO2Nhc2Uic3RyaW5nIjpyZXR1cm4gbmV3IFRlKHQpO2Nhc2UiYm9vbGVhbiI6cmV0dXJuIG5ldyBKZSh0KTtjYXNlIm9iamVjdCI6cmV0dXJuIHQ9PT1udWxsP25ldyBFbjpBcnJheS5pc0FycmF5KHQpP25ldyBYZSh0Lm1hcChVYSkpOm5ldyBWdChuZXcgTWFwKE9iamVjdC5lbnRyaWVzKHQpLm1hcCgoW2Uscl0pPT5bZSxVYShyKV0pKSk7Y2FzZSJmdW5jdGlvbiI6cmV0dXJuIG5ldyBzcigoZSxyKT0+e2NvbnN0IG49dCguLi5lLm1hcChhPT5hLnZhbHVlKSk/P251bGw7cmV0dXJuIFVhKG4pfSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb252ZXJ0IHRvIHJ1bnRpbWUgdmFsdWU6ICR7dH1gKX19dmFyIEYwPWNsYXNze3BhcnNlZDtjb25zdHJ1Y3Rvcih0KXtjb25zdCBlPWswKHQse2xzdHJpcF9ibG9ja3M6ITAsdHJpbV9ibG9ja3M6ITB9KTt0aGlzLnBhcnNlZD1OMChlKX1yZW5kZXIodCl7Y29uc3QgZT1uZXcgRnM7ZS5zZXQoImZhbHNlIiwhMSksZS5zZXQoInRydWUiLCEwKSxlLnNldCgicmFpc2VfZXhjZXB0aW9uIixyPT57dGhyb3cgbmV3IEVycm9yKHIpfSksZS5zZXQoInJhbmdlIixVMCk7Zm9yKGNvbnN0W3Isbl1vZiBPYmplY3QuZW50cmllcyh0KSllLnNldChyLG4pO3JldHVybiBuZXcgTDAoZSkucnVuKHRoaXMucGFyc2VkKS52YWx1ZX19O2FzeW5jIGZ1bmN0aW9uIFhoKHQsZSl7Y29uc3Qgcj1hd2FpdCBQcm9taXNlLmFsbChbUnIodCwidG9rZW5pemVyLmpzb24iLCEwLGUpLFJyKHQsInRva2VuaXplcl9jb25maWcuanNvbiIsITAsZSldKTtyZXR1cm4gZS5sZWdhY3khPT1udWxsJiYoclsxXS5sZWdhY3k9ZS5sZWdhY3kpLHJ9ZnVuY3Rpb24gVjAodCxlKXtjb25zdCByPVtdO2xldCBuPTA7Zm9yKGNvbnN0IGEgb2YgdC5tYXRjaEFsbChlKSl7Y29uc3QgaT1hWzBdO248YS5pbmRleCYmci5wdXNoKHQuc2xpY2UobixhLmluZGV4KSksaS5sZW5ndGg+MCYmci5wdXNoKGkpLG49YS5pbmRleCtpLmxlbmd0aH1yZXR1cm4gbjx0Lmxlbmd0aCYmci5wdXNoKHQuc2xpY2UobikpLHJ9ZnVuY3Rpb24gV2EodCxlPSEwKXtpZih0LlJlZ2V4IT09dm9pZCAwKXtsZXQgcj10LlJlZ2V4LnJlcGxhY2UoL1xcKFsjJn5dKS9nLCIkMSIpO2Zvcihjb25zdFtuLGFdb2YgajApcj1yLnJlcGxhY2VBbGwobixhKTtyZXR1cm4gbmV3IFJlZ0V4cChyLCJndSIpfWVsc2UgaWYodC5TdHJpbmchPT12b2lkIDApe2NvbnN0IHI9Z28odC5TdHJpbmcpO3JldHVybiBuZXcgUmVnRXhwKGU/cjpgKCR7cn0pYCwiZ3UiKX1lbHNlIHJldHVybiBjb25zb2xlLndhcm4oIlVua25vd24gcGF0dGVybiB0eXBlOiIsdCksbnVsbH1mdW5jdGlvbiBWcyh0KXtyZXR1cm4gbmV3IE1hcChPYmplY3QuZW50cmllcyh0KSl9ZnVuY3Rpb24gUWgodCl7Y29uc3QgZT10LmRpbXM7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDE6cmV0dXJuIHQudG9saXN0KCk7Y2FzZSAyOmlmKGVbMF0hPT0xKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGRlY29kZSB0ZW5zb3Igd2l0aCBgYmF0Y2ggc2l6ZSAhPT0gMWAuIFVzZSBgdG9rZW5pemVyLmJhdGNoX2RlY29kZSguLi4pYCBmb3IgYmF0Y2hlZCBpbnB1dHMuIik7cmV0dXJuIHQudG9saXN0KClbMF07ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIHRlbnNvciB0byBoYXZlIDEtMiBkaW1lbnNpb25zLCBnb3QgJHtlLmxlbmd0aH0uYCl9fWZ1bmN0aW9uIEhzKHQpe3JldHVybiB0LnJlcGxhY2UoLyBcLi9nLCIuIikucmVwbGFjZSgvIFw/L2csIj8iKS5yZXBsYWNlKC8gXCEvZywiISIpLnJlcGxhY2UoLyAsL2csIiwiKS5yZXBsYWNlKC8gXCcgL2csIiciKS5yZXBsYWNlKC8gblwndC9nLCJuJ3QiKS5yZXBsYWNlKC8gXCdtL2csIidtIikucmVwbGFjZSgvIFwncy9nLCIncyIpLnJlcGxhY2UoLyBcJ3ZlL2csIid2ZSIpLnJlcGxhY2UoLyBcJ3JlL2csIidyZSIpfWZ1bmN0aW9uIFpoKHQpe3JldHVybiB0LnJlcGxhY2UoL1tcdTAzMDAtXHUwMzZmXS9nLCIiKX1mdW5jdGlvbiBIMCh0KXtyZXR1cm4gWmgodC50b0xvd2VyQ2FzZSgpKX1mdW5jdGlvbiBHMCh0LGUscil7Y29uc3Qgbj1bXTtsZXQgYT0wO2Zvcig7YTx0Lmxlbmd0aDspe2lmKG4ucHVzaCh0W2FdKSwoci5nZXQodFthXSk/P2UpIT09ZSl7KythO2NvbnRpbnVlfWZvcig7YTx0Lmxlbmd0aCYmKHIuZ2V0KHRbYV0pPz9lKT09PWU7KSsrYX1yZXR1cm4gbn1mdW5jdGlvbiBxMCh0KXtyZXR1cm4gdC5tYXRjaCgvXFMrL2cpfHxbXX1jb25zdCBDbj0iXFxwe1B9XFx1MDAyMS1cXHUwMDJGXFx1MDAzQS1cXHUwMDQwXFx1MDA1Qi1cXHUwMDYwXFx1MDA3Qi1cXHUwMDdFIixqMD1uZXcgTWFwKFtbIig/aTonc3wndHwncmV8J3ZlfCdtfCdsbHwnZCkiLCIoPzonKFtzU118W3RUXXxbclJdW2VFXXxbdlZdW2VFXXxbbU1dfFtsTF1bbExdfFtkRF0pKSJdXSk7Y2xhc3MgSzB7Y29uc3RydWN0b3IoZSl7dGhpcy5jb250ZW50PWUuY29udGVudCx0aGlzLmlkPWUuaWQsdGhpcy5zaW5nbGVfd29yZD1lLnNpbmdsZV93b3JkPz8hMSx0aGlzLmxzdHJpcD1lLmxzdHJpcD8/ITEsdGhpcy5yc3RyaXA9ZS5yc3RyaXA/PyExLHRoaXMuc3BlY2lhbD1lLnNwZWNpYWw/PyExLHRoaXMubm9ybWFsaXplZD1lLm5vcm1hbGl6ZWQ/P251bGx9fWNsYXNzIEluIGV4dGVuZHMgd3R7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLmNvbmZpZz1lLHRoaXMudm9jYWI9W10sdGhpcy50b2tlbnNfdG9faWRzPW5ldyBNYXAsdGhpcy51bmtfdG9rZW5faWQ9dm9pZCAwLHRoaXMudW5rX3Rva2VuPXZvaWQgMCx0aGlzLmVuZF9vZl93b3JkX3N1ZmZpeD12b2lkIDAsdGhpcy5mdXNlX3Vuaz10aGlzLmNvbmZpZy5mdXNlX3Vuaz8/ITF9c3RhdGljIGZyb21Db25maWcoZSwuLi5yKXtzd2l0Y2goZS50eXBlKXtjYXNlIldvcmRQaWVjZSI6cmV0dXJuIG5ldyBZMChlKTtjYXNlIlVuaWdyYW0iOnJldHVybiBuZXcgWDAoZSwuLi5yKTtjYXNlIkJQRSI6cmV0dXJuIG5ldyBaMChlKTtkZWZhdWx0OmlmKGUudm9jYWIpcmV0dXJuIG5ldyBKMChlLC4uLnIpO3Rocm93IG5ldyBFcnJvcihgVW5rbm93biBUb2tlbml6ZXJNb2RlbCB0eXBlOiAke2UudHlwZX1gKX19X2NhbGwoZSl7bGV0IHI9dGhpcy5lbmNvZGUoZSk7cmV0dXJuIHRoaXMuZnVzZV91bmsmJihyPUcwKHIsdGhpcy51bmtfdG9rZW5faWQsdGhpcy50b2tlbnNfdG9faWRzKSkscn1lbmNvZGUoZSl7dGhyb3cgRXJyb3IoImVuY29kZSBzaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3MuIil9Y29udmVydF90b2tlbnNfdG9faWRzKGUpe3JldHVybiBlLm1hcChyPT50aGlzLnRva2Vuc190b19pZHMuZ2V0KHIpPz90aGlzLnVua190b2tlbl9pZCl9Y29udmVydF9pZHNfdG9fdG9rZW5zKGUpe3JldHVybiBlLm1hcChyPT50aGlzLnZvY2FiW3JdPz90aGlzLnVua190b2tlbil9fWNsYXNzIFkwIGV4dGVuZHMgSW57Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy50b2tlbnNfdG9faWRzPVZzKGUudm9jYWIpLHRoaXMudW5rX3Rva2VuX2lkPXRoaXMudG9rZW5zX3RvX2lkcy5nZXQoZS51bmtfdG9rZW4pLHRoaXMudW5rX3Rva2VuPWUudW5rX3Rva2VuLHRoaXMubWF4X2lucHV0X2NoYXJzX3Blcl93b3JkPWUubWF4X2lucHV0X2NoYXJzX3Blcl93b3JkPz8xMDAsdGhpcy52b2NhYj1uZXcgQXJyYXkodGhpcy50b2tlbnNfdG9faWRzLnNpemUpO2Zvcihjb25zdFtyLG5db2YgdGhpcy50b2tlbnNfdG9faWRzKXRoaXMudm9jYWJbbl09cn1lbmNvZGUoZSl7Y29uc3Qgcj1bXTtmb3IoY29uc3QgbiBvZiBlKXtjb25zdCBhPVsuLi5uXTtpZihhLmxlbmd0aD50aGlzLm1heF9pbnB1dF9jaGFyc19wZXJfd29yZCl7ci5wdXNoKHRoaXMudW5rX3Rva2VuKTtjb250aW51ZX1sZXQgaT0hMSxzPTA7Y29uc3Qgbz1bXTtmb3IoO3M8YS5sZW5ndGg7KXtsZXQgbD1hLmxlbmd0aCxkPW51bGw7Zm9yKDtzPGw7KXtsZXQgYz1hLnNsaWNlKHMsbCkuam9pbigiIik7aWYocz4wJiYoYz10aGlzLmNvbmZpZy5jb250aW51aW5nX3N1YndvcmRfcHJlZml4K2MpLHRoaXMudG9rZW5zX3RvX2lkcy5oYXMoYykpe2Q9YzticmVha30tLWx9aWYoZD09PW51bGwpe2k9ITA7YnJlYWt9by5wdXNoKGQpLHM9bH1pP3IucHVzaCh0aGlzLnVua190b2tlbik6ci5wdXNoKC4uLm8pfXJldHVybiByfX1jbGFzcyBYMCBleHRlbmRzIElue2NvbnN0cnVjdG9yKGUscil7c3VwZXIoZSk7Y29uc3Qgbj1lLnZvY2FiLmxlbmd0aDt0aGlzLnZvY2FiPW5ldyBBcnJheShuKSx0aGlzLnNjb3Jlcz1uZXcgQXJyYXkobik7Zm9yKGxldCBhPTA7YTxuOysrYSl7Y29uc3QgaT1lLnZvY2FiW2FdO3RoaXMudm9jYWJbYV09aVswXSx0aGlzLnNjb3Jlc1thXT1pWzFdfXRoaXMudW5rX3Rva2VuX2lkPWUudW5rX2lkLHRoaXMudW5rX3Rva2VuPXRoaXMudm9jYWJbZS51bmtfaWRdLHRoaXMudG9rZW5zX3RvX2lkcz1uZXcgTWFwKHRoaXMudm9jYWIubWFwKChhLGkpPT5bYSxpXSkpLHRoaXMuYm9zVG9rZW49IiAiLHRoaXMuYm9zVG9rZW5JZD10aGlzLnRva2Vuc190b19pZHMuZ2V0KHRoaXMuYm9zVG9rZW4pLHRoaXMuZW9zVG9rZW49ci5lb3NfdG9rZW4sdGhpcy5lb3NUb2tlbklkPXRoaXMudG9rZW5zX3RvX2lkcy5nZXQodGhpcy5lb3NUb2tlbiksdGhpcy51bmtUb2tlbj10aGlzLnZvY2FiW3RoaXMudW5rX3Rva2VuX2lkXSx0aGlzLm1pblNjb3JlPWtvKHRoaXMuc2NvcmVzKVswXSx0aGlzLnVua1Njb3JlPXRoaXMubWluU2NvcmUtMTAsdGhpcy5zY29yZXNbdGhpcy51bmtfdG9rZW5faWRdPXRoaXMudW5rU2NvcmUsdGhpcy50cmllPW5ldyB3MCx0aGlzLnRyaWUuZXh0ZW5kKHRoaXMudm9jYWIpLHRoaXMuZnVzZV91bms9ITB9cG9wdWxhdGVOb2RlcyhlKXtjb25zdCByPWUuc2VudGVuY2Usbj1yLmxlbmd0aDtsZXQgYT0wO2Zvcig7YTxuOyl7bGV0IGk9ITE7Zm9yKGxldCBzIG9mIHRoaXMudHJpZS5jb21tb25QcmVmaXhTZWFyY2goci5zbGljZShhKSkpe2NvbnN0IG89dGhpcy50b2tlbnNfdG9faWRzLmdldChzKSxsPXRoaXMuc2NvcmVzW29dLGQ9cy5sZW5ndGg7ZS5pbnNlcnQoYSxkLGwsbyksIWkmJmQ9PT0xJiYoaT0hMCl9aXx8ZS5pbnNlcnQoYSwxLHRoaXMudW5rU2NvcmUsdGhpcy51bmtfdG9rZW5faWQpLGErPTF9fXRva2VuaXplKGUpe2NvbnN0IHI9bmV3IHYwKGUsdGhpcy5ib3NUb2tlbklkLHRoaXMuZW9zVG9rZW5JZCk7cmV0dXJuIHRoaXMucG9wdWxhdGVOb2RlcyhyKSxyLnRva2VucygpfWVuY29kZShlKXtjb25zdCByPVtdO2Zvcihjb25zdCBuIG9mIGUpe2NvbnN0IGE9dGhpcy50b2tlbml6ZShuKTtyLnB1c2goLi4uYSl9cmV0dXJuIHJ9fWNvbnN0IEpoPSgoKT0+e2NvbnN0IHQ9Wy4uLkFycmF5LmZyb20oe2xlbmd0aDo5NH0sKGEsaSk9PmkrMzMpLC4uLkFycmF5LmZyb20oe2xlbmd0aDoxMn0sKGEsaSk9PmkrMTYxKSwuLi5BcnJheS5mcm9tKHtsZW5ndGg6ODJ9LChhLGkpPT5pKzE3NCldLGU9dC5zbGljZSgpO2xldCByPTA7Zm9yKGxldCBhPTA7YTwyNTY7KythKXQuaW5jbHVkZXMoYSl8fCh0LnB1c2goYSksZS5wdXNoKDI1NityKSxyKz0xKTtjb25zdCBuPWUubWFwKGE9PlN0cmluZy5mcm9tQ2hhckNvZGUoYSkpO3JldHVybiBPYmplY3QuZnJvbUVudHJpZXModC5tYXAoKGEsaSk9PlthLG5baV1dKSl9KSgpLFEwPXBnKEpoKTtjbGFzcyBaMCBleHRlbmRzIElue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuQlBFX1NQTElUX1RPS0VOPSIgIix0aGlzLnRva2Vuc190b19pZHM9VnMoZS52b2NhYiksdGhpcy51bmtfdG9rZW5faWQ9dGhpcy50b2tlbnNfdG9faWRzLmdldChlLnVua190b2tlbiksdGhpcy51bmtfdG9rZW49ZS51bmtfdG9rZW4sdGhpcy52b2NhYj1uZXcgQXJyYXkodGhpcy50b2tlbnNfdG9faWRzLnNpemUpO2Zvcihjb25zdFtyLG5db2YgdGhpcy50b2tlbnNfdG9faWRzKXRoaXMudm9jYWJbbl09cjt0aGlzLmJwZV9yYW5rcz1uZXcgTWFwKGUubWVyZ2VzLm1hcCgocixuKT0+W3Isbl0pKSx0aGlzLm1lcmdlcz1lLm1lcmdlcy5tYXAocj0+ci5zcGxpdCh0aGlzLkJQRV9TUExJVF9UT0tFTikpLHRoaXMuZW5kX29mX3dvcmRfc3VmZml4PWUuZW5kX29mX3dvcmRfc3VmZml4LHRoaXMuY29udGludWluZ19zdWJ3b3JkX3N1ZmZpeD1lLmNvbnRpbnVpbmdfc3Vid29yZF9zdWZmaXg/P251bGwsdGhpcy5ieXRlX2ZhbGxiYWNrPXRoaXMuY29uZmlnLmJ5dGVfZmFsbGJhY2s/PyExLHRoaXMuYnl0ZV9mYWxsYmFjayYmKHRoaXMudGV4dF9lbmNvZGVyPW5ldyBUZXh0RW5jb2RlciksdGhpcy5jYWNoZT1uZXcgTWFwfWJwZShlKXtpZihlLmxlbmd0aD09PTApcmV0dXJuW107Y29uc3Qgcj10aGlzLmNhY2hlLmdldChlKTtpZihyIT09dm9pZCAwKXJldHVybiByO2NvbnN0IG49QXJyYXkuZnJvbShlKTt0aGlzLmVuZF9vZl93b3JkX3N1ZmZpeCYmKG5bbi5sZW5ndGgtMV0rPXRoaXMuZW5kX29mX3dvcmRfc3VmZml4KTtsZXQgYT1bXTtpZihuLmxlbmd0aD4xKXtjb25zdCBpPW5ldyB5MCgobCxkKT0+bC5zY29yZTxkLnNjb3JlKTtsZXQgcz17dG9rZW46blswXSxiaWFzOjAscHJldjpudWxsLG5leHQ6bnVsbH0sbz1zO2ZvcihsZXQgbD0xO2w8bi5sZW5ndGg7KytsKXtjb25zdCBkPXtiaWFzOmwvbi5sZW5ndGgsdG9rZW46bltsXSxwcmV2Om8sbmV4dDpudWxsfTtvLm5leHQ9ZCx0aGlzLl9hZGRfbm9kZShpLG8pLG89ZH1mb3IoOyFpLmlzRW1wdHkoKTspe2NvbnN0IGw9aS5wb3AoKTtpZihsLmRlbGV0ZWR8fCFsLm5leHR8fGwubmV4dC5kZWxldGVkKWNvbnRpbnVlO2lmKGwuZGVsZXRlZD0hMCxsLm5leHQuZGVsZXRlZD0hMCxsLnByZXYpe2NvbnN0IGM9ey4uLmwucHJldn07bC5wcmV2LmRlbGV0ZWQ9ITAsbC5wcmV2PWMsYy5wcmV2P2MucHJldi5uZXh0PWM6cz1jfWNvbnN0IGQ9e3Rva2VuOmwudG9rZW4rbC5uZXh0LnRva2VuLGJpYXM6bC5iaWFzLHByZXY6bC5wcmV2LG5leHQ6bC5uZXh0Lm5leHR9O2QucHJldj8oZC5wcmV2Lm5leHQ9ZCx0aGlzLl9hZGRfbm9kZShpLGQucHJldikpOnM9ZCxkLm5leHQmJihkLm5leHQucHJldj1kLHRoaXMuX2FkZF9ub2RlKGksZCkpfWZvcihsZXQgbD1zO2whPT1udWxsO2w9bC5uZXh0KWEucHVzaChsLnRva2VuKX1lbHNlIGE9bjtpZih0aGlzLmNvbnRpbnVpbmdfc3Vid29yZF9zdWZmaXgpZm9yKGxldCBpPTA7aTxhLmxlbmd0aC0xOysraSlhW2ldKz10aGlzLmNvbnRpbnVpbmdfc3Vid29yZF9zdWZmaXg7cmV0dXJuIHRoaXMuY2FjaGUuc2V0KGUsYSksYX1fYWRkX25vZGUoZSxyKXtjb25zdCBuPXRoaXMuYnBlX3JhbmtzLmdldChyLnRva2VuK3RoaXMuQlBFX1NQTElUX1RPS0VOK3IubmV4dC50b2tlbik7biE9PXZvaWQgMCYmKHIuc2NvcmU9bityLmJpYXMsZS5wdXNoKHIpKX1lbmNvZGUoZSl7Y29uc3Qgcj1bXTtmb3IoY29uc3QgbiBvZiBlKXtjb25zdCBhPXRoaXMuYnBlKG4pO2Zvcihjb25zdCBpIG9mIGEpdGhpcy50b2tlbnNfdG9faWRzLmhhcyhpKT9yLnB1c2goaSk6dGhpcy5ieXRlX2ZhbGxiYWNrP3IucHVzaCguLi5BcnJheS5mcm9tKHRoaXMudGV4dF9lbmNvZGVyLmVuY29kZShpKSkubWFwKHM9PmA8MHgke3MudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkucGFkU3RhcnQoMiwiMCIpfT5gKSk6ci5wdXNoKHRoaXMudW5rX3Rva2VuKX1yZXR1cm4gcn19Y2xhc3MgSjAgZXh0ZW5kcyBJbntjb25zdHJ1Y3RvcihlLHIpe3N1cGVyKGUpLHRoaXMudG9rZW5zX3RvX2lkcz1WcyhyLnRhcmdldF9sYW5nP2Uudm9jYWJbci50YXJnZXRfbGFuZ106ZS52b2NhYiksdGhpcy5ib3NfdG9rZW49ci5ib3NfdG9rZW4sdGhpcy5ib3NfdG9rZW5faWQ9dGhpcy50b2tlbnNfdG9faWRzLmdldCh0aGlzLmJvc190b2tlbiksdGhpcy5lb3NfdG9rZW49ci5lb3NfdG9rZW4sdGhpcy5lb3NfdG9rZW5faWQ9dGhpcy50b2tlbnNfdG9faWRzLmdldCh0aGlzLmVvc190b2tlbiksdGhpcy5wYWRfdG9rZW49ci5wYWRfdG9rZW4sdGhpcy5wYWRfdG9rZW5faWQ9dGhpcy50b2tlbnNfdG9faWRzLmdldCh0aGlzLnBhZF90b2tlbiksdGhpcy51bmtfdG9rZW49ci51bmtfdG9rZW4sdGhpcy51bmtfdG9rZW5faWQ9dGhpcy50b2tlbnNfdG9faWRzLmdldCh0aGlzLnVua190b2tlbiksdGhpcy52b2NhYj1uZXcgQXJyYXkodGhpcy50b2tlbnNfdG9faWRzLnNpemUpO2Zvcihjb25zdFtuLGFdb2YgdGhpcy50b2tlbnNfdG9faWRzKXRoaXMudm9jYWJbYV09bn1lbmNvZGUoZSl7cmV0dXJuIGV9fWNsYXNzICR0IGV4dGVuZHMgd3R7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLmNvbmZpZz1lfXN0YXRpYyBmcm9tQ29uZmlnKGUpe2lmKGU9PT1udWxsKXJldHVybiBudWxsO3N3aXRjaChlLnR5cGUpe2Nhc2UiQmVydE5vcm1hbGl6ZXIiOnJldHVybiBuZXcgdXkoZSk7Y2FzZSJQcmVjb21waWxlZCI6cmV0dXJuIG5ldyBJeShlKTtjYXNlIlNlcXVlbmNlIjpyZXR1cm4gbmV3IGx5KGUpO2Nhc2UiUmVwbGFjZSI6cmV0dXJuIG5ldyBleShlKTtjYXNlIk5GQyI6cmV0dXJuIG5ldyB0eShlKTtjYXNlIk5GS0MiOnJldHVybiBuZXcgcnkoZSk7Y2FzZSJORktEIjpyZXR1cm4gbmV3IG55KGUpO2Nhc2UiU3RyaXAiOnJldHVybiBuZXcgYXkoZSk7Y2FzZSJTdHJpcEFjY2VudHMiOnJldHVybiBuZXcgaXkoZSk7Y2FzZSJMb3dlcmNhc2UiOnJldHVybiBuZXcgc3koZSk7Y2FzZSJQcmVwZW5kIjpyZXR1cm4gbmV3IG95KGUpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIE5vcm1hbGl6ZXIgdHlwZTogJHtlLnR5cGV9YCl9fW5vcm1hbGl6ZShlKXt0aHJvdyBFcnJvcigibm9ybWFsaXplIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzcy4iKX1fY2FsbChlKXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoZSl9fWNsYXNzIGV5IGV4dGVuZHMgJHR7bm9ybWFsaXplKGUpe2NvbnN0IHI9V2EodGhpcy5jb25maWcucGF0dGVybik7cmV0dXJuIHI9PT1udWxsP2U6ZS5yZXBsYWNlQWxsKHIsdGhpcy5jb25maWcuY29udGVudCl9fWNsYXNzIHR5IGV4dGVuZHMgJHR7bm9ybWFsaXplKGUpe3JldHVybiBlPWUubm9ybWFsaXplKCJORkMiKSxlfX1jbGFzcyByeSBleHRlbmRzICR0e25vcm1hbGl6ZShlKXtyZXR1cm4gZT1lLm5vcm1hbGl6ZSgiTkZLQyIpLGV9fWNsYXNzIG55IGV4dGVuZHMgJHR7bm9ybWFsaXplKGUpe3JldHVybiBlPWUubm9ybWFsaXplKCJORktEIiksZX19Y2xhc3MgYXkgZXh0ZW5kcyAkdHtub3JtYWxpemUoZSl7cmV0dXJuIHRoaXMuY29uZmlnLnN0cmlwX2xlZnQmJnRoaXMuY29uZmlnLnN0cmlwX3JpZ2h0P2U9ZS50cmltKCk6KHRoaXMuY29uZmlnLnN0cmlwX2xlZnQmJihlPWUudHJpbVN0YXJ0KCkpLHRoaXMuY29uZmlnLnN0cmlwX3JpZ2h0JiYoZT1lLnRyaW1FbmQoKSkpLGV9fWNsYXNzIGl5IGV4dGVuZHMgJHR7bm9ybWFsaXplKGUpe3JldHVybiBlPVpoKGUpLGV9fWNsYXNzIHN5IGV4dGVuZHMgJHR7bm9ybWFsaXplKGUpe3JldHVybiBlPWUudG9Mb3dlckNhc2UoKSxlfX1jbGFzcyBveSBleHRlbmRzICR0e25vcm1hbGl6ZShlKXtyZXR1cm4gZT10aGlzLmNvbmZpZy5wcmVwZW5kK2UsZX19Y2xhc3MgbHkgZXh0ZW5kcyAkdHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLm5vcm1hbGl6ZXJzPWUubm9ybWFsaXplcnMubWFwKHI9PiR0LmZyb21Db25maWcocikpfW5vcm1hbGl6ZShlKXtyZXR1cm4gdGhpcy5ub3JtYWxpemVycy5yZWR1Y2UoKHIsbik9Pm4ubm9ybWFsaXplKHIpLGUpfX1jbGFzcyB1eSBleHRlbmRzICR0e190b2tlbml6ZV9jaGluZXNlX2NoYXJzKGUpe2NvbnN0IHI9W107Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDsrK24pe2NvbnN0IGE9ZVtuXSxpPWEuY2hhckNvZGVBdCgwKTt0aGlzLl9pc19jaGluZXNlX2NoYXIoaSk/KHIucHVzaCgiICIpLHIucHVzaChhKSxyLnB1c2goIiAiKSk6ci5wdXNoKGEpfXJldHVybiByLmpvaW4oIiIpfV9pc19jaGluZXNlX2NoYXIoZSl7cmV0dXJuIGU+PTE5OTY4JiZlPD00MDk1OXx8ZT49MTMzMTImJmU8PTE5OTAzfHxlPj0xMzEwNzImJmU8PTE3Mzc5MXx8ZT49MTczODI0JiZlPD0xNzc5ODN8fGU+PTE3Nzk4NCYmZTw9MTc4MjA3fHxlPj0xNzgyMDgmJmU8PTE4Mzk4M3x8ZT49NjM3NDQmJmU8PTY0MjU1fHxlPj0xOTQ1NjAmJmU8PTE5NTEwM31zdHJpcEFjY2VudHMoZSl7cmV0dXJuIGUubm9ybWFsaXplKCJORkQiKS5yZXBsYWNlKC9bXHUwMzAwLVx1MDM2Zl0vZywiIil9X2lzX2NvbnRyb2woZSl7c3dpdGNoKGUpe2Nhc2UiCSI6Y2FzZWAKYDpjYXNlIlxyIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybi9eXHB7Q2N9fFxwe0NmfXxccHtDb318XHB7Q3N9JC91LnRlc3QoZSl9fV9jbGVhbl90ZXh0KGUpe2NvbnN0IHI9W107Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgYT1uLmNoYXJDb2RlQXQoMCk7YT09PTB8fGE9PT02NTUzM3x8dGhpcy5faXNfY29udHJvbChuKXx8KC9eXHMkLy50ZXN0KG4pP3IucHVzaCgiICIpOnIucHVzaChuKSl9cmV0dXJuIHIuam9pbigiIil9bm9ybWFsaXplKGUpe3JldHVybiB0aGlzLmNvbmZpZy5jbGVhbl90ZXh0JiYoZT10aGlzLl9jbGVhbl90ZXh0KGUpKSx0aGlzLmNvbmZpZy5oYW5kbGVfY2hpbmVzZV9jaGFycyYmKGU9dGhpcy5fdG9rZW5pemVfY2hpbmVzZV9jaGFycyhlKSksdGhpcy5jb25maWcubG93ZXJjYXNlPyhlPWUudG9Mb3dlckNhc2UoKSx0aGlzLmNvbmZpZy5zdHJpcF9hY2NlbnRzIT09ITEmJihlPXRoaXMuc3RyaXBBY2NlbnRzKGUpKSk6dGhpcy5jb25maWcuc3RyaXBfYWNjZW50cyYmKGU9dGhpcy5zdHJpcEFjY2VudHMoZSkpLGV9fWNsYXNzIFR0IGV4dGVuZHMgd3R7c3RhdGljIGZyb21Db25maWcoZSl7aWYoZT09PW51bGwpcmV0dXJuIG51bGw7c3dpdGNoKGUudHlwZSl7Y2FzZSJCZXJ0UHJlVG9rZW5pemVyIjpyZXR1cm4gbmV3IGR5KGUpO2Nhc2UiU2VxdWVuY2UiOnJldHVybiBuZXcgQXkoZSk7Y2FzZSJXaGl0ZXNwYWNlIjpyZXR1cm4gbmV3IFR5KGUpO2Nhc2UiV2hpdGVzcGFjZVNwbGl0IjpyZXR1cm4gbmV3IE95KGUpO2Nhc2UiTWV0YXNwYWNlIjpyZXR1cm4gbmV3IHJmKGUpO2Nhc2UiQnl0ZUxldmVsIjpyZXR1cm4gbmV3IGN5KGUpO2Nhc2UiU3BsaXQiOnJldHVybiBuZXcgcHkoZSk7Y2FzZSJQdW5jdHVhdGlvbiI6cmV0dXJuIG5ldyBoeShlKTtjYXNlIkRpZ2l0cyI6cmV0dXJuIG5ldyBmeShlKTtjYXNlIlJlcGxhY2UiOnJldHVybiBuZXcgTXkoZSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gUHJlVG9rZW5pemVyIHR5cGU6ICR7ZS50eXBlfWApfX1wcmVfdG9rZW5pemVfdGV4dChlLHIpe3Rocm93IEVycm9yKCJwcmVfdG9rZW5pemVfdGV4dCBzaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3MuIil9cHJlX3Rva2VuaXplKGUscil7cmV0dXJuKEFycmF5LmlzQXJyYXkoZSk/ZS5tYXAobj0+dGhpcy5wcmVfdG9rZW5pemVfdGV4dChuLHIpKTp0aGlzLnByZV90b2tlbml6ZV90ZXh0KGUscikpLmZsYXQoKX1fY2FsbChlLHIpe3JldHVybiB0aGlzLnByZV90b2tlbml6ZShlLHIpfX1jbGFzcyBkeSBleHRlbmRzIFR0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5wYXR0ZXJuPW5ldyBSZWdFeHAoYFteXFxzJHtDbn1dK3xbJHtDbn1dYCwiZ3UiKX1wcmVfdG9rZW5pemVfdGV4dChlLHIpe3JldHVybiBlLnRyaW0oKS5tYXRjaCh0aGlzLnBhdHRlcm4pfHxbXX19Y2xhc3MgY3kgZXh0ZW5kcyBUdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuY29uZmlnPWUsdGhpcy5hZGRfcHJlZml4X3NwYWNlPXRoaXMuY29uZmlnLmFkZF9wcmVmaXhfc3BhY2UsdGhpcy50cmltX29mZnNldHM9dGhpcy5jb25maWcudHJpbV9vZmZzZXRzLHRoaXMudXNlX3JlZ2V4PXRoaXMuY29uZmlnLnVzZV9yZWdleD8/ITAsdGhpcy5wYXR0ZXJuPS8nc3wndHwncmV8J3ZlfCdtfCdsbHwnZHwgP1xwe0x9K3wgP1xwe059K3wgP1teXHNccHtMfVxwe059XSt8XHMrKD8hXFMpfFxzKy9ndSx0aGlzLmJ5dGVfZW5jb2Rlcj1KaCx0aGlzLnRleHRfZW5jb2Rlcj1uZXcgVGV4dEVuY29kZXJ9cHJlX3Rva2VuaXplX3RleHQoZSxyKXtyZXR1cm4gdGhpcy5hZGRfcHJlZml4X3NwYWNlJiYhZS5zdGFydHNXaXRoKCIgIikmJihlPSIgIitlKSwodGhpcy51c2VfcmVnZXg/ZS5tYXRjaCh0aGlzLnBhdHRlcm4pfHxbXTpbZV0pLm1hcChuPT5BcnJheS5mcm9tKHRoaXMudGV4dF9lbmNvZGVyLmVuY29kZShuKSxhPT50aGlzLmJ5dGVfZW5jb2RlclthXSkuam9pbigiIikpfX1jbGFzcyBweSBleHRlbmRzIFR0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5jb25maWc9ZSx0aGlzLnBhdHRlcm49V2EodGhpcy5jb25maWcucGF0dGVybix0aGlzLmNvbmZpZy5pbnZlcnQpfXByZV90b2tlbml6ZV90ZXh0KGUscil7cmV0dXJuIHRoaXMucGF0dGVybj09PW51bGw/W106dGhpcy5jb25maWcuaW52ZXJ0P2UubWF0Y2godGhpcy5wYXR0ZXJuKXx8W106VjAoZSx0aGlzLnBhdHRlcm4pfX1jbGFzcyBoeSBleHRlbmRzIFR0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5jb25maWc9ZSx0aGlzLnBhdHRlcm49bmV3IFJlZ0V4cChgW14ke0NufV0rfFske0NufV0rYCwiZ3UiKX1wcmVfdG9rZW5pemVfdGV4dChlLHIpe3JldHVybiBlLm1hdGNoKHRoaXMucGF0dGVybil8fFtdfX1jbGFzcyBmeSBleHRlbmRzIFR0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5jb25maWc9ZTtjb25zdCByPWBbXlxcZF0rfFxcZCR7dGhpcy5jb25maWcuaW5kaXZpZHVhbF9kaWdpdHM/IiI6IisifWA7dGhpcy5wYXR0ZXJuPW5ldyBSZWdFeHAociwiZ3UiKX1wcmVfdG9rZW5pemVfdGV4dChlLHIpe3JldHVybiBlLm1hdGNoKHRoaXMucGF0dGVybil8fFtdfX1jbGFzcyBMYSBleHRlbmRzIHd0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5jb25maWc9ZX1zdGF0aWMgZnJvbUNvbmZpZyhlKXtpZihlPT09bnVsbClyZXR1cm4gbnVsbDtzd2l0Y2goZS50eXBlKXtjYXNlIlRlbXBsYXRlUHJvY2Vzc2luZyI6cmV0dXJuIG5ldyBteShlKTtjYXNlIkJ5dGVMZXZlbCI6cmV0dXJuIG5ldyBneShlKTtjYXNlIlJvYmVydGFQcm9jZXNzaW5nIjpyZXR1cm4gbmV3IHRmKGUpO2Nhc2UiQmVydFByb2Nlc3NpbmciOnJldHVybiBuZXcgZWYoZSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gUG9zdFByb2Nlc3NvciB0eXBlOiAke2UudHlwZX1gKX19cG9zdF9wcm9jZXNzKGUsLi4ucil7dGhyb3cgRXJyb3IoInBvc3RfcHJvY2VzcyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3MuIil9X2NhbGwoZSwuLi5yKXtyZXR1cm4gdGhpcy5wb3N0X3Byb2Nlc3MoZSwuLi5yKX19Y2xhc3MgZWYgZXh0ZW5kcyBMYXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmNscz1lLmNsc1swXSx0aGlzLnNlcD1lLnNlcFswXX1wb3N0X3Byb2Nlc3MoZSxyPW51bGwse2FkZF9zcGVjaWFsX3Rva2VuczpuPSEwfT17fSl7biYmKGU9bHQoW3RoaXMuY2xzXSxlLFt0aGlzLnNlcF0pKTtsZXQgYT1uZXcgQXJyYXkoZS5sZW5ndGgpLmZpbGwoMCk7aWYociE9PW51bGwpe2NvbnN0IGk9biYmdGhpcyBpbnN0YW5jZW9mIHRmP1t0aGlzLnNlcF06W10scz1uP1t0aGlzLnNlcF06W107ZT1sdChlLGkscixzKSxhPWx0KGEsbmV3IEFycmF5KHIubGVuZ3RoK2kubGVuZ3RoK3MubGVuZ3RoKS5maWxsKDEpKX1yZXR1cm57dG9rZW5zOmUsdG9rZW5fdHlwZV9pZHM6YX19fWNsYXNzIHRmIGV4dGVuZHMgZWZ7fWNsYXNzIG15IGV4dGVuZHMgTGF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5zaW5nbGU9ZS5zaW5nbGUsdGhpcy5wYWlyPWUucGFpcn1wb3N0X3Byb2Nlc3MoZSxyPW51bGwse2FkZF9zcGVjaWFsX3Rva2VuczpuPSEwfT17fSl7Y29uc3QgYT1yPT09bnVsbD90aGlzLnNpbmdsZTp0aGlzLnBhaXI7bGV0IGk9W10scz1bXTtmb3IoY29uc3QgbyBvZiBhKSJTcGVjaWFsVG9rZW4iaW4gbz9uJiYoaS5wdXNoKG8uU3BlY2lhbFRva2VuLmlkKSxzLnB1c2goby5TcGVjaWFsVG9rZW4udHlwZV9pZCkpOiJTZXF1ZW5jZSJpbiBvJiYoby5TZXF1ZW5jZS5pZD09PSJBIj8oaT1sdChpLGUpLHM9bHQocyxuZXcgQXJyYXkoZS5sZW5ndGgpLmZpbGwoby5TZXF1ZW5jZS50eXBlX2lkKSkpOm8uU2VxdWVuY2UuaWQ9PT0iQiImJihpPWx0KGkscikscz1sdChzLG5ldyBBcnJheShyLmxlbmd0aCkuZmlsbChvLlNlcXVlbmNlLnR5cGVfaWQpKSkpO3JldHVybnt0b2tlbnM6aSx0b2tlbl90eXBlX2lkczpzfX19Y2xhc3MgZ3kgZXh0ZW5kcyBMYXtwb3N0X3Byb2Nlc3MoZSxyPW51bGwpe3JldHVybiByJiYoZT1sdChlLHIpKSx7dG9rZW5zOmV9fX1jbGFzcyB4dCBleHRlbmRzIHd0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5jb25maWc9ZSx0aGlzLmFkZGVkX3Rva2Vucz1bXSx0aGlzLmVuZF9vZl93b3JkX3N1ZmZpeD1udWxsLHRoaXMudHJpbV9vZmZzZXRzPWUudHJpbV9vZmZzZXRzfXN0YXRpYyBmcm9tQ29uZmlnKGUpe2lmKGU9PT1udWxsKXJldHVybiBudWxsO3N3aXRjaChlLnR5cGUpe2Nhc2UiV29yZFBpZWNlIjpyZXR1cm4gbmV3IGJ5KGUpO2Nhc2UiTWV0YXNwYWNlIjpyZXR1cm4gbmV3IEN5KGUpO2Nhc2UiQnl0ZUxldmVsIjpyZXR1cm4gbmV3ICR5KGUpO2Nhc2UiUmVwbGFjZSI6cmV0dXJuIG5ldyBfeShlKTtjYXNlIkJ5dGVGYWxsYmFjayI6cmV0dXJuIG5ldyB5eShlKTtjYXNlIkZ1c2UiOnJldHVybiBuZXcgd3koZSk7Y2FzZSJTdHJpcCI6cmV0dXJuIG5ldyB2eShlKTtjYXNlIlNlcXVlbmNlIjpyZXR1cm4gbmV3IGt5KGUpO2Nhc2UiQ1RDIjpyZXR1cm4gbmV3IHh5KGUpO2Nhc2UiQlBFRGVjb2RlciI6cmV0dXJuIG5ldyBTeShlKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBEZWNvZGVyIHR5cGU6ICR7ZS50eXBlfWApfX1fY2FsbChlKXtyZXR1cm4gdGhpcy5kZWNvZGUoZSl9ZGVjb2RlKGUpe3JldHVybiB0aGlzLmRlY29kZV9jaGFpbihlKS5qb2luKCIiKX1kZWNvZGVfY2hhaW4oZSl7dGhyb3cgRXJyb3IoImBkZWNvZGVfY2hhaW5gIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzcy4iKX19Y2xhc3MgX3kgZXh0ZW5kcyB4dHtkZWNvZGVfY2hhaW4oZSl7Y29uc3Qgcj1XYSh0aGlzLmNvbmZpZy5wYXR0ZXJuKTtyZXR1cm4gcj09PW51bGw/ZTplLm1hcChuPT5uLnJlcGxhY2VBbGwocix0aGlzLmNvbmZpZy5jb250ZW50KSl9fWNsYXNzIHl5IGV4dGVuZHMgeHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy50ZXh0X2RlY29kZXI9bmV3IFRleHREZWNvZGVyfWRlY29kZV9jaGFpbihlKXtjb25zdCByPVtdO2xldCBuPVtdO2Zvcihjb25zdCBhIG9mIGUpe2xldCBpPW51bGw7aWYoYS5sZW5ndGg9PT02JiZhLnN0YXJ0c1dpdGgoIjwweCIpJiZhLmVuZHNXaXRoKCI+Iikpe2NvbnN0IHM9cGFyc2VJbnQoYS5zbGljZSgzLDUpLDE2KTtpc05hTihzKXx8KGk9cyl9aWYoaSE9PW51bGwpbi5wdXNoKGkpO2Vsc2V7aWYobi5sZW5ndGg+MCl7Y29uc3Qgcz10aGlzLnRleHRfZGVjb2Rlci5kZWNvZGUoVWludDhBcnJheS5mcm9tKG4pKTtyLnB1c2gocyksbj1bXX1yLnB1c2goYSl9fWlmKG4ubGVuZ3RoPjApe2NvbnN0IGE9dGhpcy50ZXh0X2RlY29kZXIuZGVjb2RlKFVpbnQ4QXJyYXkuZnJvbShuKSk7ci5wdXNoKGEpLG49W119cmV0dXJuIHJ9fWNsYXNzIHd5IGV4dGVuZHMgeHR7ZGVjb2RlX2NoYWluKGUpe3JldHVybltlLmpvaW4oIiIpXX19Y2xhc3MgdnkgZXh0ZW5kcyB4dHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmNvbnRlbnQ9dGhpcy5jb25maWcuY29udGVudCx0aGlzLnN0YXJ0PXRoaXMuY29uZmlnLnN0YXJ0LHRoaXMuc3RvcD10aGlzLmNvbmZpZy5zdG9wfWRlY29kZV9jaGFpbihlKXtyZXR1cm4gZS5tYXAocj0+e2xldCBuPTA7Zm9yKGxldCBpPTA7aTx0aGlzLnN0YXJ0JiZyW2ldPT09dGhpcy5jb250ZW50OysraSluPWkrMTtsZXQgYT1yLmxlbmd0aDtmb3IobGV0IGk9MDtpPHRoaXMuc3RvcDsrK2kpe2NvbnN0IHM9ci5sZW5ndGgtaS0xO2lmKHJbc109PT10aGlzLmNvbnRlbnQpe2E9cztjb250aW51ZX1lbHNlIGJyZWFrfXJldHVybiByLnNsaWNlKG4sYSl9KX19Y2xhc3MgYnkgZXh0ZW5kcyB4dHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmNsZWFudXA9ZS5jbGVhbnVwfWRlY29kZV9jaGFpbihlKXtyZXR1cm4gZS5tYXAoKHIsbik9PihuIT09MCYmKHIuc3RhcnRzV2l0aCh0aGlzLmNvbmZpZy5wcmVmaXgpP3I9ci5yZXBsYWNlKHRoaXMuY29uZmlnLnByZWZpeCwiIik6cj0iICIrciksdGhpcy5jbGVhbnVwJiYocj1IcyhyKSkscikpfX1jbGFzcyAkeSBleHRlbmRzIHh0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuYnl0ZV9kZWNvZGVyPVEwLHRoaXMudGV4dF9kZWNvZGVyPW5ldyBUZXh0RGVjb2RlcigidXRmLTgiLHtmYXRhbDohMSxpZ25vcmVCT006ITB9KSx0aGlzLmVuZF9vZl93b3JkX3N1ZmZpeD1udWxsfWNvbnZlcnRfdG9rZW5zX3RvX3N0cmluZyhlKXtjb25zdCByPWUuam9pbigiIiksbj1uZXcgVWludDhBcnJheShbLi4ucl0ubWFwKGE9PnRoaXMuYnl0ZV9kZWNvZGVyW2FdKSk7cmV0dXJuIHRoaXMudGV4dF9kZWNvZGVyLmRlY29kZShuKX1kZWNvZGVfY2hhaW4oZSl7Y29uc3Qgcj1bXTtsZXQgbj1bXTtmb3IoY29uc3QgYSBvZiBlKXRoaXMuYWRkZWRfdG9rZW5zLmZpbmQoaT0+aS5jb250ZW50PT09YSkhPT12b2lkIDA/KG4ubGVuZ3RoPjAmJihyLnB1c2godGhpcy5jb252ZXJ0X3Rva2Vuc190b19zdHJpbmcobikpLG49W10pLHIucHVzaChhKSk6bi5wdXNoKGEpO3JldHVybiBuLmxlbmd0aD4wJiZyLnB1c2godGhpcy5jb252ZXJ0X3Rva2Vuc190b19zdHJpbmcobikpLHJ9fWNsYXNzIHh5IGV4dGVuZHMgeHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5wYWRfdG9rZW49dGhpcy5jb25maWcucGFkX3Rva2VuLHRoaXMud29yZF9kZWxpbWl0ZXJfdG9rZW49dGhpcy5jb25maWcud29yZF9kZWxpbWl0ZXJfdG9rZW4sdGhpcy5jbGVhbnVwPXRoaXMuY29uZmlnLmNsZWFudXB9Y29udmVydF90b2tlbnNfdG9fc3RyaW5nKGUpe2lmKGUubGVuZ3RoPT09MClyZXR1cm4iIjtjb25zdCByPVtlWzBdXTtmb3IobGV0IGE9MTthPGUubGVuZ3RoOysrYSllW2FdIT09ci5hdCgtMSkmJnIucHVzaChlW2FdKTtsZXQgbj1yLmZpbHRlcihhPT5hIT09dGhpcy5wYWRfdG9rZW4pLmpvaW4oIiIpO3JldHVybiB0aGlzLmNsZWFudXAmJihuPUhzKG4pLnJlcGxhY2VBbGwodGhpcy53b3JkX2RlbGltaXRlcl90b2tlbiwiICIpLnRyaW0oKSksbn1kZWNvZGVfY2hhaW4oZSl7cmV0dXJuW3RoaXMuY29udmVydF90b2tlbnNfdG9fc3RyaW5nKGUpXX19Y2xhc3Mga3kgZXh0ZW5kcyB4dHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmRlY29kZXJzPWUuZGVjb2RlcnMubWFwKHI9Pnh0LmZyb21Db25maWcocikpfWRlY29kZV9jaGFpbihlKXtyZXR1cm4gdGhpcy5kZWNvZGVycy5yZWR1Y2UoKHIsbik9Pm4uZGVjb2RlX2NoYWluKHIpLGUpfX1jbGFzcyBTeSBleHRlbmRzIHh0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuc3VmZml4PXRoaXMuY29uZmlnLnN1ZmZpeH1kZWNvZGVfY2hhaW4oZSl7cmV0dXJuIGUubWFwKChyLG4pPT5yLnJlcGxhY2VBbGwodGhpcy5zdWZmaXgsbj09PWUubGVuZ3RoLTE/IiI6IiAiKSl9fWNsYXNzIEV5IGV4dGVuZHMgeHR7ZGVjb2RlX2NoYWluKGUpe2xldCByPSIiO2ZvcihsZXQgbj0xO248ZS5sZW5ndGg7bis9MilyKz1lW25dO3JldHVybltyXX19Y2xhc3MgcmYgZXh0ZW5kcyBUdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuYWRkUHJlZml4U3BhY2U9ZS5hZGRfcHJlZml4X3NwYWNlLHRoaXMucmVwbGFjZW1lbnQ9ZS5yZXBsYWNlbWVudCx0aGlzLnN0clJlcD1lLnN0cl9yZXB8fHRoaXMucmVwbGFjZW1lbnQsdGhpcy5wcmVwZW5kX3NjaGVtZT1lLnByZXBlbmRfc2NoZW1lPz8iYWx3YXlzIn1wcmVfdG9rZW5pemVfdGV4dChlLHtzZWN0aW9uX2luZGV4OnI9dm9pZCAwfT17fSl7bGV0IG49ZS5yZXBsYWNlQWxsKCIgIix0aGlzLnN0clJlcCk7cmV0dXJuIHRoaXMuYWRkUHJlZml4U3BhY2UmJiFuLnN0YXJ0c1dpdGgodGhpcy5yZXBsYWNlbWVudCkmJih0aGlzLnByZXBlbmRfc2NoZW1lPT09ImFsd2F5cyJ8fHRoaXMucHJlcGVuZF9zY2hlbWU9PT0iZmlyc3QiJiZyPT09MCkmJihuPXRoaXMuc3RyUmVwK24pLFtuXX19Y2xhc3MgQ3kgZXh0ZW5kcyB4dHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmFkZFByZWZpeFNwYWNlPWUuYWRkX3ByZWZpeF9zcGFjZSx0aGlzLnJlcGxhY2VtZW50PWUucmVwbGFjZW1lbnR9ZGVjb2RlX2NoYWluKGUpe2NvbnN0IHI9W107Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDsrK24pe2xldCBhPWVbbl0ucmVwbGFjZUFsbCh0aGlzLnJlcGxhY2VtZW50LCIgIik7dGhpcy5hZGRQcmVmaXhTcGFjZSYmbj09MCYmYS5zdGFydHNXaXRoKCIgIikmJihhPWEuc3Vic3RyaW5nKDEpKSxyLnB1c2goYSl9cmV0dXJuIHJ9fWNsYXNzIEl5IGV4dGVuZHMgJHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jaGFyc21hcD1lLnByZWNvbXBpbGVkX2NoYXJzbWFwfW5vcm1hbGl6ZShlKXtyZXR1cm4gZT1lLnJlcGxhY2UoL1tcdTAwMDEtXHUwMDA4XHUwMDBCXHUwMDBFLVx1MDAxRlx1MDA3Rlx1MDA4Rlx1MDA5Rl0vZ20sIiIpLGU9ZS5yZXBsYWNlKC9bXHUwMDA5XHUwMDBBXHUwMDBDXHUwMDBEXHUxNjgwXHUyMDBCXHUyMDBDXHUyMDBFXHUyMDBGXHUyMDI4XHUyMDI5XHUyNTgxXHVGRUZGXHVGRkZEXS9nbSwiICIpLGUuaW5jbHVkZXMoIlx1RkY1RSIpP2U9ZS5zcGxpdCgiXHVGRjVFIikubWFwKHI9PnIubm9ybWFsaXplKCJORktDIikpLmpvaW4oIlx1RkY1RSIpOmU9ZS5ub3JtYWxpemUoIk5GS0MiKSxlfX1jbGFzcyBBeSBleHRlbmRzIFR0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy50b2tlbml6ZXJzPWUucHJldG9rZW5pemVycy5tYXAocj0+VHQuZnJvbUNvbmZpZyhyKSl9cHJlX3Rva2VuaXplX3RleHQoZSxyKXtyZXR1cm4gdGhpcy50b2tlbml6ZXJzLnJlZHVjZSgobixhKT0+YS5wcmVfdG9rZW5pemUobixyKSxbZV0pfX1jbGFzcyBUeSBleHRlbmRzIFR0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCl9cHJlX3Rva2VuaXplX3RleHQoZSxyKXtyZXR1cm4gZS5tYXRjaCgvXHcrfFteXHdcc10rL2cpfHxbXX19Y2xhc3MgT3kgZXh0ZW5kcyBUdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpfXByZV90b2tlbml6ZV90ZXh0KGUscil7cmV0dXJuIHEwKGUpfX1jbGFzcyBNeSBleHRlbmRzIFR0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5jb25maWc9ZSx0aGlzLnBhdHRlcm49V2EodGhpcy5jb25maWcucGF0dGVybiksdGhpcy5jb250ZW50PXRoaXMuY29uZmlnLmNvbnRlbnR9cHJlX3Rva2VuaXplX3RleHQoZSxyKXtyZXR1cm4gdGhpcy5wYXR0ZXJuPT09bnVsbD9bZV06W2UucmVwbGFjZUFsbCh0aGlzLnBhdHRlcm4sdGhpcy5jb25maWcuY29udGVudCldfX1jb25zdCB6eT1bImJvc190b2tlbiIsImVvc190b2tlbiIsInVua190b2tlbiIsInNlcF90b2tlbiIsInBhZF90b2tlbiIsImNsc190b2tlbiIsIm1hc2tfdG9rZW4iXTtmdW5jdGlvbiBCeSh0LGUscixuKXtmb3IoY29uc3QgYSBvZiBPYmplY3Qua2V5cyh0KSl7Y29uc3QgaT1lLXRbYV0ubGVuZ3RoLHM9cihhKSxvPW5ldyBBcnJheShpKS5maWxsKHMpO3RbYV09bj09PSJyaWdodCI/bHQodFthXSxvKTpsdChvLHRbYV0pfX1mdW5jdGlvbiBSeSh0LGUpe2Zvcihjb25zdCByIG9mIE9iamVjdC5rZXlzKHQpKXRbcl0ubGVuZ3RoPWV9Y2xhc3Mga2UgZXh0ZW5kcyB3dHtyZXR1cm5fdG9rZW5fdHlwZV9pZHM9ITE7X2RlZmF1bHRfY2hhdF90ZW1wbGF0ZT1geyUgZm9yIG1lc3NhZ2UgaW4gbWVzc2FnZXMgJX17eyc8fGltX3N0YXJ0fD4nICsgbWVzc2FnZVsncm9sZSddICsgJwonICsgbWVzc2FnZVsnY29udGVudCddICsgJzx8aW1fZW5kfD4nICsgJwonfX17JSBlbmRmb3IgJX17JSBpZiBhZGRfZ2VuZXJhdGlvbl9wcm9tcHQgJX17eyAnPHxpbV9zdGFydHw+YXNzaXN0YW50CicgfX17JSBlbmRpZiAlfWA7Y29uc3RydWN0b3IoZSxyKXtzdXBlcigpLHRoaXMuX3Rva2VuaXplcl9jb25maWc9cix0aGlzLm5vcm1hbGl6ZXI9JHQuZnJvbUNvbmZpZyhlLm5vcm1hbGl6ZXIpLHRoaXMucHJlX3Rva2VuaXplcj1UdC5mcm9tQ29uZmlnKGUucHJlX3Rva2VuaXplciksdGhpcy5tb2RlbD1Jbi5mcm9tQ29uZmlnKGUubW9kZWwsciksdGhpcy5wb3N0X3Byb2Nlc3Nvcj1MYS5mcm9tQ29uZmlnKGUucG9zdF9wcm9jZXNzb3IpLHRoaXMuZGVjb2Rlcj14dC5mcm9tQ29uZmlnKGUuZGVjb2RlciksdGhpcy5zcGVjaWFsX3Rva2Vucz1bXSx0aGlzLmFsbF9zcGVjaWFsX2lkcz1bXSx0aGlzLmFkZGVkX3Rva2Vucz1bXTtmb3IoY29uc3QgbiBvZiBlLmFkZGVkX3Rva2Vucyl7Y29uc3QgYT1uZXcgSzAobik7dGhpcy5hZGRlZF90b2tlbnMucHVzaChhKSx0aGlzLm1vZGVsLnRva2Vuc190b19pZHMuc2V0KGEuY29udGVudCxhLmlkKSx0aGlzLm1vZGVsLnZvY2FiW2EuaWRdPWEuY29udGVudCxhLnNwZWNpYWwmJih0aGlzLnNwZWNpYWxfdG9rZW5zLnB1c2goYS5jb250ZW50KSx0aGlzLmFsbF9zcGVjaWFsX2lkcy5wdXNoKGEuaWQpKX1pZih0aGlzLmFkZGl0aW9uYWxfc3BlY2lhbF90b2tlbnM9ci5hZGRpdGlvbmFsX3NwZWNpYWxfdG9rZW5zPz9bXSx0aGlzLnNwZWNpYWxfdG9rZW5zLnB1c2goLi4udGhpcy5hZGRpdGlvbmFsX3NwZWNpYWxfdG9rZW5zKSx0aGlzLnNwZWNpYWxfdG9rZW5zPVsuLi5uZXcgU2V0KHRoaXMuc3BlY2lhbF90b2tlbnMpXSx0aGlzLmRlY29kZXImJih0aGlzLmRlY29kZXIuYWRkZWRfdG9rZW5zPXRoaXMuYWRkZWRfdG9rZW5zLHRoaXMuZGVjb2Rlci5lbmRfb2Zfd29yZF9zdWZmaXg9dGhpcy5tb2RlbC5lbmRfb2Zfd29yZF9zdWZmaXgpLHRoaXMuYWRkZWRfdG9rZW5zX3JlZ2V4PXRoaXMuYWRkZWRfdG9rZW5zLmxlbmd0aD4wP25ldyBSZWdFeHAodGhpcy5hZGRlZF90b2tlbnMubWFwKG49PmAke24ubHN0cmlwPyJcXHMqIjoiIn0oJHtnbyhuLmNvbnRlbnQpfSkke24ucnN0cmlwPyJcXHMqIjoiIn1gKS5qb2luKCJ8IikpOm51bGwsdGhpcy5tYXNrX3Rva2VuPXRoaXMuZ2V0VG9rZW4oIm1hc2tfdG9rZW4iKSx0aGlzLm1hc2tfdG9rZW5faWQ9dGhpcy5tb2RlbC50b2tlbnNfdG9faWRzLmdldCh0aGlzLm1hc2tfdG9rZW4pLHRoaXMucGFkX3Rva2VuPXRoaXMuZ2V0VG9rZW4oInBhZF90b2tlbiIsImVvc190b2tlbiIpLHRoaXMucGFkX3Rva2VuX2lkPXRoaXMubW9kZWwudG9rZW5zX3RvX2lkcy5nZXQodGhpcy5wYWRfdG9rZW4pLHRoaXMuc2VwX3Rva2VuPXRoaXMuZ2V0VG9rZW4oInNlcF90b2tlbiIpLHRoaXMuc2VwX3Rva2VuX2lkPXRoaXMubW9kZWwudG9rZW5zX3RvX2lkcy5nZXQodGhpcy5zZXBfdG9rZW4pLHRoaXMudW5rX3Rva2VuPXRoaXMuZ2V0VG9rZW4oInVua190b2tlbiIpLHRoaXMudW5rX3Rva2VuX2lkPXRoaXMubW9kZWwudG9rZW5zX3RvX2lkcy5nZXQodGhpcy51bmtfdG9rZW4pLHRoaXMubW9kZWxfbWF4X2xlbmd0aD1yLm1vZGVsX21heF9sZW5ndGgsdGhpcy5yZW1vdmVfc3BhY2U9ci5yZW1vdmVfc3BhY2UsdGhpcy5jbGVhbl91cF90b2tlbml6YXRpb25fc3BhY2VzPXIuY2xlYW5fdXBfdG9rZW5pemF0aW9uX3NwYWNlcz8/ITAsdGhpcy5kb19sb3dlcmNhc2VfYW5kX3JlbW92ZV9hY2NlbnQ9ci5kb19sb3dlcmNhc2VfYW5kX3JlbW92ZV9hY2NlbnQ/PyExLHRoaXMucGFkZGluZ19zaWRlPSJyaWdodCIsdGhpcy5sZWdhY3k9ITEsdGhpcy5jaGF0X3RlbXBsYXRlPXIuY2hhdF90ZW1wbGF0ZT8/bnVsbCxBcnJheS5pc0FycmF5KHRoaXMuY2hhdF90ZW1wbGF0ZSkpe2NvbnN0IG49T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IoY29uc3R7bmFtZTphLHRlbXBsYXRlOml9b2YgdGhpcy5jaGF0X3RlbXBsYXRlKXtpZih0eXBlb2YgYSE9InN0cmluZyJ8fHR5cGVvZiBpIT0ic3RyaW5nIil0aHJvdyBuZXcgRXJyb3IoJ0NoYXQgdGVtcGxhdGUgbXVzdCBiZSBhIGxpc3Qgb2Ygb2JqZWN0cyB3aXRoICJuYW1lIiBhbmQgInRlbXBsYXRlIiBwcm9wZXJ0aWVzJyk7blthXT1pfXRoaXMuY2hhdF90ZW1wbGF0ZT1ufXRoaXMuX2NvbXBpbGVkX3RlbXBsYXRlX2NhY2hlPW5ldyBNYXB9Z2V0VG9rZW4oLi4uZSl7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3Qgbj10aGlzLl90b2tlbml6ZXJfY29uZmlnW3JdO2lmKG4paWYodHlwZW9mIG49PSJvYmplY3QiKXtpZihuLl9fdHlwZT09PSJBZGRlZFRva2VuIilyZXR1cm4gbi5jb250ZW50O3Rocm93IEVycm9yKGBVbmtub3duIHRva2VuOiAke259YCl9ZWxzZSByZXR1cm4gbn1yZXR1cm4gbnVsbH1zdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKGUse3Byb2dyZXNzX2NhbGxiYWNrOnI9bnVsbCxjb25maWc6bj1udWxsLGNhY2hlX2RpcjphPW51bGwsbG9jYWxfZmlsZXNfb25seTppPSExLHJldmlzaW9uOnM9Im1haW4iLGxlZ2FjeTpvPW51bGx9PXt9KXtjb25zdCBsPWF3YWl0IFhoKGUse3Byb2dyZXNzX2NhbGxiYWNrOnIsY29uZmlnOm4sY2FjaGVfZGlyOmEsbG9jYWxfZmlsZXNfb25seTppLHJldmlzaW9uOnMsbGVnYWN5Om99KTtyZXR1cm4gbmV3IHRoaXMoLi4ubCl9X2NhbGwoZSx7dGV4dF9wYWlyOnI9bnVsbCxhZGRfc3BlY2lhbF90b2tlbnM6bj0hMCxwYWRkaW5nOmE9ITEsdHJ1bmNhdGlvbjppPW51bGwsbWF4X2xlbmd0aDpzPW51bGwscmV0dXJuX3RlbnNvcjpvPSEwfT17fSl7Y29uc3QgbD1BcnJheS5pc0FycmF5KGUpO2xldCBkO2lmKGwpe2lmKGUubGVuZ3RoPT09MCl0aHJvdyBFcnJvcigidGV4dCBhcnJheSBtdXN0IGJlIG5vbi1lbXB0eSIpO2lmKHIhPT1udWxsKXtpZihBcnJheS5pc0FycmF5KHIpKXtpZihlLmxlbmd0aCE9PXIubGVuZ3RoKXRocm93IEVycm9yKCJ0ZXh0IGFuZCB0ZXh0X3BhaXIgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aCIpfWVsc2UgdGhyb3cgRXJyb3IoInRleHRfcGFpciBtdXN0IGFsc28gYmUgYW4gYXJyYXkiKTtkPWUubWFwKCh1LGgpPT50aGlzLl9lbmNvZGVfcGx1cyh1LHJbaF0se2FkZF9zcGVjaWFsX3Rva2VuczpufSkpfWVsc2UgZD1lLm1hcCh1PT50aGlzLl9lbmNvZGVfcGx1cyh1LG51bGwse2FkZF9zcGVjaWFsX3Rva2VuczpufSkpfWVsc2V7aWYoZT09PW51bGwpdGhyb3cgRXJyb3IoInRleHQgbWF5IG5vdCBiZSBudWxsIik7aWYoQXJyYXkuaXNBcnJheShyKSl0aHJvdyBFcnJvcigiV2hlbiBzcGVjaWZ5aW5nIGB0ZXh0X3BhaXJgLCBzaW5jZSBgdGV4dGAgaXMgYSBzdHJpbmcsIGB0ZXh0X3BhaXJgIG11c3QgYWxzbyBiZSBhIHN0cmluZyAoaS5lLiwgbm90IGFuIGFycmF5KS4iKTtkPVt0aGlzLl9lbmNvZGVfcGx1cyhlLHIse2FkZF9zcGVjaWFsX3Rva2VuczpufSldfWlmKHM9PT1udWxsP2E9PT0ibWF4X2xlbmd0aCI/cz10aGlzLm1vZGVsX21heF9sZW5ndGg6cz1DdChkLm1hcCh1PT51LmlucHV0X2lkcy5sZW5ndGgpKVswXTppfHxjb25zb2xlLndhcm4oIlRydW5jYXRpb24gd2FzIG5vdCBleHBsaWNpdGx5IGFjdGl2YXRlZCBidXQgYG1heF9sZW5ndGhgIGlzIHByb3ZpZGVkIGEgc3BlY2lmaWMgdmFsdWUsIHBsZWFzZSB1c2UgYHRydW5jYXRpb249dHJ1ZWAgdG8gZXhwbGljaXRseSB0cnVuY2F0ZSBleGFtcGxlcyB0byBtYXggbGVuZ3RoLiIpLHM9TWF0aC5taW4ocyx0aGlzLm1vZGVsX21heF9sZW5ndGgpLGF8fGkpZm9yKGxldCB1PTA7dTxkLmxlbmd0aDsrK3UpZFt1XS5pbnB1dF9pZHMubGVuZ3RoIT09cyYmKGRbdV0uaW5wdXRfaWRzLmxlbmd0aD5zP2kmJlJ5KGRbdV0scyk6YSYmQnkoZFt1XSxzLGg9Pmg9PT0iaW5wdXRfaWRzIj90aGlzLnBhZF90b2tlbl9pZDowLHRoaXMucGFkZGluZ19zaWRlKSk7Y29uc3QgYz17fTtpZihvKXtpZighKGEmJmkpJiZkLnNvbWUoaD0+e2Zvcihjb25zdCBmIG9mIE9iamVjdC5rZXlzKGgpKWlmKGhbZl0ubGVuZ3RoIT09ZFswXVtmXT8ubGVuZ3RoKXJldHVybiEwO3JldHVybiExfSkpdGhyb3cgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdGVuc29yLCB5b3Ugc2hvdWxkIHByb2JhYmx5IGFjdGl2YXRlIHRydW5jYXRpb24gYW5kL29yIHBhZGRpbmcgd2l0aCAncGFkZGluZz10cnVlJyBhbmQgJ3RydW5jYXRpb249dHJ1ZScgdG8gaGF2ZSBiYXRjaGVkIHRlbnNvcnMgd2l0aCB0aGUgc2FtZSBsZW5ndGguIik7Y29uc3QgdT1bZC5sZW5ndGgsZFswXS5pbnB1dF9pZHMubGVuZ3RoXTtmb3IoY29uc3QgaCBvZiBPYmplY3Qua2V5cyhkWzBdKSljW2hdPW5ldyByZSgiaW50NjQiLEJpZ0ludDY0QXJyYXkuZnJvbShkLmZsYXRNYXAoZj0+ZltoXSkubWFwKEJpZ0ludCkpLHUpfWVsc2V7Zm9yKGNvbnN0IHUgb2YgT2JqZWN0LmtleXMoZFswXSkpY1t1XT1kLm1hcChoPT5oW3VdKTtpZighbClmb3IoY29uc3QgdSBvZiBPYmplY3Qua2V5cyhjKSljW3VdPWNbdV1bMF19cmV0dXJuIGN9X2VuY29kZV90ZXh0KGUpe3JldHVybiBlPT09bnVsbD9udWxsOih0aGlzLmFkZGVkX3Rva2Vuc19yZWdleD9lLnNwbGl0KHRoaXMuYWRkZWRfdG9rZW5zX3JlZ2V4KS5maWx0ZXIocj0+cik6W2VdKS5tYXAoKHIsbik9PntpZih0aGlzLmFkZGVkX3Rva2Vucy5maW5kKGE9PmEuY29udGVudD09PXIpIT09dm9pZCAwKXJldHVybiByO3tpZih0aGlzLnJlbW92ZV9zcGFjZT09PSEwJiYocj1yLnRyaW0oKS5zcGxpdCgvXHMrLykuam9pbigiICIpKSx0aGlzLmRvX2xvd2VyY2FzZV9hbmRfcmVtb3ZlX2FjY2VudCYmKHI9SDAocikpLHRoaXMubm9ybWFsaXplciE9PW51bGwmJihyPXRoaXMubm9ybWFsaXplcihyKSksci5sZW5ndGg9PT0wKXJldHVybltdO2NvbnN0IGE9dGhpcy5wcmVfdG9rZW5pemVyIT09bnVsbD90aGlzLnByZV90b2tlbml6ZXIocix7c2VjdGlvbl9pbmRleDpufSk6W3JdO3JldHVybiB0aGlzLm1vZGVsKGEpfX0pLmZsYXQoKX1fZW5jb2RlX3BsdXMoZSxyPW51bGwse2FkZF9zcGVjaWFsX3Rva2VuczpuPSEwfT17fSl7Y29uc3QgYT10aGlzLl9lbmNvZGVfdGV4dChlKSxpPXRoaXMuX2VuY29kZV90ZXh0KHIpLHM9dGhpcy5wb3N0X3Byb2Nlc3Nvcj90aGlzLnBvc3RfcHJvY2Vzc29yKGEsaSx7YWRkX3NwZWNpYWxfdG9rZW5zOm59KTp7dG9rZW5zOmx0KGE/P1tdLGk/P1tdKX0sbz10aGlzLm1vZGVsLmNvbnZlcnRfdG9rZW5zX3RvX2lkcyhzLnRva2VucyksbD17aW5wdXRfaWRzOm8sYXR0ZW50aW9uX21hc2s6bmV3IEFycmF5KG8ubGVuZ3RoKS5maWxsKDEpfTtyZXR1cm4gdGhpcy5yZXR1cm5fdG9rZW5fdHlwZV9pZHMmJnMudG9rZW5fdHlwZV9pZHMmJihsLnRva2VuX3R5cGVfaWRzPXMudG9rZW5fdHlwZV9pZHMpLGx9ZW5jb2RlKGUscj1udWxsLHthZGRfc3BlY2lhbF90b2tlbnM6bj0hMH09e30pe2NvbnN0e2lucHV0X2lkczphfT10aGlzLl9lbmNvZGVfcGx1cyhlLHIse2FkZF9zcGVjaWFsX3Rva2VuczpufSk7cmV0dXJuIGF9YmF0Y2hfZGVjb2RlKGUscj17fSl7cmV0dXJuIGUgaW5zdGFuY2VvZiByZSYmKGU9ZS50b2xpc3QoKSksZS5tYXAobj0+dGhpcy5kZWNvZGUobixyKSl9ZGVjb2RlKGUscj17fSl7aWYoZSBpbnN0YW5jZW9mIHJlJiYoZT1RaChlKSksIUFycmF5LmlzQXJyYXkoZSl8fGUubGVuZ3RoPT09MHx8IV9vKGVbMF0pKXRocm93IEVycm9yKCJ0b2tlbl9pZHMgbXVzdCBiZSBhIG5vbi1lbXB0eSBhcnJheSBvZiBpbnRlZ2Vycy4iKTtyZXR1cm4gdGhpcy5kZWNvZGVfc2luZ2xlKGUscil9ZGVjb2RlX3NpbmdsZShlLHtza2lwX3NwZWNpYWxfdG9rZW5zOnI9ITEsY2xlYW5fdXBfdG9rZW5pemF0aW9uX3NwYWNlczpuPW51bGx9KXtsZXQgYT10aGlzLm1vZGVsLmNvbnZlcnRfaWRzX3RvX3Rva2VucyhlKTtyJiYoYT1hLmZpbHRlcihzPT4hdGhpcy5zcGVjaWFsX3Rva2Vucy5pbmNsdWRlcyhzKSkpO2xldCBpPXRoaXMuZGVjb2Rlcj90aGlzLmRlY29kZXIoYSk6YS5qb2luKCIgIik7cmV0dXJuIHRoaXMuZGVjb2RlciYmdGhpcy5kZWNvZGVyLmVuZF9vZl93b3JkX3N1ZmZpeCYmKGk9aS5yZXBsYWNlQWxsKHRoaXMuZGVjb2Rlci5lbmRfb2Zfd29yZF9zdWZmaXgsIiAiKSxyJiYoaT1pLnRyaW0oKSkpLChuPz90aGlzLmNsZWFuX3VwX3Rva2VuaXphdGlvbl9zcGFjZXMpJiYoaT1IcyhpKSksaX1nZXQgZGVmYXVsdF9jaGF0X3RlbXBsYXRlKCl7cmV0dXJuIHRoaXMuX3dhcm5lZF9hYm91dF9jaGF0X3RlbXBsYXRlfHwoY29uc29sZS53YXJuKCJObyBjaGF0IHRlbXBsYXRlIGlzIGRlZmluZWQgZm9yIHRoaXMgdG9rZW5pemVyIC0gdXNpbmcgYSBkZWZhdWx0IGNoYXQgdGVtcGxhdGUgdGhhdCBpbXBsZW1lbnRzIHRoZSBDaGF0TUwgZm9ybWF0LiBJZiB0aGUgZGVmYXVsdCBpcyBub3QgYXBwcm9wcmlhdGUgZm9yIHlvdXIgbW9kZWwsIHBsZWFzZSBzZXQgYHRva2VuaXplci5jaGF0X3RlbXBsYXRlYCB0byBhbiBhcHByb3ByaWF0ZSB0ZW1wbGF0ZS4gU2VlIGh0dHBzOi8vaHVnZ2luZ2ZhY2UuY28vZG9jcy90cmFuc2Zvcm1lcnMvbWFpbi9jaGF0X3RlbXBsYXRpbmcgZm9yIG1vcmUgaW5mb3JtYXRpb24uIiksdGhpcy5fd2FybmVkX2Fib3V0X2NoYXRfdGVtcGxhdGU9ITApLHRoaXMuX2RlZmF1bHRfY2hhdF90ZW1wbGF0ZX1hcHBseV9jaGF0X3RlbXBsYXRlKGUse2NoYXRfdGVtcGxhdGU6cj1udWxsLGFkZF9nZW5lcmF0aW9uX3Byb21wdDpuPSExLHRva2VuaXplOmE9ITAscGFkZGluZzppPSExLHRydW5jYXRpb246cz0hMSxtYXhfbGVuZ3RoOm89bnVsbCxyZXR1cm5fdGVuc29yOmw9ITAsdG9rZW5pemVyX2t3YXJnczpkPXt9LC4uLmN9PXt9KXtpZih0aGlzLmNoYXRfdGVtcGxhdGUmJnR5cGVvZiB0aGlzLmNoYXRfdGVtcGxhdGU9PSJvYmplY3QifHx0aGlzLmNoYXRfdGVtcGxhdGU9PT1udWxsJiZ0aGlzLmRlZmF1bHRfY2hhdF90ZW1wbGF0ZSYmdHlwZW9mIHRoaXMuZGVmYXVsdF9jaGF0X3RlbXBsYXRlPT0ib2JqZWN0Iil7Y29uc3QgZz10aGlzLmNoYXRfdGVtcGxhdGU/P3RoaXMuZGVmYXVsdF9jaGF0X3RlbXBsYXRlO2lmKHIhPT1udWxsJiZPYmplY3QuaGFzT3duKGcscikpcj1nW3JdO2Vsc2UgaWYocj09PW51bGwmJiJkZWZhdWx0ImluIGcpcj1nLmRlZmF1bHQ7ZWxzZSBpZihyPT09bnVsbCl0aHJvdyBFcnJvcihgVGhpcyBtb2RlbCBoYXMgbXVsdGlwbGUgY2hhdCB0ZW1wbGF0ZXMgd2l0aCBubyBkZWZhdWx0IHNwZWNpZmllZCEgUGxlYXNlIGVpdGhlciBwYXNzIGEgY2hhdCB0ZW1wbGF0ZSBvciB0aGUgbmFtZSBvZiB0aGUgdGVtcGxhdGUgeW91IHdpc2ggdG8gdXNlIHRvIHRoZSAnY2hhdF90ZW1wbGF0ZScgYXJndW1lbnQuIEF2YWlsYWJsZSB0ZW1wbGF0ZSBuYW1lcyBhcmUgJHtPYmplY3Qua2V5cyhnKS5zb3J0KCl9LmApfWVsc2Ugcj8/PXRoaXMuY2hhdF90ZW1wbGF0ZT8/dGhpcy5kZWZhdWx0X2NoYXRfdGVtcGxhdGU7aWYodHlwZW9mIHIhPSJzdHJpbmciKXRocm93IEVycm9yKGBjaGF0X3RlbXBsYXRlIG11c3QgYmUgYSBzdHJpbmcsIGJ1dCBnb3QgJHt0eXBlb2Ygcn1gKTtsZXQgdT10aGlzLl9jb21waWxlZF90ZW1wbGF0ZV9jYWNoZS5nZXQocik7dT09PXZvaWQgMCYmKHU9bmV3IEYwKHIpLHRoaXMuX2NvbXBpbGVkX3RlbXBsYXRlX2NhY2hlLnNldChyLHUpKTtjb25zdCBoPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGNvbnN0IGcgb2Ygenkpe2NvbnN0IHk9dGhpcy5nZXRUb2tlbihnKTt5JiYoaFtnXT15KX1jb25zdCBmPXUucmVuZGVyKHttZXNzYWdlczplLGFkZF9nZW5lcmF0aW9uX3Byb21wdDpuLC4uLmgsLi4uY30pO3JldHVybiBhP3RoaXMuX2NhbGwoZix7YWRkX3NwZWNpYWxfdG9rZW5zOiExLHBhZGRpbmc6aSx0cnVuY2F0aW9uOnMsbWF4X2xlbmd0aDpvLHJldHVybl90ZW5zb3I6bCwuLi5kfSkuaW5wdXRfaWRzOmZ9fWNsYXNzIER5IGV4dGVuZHMga2V7cmV0dXJuX3Rva2VuX3R5cGVfaWRzPSEwfWNsYXNzIFB5IGV4dGVuZHMga2V7cmV0dXJuX3Rva2VuX3R5cGVfaWRzPSEwfWNsYXNzIE55IGV4dGVuZHMga2V7cmV0dXJuX3Rva2VuX3R5cGVfaWRzPSEwfWNsYXNzIFV5IGV4dGVuZHMga2V7cmV0dXJuX3Rva2VuX3R5cGVfaWRzPSEwfWNsYXNzIFd5IGV4dGVuZHMga2V7cmV0dXJuX3Rva2VuX3R5cGVfaWRzPSEwfWNsYXNzIEx5IGV4dGVuZHMga2V7cmV0dXJuX3Rva2VuX3R5cGVfaWRzPSEwfWNsYXNzIEZ5IGV4dGVuZHMga2V7cmV0dXJuX3Rva2VuX3R5cGVfaWRzPSEwfWNsYXNzIFZ5IGV4dGVuZHMga2V7cmV0dXJuX3Rva2VuX3R5cGVfaWRzPSEwfWNsYXNzIEh5IGV4dGVuZHMga2V7cmV0dXJuX3Rva2VuX3R5cGVfaWRzPSEwfWNsYXNzIEd5IGV4dGVuZHMga2V7fWNsYXNzIHF5IGV4dGVuZHMga2V7fWNsYXNzIGp5IGV4dGVuZHMga2V7cmV0dXJuX3Rva2VuX3R5cGVfaWRzPSEwO2NvbnN0cnVjdG9yKGUscil7c3VwZXIoZSxyKSxjb25zb2xlLndhcm4oJ1dBUk5JTkc6IGBYTE1Ub2tlbml6ZXJgIGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGJ5IEh1Z2dpbmcgRmFjZVwncyAiZmFzdCIgdG9rZW5pemVycyBsaWJyYXJ5LiBUaGVyZWZvcmUsIHlvdSBtYXkgZXhwZXJpZW5jZSBzbGlnaHRseSBpbmFjY3VyYXRlIHJlc3VsdHMuJyl9fWNsYXNzIEt5IGV4dGVuZHMga2V7cmV0dXJuX3Rva2VuX3R5cGVfaWRzPSEwfWNsYXNzIFl5IGV4dGVuZHMga2V7fWNsYXNzIG5mIGV4dGVuZHMga2V7X2RlZmF1bHRfY2hhdF90ZW1wbGF0ZT0neyUgZm9yIG1lc3NhZ2UgaW4gbWVzc2FnZXMgJX0iICJ7eyBtZXNzYWdlLmNvbnRlbnQgfX17eyBlb3NfdG9rZW4gfX0iICJ7JSBlbmRmb3IgJX0nfWNsYXNzIFh5IGV4dGVuZHMga2V7fWNsYXNzIGFmIGV4dGVuZHMga2V7Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlLHIpLHRoaXMubGFuZ3VhZ2VSZWdleD0vXlthLXpdezJ9X1tBLVpdezJ9JC8sdGhpcy5sYW5ndWFnZV9jb2Rlcz10aGlzLnNwZWNpYWxfdG9rZW5zLmZpbHRlcihuPT50aGlzLmxhbmd1YWdlUmVnZXgudGVzdChuKSksdGhpcy5sYW5nX3RvX3Rva2VuPW49Pm59X2J1aWxkX3RyYW5zbGF0aW9uX2lucHV0cyhlLHIsbil7cmV0dXJuIEdzKHRoaXMsZSxyLG4pfX1jbGFzcyBReSBleHRlbmRzIGFme31jbGFzcyBaeSBleHRlbmRzIGtle31jbGFzcyBKeSBleHRlbmRzIG5me2NvbnN0cnVjdG9yKGUscil7Y29uc3Qgbj0iLiwhP1x1MjAyNlx1MzAwMlx1RkYwQ1x1MzAwMVx1MDk2NFx1MDZENFx1MDYwQyIsYT1lLnByZV90b2tlbml6ZXI/LnByZXRva2VuaXplcnNbMF0/LnBhdHRlcm47YSYmYS5SZWdleD09PWAgP1teKFxcc3xbJHtufV0pXStgJiYoYS5SZWdleD1gID9bXlxccyR7bn1dK2ApLHN1cGVyKGUscil9fWNvbnN0IEZhPSJcdTI1ODEiO2NsYXNzIHNmIGV4dGVuZHMga2V7X2RlZmF1bHRfY2hhdF90ZW1wbGF0ZT1geyUgaWYgbWVzc2FnZXNbMF1bJ3JvbGUnXSA9PSAnc3lzdGVtJyAlfXslIHNldCBsb29wX21lc3NhZ2VzID0gbWVzc2FnZXNbMTpdICV9eyUgc2V0IHN5c3RlbV9tZXNzYWdlID0gbWVzc2FnZXNbMF1bJ2NvbnRlbnQnXSAlfXslIGVsaWYgVVNFX0RFRkFVTFRfUFJPTVBUID09IHRydWUgYW5kIG5vdCAnPDxTWVM+PicgaW4gbWVzc2FnZXNbMF1bJ2NvbnRlbnQnXSAlfXslIHNldCBsb29wX21lc3NhZ2VzID0gbWVzc2FnZXMgJX17JSBzZXQgc3lzdGVtX21lc3NhZ2UgPSAnREVGQVVMVF9TWVNURU1fTUVTU0FHRScgJX17JSBlbHNlICV9eyUgc2V0IGxvb3BfbWVzc2FnZXMgPSBtZXNzYWdlcyAlfXslIHNldCBzeXN0ZW1fbWVzc2FnZSA9IGZhbHNlICV9eyUgZW5kaWYgJX17JSBmb3IgbWVzc2FnZSBpbiBsb29wX21lc3NhZ2VzICV9eyUgaWYgKG1lc3NhZ2VbJ3JvbGUnXSA9PSAndXNlcicpICE9IChsb29wLmluZGV4MCAlIDIgPT0gMCkgJX17eyByYWlzZV9leGNlcHRpb24oJ0NvbnZlcnNhdGlvbiByb2xlcyBtdXN0IGFsdGVybmF0ZSB1c2VyL2Fzc2lzdGFudC91c2VyL2Fzc2lzdGFudC8uLi4nKSB9fXslIGVuZGlmICV9eyUgaWYgbG9vcC5pbmRleDAgPT0gMCBhbmQgc3lzdGVtX21lc3NhZ2UgIT0gZmFsc2UgJX17JSBzZXQgY29udGVudCA9ICc8PFNZUz4+CicgKyBzeXN0ZW1fbWVzc2FnZSArICcKPDwvU1lTPj4KCicgKyBtZXNzYWdlWydjb250ZW50J10gJX17JSBlbHNlICV9eyUgc2V0IGNvbnRlbnQgPSBtZXNzYWdlWydjb250ZW50J10gJX17JSBlbmRpZiAlfXslIGlmIG1lc3NhZ2VbJ3JvbGUnXSA9PSAndXNlcicgJX17eyBib3NfdG9rZW4gKyAnW0lOU1RdICcgKyBjb250ZW50LnN0cmlwKCkgKyAnIFsvSU5TVF0nIH19eyUgZWxpZiBtZXNzYWdlWydyb2xlJ10gPT0gJ3N5c3RlbScgJX17eyAnPDxTWVM+PgonICsgY29udGVudC5zdHJpcCgpICsgJwo8PC9TWVM+PgoKJyB9fXslIGVsaWYgbWVzc2FnZVsncm9sZSddID09ICdhc3Npc3RhbnQnICV9e3sgJyAnICArIGNvbnRlbnQuc3RyaXAoKSArICcgJyArIGVvc190b2tlbiB9fXslIGVuZGlmICV9eyUgZW5kZm9yICV9YDtERUZBVUxUX1NZU1RFTV9QUk9NUFQ9YFlvdSBhcmUgYSBoZWxwZnVsLCByZXNwZWN0ZnVsIGFuZCBob25lc3QgYXNzaXN0YW50LiBBbHdheXMgYW5zd2VyIGFzIGhlbHBmdWxseSBhcyBwb3NzaWJsZSwgd2hpbGUgYmVpbmcgc2FmZS4gWW91ciBhbnN3ZXJzIHNob3VsZCBub3QgaW5jbHVkZSBhbnkgaGFybWZ1bCwgdW5ldGhpY2FsLCByYWNpc3QsIHNleGlzdCwgdG94aWMsIGRhbmdlcm91cywgb3IgaWxsZWdhbCBjb250ZW50LiBQbGVhc2UgZW5zdXJlIHRoYXQgeW91ciByZXNwb25zZXMgYXJlIHNvY2lhbGx5IHVuYmlhc2VkIGFuZCBwb3NpdGl2ZSBpbiBuYXR1cmUuCgpJZiBhIHF1ZXN0aW9uIGRvZXMgbm90IG1ha2UgYW55IHNlbnNlLCBvciBpcyBub3QgZmFjdHVhbGx5IGNvaGVyZW50LCBleHBsYWluIHdoeSBpbnN0ZWFkIG9mIGFuc3dlcmluZyBzb21ldGhpbmcgbm90IGNvcnJlY3QuIElmIHlvdSBkb24ndCBrbm93IHRoZSBhbnN3ZXIgdG8gYSBxdWVzdGlvbiwgcGxlYXNlIGRvbid0IHNoYXJlIGZhbHNlIGluZm9ybWF0aW9uLmA7Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlLHIpLHRoaXMudXNlX2RlZmF1bHRfc3lzdGVtX3Byb21wdD1yLnVzZV9kZWZhdWx0X3N5c3RlbV9wcm9tcHQ/PyExLHRoaXMubGVnYWN5PXIubGVnYWN5Pz8hMCx0aGlzLmxlZ2FjeXx8KHRoaXMubm9ybWFsaXplcj1udWxsLHRoaXMucHJlX3Rva2VuaXplcj1uZXcgcmYoe3JlcGxhY2VtZW50OkZhLGFkZF9wcmVmaXhfc3BhY2U6ITAscHJlcGVuZF9zY2hlbWU6ImZpcnN0In0pKX1fZW5jb2RlX3RleHQoZSl7aWYoZT09PW51bGwpcmV0dXJuIG51bGw7aWYodGhpcy5sZWdhY3l8fGUubGVuZ3RoPT09MClyZXR1cm4gc3VwZXIuX2VuY29kZV90ZXh0KGUpO2xldCByPXN1cGVyLl9lbmNvZGVfdGV4dChGYStlLnJlcGxhY2VBbGwoRmEsIiAiKSk7cmV0dXJuIHIubGVuZ3RoPjEmJnJbMF09PT1GYSYmdGhpcy5zcGVjaWFsX3Rva2Vucy5pbmNsdWRlcyhyWzFdKSYmKHI9ci5zbGljZSgxKSkscn1nZXQgZGVmYXVsdF9jaGF0X3RlbXBsYXRlKCl7cmV0dXJuIHN1cGVyLmRlZmF1bHRfY2hhdF90ZW1wbGF0ZS5yZXBsYWNlQWxsKCJVU0VfREVGQVVMVF9QUk9NUFQiLHRoaXMudXNlX2RlZmF1bHRfc3lzdGVtX3Byb21wdD8idHJ1ZSI6ImZhbHNlIikucmVwbGFjZUFsbCgiREVGQVVMVF9TWVNURU1fTUVTU0FHRSIsdGhpcy5ERUZBVUxUX1NZU1RFTV9QUk9NUFQucmVwbGFjZUFsbChgCmAsIlxcbiIpLnJlcGxhY2VBbGwoIiciLCJcXCciKSl9fWNsYXNzIGV3IGV4dGVuZHMgc2Z7fWNsYXNzIHR3IGV4dGVuZHMga2V7fWNsYXNzIHJ3IGV4dGVuZHMga2V7fWNsYXNzIG53IGV4dGVuZHMga2V7fWNsYXNzIGF3IGV4dGVuZHMga2V7fWNsYXNzIGl3IGV4dGVuZHMga2V7fWNsYXNzIHN3IGV4dGVuZHMga2V7fWNsYXNzIG93IGV4dGVuZHMga2V7X2RlZmF1bHRfY2hhdF90ZW1wbGF0ZT1geyUgaWYgbWVzc2FnZXNbMF1bJ3JvbGUnXSA9PSAnc3lzdGVtJyAlfXt7IHJhaXNlX2V4Y2VwdGlvbignU3lzdGVtIHJvbGUgbm90IHN1cHBvcnRlZCcpIH19eyUgZW5kaWYgJX17JSBmb3IgbWVzc2FnZSBpbiBtZXNzYWdlcyAlfXslIGlmIChtZXNzYWdlWydyb2xlJ10gPT0gJ3VzZXInKSAhPSAobG9vcC5pbmRleDAgJSAyID09IDApICV9e3sgcmFpc2VfZXhjZXB0aW9uKCdDb252ZXJzYXRpb24gcm9sZXMgbXVzdCBhbHRlcm5hdGUgdXNlci9hc3Npc3RhbnQvdXNlci9hc3Npc3RhbnQvLi4uJykgfX17JSBlbmRpZiAlfXslIGlmIChtZXNzYWdlWydyb2xlJ10gPT0gJ2Fzc2lzdGFudCcpICV9eyUgc2V0IHJvbGUgPSAnbW9kZWwnICV9eyUgZWxzZSAlfXslIHNldCByb2xlID0gbWVzc2FnZVsncm9sZSddICV9eyUgZW5kaWYgJX17eyAnPHN0YXJ0X29mX3R1cm4+JyArIHJvbGUgKyAnCicgKyBtZXNzYWdlWydjb250ZW50J10gfCB0cmltICsgJzxlbmRfb2ZfdHVybj4KJyB9fXslIGVuZGZvciAlfXslIGlmIGFkZF9nZW5lcmF0aW9uX3Byb21wdCAlfXt7JzxzdGFydF9vZl90dXJuPm1vZGVsCid9fXslIGVuZGlmICV9YH1jbGFzcyBsdyBleHRlbmRzIGtle31mdW5jdGlvbiBHcyh0LGUscixuKXtpZighKCJsYW5ndWFnZV9jb2RlcyJpbiB0KXx8IUFycmF5LmlzQXJyYXkodC5sYW5ndWFnZV9jb2RlcykpdGhyb3cgbmV3IEVycm9yKCJUb2tlbml6ZXIgbXVzdCBoYXZlIGBsYW5ndWFnZV9jb2Rlc2AgYXR0cmlidXRlIHNldCBhbmQgaXQgc2hvdWxkIGJlIGFuIGFycmF5IG9mIGxhbmd1YWdlIGlkcy4iKTtpZighKCJsYW5ndWFnZVJlZ2V4ImluIHQpfHwhKHQubGFuZ3VhZ2VSZWdleCBpbnN0YW5jZW9mIFJlZ0V4cCkpdGhyb3cgbmV3IEVycm9yKCJUb2tlbml6ZXIgbXVzdCBoYXZlIGBsYW5ndWFnZVJlZ2V4YCBhdHRyaWJ1dGUgc2V0IGFuZCBpdCBzaG91bGQgYmUgYSByZWd1bGFyIGV4cHJlc3Npb24uIik7aWYoISgibGFuZ190b190b2tlbiJpbiB0KXx8dHlwZW9mIHQubGFuZ190b190b2tlbiE9ImZ1bmN0aW9uIil0aHJvdyBuZXcgRXJyb3IoIlRva2VuaXplciBtdXN0IGhhdmUgYGxhbmdfdG9fdG9rZW5gIGF0dHJpYnV0ZSBzZXQgYW5kIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uLiIpO2NvbnN0IGE9bi5zcmNfbGFuZyxpPW4udGd0X2xhbmc7aWYoIXQubGFuZ3VhZ2VfY29kZXMuaW5jbHVkZXMoaSkpdGhyb3cgbmV3IEVycm9yKGBUYXJnZXQgbGFuZ3VhZ2UgY29kZSAiJHtpfSIgaXMgbm90IHZhbGlkLiBNdXN0IGJlIG9uZSBvZjogeyR7dC5sYW5ndWFnZV9jb2Rlcy5qb2luKCIsICIpfX1gKTtpZihhIT09dm9pZCAwKXtpZighdC5sYW5ndWFnZV9jb2Rlcy5pbmNsdWRlcyhhKSl0aHJvdyBuZXcgRXJyb3IoYFNvdXJjZSBsYW5ndWFnZSBjb2RlICIke2F9IiBpcyBub3QgdmFsaWQuIE11c3QgYmUgb25lIG9mOiB7JHt0Lmxhbmd1YWdlX2NvZGVzLmpvaW4oIiwgIil9fWApO2Zvcihjb25zdCBzIG9mIHQucG9zdF9wcm9jZXNzb3IuY29uZmlnLnNpbmdsZSlpZigiU3BlY2lhbFRva2VuImluIHMmJnQubGFuZ3VhZ2VSZWdleC50ZXN0KHMuU3BlY2lhbFRva2VuLmlkKSl7cy5TcGVjaWFsVG9rZW4uaWQ9dC5sYW5nX3RvX3Rva2VuKGEpO2JyZWFrfX1yZXR1cm4gbi5mb3JjZWRfYm9zX3Rva2VuX2lkPXQubW9kZWwuY29udmVydF90b2tlbnNfdG9faWRzKFt0LmxhbmdfdG9fdG9rZW4oaSldKVswXSx0Ll9jYWxsKGUscil9Y2xhc3MgdXcgZXh0ZW5kcyBrZXtjb25zdHJ1Y3RvcihlLHIpe3N1cGVyKGUsciksdGhpcy5sYW5ndWFnZVJlZ2V4PS9eW2Etel17M31fW0EtWl1bYS16XXszfSQvLHRoaXMubGFuZ3VhZ2VfY29kZXM9dGhpcy5zcGVjaWFsX3Rva2Vucy5maWx0ZXIobj0+dGhpcy5sYW5ndWFnZVJlZ2V4LnRlc3QobikpLHRoaXMubGFuZ190b190b2tlbj1uPT5ufV9idWlsZF90cmFuc2xhdGlvbl9pbnB1dHMoZSxyLG4pe3JldHVybiBHcyh0aGlzLGUscixuKX19Y2xhc3MgZHcgZXh0ZW5kcyBrZXtjb25zdHJ1Y3RvcihlLHIpe3N1cGVyKGUsciksdGhpcy5sYW5ndWFnZVJlZ2V4PS9eX19bYS16XXsyLDN9X18kLyx0aGlzLmxhbmd1YWdlX2NvZGVzPXRoaXMuc3BlY2lhbF90b2tlbnMuZmlsdGVyKG49PnRoaXMubGFuZ3VhZ2VSZWdleC50ZXN0KG4pKS5tYXAobj0+bi5zbGljZSgyLC0yKSksdGhpcy5sYW5nX3RvX3Rva2VuPW49PmBfXyR7bn1fX2B9X2J1aWxkX3RyYW5zbGF0aW9uX2lucHV0cyhlLHIsbil7cmV0dXJuIEdzKHRoaXMsZSxyLG4pfX1jb25zdCBvZj1bWyJlbiIsImVuZ2xpc2giXSxbInpoIiwiY2hpbmVzZSJdLFsiZGUiLCJnZXJtYW4iXSxbImVzIiwic3BhbmlzaCJdLFsicnUiLCJydXNzaWFuIl0sWyJrbyIsImtvcmVhbiJdLFsiZnIiLCJmcmVuY2giXSxbImphIiwiamFwYW5lc2UiXSxbInB0IiwicG9ydHVndWVzZSJdLFsidHIiLCJ0dXJraXNoIl0sWyJwbCIsInBvbGlzaCJdLFsiY2EiLCJjYXRhbGFuIl0sWyJubCIsImR1dGNoIl0sWyJhciIsImFyYWJpYyJdLFsic3YiLCJzd2VkaXNoIl0sWyJpdCIsIml0YWxpYW4iXSxbImlkIiwiaW5kb25lc2lhbiJdLFsiaGkiLCJoaW5kaSJdLFsiZmkiLCJmaW5uaXNoIl0sWyJ2aSIsInZpZXRuYW1lc2UiXSxbImhlIiwiaGVicmV3Il0sWyJ1ayIsInVrcmFpbmlhbiJdLFsiZWwiLCJncmVlayJdLFsibXMiLCJtYWxheSJdLFsiY3MiLCJjemVjaCJdLFsicm8iLCJyb21hbmlhbiJdLFsiZGEiLCJkYW5pc2giXSxbImh1IiwiaHVuZ2FyaWFuIl0sWyJ0YSIsInRhbWlsIl0sWyJubyIsIm5vcndlZ2lhbiJdLFsidGgiLCJ0aGFpIl0sWyJ1ciIsInVyZHUiXSxbImhyIiwiY3JvYXRpYW4iXSxbImJnIiwiYnVsZ2FyaWFuIl0sWyJsdCIsImxpdGh1YW5pYW4iXSxbImxhIiwibGF0aW4iXSxbIm1pIiwibWFvcmkiXSxbIm1sIiwibWFsYXlhbGFtIl0sWyJjeSIsIndlbHNoIl0sWyJzayIsInNsb3ZhayJdLFsidGUiLCJ0ZWx1Z3UiXSxbImZhIiwicGVyc2lhbiJdLFsibHYiLCJsYXR2aWFuIl0sWyJibiIsImJlbmdhbGkiXSxbInNyIiwic2VyYmlhbiJdLFsiYXoiLCJhemVyYmFpamFuaSJdLFsic2wiLCJzbG92ZW5pYW4iXSxbImtuIiwia2FubmFkYSJdLFsiZXQiLCJlc3RvbmlhbiJdLFsibWsiLCJtYWNlZG9uaWFuIl0sWyJiciIsImJyZXRvbiJdLFsiZXUiLCJiYXNxdWUiXSxbImlzIiwiaWNlbGFuZGljIl0sWyJoeSIsImFybWVuaWFuIl0sWyJuZSIsIm5lcGFsaSJdLFsibW4iLCJtb25nb2xpYW4iXSxbImJzIiwiYm9zbmlhbiJdLFsia2siLCJrYXpha2giXSxbInNxIiwiYWxiYW5pYW4iXSxbInN3Iiwic3dhaGlsaSJdLFsiZ2wiLCJnYWxpY2lhbiJdLFsibXIiLCJtYXJhdGhpIl0sWyJwYSIsInB1bmphYmkiXSxbInNpIiwic2luaGFsYSJdLFsia20iLCJraG1lciJdLFsic24iLCJzaG9uYSJdLFsieW8iLCJ5b3J1YmEiXSxbInNvIiwic29tYWxpIl0sWyJhZiIsImFmcmlrYWFucyJdLFsib2MiLCJvY2NpdGFuIl0sWyJrYSIsImdlb3JnaWFuIl0sWyJiZSIsImJlbGFydXNpYW4iXSxbInRnIiwidGFqaWsiXSxbInNkIiwic2luZGhpIl0sWyJndSIsImd1amFyYXRpIl0sWyJhbSIsImFtaGFyaWMiXSxbInlpIiwieWlkZGlzaCJdLFsibG8iLCJsYW8iXSxbInV6IiwidXpiZWsiXSxbImZvIiwiZmFyb2VzZSJdLFsiaHQiLCJoYWl0aWFuIGNyZW9sZSJdLFsicHMiLCJwYXNodG8iXSxbInRrIiwidHVya21lbiJdLFsibm4iLCJueW5vcnNrIl0sWyJtdCIsIm1hbHRlc2UiXSxbInNhIiwic2Fuc2tyaXQiXSxbImxiIiwibHV4ZW1ib3VyZ2lzaCJdLFsibXkiLCJteWFubWFyIl0sWyJibyIsInRpYmV0YW4iXSxbInRsIiwidGFnYWxvZyJdLFsibWciLCJtYWxhZ2FzeSJdLFsiYXMiLCJhc3NhbWVzZSJdLFsidHQiLCJ0YXRhciJdLFsiaGF3IiwiaGF3YWlpYW4iXSxbImxuIiwibGluZ2FsYSJdLFsiaGEiLCJoYXVzYSJdLFsiYmEiLCJiYXNoa2lyIl0sWyJqdyIsImphdmFuZXNlIl0sWyJzdSIsInN1bmRhbmVzZSJdXSxWYT1uZXcgTWFwKG9mKSxjdz1uZXcgTWFwKFsuLi5vZi5tYXAoKFt0LGVdKT0+W2UsdF0pLFsiYnVybWVzZSIsIm15Il0sWyJ2YWxlbmNpYW4iLCJjYSJdLFsiZmxlbWlzaCIsIm5sIl0sWyJoYWl0aWFuIiwiaHQiXSxbImxldHplYnVyZ2VzY2giLCJsYiJdLFsicHVzaHRvIiwicHMiXSxbInBhbmphYmkiLCJwYSJdLFsibW9sZGF2aWFuIiwicm8iXSxbIm1vbGRvdmFuIiwicm8iXSxbInNpbmhhbGVzZSIsInNpIl0sWyJjYXN0aWxpYW4iLCJlcyJdXSk7Y2xhc3MgcHcgZXh0ZW5kcyBrZXtfZGVmYXVsdF9jaGF0X3RlbXBsYXRlPSd7JSBmb3IgbWVzc2FnZSBpbiBtZXNzYWdlcyAlfSIgInt7IG1lc3NhZ2UuY29udGVudCB9fXt7IGVvc190b2tlbiB9fSIgInslIGVuZGZvciAlfSc7X2RlY29kZV9hc3IoZSx7cmV0dXJuX3RpbWVzdGFtcHM6cj0hMSxyZXR1cm5fbGFuZ3VhZ2U6bj0hMSx0aW1lX3ByZWNpc2lvbjphPW51bGwsZm9yY2VfZnVsbF9zZXF1ZW5jZXM6aT0hMH09e30pe2lmKGE9PT1udWxsKXRocm93IEVycm9yKCJNdXN0IHNwZWNpZnkgdGltZV9wcmVjaXNpb24iKTtsZXQgcz1udWxsO2NvbnN0IG89cj09PSJ3b3JkIjtmdW5jdGlvbiBsKCl7cmV0dXJue2xhbmd1YWdlOnMsdGltZXN0YW1wOltudWxsLG51bGxdLHRleHQ6IiJ9fWNvbnN0IGQ9W107bGV0IGM9bCgpLHU9MDtjb25zdCBoPXRoaXMubW9kZWwuY29udmVydF90b2tlbnNfdG9faWRzKFsiPHxub3RpbWVzdGFtcHN8PiJdKVswXSsxO2xldCBmPVtdLGc9W10seT0hMSx3PW51bGw7Y29uc3Qgdj1uZXcgU2V0KHRoaXMuYWxsX3NwZWNpYWxfaWRzKTtmb3IoY29uc3QgeCBvZiBlKXtjb25zdCBJPXgudG9rZW5zLFQ9bz94LnRva2VuX3RpbWVzdGFtcHM6bnVsbDtsZXQgQj1udWxsLFU9aDtpZigic3RyaWRlImluIHgpe2NvbnN0W08sRyxuZV09eC5zdHJpZGU7aWYodS09Ryx3PU8tbmUsRyYmKFU9Ry9hK2gpLG5lKWZvcihsZXQgcT1JLmxlbmd0aC0xO3E+PTA7LS1xKXtjb25zdCBEPUlbcV07aWYoRD49aCl7aWYoQiE9PW51bGwmJihELWgpKmE8dylicmVhaztCPUR9fX1sZXQgSD1bXSxLPVtdO2ZvcihsZXQgTz0wO088SS5sZW5ndGg7KytPKXtjb25zdCBHPUlbT107aWYodi5oYXMoRykpe2NvbnN0IG5lPXRoaXMuZGVjb2RlKFtHXSkscT1WYS5nZXQobmUuc2xpY2UoMiwtMikpO2lmKHEhPT12b2lkIDApe2lmKHMhPT1udWxsJiZxIT09cyYmIXIpe2YucHVzaChIKTtjb25zdCBEPXRoaXMuZmluZExvbmdlc3RDb21tb25TZXF1ZW5jZShmKVswXSxMPXRoaXMuZGVjb2RlKEQpO2MudGV4dD1MLGQucHVzaChjKSxmPVtdLEg9W10sYz1sKCl9cz1jLmxhbmd1YWdlPXF9fWVsc2UgaWYoRz49aCl7Y29uc3QgbmU9KEctaCkqYSt1LHE9YW4obmUsMik7aWYoQiE9PW51bGwmJkc+PUIpeT0hMDtlbHNlIGlmKHl8fGYubGVuZ3RoPjAmJkc8VSl5PSExO2Vsc2UgaWYoYy50aW1lc3RhbXBbMF09PT1udWxsKWMudGltZXN0YW1wWzBdPXE7ZWxzZSBpZihxIT09Yy50aW1lc3RhbXBbMF0pe2MudGltZXN0YW1wWzFdPXEsZi5wdXNoKEgpLG8mJmcucHVzaChLKTtjb25zdFtELExdPXRoaXMuZmluZExvbmdlc3RDb21tb25TZXF1ZW5jZShmLGcpLFY9dGhpcy5kZWNvZGUoRCk7Yy50ZXh0PVYsbyYmKGMud29yZHM9dGhpcy5jb2xsYXRlV29yZFRpbWVzdGFtcHMoRCxMLHMpKSxkLnB1c2goYyksZj1bXSxIPVtdLGc9W10sSz1bXSxjPWwoKX19ZWxzZSBpZihILnB1c2goRyksbyl7bGV0IG5lPWFuKFRbT10rdSwyKSxxO08rMTxULmxlbmd0aD9xPWFuKFRbTysxXSt1LDIpOnE9bnVsbCxLLnB1c2goW25lLHFdKX19aWYoInN0cmlkZSJpbiB4KXtjb25zdFtPLEcsbmVdPXguc3RyaWRlO3UrPU8tbmV9SC5sZW5ndGg+MD8oZi5wdXNoKEgpLG8mJmcucHVzaChLKSk6Zi5ldmVyeShPPT5PLmxlbmd0aD09PTApJiYoYz1sKCksZj1bXSxIPVtdLGc9W10sSz1bXSl9aWYoZi5sZW5ndGg+MCl7aWYoaSYmcil0aHJvdyBuZXcgRXJyb3IoIldoaXNwZXIgZGlkIG5vdCBwcmVkaWN0IGFuIGVuZGluZyB0aW1lc3RhbXAsIHdoaWNoIGNhbiBoYXBwZW4gaWYgYXVkaW8gaXMgY3V0IG9mZiBpbiB0aGUgbWlkZGxlIG9mIGEgd29yZC4gQWxzbyBtYWtlIHN1cmUgV2hpc3BlclRpbWVTdGFtcExvZ2l0c1Byb2Nlc3NvciB3YXMgdXNlZCBkdXJpbmcgZ2VuZXJhdGlvbi4iKTtjb25zdFt4LEldPXRoaXMuZmluZExvbmdlc3RDb21tb25TZXF1ZW5jZShmLGcpLFQ9dGhpcy5kZWNvZGUoeCk7Yy50ZXh0PVQsbyYmKGMud29yZHM9dGhpcy5jb2xsYXRlV29yZFRpbWVzdGFtcHMoeCxJLHMpKSxkLnB1c2goYyl9bGV0IGs9T2JqZWN0LmNyZWF0ZShudWxsKTtjb25zdCBFPWQubWFwKHg9PngudGV4dCkuam9pbigiIik7aWYocnx8bil7Zm9yKGxldCB4PTA7eDxkLmxlbmd0aDsrK3gpe2NvbnN0IEk9ZFt4XTtyfHxkZWxldGUgSS50aW1lc3RhbXAsbnx8ZGVsZXRlIEkubGFuZ3VhZ2V9aWYobyl7Y29uc3QgeD1bXTtmb3IoY29uc3QgSSBvZiBkKWZvcihjb25zdCBUIG9mIEkud29yZHMpeC5wdXNoKFQpO2s9e2NodW5rczp4fX1lbHNlIGs9e2NodW5rczpkfX1yZXR1cm5bRSxrXX1maW5kTG9uZ2VzdENvbW1vblNlcXVlbmNlKGUscj1udWxsKXtsZXQgbj1lWzBdLGE9bi5sZW5ndGgsaT1bXTtjb25zdCBzPUFycmF5LmlzQXJyYXkocikmJnIubGVuZ3RoPjA7bGV0IG89cz9bXTpudWxsLGw9cz9yWzBdOm51bGw7Zm9yKGxldCBkPTE7ZDxlLmxlbmd0aDsrK2Qpe2NvbnN0IGM9ZVtkXTtsZXQgdT0wLGg9W2EsYSwwLDBdO2NvbnN0IGY9Yy5sZW5ndGg7Zm9yKGxldCB4PTE7eDxhK2Y7Kyt4KXtjb25zdCBJPXgvMWU0LFQ9TWF0aC5tYXgoMCxhLXgpLEI9TWF0aC5taW4oYSxhK2YteCksVT1uLnNsaWNlKFQsQiksSD1NYXRoLm1heCgwLHgtYSksSz1NYXRoLm1pbihmLHgpLE89Yy5zbGljZShILEspO2lmKFUubGVuZ3RoIT09Ty5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJUaGVyZSBpcyBhIGJ1ZyB3aXRoaW4gd2hpc3BlciBgZGVjb2RlX2FzcmAgZnVuY3Rpb24sIHBsZWFzZSByZXBvcnQgaXQuIERyb3BwaW5nIHRvIHByZXZlbnQgYmFkIGluZmVyZW5jZS4iKTtjb25zdCBHPVUuZmlsdGVyKChxLEQpPT5xPT09T1tEXSkubGVuZ3RoLG5lPUcveCtJO0c+MSYmbmU+dSYmKHU9bmUsaD1bVCxCLEgsS10pfWNvbnN0W2cseSx3LHZdPWgsaz1NYXRoLmZsb29yKCh5K2cpLzIpLEU9TWF0aC5mbG9vcigodit3KS8yKTtpLnB1c2goLi4ubi5zbGljZSgwLGspKSxuPWMuc2xpY2UoRSksYT1uLmxlbmd0aCxzJiYoby5wdXNoKC4uLmwuc2xpY2UoMCxrKSksbD1yW2RdLnNsaWNlKEUpKX1yZXR1cm4gaS5wdXNoKC4uLm4pLHM/KG8ucHVzaCguLi5sKSxbaSxvXSk6W2ksW11dfWNvbGxhdGVXb3JkVGltZXN0YW1wcyhlLHIsbil7Y29uc3RbYSxpLHNdPXRoaXMuY29tYmluZVRva2Vuc0ludG9Xb3JkcyhlLG4pLG89W107Zm9yKGxldCBsPTA7bDxhLmxlbmd0aDsrK2wpe2NvbnN0IGQ9c1tsXTtvLnB1c2goe3RleHQ6YVtsXSx0aW1lc3RhbXA6W3JbZC5hdCgwKV1bMF0scltkLmF0KC0xKV1bMV1dfSl9cmV0dXJuIG99Y29tYmluZVRva2Vuc0ludG9Xb3JkcyhlLHIsbj1gIidcdTIwMUNceEExXHhCRihbey1gLGE9YCInLlx1MzAwMixcdUZGMEMhXHVGRjAxP1x1RkYxRjpcdUZGMUFcdTIwMUQpXX1cdTMwMDFgKXtyPXI/PyJlbmdsaXNoIjtsZXQgaSxzLG87cmV0dXJuWyJjaGluZXNlIiwiamFwYW5lc2UiLCJ0aGFpIiwibGFvIiwibXlhbm1hciJdLmluY2x1ZGVzKHIpP1tpLHMsb109dGhpcy5zcGxpdFRva2Vuc09uVW5pY29kZShlKTpbaSxzLG9dPXRoaXMuc3BsaXRUb2tlbnNPblNwYWNlcyhlKSx0aGlzLm1lcmdlUHVuY3R1YXRpb25zKGkscyxvLG4sYSl9ZGVjb2RlKGUscil7bGV0IG47cmV0dXJuIHImJnIuZGVjb2RlX3dpdGhfdGltZXN0YW1wcz8oZSBpbnN0YW5jZW9mIHJlJiYoZT1RaChlKSksbj10aGlzLmRlY29kZVdpdGhUaW1lc3RhbXBzKGUscikpOm49c3VwZXIuZGVjb2RlKGUsciksbn1kZWNvZGVXaXRoVGltZXN0YW1wcyhlLHIpe2NvbnN0IG49cj8udGltZV9wcmVjaXNpb24/Py4wMixhPUFycmF5LmZyb20odGhpcy5hbGxfc3BlY2lhbF9pZHMpLmF0KC0xKSsxO2xldCBpPVtbXV07Zm9yKGNvbnN0IHMgb2YgZSlpZihzPj1hKXtjb25zdCBvPWFuKChzLWEpKm4sMik7aS5wdXNoKGA8fCR7b318PmApLGkucHVzaChbXSl9ZWxzZSBpW2kubGVuZ3RoLTFdLnB1c2gocyk7cmV0dXJuIGk9aS5tYXAocz0+dHlwZW9mIHM9PSJzdHJpbmciP3M6c3VwZXIuZGVjb2RlKHMscikpLGkuam9pbigiIil9c3BsaXRUb2tlbnNPblVuaWNvZGUoZSl7Y29uc3Qgcj10aGlzLmRlY29kZShlLHtkZWNvZGVfd2l0aF90aW1lc3RhbXBzOiEwfSksbj0iXHVGRkZEIixhPVtdLGk9W10scz1bXTtsZXQgbz1bXSxsPVtdLGQ9MDtmb3IobGV0IGM9MDtjPGUubGVuZ3RoOysrYyl7Y29uc3QgdT1lW2NdO28ucHVzaCh1KSxsLnB1c2goYyk7Y29uc3QgaD10aGlzLmRlY29kZShvLHtkZWNvZGVfd2l0aF90aW1lc3RhbXBzOiEwfSk7KCFoLmluY2x1ZGVzKG4pfHxyW2QraC5pbmRleE9mKG4pXT09PW4pJiYoYS5wdXNoKGgpLGkucHVzaChvKSxzLnB1c2gobCksbz1bXSxsPVtdLGQrPWgubGVuZ3RoKX1yZXR1cm5bYSxpLHNdfXNwbGl0VG9rZW5zT25TcGFjZXMoZSl7Y29uc3RbcixuLGFdPXRoaXMuc3BsaXRUb2tlbnNPblVuaWNvZGUoZSksaT1bXSxzPVtdLG89W10sbD1uZXcgUmVnRXhwKGBeWyR7Q259XSRgLCJndSIpO2ZvcihsZXQgZD0wO2Q8ci5sZW5ndGg7KytkKXtjb25zdCBjPXJbZF0sdT1uW2RdLGg9YVtkXSxmPXVbMF0+PXRoaXMubW9kZWwudG9rZW5zX3RvX2lkcy5nZXQoIjx8ZW5kb2Z0ZXh0fD4iKSxnPWMuc3RhcnRzV2l0aCgiICIpLHk9Yy50cmltKCksdz1sLnRlc3QoeSk7aWYoZnx8Z3x8d3x8aS5sZW5ndGg9PT0wKWkucHVzaChjKSxzLnB1c2godSksby5wdXNoKGgpO2Vsc2V7Y29uc3Qgdj1pLmxlbmd0aC0xO2lbdl0rPWMsc1t2XS5wdXNoKC4uLnUpLG9bdl0ucHVzaCguLi5oKX19cmV0dXJuW2kscyxvXX1tZXJnZVB1bmN0dWF0aW9ucyhlLHIsbixhLGkpe2NvbnN0IHM9c3RydWN0dXJlZENsb25lKGUpLG89c3RydWN0dXJlZENsb25lKHIpLGw9c3RydWN0dXJlZENsb25lKG4pO2xldCBkPXMubGVuZ3RoLTIsYz1zLmxlbmd0aC0xO2Zvcig7ZD49MDspc1tkXS5zdGFydHNXaXRoKCIgIikmJmEuaW5jbHVkZXMoc1tkXS50cmltKCkpPyhzW2NdPXNbZF0rc1tjXSxvW2NdPWx0KG9bZF0sb1tjXSksbFtjXT1sdChsW2RdLGxbY10pLHNbZF09IiIsb1tkXT1bXSxsW2RdPVtdKTpjPWQsLS1kO2ZvcihkPTAsYz0xO2M8cy5sZW5ndGg7KSFzW2RdLmVuZHNXaXRoKCIgIikmJmkuaW5jbHVkZXMoc1tjXSk/KHNbZF0rPXNbY10sb1tkXT1sdChvW2RdLG9bY10pLGxbZF09bHQobFtkXSxsW2NdKSxzW2NdPSIiLG9bY109W10sbFtjXT1bXSk6ZD1jLCsrYztyZXR1cm5bcy5maWx0ZXIodT0+dSksby5maWx0ZXIodT0+dS5sZW5ndGg+MCksbC5maWx0ZXIodT0+dS5sZW5ndGg+MCldfWdldF9kZWNvZGVyX3Byb21wdF9pZHMoe2xhbmd1YWdlOmU9bnVsbCx0YXNrOnI9bnVsbCxub190aW1lc3RhbXBzOm49ITB9PXt9KXtjb25zdCBhPVtdO2lmKGUpe2U9ZS50b0xvd2VyQ2FzZSgpO2xldCBpPWN3LmdldChlKTtpZihpPT09dm9pZCAwKWlmKFZhLmhhcyhlKSlpPWU7ZWxzZXtjb25zdCBvPWUubGVuZ3RoPT09Mj9WYS5rZXlzKCk6VmEudmFsdWVzKCk7dGhyb3cgbmV3IEVycm9yKGBMYW5ndWFnZSAiJHtlfSIgaXMgbm90IHN1cHBvcnRlZC4gTXVzdCBiZSBvbmUgb2Y6ICR7SlNPTi5zdHJpbmdpZnkobyl9YCl9Y29uc3Qgcz10aGlzLm1vZGVsLnRva2Vuc190b19pZHMuZ2V0KGA8fCR7aX18PmApO2lmKHM9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gZmluZCBsYW5ndWFnZSAiJHtpfSIgaW4gbW9kZWwgdm9jYWJ1bGFyeS4gUGxlYXNlIHJlcG9ydCB0aGlzIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS94ZW5vdmEvdHJhbnNmb3JtZXJzLmpzL2lzc3Vlcy9uZXcvY2hvb3NlLmApO2EucHVzaChzKX1lbHNlIGEucHVzaChudWxsKTtpZihyKXtpZihyPXIudG9Mb3dlckNhc2UoKSxyIT09InRyYW5zY3JpYmUiJiZyIT09InRyYW5zbGF0ZSIpdGhyb3cgbmV3IEVycm9yKGBUYXNrICIke3J9IiBpcyBub3Qgc3VwcG9ydGVkLiBNdXN0IGJlIG9uZSBvZjogWyJ0cmFuc2NyaWJlIiwgInRyYW5zbGF0ZSJdYCk7Y29uc3QgaT10aGlzLm1vZGVsLnRva2Vuc190b19pZHMuZ2V0KGA8fCR7cn18PmApO2lmKGk9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gZmluZCB0YXNrICIke3J9IiBpbiBtb2RlbCB2b2NhYnVsYXJ5LiBQbGVhc2UgcmVwb3J0IHRoaXMgaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL3hlbm92YS90cmFuc2Zvcm1lcnMuanMvaXNzdWVzL25ldy9jaG9vc2UuYCk7YS5wdXNoKGkpfWVsc2UgYS5wdXNoKG51bGwpO2lmKG4pe2NvbnN0IGk9dGhpcy5tb2RlbC50b2tlbnNfdG9faWRzLmdldCgiPHxub3RpbWVzdGFtcHN8PiIpO2lmKGk9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCAiPHxub3RpbWVzdGFtcHN8PiIgaW4gbW9kZWwgdm9jYWJ1bGFyeS4gUGxlYXNlIHJlcG9ydCB0aGlzIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS94ZW5vdmEvdHJhbnNmb3JtZXJzLmpzL2lzc3Vlcy9uZXcvY2hvb3NlLicpO2EucHVzaChpKX1yZXR1cm4gYS5tYXAoKGkscyk9PltzKzEsaV0pLmZpbHRlcihpPT5pWzFdIT09bnVsbCl9fWNsYXNzIGh3IGV4dGVuZHMga2V7fWNsYXNzIGZ3IGV4dGVuZHMga2V7fWNsYXNzIG13IGV4dGVuZHMga2V7fWNsYXNzIGd3IGV4dGVuZHMga2V7Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlLHIpLHRoaXMubGFuZ3VhZ2VSZWdleD0vXig+Plx3Kzw8KVxzKi9nLHRoaXMuc3VwcG9ydGVkX2xhbmd1YWdlX2NvZGVzPXRoaXMubW9kZWwudm9jYWIuZmlsdGVyKG49PnRoaXMubGFuZ3VhZ2VSZWdleC50ZXN0KG4pKSxjb25zb2xlLndhcm4oJ1dBUk5JTkc6IGBNYXJpYW5Ub2tlbml6ZXJgIGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGJ5IEh1Z2dpbmcgRmFjZVwncyAiZmFzdCIgdG9rZW5pemVycyBsaWJyYXJ5LiBUaGVyZWZvcmUsIHlvdSBtYXkgZXhwZXJpZW5jZSBzbGlnaHRseSBpbmFjY3VyYXRlIHJlc3VsdHMuJyl9X2VuY29kZV90ZXh0KGUpe2lmKGU9PT1udWxsKXJldHVybiBudWxsO2NvbnN0W3IsLi4ubl09ZS50cmltKCkuc3BsaXQodGhpcy5sYW5ndWFnZVJlZ2V4KTtpZihuLmxlbmd0aD09PTApcmV0dXJuIHN1cGVyLl9lbmNvZGVfdGV4dChyKTtpZihuLmxlbmd0aD09PTIpe2NvbnN0W2EsaV09bjtyZXR1cm4gdGhpcy5zdXBwb3J0ZWRfbGFuZ3VhZ2VfY29kZXMuaW5jbHVkZXMoYSl8fGNvbnNvbGUud2FybihgVW5zdXBwb3J0ZWQgbGFuZ3VhZ2UgY29kZSAiJHthfSIgZGV0ZWN0ZWQsIHdoaWNoIG1heSBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IuIFNob3VsZCBiZSBvbmUgb2Y6ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5zdXBwb3J0ZWRfbGFuZ3VhZ2VfY29kZXMpfWApLGx0KFthXSxzdXBlci5fZW5jb2RlX3RleHQoaSkpfX19Y2xhc3MgX3cgZXh0ZW5kcyBrZXt9Y2xhc3MgbGYgZXh0ZW5kcyBrZXtfZGVmYXVsdF9jaGF0X3RlbXBsYXRlPSJ7JSBmb3IgbWVzc2FnZSBpbiBtZXNzYWdlcyAlfXslIGlmIG1lc3NhZ2VbJ3JvbGUnXSA9PSAndXNlcicgJX17eyAnICcgfX17JSBlbmRpZiAlfXt7IG1lc3NhZ2VbJ2NvbnRlbnQnXSB9fXslIGlmIG5vdCBsb29wLmxhc3QgJX17eyAnICAnIH19eyUgZW5kaWYgJX17JSBlbmRmb3IgJX17eyBlb3NfdG9rZW4gfX0ifWNsYXNzIHl3IGV4dGVuZHMgbGZ7fWNsYXNzIHd3IGV4dGVuZHMga2V7fWNsYXNzIHZ3IGV4dGVuZHMga2V7fWNsYXNzIGJ3IGV4dGVuZHMga2V7Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlLHIpLHRoaXMuZGVjb2Rlcj1uZXcgRXkoe30pfX1jbGFzcyAkdyBleHRlbmRzIGtle31jbGFzcyB1dHtzdGF0aWMgVE9LRU5JWkVSX0NMQVNTX01BUFBJTkc9e1Q1VG9rZW5pemVyOll5LERpc3RpbEJlcnRUb2tlbml6ZXI6R3ksQ2FtZW1iZXJ0VG9rZW5pemVyOnF5LERlYmVydGFUb2tlbml6ZXI6V3ksRGViZXJ0YVYyVG9rZW5pemVyOkx5LEJlcnRUb2tlbml6ZXI6RHksSGVyYmVydFRva2VuaXplcjpGeSxDb252QmVydFRva2VuaXplcjpWeSxSb0Zvcm1lclRva2VuaXplcjpIeSxYTE1Ub2tlbml6ZXI6anksRWxlY3RyYVRva2VuaXplcjpLeSxNb2JpbGVCZXJ0VG9rZW5pemVyOk55LFNxdWVlemVCZXJ0VG9rZW5pemVyOlV5LEFsYmVydFRva2VuaXplcjpQeSxHUFQyVG9rZW5pemVyOm5mLEJhcnRUb2tlbml6ZXI6WHksTUJhcnRUb2tlbml6ZXI6YWYsTUJhcnQ1MFRva2VuaXplcjpReSxSb2JlcnRhVG9rZW5pemVyOlp5LFdoaXNwZXJUb2tlbml6ZXI6cHcsQ29kZUdlblRva2VuaXplcjpodyxDTElQVG9rZW5pemVyOmZ3LFNpZ2xpcFRva2VuaXplcjptdyxNYXJpYW5Ub2tlbml6ZXI6Z3csQmxvb21Ub2tlbml6ZXI6SnksTmxsYlRva2VuaXplcjp1dyxNMk0xMDBUb2tlbml6ZXI6ZHcsTGxhbWFUb2tlbml6ZXI6c2YsQ29kZUxsYW1hVG9rZW5pemVyOmV3LFhMTVJvYmVydGFUb2tlbml6ZXI6dHcsTVBOZXRUb2tlbml6ZXI6cncsRmFsY29uVG9rZW5pemVyOm53LEdQVE5lb1hUb2tlbml6ZXI6YXcsRXNtVG9rZW5pemVyOml3LFdhdjJWZWMyQ1RDVG9rZW5pemVyOl93LEJsZW5kZXJib3RUb2tlbml6ZXI6bGYsQmxlbmRlcmJvdFNtYWxsVG9rZW5pemVyOnl3LFNwZWVjaFQ1VG9rZW5pemVyOnd3LE5vdWdhdFRva2VuaXplcjp2dyxWaXRzVG9rZW5pemVyOmJ3LFF3ZW4yVG9rZW5pemVyOnN3LEdlbW1hVG9rZW5pemVyOm93LEdyb2sxVG9rZW5pemVyOmx3LENvaGVyZVRva2VuaXplcjokdyxQcmVUcmFpbmVkVG9rZW5pemVyOmtlfTtzdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKGUse3F1YW50aXplZDpyPSEwLHByb2dyZXNzX2NhbGxiYWNrOm49bnVsbCxjb25maWc6YT1udWxsLGNhY2hlX2RpcjppPW51bGwsbG9jYWxfZmlsZXNfb25seTpzPSExLHJldmlzaW9uOm89Im1haW4iLGxlZ2FjeTpsPW51bGx9PXt9KXtjb25zdFtkLGNdPWF3YWl0IFhoKGUse3F1YW50aXplZDpyLHByb2dyZXNzX2NhbGxiYWNrOm4sY29uZmlnOmEsY2FjaGVfZGlyOmksbG9jYWxfZmlsZXNfb25seTpzLHJldmlzaW9uOm8sbGVnYWN5Omx9KSx1PWMudG9rZW5pemVyX2NsYXNzPy5yZXBsYWNlKC9GYXN0JC8sIiIpPz8iUHJlVHJhaW5lZFRva2VuaXplciI7bGV0IGg9dGhpcy5UT0tFTklaRVJfQ0xBU1NfTUFQUElOR1t1XTtyZXR1cm4gaHx8KGNvbnNvbGUud2FybihgVW5rbm93biB0b2tlbml6ZXIgY2xhc3MgIiR7dX0iLCBhdHRlbXB0aW5nIHRvIGNvbnN0cnVjdCBmcm9tIGJhc2UgY2xhc3MuYCksaD1rZSksbmV3IGgoZCxjKX19YXN5bmMgZnVuY3Rpb24geHcodCxlKXtyZXR1cm4gYXdhaXQgUnIodCwiY29uZmlnLmpzb24iLCEwLGUpfWNsYXNzIGt3e2NvbnN0cnVjdG9yKGUpe3RoaXMubW9kZWxfdHlwZT1udWxsLHRoaXMuaXNfZW5jb2Rlcl9kZWNvZGVyPSExLE9iamVjdC5hc3NpZ24odGhpcyxlKX1zdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKGUse3Byb2dyZXNzX2NhbGxiYWNrOnI9bnVsbCxjb25maWc6bj1udWxsLGNhY2hlX2RpcjphPW51bGwsbG9jYWxfZmlsZXNfb25seTppPSExLHJldmlzaW9uOnM9Im1haW4ifT17fSl7bGV0IG89bj8/YXdhaXQgeHcoZSx7cHJvZ3Jlc3NfY2FsbGJhY2s6cixjb25maWc6bixjYWNoZV9kaXI6YSxsb2NhbF9maWxlc19vbmx5OmkscmV2aXNpb246c30pO3JldHVybiBuZXcgdGhpcyhvKX19Y2xhc3MganJ7c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZCguLi5lKXtyZXR1cm4ga3cuZnJvbV9wcmV0cmFpbmVkKC4uLmUpfX1jb25zdCBIYT1PYmplY3QuZnJlZXplKHtjcHU6ImNwdSIsZ3B1OiJncHUiLHdhc206Indhc20iLHdlYmdwdToid2ViZ3B1In0pO2FzeW5jIGZ1bmN0aW9uIFN3KCl7dHJ5e3JldHVybihhd2FpdCBuYXZpZ2F0b3IuZ3B1LnJlcXVlc3RBZGFwdGVyKCkpLmZlYXR1cmVzLmhhcygic2hhZGVyLWYxNiIpfWNhdGNoe3JldHVybiExfX1jb25zdCB1Zj1hd2FpdCBTdygpLEd0PU9iamVjdC5mcmVlemUoe2ZwMzI6ImZwMzIiLGZwMTY6ImZwMTYiLHE4OiJxOCIsaW50ODoiaW50OCIsdWludDg6InVpbnQ4In0pLGRmPXVmP0d0LmZwMTY6R3QuZnAzMixFdz1PYmplY3QuZnJlZXplKHtbSGEuY3B1XTpHdC5xOCxbSGEuZ3B1XTpkZixbSGEud2FzbV06R3QucTgsW0hhLndlYmdwdV06ZGZ9KSxjZj1PYmplY3QuZnJlZXplKHtbR3QuZnAzMl06IiIsW0d0LmZwMTZdOiJfZnAxNiIsW0d0LmludDhdOiJfaW50OCIsW0d0LnVpbnQ4XToiX3VpbnQ4IixbR3QucThdOiJfcXVhbnRpemVkIn0pO2NsYXNzIHBmIGV4dGVuZHMgd3R7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMucHJvY2Vzc29ycz1bXX1wdXNoKGUpe3RoaXMucHJvY2Vzc29ycy5wdXNoKGUpfWV4dGVuZChlKXt0aGlzLnByb2Nlc3NvcnMucHVzaCguLi5lKX1fY2FsbChlLHIpe2ZvcihsZXQgbiBvZiByKXRoaXMucHJvY2Vzc29ycy5mb3JFYWNoKGE9PmEoZSxuKSl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5wcm9jZXNzb3JzLnZhbHVlcygpfX1jbGFzcyBRdCBleHRlbmRzIHd0e19jYWxsKGUscil7dGhyb3cgRXJyb3IoImBfY2FsbGAgc2hvdWxkIGJlIGltcGxlbWVudGVkIGluIGEgc3ViY2xhc3MiKX19Y2xhc3MgQ3cgZXh0ZW5kcyBRdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuZm9yY2VfdG9rZW5fbWFwPU9iamVjdC5mcm9tRW50cmllcyhlPz9bXSl9X2NhbGwoZSxyKXtsZXQgbj10aGlzLmZvcmNlX3Rva2VuX21hcFtlLmxlbmd0aF07cmV0dXJuIGZnKG4pJiYoci5kYXRhLmZpbGwoLTEvMCksci5kYXRhW25dPTApLHJ9fWNsYXNzIEl3IGV4dGVuZHMgUXR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLmJvc190b2tlbl9pZD1lfV9jYWxsKGUscil7cmV0dXJuIGUubGVuZ3RoPT09MSYmKHIuZGF0YS5maWxsKC0xLzApLHIuZGF0YVt0aGlzLmJvc190b2tlbl9pZF09MCkscn19Y2xhc3MgQXcgZXh0ZW5kcyBRdHtjb25zdHJ1Y3RvcihlLHIpe3N1cGVyKCksdGhpcy5tYXhfbGVuZ3RoPWUsdGhpcy5mb3JjZWRfZW9zX3Rva2VuX2lkPXJ9X2NhbGwoZSxyKXt9fWNsYXNzIFR3IGV4dGVuZHMgUXR7Y29uc3RydWN0b3IoZSxyKXtzdXBlcigpLHRoaXMuYmVnaW5fc3VwcHJlc3NfdG9rZW5zPWUsdGhpcy5iZWdpbl9pbmRleD1yfV9jYWxsKGUscil7aWYoZS5sZW5ndGg9PT10aGlzLmJlZ2luX2luZGV4KWZvcihsZXQgbiBvZiB0aGlzLmJlZ2luX3N1cHByZXNzX3Rva2VucylyLmRhdGFbbl09LTEvMDtyZXR1cm4gcn19Y2xhc3MgT3cgZXh0ZW5kcyBRdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuZW9zX3Rva2VuX2lkPWUuZW9zX3Rva2VuX2lkLHRoaXMubm9fdGltZXN0YW1wc190b2tlbl9pZD1lLm5vX3RpbWVzdGFtcHNfdG9rZW5faWQsdGhpcy50aW1lc3RhbXBfYmVnaW49dGhpcy5ub190aW1lc3RhbXBzX3Rva2VuX2lkKzEsdGhpcy5iZWdpbl9pbmRleD0oZS5mb3JjZWRfZGVjb2Rlcl9pZHN8fFtdKS5sZW5ndGgrMixlLmZvcmNlZF9kZWNvZGVyX2lkcy5zbGljZSgtMSlbMF1bMV09PT10aGlzLm5vX3RpbWVzdGFtcHNfdG9rZW5faWQmJih0aGlzLmJlZ2luX2luZGV4LT0xKSx0aGlzLm1heF9pbml0aWFsX3RpbWVzdGFtcF9pbmRleD1lLm1heF9pbml0aWFsX3RpbWVzdGFtcF9pbmRleH1fY2FsbChlLHIpe2NvbnN0IG49ci5kYXRhO2lmKG5bdGhpcy5ub190aW1lc3RhbXBzX3Rva2VuX2lkXT0tMS8wLGUubGVuZ3RoPT09dGhpcy5iZWdpbl9pbmRleC0xKXJldHVybiBuLmZpbGwoLTEvMCksblt0aGlzLnRpbWVzdGFtcF9iZWdpbl09MCxyO2NvbnN0IGE9ZS5zbGljZSh0aGlzLmJlZ2luX2luZGV4KSxpPWEubGVuZ3RoPj0xJiZhW2EubGVuZ3RoLTFdPj10aGlzLnRpbWVzdGFtcF9iZWdpbixzPWEubGVuZ3RoPDJ8fGFbYS5sZW5ndGgtMl0+PXRoaXMudGltZXN0YW1wX2JlZ2luO2lmKGkmJihzP24uc3ViYXJyYXkodGhpcy50aW1lc3RhbXBfYmVnaW4pLmZpbGwoLTEvMCk6bi5zdWJhcnJheSgwLHRoaXMuZW9zX3Rva2VuX2lkKS5maWxsKC0xLzApKSxlLmxlbmd0aD09PXRoaXMuYmVnaW5faW5kZXgmJnRoaXMubWF4X2luaXRpYWxfdGltZXN0YW1wX2luZGV4IT09bnVsbCl7Y29uc3QgYz10aGlzLnRpbWVzdGFtcF9iZWdpbit0aGlzLm1heF9pbml0aWFsX3RpbWVzdGFtcF9pbmRleDtuLnN1YmFycmF5KGMrMSkuZmlsbCgtMS8wKX1jb25zdCBvPUlnKG4pLGw9TWF0aC5sb2coby5zdWJhcnJheSh0aGlzLnRpbWVzdGFtcF9iZWdpbikubWFwKE1hdGguZXhwKS5yZWR1Y2UoKGMsdSk9PmMrdSkpLGQ9Q3Qoby5zdWJhcnJheSgwLHRoaXMudGltZXN0YW1wX2JlZ2luKSlbMF07cmV0dXJuIGw+ZCYmbi5zdWJhcnJheSgwLHRoaXMudGltZXN0YW1wX2JlZ2luKS5maWxsKC0xLzApLHJ9fWNsYXNzIE13IGV4dGVuZHMgUXR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLm5vX3JlcGVhdF9uZ3JhbV9zaXplPWV9Z2V0TmdyYW1zKGUpe2NvbnN0IHI9ZS5sZW5ndGgsbj1bXTtmb3IobGV0IGk9MDtpPHIrMS10aGlzLm5vX3JlcGVhdF9uZ3JhbV9zaXplOysraSl7Y29uc3Qgcz1bXTtmb3IobGV0IG89MDtvPHRoaXMubm9fcmVwZWF0X25ncmFtX3NpemU7KytvKXMucHVzaChlW2krb10pO24ucHVzaChzKX1jb25zdCBhPW5ldyBNYXA7Zm9yKGNvbnN0IGkgb2Ygbil7Y29uc3Qgcz1pLnNsaWNlKDAsaS5sZW5ndGgtMSksbz1KU09OLnN0cmluZ2lmeShzKSxsPWEuZ2V0KG8pPz9bXTtsLnB1c2goaVtpLmxlbmd0aC0xXSksYS5zZXQobyxsKX1yZXR1cm4gYX1nZXRHZW5lcmF0ZWROZ3JhbXMoZSxyKXtjb25zdCBuPXIuc2xpY2Uoci5sZW5ndGgrMS10aGlzLm5vX3JlcGVhdF9uZ3JhbV9zaXplLHIubGVuZ3RoKTtyZXR1cm4gZS5nZXQoSlNPTi5zdHJpbmdpZnkobikpPz9bXX1jYWxjQmFubmVkTmdyYW1Ub2tlbnMoZSl7Y29uc3Qgcj1bXTtpZihlLmxlbmd0aCsxPHRoaXMubm9fcmVwZWF0X25ncmFtX3NpemUpcmV0dXJuIHI7e2NvbnN0IG49dGhpcy5nZXROZ3JhbXMoZSk7cmV0dXJuIHRoaXMuZ2V0R2VuZXJhdGVkTmdyYW1zKG4sZSl9fV9jYWxsKGUscil7Y29uc3Qgbj10aGlzLmNhbGNCYW5uZWROZ3JhbVRva2VucyhlKTtmb3IoY29uc3QgYSBvZiBuKXIuZGF0YVthXT0tMS8wO3JldHVybiByfX1jbGFzcyB6dyBleHRlbmRzIFF0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5wZW5hbHR5PWV9X2NhbGwoZSxyKXtmb3IoY29uc3QgbiBvZiBlKXIuZGF0YVtuXTwwP3IuZGF0YVtuXSo9dGhpcy5wZW5hbHR5OnIuZGF0YVtuXS89dGhpcy5wZW5hbHR5O3JldHVybiByfX1jbGFzcyBCdyBleHRlbmRzIFF0e2NvbnN0cnVjdG9yKGUscil7c3VwZXIoKSx0aGlzLm1pbl9sZW5ndGg9ZSx0aGlzLmVvc190b2tlbl9pZD1BcnJheS5pc0FycmF5KHIpP3I6W3JdfV9jYWxsKGUscil7aWYoZS5sZW5ndGg8dGhpcy5taW5fbGVuZ3RoKWZvcihjb25zdCBuIG9mIHRoaXMuZW9zX3Rva2VuX2lkKXIuZGF0YVtuXT0tMS8wO3JldHVybiByfX1jbGFzcyBSdyBleHRlbmRzIFF0e2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcigpLHRoaXMucHJvbXB0X2xlbmd0aF90b19za2lwPWUsdGhpcy5taW5fbmV3X3Rva2Vucz1yLHRoaXMuZW9zX3Rva2VuX2lkPUFycmF5LmlzQXJyYXkobik/bjpbbl19X2NhbGwoZSxyKXtpZihlLmxlbmd0aC10aGlzLnByb21wdF9sZW5ndGhfdG9fc2tpcDx0aGlzLm1pbl9uZXdfdG9rZW5zKWZvcihjb25zdCBuIG9mIHRoaXMuZW9zX3Rva2VuX2lkKXIuZGF0YVtuXT0tMS8wO3JldHVybiByfX1jbGFzcyBEdyBleHRlbmRzIFF0e2NvbnN0cnVjdG9yKGUscil7c3VwZXIoKSx0aGlzLmJhZF93b3Jkc19pZHM9ZSx0aGlzLmVvc190b2tlbl9pZD1BcnJheS5pc0FycmF5KHIpP3I6W3JdfV9jYWxsKGUscil7Zm9yKGNvbnN0IG4gb2YgdGhpcy5iYWRfd29yZHNfaWRzKXtsZXQgYT0hMDtmb3IobGV0IGk9MTtpPD1uLmxlbmd0aC0xJiZuLmxlbmd0aDxlLmxlbmd0aDsrK2kpaWYobi5hdCgtaS0xKSE9PWUuYXQoLWkpKXthPSExO2JyZWFrfWEmJihyLmRhdGFbbi5hdCgtMSldPS0xLzApfXJldHVybiByfX1jb25zdCBQdz1jbGFzc3tjb25zdHJ1Y3Rvcih0PXt9KXt0aGlzLm1heF9sZW5ndGg9dC5tYXhfbGVuZ3RoPz8yMCx0aGlzLm1heF9uZXdfdG9rZW5zPXQubWF4X25ld190b2tlbnM/P251bGwsdGhpcy5taW5fbGVuZ3RoPXQubWluX2xlbmd0aD8/MCx0aGlzLm1pbl9uZXdfdG9rZW5zPXQubWluX25ld190b2tlbnM/P251bGwsdGhpcy5lYXJseV9zdG9wcGluZz10LmVhcmx5X3N0b3BwaW5nPz8hMSx0aGlzLm1heF90aW1lPXQubWF4X3RpbWU/P251bGwsdGhpcy5kb19zYW1wbGU9dC5kb19zYW1wbGU/PyExLHRoaXMubnVtX2JlYW1zPXQubnVtX2JlYW1zPz8xLHRoaXMubnVtX2JlYW1fZ3JvdXBzPXQubnVtX2JlYW1fZ3JvdXBzPz8xLHRoaXMucGVuYWx0eV9hbHBoYT10LnBlbmFsdHlfYWxwaGE/P251bGwsdGhpcy51c2VfY2FjaGU9dC51c2VfY2FjaGU/PyEwLHRoaXMudGVtcGVyYXR1cmU9dC50ZW1wZXJhdHVyZT8/MSx0aGlzLnRvcF9rPXQudG9wX2s/PzUwLHRoaXMudG9wX3A9dC50b3BfcD8/MSx0aGlzLnR5cGljYWxfcD10LnR5cGljYWxfcD8/MSx0aGlzLmVwc2lsb25fY3V0b2ZmPXQuZXBzaWxvbl9jdXRvZmY/PzAsdGhpcy5ldGFfY3V0b2ZmPXQuZXRhX2N1dG9mZj8/MCx0aGlzLmRpdmVyc2l0eV9wZW5hbHR5PXQuZGl2ZXJzaXR5X3BlbmFsdHk/PzAsdGhpcy5yZXBldGl0aW9uX3BlbmFsdHk9dC5yZXBldGl0aW9uX3BlbmFsdHk/PzEsdGhpcy5lbmNvZGVyX3JlcGV0aXRpb25fcGVuYWx0eT10LmVuY29kZXJfcmVwZXRpdGlvbl9wZW5hbHR5Pz8xLHRoaXMubGVuZ3RoX3BlbmFsdHk9dC5sZW5ndGhfcGVuYWx0eT8/MSx0aGlzLm5vX3JlcGVhdF9uZ3JhbV9zaXplPXQubm9fcmVwZWF0X25ncmFtX3NpemU/PzAsdGhpcy5iYWRfd29yZHNfaWRzPXQuYmFkX3dvcmRzX2lkcz8/bnVsbCx0aGlzLmZvcmNlX3dvcmRzX2lkcz10LmZvcmNlX3dvcmRzX2lkcz8/bnVsbCx0aGlzLnJlbm9ybWFsaXplX2xvZ2l0cz10LnJlbm9ybWFsaXplX2xvZ2l0cz8/ITEsdGhpcy5jb25zdHJhaW50cz10LmNvbnN0cmFpbnRzPz9udWxsLHRoaXMuZm9yY2VkX2Jvc190b2tlbl9pZD10LmZvcmNlZF9ib3NfdG9rZW5faWQ/P251bGwsdGhpcy5mb3JjZWRfZW9zX3Rva2VuX2lkPXQuZm9yY2VkX2Vvc190b2tlbl9pZD8/bnVsbCx0aGlzLnJlbW92ZV9pbnZhbGlkX3ZhbHVlcz10LnJlbW92ZV9pbnZhbGlkX3ZhbHVlcz8/ITEsdGhpcy5leHBvbmVudGlhbF9kZWNheV9sZW5ndGhfcGVuYWx0eT10LmV4cG9uZW50aWFsX2RlY2F5X2xlbmd0aF9wZW5hbHR5Pz9udWxsLHRoaXMuc3VwcHJlc3NfdG9rZW5zPXQuc3VwcHJlc3NfdG9rZW5zPz9udWxsLHRoaXMuYmVnaW5fc3VwcHJlc3NfdG9rZW5zPXQuYmVnaW5fc3VwcHJlc3NfdG9rZW5zPz9udWxsLHRoaXMuZm9yY2VkX2RlY29kZXJfaWRzPXQuZm9yY2VkX2RlY29kZXJfaWRzPz9udWxsLHRoaXMubnVtX3JldHVybl9zZXF1ZW5jZXM9dC5udW1fcmV0dXJuX3NlcXVlbmNlcz8/MSx0aGlzLm91dHB1dF9hdHRlbnRpb25zPXQub3V0cHV0X2F0dGVudGlvbnM/PyExLHRoaXMub3V0cHV0X2hpZGRlbl9zdGF0ZXM9dC5vdXRwdXRfaGlkZGVuX3N0YXRlcz8/ITEsdGhpcy5vdXRwdXRfc2NvcmVzPXQub3V0cHV0X3Njb3Jlcz8/ITEsdGhpcy5yZXR1cm5fZGljdF9pbl9nZW5lcmF0ZT10LnJldHVybl9kaWN0X2luX2dlbmVyYXRlPz8hMSx0aGlzLnBhZF90b2tlbl9pZD10LnBhZF90b2tlbl9pZD8/bnVsbCx0aGlzLmJvc190b2tlbl9pZD10LmJvc190b2tlbl9pZD8/bnVsbCx0aGlzLmVvc190b2tlbl9pZD10LmVvc190b2tlbl9pZD8/bnVsbCx0aGlzLmVuY29kZXJfbm9fcmVwZWF0X25ncmFtX3NpemU9dC5lbmNvZGVyX25vX3JlcGVhdF9uZ3JhbV9zaXplPz8wLHRoaXMuZGVjb2Rlcl9zdGFydF90b2tlbl9pZD10LmRlY29kZXJfc3RhcnRfdG9rZW5faWQ/P251bGwsdGhpcy5nZW5lcmF0aW9uX2t3YXJncz10LmdlbmVyYXRpb25fa3dhcmdzPz97fX19O2NsYXNzIEdhIGV4dGVuZHMgd3R7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPWV9X2NhbGwoZSxyPS0xKXtyZXR1cm4gdGhpcy5zYW1wbGUoZSxyKX1zYW1wbGUoZSxyKXt0aHJvdyBFcnJvcigic2FtcGxlIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzc2VzLiIpfWdldExvZ2l0cyhlLHIpe2xldCBuPWUuZGltcy5hdCgtMSksYT1lLmRhdGE7aWYocj09PS0xKWE9YS5zbGljZSgtbik7ZWxzZXtsZXQgaT1yKm47YT1hLnNsaWNlKGksaStuKX1yZXR1cm4gdGhpcy5nZW5lcmF0aW9uX2NvbmZpZy50ZW1wZXJhdHVyZT4wJiYoYT1hLm1hcChpPT5pL3RoaXMuZ2VuZXJhdGlvbl9jb25maWcudGVtcGVyYXR1cmUpKSxhfXJhbmRvbVNlbGVjdChlKXtsZXQgcj1lLnJlZHVjZSgoYSxpKT0+YStpLDApLG49TWF0aC5yYW5kb20oKSpyO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7KythKWlmKG4tPWVbYV0sbjw9MClyZXR1cm4gYTtyZXR1cm4gMH1zdGF0aWMgZ2V0U2FtcGxlcihlKXtpZihlLmRvX3NhbXBsZSlyZXR1cm4gbmV3IFV3KGUpO2lmKGUubnVtX2JlYW1zPjEpcmV0dXJuIG5ldyBXdyhlKTtpZihlLm51bV9yZXR1cm5fc2VxdWVuY2VzPjEpdGhyb3cgRXJyb3IoYG51bV9yZXR1cm5fc2VxdWVuY2VzIGhhcyB0byBiZSAxIHdoZW4gZG9pbmcgZ3JlZWR5IHNlYXJjaCwgYnV0IGlzICR7ZS5udW1fcmV0dXJuX3NlcXVlbmNlc30uYCk7cmV0dXJuIG5ldyBOdyhlKX19Y2xhc3MgTncgZXh0ZW5kcyBHYXtzYW1wbGUoZSxyPS0xKXtsZXQgbj10aGlzLmdldExvZ2l0cyhlLHIpO3JldHVybltbQ3QobilbMV0sMF1dfX1jbGFzcyBVdyBleHRlbmRzIEdhe3NhbXBsZShlLHI9LTEpe2xldCBuPWUuZGltcy5hdCgtMSk7dGhpcy5nZW5lcmF0aW9uX2NvbmZpZy50b3Bfaz4wJiYobj1NYXRoLm1pbih0aGlzLmdlbmVyYXRpb25fY29uZmlnLnRvcF9rLG4pKTtjb25zdCBhPXRoaXMuZ2V0TG9naXRzKGUsciksaT1EcihhLG4pLHM9ZHQoaS5tYXAobz0+b1sxXSkpO3JldHVybiBBcnJheS5mcm9tKHtsZW5ndGg6dGhpcy5nZW5lcmF0aW9uX2NvbmZpZy5udW1fYmVhbXN9LCgpPT57Y29uc3Qgbz10aGlzLnJhbmRvbVNlbGVjdChzKTtyZXR1cm5baVtvXVswXSxNYXRoLmxvZyhzW29dKV19KX19Y2xhc3MgV3cgZXh0ZW5kcyBHYXtzYW1wbGUoZSxyPS0xKXtsZXQgbj1lLmRpbXMuYXQoLTEpO3RoaXMuZ2VuZXJhdGlvbl9jb25maWcudG9wX2s+MCYmKG49TWF0aC5taW4odGhpcy5nZW5lcmF0aW9uX2NvbmZpZy50b3BfayxuKSk7Y29uc3QgYT10aGlzLmdldExvZ2l0cyhlLHIpLGk9RHIoYSxuKSxzPWR0KGkubWFwKG89Pm9bMV0pKTtyZXR1cm4gQXJyYXkuZnJvbSh7bGVuZ3RoOnRoaXMuZ2VuZXJhdGlvbl9jb25maWcubnVtX2JlYW1zfSwobyxsKT0+W2lbbF1bMF0sTWF0aC5sb2coc1tsXSldKX19Y29uc3QgU2U9e0VuY29kZXJPbmx5OjAsRW5jb2RlckRlY29kZXI6MSxTZXEyU2VxOjIsVmlzaW9uMlNlcTozLERlY29kZXJPbmx5OjQsTWFza0dlbmVyYXRpb246NX0scWE9bmV3IE1hcCxoZj1uZXcgTWFwLEFuPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gaHIodCxlLHIpe2NvbnN0IG49bzAoci5kZXZpY2UpLGE9ci5kdHlwZT8/RXdbblswXV07aWYoY2YuaGFzT3duUHJvcGVydHkoYSkpe2lmKGE9PT1HdC5mcDE2JiYhdWYpdGhyb3cgbmV3IEVycm9yKCJUaGUgZGV2aWNlIGRvZXMgbm90IHN1cHBvcnQgZnAxNi4iKX1lbHNlIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBkdHlwZTogJHthfS4gU2hvdWxkIGJlIG9uZSBvZjogJHtPYmplY3Qua2V5cyhHdCkuam9pbigiLCAiKX1gKTtjb25zdCBpPWNmW2FdLHM9YG9ubngvJHtlfSR7aX0ub25ueGAsbz1hd2FpdCBDaSh0LHMsITAsciksbD1yLnNlc3Npb25fb3B0aW9ucz8/e307aWYobC5leGVjdXRpb25Qcm92aWRlcnM/Pz1uLGwuZXh0ZXJuYWxEYXRhIT09dm9pZCAwKWZvcihsZXQgZD0wO2Q8bC5leHRlcm5hbERhdGEubGVuZ3RoOysrZCl7Y29uc3QgYz1sLmV4dGVybmFsRGF0YVtkXTtpZih0eXBlb2YgYy5kYXRhPT0ic3RyaW5nIil7Y29uc3QgdT1hd2FpdCBDaSh0LGMuZGF0YSwhMCxyKTtjLmRhdGE9dX19cmV0dXJuIGF3YWl0IGwwKG8sbCl9ZnVuY3Rpb24gTHcodCxlKXtjb25zdCByPU9iamVjdC5jcmVhdGUobnVsbCksbj1bXTtmb3IoY29uc3QgcyBvZiB0LmlucHV0TmFtZXMpe2NvbnN0IG89ZVtzXTtpZighKG8gaW5zdGFuY2VvZiByZSkpe24ucHVzaChzKTtjb250aW51ZX1yW3NdPXUwKCk/by5jbG9uZSgpOm99aWYobi5sZW5ndGg+MCl0aHJvdyBuZXcgRXJyb3IoYEFuIGVycm9yIG9jY3VycmVkIGR1cmluZyBtb2RlbCBleGVjdXRpb246ICJNaXNzaW5nIHRoZSBmb2xsb3dpbmcgaW5wdXRzOiAke24uam9pbigiLCAiKX0uYCk7Y29uc3QgYT1PYmplY3Qua2V5cyhlKS5sZW5ndGgsaT10LmlucHV0TmFtZXMubGVuZ3RoO2lmKGE+aSl7bGV0IHM9T2JqZWN0LmtleXMoZSkuZmlsdGVyKG89PiF0LmlucHV0TmFtZXMuaW5jbHVkZXMobykpO2NvbnNvbGUud2FybihgV0FSTklORzogVG9vIG1hbnkgaW5wdXRzIHdlcmUgcHJvdmlkZWQgKCR7YX0gPiAke2l9KS4gVGhlIGZvbGxvd2luZyBpbnB1dHMgd2lsbCBiZSBpZ25vcmVkOiAiJHtzLmpvaW4oIiwgIil9Ii5gKX1yZXR1cm4gcn1hc3luYyBmdW5jdGlvbiBLcih0LGUpe2NvbnN0IHI9THcodCxlKTt0cnl7Y29uc3Qgbj1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMocikubWFwKChbaSxzXSk9PltpLHMub3J0X3RlbnNvcl0pKTtsZXQgYT1hd2FpdCB0LnJ1bihuKTthPWZmKGEpO2Zvcihjb25zdFtpLHNdb2YgT2JqZWN0LmVudHJpZXMocikpaS5zdGFydHNXaXRoKCJwYXN0X2tleV92YWx1ZXMiKSYmcy5kaXNwb3NlKCk7cmV0dXJuIGF9Y2F0Y2gobil7dGhyb3cgY29uc29sZS5lcnJvcihgQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIG1vZGVsIGV4ZWN1dGlvbjogIiR7bn0iLmApLGNvbnNvbGUuZXJyb3IoIklucHV0cyBnaXZlbiB0byBtb2RlbDoiLHIpLG59fWZ1bmN0aW9uIGZmKHQpe2ZvcihsZXQgZSBpbiB0KVBoKHRbZV0pP3RbZV09bmV3IHJlKHRbZV0pOnR5cGVvZiB0W2VdPT0ib2JqZWN0IiYmZmYodFtlXSk7cmV0dXJuIHR9ZnVuY3Rpb24gRncodCl7aWYodCBpbnN0YW5jZW9mIHJlKXJldHVybiB0O2lmKHQubGVuZ3RoPT09MCl0aHJvdyBFcnJvcigiaXRlbXMgbXVzdCBiZSBub24tZW1wdHkiKTtpZihBcnJheS5pc0FycmF5KHRbMF0pKXtpZih0LnNvbWUoZT0+ZS5sZW5ndGghPT10WzBdLmxlbmd0aCkpdGhyb3cgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdGVuc29yLCB5b3Ugc2hvdWxkIHByb2JhYmx5IGFjdGl2YXRlIHRydW5jYXRpb24gYW5kL29yIHBhZGRpbmcgd2l0aCAncGFkZGluZz1UcnVlJyBhbmQvb3IgJ3RydW5jYXRpb249VHJ1ZScgdG8gaGF2ZSBiYXRjaGVkIHRlbnNvcnMgd2l0aCB0aGUgc2FtZSBsZW5ndGguIik7cmV0dXJuIG5ldyByZSgiaW50NjQiLEJpZ0ludDY0QXJyYXkuZnJvbSh0LmZsYXQoKS5tYXAoZT0+QmlnSW50KGUpKSksW3QubGVuZ3RoLHRbMF0ubGVuZ3RoXSl9ZWxzZSByZXR1cm4gbmV3IHJlKCJpbnQ2NCIsQmlnSW50NjRBcnJheS5mcm9tKHQubWFwKGU9PkJpZ0ludChlKSkpLFsxLHQubGVuZ3RoXSl9ZnVuY3Rpb24gcXModCxlKXtsZXQgcj10LmNvbmZpZy5wYWRfdG9rZW5faWQ/P251bGwsbj10LmNvbmZpZy5lb3NfdG9rZW5faWQ/P251bGw7X28obikmJihuPVtuXSk7bGV0IGE9ZS5pbmRleE9mKHIpIT09LTEsaT1uPT09bnVsbHx8IW4uaW5jbHVkZXMocik7aWYoYSYmaSl7bGV0IHM9QmlnSW50NjRBcnJheS5mcm9tKGUuZGF0YS5tYXAobz0+byE9cikpO3JldHVybiBuZXcgcmUoImludDY0IixzLGUuZGltcyl9ZWxzZSByZXR1cm4gXzAoZSl9ZnVuY3Rpb24gbWYodCxlLHIpe2lmKCF0LmlucHV0TmFtZXMuaW5jbHVkZXMoInBvc2l0aW9uX2lkcyIpKXJldHVybjtjb25zdCBuPW5ldyBCaWdJbnQ2NEFycmF5KGUuYXR0ZW50aW9uX21hc2suZGF0YS5sZW5ndGgpO2ZvcihsZXQgYT0wO2E8ZS5hdHRlbnRpb25fbWFzay5kaW1zWzBdOysrYSl7bGV0IGk9YSplLmF0dGVudGlvbl9tYXNrLmRpbXNbMV0scz1CaWdJbnQoMCk7Zm9yKGxldCBvPTA7bzxlLmF0dGVudGlvbl9tYXNrLmRpbXNbMV07KytvKXtjb25zdCBsPWkrbztlLmF0dGVudGlvbl9tYXNrLmRhdGFbbF09PT0wbj9uW2xdPUJpZ0ludCgxKToobltsXT1zLHMrPWUuYXR0ZW50aW9uX21hc2suZGF0YVtsXSl9fWUucG9zaXRpb25faWRzPW5ldyByZSgiaW50NjQiLG4sZS5hdHRlbnRpb25fbWFzay5kaW1zKSxyJiYoZS5wb3NpdGlvbl9pZHM9ZS5wb3NpdGlvbl9pZHMuc2xpY2UobnVsbCwtMSkudW5zcXVlZXplXygtMSkpfWZ1bmN0aW9uIGpzKHQpe3JldHVybiBuZXcgcmUoImJvb2wiLFt0XSxbMV0pfWFzeW5jIGZ1bmN0aW9uIFZ3KHQsZSl7bGV0e2VuY29kZXJfb3V0cHV0czpyLHBhc3Rfa2V5X3ZhbHVlczpufT1lO3J8fChyPShhd2FpdCBUbih0LGUpKS5sYXN0X2hpZGRlbl9zdGF0ZSk7bGV0IGE9e2lucHV0X2lkczplLmRlY29kZXJfaW5wdXRfaWRzLGVuY29kZXJfaGlkZGVuX3N0YXRlczpyfTtjb25zdCBpPSEhbjt0LmRlY29kZXJfbWVyZ2VkX3Nlc3Npb24uaW5wdXROYW1lcy5pbmNsdWRlcygidXNlX2NhY2hlX2JyYW5jaCIpJiYoYS51c2VfY2FjaGVfYnJhbmNoPWpzKGkpKSx0LmRlY29kZXJfbWVyZ2VkX3Nlc3Npb24uaW5wdXROYW1lcy5pbmNsdWRlcygiZW5jb2Rlcl9hdHRlbnRpb25fbWFzayIpJiYoYS5lbmNvZGVyX2F0dGVudGlvbl9tYXNrPWUuYXR0ZW50aW9uX21hc2spLG1mKHQuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbixhLGkpLHQuYWRkUGFzdEtleVZhbHVlcyhhLG4pO2NvbnN0IHM9YXdhaXQgS3IodC5kZWNvZGVyX21lcmdlZF9zZXNzaW9uLGEpO2xldCBvPXMubG9naXRzO249dC5nZXRQYXN0S2V5VmFsdWVzKHMsbik7Y29uc3QgbD10LmdldEF0dGVudGlvbnMocyk7cmV0dXJuIG5ldyBCMSh7bG9naXRzOm8scGFzdF9rZXlfdmFsdWVzOm4sZW5jb2Rlcl9vdXRwdXRzOnIsLi4ubH0pfWZ1bmN0aW9uIEh3KHQsZSxyLG4pe2xldCBhPVtdLGk9MDtjb25zdCBzPXQucmVxdWlyZXNfYXR0ZW50aW9uX21hc2s/PyEwO2xldCBvPXIuZGVjb2Rlcl9pbnB1dF9pZHM/P3IuZGVjb2Rlcl9zdGFydF90b2tlbl9pZD8/ci5ib3NfdG9rZW5faWQ/P3IuZW9zX3Rva2VuX2lkO28gaW5zdGFuY2VvZiByZT9vPW8udG9saXN0KCkuZmxhdCgpOkFycmF5LmlzQXJyYXkobyl8fChvPVtvXSk7Zm9yKGxldCBsIG9mIGUpe2wuZGltcz1bMSwuLi5sLmRpbXNdO2xldCBkPXtpbnB1dHM6bCxlbmNvZGVyX291dHB1dHM6bnVsbCxwcmV2X21vZGVsX291dHB1dHM6bnVsbCxvdXRwdXRfdG9rZW5faWRzOm8sZG9uZTohMSxzY29yZTowLGlkOmkrK307cyYmKGQuYXR0ZW50aW9uX21hc2s9cXModCxsKSksYS5wdXNoKGQpfXJldHVybiBhfWFzeW5jIGZ1bmN0aW9uIEd3KHQsZSl7Y29uc3Qgcj10Lm1haW5faW5wdXRfbmFtZTtsZXQgbj1lLm91dHB1dF90b2tlbl9pZHM7ZS5wcmV2X21vZGVsX291dHB1dHMmJihuPW4uc2xpY2UoLTEpKTtsZXQgYT17W3JdOmUuaW5wdXRzLGRlY29kZXJfaW5wdXRfaWRzOkZ3KG4pLGVuY29kZXJfb3V0cHV0czplLmVuY29kZXJfb3V0cHV0cyxwYXN0X2tleV92YWx1ZXM6ZS5wcmV2X21vZGVsX291dHB1dHM/LnBhc3Rfa2V5X3ZhbHVlc307ZS5hdHRlbnRpb25fbWFzayYmKGEuYXR0ZW50aW9uX21hc2s9ZS5hdHRlbnRpb25fbWFzayk7bGV0IGk9YXdhaXQgdC5mb3J3YXJkKGEpO3JldHVybiBlLnByZXZfbW9kZWxfb3V0cHV0cz1pLGUuZW5jb2Rlcl9vdXRwdXRzPWkuZW5jb2Rlcl9vdXRwdXRzLGl9ZnVuY3Rpb24gcXcodCxlKXt0Lm91dHB1dF90b2tlbl9pZHM9Wy4uLnQub3V0cHV0X3Rva2VuX2lkcyxlXX1hc3luYyBmdW5jdGlvbiBUbih0LGUpe2NvbnN0IHI9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IoY29uc3QgbiBvZiB0LnNlc3Npb24uaW5wdXROYW1lcylyW25dPWVbbl07cmV0dXJuIHQuc2Vzc2lvbi5pbnB1dE5hbWVzLmluY2x1ZGVzKCJ0b2tlbl90eXBlX2lkcyIpJiYhci50b2tlbl90eXBlX2lkcyYmKHIudG9rZW5fdHlwZV9pZHM9bmV3IHJlKCJpbnQ2NCIsbmV3IEJpZ0ludDY0QXJyYXkoci5pbnB1dF9pZHMuZGF0YS5sZW5ndGgpLHIuaW5wdXRfaWRzLmRpbXMpKSxhd2FpdCBLcih0LnNlc3Npb24scil9YXN5bmMgZnVuY3Rpb24gancodCxlKXtsZXR7aW5wdXRfaWRzOnIscGFzdF9rZXlfdmFsdWVzOm4sYXR0ZW50aW9uX21hc2s6YX09ZSxpPXtpbnB1dF9pZHM6cixhdHRlbnRpb25fbWFzazphPz9xcyh0LHIpfTtjb25zdCBzPSEhbjt0LnNlc3Npb24uaW5wdXROYW1lcy5pbmNsdWRlcygidXNlX2NhY2hlX2JyYW5jaCIpJiYoaS51c2VfY2FjaGVfYnJhbmNoPWpzKHMpKSxtZih0LnNlc3Npb24saSxzKSx0LmFkZFBhc3RLZXlWYWx1ZXMoaSxuKTtsZXQgbz1hd2FpdCBLcih0LnNlc3Npb24saSksbD1vLmxvZ2l0cztyZXR1cm4gbj10LmdldFBhc3RLZXlWYWx1ZXMobyxuKSx7bG9naXRzOmwscGFzdF9rZXlfdmFsdWVzOm59fWZ1bmN0aW9uIEt3KHQsZSxyLG4sYSl7bGV0IGk9W10scz0wO2ZvcihsZXQgbyBvZiBlKXtsZXQgbD1vLnRvbGlzdCgpLm1hcChOdW1iZXIpO28uZGltcz1bMSwuLi5vLmRpbXNdO2xldCBkO2E/KGQ9YVtzXSxkLmRpbXM9WzEsLi4uZC5kaW1zXSk6ZD1xcyh0LG8pO2xldCBjPXtpbnB1dDpvLG1vZGVsX2lucHV0X2lkczpvLGF0dGVudGlvbl9tYXNrOmQscHJldl9tb2RlbF9vdXRwdXRzOm51bGwsb3V0cHV0X3Rva2VuX2lkczpsLG51bV9vdXRwdXRfdG9rZW5zOm4sZG9uZTohMSxzY29yZTowLGlkOnMrK307aS5wdXNoKGMpfXJldHVybiBpfWFzeW5jIGZ1bmN0aW9uIFl3KHQsZSl7bGV0IHI9bmV3IEJpZ0ludDY0QXJyYXkoZS5vdXRwdXRfdG9rZW5faWRzLmxlbmd0aCkuZmlsbCgxbiksbj17aW5wdXRfaWRzOmUubW9kZWxfaW5wdXRfaWRzLGF0dGVudGlvbl9tYXNrOm5ldyByZSgiaW50NjQiLHIsWzEsci5sZW5ndGhdKSxwYXN0X2tleV92YWx1ZXM6ZS5wcmV2X21vZGVsX291dHB1dHM/LnBhc3Rfa2V5X3ZhbHVlc30sYT1hd2FpdCB0LmZvcndhcmQobik7cmV0dXJuIGUucHJldl9tb2RlbF9vdXRwdXRzPWEsYX1mdW5jdGlvbiBYdyh0LGUpe3Qub3V0cHV0X3Rva2VuX2lkcz1bLi4udC5vdXRwdXRfdG9rZW5faWRzLGVdLHQubW9kZWxfaW5wdXRfaWRzPW5ldyByZSgiaW50NjQiLFtCaWdJbnQoZSldLFsxLDFdKX1jbGFzcyBaIGV4dGVuZHMgd3R7bWFpbl9pbnB1dF9uYW1lPSJpbnB1dF9pZHMiO2NvbnN0cnVjdG9yKGUscil7c3VwZXIoKSx0aGlzLmNvbmZpZz1lLHRoaXMuc2Vzc2lvbj1yO2NvbnN0IG49QW4uZ2V0KHRoaXMuY29uc3RydWN0b3IpLGE9cWEuZ2V0KG4pO3RoaXMuY2FuX2dlbmVyYXRlPSExLHRoaXMuX3J1bkJlYW09bnVsbCx0aGlzLl9nZXRTdGFydEJlYW1zPW51bGwsdGhpcy5fdXBkYXRlQmVhbT1udWxsLHRoaXMuX2ZvcndhcmQ9bnVsbCxhPT09U2UuRGVjb2Rlck9ubHk/KHRoaXMuY2FuX2dlbmVyYXRlPSEwLHRoaXMuX3J1bkJlYW09WXcsdGhpcy5fZ2V0U3RhcnRCZWFtcz1Ldyx0aGlzLl91cGRhdGVCZWFtPVh3LHRoaXMuX2ZvcndhcmQ9ancpOmE9PT1TZS5TZXEyU2VxfHxhPT09U2UuVmlzaW9uMlNlcT8odGhpcy5jYW5fZ2VuZXJhdGU9ITAsdGhpcy5fcnVuQmVhbT1Hdyx0aGlzLl9nZXRTdGFydEJlYW1zPUh3LHRoaXMuX3VwZGF0ZUJlYW09cXcsdGhpcy5fZm9yd2FyZD1Wdyk6YT09PVNlLkVuY29kZXJEZWNvZGVyP3RoaXMuX2ZvcndhcmQ9VG46dGhpcy5fZm9yd2FyZD1Ubn1hc3luYyBkaXNwb3NlKCl7Y29uc3QgZT1bXTtmb3IobGV0IHIgb2YgT2JqZWN0LmtleXModGhpcykpe2xldCBuPXRoaXNbcl07bj8uaGFuZGxlcj8uZGlzcG9zZSE9PXZvaWQgMCYmZS5wdXNoKG4uaGFuZGxlci5kaXNwb3NlKCkpfXJldHVybiBhd2FpdCBQcm9taXNlLmFsbChlKX1zdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKGUse3Byb2dyZXNzX2NhbGxiYWNrOnI9bnVsbCxjb25maWc6bj1udWxsLGNhY2hlX2RpcjphPW51bGwsbG9jYWxfZmlsZXNfb25seTppPSExLHJldmlzaW9uOnM9Im1haW4iLG1vZGVsX2ZpbGVfbmFtZTpvPW51bGwsZGV2aWNlOmw9bnVsbCxkdHlwZTpkPW51bGwsc2Vzc2lvbl9vcHRpb25zOmM9e319PXt9KXtsZXQgdT17cHJvZ3Jlc3NfY2FsbGJhY2s6cixjb25maWc6bixjYWNoZV9kaXI6YSxsb2NhbF9maWxlc19vbmx5OmkscmV2aXNpb246cyxtb2RlbF9maWxlX25hbWU6byxkZXZpY2U6bCxkdHlwZTpkLHNlc3Npb25fb3B0aW9uczpjfTtjb25zdCBoPUFuLmdldCh0aGlzKSxmPXFhLmdldChoKTtsZXQgZztyZXR1cm4gZj09PVNlLkRlY29kZXJPbmx5P2c9YXdhaXQgUHJvbWlzZS5hbGwoW2pyLmZyb21fcHJldHJhaW5lZChlLHUpLGhyKGUsdS5tb2RlbF9maWxlX25hbWU/PyJkZWNvZGVyX21vZGVsX21lcmdlZCIsdSksUnIoZSwiZ2VuZXJhdGlvbl9jb25maWcuanNvbiIsITEsdSldKTpmPT09U2UuU2VxMlNlcXx8Zj09PVNlLlZpc2lvbjJTZXE/Zz1hd2FpdCBQcm9taXNlLmFsbChbanIuZnJvbV9wcmV0cmFpbmVkKGUsdSksaHIoZSwiZW5jb2Rlcl9tb2RlbCIsdSksaHIoZSwiZGVjb2Rlcl9tb2RlbF9tZXJnZWQiLHUpLFJyKGUsImdlbmVyYXRpb25fY29uZmlnLmpzb24iLCExLHUpXSk6Zj09PVNlLk1hc2tHZW5lcmF0aW9uP2c9YXdhaXQgUHJvbWlzZS5hbGwoW2pyLmZyb21fcHJldHJhaW5lZChlLHUpLGhyKGUsInZpc2lvbl9lbmNvZGVyIix1KSxocihlLCJwcm9tcHRfZW5jb2Rlcl9tYXNrX2RlY29kZXIiLHUpXSk6Zj09PVNlLkVuY29kZXJEZWNvZGVyP2c9YXdhaXQgUHJvbWlzZS5hbGwoW2pyLmZyb21fcHJldHJhaW5lZChlLHUpLGhyKGUsImVuY29kZXJfbW9kZWwiLHUpLGhyKGUsImRlY29kZXJfbW9kZWxfbWVyZ2VkIix1KV0pOihmIT09U2UuRW5jb2Rlck9ubHkmJmNvbnNvbGUud2FybihgTW9kZWwgdHlwZSBmb3IgJyR7aD8/bj8ubW9kZWxfdHlwZX0nIG5vdCBmb3VuZCwgYXNzdW1pbmcgZW5jb2Rlci1vbmx5IGFyY2hpdGVjdHVyZS4gUGxlYXNlIHJlcG9ydCB0aGlzIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS94ZW5vdmEvdHJhbnNmb3JtZXJzLmpzL2lzc3Vlcy9uZXcvY2hvb3NlLmApLGc9YXdhaXQgUHJvbWlzZS5hbGwoW2pyLmZyb21fcHJldHJhaW5lZChlLHUpLGhyKGUsdS5tb2RlbF9maWxlX25hbWU/PyJtb2RlbCIsdSldKSksbmV3IHRoaXMoLi4uZyl9YXN5bmMgX2NhbGwoZSl7cmV0dXJuIGF3YWl0IHRoaXMuZm9yd2FyZChlKX1hc3luYyBmb3J3YXJkKGUpe3JldHVybiBhd2FpdCB0aGlzLl9mb3J3YXJkKHRoaXMsZSl9X2dldF9sb2dpdHNfcHJvY2Vzc29yKGUscixuPW51bGwpe2NvbnN0IGE9bmV3IHBmO2lmKGUucmVwZXRpdGlvbl9wZW5hbHR5IT09bnVsbCYmZS5yZXBldGl0aW9uX3BlbmFsdHkhPT0xJiZhLnB1c2gobmV3IHp3KGUucmVwZXRpdGlvbl9wZW5hbHR5KSksZS5ub19yZXBlYXRfbmdyYW1fc2l6ZSE9PW51bGwmJmUubm9fcmVwZWF0X25ncmFtX3NpemU+MCYmYS5wdXNoKG5ldyBNdyhlLm5vX3JlcGVhdF9uZ3JhbV9zaXplKSksZS5iYWRfd29yZHNfaWRzIT09bnVsbCYmYS5wdXNoKG5ldyBEdyhlLmJhZF93b3Jkc19pZHMsZS5lb3NfdG9rZW5faWQpKSxlLm1pbl9sZW5ndGghPT1udWxsJiZlLmVvc190b2tlbl9pZCE9PW51bGwmJmUubWluX2xlbmd0aD4wJiZhLnB1c2gobmV3IEJ3KGUubWluX2xlbmd0aCxlLmVvc190b2tlbl9pZCkpLGUubWluX25ld190b2tlbnMhPT1udWxsJiZlLmVvc190b2tlbl9pZCE9PW51bGwmJmUubWluX25ld190b2tlbnM+MCYmYS5wdXNoKG5ldyBSdyhyLGUubWluX25ld190b2tlbnMsZS5lb3NfdG9rZW5faWQpKSxlLmZvcmNlZF9ib3NfdG9rZW5faWQhPT1udWxsJiZhLnB1c2gobmV3IEl3KGUuZm9yY2VkX2Jvc190b2tlbl9pZCkpLGUuZm9yY2VkX2Vvc190b2tlbl9pZCE9PW51bGwmJmEucHVzaChuZXcgQXcoZS5tYXhfbGVuZ3RoLGUuZm9yY2VkX2Vvc190b2tlbl9pZCkpLGUuYmVnaW5fc3VwcHJlc3NfdG9rZW5zIT09bnVsbCl7bGV0IGk9cj4xfHxlLmZvcmNlZF9ib3NfdG9rZW5faWQ9PT1udWxsP3I6cisxO2UuZm9yY2VkX2RlY29kZXJfaWRzIT09bnVsbCYmKGkrPWUuZm9yY2VkX2RlY29kZXJfaWRzW2UuZm9yY2VkX2RlY29kZXJfaWRzLmxlbmd0aC0xXVswXSksYS5wdXNoKG5ldyBUdyhlLmJlZ2luX3N1cHByZXNzX3Rva2VucyxpKSl9cmV0dXJuIGUuZm9yY2VkX2RlY29kZXJfaWRzIT09bnVsbCYmYS5wdXNoKG5ldyBDdyhlLmZvcmNlZF9kZWNvZGVyX2lkcykpLG4hPT1udWxsJiZhLmV4dGVuZChuKSxhfV9nZXRfZ2VuZXJhdGlvbl9jb25maWcoZSl7bGV0IHI9bmV3IFB3KHRoaXMuY29uZmlnKTtyZXR1cm4iZ2VuZXJhdGlvbl9jb25maWciaW4gdGhpcyYmT2JqZWN0LmFzc2lnbihyLHRoaXMuZ2VuZXJhdGlvbl9jb25maWcpLGUhPT1udWxsJiZPYmplY3QuYXNzaWduKHIsZSkscn1hc3luYyBnZW5lcmF0ZShlLHI9bnVsbCxuPW51bGwse2lucHV0c19hdHRlbnRpb25fbWFzazphPW51bGx9PXt9KXtpZighdGhpcy5jYW5fZ2VuZXJhdGUpe2xldCB5PWBUaGUgY3VycmVudCBtb2RlbCBjbGFzcyAoJHtBbi5nZXQodGhpcy5jb25zdHJ1Y3Rvcil9KSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIFxgLmdlbmVyYXRlKClcYCwgYXMgaXQgZG9lc24ndCBoYXZlIGEgbGFuZ3VhZ2UgbW9kZWwgaGVhZC5gO2NvbnN0IHc9dGhpcy5jb25maWcubW9kZWxfdHlwZSx2PWVpLmdldCh3KT8/ZW8uZ2V0KHcpPz9Kcy5nZXQodyk/P3RvLmdldCh3KTt0aHJvdyB2JiYoeSs9YCBQbGVhc2UgdXNlIHRoZSBmb2xsb3dpbmcgY2xhc3MgaW5zdGVhZDogJyR7dlswXX0nYCksRXJyb3IoeSl9aWYoIShlIGluc3RhbmNlb2YgcmUpJiYhaGcoZSkmJiFBcnJheS5pc0FycmF5KGUpKXRocm93IEVycm9yKGBcYGlucHV0c1xgIG11c3QgYmUgYSBUZW5zb3IsIFR5cGVkQXJyYXksIG9yIEFycmF5LCBidXQgaXMgIiR7ZS5jb25zdHJ1Y3Rvci5uYW1lfSIuYCk7bGV0IGk7aWYodGhpcy5jb25maWcuaXNfZW5jb2Rlcl9kZWNvZGVyKWk9MDtlbHNlIGlmKGk9ZSBpbnN0YW5jZW9mIHJlP2UuZGltcy5hdCgtMSk6ZS5sZW5ndGgsaT09PTApdGhyb3cgRXJyb3IoIk11c3Qgc3VwcGx5IGEgbm9uLWVtcHR5IGFycmF5IG9mIGlucHV0IHRva2VuIGlkcy4iKTtyPXRoaXMuX2dldF9nZW5lcmF0aW9uX2NvbmZpZyhyKSxuPW4/P25ldyBwZixuPXRoaXMuX2dldF9sb2dpdHNfcHJvY2Vzc29yKHIsaSxuKTtsZXQgcz1yLmVvc190b2tlbl9pZDtzIT09bnVsbCYmIUFycmF5LmlzQXJyYXkocykmJihzPVtzXSk7bGV0IG89MTtjb25zdCBsPW8rKHIubWF4X25ld190b2tlbnM/PzEvMCksZD1OdW1iZXIuaXNJbnRlZ2VyKHIubWF4X2xlbmd0aCkmJihyLm1heF9uZXdfdG9rZW5zPz9udWxsKT09PW51bGw7bGV0IGM9R2EuZ2V0U2FtcGxlcihyKSx1PXRoaXMuZ2V0U3RhcnRCZWFtcyhlLHIsbyxhKTtmb3IoO3Uuc29tZSh5PT4heS5kb25lKSYmbzxsOyl7bGV0IHk9W107Zm9yKGxldCB3IG9mIHUpe2lmKHcuZG9uZSl7eS5wdXNoKHcpO2NvbnRpbnVlfWlmKGQmJncub3V0cHV0X3Rva2VuX2lkcy5sZW5ndGg+PXIubWF4X2xlbmd0aCl7dy5kb25lPSEwLHkucHVzaCh3KTtjb250aW51ZX1sZXQgdj1hd2FpdCB0aGlzLnJ1bkJlYW0odyk7ci5vdXRwdXRfYXR0ZW50aW9ucyYmdGhpcy5hZGRBdHRlbnRpb25zVG9CZWFtKHcsdiksci5vdXRwdXRfc2NvcmVzO2xldCBrPXYubG9naXRzLnNsaWNlKG51bGwsLTEsbnVsbCk7bih3Lm91dHB1dF90b2tlbl9pZHMsayk7bGV0IEU9YyhrKTtmb3IobGV0W3gsSV1vZiBFKXtsZXQgVD17Li4ud307dGhpcy51cGRhdGVCZWFtKFQseCksVC5zY29yZSs9SSxzJiZzLmluY2x1ZGVzKHgpJiYoVC5kb25lPSEwKSx5LnB1c2goVCl9fSsrbyx5PXRoaXMuZ3JvdXBCZWFtcyh5KS5tYXAodz0+dy5zb3J0KCh2LGspPT5rLnNjb3JlLXYuc2NvcmUpLnNsaWNlKDAsci5udW1fYmVhbXMpKSx1PXkuZmxhdCgpLHIuY2FsbGJhY2tfZnVuY3Rpb24mJnIuY2FsbGJhY2tfZnVuY3Rpb24odSl9Y29uc3QgaD10aGlzLmdyb3VwQmVhbXModSksZj15PT5oLm1hcCh3PT5yLm51bV9yZXR1cm5fc2VxdWVuY2VzPjE/dy5zbGljZSgwLHIubnVtX3JldHVybl9zZXF1ZW5jZXMpLm1hcCh2PT52W3ldKTpbd1swXVt5XV0pLmZsYXQoKSxnPWYoIm91dHB1dF90b2tlbl9pZHMiKTtpZihyLnJldHVybl9kaWN0X2luX2dlbmVyYXRlKXtjb25zdCB5PWYoImRlY29kZXJfYXR0ZW50aW9ucyIpLHc9ZigiY3Jvc3NfYXR0ZW50aW9ucyIpO3JldHVybntzZXF1ZW5jZXM6ZyxkZWNvZGVyX2F0dGVudGlvbnM6eSxjcm9zc19hdHRlbnRpb25zOnd9fWVsc2UgcmV0dXJuIGd9YWRkQXR0ZW50aW9uc1RvQmVhbShlLHIpe2lmKHRoaXMuY29uZmlnLmlzX2VuY29kZXJfZGVjb2Rlcil7aWYoIXIuY3Jvc3NfYXR0ZW50aW9uc3x8ci5jcm9zc19hdHRlbnRpb25zLmxlbmd0aD09PTApdGhyb3cgRXJyb3IoImBvdXRwdXRfYXR0ZW50aW9uc2AgaXMgdHJ1ZSwgYnV0IHRoZSBtb2RlbCBkaWQgbm90IHByb2R1Y2UgY3Jvc3MtYXR0ZW50aW9ucy4gVGhpcyBpcyBtb3N0IGxpa2VseSBiZWNhdXNlIHRoZSBtb2RlbCB3YXMgbm90IGV4cG9ydGVkIHdpdGggYG91dHB1dF9hdHRlbnRpb25zPVRydWVgLiIpO2UuY3Jvc3NfYXR0ZW50aW9uc3x8KGUuY3Jvc3NfYXR0ZW50aW9ucz1bXSksZS5jcm9zc19hdHRlbnRpb25zLnB1c2goci5jcm9zc19hdHRlbnRpb25zKX1pZighci5kZWNvZGVyX2F0dGVudGlvbnN8fHIuZGVjb2Rlcl9hdHRlbnRpb25zLmxlbmd0aD09PTApdGhyb3cgRXJyb3IoImBvdXRwdXRfYXR0ZW50aW9uc2AgaXMgdHJ1ZSwgYnV0IHRoZSBtb2RlbCBkaWQgbm90IHByb2R1Y2UgZGVjb2Rlci1hdHRlbnRpb25zLiBUaGlzIGlzIG1vc3QgbGlrZWx5IGJlY2F1c2UgdGhlIG1vZGVsIHdhcyBub3QgZXhwb3J0ZWQgd2l0aCBgb3V0cHV0X2F0dGVudGlvbnM9VHJ1ZWAuIik7ZS5kZWNvZGVyX2F0dGVudGlvbnN8fChlLmRlY29kZXJfYXR0ZW50aW9ucz1bXSksZS5kZWNvZGVyX2F0dGVudGlvbnMucHVzaChyLmRlY29kZXJfYXR0ZW50aW9ucyl9Z3JvdXBCZWFtcyhlKXtjb25zdCByPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGNvbnN0IG4gb2YgZSlyW24uaWRdPT09dm9pZCAwP3Jbbi5pZF09W25dOnJbbi5pZF0ucHVzaChuKTtyZXR1cm4gT2JqZWN0LnZhbHVlcyhyKX1nZXRQYXN0S2V5VmFsdWVzKGUscil7Y29uc3Qgbj1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCBhIGluIGUpaWYoYS5zdGFydHNXaXRoKCJwcmVzZW50Iikpe2xldCBpPWEucmVwbGFjZSgicHJlc2VudCIsInBhc3Rfa2V5X3ZhbHVlcyIpO3ImJmEuaW5jbHVkZXMoImVuY29kZXIiKT9uW2ldPXJbaV06bltpXT1lW2FdfXJldHVybiBufWdldEF0dGVudGlvbnMoZSl7Y29uc3Qgcj1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCBuIG9mWyJjcm9zc19hdHRlbnRpb25zIiwiZGVjb2Rlcl9hdHRlbnRpb25zIl0pe2NvbnN0IGE9W107Zm9yKGNvbnN0IGkgaW4gZSlpZihpLnN0YXJ0c1dpdGgobikpe2NvbnN0IHM9aS5zcGxpdCgiLiIpLnBvcCgpO2Fbc109ZVtpXX1yW25dPWF9cmV0dXJuIHJ9YWRkUGFzdEtleVZhbHVlcyhlLHIpe2lmKHIpT2JqZWN0LmFzc2lnbihlLHIpO2Vsc2V7Y29uc3Qgbj10aGlzLmNvbmZpZy5wcmVjaXNpb258fCJmbG9hdDMyIixhPW49PT0iZmxvYXQxNiI/bmV3IFVpbnQxNkFycmF5OltdO2lmKHRoaXMuY29uZmlnLmlzX2VuY29kZXJfZGVjb2RlciYmKHRoaXMuYWRkX2VuY29kZXJfcGt2Pz8hMCkpe2xldCBpPVsxLHRoaXMubnVtX2VuY29kZXJfaGVhZHMsMCx0aGlzLmVuY29kZXJfZGltX2t2XSxzPVsxLHRoaXMubnVtX2RlY29kZXJfaGVhZHMsMCx0aGlzLmRlY29kZXJfZGltX2t2XTtmb3IobGV0IG89MDtvPHRoaXMubnVtX2RlY29kZXJfbGF5ZXJzOysrbyllW2BwYXN0X2tleV92YWx1ZXMuJHtvfS5lbmNvZGVyLmtleWBdPW5ldyByZShuLGEsaSksZVtgcGFzdF9rZXlfdmFsdWVzLiR7b30uZW5jb2Rlci52YWx1ZWBdPW5ldyByZShuLGEsaSksZVtgcGFzdF9rZXlfdmFsdWVzLiR7b30uZGVjb2Rlci5rZXlgXT1uZXcgcmUobixhLHMpLGVbYHBhc3Rfa2V5X3ZhbHVlcy4ke299LmRlY29kZXIudmFsdWVgXT1uZXcgcmUobixhLHMpfWVsc2UgaWYodGhpcy5jb25maWcubW9kZWxfdHlwZT09PSJmYWxjb24iKXtsZXQgaT1bMSp0aGlzLm51bV9oZWFkcywwLHRoaXMuZGltX2t2XTtmb3IobGV0IHM9MDtzPHRoaXMubnVtX2xheWVyczsrK3MpZVtgcGFzdF9rZXlfdmFsdWVzLiR7c30ua2V5YF09bmV3IHJlKG4sYSxpKSxlW2BwYXN0X2tleV92YWx1ZXMuJHtzfS52YWx1ZWBdPW5ldyByZShuLGEsaSl9ZWxzZSBpZih0aGlzLmNvbmZpZy5tdWx0aV9xdWVyeSl7bGV0IGk9WzEqdGhpcy5udW1faGVhZHMsMCwyKnRoaXMuZGltX2t2XTtmb3IobGV0IHM9MDtzPHRoaXMubnVtX2xheWVyczsrK3MpZVtgcGFzdF9rZXlfdmFsdWVzLiR7c30ua2V5X3ZhbHVlYF09bmV3IHJlKG4sYSxpKX1lbHNlIGlmKHRoaXMuY29uZmlnLm1vZGVsX3R5cGU9PT0iYmxvb20iKXtsZXQgaT1bMSp0aGlzLm51bV9oZWFkcyx0aGlzLmRpbV9rdiwwXSxzPVsxKnRoaXMubnVtX2hlYWRzLDAsdGhpcy5kaW1fa3ZdO2ZvcihsZXQgbz0wO288dGhpcy5udW1fbGF5ZXJzOysrbyllW2BwYXN0X2tleV92YWx1ZXMuJHtvfS5rZXlgXT1uZXcgcmUobixhLGkpLGVbYHBhc3Rfa2V5X3ZhbHVlcy4ke299LnZhbHVlYF09bmV3IHJlKG4sYSxzKX1lbHNle2xldCBpPVsxLHRoaXMubnVtX2hlYWRzLDAsdGhpcy5kaW1fa3ZdO2ZvcihsZXQgcz0wO3M8dGhpcy5udW1fbGF5ZXJzOysrcyllW2BwYXN0X2tleV92YWx1ZXMuJHtzfS5rZXlgXT1uZXcgcmUobixhLGkpLGVbYHBhc3Rfa2V5X3ZhbHVlcy4ke3N9LnZhbHVlYF09bmV3IHJlKG4sYSxpKX19fWdldFN0YXJ0QmVhbXMoZSxyLG4sYSl7cmV0dXJuIHRoaXMuX2dldFN0YXJ0QmVhbXModGhpcyxlLHIsbixhKX1hc3luYyBydW5CZWFtKGUpe3JldHVybiBhd2FpdCB0aGlzLl9ydW5CZWFtKHRoaXMsZSl9dXBkYXRlQmVhbShlLHIpe3JldHVybiB0aGlzLl91cGRhdGVCZWFtKGUscil9fWNsYXNzIGt0e31jbGFzcyBPbiBleHRlbmRzIFp7fWNsYXNzIFF3IGV4dGVuZHMgT257fWNsYXNzIFp3IGV4dGVuZHMgT257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBwdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEp3IGV4dGVuZHMgT257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIGV2IGV4dGVuZHMgT257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBjdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIHR2IGV4dGVuZHMgT257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBmdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIHJ2IGV4dGVuZHMgWnt9Y2xhc3MgbnYgZXh0ZW5kcyBydnt9Y2xhc3MgTW4gZXh0ZW5kcyBae31jbGFzcyBhdiBleHRlbmRzIE1ue31jbGFzcyBpdiBleHRlbmRzIE1ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgcHQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBzdiBleHRlbmRzIE1ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBvdiBleHRlbmRzIE1ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgY3QoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBsdiBleHRlbmRzIE1ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgZnQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyB6biBleHRlbmRzIFp7fWNsYXNzIHV2IGV4dGVuZHMgem57fWNsYXNzIGR2IGV4dGVuZHMgem57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBwdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIGN2IGV4dGVuZHMgem57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIHB2IGV4dGVuZHMgem57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBjdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIGh2IGV4dGVuZHMgem57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBmdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEJuIGV4dGVuZHMgWnt9Y2xhc3MgZnYgZXh0ZW5kcyBCbnt9Y2xhc3MgbXYgZXh0ZW5kcyBCbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IHB0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgZ3YgZXh0ZW5kcyBCbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgX3YgZXh0ZW5kcyBCbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGN0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgeXYgZXh0ZW5kcyBCbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGZ0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgUm4gZXh0ZW5kcyBae31jbGFzcyB3diBleHRlbmRzIFJue31jbGFzcyB2diBleHRlbmRzIFJue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgcHQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBidiBleHRlbmRzIFJue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyAkdiBleHRlbmRzIFJue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgY3QoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyB4diBleHRlbmRzIFJue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgZnQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBEbiBleHRlbmRzIFp7fWNsYXNzIGt2IGV4dGVuZHMgRG57fWNsYXNzIFN2IGV4dGVuZHMgRG57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBwdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEV2IGV4dGVuZHMgRG57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEN2IGV4dGVuZHMgRG57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBjdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEl2IGV4dGVuZHMgRG57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBmdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIFBuIGV4dGVuZHMgWnt9Y2xhc3MgQXYgZXh0ZW5kcyBQbnt9Y2xhc3MgVHYgZXh0ZW5kcyBQbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IHB0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgT3YgZXh0ZW5kcyBQbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgTXYgZXh0ZW5kcyBQbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGN0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgenYgZXh0ZW5kcyBQbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGZ0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgTm4gZXh0ZW5kcyBae31jbGFzcyBCdiBleHRlbmRzIE5ue31jbGFzcyBSdiBleHRlbmRzIE5ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBEdiBleHRlbmRzIE5ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgY3QoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBQdiBleHRlbmRzIE5ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgZnQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBOdiBleHRlbmRzIE5ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgcHQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBqYSBleHRlbmRzIFp7fWNsYXNzIFV2IGV4dGVuZHMgamF7fWNsYXNzIFd2IGV4dGVuZHMgamF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBwdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEx2IGV4dGVuZHMgamF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEZ2IGV4dGVuZHMgamF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBjdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEthIGV4dGVuZHMgWnt9Y2xhc3MgVnYgZXh0ZW5kcyBLYXt9Y2xhc3MgSHYgZXh0ZW5kcyBLYXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IHB0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgR3YgZXh0ZW5kcyBLYXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgcXYgZXh0ZW5kcyBLYXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGZ0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgVW4gZXh0ZW5kcyBae31jbGFzcyBqdiBleHRlbmRzIFVue31jbGFzcyBLdiBleHRlbmRzIFVue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgcHQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBZdiBleHRlbmRzIFVue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBYdiBleHRlbmRzIFVue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgY3QoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBRdiBleHRlbmRzIFVue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgZnQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBZYSBleHRlbmRzIFp7fWNsYXNzIFp2IGV4dGVuZHMgWWF7fWNsYXNzIEp2IGV4dGVuZHMgWWF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBwdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIGViIGV4dGVuZHMgWWF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIHRiIGV4dGVuZHMgWWF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBmdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIFhhIGV4dGVuZHMgWnt9Y2xhc3MgcmIgZXh0ZW5kcyBYYXt9Y2xhc3MgbmIgZXh0ZW5kcyBYYXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgYWIgZXh0ZW5kcyBYYXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGZ0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgaWIgZXh0ZW5kcyBYYXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IHB0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgZ2YgZXh0ZW5kcyBae31jbGFzcyBzYiBleHRlbmRzIGdme31jbGFzcyBvYiBleHRlbmRzIGdme2NvbnN0cnVjdG9yKGUscixuLGEpe3N1cGVyKGUsciksdGhpcy5kZWNvZGVyX21lcmdlZF9zZXNzaW9uPW4sdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1hLHRoaXMubnVtX2RlY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLm51bV9oZWFkcyx0aGlzLmRlY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfa3YsdGhpcy5udW1fZW5jb2Rlcl9sYXllcnM9dGhpcy5jb25maWcubnVtX2xheWVycyx0aGlzLm51bV9lbmNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLm51bV9oZWFkcyx0aGlzLmVuY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfa3Z9fWNsYXNzIF9mIGV4dGVuZHMgWnt9Y2xhc3MgbGIgZXh0ZW5kcyBfZnt9Y2xhc3MgdWIgZXh0ZW5kcyBfZntjb25zdHJ1Y3RvcihlLHIsbixhKXtzdXBlcihlLHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1uLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9YSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5udW1fZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5udW1faGVhZHMsdGhpcy5kZWNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX2t2LHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9sYXllcnMsdGhpcy5udW1fZW5jb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5udW1faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX2t2fX1jbGFzcyB5ZiBleHRlbmRzIFp7fWNsYXNzIGRiIGV4dGVuZHMgeWZ7fWNsYXNzIGNiIGV4dGVuZHMgeWZ7Y29uc3RydWN0b3IoZSxyLG4sYSl7c3VwZXIoZSxyKSx0aGlzLmRlY29kZXJfbWVyZ2VkX3Nlc3Npb249bix0aGlzLmdlbmVyYXRpb25fY29uZmlnPWEsdGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcubnVtX2RlY29kZXJfbGF5ZXJzLHRoaXMubnVtX2RlY29kZXJfaGVhZHM9dGhpcy5jb25maWcubnVtX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9rdix0aGlzLm51bV9lbmNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5udW1fbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcubnVtX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9rdn19Y2xhc3MgS3MgZXh0ZW5kcyBae31jbGFzcyBwYiBleHRlbmRzIEtze31jbGFzcyBoYiBleHRlbmRzIEtze2NvbnN0cnVjdG9yKGUscixuLGEpe3N1cGVyKGUsciksdGhpcy5kZWNvZGVyX21lcmdlZF9zZXNzaW9uPW4sdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1hLHRoaXMubnVtX2RlY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmRlY29kZXJfbGF5ZXJzLHRoaXMubnVtX2RlY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZGVjb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5kZWNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2RlY29kZXJfaGVhZHMsdGhpcy5udW1fZW5jb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZW5jb2Rlcl9sYXllcnMsdGhpcy5udW1fZW5jb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5lbmNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmVuY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1fZW5jb2Rlcl9oZWFkc319Y2xhc3MgZmIgZXh0ZW5kcyBLc3thc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgUWEgZXh0ZW5kcyBae31jbGFzcyBtYiBleHRlbmRzIFFhe31jbGFzcyBnYiBleHRlbmRzIFFhe2NvbnN0cnVjdG9yKGUscixuLGEpe3N1cGVyKGUsciksdGhpcy5kZWNvZGVyX21lcmdlZF9zZXNzaW9uPW4sdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1hLHRoaXMubnVtX2RlY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmRlY29kZXJfbGF5ZXJzLHRoaXMubnVtX2RlY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZGVjb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5kZWNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2RlY29kZXJfaGVhZHMsdGhpcy5udW1fZW5jb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZW5jb2Rlcl9sYXllcnMsdGhpcy5udW1fZW5jb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5lbmNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmVuY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1fZW5jb2Rlcl9oZWFkc319Y2xhc3MgX2IgZXh0ZW5kcyBRYXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgeWIgZXh0ZW5kcyBRYXtjb25zdHJ1Y3RvcihlLHIsbil7c3VwZXIoZSxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW4sdGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5kZWNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmRlY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1fZGVjb2Rlcl9oZWFkcyx0aGlzLm51bV9lbmNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5lbmNvZGVyX2xheWVycyx0aGlzLm51bV9lbmNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmVuY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9lbmNvZGVyX2hlYWRzfX1jbGFzcyB3ZiBleHRlbmRzIFp7fWNsYXNzIHdiIGV4dGVuZHMgd2Z7fWNsYXNzIHZiIGV4dGVuZHMgd2Z7Y29uc3RydWN0b3IoZSxyLG4sYSl7c3VwZXIoZSxyKSx0aGlzLmRlY29kZXJfbWVyZ2VkX3Nlc3Npb249bix0aGlzLmdlbmVyYXRpb25fY29uZmlnPWEsdGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5kZWNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmRlY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1fZGVjb2Rlcl9oZWFkcyx0aGlzLm51bV9lbmNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5lbmNvZGVyX2xheWVycyx0aGlzLm51bV9lbmNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmVuY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9lbmNvZGVyX2hlYWRzfX1jbGFzcyB2ZiBleHRlbmRzIFp7fWNsYXNzIGJiIGV4dGVuZHMgdmZ7fWNsYXNzICRiIGV4dGVuZHMgdmZ7Y29uc3RydWN0b3IoZSxyLG4sYSl7c3VwZXIoZSxyKSx0aGlzLmRlY29kZXJfbWVyZ2VkX3Nlc3Npb249bix0aGlzLmdlbmVyYXRpb25fY29uZmlnPWEsdGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5kZWNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmRlY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1fZGVjb2Rlcl9oZWFkcyx0aGlzLm51bV9lbmNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5lbmNvZGVyX2xheWVycyx0aGlzLm51bV9lbmNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmVuY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9lbmNvZGVyX2hlYWRzfX1jbGFzcyBXbiBleHRlbmRzIFp7fWNsYXNzIHhiIGV4dGVuZHMgV257fWNsYXNzIGtiIGV4dGVuZHMgV257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBwdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIFNiIGV4dGVuZHMgV257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEViIGV4dGVuZHMgV257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBjdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIENiIGV4dGVuZHMgV257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBmdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIExuIGV4dGVuZHMgWnt9Y2xhc3MgSWIgZXh0ZW5kcyBMbnt9Y2xhc3MgQWIgZXh0ZW5kcyBMbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IHB0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgVGIgZXh0ZW5kcyBMbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgT2IgZXh0ZW5kcyBMbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGN0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgTWIgZXh0ZW5kcyBMbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGZ0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgRm4gZXh0ZW5kcyBae31jbGFzcyB6YiBleHRlbmRzIEZue31jbGFzcyBCYiBleHRlbmRzIEZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgcHQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBSYiBleHRlbmRzIEZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBEYiBleHRlbmRzIEZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgY3QoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBQYiBleHRlbmRzIEZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgZnQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBiZiBleHRlbmRzIFp7fWNsYXNzIE5iIGV4dGVuZHMgYmZ7fWNsYXNzIFViIGV4dGVuZHMgYmZ7fWNsYXNzICRmIGV4dGVuZHMgWnt9Y2xhc3MgV2IgZXh0ZW5kcyAkZnt9Y2xhc3MgTGIgZXh0ZW5kcyAkZntyZXF1aXJlc19hdHRlbnRpb25fbWFzaz0hMTttYWluX2lucHV0X25hbWU9ImlucHV0X2ZlYXR1cmVzIjtjb25zdHJ1Y3RvcihlLHIsbixhKXtzdXBlcihlLHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1uLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9YSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9kZWNvZGVyX2hlYWRzLHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmVuY29kZXJfbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZW5jb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2VuY29kZXJfaGVhZHN9YXN5bmMgZ2VuZXJhdGUoZSxyPW51bGwsbj1udWxsKXtpZihyPXRoaXMuX2dldF9nZW5lcmF0aW9uX2NvbmZpZyhyKSxyLnJldHVybl90aW1lc3RhbXBzPz89ITEsci5yZXR1cm5fdGltZXN0YW1wcyYmKG49W25ldyBPdyhyKV0pLHIucmV0dXJuX3Rva2VuX3RpbWVzdGFtcHMmJihyLm91dHB1dF9hdHRlbnRpb25zPSEwLHIucmV0dXJuX2RpY3RfaW5fZ2VuZXJhdGU9ITAsci50YXNrPT09InRyYW5zbGF0ZSImJmNvbnNvbGUud2FybigiVG9rZW4tbGV2ZWwgdGltZXN0YW1wcyBtYXkgbm90IGJlIHJlbGlhYmxlIGZvciB0YXNrICd0cmFuc2xhdGUnLiIpLCFyLmFsaWdubWVudF9oZWFkcykpdGhyb3cgbmV3IEVycm9yKCJNb2RlbCBnZW5lcmF0aW9uIGNvbmZpZyBoYXMgbm8gYGFsaWdubWVudF9oZWFkc2AsIHRva2VuLWxldmVsIHRpbWVzdGFtcHMgbm90IGF2YWlsYWJsZS4gU2VlIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2hvbGxhbmNlLzQyZTMyODUyZjI0MjQzYjc0OGFlNmJjMWY5ODViMTNhIG9uIGhvdyB0byBhZGQgdGhpcyBwcm9wZXJ0eSB0byB0aGUgZ2VuZXJhdGlvbiBjb25maWcuIik7Y29uc3QgYT1hd2FpdCBzdXBlci5nZW5lcmF0ZShlLHIsbik7cmV0dXJuIHIucmV0dXJuX3Rva2VuX3RpbWVzdGFtcHMmJnIuYWxpZ25tZW50X2hlYWRzJiYoYS50b2tlbl90aW1lc3RhbXBzPXRoaXMuX2V4dHJhY3RfdG9rZW5fdGltZXN0YW1wcyhhLHIuYWxpZ25tZW50X2hlYWRzLHIubnVtX2ZyYW1lcykpLGF9X2V4dHJhY3RfdG9rZW5fdGltZXN0YW1wcyhlLHIsbj1udWxsLGE9LjAyKXtpZighZS5jcm9zc19hdHRlbnRpb25zKXRocm93IG5ldyBFcnJvcigiTW9kZWwgb3V0cHV0cyBtdXN0IGNvbnRhaW4gY3Jvc3MgYXR0ZW50aW9ucyB0byBleHRyYWN0IHRpbWVzdGFtcHMuIFRoaXMgaXMgbW9zdCBsaWtlbHkgYmVjYXVzZSB0aGUgbW9kZWwgd2FzIG5vdCBleHBvcnRlZCB3aXRoIGBvdXRwdXRfYXR0ZW50aW9ucz1UcnVlYC4iKTtsZXQgaT10aGlzLmNvbmZpZy5tZWRpYW5fZmlsdGVyX3dpZHRoO2k9PT12b2lkIDAmJihjb25zb2xlLndhcm4oIk1vZGVsIGNvbmZpZyBoYXMgbm8gYG1lZGlhbl9maWx0ZXJfd2lkdGhgLCB1c2luZyBkZWZhdWx0IHZhbHVlIG9mIDcuIiksaT03KTtjb25zdCBzPWUuY3Jvc3NfYXR0ZW50aW9ucy5tYXAoZD0+e2xldCBjPUFycmF5LmZyb20oe2xlbmd0aDp0aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVyc30sKHksdyk9PkRhKGQubWFwKHY9PnZbd10pLDIpKSx1PVBhKHIubWFwKChbeSx3XSk9Pm4/Y1t5XS5zbGljZShudWxsLHcsbnVsbCxbMCxuXSk6Y1t5XS5zbGljZShudWxsLHcpKSk7dT11LnRyYW5zcG9zZSgxLDAsMiwzKTtsZXRbaCxmXT1oMCh1LC0yLDAsITApLGc9dS5jbG9uZSgpO2ZvcihsZXQgeT0wO3k8Zy5kaW1zWzBdOysreSl7bGV0IHc9Z1t5XTtmb3IobGV0IHY9MDt2PHcuZGltc1swXTsrK3Ype2xldCBrPXdbdl07Y29uc3QgRT1oW3ldW3ZdWzBdLHg9Zlt5XVt2XVswXTtmb3IobGV0IEk9MDtJPGsuZGltc1swXTsrK0kpe2xldCBUPWtbSV07Zm9yKGxldCBCPTA7QjxULmRhdGEubGVuZ3RoOysrQilULmRhdGFbQl09KFQuZGF0YVtCXS14LmRhdGFbQl0pL0UuZGF0YVtCXTtULmRhdGEuc2V0KE9nKFQuZGF0YSxpKSl9fX1yZXR1cm4gTGgoZywxKX0pLG89W2Uuc2VxdWVuY2VzLmxlbmd0aCxlLnNlcXVlbmNlc1swXS5sZW5ndGhdLGw9bmV3IHJlKCJmbG9hdDMyIixuZXcgRmxvYXQzMkFycmF5KG9bMF0qb1sxXSksbyk7Zm9yKGxldCBkPTA7ZDxvWzBdOysrZCl7Y29uc3QgYz1zW2RdLm5lZygpLnNxdWVlemVfKDApO2xldFt1LGhdPWYwKGMpLGY9QXJyYXkuZnJvbSh7bGVuZ3RoOnUubGVuZ3RoLTF9LCh3LHYpPT51W3YrMV0tdVt2XSksZz1sdChbMV0sZikubWFwKHc9PiEhdykseT1bXTtmb3IobGV0IHc9MDt3PGcubGVuZ3RoOysrdylnW3ddJiZ5LnB1c2goaFt3XSphKTtsW2RdLmRhdGEuc2V0KHksMSl9cmV0dXJuIGx9fWNsYXNzIHhmIGV4dGVuZHMgWnttYWluX2lucHV0X25hbWU9InBpeGVsX3ZhbHVlcyI7Y29uc3RydWN0b3IoZSxyLG4sYSl7c3VwZXIoZSxyKSx0aGlzLmRlY29kZXJfbWVyZ2VkX3Nlc3Npb249bix0aGlzLmdlbmVyYXRpb25fY29uZmlnPWE7Y29uc3QgaT10aGlzLmNvbmZpZy5lbmNvZGVyLHM9dGhpcy5jb25maWcuZGVjb2RlcixvPWkubW9kZWxfdHlwZTsoZG0uZ2V0KG8pPz9jbS5nZXQobykpfHxjb25zb2xlLndhcm4oYE1vZGVsIHR5cGUgZm9yIGVuY29kZXIgJyR7b30nIG5vdCBmb3VuZCwgYXNzdW1pbmcgZW5jb2Rlci1vbmx5IGFyY2hpdGVjdHVyZS4gUGxlYXNlIHJlcG9ydCB0aGlzIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS94ZW5vdmEvdHJhbnNmb3JtZXJzLmpzL2lzc3Vlcy9uZXcvY2hvb3NlLmApO2NvbnN0IGw9ZWkuZ2V0KHMubW9kZWxfdHlwZSk7aWYoIWwpdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY29uc3RydWN0IFxgVmlzaW9uRW5jb2RlckRlY29kZXJcYCBkdWUgdG8gdW5zdXBwb3J0ZWQgZGVjb2RlcjogIiR7dGhpcy5jb25maWcuZGVjb2Rlci5tb2RlbF90eXBlfSJgKTtjb25zdCBkPWxbMV0sYz1uZXcgZChzLG4sYSk7dGhpcy5hZGRfZW5jb2Rlcl9wa3Y9Im51bV9kZWNvZGVyX2xheWVycyJpbiBjLHRoaXMuYWRkX2VuY29kZXJfcGt2Pyh0aGlzLm51bV9kZWNvZGVyX2xheWVycz1jLm51bV9kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPWMubnVtX2RlY29kZXJfaGVhZHMsdGhpcy5kZWNvZGVyX2RpbV9rdj1jLmRlY29kZXJfZGltX2t2LHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPWMubnVtX2VuY29kZXJfbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9Yy5udW1fZW5jb2Rlcl9oZWFkcyx0aGlzLmVuY29kZXJfZGltX2t2PWMuZW5jb2Rlcl9kaW1fa3YpOih0aGlzLm51bV9sYXllcnM9Yy5udW1fbGF5ZXJzLHRoaXMubnVtX2hlYWRzPWMubnVtX2hlYWRzLHRoaXMuZGltX2t2PWMuZGltX2t2KX19Y2xhc3MgWmEgZXh0ZW5kcyBae31jbGFzcyBGYiBleHRlbmRzIFphe31jbGFzcyBWYiBleHRlbmRzIFphe3N0YXRpYyBhc3luYyBmcm9tX3ByZXRyYWluZWQoZSxyPXt9KXtyZXR1cm4gci5tb2RlbF9maWxlX25hbWU/Pz0idGV4dF9tb2RlbCIsc3VwZXIuZnJvbV9wcmV0cmFpbmVkKGUscil9fWNsYXNzIEhiIGV4dGVuZHMgWmF7c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZChlLHI9e30pe3JldHVybiByLm1vZGVsX2ZpbGVfbmFtZT8/PSJ2aXNpb25fbW9kZWwiLHN1cGVyLmZyb21fcHJldHJhaW5lZChlLHIpfX1jbGFzcyBrZiBleHRlbmRzIFp7fWNsYXNzIEdiIGV4dGVuZHMga2Z7fWNsYXNzIHFiIGV4dGVuZHMga2Z7c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZChlLHI9e30pe3JldHVybiByLm1vZGVsX2ZpbGVfbmFtZT8/PSJ0ZXh0X21vZGVsIixzdXBlci5mcm9tX3ByZXRyYWluZWQoZSxyKX19Y2xhc3MgamIgZXh0ZW5kcyBaYXtzdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKGUscj17fSl7cmV0dXJuIHIubW9kZWxfZmlsZV9uYW1lPz89InZpc2lvbl9tb2RlbCIsc3VwZXIuZnJvbV9wcmV0cmFpbmVkKGUscil9fWNsYXNzIEtiIGV4dGVuZHMgWnt9Y2xhc3MgWWIgZXh0ZW5kcyBLYnt9Y2xhc3MgU2YgZXh0ZW5kcyBae31jbGFzcyBYYiBleHRlbmRzIFNme31jbGFzcyBRYiBleHRlbmRzIFNme31jbGFzcyBFZiBleHRlbmRzIFp7Y29uc3RydWN0b3IoZSxyLG4pe3N1cGVyKGUsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1uLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1faGVhZHM9dGhpcy5jb25maWcubl9oZWFkLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5uX2xheWVyLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLm5fZW1iZC90aGlzLm51bV9oZWFkc319Y2xhc3MgWmIgZXh0ZW5kcyBFZnt9Y2xhc3MgSmIgZXh0ZW5kcyBFZnt9Y2xhc3MgQ2YgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm51bV9oZWFkcyx0aGlzLm51bV9sYXllcnM9dGhpcy5jb25maWcubnVtX2xheWVycyx0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5oaWRkZW5fc2l6ZS90aGlzLm51bV9oZWFkc319Y2xhc3MgZTIgZXh0ZW5kcyBDZnt9Y2xhc3MgdDIgZXh0ZW5kcyBDZnt9Y2xhc3MgSWYgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9oaWRkZW5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMubnVtX2hlYWRzfX1jbGFzcyByMiBleHRlbmRzIElme31jbGFzcyBuMiBleHRlbmRzIElme31jbGFzcyBBZiBleHRlbmRzIFp7Y29uc3RydWN0b3IoZSxyLG4pe3N1cGVyKGUsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1uLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1faGVhZHM9dGhpcy5jb25maWcubl9oZWFkLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5uX2xheWVyLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLm5fZW1iZC90aGlzLm51bV9oZWFkc319Y2xhc3MgYTIgZXh0ZW5kcyBBZnt9Y2xhc3MgaTIgZXh0ZW5kcyBBZnt9Y2xhc3MgVGYgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm5faGVhZCx0aGlzLm51bV9sYXllcnM9dGhpcy5jb25maWcubl9sYXllcix0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5uX2VtYmQvdGhpcy5udW1faGVhZHN9fWNsYXNzIHMyIGV4dGVuZHMgVGZ7fWNsYXNzIG8yIGV4dGVuZHMgVGZ7fWNsYXNzIE9mIGV4dGVuZHMgWntjb25zdHJ1Y3RvcihlLHIsbil7c3VwZXIoZSxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW4sdGhpcy5jb25maWcucGFkX3Rva2VuX2lkPXRoaXMuY29uZmlnLmVvc190b2tlbl9pZCx0aGlzLm51bV9oZWFkcz10aGlzLmNvbmZpZy5uX2hlYWQsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm5fbGF5ZXIsdGhpcy5kaW1fa3Y9dGhpcy5jb25maWcubl9lbWJkL3RoaXMubnVtX2hlYWRzfX1jbGFzcyBsMiBleHRlbmRzIE9me31jbGFzcyB1MiBleHRlbmRzIE9me31jbGFzcyBNZiBleHRlbmRzIFp7Y29uc3RydWN0b3IoZSxyLG4pe3N1cGVyKGUsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1uLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1faGVhZHM9dGhpcy5jb25maWcubnVtX2tleV92YWx1ZV9oZWFkcz8/dGhpcy5jb25maWcubnVtX2F0dGVudGlvbl9oZWFkcyx0aGlzLm51bV9sYXllcnM9dGhpcy5jb25maWcubnVtX2hpZGRlbl9sYXllcnMsdGhpcy5kaW1fa3Y9dGhpcy5jb25maWcuaGlkZGVuX3NpemUvdGhpcy5jb25maWcubnVtX2F0dGVudGlvbl9oZWFkc319Y2xhc3MgZDIgZXh0ZW5kcyBNZnt9Y2xhc3MgYzIgZXh0ZW5kcyBNZnt9Y2xhc3MgemYgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm51bV9rZXlfdmFsdWVfaGVhZHM/P3RoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9oaWRkZW5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHN9fWNsYXNzIHAyIGV4dGVuZHMgemZ7fWNsYXNzIGgyIGV4dGVuZHMgemZ7fWNsYXNzIEJmIGV4dGVuZHMgWntjb25zdHJ1Y3RvcihlLHIsbil7c3VwZXIoZSxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW4sdGhpcy5jb25maWcucGFkX3Rva2VuX2lkPXRoaXMuY29uZmlnLmVvc190b2tlbl9pZCx0aGlzLm51bV9oZWFkcz10aGlzLmNvbmZpZy5udW1fYXR0ZW50aW9uX2hlYWRzLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5udW1faGlkZGVuX2xheWVycyx0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5oaWRkZW5fc2l6ZS90aGlzLm51bV9oZWFkc319Y2xhc3MgZjIgZXh0ZW5kcyBCZnt9Y2xhc3MgbTIgZXh0ZW5kcyBCZnt9Y2xhc3MgUmYgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm5faGVhZCx0aGlzLm51bV9sYXllcnM9dGhpcy5jb25maWcubl9sYXllcix0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5oaWRkZW5fc2l6ZS90aGlzLm51bV9oZWFkc319Y2xhc3MgZzIgZXh0ZW5kcyBSZnt9Y2xhc3MgXzIgZXh0ZW5kcyBSZnt9Y2xhc3MgRGYgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm5faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1faGVhZHN9fWNsYXNzIHkyIGV4dGVuZHMgRGZ7fWNsYXNzIHcyIGV4dGVuZHMgRGZ7fWNsYXNzIFBmIGV4dGVuZHMgWntjb25zdHJ1Y3RvcihlLHIsbil7c3VwZXIoZSxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW4sdGhpcy5jb25maWcucGFkX3Rva2VuX2lkPXRoaXMuY29uZmlnLmVvc190b2tlbl9pZCx0aGlzLm51bV9oZWFkcz10aGlzLmNvbmZpZy5udW1fYXR0ZW50aW9uX2hlYWRzLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5udW1faGlkZGVuX2xheWVycyx0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5oaWRkZW5fc2l6ZS90aGlzLm51bV9oZWFkc319Y2xhc3MgdjIgZXh0ZW5kcyBQZnt9Y2xhc3MgYjIgZXh0ZW5kcyBQZnt9Y2xhc3MgTmYgZXh0ZW5kcyBae31jbGFzcyAkMiBleHRlbmRzIE5me31jbGFzcyB4MiBleHRlbmRzIE5me2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBrMiBleHRlbmRzIFp7fWNsYXNzIFMyIGV4dGVuZHMgazJ7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBEMShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIFVmIGV4dGVuZHMgWnt9Y2xhc3MgRTIgZXh0ZW5kcyBVZnt9Y2xhc3MgQzIgZXh0ZW5kcyBVZnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgV2YgZXh0ZW5kcyBae31jbGFzcyBJMiBleHRlbmRzIFdme31jbGFzcyBBMiBleHRlbmRzIFdme31jbGFzcyBMZiBleHRlbmRzIFp7fWNsYXNzIFQyIGV4dGVuZHMgTGZ7fWNsYXNzIE8yIGV4dGVuZHMgTGZ7fWNsYXNzIEZmIGV4dGVuZHMgWnt9Y2xhc3MgTTIgZXh0ZW5kcyBGZnt9Y2xhc3MgejIgZXh0ZW5kcyBGZnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgWXMgZXh0ZW5kcyBae31jbGFzcyBCMiBleHRlbmRzIFlze31jbGFzcyBSMiBleHRlbmRzIFlze2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgVmYoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBEMiBleHRlbmRzIFlze2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgUDIoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBWZiBleHRlbmRzIGt0e2NvbnN0cnVjdG9yKHtsb2dpdHM6ZSxwcmVkX2JveGVzOnJ9KXtzdXBlcigpLHRoaXMubG9naXRzPWUsdGhpcy5wcmVkX2JveGVzPXJ9fWNsYXNzIFAyIGV4dGVuZHMga3R7Y29uc3RydWN0b3Ioe2xvZ2l0czplLHByZWRfYm94ZXM6cixwcmVkX21hc2tzOm59KXtzdXBlcigpLHRoaXMubG9naXRzPWUsdGhpcy5wcmVkX2JveGVzPXIsdGhpcy5wcmVkX21hc2tzPW59fWNsYXNzIEhmIGV4dGVuZHMgWnt9Y2xhc3MgTjIgZXh0ZW5kcyBIZnt9Y2xhc3MgVTIgZXh0ZW5kcyBIZnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IFcyKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgVzIgZXh0ZW5kcyBWZnt9Y2xhc3MgR2YgZXh0ZW5kcyBae31jbGFzcyBMMiBleHRlbmRzIEdme31jbGFzcyBGMiBleHRlbmRzIEdme2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBxZiBleHRlbmRzIFp7fWNsYXNzIFYyIGV4dGVuZHMgcWZ7fWNsYXNzIEgyIGV4dGVuZHMgcWZ7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIGpmIGV4dGVuZHMgWnt9Y2xhc3MgRzIgZXh0ZW5kcyBqZnt9Y2xhc3MgcTIgZXh0ZW5kcyBqZnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgS2YgZXh0ZW5kcyBae31jbGFzcyBqMiBleHRlbmRzIEtme31jbGFzcyBLMiBleHRlbmRzIEtme31jbGFzcyBZZiBleHRlbmRzIFp7fWNsYXNzIFkyIGV4dGVuZHMgWWZ7fWNsYXNzIFgyIGV4dGVuZHMgWWZ7fWNsYXNzIFEyIGV4dGVuZHMgWnt9Y2xhc3MgWjIgZXh0ZW5kcyBRMnt9Y2xhc3MgWGYgZXh0ZW5kcyBae31jbGFzcyBKMiBleHRlbmRzIFhme31jbGFzcyBlJCBleHRlbmRzIFhme31jbGFzcyB0JCBleHRlbmRzIFp7fWNsYXNzIHIkIGV4dGVuZHMgdCR7fWNsYXNzIFFmIGV4dGVuZHMgWnt9Y2xhc3MgbiQgZXh0ZW5kcyBRZnt9Y2xhc3MgYSQgZXh0ZW5kcyBRZnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgWmYgZXh0ZW5kcyBae31jbGFzcyBpJCBleHRlbmRzIFpme31jbGFzcyBzJCBleHRlbmRzIFpme2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBKZiBleHRlbmRzIFp7fWNsYXNzIG8kIGV4dGVuZHMgSmZ7fWNsYXNzIGwkIGV4dGVuZHMgSmZ7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIGVtIGV4dGVuZHMgWnt9Y2xhc3MgdSQgZXh0ZW5kcyBlbXt9Y2xhc3MgZCQgZXh0ZW5kcyBlbXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGMkKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgYyQgZXh0ZW5kcyBrdHtjb25zdHJ1Y3Rvcih7bG9naXRzOmUscHJlZF9ib3hlczpyfSl7c3VwZXIoKSx0aGlzLmxvZ2l0cz1lLHRoaXMucHJlZF9ib3hlcz1yfX1jbGFzcyBwJCBleHRlbmRzIFp7fWNsYXNzIGgkIGV4dGVuZHMgcCR7Y29uc3RydWN0b3IoZSxyLG4pe3N1cGVyKGUsciksdGhpcy5wcm9tcHRfZW5jb2Rlcl9tYXNrX2RlY29kZXI9bn1hc3luYyBnZXRfaW1hZ2VfZW1iZWRkaW5ncyh7cGl4ZWxfdmFsdWVzOmV9KXtyZXR1cm4gYXdhaXQgVG4odGhpcyx7cGl4ZWxfdmFsdWVzOmV9KX1hc3luYyBmb3J3YXJkKGUpe2lmKCghZS5pbWFnZV9lbWJlZGRpbmdzfHwhZS5pbWFnZV9wb3NpdGlvbmFsX2VtYmVkZGluZ3MpJiYoZT17Li4uZSwuLi5hd2FpdCB0aGlzLmdldF9pbWFnZV9lbWJlZGRpbmdzKGUpfSksIWUuaW5wdXRfbGFiZWxzKXtjb25zdCByPWUuaW5wdXRfcG9pbnRzLmRpbXMuc2xpY2UoMCwtMSksbj1yLnJlZHVjZSgoYSxpKT0+YSppLDEpO2UuaW5wdXRfbGFiZWxzPW5ldyByZSgiaW50NjQiLG5ldyBCaWdJbnQ2NEFycmF5KG4pLmZpbGwoMW4pLHIpfXJldHVybiBhd2FpdCBLcih0aGlzLnByb21wdF9lbmNvZGVyX21hc2tfZGVjb2Rlcix7aW5wdXRfcG9pbnRzOmUuaW5wdXRfcG9pbnRzLGlucHV0X2xhYmVsczplLmlucHV0X2xhYmVscyxpbWFnZV9lbWJlZGRpbmdzOmUuaW1hZ2VfZW1iZWRkaW5ncyxpbWFnZV9wb3NpdGlvbmFsX2VtYmVkZGluZ3M6ZS5pbWFnZV9wb3NpdGlvbmFsX2VtYmVkZGluZ3N9KX1hc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGYkKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgZiQgZXh0ZW5kcyBrdHtjb25zdHJ1Y3Rvcih7aW91X3Njb3JlczplLHByZWRfbWFza3M6cn0pe3N1cGVyKCksdGhpcy5pb3Vfc2NvcmVzPWUsdGhpcy5wcmVkX21hc2tzPXJ9fWNsYXNzIHRtIGV4dGVuZHMgWnt9Y2xhc3MgbSQgZXh0ZW5kcyB0bXt9Y2xhc3MgZyQgZXh0ZW5kcyB0bXtjb25zdHJ1Y3RvcihlLHIsbixhKXtzdXBlcihlLHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1uLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9YSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9kZWNvZGVyX2hlYWRzLHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmVuY29kZXJfbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZW5jb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2VuY29kZXJfaGVhZHN9fWNsYXNzIHJtIGV4dGVuZHMgWnt9Y2xhc3MgXyQgZXh0ZW5kcyBybXt9Y2xhc3MgeSQgZXh0ZW5kcyBybXtjb25zdHJ1Y3RvcihlLHIsbixhKXtzdXBlcihlLHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1uLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9YSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9kZWNvZGVyX2hlYWRzLHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmVuY29kZXJfbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZW5jb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2VuY29kZXJfaGVhZHN9fWNsYXNzIEVyIGV4dGVuZHMgWnt9Y2xhc3MgdyQgZXh0ZW5kcyBFcnt9Y2xhc3MgdiQgZXh0ZW5kcyBFcnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IFlyKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgYiQgZXh0ZW5kcyBFcnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgJCQgZXh0ZW5kcyBFcnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGN0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgWHMgZXh0ZW5kcyBae31jbGFzcyB4JCBleHRlbmRzIFhze31jbGFzcyBrJCBleHRlbmRzIFhze2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgWXIoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBTJCBleHRlbmRzIFhze2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBKYSBleHRlbmRzIFp7fWNsYXNzIEUkIGV4dGVuZHMgSmF7fWNsYXNzIEMkIGV4dGVuZHMgSmF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBZcihhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEkkIGV4dGVuZHMgSmF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEEkIGV4dGVuZHMgSmF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBjdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIFFzIGV4dGVuZHMgWnt9Y2xhc3MgVCQgZXh0ZW5kcyBRc3t9Y2xhc3MgTyQgZXh0ZW5kcyBRc3thc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IFlyKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgTSQgZXh0ZW5kcyBRc3thc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgeiQgZXh0ZW5kcyBFcnt9Y2xhc3MgQiQgZXh0ZW5kcyBFcnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IFlyKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgUiQgZXh0ZW5kcyBFcnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgVm4gZXh0ZW5kcyBae31jbGFzcyBEJCBleHRlbmRzIFZue31jbGFzcyBQJCBleHRlbmRzIFZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgWXIoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBOJCBleHRlbmRzIFZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBVJCBleHRlbmRzIFZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgUjEoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBXJCBleHRlbmRzIFZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgY3QoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBubSBleHRlbmRzIFp7fWNsYXNzIEwkIGV4dGVuZHMgbm17fWNsYXNzIEYkIGV4dGVuZHMgbm17Y29uc3RydWN0b3IoZSxyLG4sYSl7c3VwZXIoZSxyKSx0aGlzLmRlY29kZXJfbWVyZ2VkX3Nlc3Npb249bix0aGlzLmdlbmVyYXRpb25fY29uZmlnPWEsdGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5kZWNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmRlY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMubnVtX2RlY29kZXJfaGVhZHMsdGhpcy5udW1fZW5jb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZW5jb2Rlcl9sYXllcnMsdGhpcy5udW1fZW5jb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5lbmNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmVuY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMubnVtX2VuY29kZXJfaGVhZHN9YXN5bmMgZ2VuZXJhdGVfc3BlZWNoKGUscix7dGhyZXNob2xkOm49LjUsbWlubGVucmF0aW86YT0wLG1heGxlbnJhdGlvOmk9MjAsdm9jb2RlcjpzPW51bGx9PXt9KXtjb25zdCBvPXtpbnB1dF9pZHM6ZX0se2VuY29kZXJfb3V0cHV0czpsLGVuY29kZXJfYXR0ZW50aW9uX21hc2s6ZH09YXdhaXQgVG4odGhpcyxvKSxjPWwuZGltc1sxXS90aGlzLmNvbmZpZy5yZWR1Y3Rpb25fZmFjdG9yLHU9TWF0aC5mbG9vcihjKmkpLGg9TWF0aC5mbG9vcihjKmEpLGY9dGhpcy5jb25maWcubnVtX21lbF9iaW5zO2xldCBnPVtdLHk9bnVsbCx3PW51bGwsdj0wO2Zvcig7Oyl7Kyt2O2NvbnN0IHg9anMoISF3KTtsZXQgSTt3P0k9dy5vdXRwdXRfc2VxdWVuY2Vfb3V0Okk9bmV3IHJlKCJmbG9hdDMyIixuZXcgRmxvYXQzMkFycmF5KGYpLFsxLDEsZl0pO2xldCBUPXt1c2VfY2FjaGVfYnJhbmNoOngsb3V0cHV0X3NlcXVlbmNlOkksZW5jb2Rlcl9hdHRlbnRpb25fbWFzazpkLHNwZWFrZXJfZW1iZWRkaW5nczpyLGVuY29kZXJfaGlkZGVuX3N0YXRlczpsfTt0aGlzLmFkZFBhc3RLZXlWYWx1ZXMoVCx5KSx3PWF3YWl0IEtyKHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbixUKSx5PXRoaXMuZ2V0UGFzdEtleVZhbHVlcyh3LHkpO2NvbnN0e3Byb2I6QixzcGVjdHJ1bTpVfT13O2lmKGcucHVzaChVKSx2Pj1oJiYoQXJyYXkuZnJvbShCLmRhdGEpLmZpbHRlcihIPT5IPj1uKS5sZW5ndGg+MHx8dj49dSkpYnJlYWt9Y29uc3Qgaz1EYShnKSx7d2F2ZWZvcm06RX09YXdhaXQgS3Iocy5zZXNzaW9uLHtzcGVjdHJvZ3JhbTprfSk7cmV0dXJue3NwZWN0cm9ncmFtOmssd2F2ZWZvcm06RX19fWNsYXNzIFYkIGV4dGVuZHMgWnttYWluX2lucHV0X25hbWU9InNwZWN0cm9ncmFtIn1jbGFzcyBIJCBleHRlbmRzIFp7Y29uc3RydWN0b3IoZSxyLG4pe3N1cGVyKGUsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1uLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1fZW5jb2Rlcl9sYXllcnM9dGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZW5jb2Rlcl9oZWFkcz10aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5kZWNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2RlY29kZXJfaGVhZHN9fWNsYXNzIEckIGV4dGVuZHMgSCR7fWNsYXNzIGFtIGV4dGVuZHMgWntjb25zdHJ1Y3RvcihlLHIsbil7c3VwZXIoZSxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW4sdGhpcy5jb25maWcucGFkX3Rva2VuX2lkPXRoaXMuY29uZmlnLmVvc190b2tlbl9pZCx0aGlzLm51bV9oZWFkcz10aGlzLmNvbmZpZy5udW1fa2V5X3ZhbHVlX2hlYWRzLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5udW1faGlkZGVuX2xheWVycyx0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5oaWRkZW5fc2l6ZS90aGlzLmNvbmZpZy5udW1fYXR0ZW50aW9uX2hlYWRzfX1jbGFzcyBxJCBleHRlbmRzIGFte31jbGFzcyBqJCBleHRlbmRzIGFte31jbGFzcyBpbSBleHRlbmRzIFp7Y29uc3RydWN0b3IoZSxyLG4pe3N1cGVyKGUsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1uLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1faGVhZHM9dGhpcy5jb25maWcubnVtX2tleV92YWx1ZV9oZWFkcyx0aGlzLm51bV9sYXllcnM9dGhpcy5jb25maWcubnVtX2hpZGRlbl9sYXllcnMsdGhpcy5kaW1fa3Y9dGhpcy5jb25maWcuaGlkZGVuX3NpemUvdGhpcy5jb25maWcubnVtX2F0dGVudGlvbl9oZWFkc319Y2xhc3MgSyQgZXh0ZW5kcyBpbXt9Y2xhc3MgWSQgZXh0ZW5kcyBpbXt9Y2xhc3Mgc20gZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9oaWRkZW5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHN9fWNsYXNzIFgkIGV4dGVuZHMgc217fWNsYXNzIFEkIGV4dGVuZHMgc217fWNsYXNzIFpzIGV4dGVuZHMgWnt9Y2xhc3MgWiQgZXh0ZW5kcyBac3t9Y2xhc3MgSiQgZXh0ZW5kcyBac3tzdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKGUscj17fSl7cmV0dXJuIHIubW9kZWxfZmlsZV9uYW1lPz89InRleHRfbW9kZWwiLHN1cGVyLmZyb21fcHJldHJhaW5lZChlLHIpfX1jbGFzcyBlMSBleHRlbmRzIFpze3N0YXRpYyBhc3luYyBmcm9tX3ByZXRyYWluZWQoZSxyPXt9KXtyZXR1cm4gci5tb2RlbF9maWxlX25hbWU/Pz0iYXVkaW9fbW9kZWwiLHN1cGVyLmZyb21fcHJldHJhaW5lZChlLHIpfX1jbGFzcyB0MSBleHRlbmRzIFp7fWNsYXNzIG9tIGV4dGVuZHMgdDF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBQMShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIGxtIGV4dGVuZHMgWnt9Y2xhc3MgcjEgZXh0ZW5kcyBsbXt9Y2xhc3MgbjEgZXh0ZW5kcyBsbXt9Y2xhc3MgYTEgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9oaWRkZW5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMubnVtX2hlYWRzfX1jbGFzcyBpMSBleHRlbmRzIGExe31jbGFzcyB1bSBleHRlbmRzIFp7fWNsYXNzIHMxIGV4dGVuZHMgdW17fWNsYXNzIG8xIGV4dGVuZHMgdW17YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1udWxsO3N0YXRpYyBCQVNFX0lGX0ZBSUw9ITE7c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZChlLHtwcm9ncmVzc19jYWxsYmFjazpyPW51bGwsY29uZmlnOm49bnVsbCxjYWNoZV9kaXI6YT1udWxsLGxvY2FsX2ZpbGVzX29ubHk6aT0hMSxyZXZpc2lvbjpzPSJtYWluIixtb2RlbF9maWxlX25hbWU6bz1udWxsLGRldmljZTpsPW51bGwsZHR5cGU6ZD1udWxsLHNlc3Npb25fb3B0aW9uczpjPXt9fT17fSl7bGV0IHU9e3Byb2dyZXNzX2NhbGxiYWNrOnIsY29uZmlnOm4sY2FjaGVfZGlyOmEsbG9jYWxfZmlsZXNfb25seTppLHJldmlzaW9uOnMsbW9kZWxfZmlsZV9uYW1lOm8sZGV2aWNlOmwsZHR5cGU6ZCxzZXNzaW9uX29wdGlvbnM6Y307aWYobj1hd2FpdCBqci5mcm9tX3ByZXRyYWluZWQoZSx1KSx1LmNvbmZpZ3x8KHUuY29uZmlnPW4pLCF0aGlzLk1PREVMX0NMQVNTX01BUFBJTkdTKXRocm93IG5ldyBFcnJvcigiYE1PREVMX0NMQVNTX01BUFBJTkdTYCBub3QgaW1wbGVtZW50ZWQgZm9yIHRoaXMgdHlwZSBvZiBgQXV0b0NsYXNzYDogIit0aGlzLm5hbWUpO2ZvcihsZXQgaCBvZiB0aGlzLk1PREVMX0NMQVNTX01BUFBJTkdTKXtjb25zdCBmPWguZ2V0KG4ubW9kZWxfdHlwZSk7aWYoZilyZXR1cm4gYXdhaXQgZlsxXS5mcm9tX3ByZXRyYWluZWQoZSx1KX1pZih0aGlzLkJBU0VfSUZfRkFJTClyZXR1cm4gY29uc29sZS53YXJuKGBVbmtub3duIG1vZGVsIGNsYXNzICIke24ubW9kZWxfdHlwZX0iLCBhdHRlbXB0aW5nIHRvIGNvbnN0cnVjdCBmcm9tIGJhc2UgY2xhc3MuYCksYXdhaXQgWi5mcm9tX3ByZXRyYWluZWQoZSx1KTt0aHJvdyBFcnJvcihgVW5zdXBwb3J0ZWQgbW9kZWwgdHlwZTogJHtuLm1vZGVsX3R5cGV9YCl9fWNvbnN0IGRtPW5ldyBNYXAoW1siYmVydCIsWyJCZXJ0TW9kZWwiLFF3XV0sWyJub21pY19iZXJ0IixbIk5vbWljQmVydE1vZGVsIixudl1dLFsicm9mb3JtZXIiLFsiUm9Gb3JtZXJNb2RlbCIsYXZdXSxbImVsZWN0cmEiLFsiRWxlY3RyYU1vZGVsIixmdl1dLFsiZXNtIixbIkVzbU1vZGVsIixVdl1dLFsiY29udmJlcnQiLFsiQ29udkJlcnRNb2RlbCIsdXZdXSxbImNhbWVtYmVydCIsWyJDYW1lbWJlcnRNb2RlbCIsd3ZdXSxbImRlYmVydGEiLFsiRGViZXJ0YU1vZGVsIixrdl1dLFsiZGViZXJ0YS12MiIsWyJEZWJlcnRhVjJNb2RlbCIsQXZdXSxbIm1wbmV0IixbIk1QTmV0TW9kZWwiLGp2XV0sWyJhbGJlcnQiLFsiQWxiZXJ0TW9kZWwiLHJiXV0sWyJkaXN0aWxiZXJ0IixbIkRpc3RpbEJlcnRNb2RlbCIsQnZdXSxbInJvYmVydGEiLFsiUm9iZXJ0YU1vZGVsIix4Yl1dLFsieGxtIixbIlhMTU1vZGVsIixJYl1dLFsieGxtLXJvYmVydGEiLFsiWExNUm9iZXJ0YU1vZGVsIix6Yl1dLFsiY2xhcCIsWyJDbGFwTW9kZWwiLFokXV0sWyJjbGlwIixbIkNMSVBNb2RlbCIsRmJdXSxbImNsaXBzZWciLFsiQ0xJUFNlZ01vZGVsIixYYl1dLFsiY2hpbmVzZV9jbGlwIixbIkNoaW5lc2VDTElQTW9kZWwiLFliXV0sWyJzaWdsaXAiLFsiU2lnbGlwTW9kZWwiLEdiXV0sWyJtb2JpbGViZXJ0IixbIk1vYmlsZUJlcnRNb2RlbCIsVnZdXSxbInNxdWVlemViZXJ0IixbIlNxdWVlemVCZXJ0TW9kZWwiLFp2XV0sWyJ3YXYydmVjMiIsWyJXYXYyVmVjMk1vZGVsIix3JF1dLFsid2F2MnZlYzItYmVydCIsWyJXYXYyVmVjMkJlcnRNb2RlbCIsVCRdXSxbInVuaXNwZWVjaCIsWyJVbmlTcGVlY2hNb2RlbCIseCRdXSxbInVuaXNwZWVjaC1zYXQiLFsiVW5pU3BlZWNoU2F0TW9kZWwiLEUkXV0sWyJodWJlcnQiLFsiSHViZXJ0TW9kZWwiLHokXV0sWyJ3YXZsbSIsWyJXYXZMTU1vZGVsIixEJF1dLFsiYXVkaW8tc3BlY3Ryb2dyYW0tdHJhbnNmb3JtZXIiLFsiQVNUTW9kZWwiLE5iXV0sWyJ2aXRzIixbIlZpdHNNb2RlbCIsb21dXSxbImRldHIiLFsiRGV0ck1vZGVsIixCMl1dLFsidGFibGUtdHJhbnNmb3JtZXIiLFsiVGFibGVUcmFuc2Zvcm1lck1vZGVsIixOMl1dLFsidml0IixbIlZpVE1vZGVsIiwkMl1dLFsibW9iaWxldml0IixbIk1vYmlsZVZpVE1vZGVsIixFMl1dLFsib3dsdml0IixbIk93bFZpVE1vZGVsIixJMl1dLFsib3dsdjIiLFsiT3dsdjJNb2RlbCIsVDJdXSxbImJlaXQiLFsiQmVpdE1vZGVsIixNMl1dLFsiZGVpdCIsWyJEZWlUTW9kZWwiLEwyXV0sWyJjb252bmV4dCIsWyJDb252TmV4dE1vZGVsIixuJF1dLFsiY29udm5leHR2MiIsWyJDb252TmV4dFYyTW9kZWwiLGkkXV0sWyJkaW5vdjIiLFsiRGlub3YyTW9kZWwiLG8kXV0sWyJyZXNuZXQiLFsiUmVzTmV0TW9kZWwiLFYyXV0sWyJzd2luIixbIlN3aW5Nb2RlbCIsRzJdXSxbInN3aW4yc3IiLFsiU3dpbjJTUk1vZGVsIixqMl1dLFsiZG9udXQtc3dpbiIsWyJEb251dFN3aW5Nb2RlbCIsciRdXSxbInlvbG9zIixbIllvbG9zTW9kZWwiLHUkXV0sWyJkcHQiLFsiRFBUTW9kZWwiLFkyXV0sWyJnbHBuIixbIkdMUE5Nb2RlbCIsSjJdXSxbImhpZmlnYW4iLFsiU3BlZWNoVDVIaWZpR2FuIixWJF1dLFsiZWZmaWNpZW50bmV0IixbIkVmZmljaWVudE5ldE1vZGVsIixzMV1dXSksY209bmV3IE1hcChbWyJ0NSIsWyJUNU1vZGVsIixzYl1dLFsibG9uZ3Q1IixbIkxvbmdUNU1vZGVsIixsYl1dLFsibXQ1IixbIk1UNU1vZGVsIixkYl1dLFsiYmFydCIsWyJCYXJ0TW9kZWwiLHBiXV0sWyJtYmFydCIsWyJNQmFydE1vZGVsIixtYl1dLFsibWFyaWFuIixbIk1hcmlhbk1vZGVsIixtJF1dLFsid2hpc3BlciIsWyJXaGlzcGVyTW9kZWwiLFdiXV0sWyJtMm1fMTAwIixbIk0yTTEwME1vZGVsIixfJF1dLFsiYmxlbmRlcmJvdCIsWyJCbGVuZGVyYm90TW9kZWwiLHdiXV0sWyJibGVuZGVyYm90LXNtYWxsIixbIkJsZW5kZXJib3RTbWFsbE1vZGVsIixiYl1dXSksbDE9bmV3IE1hcChbWyJibG9vbSIsWyJCbG9vbU1vZGVsIixnMl1dLFsiZ3B0MiIsWyJHUFQyTW9kZWwiLFpiXV0sWyJncHRqIixbIkdQVEpNb2RlbCIsYTJdXSxbImdwdF9iaWdjb2RlIixbIkdQVEJpZ0NvZGVNb2RlbCIsczJdXSxbImdwdF9uZW8iLFsiR1BUTmVvTW9kZWwiLGUyXV0sWyJncHRfbmVveCIsWyJHUFROZW9YTW9kZWwiLHIyXV0sWyJjb2RlZ2VuIixbIkNvZGVHZW5Nb2RlbCIsbDJdXSxbImxsYW1hIixbIkxsYW1hTW9kZWwiLGQyXV0sWyJxd2VuMiIsWyJRd2VuMk1vZGVsIixwMl1dLFsicGhpIixbIlBoaU1vZGVsIixmMl1dLFsibXB0IixbIk1wdE1vZGVsIix5Ml1dLFsib3B0IixbIk9QVE1vZGVsIix2Ml1dLFsibWlzdHJhbCIsWyJNaXN0cmFsTW9kZWwiLHEkXV0sWyJzdGFyY29kZXIyIixbIlN0YXJjb2RlcjJNb2RlbCIsSyRdXSxbImZhbGNvbiIsWyJGYWxjb25Nb2RlbCIsWCRdXV0pLEpzPW5ldyBNYXAoW1sic3BlZWNodDUiLFsiU3BlZWNoVDVGb3JTcGVlY2hUb1RleHQiLEwkXV0sWyJ3aGlzcGVyIixbIldoaXNwZXJGb3JDb25kaXRpb25hbEdlbmVyYXRpb24iLExiXV1dKSxwbT1uZXcgTWFwKFtbInNwZWVjaHQ1IixbIlNwZWVjaFQ1Rm9yVGV4dFRvU3BlZWNoIixGJF1dXSksaG09bmV3IE1hcChbWyJ2aXRzIixbIlZpdHNNb2RlbCIsb21dXV0pLGZtPW5ldyBNYXAoW1siYmVydCIsWyJCZXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsSnddXSxbInJvZm9ybWVyIixbIlJvRm9ybWVyRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsc3ZdXSxbImVsZWN0cmEiLFsiRWxlY3RyYUZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLGd2XV0sWyJlc20iLFsiRXNtRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsTHZdXSxbImNvbnZiZXJ0IixbIkNvbnZCZXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsY3ZdXSxbImNhbWVtYmVydCIsWyJDYW1lbWJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixidl1dLFsiZGViZXJ0YSIsWyJEZWJlcnRhRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsRXZdXSxbImRlYmVydGEtdjIiLFsiRGViZXJ0YVYyRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsT3ZdXSxbIm1wbmV0IixbIk1QTmV0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsWXZdXSxbImFsYmVydCIsWyJBbGJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixuYl1dLFsiZGlzdGlsYmVydCIsWyJEaXN0aWxCZXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsUnZdXSxbInJvYmVydGEiLFsiUm9iZXJ0YUZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLFNiXV0sWyJ4bG0iLFsiWExNRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsVGJdXSxbInhsbS1yb2JlcnRhIixbIlhMTVJvYmVydGFGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixSYl1dLFsiYmFydCIsWyJCYXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsZmJdXSxbIm1iYXJ0IixbIk1CYXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsX2JdXSxbIm1vYmlsZWJlcnQiLFsiTW9iaWxlQmVydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLEd2XV0sWyJzcXVlZXplYmVydCIsWyJTcXVlZXplQmVydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLGViXV1dKSxtbT1uZXcgTWFwKFtbImJlcnQiLFsiQmVydEZvclRva2VuQ2xhc3NpZmljYXRpb24iLGV2XV0sWyJyb2Zvcm1lciIsWyJSb0Zvcm1lckZvclRva2VuQ2xhc3NpZmljYXRpb24iLG92XV0sWyJlbGVjdHJhIixbIkVsZWN0cmFGb3JUb2tlbkNsYXNzaWZpY2F0aW9uIixfdl1dLFsiZXNtIixbIkVzbUZvclRva2VuQ2xhc3NpZmljYXRpb24iLEZ2XV0sWyJjb252YmVydCIsWyJDb252QmVydEZvclRva2VuQ2xhc3NpZmljYXRpb24iLHB2XV0sWyJjYW1lbWJlcnQiLFsiQ2FtZW1iZXJ0Rm9yVG9rZW5DbGFzc2lmaWNhdGlvbiIsJHZdXSxbImRlYmVydGEiLFsiRGViZXJ0YUZvclRva2VuQ2xhc3NpZmljYXRpb24iLEN2XV0sWyJkZWJlcnRhLXYyIixbIkRlYmVydGFWMkZvclRva2VuQ2xhc3NpZmljYXRpb24iLE12XV0sWyJtcG5ldCIsWyJNUE5ldEZvclRva2VuQ2xhc3NpZmljYXRpb24iLFh2XV0sWyJkaXN0aWxiZXJ0IixbIkRpc3RpbEJlcnRGb3JUb2tlbkNsYXNzaWZpY2F0aW9uIixEdl1dLFsicm9iZXJ0YSIsWyJSb2JlcnRhRm9yVG9rZW5DbGFzc2lmaWNhdGlvbiIsRWJdXSxbInhsbSIsWyJYTE1Gb3JUb2tlbkNsYXNzaWZpY2F0aW9uIixPYl1dLFsieGxtLXJvYmVydGEiLFsiWExNUm9iZXJ0YUZvclRva2VuQ2xhc3NpZmljYXRpb24iLERiXV1dKSxlbz1uZXcgTWFwKFtbInQ1IixbIlQ1Rm9yQ29uZGl0aW9uYWxHZW5lcmF0aW9uIixvYl1dLFsibG9uZ3Q1IixbIkxvbmdUNUZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbiIsdWJdXSxbIm10NSIsWyJNVDVGb3JDb25kaXRpb25hbEdlbmVyYXRpb24iLGNiXV0sWyJiYXJ0IixbIkJhcnRGb3JDb25kaXRpb25hbEdlbmVyYXRpb24iLGhiXV0sWyJtYmFydCIsWyJNQmFydEZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbiIsZ2JdXSxbIm1hcmlhbiIsWyJNYXJpYW5NVE1vZGVsIixnJF1dLFsibTJtXzEwMCIsWyJNMk0xMDBGb3JDb25kaXRpb25hbEdlbmVyYXRpb24iLHkkXV0sWyJibGVuZGVyYm90IixbIkJsZW5kZXJib3RGb3JDb25kaXRpb25hbEdlbmVyYXRpb24iLHZiXV0sWyJibGVuZGVyYm90LXNtYWxsIixbIkJsZW5kZXJib3RTbWFsbEZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbiIsJGJdXV0pLGVpPW5ldyBNYXAoW1siYmxvb20iLFsiQmxvb21Gb3JDYXVzYWxMTSIsXzJdXSxbImdwdDIiLFsiR1BUMkxNSGVhZE1vZGVsIixKYl1dLFsiZ3B0aiIsWyJHUFRKRm9yQ2F1c2FsTE0iLGkyXV0sWyJncHRfYmlnY29kZSIsWyJHUFRCaWdDb2RlRm9yQ2F1c2FsTE0iLG8yXV0sWyJncHRfbmVvIixbIkdQVE5lb0ZvckNhdXNhbExNIix0Ml1dLFsiZ3B0X25lb3giLFsiR1BUTmVvWEZvckNhdXNhbExNIixuMl1dLFsiY29kZWdlbiIsWyJDb2RlR2VuRm9yQ2F1c2FsTE0iLHUyXV0sWyJsbGFtYSIsWyJMbGFtYUZvckNhdXNhbExNIixjMl1dLFsicXdlbjIiLFsiUXdlbjJGb3JDYXVzYWxMTSIsaDJdXSxbInBoaSIsWyJQaGlGb3JDYXVzYWxMTSIsbTJdXSxbIm1wdCIsWyJNcHRGb3JDYXVzYWxMTSIsdzJdXSxbIm9wdCIsWyJPUFRGb3JDYXVzYWxMTSIsYjJdXSxbIm1iYXJ0IixbIk1CYXJ0Rm9yQ2F1c2FsTE0iLHliXV0sWyJtaXN0cmFsIixbIk1pc3RyYWxGb3JDYXVzYWxMTSIsaiRdXSxbInN0YXJjb2RlcjIiLFsiU3RhcmNvZGVyMkZvckNhdXNhbExNIixZJF1dLFsiZmFsY29uIixbIkZhbGNvbkZvckNhdXNhbExNIixRJF1dLFsidHJvY3IiLFsiVHJPQ1JGb3JDYXVzYWxMTSIsRyRdXSxbInN0YWJsZWxtIixbIlN0YWJsZUxtRm9yQ2F1c2FsTE0iLGkxXV1dKSxnbT1uZXcgTWFwKFtbImJlcnQiLFsiQmVydEZvck1hc2tlZExNIixad11dLFsicm9mb3JtZXIiLFsiUm9Gb3JtZXJGb3JNYXNrZWRMTSIsaXZdXSxbImVsZWN0cmEiLFsiRWxlY3RyYUZvck1hc2tlZExNIixtdl1dLFsiZXNtIixbIkVzbUZvck1hc2tlZExNIixXdl1dLFsiY29udmJlcnQiLFsiQ29udkJlcnRGb3JNYXNrZWRMTSIsZHZdXSxbImNhbWVtYmVydCIsWyJDYW1lbWJlcnRGb3JNYXNrZWRMTSIsdnZdXSxbImRlYmVydGEiLFsiRGViZXJ0YUZvck1hc2tlZExNIixTdl1dLFsiZGViZXJ0YS12MiIsWyJEZWJlcnRhVjJGb3JNYXNrZWRMTSIsVHZdXSxbIm1wbmV0IixbIk1QTmV0Rm9yTWFza2VkTE0iLEt2XV0sWyJhbGJlcnQiLFsiQWxiZXJ0Rm9yTWFza2VkTE0iLGliXV0sWyJkaXN0aWxiZXJ0IixbIkRpc3RpbEJlcnRGb3JNYXNrZWRMTSIsTnZdXSxbInJvYmVydGEiLFsiUm9iZXJ0YUZvck1hc2tlZExNIixrYl1dLFsieGxtIixbIlhMTVdpdGhMTUhlYWRNb2RlbCIsQWJdXSxbInhsbS1yb2JlcnRhIixbIlhMTVJvYmVydGFGb3JNYXNrZWRMTSIsQmJdXSxbIm1vYmlsZWJlcnQiLFsiTW9iaWxlQmVydEZvck1hc2tlZExNIixIdl1dLFsic3F1ZWV6ZWJlcnQiLFsiU3F1ZWV6ZUJlcnRGb3JNYXNrZWRMTSIsSnZdXV0pLF9tPW5ldyBNYXAoW1siYmVydCIsWyJCZXJ0Rm9yUXVlc3Rpb25BbnN3ZXJpbmciLHR2XV0sWyJyb2Zvcm1lciIsWyJSb0Zvcm1lckZvclF1ZXN0aW9uQW5zd2VyaW5nIixsdl1dLFsiZWxlY3RyYSIsWyJFbGVjdHJhRm9yUXVlc3Rpb25BbnN3ZXJpbmciLHl2XV0sWyJjb252YmVydCIsWyJDb252QmVydEZvclF1ZXN0aW9uQW5zd2VyaW5nIixodl1dLFsiY2FtZW1iZXJ0IixbIkNhbWVtYmVydEZvclF1ZXN0aW9uQW5zd2VyaW5nIix4dl1dLFsiZGViZXJ0YSIsWyJEZWJlcnRhRm9yUXVlc3Rpb25BbnN3ZXJpbmciLEl2XV0sWyJkZWJlcnRhLXYyIixbIkRlYmVydGFWMkZvclF1ZXN0aW9uQW5zd2VyaW5nIix6dl1dLFsibXBuZXQiLFsiTVBOZXRGb3JRdWVzdGlvbkFuc3dlcmluZyIsUXZdXSxbImFsYmVydCIsWyJBbGJlcnRGb3JRdWVzdGlvbkFuc3dlcmluZyIsYWJdXSxbImRpc3RpbGJlcnQiLFsiRGlzdGlsQmVydEZvclF1ZXN0aW9uQW5zd2VyaW5nIixQdl1dLFsicm9iZXJ0YSIsWyJSb2JlcnRhRm9yUXVlc3Rpb25BbnN3ZXJpbmciLENiXV0sWyJ4bG0iLFsiWExNRm9yUXVlc3Rpb25BbnN3ZXJpbmciLE1iXV0sWyJ4bG0tcm9iZXJ0YSIsWyJYTE1Sb2JlcnRhRm9yUXVlc3Rpb25BbnN3ZXJpbmciLFBiXV0sWyJtb2JpbGViZXJ0IixbIk1vYmlsZUJlcnRGb3JRdWVzdGlvbkFuc3dlcmluZyIscXZdXSxbInNxdWVlemViZXJ0IixbIlNxdWVlemVCZXJ0Rm9yUXVlc3Rpb25BbnN3ZXJpbmciLHRiXV1dKSx0bz1uZXcgTWFwKFtbInZpc2lvbi1lbmNvZGVyLWRlY29kZXIiLFsiVmlzaW9uRW5jb2RlckRlY29kZXJNb2RlbCIseGZdXV0pLHUxPW5ldyBNYXAoW1sidmlzaW9uLWVuY29kZXItZGVjb2RlciIsWyJWaXNpb25FbmNvZGVyRGVjb2Rlck1vZGVsIix4Zl1dXSkseW09bmV3IE1hcChbWyJ2aXQiLFsiVmlURm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiIseDJdXSxbIm1vYmlsZXZpdCIsWyJNb2JpbGVWaVRGb3JJbWFnZUNsYXNzaWZpY2F0aW9uIixDMl1dLFsiYmVpdCIsWyJCZWl0Rm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiIsejJdXSxbImRlaXQiLFsiRGVpVEZvckltYWdlQ2xhc3NpZmljYXRpb24iLEYyXV0sWyJjb252bmV4dCIsWyJDb252TmV4dEZvckltYWdlQ2xhc3NpZmljYXRpb24iLGEkXV0sWyJjb252bmV4dHYyIixbIkNvbnZOZXh0VjJGb3JJbWFnZUNsYXNzaWZpY2F0aW9uIixzJF1dLFsiZGlub3YyIixbIkRpbm92MkZvckltYWdlQ2xhc3NpZmljYXRpb24iLGwkXV0sWyJyZXNuZXQiLFsiUmVzTmV0Rm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiIsSDJdXSxbInN3aW4iLFsiU3dpbkZvckltYWdlQ2xhc3NpZmljYXRpb24iLHEyXV0sWyJzZWdmb3JtZXIiLFsiU2VnZm9ybWVyRm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiIscjFdXSxbImVmZmljaWVudG5ldCIsWyJFZmZpY2llbnROZXRGb3JJbWFnZUNsYXNzaWZpY2F0aW9uIixvMV1dXSksd209bmV3IE1hcChbWyJkZXRyIixbIkRldHJGb3JPYmplY3REZXRlY3Rpb24iLFIyXV0sWyJ0YWJsZS10cmFuc2Zvcm1lciIsWyJUYWJsZVRyYW5zZm9ybWVyRm9yT2JqZWN0RGV0ZWN0aW9uIixVMl1dLFsieW9sb3MiLFsiWW9sb3NGb3JPYmplY3REZXRlY3Rpb24iLGQkXV1dKSx2bT1uZXcgTWFwKFtbIm93bHZpdCIsWyJPd2xWaVRGb3JPYmplY3REZXRlY3Rpb24iLEEyXV0sWyJvd2x2MiIsWyJPd2x2MkZvck9iamVjdERldGVjdGlvbiIsTzJdXV0pLGJtPW5ldyBNYXAoW1siZGV0ciIsWyJEZXRyRm9yU2VnbWVudGF0aW9uIixEMl1dLFsiY2xpcHNlZyIsWyJDTElQU2VnRm9ySW1hZ2VTZWdtZW50YXRpb24iLFFiXV1dKSwkbT1uZXcgTWFwKFtbInNlZ2Zvcm1lciIsWyJTZWdmb3JtZXJGb3JTZW1hbnRpY1NlZ21lbnRhdGlvbiIsbjFdXV0pLGQxPW5ldyBNYXAoW1sic2FtIixbIlNhbU1vZGVsIixoJF1dXSkseG09bmV3IE1hcChbWyJ3YXYydmVjMiIsWyJXYXYyVmVjMkZvckNUQyIsdiRdXSxbIndhdjJ2ZWMyLWJlcnQiLFsiV2F2MlZlYzJCZXJ0Rm9yQ1RDIixPJF1dLFsidW5pc3BlZWNoIixbIlVuaVNwZWVjaEZvckNUQyIsayRdXSxbInVuaXNwZWVjaC1zYXQiLFsiVW5pU3BlZWNoU2F0Rm9yQ1RDIixDJF1dLFsid2F2bG0iLFsiV2F2TE1Gb3JDVEMiLFAkXV0sWyJodWJlcnQiLFsiSHViZXJ0Rm9yQ1RDIixCJF1dXSksa209bmV3IE1hcChbWyJ3YXYydmVjMiIsWyJXYXYyVmVjMkZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLGIkXV0sWyJ3YXYydmVjMi1iZXJ0IixbIldhdjJWZWMyQmVydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLE0kXV0sWyJ1bmlzcGVlY2giLFsiVW5pU3BlZWNoRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsUyRdXSxbInVuaXNwZWVjaC1zYXQiLFsiVW5pU3BlZWNoU2F0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsSSRdXSxbIndhdmxtIixbIldhdkxNRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsTiRdXSxbImh1YmVydCIsWyJIdWJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixSJF1dLFsiYXVkaW8tc3BlY3Ryb2dyYW0tdHJhbnNmb3JtZXIiLFsiQVNURm9yQXVkaW9DbGFzc2lmaWNhdGlvbiIsVWJdXV0pLGMxPW5ldyBNYXAoW1sid2F2bG0iLFsiV2F2TE1Gb3JYVmVjdG9yIixVJF1dXSkscDE9bmV3IE1hcChbWyJ1bmlzcGVlY2gtc2F0IixbIlVuaVNwZWVjaFNhdEZvckF1ZGlvRnJhbWVDbGFzc2lmaWNhdGlvbiIsQSRdXSxbIndhdmxtIixbIldhdkxNRm9yQXVkaW9GcmFtZUNsYXNzaWZpY2F0aW9uIixXJF1dLFsid2F2MnZlYzIiLFsiV2F2MlZlYzJGb3JBdWRpb0ZyYW1lQ2xhc3NpZmljYXRpb24iLCQkXV1dKSxoMT1uZXcgTWFwKFtbInZpdG1hdHRlIixbIlZpdE1hdHRlRm9ySW1hZ2VNYXR0aW5nIixTMl1dXSksU209bmV3IE1hcChbWyJzd2luMnNyIixbIlN3aW4yU1JGb3JJbWFnZVN1cGVyUmVzb2x1dGlvbiIsSzJdXV0pLEVtPW5ldyBNYXAoW1siZHB0IixbIkRQVEZvckRlcHRoRXN0aW1hdGlvbiIsWDJdXSxbImRlcHRoX2FueXRoaW5nIixbIkRlcHRoQW55dGhpbmdGb3JEZXB0aEVzdGltYXRpb24iLFoyXV0sWyJnbHBuIixbIkdMUE5Gb3JEZXB0aEVzdGltYXRpb24iLGUkXV1dKSxDbT1uZXcgTWFwKFtbImNsaXAiLFsiQ0xJUFZpc2lvbk1vZGVsV2l0aFByb2plY3Rpb24iLEhiXV0sWyJzaWdsaXAiLFsiU2lnbGlwVmlzaW9uTW9kZWwiLGpiXV1dKSxJbT1bW2RtLFNlLkVuY29kZXJPbmx5XSxbY20sU2UuRW5jb2RlckRlY29kZXJdLFtsMSxTZS5EZWNvZGVyT25seV0sW2ZtLFNlLkVuY29kZXJPbmx5XSxbbW0sU2UuRW5jb2Rlck9ubHldLFtlbyxTZS5TZXEyU2VxXSxbSnMsU2UuU2VxMlNlcV0sW2VpLFNlLkRlY29kZXJPbmx5XSxbZ20sU2UuRW5jb2Rlck9ubHldLFtfbSxTZS5FbmNvZGVyT25seV0sW3RvLFNlLlZpc2lvbjJTZXFdLFt5bSxTZS5FbmNvZGVyT25seV0sW2JtLFNlLkVuY29kZXJPbmx5XSxbJG0sU2UuRW5jb2Rlck9ubHldLFtoMSxTZS5FbmNvZGVyT25seV0sW1NtLFNlLkVuY29kZXJPbmx5XSxbRW0sU2UuRW5jb2Rlck9ubHldLFt3bSxTZS5FbmNvZGVyT25seV0sW3ZtLFNlLkVuY29kZXJPbmx5XSxbZDEsU2UuTWFza0dlbmVyYXRpb25dLFt4bSxTZS5FbmNvZGVyT25seV0sW2ttLFNlLkVuY29kZXJPbmx5XSxbcG0sU2UuU2VxMlNlcV0sW2htLFNlLkVuY29kZXJPbmx5XSxbYzEsU2UuRW5jb2Rlck9ubHldLFtwMSxTZS5FbmNvZGVyT25seV0sW0NtLFNlLkVuY29kZXJPbmx5XV07Zm9yKGNvbnN0W3QsZV1vZiBJbSlmb3IoY29uc3RbcixuXW9mIHQudmFsdWVzKCkpcWEuc2V0KHIsZSksQW4uc2V0KG4sciksaGYuc2V0KHIsbik7Y29uc3QgZjE9W1siQ0xJUFRleHRNb2RlbFdpdGhQcm9qZWN0aW9uIixWYixTZS5FbmNvZGVyT25seV0sWyJTaWdsaXBUZXh0TW9kZWwiLHFiLFNlLkVuY29kZXJPbmx5XSxbIkNsYXBUZXh0TW9kZWxXaXRoUHJvamVjdGlvbiIsSiQsU2UuRW5jb2Rlck9ubHldLFsiQ2xhcEF1ZGlvTW9kZWxXaXRoUHJvamVjdGlvbiIsZTEsU2UuRW5jb2Rlck9ubHldXTtmb3IoY29uc3RbdCxlLHJdb2YgZjEpcWEuc2V0KHQsciksQW4uc2V0KGUsdCksaGYuc2V0KHQsZSk7Y2xhc3MgSG4gZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9SW0ubWFwKGU9PmVbMF0pO3N0YXRpYyBCQVNFX0lGX0ZBSUw9ITB9Y2xhc3MgQW0gZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9W2ZtXX1jbGFzcyBtMSBleHRlbmRzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1bbW1dfWNsYXNzIHJvIGV4dGVuZHMgUWV7c3RhdGljIE1PREVMX0NMQVNTX01BUFBJTkdTPVtlb119Y2xhc3MgZzEgZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9W0pzXX1jbGFzcyBfMSBleHRlbmRzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1bcG1dfWNsYXNzIHkxIGV4dGVuZHMgUWV7c3RhdGljIE1PREVMX0NMQVNTX01BUFBJTkdTPVtobV19Y2xhc3MgdzEgZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9W2VpXX1jbGFzcyB2MSBleHRlbmRzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1bZ21dfWNsYXNzIGIxIGV4dGVuZHMgUWV7c3RhdGljIE1PREVMX0NMQVNTX01BUFBJTkdTPVtfbV19Y2xhc3MgJDEgZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9W3RvXX1jbGFzcyB4MSBleHRlbmRzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1beW1dfWNsYXNzIGsxIGV4dGVuZHMgUWV7c3RhdGljIE1PREVMX0NMQVNTX01BUFBJTkdTPVtibV19Y2xhc3MgUzEgZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9WyRtXX1jbGFzcyBFMSBleHRlbmRzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1bd21dfWNsYXNzIEMxIGV4dGVuZHMgUWV7c3RhdGljIE1PREVMX0NMQVNTX01BUFBJTkdTPVt2bV19Y2xhc3MgSTEgZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9W3htXX1jbGFzcyBBMSBleHRlbmRzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1ba21dfWNsYXNzIFQxIGV4dGVuZHMgUWV7c3RhdGljIE1PREVMX0NMQVNTX01BUFBJTkdTPVt1MV19Y2xhc3MgTzEgZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9W1NtXX1jbGFzcyBNMSBleHRlbmRzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1bRW1dfWNsYXNzIHoxIGV4dGVuZHMgUWV7c3RhdGljIE1PREVMX0NMQVNTX01BUFBJTkdTPVtDbV19Y2xhc3MgQjEgZXh0ZW5kcyBrdHtjb25zdHJ1Y3Rvcih7bG9naXRzOmUscGFzdF9rZXlfdmFsdWVzOnIsZW5jb2Rlcl9vdXRwdXRzOm4sZGVjb2Rlcl9hdHRlbnRpb25zOmE9bnVsbCxjcm9zc19hdHRlbnRpb25zOmk9bnVsbH0pe3N1cGVyKCksdGhpcy5sb2dpdHM9ZSx0aGlzLnBhc3Rfa2V5X3ZhbHVlcz1yLHRoaXMuZW5jb2Rlcl9vdXRwdXRzPW4sdGhpcy5kZWNvZGVyX2F0dGVudGlvbnM9YSx0aGlzLmNyb3NzX2F0dGVudGlvbnM9aX19Y2xhc3MgT2UgZXh0ZW5kcyBrdHtjb25zdHJ1Y3Rvcih7bG9naXRzOmV9KXtzdXBlcigpLHRoaXMubG9naXRzPWV9fWNsYXNzIFIxIGV4dGVuZHMga3R7Y29uc3RydWN0b3Ioe2xvZ2l0czplLGVtYmVkZGluZ3M6cn0pe3N1cGVyKCksdGhpcy5sb2dpdHM9ZSx0aGlzLmVtYmVkZGluZ3M9cn19Y2xhc3MgY3QgZXh0ZW5kcyBrdHtjb25zdHJ1Y3Rvcih7bG9naXRzOmV9KXtzdXBlcigpLHRoaXMubG9naXRzPWV9fWNsYXNzIHB0IGV4dGVuZHMga3R7Y29uc3RydWN0b3Ioe2xvZ2l0czplfSl7c3VwZXIoKSx0aGlzLmxvZ2l0cz1lfX1jbGFzcyBmdCBleHRlbmRzIGt0e2NvbnN0cnVjdG9yKHtzdGFydF9sb2dpdHM6ZSxlbmRfbG9naXRzOnJ9KXtzdXBlcigpLHRoaXMuc3RhcnRfbG9naXRzPWUsdGhpcy5lbmRfbG9naXRzPXJ9fWNsYXNzIFlyIGV4dGVuZHMga3R7Y29uc3RydWN0b3Ioe2xvZ2l0czplfSl7c3VwZXIoKSx0aGlzLmxvZ2l0cz1lfX1jbGFzcyBEMSBleHRlbmRzIGt0e2NvbnN0cnVjdG9yKHthbHBoYXM6ZX0pe3N1cGVyKCksdGhpcy5hbHBoYXM9ZX19Y2xhc3MgUDEgZXh0ZW5kcyBrdHtjb25zdHJ1Y3Rvcih7d2F2ZWZvcm06ZSxzcGVjdHJvZ3JhbTpyfSl7c3VwZXIoKSx0aGlzLndhdmVmb3JtPWUsdGhpcy5zcGVjdHJvZ3JhbT1yfX1jb25zdCBPdD10eXBlb2Ygc2VsZjwidSIsTjE9T3QmJnNlbGYuY29uc3RydWN0b3IubmFtZT09PSJEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZSI7bGV0IENyLFRtLGZyO2lmKE90KUNyPSh0LGUpPT57aWYoIXNlbGYuT2Zmc2NyZWVuQ2FudmFzKXRocm93IG5ldyBFcnJvcigiT2Zmc2NyZWVuQ2FudmFzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyLiIpO3JldHVybiBuZXcgc2VsZi5PZmZzY3JlZW5DYW52YXModCxlKX0sZnI9c2VsZi5jcmVhdGVJbWFnZUJpdG1hcCxUbT1zZWxmLkltYWdlRGF0YTtlbHNlIGlmKEtlKWZyPWFzeW5jIHQ9Pntjb25zdCBlPShhd2FpdCB0Lm1ldGFkYXRhKCkpLmNoYW5uZWxzLHtkYXRhOnIsaW5mbzpufT1hd2FpdCB0LnJhdygpLnRvQnVmZmVyKHtyZXNvbHZlV2l0aE9iamVjdDohMH0pLGE9bmV3IG10KG5ldyBVaW50OENsYW1wZWRBcnJheShyKSxuLndpZHRoLG4uaGVpZ2h0LG4uY2hhbm5lbHMpO3JldHVybiBlIT09dm9pZCAwJiZlIT09bi5jaGFubmVscyYmYS5jb252ZXJ0KGUpLGF9O2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gbG9hZCBpbWFnZSBwcm9jZXNzaW5nIGxpYnJhcnkuIik7Y29uc3QgVTE9ezA6Im5lYXJlc3QiLDE6ImxhbmN6b3MiLDI6ImJpbGluZWFyIiwzOiJiaWN1YmljIiw0OiJib3giLDU6ImhhbW1pbmcifSxXMT1uZXcgTWFwKFtbInBuZyIsImltYWdlL3BuZyJdLFsianBnIiwiaW1hZ2UvanBlZyJdLFsianBlZyIsImltYWdlL2pwZWciXSxbImdpZiIsImltYWdlL2dpZiJdXSk7Y2xhc3MgbXR7Y29uc3RydWN0b3IoZSxyLG4sYSl7dGhpcy5kYXRhPWUsdGhpcy53aWR0aD1yLHRoaXMuaGVpZ2h0PW4sdGhpcy5jaGFubmVscz1hfWdldCBzaXplKCl7cmV0dXJuW3RoaXMud2lkdGgsdGhpcy5oZWlnaHRdfXN0YXRpYyBhc3luYyByZWFkKGUpe2lmKGUgaW5zdGFuY2VvZiBtdClyZXR1cm4gZTtpZih0eXBlb2YgZT09InN0cmluZyJ8fGUgaW5zdGFuY2VvZiBVUkwpcmV0dXJuIGF3YWl0IHRoaXMuZnJvbVVSTChlKTt0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGlucHV0IHR5cGU6ICR7dHlwZW9mIGV9YCl9c3RhdGljIGZyb21DYW52YXMoZSl7aWYoIU90KXRocm93IG5ldyBFcnJvcigiZnJvbUNhbnZhcygpIGlzIG9ubHkgc3VwcG9ydGVkIGluIGJyb3dzZXIgZW52aXJvbm1lbnRzLiIpO2NvbnN0IHI9ZS5nZXRDb250ZXh0KCIyZCIpLmdldEltYWdlRGF0YSgwLDAsZS53aWR0aCxlLmhlaWdodCkuZGF0YTtyZXR1cm4gbmV3IG10KHIsZS53aWR0aCxlLmhlaWdodCw0KX1zdGF0aWMgYXN5bmMgZnJvbVVSTChlKXtjb25zdCByPWF3YWl0IHBhKGUpO2lmKHIuc3RhdHVzIT09MjAwKXRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHJlYWQgaW1hZ2UgZnJvbSAiJHtlfSIgKCR7ci5zdGF0dXN9ICR7ci5zdGF0dXNUZXh0fSlgKTtjb25zdCBuPWF3YWl0IHIuYmxvYigpO3JldHVybiB0aGlzLmZyb21CbG9iKG4pfXN0YXRpYyBhc3luYyBmcm9tQmxvYihlKXtpZihPdCl7Y29uc3Qgcj1hd2FpdCBmcihlKSxuPUNyKHIud2lkdGgsci5oZWlnaHQpLmdldENvbnRleHQoIjJkIik7cmV0dXJuIG4uZHJhd0ltYWdlKHIsMCwwKSxuZXcgdGhpcyhuLmdldEltYWdlRGF0YSgwLDAsci53aWR0aCxyLmhlaWdodCkuZGF0YSxyLndpZHRoLHIuaGVpZ2h0LDQpfWVsc2V7Y29uc3Qgcj1LZShhd2FpdCBlLmFycmF5QnVmZmVyKCkpO3JldHVybiBhd2FpdCBmcihyKX19c3RhdGljIGZyb21UZW5zb3IoZSxyPSJDSFciKXtpZihlLmRpbXMubGVuZ3RoIT09Myl0aHJvdyBuZXcgRXJyb3IoYFRlbnNvciBzaG91bGQgaGF2ZSAzIGRpbWVuc2lvbnMsIGJ1dCBoYXMgJHtlLmRpbXMubGVuZ3RofSBkaW1lbnNpb25zLmApO2lmKHI9PT0iQ0hXIillPWUudHJhbnNwb3NlKDEsMiwwKTtlbHNlIGlmKHIhPT0iSFdDIil0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNoYW5uZWwgZm9ybWF0OiAke3J9YCk7aWYoIShlLmRhdGEgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheXx8ZS5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB0ZW5zb3IgdHlwZTogJHtlLnR5cGV9YCk7c3dpdGNoKGUuZGltc1syXSl7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6Y2FzZSA0OnJldHVybiBuZXcgbXQoZS5kYXRhLGUuZGltc1sxXSxlLmRpbXNbMF0sZS5kaW1zWzJdKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgbnVtYmVyIG9mIGNoYW5uZWxzOiAke2UuZGltc1syXX1gKX19Z3JheXNjYWxlKCl7aWYodGhpcy5jaGFubmVscz09PTEpcmV0dXJuIHRoaXM7Y29uc3QgZT1uZXcgVWludDhDbGFtcGVkQXJyYXkodGhpcy53aWR0aCp0aGlzLmhlaWdodCoxKTtzd2l0Y2godGhpcy5jaGFubmVscyl7Y2FzZSAzOmNhc2UgNDpmb3IobGV0IHI9MCxuPTA7cjx0aGlzLmRhdGEubGVuZ3RoO3IrPXRoaXMuY2hhbm5lbHMpe2NvbnN0IGE9dGhpcy5kYXRhW3JdLGk9dGhpcy5kYXRhW3IrMV0scz10aGlzLmRhdGFbcisyXTtlW24rK109TWF0aC5yb3VuZCguMjk4OSphKy41ODcqaSsuMTE0KnMpfWJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBDb252ZXJzaW9uIGZhaWxlZCBkdWUgdG8gdW5zdXBwb3J0ZWQgbnVtYmVyIG9mIGNoYW5uZWxzOiAke3RoaXMuY2hhbm5lbHN9YCl9cmV0dXJuIHRoaXMuX3VwZGF0ZShlLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMSl9cmdiKCl7aWYodGhpcy5jaGFubmVscz09PTMpcmV0dXJuIHRoaXM7Y29uc3QgZT1uZXcgVWludDhDbGFtcGVkQXJyYXkodGhpcy53aWR0aCp0aGlzLmhlaWdodCozKTtzd2l0Y2godGhpcy5jaGFubmVscyl7Y2FzZSAxOmZvcihsZXQgcj0wLG49MDtyPHRoaXMuZGF0YS5sZW5ndGg7KytyKWVbbisrXT10aGlzLmRhdGFbcl0sZVtuKytdPXRoaXMuZGF0YVtyXSxlW24rK109dGhpcy5kYXRhW3JdO2JyZWFrO2Nhc2UgNDpmb3IobGV0IHI9MCxuPTA7cjx0aGlzLmRhdGEubGVuZ3RoO3IrPTQpZVtuKytdPXRoaXMuZGF0YVtyXSxlW24rK109dGhpcy5kYXRhW3IrMV0sZVtuKytdPXRoaXMuZGF0YVtyKzJdO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBDb252ZXJzaW9uIGZhaWxlZCBkdWUgdG8gdW5zdXBwb3J0ZWQgbnVtYmVyIG9mIGNoYW5uZWxzOiAke3RoaXMuY2hhbm5lbHN9YCl9cmV0dXJuIHRoaXMuX3VwZGF0ZShlLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMyl9cmdiYSgpe2lmKHRoaXMuY2hhbm5lbHM9PT00KXJldHVybiB0aGlzO2NvbnN0IGU9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgqdGhpcy5oZWlnaHQqNCk7c3dpdGNoKHRoaXMuY2hhbm5lbHMpe2Nhc2UgMTpmb3IobGV0IHI9MCxuPTA7cjx0aGlzLmRhdGEubGVuZ3RoOysrcillW24rK109dGhpcy5kYXRhW3JdLGVbbisrXT10aGlzLmRhdGFbcl0sZVtuKytdPXRoaXMuZGF0YVtyXSxlW24rK109MjU1O2JyZWFrO2Nhc2UgMzpmb3IobGV0IHI9MCxuPTA7cjx0aGlzLmRhdGEubGVuZ3RoO3IrPTMpZVtuKytdPXRoaXMuZGF0YVtyXSxlW24rK109dGhpcy5kYXRhW3IrMV0sZVtuKytdPXRoaXMuZGF0YVtyKzJdLGVbbisrXT0yNTU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYENvbnZlcnNpb24gZmFpbGVkIGR1ZSB0byB1bnN1cHBvcnRlZCBudW1iZXIgb2YgY2hhbm5lbHM6ICR7dGhpcy5jaGFubmVsc31gKX1yZXR1cm4gdGhpcy5fdXBkYXRlKGUsdGhpcy53aWR0aCx0aGlzLmhlaWdodCw0KX1hc3luYyByZXNpemUoZSxyLHtyZXNhbXBsZTpuPTJ9PXt9KXtsZXQgYT1VMVtuXT8/bjtpZihPdCl7Y29uc3QgaT10aGlzLmNoYW5uZWxzLHM9dGhpcy50b0NhbnZhcygpLG89Q3IoZSxyKS5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBvLmRyYXdJbWFnZShzLDAsMCxlLHIpLG5ldyBtdChvLmdldEltYWdlRGF0YSgwLDAsZSxyKS5kYXRhLGUsciw0KS5jb252ZXJ0KGkpfWVsc2V7bGV0IGk9dGhpcy50b1NoYXJwKCk7c3dpdGNoKGEpe2Nhc2UiYm94IjpjYXNlImhhbW1pbmciOihhPT09ImJveCJ8fGE9PT0iaGFtbWluZyIpJiYoY29uc29sZS53YXJuKGBSZXNhbXBsaW5nIG1ldGhvZCAke2F9IGlzIG5vdCB5ZXQgc3VwcG9ydGVkLiBVc2luZyBiaWxpbmVhciBpbnN0ZWFkLmApLGE9ImJpbGluZWFyIik7Y2FzZSJuZWFyZXN0IjpjYXNlImJpbGluZWFyIjpjYXNlImJpY3ViaWMiOmk9aS5hZmZpbmUoW2UvdGhpcy53aWR0aCwwLDAsci90aGlzLmhlaWdodF0se2ludGVycG9sYXRvcjphfSk7YnJlYWs7Y2FzZSJsYW5jem9zIjppPWkucmVzaXplKHt3aWR0aDplLGhlaWdodDpyLGZpdDoiZmlsbCIsa2VybmVsOiJsYW5jem9zMyJ9KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgUmVzYW1wbGluZyBtZXRob2QgJHthfSBpcyBub3Qgc3VwcG9ydGVkLmApfXJldHVybiBhd2FpdCBmcihpKX19YXN5bmMgcGFkKFtlLHIsbixhXSl7aWYoZT1NYXRoLm1heChlLDApLHI9TWF0aC5tYXgociwwKSxuPU1hdGgubWF4KG4sMCksYT1NYXRoLm1heChhLDApLGU9PT0wJiZyPT09MCYmbj09PTAmJmE9PT0wKXJldHVybiB0aGlzO2lmKE90KXtjb25zdCBpPXRoaXMuY2hhbm5lbHMscz10aGlzLnRvQ2FudmFzKCksbz10aGlzLndpZHRoK2UrcixsPXRoaXMuaGVpZ2h0K24rYSxkPUNyKG8sbCkuZ2V0Q29udGV4dCgiMmQiKTtyZXR1cm4gZC5kcmF3SW1hZ2UocywwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCxlLG4sbyxsKSxuZXcgbXQoZC5nZXRJbWFnZURhdGEoMCwwLG8sbCkuZGF0YSxvLGwsNCkuY29udmVydChpKX1lbHNle2NvbnN0IGk9dGhpcy50b1NoYXJwKCkuZXh0ZW5kKHtsZWZ0OmUscmlnaHQ6cix0b3A6bixib3R0b206YX0pO3JldHVybiBhd2FpdCBmcihpKX19YXN5bmMgY3JvcChbZSxyLG4sYV0pe2lmKGU9TWF0aC5tYXgoZSwwKSxyPU1hdGgubWF4KHIsMCksbj1NYXRoLm1pbihuLHRoaXMud2lkdGgtMSksYT1NYXRoLm1pbihhLHRoaXMuaGVpZ2h0LTEpLGU9PT0wJiZyPT09MCYmbj09PXRoaXMud2lkdGgtMSYmYT09PXRoaXMuaGVpZ2h0LTEpcmV0dXJuIHRoaXM7Y29uc3QgaT1uLWUrMSxzPWEtcisxO2lmKE90KXtjb25zdCBvPXRoaXMuY2hhbm5lbHMsbD10aGlzLnRvQ2FudmFzKCksZD1DcihpLHMpLmdldENvbnRleHQoIjJkIik7cmV0dXJuIGQuZHJhd0ltYWdlKGwsZSxyLGkscywwLDAsaSxzKSxuZXcgbXQoZC5nZXRJbWFnZURhdGEoMCwwLGkscykuZGF0YSxpLHMsNCkuY29udmVydChvKX1lbHNle2NvbnN0IG89dGhpcy50b1NoYXJwKCkuZXh0cmFjdCh7bGVmdDplLHRvcDpyLHdpZHRoOmksaGVpZ2h0OnN9KTtyZXR1cm4gYXdhaXQgZnIobyl9fWFzeW5jIGNlbnRlcl9jcm9wKGUscil7aWYodGhpcy53aWR0aD09PWUmJnRoaXMuaGVpZ2h0PT09cilyZXR1cm4gdGhpcztjb25zdCBuPSh0aGlzLndpZHRoLWUpLzIsYT0odGhpcy5oZWlnaHQtcikvMjtpZihPdCl7Y29uc3QgaT10aGlzLmNoYW5uZWxzLHM9dGhpcy50b0NhbnZhcygpLG89Q3IoZSxyKS5nZXRDb250ZXh0KCIyZCIpO2xldCBsPTAsZD0wLGM9MCx1PTA7cmV0dXJuIG4+PTA/bD1uOmM9LW4sYT49MD9kPWE6dT0tYSxvLmRyYXdJbWFnZShzLGwsZCxlLHIsYyx1LGUsciksbmV3IG10KG8uZ2V0SW1hZ2VEYXRhKDAsMCxlLHIpLmRhdGEsZSxyLDQpLmNvbnZlcnQoaSl9ZWxzZXtsZXQgaT10aGlzLnRvU2hhcnAoKTtpZihuPj0wJiZhPj0wKWk9aS5leHRyYWN0KHtsZWZ0Ok1hdGguZmxvb3IobiksdG9wOk1hdGguZmxvb3IoYSksd2lkdGg6ZSxoZWlnaHQ6cn0pO2Vsc2UgaWYobjw9MCYmYTw9MCl7Y29uc3Qgcz1NYXRoLmZsb29yKC1hKSxvPU1hdGguZmxvb3IoLW4pO2k9aS5leHRlbmQoe3RvcDpzLGxlZnQ6byxyaWdodDplLXRoaXMud2lkdGgtbyxib3R0b206ci10aGlzLmhlaWdodC1zfSl9ZWxzZXtsZXQgcz1bMCwwXSxvPTA7YTwwPyhzWzBdPU1hdGguZmxvb3IoLWEpLHNbMV09ci10aGlzLmhlaWdodC1zWzBdKTpvPU1hdGguZmxvb3IoYSk7bGV0IGw9WzAsMF0sZD0wO248MD8obFswXT1NYXRoLmZsb29yKC1uKSxsWzFdPWUtdGhpcy53aWR0aC1sWzBdKTpkPU1hdGguZmxvb3IobiksaT1pLmV4dGVuZCh7dG9wOnNbMF0sYm90dG9tOnNbMV0sbGVmdDpsWzBdLHJpZ2h0OmxbMV19KS5leHRyYWN0KHtsZWZ0OmQsdG9wOm8sd2lkdGg6ZSxoZWlnaHQ6cn0pfXJldHVybiBhd2FpdCBmcihpKX19YXN5bmMgdG9CbG9iKGU9ImltYWdlL3BuZyIscj0xKXtpZighT3QpdGhyb3cgbmV3IEVycm9yKCJ0b0Jsb2IoKSBpcyBvbmx5IHN1cHBvcnRlZCBpbiBicm93c2VyIGVudmlyb25tZW50cy4iKTtyZXR1cm4gYXdhaXQgdGhpcy50b0NhbnZhcygpLmNvbnZlcnRUb0Jsb2Ioe3R5cGU6ZSxxdWFsaXR5OnJ9KX10b1RlbnNvcihlPSJDSFciKXtsZXQgcj1uZXcgcmUoInVpbnQ4IixuZXcgVWludDhBcnJheSh0aGlzLmRhdGEpLFt0aGlzLmhlaWdodCx0aGlzLndpZHRoLHRoaXMuY2hhbm5lbHNdKTtpZihlIT09IkhXQyIpaWYoZT09PSJDSFciKXI9ci5wZXJtdXRlKDIsMCwxKTtlbHNlIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY2hhbm5lbCBmb3JtYXQ6ICR7ZX1gKTtyZXR1cm4gcn10b0NhbnZhcygpe2lmKCFPdCl0aHJvdyBuZXcgRXJyb3IoInRvQ2FudmFzKCkgaXMgb25seSBzdXBwb3J0ZWQgaW4gYnJvd3NlciBlbnZpcm9ubWVudHMuIik7Y29uc3QgZT10aGlzLmNsb25lKCkucmdiYSgpLHI9Q3IoZS53aWR0aCxlLmhlaWdodCksbj1uZXcgVG0oZS5kYXRhLGUud2lkdGgsZS5oZWlnaHQpO3JldHVybiByLmdldENvbnRleHQoIjJkIikucHV0SW1hZ2VEYXRhKG4sMCwwKSxyfV91cGRhdGUoZSxyLG4sYT1udWxsKXtyZXR1cm4gdGhpcy5kYXRhPWUsdGhpcy53aWR0aD1yLHRoaXMuaGVpZ2h0PW4sYSE9PW51bGwmJih0aGlzLmNoYW5uZWxzPWEpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IG10KHRoaXMuZGF0YS5zbGljZSgpLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsdGhpcy5jaGFubmVscyl9Y29udmVydChlKXtpZih0aGlzLmNoYW5uZWxzPT09ZSlyZXR1cm4gdGhpcztzd2l0Y2goZSl7Y2FzZSAxOnRoaXMuZ3JheXNjYWxlKCk7YnJlYWs7Y2FzZSAzOnRoaXMucmdiKCk7YnJlYWs7Y2FzZSA0OnRoaXMucmdiYSgpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBDb252ZXJzaW9uIGZhaWxlZCBkdWUgdG8gdW5zdXBwb3J0ZWQgbnVtYmVyIG9mIGNoYW5uZWxzOiAke3RoaXMuY2hhbm5lbHN9YCl9cmV0dXJuIHRoaXN9YXN5bmMgc2F2ZShlKXtpZihPdCl7aWYoTjEpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gc2F2ZSBhbiBpbWFnZSBmcm9tIGEgV2ViIFdvcmtlci4iKTtjb25zdCByPWUuc3BsaXQoIi4iKS5wb3AoKS50b0xvd2VyQ2FzZSgpLG49VzEuZ2V0KHIpPz8iaW1hZ2UvcG5nIixhPWF3YWl0IHRoaXMudG9CbG9iKG4pLGk9VVJMLmNyZWF0ZU9iamVjdFVSTChhKSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtzLmhyZWY9aSxzLmRvd25sb2FkPWUscy5jbGljaygpLHMucmVtb3ZlKCl9ZWxzZXtpZih0dC51c2VGUylyZXR1cm4gYXdhaXQgdGhpcy50b1NoYXJwKCkudG9GaWxlKGUpO3Rocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIHNhdmUgdGhlIGltYWdlIGJlY2F1c2UgZmlsZXN5c3RlbSBpcyBkaXNhYmxlZCBpbiB0aGlzIGVudmlyb25tZW50LiIpfX10b1NoYXJwKCl7aWYoT3QpdGhyb3cgbmV3IEVycm9yKCJ0b1NoYXJwKCkgaXMgb25seSBzdXBwb3J0ZWQgaW4gc2VydmVyLXNpZGUgZW52aXJvbm1lbnRzLiIpO3JldHVybiBLZSh0aGlzLmRhdGEse3Jhdzp7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsY2hhbm5lbHM6dGhpcy5jaGFubmVsc319KX19YXN5bmMgZnVuY3Rpb24gTDEodCxlKXtpZih0eXBlb2YgQXVkaW9Db250ZXh0PiJ1Iil0aHJvdyBFcnJvcigiVW5hYmxlIHRvIGxvYWQgYXVkaW8gZnJvbSBwYXRoL1VSTCBzaW5jZSBgQXVkaW9Db250ZXh0YCBpcyBub3QgYXZhaWxhYmxlIGluIHlvdXIgZW52aXJvbm1lbnQuIEluc3RlYWQsIGF1ZGlvIGRhdGEgc2hvdWxkIGJlIHBhc3NlZCBkaXJlY3RseSB0byB0aGUgcGlwZWxpbmUvcHJvY2Vzc29yLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgc29tZSBleGFtcGxlIGNvZGUsIHNlZSBodHRwczovL2h1Z2dpbmdmYWNlLmNvL2RvY3MvdHJhbnNmb3JtZXJzLmpzL2d1aWRlcy9ub2RlLWF1ZGlvLXByb2Nlc3NpbmcuIik7Y29uc3Qgcj1hd2FpdChhd2FpdCBwYSh0KSkuYXJyYXlCdWZmZXIoKSxuPW5ldyBBdWRpb0NvbnRleHQoe3NhbXBsZVJhdGU6ZX0pO3R5cGVvZiBlPiJ1IiYmY29uc29sZS53YXJuKGBObyBzYW1wbGluZyByYXRlIHByb3ZpZGVkLCB1c2luZyBkZWZhdWx0IG9mICR7bi5zYW1wbGVSYXRlfUh6LmApO2NvbnN0IGE9YXdhaXQgbi5kZWNvZGVBdWRpb0RhdGEocik7bGV0IGk7aWYoYS5udW1iZXJPZkNoYW5uZWxzPT09Mil7Y29uc3Qgcz1NYXRoLnNxcnQoMiksbz1hLmdldENoYW5uZWxEYXRhKDApLGw9YS5nZXRDaGFubmVsRGF0YSgxKTtpPW5ldyBGbG9hdDMyQXJyYXkoby5sZW5ndGgpO2ZvcihsZXQgZD0wO2Q8YS5sZW5ndGg7KytkKWlbZF09cyoob1tkXStsW2RdKS8yfWVsc2UgaT1hLmdldENoYW5uZWxEYXRhKDApO3JldHVybiBpfWZ1bmN0aW9uIE9tKHQpe2lmKHQ8MSlyZXR1cm4gbmV3IEZsb2F0NjRBcnJheTtpZih0PT09MSlyZXR1cm4gbmV3IEZsb2F0NjRBcnJheShbMV0pO2NvbnN0IGU9dC0xLHI9TWF0aC5QSS9lLG49bmV3IEZsb2F0NjRBcnJheSh0KTtmb3IobGV0IGE9MDthPHQ7KythKXtjb25zdCBpPTIqYS1lO25bYV09LjUrLjUqTWF0aC5jb3MocippKX1yZXR1cm4gbn1jb25zdCBGMT17aHRrOnQ9PjI1OTUqTWF0aC5sb2cxMCgxK3QvNzAwKSxrYWxkaTp0PT4xMTI3Kk1hdGgubG9nKDErdC83MDApLHNsYW5leToodCxlPTFlMyxyPTE1LG49MjcvTWF0aC5sb2coNi40KSk9PnQ+PWU/citNYXRoLmxvZyh0L2UpKm46Myp0LzIwMH07ZnVuY3Rpb24gbm8odCxlPSJodGsiKXtjb25zdCByPUYxW2VdO2lmKCFyKXRocm93IG5ldyBFcnJvcignbWVsX3NjYWxlIHNob3VsZCBiZSBvbmUgb2YgImh0ayIsICJzbGFuZXkiIG9yICJrYWxkaSIuJyk7cmV0dXJuIHR5cGVvZiB0PT0ibnVtYmVyIj9yKHQpOnQubWFwKG49PnIobikpfWNvbnN0IFYxPXtodGs6dD0+NzAwKigxMCoqKHQvMjU5NSktMSksa2FsZGk6dD0+NzAwKihNYXRoLmV4cCh0LzExMjcpLTEpLHNsYW5leToodCxlPTFlMyxyPTE1LG49TWF0aC5sb2coNi40KS8yNyk9PnQ+PXI/ZSpNYXRoLmV4cChuKih0LXIpKToyMDAqdC8zfTtmdW5jdGlvbiBIMSh0LGU9Imh0ayIpe2NvbnN0IHI9VjFbZV07aWYoIXIpdGhyb3cgbmV3IEVycm9yKCdtZWxfc2NhbGUgc2hvdWxkIGJlIG9uZSBvZiAiaHRrIiwgInNsYW5leSIgb3IgImthbGRpIi4nKTtyZXR1cm4gdHlwZW9mIHQ9PSJudW1iZXIiP3IodCk6dC5tYXAobj0+cihuKSl9ZnVuY3Rpb24gRzEodCxlKXtjb25zdCByPUZsb2F0NjRBcnJheS5mcm9tKHtsZW5ndGg6ZS5sZW5ndGgtMX0sKHMsbyk9PmVbbysxXS1lW29dKSxuPUFycmF5LmZyb20oe2xlbmd0aDp0Lmxlbmd0aH0sKCk9Pm5ldyBBcnJheShlLmxlbmd0aCkpO2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7KytzKXtjb25zdCBvPW5bc107Zm9yKGxldCBsPTA7bDxlLmxlbmd0aDsrK2wpb1tsXT1lW2xdLXRbc119Y29uc3QgYT1lLmxlbmd0aC0yLGk9QXJyYXkuZnJvbSh7bGVuZ3RoOmF9LCgpPT5uZXcgQXJyYXkodC5sZW5ndGgpKTtmb3IobGV0IHM9MDtzPHQubGVuZ3RoOysrcyl7Y29uc3Qgbz1uW3NdO2ZvcihsZXQgbD0wO2w8YTsrK2wpe2NvbnN0IGQ9LW9bbF0vcltsXSxjPW9bbCsyXS9yW2wrMV07aVtsXVtzXT1NYXRoLm1heCgwLE1hdGgubWluKGQsYykpfX1yZXR1cm4gaX1mdW5jdGlvbiBNbSh0LGUscil7Y29uc3Qgbj0oZS10KS8oci0xKTtyZXR1cm4gRmxvYXQ2NEFycmF5LmZyb20oe2xlbmd0aDpyfSwoYSxpKT0+dCtuKmkpfWZ1bmN0aW9uIEduKHQsZSxyLG4sYSxpPW51bGwscz0iaHRrIixvPSExKXtpZihpIT09bnVsbCYmaSE9PSJzbGFuZXkiKXRocm93IG5ldyBFcnJvcignbm9ybSBtdXN0IGJlIG9uZSBvZiBudWxsIG9yICJzbGFuZXkiJyk7Y29uc3QgbD1ubyhyLHMpLGQ9bm8obixzKSxjPU1tKGwsZCxlKzIpO2xldCB1PUgxKGMscyksaDtpZihvKXtjb25zdCBnPWEvKHQqMik7aD1ubyhGbG9hdDY0QXJyYXkuZnJvbSh7bGVuZ3RoOnR9LCh5LHcpPT53KmcpLHMpLHU9Y31lbHNlIGg9TW0oMCxNYXRoLmZsb29yKGEvMiksdCk7Y29uc3QgZj1HMShoLHUpO2lmKGkhPT1udWxsJiZpPT09InNsYW5leSIpZm9yKGxldCBnPTA7ZzxlOysrZyl7Y29uc3QgeT1mW2ddLHc9Mi8odVtnKzJdLXVbZ10pO2ZvcihsZXQgdj0wO3Y8dDsrK3YpeVt2XSo9d31yZXR1cm4gZn1mdW5jdGlvbiBxMSh0LGUscil7Y29uc3Qgbj1uZXcgdC5jb25zdHJ1Y3Rvcih0Lmxlbmd0aCtlK3IpLGE9dC5sZW5ndGgtMTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoOysraSluW2UraV09dFtpXTtmb3IobGV0IGk9MTtpPD1lOysraSluW2UtaV09dFtkYShpLGEpXTtmb3IobGV0IGk9MTtpPD1yOysraSluW2ErZStpXT10W2RhKGEtaSxhKV07cmV0dXJuIG59ZnVuY3Rpb24gem0odCxlLHIsbixhKXtpZihyPD0wKXRocm93IG5ldyBFcnJvcigicmVmZXJlbmNlIG11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm8iKTtpZihuPD0wKXRocm93IG5ldyBFcnJvcigibWluX3ZhbHVlIG11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm8iKTtyPU1hdGgubWF4KG4scik7Y29uc3QgaT1NYXRoLmxvZzEwKHIpO2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7KytzKXRbc109ZSpNYXRoLmxvZzEwKE1hdGgubWF4KG4sdFtzXSktaSk7aWYoYSE9PW51bGwpe2lmKGE8PTApdGhyb3cgbmV3IEVycm9yKCJkYl9yYW5nZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvIik7Y29uc3Qgcz1DdCh0KVswXS1hO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7KytvKXRbb109TWF0aC5tYXgodFtvXSxzKX1yZXR1cm4gdH1mdW5jdGlvbiBqMSh0LGU9MSxyPTFlLTUsbj1udWxsKXtyZXR1cm4gem0odCwyMCxlLHIsbil9ZnVuY3Rpb24gSzEodCxlPTEscj0xZS0xMCxuPW51bGwpe3JldHVybiB6bSh0LDEwLGUscixuKX1mdW5jdGlvbiB0aSh0LGUscixuLHtmZnRfbGVuZ3RoOmE9bnVsbCxwb3dlcjppPTEsY2VudGVyOnM9ITAscGFkX21vZGU6bz0icmVmbGVjdCIsb25lc2lkZWQ6bD0hMCxwcmVlbXBoYXNpczpkPW51bGwsbWVsX2ZpbHRlcnM6Yz1udWxsLG1lbF9mbG9vcjp1PTFlLTEwLGxvZ19tZWw6aD1udWxsLHJlZmVyZW5jZTpmPTEsbWluX3ZhbHVlOmc9MWUtMTAsZGJfcmFuZ2U6eT1udWxsLHJlbW92ZV9kY19vZmZzZXQ6dz1udWxsLG1heF9udW1fZnJhbWVzOnY9bnVsbCxkb19wYWQ6az0hMCx0cmFuc3Bvc2U6RT0hMX09e30pe2NvbnN0IHg9ZS5sZW5ndGg7aWYoYT09PW51bGwmJihhPXIpLHI+YSl0aHJvdyBFcnJvcihgZnJhbWVfbGVuZ3RoICgke3J9KSBtYXkgbm90IGJlIGxhcmdlciB0aGFuIGZmdF9sZW5ndGggKCR7YX0pYCk7aWYoeCE9PXIpdGhyb3cgbmV3IEVycm9yKGBMZW5ndGggb2YgdGhlIHdpbmRvdyAoJHt4fSkgbXVzdCBlcXVhbCBmcmFtZV9sZW5ndGggKCR7cn0pYCk7aWYobjw9MCl0aHJvdyBuZXcgRXJyb3IoImhvcF9sZW5ndGggbXVzdCBiZSBncmVhdGVyIHRoYW4gemVybyIpO2lmKHMpe2lmKG8hPT0icmVmbGVjdCIpdGhyb3cgbmV3IEVycm9yKGBwYWRfbW9kZT0iJHtvfSIgbm90IGltcGxlbWVudGVkIHlldC5gKTtjb25zdCBMPU1hdGguZmxvb3IoKGEtMSkvMikrMTt0PXExKHQsTCxMKX1jb25zdCBJPU1hdGguZmxvb3IoMStNYXRoLmZsb29yKCh0Lmxlbmd0aC1yKS9uKSksVD1sP01hdGguZmxvb3IoYS8yKSsxOmE7bGV0IEI9SSxVPUk7diE9PW51bGwmJih2Pkk/ayYmKFU9dik6VT1CPXYpO2NvbnN0IEg9bmV3IFRnKGEpLEs9bmV3IEZsb2F0NjRBcnJheShhKSxPPW5ldyBGbG9hdDY0QXJyYXkoSC5vdXRwdXRCdWZmZXJTaXplKSxHPW5ldyBBcnJheShCKTtmb3IobGV0IEw9MDtMPEI7KytMKXtjb25zdCBWPUwqbjtmb3IobGV0IFg9MDtYPHI7KytYKUtbWF09dFtWK1hdO2lmKHcpe2xldCBYPTA7Zm9yKGxldCBGPTA7RjxyOysrRilYKz1LW0ZdO2NvbnN0IHVlPVgvcjtmb3IobGV0IEY9MDtGPHI7KytGKUtbRl0tPXVlfWlmKGQhPT1udWxsKXtmb3IobGV0IFg9ci0xO1g+PTE7LS1YKUtbWF0tPWQqS1tYLTFdO0tbMF0qPTEtZH1mb3IobGV0IFg9MDtYPGUubGVuZ3RoOysrWClLW1hdKj1lW1hdO0gucmVhbFRyYW5zZm9ybShPLEspO2NvbnN0IHRlPW5ldyBBcnJheShUKTtmb3IobGV0IFg9MDtYPHRlLmxlbmd0aDsrK1gpe2NvbnN0IHVlPVg8PDE7dGVbWF09T1t1ZV0qKjIrT1t1ZSsxXSoqMn1HW0xdPXRlfWlmKGkhPT1udWxsJiZpIT09Mil7Y29uc3QgTD0yL2k7Zm9yKGxldCBWPTA7VjxHLmxlbmd0aDsrK1Ype2NvbnN0IHRlPUdbVl07Zm9yKGxldCBYPTA7WDx0ZS5sZW5ndGg7KytYKXRlW1hdKio9TH19Y29uc3QgbmU9Yy5sZW5ndGgscT1uZXcgRmxvYXQzMkFycmF5KG5lKlUpLEQ9RT9bVSxuZV06W25lLFVdO2ZvcihsZXQgTD0wO0w8bmU7KytMKXtjb25zdCBWPWNbTF07Zm9yKGxldCB0ZT0wO3RlPEI7Kyt0ZSl7Y29uc3QgWD1HW3RlXTtsZXQgdWU9MDtmb3IobGV0IEY9MDtGPFQ7KytGKXVlKz1WW0ZdKlhbRl07cVtFP3RlKm5lK0w6TCpCK3RlXT1NYXRoLm1heCh1LHVlKX19aWYoaSE9PW51bGwmJmghPT1udWxsKXtjb25zdCBMPU1hdGgubWluKHEubGVuZ3RoLEIqbmUpO3N3aXRjaChoKXtjYXNlImxvZyI6Zm9yKGxldCBWPTA7VjxMOysrVilxW1ZdPU1hdGgubG9nKHFbVl0pO2JyZWFrO2Nhc2UibG9nMTAiOmZvcihsZXQgVj0wO1Y8TDsrK1YpcVtWXT1NYXRoLmxvZzEwKHFbVl0pO2JyZWFrO2Nhc2UiZEIiOmlmKGk9PT0xKWoxKHEsZixnLHkpO2Vsc2UgaWYoaT09PTIpSzEocSxmLGcseSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCB1c2UgbG9nX21lbCBvcHRpb24gJyR7aH0nIHdpdGggcG93ZXIgJHtpfWApO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBsb2dfbWVsIG11c3QgYmUgb25lIG9mIG51bGwsICdsb2cnLCAnbG9nMTAnIG9yICdkQicuIEdvdCAnJHtofSdgKX19cmV0dXJue2RhdGE6cSxkaW1zOkR9fWZ1bmN0aW9uIHJpKHQsZSx7cGVyaW9kaWM6cj0hMCxmcmFtZV9sZW5ndGg6bj1udWxsLGNlbnRlcjphPSEwfT17fSl7Y29uc3QgaT1yP3QrMTp0O2xldCBzO3N3aXRjaChlKXtjYXNlImJveGNhciI6cz1uZXcgRmxvYXQ2NEFycmF5KGkpLmZpbGwoMSk7YnJlYWs7Y2FzZSJoYW5uIjpjYXNlImhhbm5fd2luZG93IjpzPU9tKGkpO2JyZWFrO2Nhc2UicG92ZXkiOnM9T20oaSkubWFwKG89Pk1hdGgucG93KG8sLjg1KSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gd2luZG93IHR5cGUgJHtlfS5gKX1pZihyJiYocz1zLnN1YmFycmF5KDAsdCkpLG49PT1udWxsKXJldHVybiBzO2lmKHQ+bil0aHJvdyBuZXcgRXJyb3IoYExlbmd0aCBvZiB0aGUgd2luZG93ICgke3R9KSBtYXkgbm90IGJlIGxhcmdlciB0aGFuIGZyYW1lX2xlbmd0aCAoJHtufSlgKTtyZXR1cm4gc31mdW5jdGlvbiBZMShbdCxlLHIsbl0pe3JldHVyblt0LXIvMixlLW4vMix0K3IvMixlK24vMl19ZnVuY3Rpb24gYW8odCxlPS41LHI9bnVsbCxuPSExKXtjb25zdCBhPXQubG9naXRzLGk9dC5wcmVkX2JveGVzLFtzLG8sbF09YS5kaW1zO2lmKHIhPT1udWxsJiZyLmxlbmd0aCE9PXMpdGhyb3cgRXJyb3IoIk1ha2Ugc3VyZSB0aGF0IHlvdSBwYXNzIGluIGFzIG1hbnkgdGFyZ2V0IHNpemVzIGFzIHRoZSBiYXRjaCBkaW1lbnNpb24gb2YgdGhlIGxvZ2l0cyIpO2xldCBkPVtdO2ZvcihsZXQgYz0wO2M8czsrK2Mpe2xldCB1PXIhPT1udWxsP3JbY106bnVsbCxoPXtib3hlczpbXSxjbGFzc2VzOltdLHNjb3JlczpbXX0sZj1hW2NdLGc9aVtjXTtmb3IobGV0IHk9MDt5PG87Kyt5KXtsZXQgdz1mW3ldLHY9W10saztpZihuKXtrPXcuc2lnbW9pZCgpLmRhdGE7Zm9yKGxldCBFPTA7RTxrLmxlbmd0aDsrK0Upa1tFXT5lJiZ2LnB1c2goRSl9ZWxzZXtsZXQgRT1DdCh3LmRhdGEpWzFdO2lmKEU9PT1sLTF8fChrPWR0KHcuZGF0YSksa1tFXTxlKSljb250aW51ZTt2LnB1c2goRSl9Zm9yKGNvbnN0IEUgb2Ygdil7bGV0IHg9Z1t5XS5kYXRhO3g9WTEoeCksdSE9PW51bGwmJih4PXgubWFwKChJLFQpPT5JKnVbKFQrMSklMl0pKSxoLmJveGVzLnB1c2goeCksaC5jbGFzc2VzLnB1c2goRSksaC5zY29yZXMucHVzaChrW0VdKX19ZC5wdXNoKGgpfXJldHVybiBkfWZ1bmN0aW9uIHFuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHx0IGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5KSl0aHJvdyBuZXcgRXJyb3IoYCR7ZX0gZXhwZWN0cyBpbnB1dCB0byBiZSBhIEZsb2F0MzJBcnJheSBvciBhIEZsb2F0NjRBcnJheSwgYnV0IGdvdCAke3Q/LmNvbnN0cnVjdG9yPy5uYW1lPz90eXBlb2YgdH0gaW5zdGVhZC4gSWYgdXNpbmcgdGhlIGZlYXR1cmUgZXh0cmFjdG9yIGRpcmVjdGx5LCByZW1lbWJlciB0byB1c2UgXGByZWFkX2F1ZGlvKHVybCwgc2FtcGxpbmdfcmF0ZSlcYCB0byBvYnRhaW4gdGhlIHJhdyBhdWRpbyBkYXRhIG9mIHRoZSBmaWxlL3VybC5gKX1mdW5jdGlvbiBCbSh0LGUscj0wLG49bnVsbCl7Y29uc3QgYT10L2U7bGV0IGk9TWcoYSkqZTtyZXR1cm4gbiE9PW51bGwmJmk+biYmKGk9TWF0aC5mbG9vcihhKSplKSxpPHImJihpPU1hdGguY2VpbChhKSplKSxpfWZ1bmN0aW9uIGlvKFt0LGVdLHIpe3JldHVybltNYXRoLm1heChNYXRoLmZsb29yKHQvciksMSkqcixNYXRoLm1heChNYXRoLmZsb29yKGUvciksMSkqcl19Y2xhc3MgSXIgZXh0ZW5kcyB3dHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuY29uZmlnPWV9fWNsYXNzIGplIGV4dGVuZHMgSXJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5pbWFnZV9tZWFuPXRoaXMuY29uZmlnLmltYWdlX21lYW4/P3RoaXMuY29uZmlnLm1lYW4sdGhpcy5pbWFnZV9zdGQ9dGhpcy5jb25maWcuaW1hZ2Vfc3RkPz90aGlzLmNvbmZpZy5zdGQsdGhpcy5yZXNhbXBsZT10aGlzLmNvbmZpZy5yZXNhbXBsZT8/Mix0aGlzLmRvX3Jlc2NhbGU9dGhpcy5jb25maWcuZG9fcmVzY2FsZT8/ITAsdGhpcy5yZXNjYWxlX2ZhY3Rvcj10aGlzLmNvbmZpZy5yZXNjYWxlX2ZhY3Rvcj8/MS8yNTUsdGhpcy5kb19ub3JtYWxpemU9dGhpcy5jb25maWcuZG9fbm9ybWFsaXplLHRoaXMuZG9fcmVzaXplPXRoaXMuY29uZmlnLmRvX3Jlc2l6ZSx0aGlzLmRvX3RodW1ibmFpbD10aGlzLmNvbmZpZy5kb190aHVtYm5haWwsdGhpcy5zaXplPXRoaXMuY29uZmlnLnNpemUsdGhpcy5zaXplX2RpdmlzaWJpbGl0eT10aGlzLmNvbmZpZy5zaXplX2RpdmlzaWJpbGl0eT8/dGhpcy5jb25maWcuc2l6ZV9kaXZpc29yLHRoaXMuZG9fY2VudGVyX2Nyb3A9dGhpcy5jb25maWcuZG9fY2VudGVyX2Nyb3AsdGhpcy5jcm9wX3NpemU9dGhpcy5jb25maWcuY3JvcF9zaXplLHRoaXMuZG9fY29udmVydF9yZ2I9dGhpcy5jb25maWcuZG9fY29udmVydF9yZ2I/PyEwLHRoaXMuZG9fY3JvcF9tYXJnaW49dGhpcy5jb25maWcuZG9fY3JvcF9tYXJnaW4sdGhpcy5wYWRfc2l6ZT10aGlzLmNvbmZpZy5wYWRfc2l6ZSx0aGlzLmRvX3BhZD10aGlzLmNvbmZpZy5kb19wYWQsdGhpcy5kb19wYWQmJiF0aGlzLnBhZF9zaXplJiZ0aGlzLnNpemUmJnRoaXMuc2l6ZS53aWR0aCE9PXZvaWQgMCYmdGhpcy5zaXplLmhlaWdodCE9PXZvaWQgMCYmKHRoaXMucGFkX3NpemU9dGhpcy5zaXplKX1hc3luYyB0aHVtYm5haWwoZSxyLG49Mil7Y29uc3QgYT1lLmhlaWdodCxpPWUud2lkdGgscz1yLmhlaWdodCxvPXIud2lkdGg7bGV0IGw9TWF0aC5taW4oYSxzKSxkPU1hdGgubWluKGksbyk7cmV0dXJuIGw9PT1hJiZkPT09aT9lOihhPmk/ZD1NYXRoLmZsb29yKGkqbC9hKTppPmEmJihsPU1hdGguZmxvb3IoYSpkL2kpKSxhd2FpdCBlLnJlc2l6ZShkLGwse3Jlc2FtcGxlOm59KSl9YXN5bmMgY3JvcF9tYXJnaW4oZSxyPTIwMCl7Y29uc3Qgbj1lLmNsb25lKCkuZ3JheXNjYWxlKCksYT1rbyhuLmRhdGEpWzBdLGk9Q3Qobi5kYXRhKVswXS1hO2lmKGk9PT0wKXJldHVybiBlO2NvbnN0IHM9ci8yNTU7bGV0IG89bi53aWR0aCxsPW4uaGVpZ2h0LGQ9MCxjPTA7Zm9yKGxldCB1PTA7dTxuLmhlaWdodDsrK3Upe2NvbnN0IGg9dSpuLndpZHRoO2ZvcihsZXQgZj0wO2Y8bi53aWR0aDsrK2YpKG4uZGF0YVtoK2ZdLWEpL2k8cyYmKG89TWF0aC5taW4obyxmKSxsPU1hdGgubWluKGwsdSksZD1NYXRoLm1heChkLGYpLGM9TWF0aC5tYXgoYyx1KSl9cmV0dXJuIGU9YXdhaXQgZS5jcm9wKFtvLGwsZCxjXSksZX1wYWRfaW1hZ2UoZSxyLG4se21vZGU6YT0iY29uc3RhbnQiLGNlbnRlcjppPSExLGNvbnN0YW50X3ZhbHVlczpzPTB9PXt9KXtjb25zdFtvLGwsZF09cjtsZXQgYyx1O2lmKHR5cGVvZiBuPT0ibnVtYmVyIj8oYz1uLHU9bik6KGM9bi53aWR0aCx1PW4uaGVpZ2h0KSxjIT09bHx8dSE9PW8pe2NvbnN0IGg9bmV3IEZsb2F0MzJBcnJheShjKnUqZCk7aWYoQXJyYXkuaXNBcnJheShzKSlmb3IobGV0IHk9MDt5PGgubGVuZ3RoOysreSloW3ldPXNbeSVkXTtlbHNlIHMhPT0wJiZoLmZpbGwocyk7Y29uc3RbZixnXT1pP1tNYXRoLmZsb29yKChjLWwpLzIpLE1hdGguZmxvb3IoKHUtbykvMildOlswLDBdO2ZvcihsZXQgeT0wO3k8bzsrK3kpe2NvbnN0IHc9KHkrZykqYyx2PXkqbDtmb3IobGV0IGs9MDtrPGw7KytrKXtjb25zdCBFPSh3K2srZikqZCx4PSh2K2spKmQ7Zm9yKGxldCBJPTA7STxkOysrSSloW0UrSV09ZVt4K0ldfX1pZihhPT09InN5bW1ldHJpYyIpe2lmKGkpdGhyb3cgbmV3IEVycm9yKCJgY2VudGVyYCBwYWRkaW5nIGlzIG5vdCBzdXBwb3J0ZWQgd2hlbiBgbW9kZWAgaXMgc2V0IHRvIGBzeW1tZXRyaWNgLiIpO2NvbnN0IHk9by0xLHc9bC0xO2ZvcihsZXQgdj0wO3Y8dTsrK3Ype2NvbnN0IGs9dipjLEU9ZGEodix5KSpsO2ZvcihsZXQgeD0wO3g8YzsrK3gpe2lmKHY8byYmeDxsKWNvbnRpbnVlO2NvbnN0IEk9KGsreCkqZCxUPShFK2RhKHgsdykpKmQ7Zm9yKGxldCBCPTA7QjxkOysrQiloW0krQl09ZVtUK0JdfX19ZT1oLHI9W3UsYyxkXX1yZXR1cm5bZSxyXX1yZXNjYWxlKGUpe2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7KytyKWVbcl09dGhpcy5yZXNjYWxlX2ZhY3RvciplW3JdfWdldF9yZXNpemVfb3V0cHV0X2ltYWdlX3NpemUoZSxyKXtjb25zdFtuLGFdPWUuc2l6ZTtsZXQgaSxzO2lmKHRoaXMuZG9fdGh1bWJuYWlsKXtjb25zdHtoZWlnaHQ6byx3aWR0aDpsfT1yO2k9TWF0aC5taW4obyxsKX1lbHNlIE51bWJlci5pc0ludGVnZXIocik/KGk9cixzPXRoaXMuY29uZmlnLm1heF9zaXplPz9pKTpyIT09dm9pZCAwJiYoaT1yLnNob3J0ZXN0X2VkZ2Uscz1yLmxvbmdlc3RfZWRnZSk7aWYoaSE9PXZvaWQgMHx8cyE9PXZvaWQgMCl7Y29uc3Qgbz1pPT09dm9pZCAwPzE6TWF0aC5tYXgoaS9uLGkvYSksbD1uKm8sZD1hKm8sYz1zPT09dm9pZCAwPzE6TWF0aC5taW4ocy9sLHMvZCk7bGV0IHU9TWF0aC5mbG9vcihOdW1iZXIoKGwqYykudG9GaXhlZCgyKSkpLGg9TWF0aC5mbG9vcihOdW1iZXIoKGQqYykudG9GaXhlZCgyKSkpO3JldHVybiB0aGlzLnNpemVfZGl2aXNpYmlsaXR5IT09dm9pZCAwJiYoW3UsaF09aW8oW3UsaF0sdGhpcy5zaXplX2RpdmlzaWJpbGl0eSkpLFt1LGhdfWVsc2UgaWYociE9PXZvaWQgMCYmci53aWR0aCE9PXZvaWQgMCYmci5oZWlnaHQhPT12b2lkIDApe2xldCBvPXIud2lkdGgsbD1yLmhlaWdodDtpZih0aGlzLmNvbmZpZy5rZWVwX2FzcGVjdF9yYXRpbyYmdGhpcy5jb25maWcuZW5zdXJlX211bHRpcGxlX29mKXtsZXQgZD1sL2EsYz1vL247TWF0aC5hYnMoMS1jKTxNYXRoLmFicygxLWQpP2Q9YzpjPWQsbD1CbShkKmEsdGhpcy5jb25maWcuZW5zdXJlX211bHRpcGxlX29mKSxvPUJtKGMqbix0aGlzLmNvbmZpZy5lbnN1cmVfbXVsdGlwbGVfb2YpfXJldHVybltvLGxdfWVsc2V7aWYodGhpcy5zaXplX2RpdmlzaWJpbGl0eSE9PXZvaWQgMClyZXR1cm4gaW8oW24sYV0sdGhpcy5zaXplX2RpdmlzaWJpbGl0eSk7dGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgcmVzaXplIGltYWdlIGR1ZSB0byB1bnN1cHBvcnRlZCBcYHRoaXMuc2l6ZVxgIG9wdGlvbiBpbiBjb25maWc6ICR7SlNPTi5zdHJpbmdpZnkocil9YCl9fWFzeW5jIHJlc2l6ZShlKXtjb25zdFtyLG5dPXRoaXMuZ2V0X3Jlc2l6ZV9vdXRwdXRfaW1hZ2Vfc2l6ZShlLHRoaXMuc2l6ZSk7cmV0dXJuIGF3YWl0IGUucmVzaXplKHIsbix7cmVzYW1wbGU6dGhpcy5yZXNhbXBsZX0pfWFzeW5jIHByZXByb2Nlc3MoZSx7ZG9fbm9ybWFsaXplOnI9bnVsbCxkb19wYWQ6bj1udWxsLGRvX2NvbnZlcnRfcmdiOmE9bnVsbCxkb19jb252ZXJ0X2dyYXlzY2FsZTppPW51bGx9PXt9KXt0aGlzLmRvX2Nyb3BfbWFyZ2luJiYoZT1hd2FpdCB0aGlzLmNyb3BfbWFyZ2luKGUpKTtjb25zdFtzLG9dPWUuc2l6ZTtpZihhPz90aGlzLmRvX2NvbnZlcnRfcmdiP2U9ZS5yZ2IoKTppJiYoZT1lLmdyYXlzY2FsZSgpKSx0aGlzLmRvX3Jlc2l6ZSYmKGU9YXdhaXQgdGhpcy5yZXNpemUoZSkpLHRoaXMuZG9fdGh1bWJuYWlsJiYoZT1hd2FpdCB0aGlzLnRodW1ibmFpbChlLHRoaXMuc2l6ZSx0aGlzLnJlc2FtcGxlKSksdGhpcy5kb19jZW50ZXJfY3JvcCl7bGV0IGgsZjtOdW1iZXIuaXNJbnRlZ2VyKHRoaXMuY3JvcF9zaXplKT8oaD10aGlzLmNyb3Bfc2l6ZSxmPXRoaXMuY3JvcF9zaXplKTooaD10aGlzLmNyb3Bfc2l6ZS53aWR0aCxmPXRoaXMuY3JvcF9zaXplLmhlaWdodCksZT1hd2FpdCBlLmNlbnRlcl9jcm9wKGgsZil9Y29uc3QgbD1bZS5oZWlnaHQsZS53aWR0aF07bGV0IGQ9RmxvYXQzMkFycmF5LmZyb20oZS5kYXRhKSxjPVtlLmhlaWdodCxlLndpZHRoLGUuY2hhbm5lbHNdO2lmKHRoaXMuZG9fcmVzY2FsZSYmdGhpcy5yZXNjYWxlKGQpLHI/P3RoaXMuZG9fbm9ybWFsaXplKXtsZXQgaD10aGlzLmltYWdlX21lYW47QXJyYXkuaXNBcnJheSh0aGlzLmltYWdlX21lYW4pfHwoaD1uZXcgQXJyYXkoZS5jaGFubmVscykuZmlsbChoKSk7bGV0IGY9dGhpcy5pbWFnZV9zdGQ7aWYoQXJyYXkuaXNBcnJheSh0aGlzLmltYWdlX3N0ZCl8fChmPW5ldyBBcnJheShlLmNoYW5uZWxzKS5maWxsKGgpKSxoLmxlbmd0aCE9PWUuY2hhbm5lbHN8fGYubGVuZ3RoIT09ZS5jaGFubmVscyl0aHJvdyBuZXcgRXJyb3IoYFdoZW4gc2V0IHRvIGFycmF5cywgdGhlIGxlbmd0aCBvZiBcYGltYWdlX21lYW5cYCAoJHtoLmxlbmd0aH0pIGFuZCBcYGltYWdlX3N0ZFxgICgke2YubGVuZ3RofSkgbXVzdCBtYXRjaCB0aGUgbnVtYmVyIG9mIGNoYW5uZWxzIGluIHRoZSBpbWFnZSAoJHtlLmNoYW5uZWxzfSkuYCk7Zm9yKGxldCBnPTA7ZzxkLmxlbmd0aDtnKz1lLmNoYW5uZWxzKWZvcihsZXQgeT0wO3k8ZS5jaGFubmVsczsrK3kpZFtnK3ldPShkW2creV0taFt5XSkvZlt5XX1pZihuPz90aGlzLmRvX3BhZCl7aWYodGhpcy5wYWRfc2l6ZSlbZCxjXT10aGlzLnBhZF9pbWFnZShkLFtlLmhlaWdodCxlLndpZHRoLGUuY2hhbm5lbHNdLHRoaXMucGFkX3NpemUpO2Vsc2UgaWYodGhpcy5zaXplX2RpdmlzaWJpbGl0eSl7Y29uc3RbaCxmXT1pbyhbY1sxXSxjWzBdXSx0aGlzLnNpemVfZGl2aXNpYmlsaXR5KTtbZCxjXT10aGlzLnBhZF9pbWFnZShkLGMse3dpZHRoOmgsaGVpZ2h0OmZ9KX19Y29uc3QgdT1uZXcgcmUoImZsb2F0MzIiLGQsYykucGVybXV0ZSgyLDAsMSk7cmV0dXJue29yaWdpbmFsX3NpemU6W28sc10scmVzaGFwZWRfaW5wdXRfc2l6ZTpsLHBpeGVsX3ZhbHVlczp1fX1hc3luYyBfY2FsbChlLC4uLnIpe0FycmF5LmlzQXJyYXkoZSl8fChlPVtlXSk7Y29uc3Qgbj1hd2FpdCBQcm9taXNlLmFsbChlLm1hcChhPT50aGlzLnByZXByb2Nlc3MoYSkpKTtyZXR1cm57cGl4ZWxfdmFsdWVzOlBhKG4ubWFwKGE9PmEucGl4ZWxfdmFsdWVzKSwwKSxvcmlnaW5hbF9zaXplczpuLm1hcChhPT5hLm9yaWdpbmFsX3NpemUpLHJlc2hhcGVkX2lucHV0X3NpemVzOm4ubWFwKGE9PmEucmVzaGFwZWRfaW5wdXRfc2l6ZSl9fX1jbGFzcyBYMSBleHRlbmRzIGple3Bvc3RfcHJvY2Vzc19zZW1hbnRpY19zZWdtZW50YXRpb24oZSxyPW51bGwpe2NvbnN0IG49ZS5sb2dpdHMsYT1uLmRpbXNbMF07aWYociE9PW51bGwmJnIubGVuZ3RoIT09YSl0aHJvdyBFcnJvcigiTWFrZSBzdXJlIHRoYXQgeW91IHBhc3MgaW4gYXMgbWFueSB0YXJnZXQgc2l6ZXMgYXMgdGhlIGJhdGNoIGRpbWVuc2lvbiBvZiB0aGUgbG9naXRzIik7Y29uc3QgaT1bXTtmb3IobGV0IHM9MDtzPGE7KytzKXtjb25zdCBvPXIhPT1udWxsP3Jbc106bnVsbDtsZXQgbD1uW3NdO28hPT1udWxsJiYobD0kbihsLG8sImJpbGluZWFyIiwhMSkpO2NvbnN0W2QsY109bz8/bC5kaW1zLnNsaWNlKC0yKSx1PW5ldyByZSgiaW50MzIiLG5ldyBJbnQzMkFycmF5KGQqYyksW2QsY10pLGg9bFswXS5kYXRhO2ZvcihsZXQgdz0xO3c8bC5kaW1zWzBdOysrdyl7Y29uc3Qgdj1sW3ddLmRhdGE7Zm9yKGxldCBrPTA7azx2Lmxlbmd0aDsrK2spdltrXT5oW2tdJiYoaFtrXT12W2tdLHUuZGF0YVtrXT13KX1jb25zdCBmPW5ldyBBcnJheShsLmRpbXNbMF0pLGc9dS5kYXRhO2ZvcihsZXQgdz0wO3c8Zy5sZW5ndGg7Kyt3KXtjb25zdCB2PWdbd107Zlt2XT12fWNvbnN0IHk9Zi5maWx0ZXIodz0+dyE9PXZvaWQgMCk7aS5wdXNoKHtzZWdtZW50YXRpb246dSxsYWJlbHM6eX0pfXJldHVybiBpfX1jbGFzcyBSbSBleHRlbmRzIGple31jbGFzcyBRMSBleHRlbmRzIFJte31jbGFzcyBaMSBleHRlbmRzIGple31jbGFzcyBKMSBleHRlbmRzIGple31jbGFzcyBleCBleHRlbmRzIGple31jbGFzcyB0eCBleHRlbmRzIGple31jbGFzcyByeCBleHRlbmRzIGple31jbGFzcyBEbSBleHRlbmRzIGple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3JvcF9wY3Q9dGhpcy5jb25maWcuY3JvcF9wY3Q/PzIyNC8yNTZ9YXN5bmMgcmVzaXplKGUpe2NvbnN0IHI9dGhpcy5zaXplPy5zaG9ydGVzdF9lZGdlO2lmKHI9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJTaXplIGRpY3Rpb25hcnkgbXVzdCBjb250YWluICdzaG9ydGVzdF9lZGdlJyBrZXkuIik7aWYocjwzODQpe2NvbnN0IG49TWF0aC5mbG9vcihyL3RoaXMuY3JvcF9wY3QpLFthLGldPXRoaXMuZ2V0X3Jlc2l6ZV9vdXRwdXRfaW1hZ2Vfc2l6ZShlLHtzaG9ydGVzdF9lZGdlOm59KTtlPWF3YWl0IGUucmVzaXplKGEsaSx7cmVzYW1wbGU6dGhpcy5yZXNhbXBsZX0pLGU9YXdhaXQgZS5jZW50ZXJfY3JvcChyLHIpfWVsc2UgZT1hd2FpdCBlLnJlc2l6ZShyLHIse3Jlc2FtcGxlOnRoaXMucmVzYW1wbGV9KTtyZXR1cm4gZX19Y2xhc3MgbnggZXh0ZW5kcyBEbXt9Y2xhc3MgYXggZXh0ZW5kcyBqZXt9Y2xhc3MgaXggZXh0ZW5kcyBqZXt9Y2xhc3Mgc3ggZXh0ZW5kcyBqZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmluY2x1ZGVfdG9wPXRoaXMuY29uZmlnLmluY2x1ZGVfdG9wPz8hMCx0aGlzLmluY2x1ZGVfdG9wJiYodGhpcy5pbWFnZV9zdGQ9dGhpcy5pbWFnZV9zdGQubWFwKHI9PnIqcikpfX1jbGFzcyBveCBleHRlbmRzIGple31jbGFzcyBQbSBleHRlbmRzIGple3Bvc3RfcHJvY2Vzc19vYmplY3RfZGV0ZWN0aW9uKC4uLmUpe3JldHVybiBhbyguLi5lKX19Y2xhc3MgbHggZXh0ZW5kcyBQbXt9Y2xhc3MgdXggZXh0ZW5kcyBqZXt9Y2xhc3MgZHggZXh0ZW5kcyBqZXt9Y2xhc3MgTm0gZXh0ZW5kcyBqZXtwYWRfaW1hZ2UoZSxyLG4sYT17fSl7Y29uc3RbaSxzLG9dPXI7bGV0IGw9dGhpcy5pbWFnZV9tZWFuO0FycmF5LmlzQXJyYXkodGhpcy5pbWFnZV9tZWFuKXx8KGw9bmV3IEFycmF5KG8pLmZpbGwobCkpO2xldCBkPXRoaXMuaW1hZ2Vfc3RkO0FycmF5LmlzQXJyYXkoZCl8fChkPW5ldyBBcnJheShvKS5maWxsKGwpKTtjb25zdCBjPWwubWFwKCh1LGgpPT4tdS9kW2hdKTtyZXR1cm4gc3VwZXIucGFkX2ltYWdlKGUscixuLHtjZW50ZXI6ITAsY29uc3RhbnRfdmFsdWVzOmMsLi4uYX0pfX1jbGFzcyBjeCBleHRlbmRzIE5te31jbGFzcyBweCBleHRlbmRzIGple2FzeW5jIF9jYWxsKGUpe2NvbnN0IHI9YXdhaXQgc3VwZXIuX2NhbGwoZSksbj1bci5waXhlbF92YWx1ZXMuZGltc1swXSw2NCw2NF0sYT1uZXcgcmUoImludDY0IixuZXcgQmlnSW50NjRBcnJheShuLnJlZHVjZSgoaSxzKT0+aSpzKSkuZmlsbCgxbiksbik7cmV0dXJuey4uLnIscGl4ZWxfbWFzazphfX1wb3N0X3Byb2Nlc3Nfb2JqZWN0X2RldGVjdGlvbiguLi5lKXtyZXR1cm4gYW8oLi4uZSl9cmVtb3ZlX2xvd19hbmRfbm9fb2JqZWN0cyhlLHIsbixhKXtsZXQgaT1bXSxzPVtdLG89W107Zm9yKGxldCBsPTA7bDxlLmRpbXNbMF07KytsKXtsZXQgZD1lW2xdLGM9cltsXSx1PUN0KGQuZGF0YSlbMV07aWYodT09PWEpY29udGludWU7bGV0IGg9ZHQoZC5kYXRhKVt1XTtoPm4mJihpLnB1c2goYykscy5wdXNoKGgpLG8ucHVzaCh1KSl9cmV0dXJuW2kscyxvXX1jaGVja19zZWdtZW50X3ZhbGlkaXR5KGUscixuLGE9LjUsaT0uOCl7bGV0IHM9W10sbz0wLGw9MDtmb3IobGV0IGM9MDtjPGUubGVuZ3RoOysrYyllW2NdPT09biYmKHMucHVzaChjKSwrK28pLHJbbl0uZGF0YVtjXT49YSYmKytsO2xldCBkPW8+MCYmbD4wO3JldHVybiBkJiYoZD1vL2w+aSksW2Qsc119Y29tcHV0ZV9zZWdtZW50cyhlLHIsbixhLGkscz1udWxsLG89bnVsbCl7bGV0W2wsZF09bz8/ZVswXS5kaW1zLGM9bmV3IHJlKCJpbnQzMiIsbmV3IEludDMyQXJyYXkobCpkKSxbbCxkXSksdT1bXTtpZihvIT09bnVsbClmb3IobGV0IHk9MDt5PGUubGVuZ3RoOysreSllW3ldPSRuKGVbeV0sbywiYmlsaW5lYXIiLCExKTtsZXQgaD1uZXcgSW50MzJBcnJheShlWzBdLmRhdGEubGVuZ3RoKSxmPW5ldyBGbG9hdDMyQXJyYXkoZVswXS5kYXRhLmxlbmd0aCk7Zm9yKGxldCB5PTA7eTxlLmxlbmd0aDsrK3kpe2xldCB3PXJbeV07Zm9yKGxldCB2PTA7djxlW3ldLmRhdGEubGVuZ3RoOysrdillW3ldLmRhdGFbdl0qPXcsZVt5XS5kYXRhW3ZdPmZbdl0mJihoW3ZdPXksZlt2XT1lW3ldLmRhdGFbdl0pfWxldCBnPTA7Zm9yKGxldCB5PTA7eTxuLmxlbmd0aDsrK3kpe2xldCB3PW5beV0sW3Ysa109dGhpcy5jaGVja19zZWdtZW50X3ZhbGlkaXR5KGgsZSx5LGEsaSk7aWYodil7KytnO2ZvcihsZXQgRSBvZiBrKWMuZGF0YVtFXT1nO3UucHVzaCh7aWQ6ZyxsYWJlbF9pZDp3LHNjb3JlOnJbeV19KX19cmV0dXJuW2MsdV19cG9zdF9wcm9jZXNzX3Bhbm9wdGljX3NlZ21lbnRhdGlvbihlLHI9LjUsbj0uNSxhPS44LGk9bnVsbCxzPW51bGwpe2k9PT1udWxsJiYoY29uc29sZS53YXJuKCJgbGFiZWxfaWRzX3RvX2Z1c2VgIHVuc2V0LiBObyBpbnN0YW5jZSB3aWxsIGJlIGZ1c2VkLiIpLGk9bmV3IFNldCk7Y29uc3Qgbz1lLmxvZ2l0cyxsPWUucHJlZF9tYXNrcy5zaWdtb2lkKCk7bGV0W2QsYyx1XT1vLmRpbXM7aWYodS09MSxzIT09bnVsbCYmcy5sZW5ndGghPT1kKXRocm93IEVycm9yKCJNYWtlIHN1cmUgdGhhdCB5b3UgcGFzcyBpbiBhcyBtYW55IHRhcmdldCBzaXplcyBhcyB0aGUgYmF0Y2ggZGltZW5zaW9uIG9mIHRoZSBsb2dpdHMiKTtsZXQgaD1bXTtmb3IobGV0IGY9MDtmPGQ7KytmKXtsZXQgZz1zIT09bnVsbD9zW2ZdOm51bGwseT1vW2ZdLHc9bFtmXSxbdixrLEVdPXRoaXMucmVtb3ZlX2xvd19hbmRfbm9fb2JqZWN0cyh5LHcscix1KTtpZihFLmxlbmd0aD09PTApe2xldFtULEJdPWc/P3cuZGltcy5zbGljZSgtMiksVT1uZXcgcmUoImludDMyIixuZXcgSW50MzJBcnJheShUKkIpLmZpbGwoLTEpLFtULEJdKTtoLnB1c2goe3NlZ21lbnRhdGlvbjpVLHNlZ21lbnRzX2luZm86W119KTtjb250aW51ZX1sZXRbeCxJXT10aGlzLmNvbXB1dGVfc2VnbWVudHModixrLEUsbixhLGksZyk7aC5wdXNoKHtzZWdtZW50YXRpb246eCxzZWdtZW50c19pbmZvOkl9KX1yZXR1cm4gaH1wb3N0X3Byb2Nlc3NfaW5zdGFuY2Vfc2VnbWVudGF0aW9uKCl7dGhyb3cgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZCB5ZXQiKX19Y2xhc3MgaHggZXh0ZW5kcyBqZXtwb3N0X3Byb2Nlc3Nfb2JqZWN0X2RldGVjdGlvbiguLi5lKXtyZXR1cm4gYW8oLi4uZSl9fWNsYXNzIGZ4IGV4dGVuZHMgamV7cmVzaGFwZV9pbnB1dF9wb2ludHMoZSxyLG4pe2U9c3RydWN0dXJlZENsb25lKGUpO2xldCBhPXlvKGUpO2lmKGEubGVuZ3RoPT09MylhPVsxLC4uLmFdLGU9W2VdO2Vsc2UgaWYoYS5sZW5ndGghPT00KXRocm93IEVycm9yKCJUaGUgaW5wdXRfcG9pbnRzIG11c3QgYmUgYSA0RCB0ZW5zb3Igb2Ygc2hhcGUgYGJhdGNoX3NpemVgLCBgcG9pbnRfYmF0Y2hfc2l6ZWAsIGBuYl9wb2ludHNfcGVyX2ltYWdlYCwgYDJgLiIpO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKXtsZXQgcz1yW2ldLG89bltpXSxsPVtvWzBdL3NbMF0sb1sxXS9zWzFdXTtmb3IobGV0IGQ9MDtkPGVbaV0ubGVuZ3RoOysrZClmb3IobGV0IGM9MDtjPGVbaV1bZF0ubGVuZ3RoOysrYylmb3IobGV0IHU9MDt1PGVbaV1bZF1bY10ubGVuZ3RoOysrdSllW2ldW2RdW2NdW3VdKj1sW3VdfXJldHVybiBuZXcgcmUoImZsb2F0MzIiLEZsb2F0MzJBcnJheS5mcm9tKGUuZmxhdCgxLzApKSxhKX1hZGRfaW5wdXRfbGFiZWxzKGUscil7bGV0IG49eW8oZSk7aWYobi5sZW5ndGg9PT0yKW49WzEsLi4ubl0sZT1bZV07ZWxzZSBpZihuLmxlbmd0aCE9PTMpdGhyb3cgRXJyb3IoIlRoZSBpbnB1dF9wb2ludHMgbXVzdCBiZSBhIDREIHRlbnNvciBvZiBzaGFwZSBgYmF0Y2hfc2l6ZWAsIGBwb2ludF9iYXRjaF9zaXplYCwgYG5iX3BvaW50c19wZXJfaW1hZ2VgLCBgMmAuIik7aWYobi5zb21lKChhLGkpPT5hIT09ci5kaW1zW2ldKSl0aHJvdyBFcnJvcihgVGhlIGZpcnN0ICR7bi5sZW5ndGh9IGRpbWVuc2lvbnMgb2YgJ2lucHV0X3BvaW50cycgYW5kICdpbnB1dF9sYWJlbHMnIG11c3QgYmUgdGhlIHNhbWUuYCk7cmV0dXJuIG5ldyByZSgiaW50NjQiLGUuZmxhdCgxLzApLm1hcChCaWdJbnQpLG4pfWFzeW5jIF9jYWxsKGUscj1udWxsLG49bnVsbCl7Y29uc3QgYT1hd2FpdCBzdXBlci5fY2FsbChlKTtpZihyJiYoYS5pbnB1dF9wb2ludHM9dGhpcy5yZXNoYXBlX2lucHV0X3BvaW50cyhyLGEub3JpZ2luYWxfc2l6ZXMsYS5yZXNoYXBlZF9pbnB1dF9zaXplcykpLG4pe2lmKCFhLmlucHV0X3BvaW50cyl0aHJvdyBFcnJvcigiYGlucHV0X3BvaW50c2AgbXVzdCBiZSBwcm92aWRlZCBpZiBgaW5wdXRfbGFiZWxzYCBhcmUgcHJvdmlkZWQuIik7YS5pbnB1dF9sYWJlbHM9dGhpcy5hZGRfaW5wdXRfbGFiZWxzKG4sYS5pbnB1dF9wb2ludHMpfXJldHVybiBhfXBvc3RfcHJvY2Vzc19tYXNrcyhlLHIsbix7bWFza190aHJlc2hvbGQ6YT0wLGJpbmFyaXplOmk9ITAscGFkX3NpemU6cz1udWxsfT17fSl7Y29uc3Qgbz1bXTtzPXM/P3RoaXMucGFkX3NpemU7Y29uc3QgbD1bcy5oZWlnaHQscy53aWR0aF07Zm9yKGxldCBkPTA7ZDxyLmxlbmd0aDsrK2Qpe2NvbnN0IGM9cltkXSx1PW5bZF0saD1lW2RdLGY9W107Zm9yKGxldCBnPTA7ZzxoLmRpbXNbMF07KytnKXtjb25zdCB5PWhbZ107bGV0IHc9JG4oeSxsLCJiaWxpbmVhciIsITEpO2lmKHc9dy5zbGljZShudWxsLFswLHVbMF1dLFswLHVbMV1dKSx3PSRuKHcsYywiYmlsaW5lYXIiLCExKSxpKXtjb25zdCB2PW5ldyBVaW50OEFycmF5KHcuZGF0YS5sZW5ndGgpO2ZvcihsZXQgaz0wO2s8dy5kYXRhLmxlbmd0aDsrK2spdy5kYXRhW2tdPmEmJih2W2tdPTEpO3c9bmV3IHJlKCJib29sIix2LHcuZGltcyl9Zi5wdXNoKHcpfW8ucHVzaChQYShmKSl9cmV0dXJuIG99Z2VuZXJhdGVfY3JvcF9ib3hlcyhlLHIse2Nyb3Bfbl9sYXllcnM6bj0wLG92ZXJsYXBfcmF0aW86YT01MTIvMTUwMCxwb2ludHNfcGVyX2Nyb3A6aT0zMixjcm9wX25fcG9pbnRzX2Rvd25zY2FsZV9mYWN0b3I6cz0xfT17fSl7fX1jbGFzcyBteCBleHRlbmRzIGple3BhZF9pbWFnZShlLHIsbixhPXt9KXtjb25zdFtpLHMsb109cjtyZXR1cm4gc3VwZXIucGFkX2ltYWdlKGUscix7d2lkdGg6cysobi1zJW4pJW4saGVpZ2h0OmkrKG4taSVuKSVufSx7bW9kZToic3ltbWV0cmljIixjZW50ZXI6ITEsY29uc3RhbnRfdmFsdWVzOi0xLC4uLmF9KX19Y2xhc3MgZ3ggZXh0ZW5kcyBqZXthc3luYyBfY2FsbChlLHIpe0FycmF5LmlzQXJyYXkoZSl8fChlPVtlXSksQXJyYXkuaXNBcnJheShyKXx8KHI9W3JdKTtjb25zdCBuPWF3YWl0IFByb21pc2UuYWxsKGUubWFwKGk9PnRoaXMucHJlcHJvY2VzcyhpKSkpLGE9YXdhaXQgUHJvbWlzZS5hbGwoci5tYXAoaT0+dGhpcy5wcmVwcm9jZXNzKGkse2RvX25vcm1hbGl6ZTohMSxkb19jb252ZXJ0X3JnYjohMSxkb19jb252ZXJ0X2dyYXlzY2FsZTohMH0pKSk7cmV0dXJue3BpeGVsX3ZhbHVlczpQYShuLm1hcCgoaSxzKT0+RGEoW2kucGl4ZWxfdmFsdWVzLGFbc10ucGl4ZWxfdmFsdWVzXSwwKSksMCksb3JpZ2luYWxfc2l6ZXM6bi5tYXAoaT0+aS5vcmlnaW5hbF9zaXplKSxyZXNoYXBlZF9pbnB1dF9zaXplczpuLm1hcChpPT5pLnJlc2hhcGVkX2lucHV0X3NpemUpfX19Y2xhc3MgX3ggZXh0ZW5kcyBJcntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmNvbmZpZy5tZWxfZmlsdGVycz8/PUduKE1hdGguZmxvb3IoMSt0aGlzLmNvbmZpZy5uX2ZmdC8yKSx0aGlzLmNvbmZpZy5mZWF0dXJlX3NpemUsMCw4ZTMsdGhpcy5jb25maWcuc2FtcGxpbmdfcmF0ZSwic2xhbmV5Iiwic2xhbmV5IiksdGhpcy53aW5kb3c9cmkodGhpcy5jb25maWcubl9mZnQsImhhbm4iKX1fZXh0cmFjdF9mYmFua19mZWF0dXJlcyhlKXtjb25zdHtkYXRhOnIsZGltczpufT10aShlLHRoaXMud2luZG93LHRoaXMuY29uZmlnLm5fZmZ0LHRoaXMuY29uZmlnLmhvcF9sZW5ndGgse3Bvd2VyOjIsbWVsX2ZpbHRlcnM6dGhpcy5jb25maWcubWVsX2ZpbHRlcnMsbG9nX21lbDoibG9nMTAiLG1heF9udW1fZnJhbWVzOnRoaXMuY29uZmlnLm5iX21heF9mcmFtZXN9KSxhPUN0KHIpWzBdO2ZvcihsZXQgaT0wO2k8ci5sZW5ndGg7KytpKXJbaV09KE1hdGgubWF4KHJbaV0sYS04KSs0KS80O3JldHVybntkYXRhOnIsZGltczpufX1hc3luYyBfY2FsbChlKXtxbihlLCJXaGlzcGVyRmVhdHVyZUV4dHJhY3RvciIpO2xldCByO2UubGVuZ3RoPnRoaXMuY29uZmlnLm5fc2FtcGxlcz8oY29uc29sZS53YXJuKCJBdHRlbXB0aW5nIHRvIGV4dHJhY3QgZmVhdHVyZXMgZm9yIGF1ZGlvIGxvbmdlciB0aGFuIDMwIHNlY29uZHMuIElmIHVzaW5nIGEgcGlwZWxpbmUgdG8gZXh0cmFjdCB0cmFuc2NyaXB0IGZyb20gYSBsb25nIGF1ZGlvIGNsaXAsIHJlbWVtYmVyIHRvIHNwZWNpZnkgYGNodW5rX2xlbmd0aF9zYCBhbmQvb3IgYHN0cmlkZV9sZW5ndGhfc2AuIikscj1lLnNsaWNlKDAsdGhpcy5jb25maWcubl9zYW1wbGVzKSk6KHI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmNvbmZpZy5uX3NhbXBsZXMpLHIuc2V0KGUpKTtjb25zdHtkYXRhOm4sZGltczphfT10aGlzLl9leHRyYWN0X2ZiYW5rX2ZlYXR1cmVzKHIpO3JldHVybntpbnB1dF9mZWF0dXJlczpuZXcgcmUoImZsb2F0MzIiLG4sWzEsLi4uYV0pfX19Y2xhc3MgeXggZXh0ZW5kcyBJcntfemVyb19tZWFuX3VuaXRfdmFyX25vcm0oZSl7Y29uc3Qgcj1lLnJlZHVjZSgoYSxpKT0+YStpLDApL2UubGVuZ3RoLG49ZS5yZWR1Y2UoKGEsaSk9PmErKGktcikqKjIsMCkvZS5sZW5ndGg7cmV0dXJuIGUubWFwKGE9PihhLXIpL01hdGguc3FydChuKzFlLTcpKX1hc3luYyBfY2FsbChlKXtxbihlLCJXYXYyVmVjMkZlYXR1cmVFeHRyYWN0b3IiKSxlIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5JiYoZT1uZXcgRmxvYXQzMkFycmF5KGUpKTtsZXQgcj1lO3RoaXMuY29uZmlnLmRvX25vcm1hbGl6ZSYmKHI9dGhpcy5femVyb19tZWFuX3VuaXRfdmFyX25vcm0ocikpO2NvbnN0IG49WzEsci5sZW5ndGhdO3JldHVybntpbnB1dF92YWx1ZXM6bmV3IHJlKCJmbG9hdDMyIixyLG4pLGF0dGVudGlvbl9tYXNrOm5ldyByZSgiaW50NjQiLG5ldyBCaWdJbnQ2NEFycmF5KHIubGVuZ3RoKS5maWxsKDFuKSxuKX19fWNsYXNzIHd4IGV4dGVuZHMgSXJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7Y29uc3Qgcj10aGlzLmNvbmZpZy5zYW1wbGluZ19yYXRlLG49R24oMjU2LHRoaXMuY29uZmlnLm51bV9tZWxfYmlucywyMCxNYXRoLmZsb29yKHIvMikscixudWxsLCJrYWxkaSIsITApO2ZvcihsZXQgYT0wO2E8bi5sZW5ndGg7KythKW5bYV0ucHVzaCgwKTt0aGlzLm1lbF9maWx0ZXJzPW4sdGhpcy53aW5kb3c9cmkoNDAwLCJwb3ZleSIse3BlcmlvZGljOiExfSl9X2V4dHJhY3RfZmJhbmtfZmVhdHVyZXMoZSxyKXtyZXR1cm4gZT1lLm1hcChuPT5uKjMyNzY4KSx0aShlLHRoaXMud2luZG93LDQwMCwxNjAse2ZmdF9sZW5ndGg6NTEyLHBvd2VyOjIsY2VudGVyOiExLHByZWVtcGhhc2lzOi45NyxtZWxfZmlsdGVyczp0aGlzLm1lbF9maWx0ZXJzLGxvZ19tZWw6ImxvZyIsbWVsX2Zsb29yOjExOTIwOTI5NTUwNzgxMjVlLTIyLHJlbW92ZV9kY19vZmZzZXQ6ITAsbWF4X251bV9mcmFtZXM6cix0cmFuc3Bvc2U6ITB9KX1hc3luYyBfY2FsbChlLHtwYWRkaW5nOnI9ITAscGFkX3RvX211bHRpcGxlX29mOm49Mixkb19ub3JtYWxpemVfcGVyX21lbF9iaW5zOmE9ITAscmV0dXJuX2F0dGVudGlvbl9tYXNrOmk9ITB9PXt9KXtxbihlLCJTZWFtbGVzc000VEZlYXR1cmVFeHRyYWN0b3IiKTtsZXQgcz10aGlzLl9leHRyYWN0X2ZiYW5rX2ZlYXR1cmVzKGUsdGhpcy5jb25maWcubWF4X2xlbmd0aCk7aWYoYSl7Y29uc3RbZixnXT1zLmRpbXM7Zm9yKGxldCB5PTA7eTxnOysreSl7bGV0IHc9MDtmb3IobGV0IHg9MDt4PGY7Kyt4KXcrPXMuZGF0YVt4KmcreV07Y29uc3Qgdj13L2Y7bGV0IGs9MDtmb3IobGV0IHg9MDt4PGY7Kyt4KWsrPShzLmRhdGFbeCpnK3ldLXYpKioyO2svPWYtMTtjb25zdCBFPU1hdGguc3FydChrKzFlLTcpO2ZvcihsZXQgeD0wO3g8ZjsrK3gpe2NvbnN0IEk9eCpnK3k7cy5kYXRhW0ldPShzLmRhdGFbSV0tdikvRX19fWxldCBvO2lmKHIpe2NvbnN0W2YsZ109cy5kaW1zLHk9ZiVuO2lmKHk+MCl7Y29uc3Qgdz1uZXcgRmxvYXQzMkFycmF5KGcqKGYreSkpO3cuc2V0KHMuZGF0YSksdy5maWxsKHRoaXMuY29uZmlnLnBhZGRpbmdfdmFsdWUscy5kYXRhLmxlbmd0aCk7Y29uc3Qgdj1mK3k7cz17ZGF0YTp3LGRpbXM6W3YsZ119LGkmJihvPW5ldyByZSgiaW50NjQiLG5ldyBCaWdJbnQ2NEFycmF5KHYpLFsxLHZdKSxvLmRhdGEuZmlsbCgxbiwwLGYpKX19Y29uc3RbbCxkXT1zLmRpbXMsYz10aGlzLmNvbmZpZy5zdHJpZGU7aWYobCVjIT09MCl0aHJvdyBuZXcgRXJyb3IoYFRoZSBudW1iZXIgb2YgZnJhbWVzICgke2x9KSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgdGhlIHN0cmlkZSAoJHtjfSkuYCk7Y29uc3QgdT1uZXcgcmUoImZsb2F0MzIiLHMuZGF0YSxzLmRpbXMpLnZpZXcoMSxNYXRoLmZsb29yKGwvYyksZCpjKSxoPXtpbnB1dF9mZWF0dXJlczp1fTtpZihpKXtjb25zdCBmPXUuZGltc1sxXSxnPW5ldyByZSgiaW50NjQiLG5ldyBCaWdJbnQ2NEFycmF5KGYpLFsxLGZdKTtpZihvKWZvcihsZXQgeT0xLHc9MDt5PGw7eSs9YywrK3cpZy5kYXRhW3ddPW8uZGF0YVt5XTtlbHNlIGcuZGF0YS5maWxsKDFuKTtoLmF0dGVudGlvbl9tYXNrPWd9cmV0dXJuIGh9fWNsYXNzIHZ4IGV4dGVuZHMgSXJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7Y29uc3Qgcj10aGlzLmNvbmZpZy5zYW1wbGluZ19yYXRlLG49R24oMjU2LHRoaXMuY29uZmlnLm51bV9tZWxfYmlucywyMCxNYXRoLmZsb29yKHIvMikscixudWxsLCJrYWxkaSIsITApO2ZvcihsZXQgYT0wO2E8bi5sZW5ndGg7KythKW5bYV0ucHVzaCgwKTt0aGlzLm1lbF9maWx0ZXJzPW4sdGhpcy53aW5kb3c9cmkoNDAwLCJoYW5uIix7cGVyaW9kaWM6ITF9KSx0aGlzLm1lYW49dGhpcy5jb25maWcubWVhbix0aGlzLnN0ZD10aGlzLmNvbmZpZy5zdGR9X2V4dHJhY3RfZmJhbmtfZmVhdHVyZXMoZSxyKXtyZXR1cm4gdGkoZSx0aGlzLndpbmRvdyw0MDAsMTYwLHtmZnRfbGVuZ3RoOjUxMixwb3dlcjoyLGNlbnRlcjohMSxwcmVlbXBoYXNpczouOTcsbWVsX2ZpbHRlcnM6dGhpcy5tZWxfZmlsdGVycyxsb2dfbWVsOiJsb2ciLG1lbF9mbG9vcjoxMTkyMDkyOTU1MDc4MTI1ZS0yMixyZW1vdmVfZGNfb2Zmc2V0OiEwLG1heF9udW1fZnJhbWVzOnIsdHJhbnNwb3NlOiEwfSl9YXN5bmMgX2NhbGwoZSl7cW4oZSwiQVNURmVhdHVyZUV4dHJhY3RvciIpO2NvbnN0IHI9dGhpcy5fZXh0cmFjdF9mYmFua19mZWF0dXJlcyhlLHRoaXMuY29uZmlnLm1heF9sZW5ndGgpO2lmKHRoaXMuY29uZmlnLmRvX25vcm1hbGl6ZSl7Y29uc3Qgbj10aGlzLnN0ZCoyO2ZvcihsZXQgYT0wO2E8ci5kYXRhLmxlbmd0aDsrK2Epci5kYXRhW2FdPShyLmRhdGFbYV0tdGhpcy5tZWFuKS9ufXJldHVybntpbnB1dF92YWx1ZXM6bmV3IHJlKCJmbG9hdDMyIixyLmRhdGEsWzEsLi4uci5kaW1zXSl9fX1jbGFzcyBieCBleHRlbmRzIElye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMubWVsX2ZpbHRlcnM9R24odGhpcy5jb25maWcubmJfZnJlcXVlbmN5X2JpbnMsdGhpcy5jb25maWcuZmVhdHVyZV9zaXplLHRoaXMuY29uZmlnLmZyZXF1ZW5jeV9taW4sdGhpcy5jb25maWcuZnJlcXVlbmN5X21heCx0aGlzLmNvbmZpZy5zYW1wbGluZ19yYXRlLG51bGwsImh0ayIpLHRoaXMubWVsX2ZpbHRlcnNfc2xhbmV5PUduKHRoaXMuY29uZmlnLm5iX2ZyZXF1ZW5jeV9iaW5zLHRoaXMuY29uZmlnLmZlYXR1cmVfc2l6ZSx0aGlzLmNvbmZpZy5mcmVxdWVuY3lfbWluLHRoaXMuY29uZmlnLmZyZXF1ZW5jeV9tYXgsdGhpcy5jb25maWcuc2FtcGxpbmdfcmF0ZSwic2xhbmV5Iiwic2xhbmV5IiksdGhpcy53aW5kb3c9cmkodGhpcy5jb25maWcuZmZ0X3dpbmRvd19zaXplLCJoYW5uIil9X2dldF9pbnB1dF9tZWwoZSxyLG4sYSl7bGV0IGkscz0hMTtjb25zdCBvPWUubGVuZ3RoLXI7aWYobz4wKWlmKG49PT0icmFuZF90cnVuYyIpe3M9ITA7Y29uc3QgbD1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKG8rMSkpO2U9ZS5zdWJhcnJheShsLGwrciksaT10aGlzLl9leHRyYWN0X2ZiYW5rX2ZlYXR1cmVzKGUsdGhpcy5tZWxfZmlsdGVyc19zbGFuZXksdGhpcy5jb25maWcubmJfbWF4X3NhbXBsZXMpLGkuZGltcz1bMSwuLi5pLmRpbXNdfWVsc2UgdGhyb3cgbmV3IEVycm9yKGBUcnVuY2F0aW9uIHN0cmF0ZWd5ICIke259IiBub3QgaW1wbGVtZW50ZWRgKTtlbHNle2lmKG88MCl7bGV0IGw9bmV3IEZsb2F0NjRBcnJheShyKTtpZihsLnNldChlKSxhPT09InJlcGVhdCIpZm9yKGxldCBkPWUubGVuZ3RoO2Q8cjtkKz1lLmxlbmd0aClsLnNldChlLnN1YmFycmF5KDAsTWF0aC5taW4oZS5sZW5ndGgsci1kKSksZCk7ZWxzZSBpZihhPT09InJlcGVhdHBhZCIpZm9yKGxldCBkPWUubGVuZ3RoO2Q8LW87ZCs9ZS5sZW5ndGgpbC5zZXQoZSxkKTtlPWx9aWYobj09PSJmdXNpb24iKXRocm93IG5ldyBFcnJvcihgVHJ1bmNhdGlvbiBzdHJhdGVneSAiJHtufSIgbm90IGltcGxlbWVudGVkYCk7aT10aGlzLl9leHRyYWN0X2ZiYW5rX2ZlYXR1cmVzKGUsdGhpcy5tZWxfZmlsdGVyc19zbGFuZXksdGhpcy5jb25maWcubmJfbWF4X3NhbXBsZXMpLGkuZGltcz1bMSwuLi5pLmRpbXNdfXJldHVybnsuLi5pLGxvbmdlcjpzfX1fZXh0cmFjdF9mYmFua19mZWF0dXJlcyhlLHIsbj1udWxsKXtyZXR1cm4gdGkoZSx0aGlzLndpbmRvdyx0aGlzLmNvbmZpZy5mZnRfd2luZG93X3NpemUsdGhpcy5jb25maWcuaG9wX2xlbmd0aCx7cG93ZXI6MixtZWxfZmlsdGVyczpyLGxvZ19tZWw6ImRCIixtYXhfbnVtX2ZyYW1lczpuLGRvX3BhZDohMSx0cmFuc3Bvc2U6ITB9KX1hc3luYyBfY2FsbChlLHttYXhfbGVuZ3RoOnI9bnVsbH09e30pe3FuKGUsIkNsYXBGZWF0dXJlRXh0cmFjdG9yIik7Y29uc3Qgbj10aGlzLl9nZXRfaW5wdXRfbWVsKGUscj8/dGhpcy5jb25maWcubmJfbWF4X3NhbXBsZXMsdGhpcy5jb25maWcudHJ1bmNhdGlvbix0aGlzLmNvbmZpZy5wYWRkaW5nKTtyZXR1cm57aW5wdXRfZmVhdHVyZXM6bmV3IHJlKCJmbG9hdDMyIixuLmRhdGEsWzEsLi4ubi5kaW1zXSl9fX1jbGFzcyAkeCBleHRlbmRzIElye31jbGFzcyBYciBleHRlbmRzIHd0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5mZWF0dXJlX2V4dHJhY3Rvcj1lfWFzeW5jIF9jYWxsKGUsLi4ucil7cmV0dXJuIGF3YWl0IHRoaXMuZmVhdHVyZV9leHRyYWN0b3IoZSwuLi5yKX19Y2xhc3MgeHggZXh0ZW5kcyBYcnthc3luYyBfY2FsbCguLi5lKXtyZXR1cm4gYXdhaXQgdGhpcy5mZWF0dXJlX2V4dHJhY3RvciguLi5lKX1wb3N0X3Byb2Nlc3NfbWFza3MoLi4uZSl7cmV0dXJuIHRoaXMuZmVhdHVyZV9leHRyYWN0b3IucG9zdF9wcm9jZXNzX21hc2tzKC4uLmUpfXJlc2hhcGVfaW5wdXRfcG9pbnRzKC4uLmUpe3JldHVybiB0aGlzLmZlYXR1cmVfZXh0cmFjdG9yLnJlc2hhcGVfaW5wdXRfcG9pbnRzKC4uLmUpfX1jbGFzcyBreCBleHRlbmRzIFhye2FzeW5jIF9jYWxsKGUpe3JldHVybiBhd2FpdCB0aGlzLmZlYXR1cmVfZXh0cmFjdG9yKGUpfX1jbGFzcyBTeCBleHRlbmRzIFhye2FzeW5jIF9jYWxsKGUpe3JldHVybiBhd2FpdCB0aGlzLmZlYXR1cmVfZXh0cmFjdG9yKGUpfX1jbGFzcyBFeCBleHRlbmRzIFhye2FzeW5jIF9jYWxsKGUpe3JldHVybiBhd2FpdCB0aGlzLmZlYXR1cmVfZXh0cmFjdG9yKGUpfX1jbGFzcyBDeCBleHRlbmRzIFhye31jbGFzcyBfdHtzdGF0aWMgRkVBVFVSRV9FWFRSQUNUT1JfQ0xBU1NfTUFQUElORz17SW1hZ2VGZWF0dXJlRXh0cmFjdG9yOmplLFdoaXNwZXJGZWF0dXJlRXh0cmFjdG9yOl94LFZpVEZlYXR1cmVFeHRyYWN0b3I6YXgsTW9iaWxlVmlURmVhdHVyZUV4dHJhY3RvcjpveCxPd2xWaVRGZWF0dXJlRXh0cmFjdG9yOlBtLE93bHYySW1hZ2VQcm9jZXNzb3I6bHgsQ0xJUEZlYXR1cmVFeHRyYWN0b3I6ZXgsQ2hpbmVzZUNMSVBGZWF0dXJlRXh0cmFjdG9yOnR4LFNpZ2xpcEltYWdlUHJvY2Vzc29yOnJ4LENvbnZOZXh0RmVhdHVyZUV4dHJhY3RvcjpEbSxDb252TmV4dEltYWdlUHJvY2Vzc29yOm54LFNlZ2Zvcm1lckZlYXR1cmVFeHRyYWN0b3I6WDEsQml0SW1hZ2VQcm9jZXNzb3I6WjEsRFBUSW1hZ2VQcm9jZXNzb3I6UTEsRFBURmVhdHVyZUV4dHJhY3RvcjpSbSxHTFBORmVhdHVyZUV4dHJhY3RvcjpKMSxCZWl0RmVhdHVyZUV4dHJhY3RvcjpkeCxEZWlURmVhdHVyZUV4dHJhY3Rvcjp1eCxEZXRyRmVhdHVyZUV4dHJhY3RvcjpweCxZb2xvc0ZlYXR1cmVFeHRyYWN0b3I6aHgsRG9udXRGZWF0dXJlRXh0cmFjdG9yOk5tLE5vdWdhdEltYWdlUHJvY2Vzc29yOmN4LEVmZmljaWVudE5ldEltYWdlUHJvY2Vzc29yOnN4LFZpVEltYWdlUHJvY2Vzc29yOml4LFZpdE1hdHRlSW1hZ2VQcm9jZXNzb3I6Z3gsU2FtSW1hZ2VQcm9jZXNzb3I6ZngsU3dpbjJTUkltYWdlUHJvY2Vzc29yOm14LFdhdjJWZWMyRmVhdHVyZUV4dHJhY3Rvcjp5eCxTZWFtbGVzc000VEZlYXR1cmVFeHRyYWN0b3I6d3gsU3BlZWNoVDVGZWF0dXJlRXh0cmFjdG9yOiR4LEFTVEZlYXR1cmVFeHRyYWN0b3I6dngsQ2xhcEZlYXR1cmVFeHRyYWN0b3I6Ynh9O3N0YXRpYyBQUk9DRVNTT1JfQ0xBU1NfTUFQUElORz17V2hpc3BlclByb2Nlc3NvcjpreCxXYXYyVmVjMlByb2Nlc3NvcldpdGhMTTpTeCxTYW1Qcm9jZXNzb3I6eHgsU3BlZWNoVDVQcm9jZXNzb3I6RXgsT3dsVmlUUHJvY2Vzc29yOkN4fTtzdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKGUse3Byb2dyZXNzX2NhbGxiYWNrOnI9bnVsbCxjb25maWc6bj1udWxsLGNhY2hlX2RpcjphPW51bGwsbG9jYWxfZmlsZXNfb25seTppPSExLHJldmlzaW9uOnM9Im1haW4ifT17fSl7bGV0IG89bj8/YXdhaXQgUnIoZSwicHJlcHJvY2Vzc29yX2NvbmZpZy5qc29uIiwhMCx7cHJvZ3Jlc3NfY2FsbGJhY2s6cixjb25maWc6bixjYWNoZV9kaXI6YSxsb2NhbF9maWxlc19vbmx5OmkscmV2aXNpb246c30pLGw9by5mZWF0dXJlX2V4dHJhY3Rvcl90eXBlPz9vLmltYWdlX3Byb2Nlc3Nvcl90eXBlLGQ9dGhpcy5GRUFUVVJFX0VYVFJBQ1RPUl9DTEFTU19NQVBQSU5HW2xdO2lmKCFkKWlmKG8uc2l6ZSE9PXZvaWQgMCljb25zb2xlLndhcm4oYEZlYXR1cmUgZXh0cmFjdG9yIHR5cGUgIiR7bH0iIG5vdCBmb3VuZCwgYXNzdW1pbmcgSW1hZ2VGZWF0dXJlRXh0cmFjdG9yIGR1ZSB0byBzaXplIHBhcmFtZXRlciBpbiBjb25maWcuYCksZD1qZTtlbHNlIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBGZWF0dXJlIEV4dHJhY3RvciB0eXBlOiAke2x9YCk7bGV0IGM9dGhpcy5QUk9DRVNTT1JfQ0xBU1NfTUFQUElOR1tvLnByb2Nlc3Nvcl9jbGFzc10/P1hyLHU9bmV3IGQobyk7cmV0dXJuIG5ldyBjKHUpfX1hc3luYyBmdW5jdGlvbiBadCh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSxhd2FpdCBQcm9taXNlLmFsbCh0Lm1hcChlPT5tdC5yZWFkKGUpKSl9YXN5bmMgZnVuY3Rpb24gbmkodCxlKXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSxhd2FpdCBQcm9taXNlLmFsbCh0Lm1hcChyPT50eXBlb2Ygcj09InN0cmluZyJ8fHIgaW5zdGFuY2VvZiBVUkw/TDEocixlKTpyIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5P25ldyBGbG9hdDMyQXJyYXkocik6cikpfWZ1bmN0aW9uIFVtKHQsZSl7ZSYmKHQ9dC5tYXAocz0+c3wwKSk7Y29uc3RbcixuLGEsaV09dDtyZXR1cm57eG1pbjpyLHltaW46bix4bWF4OmEseW1heDppfX1jbGFzcyBaZSBleHRlbmRzIHd0e2NvbnN0cnVjdG9yKHt0YXNrOmUsbW9kZWw6cix0b2tlbml6ZXI6bj1udWxsLHByb2Nlc3NvcjphPW51bGx9KXtzdXBlcigpLHRoaXMudGFzaz1lLHRoaXMubW9kZWw9cix0aGlzLnRva2VuaXplcj1uLHRoaXMucHJvY2Vzc29yPWF9YXN5bmMgZGlzcG9zZSgpe2F3YWl0IHRoaXMubW9kZWwuZGlzcG9zZSgpfX1jbGFzcyBJeCBleHRlbmRzIFple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9jYWxsKGUse3RvcGs6cj0xfT17fSl7Y29uc3Qgbj10aGlzLnRva2VuaXplcihlLHtwYWRkaW5nOiEwLHRydW5jYXRpb246ITB9KSxhPWF3YWl0IHRoaXMubW9kZWwobiksaT10aGlzLm1vZGVsLmNvbmZpZy5wcm9ibGVtX3R5cGU9PT0ibXVsdGlfbGFiZWxfY2xhc3NpZmljYXRpb24iP2w9Pmwuc2lnbW9pZCgpLmRhdGE6bD0+ZHQobC5kYXRhKSxzPXRoaXMubW9kZWwuY29uZmlnLmlkMmxhYmVsLG89W107Zm9yKGNvbnN0IGwgb2YgYS5sb2dpdHMpe2NvbnN0IGQ9aShsKSxjPURyKGQscikubWFwKHU9Pih7bGFiZWw6c1t1WzBdXSxzY29yZTp1WzFdfSkpO3I9PT0xP28ucHVzaCguLi5jKTpvLnB1c2goYyl9cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl8fHI9PT0xP286b1swXX19Y2xhc3MgQXggZXh0ZW5kcyBaZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1hc3luYyBfY2FsbChlLHtpZ25vcmVfbGFiZWxzOnI9WyJPIl19PXt9KXtjb25zdCBuPUFycmF5LmlzQXJyYXkoZSksYT10aGlzLnRva2VuaXplcihuP2U6W2VdLHtwYWRkaW5nOiEwLHRydW5jYXRpb246ITB9KSxpPShhd2FpdCB0aGlzLm1vZGVsKGEpKS5sb2dpdHMscz10aGlzLm1vZGVsLmNvbmZpZy5pZDJsYWJlbCxvPVtdO2ZvcihsZXQgbD0wO2w8aS5kaW1zWzBdOysrbCl7Y29uc3QgZD1hLmlucHV0X2lkc1tsXSxjPWlbbF0sdT1bXTtmb3IobGV0IGg9MDtoPGMuZGltc1swXTsrK2gpe2NvbnN0IGY9Y1toXSxnPUN0KGYuZGF0YSlbMV0seT1zP3NbZ106YExBQkVMXyR7Z31gO2lmKHIuaW5jbHVkZXMoeSkpY29udGludWU7Y29uc3Qgdz10aGlzLnRva2VuaXplci5kZWNvZGUoW2RbaF0uaXRlbSgpXSx7c2tpcF9zcGVjaWFsX3Rva2VuczohMH0pO2lmKHc9PT0iIiljb250aW51ZTtjb25zdCB2PWR0KGYuZGF0YSk7dS5wdXNoKHtlbnRpdHk6eSxzY29yZTp2W2ddLGluZGV4Omgsd29yZDp3LHN0YXJ0Om51bGwsZW5kOm51bGx9KX1vLnB1c2godSl9cmV0dXJuIG4/bzpvWzBdfX1jbGFzcyBUeCBleHRlbmRzIFple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9jYWxsKGUscix7dG9wazpuPTF9PXt9KXtjb25zdCBhPXRoaXMudG9rZW5pemVyKGUse3RleHRfcGFpcjpyLHBhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLGk9YXdhaXQgdGhpcy5tb2RlbChhKSxzPVtdO2ZvcihsZXQgbz0wO288aS5zdGFydF9sb2dpdHMuZGltc1swXTsrK28pe2NvbnN0IGw9YS5pbnB1dF9pZHNbb10sZD1sLmluZGV4T2YodGhpcy50b2tlbml6ZXIuc2VwX3Rva2VuX2lkKSxjPUFycmF5LmZyb20oZHQoaS5zdGFydF9sb2dpdHNbb10uZGF0YSkpLm1hcCgoZixnKT0+W2YsZ10pLmZpbHRlcihmPT5mWzFdPmQpLHU9QXJyYXkuZnJvbShkdChpLmVuZF9sb2dpdHNbb10uZGF0YSkpLm1hcCgoZixnKT0+W2YsZ10pLmZpbHRlcihmPT5mWzFdPmQpLGg9bWcoYyx1KS5maWx0ZXIoZj0+ZlswXVsxXTw9ZlsxXVsxXSkubWFwKGY9PltmWzBdWzFdLGZbMV1bMV0sZlswXVswXSpmWzFdWzBdXSkuc29ydCgoZixnKT0+Z1syXS1mWzJdKTtmb3IobGV0IGY9MDtmPE1hdGgubWluKGgubGVuZ3RoLG4pOysrZil7Y29uc3RbZyx5LHddPWhbZl0sdj1bLi4ubF0uc2xpY2UoZyx5KzEpLGs9dGhpcy50b2tlbml6ZXIuZGVjb2RlKHYse3NraXBfc3BlY2lhbF90b2tlbnM6ITB9KTtzLnB1c2goe2Fuc3dlcjprLHNjb3JlOnd9KX19cmV0dXJuIG49PT0xP3NbMF06c319Y2xhc3MgT3ggZXh0ZW5kcyBaZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1hc3luYyBfY2FsbChlLHt0b3BrOnI9NX09e30pe2NvbnN0IG49dGhpcy50b2tlbml6ZXIoZSx7cGFkZGluZzohMCx0cnVuY2F0aW9uOiEwfSksYT1hd2FpdCB0aGlzLm1vZGVsKG4pLGk9W107Zm9yKGxldCBzPTA7czxuLmlucHV0X2lkcy5kaW1zWzBdOysrcyl7Y29uc3Qgbz1uLmlucHV0X2lkc1tzXSxsPW8uaW5kZXhPZih0aGlzLnRva2VuaXplci5tYXNrX3Rva2VuX2lkKTtpZihsPT09LTEpdGhyb3cgRXJyb3IoYE1hc2sgdG9rZW4gKCR7dGhpcy50b2tlbml6ZXIubWFza190b2tlbn0pIG5vdCBmb3VuZCBpbiB0ZXh0LmApO2NvbnN0IGQ9YS5sb2dpdHNbc11bbF0sYz1EcihkdChkLmRhdGEpLHIpO2kucHVzaChjLm1hcCh1PT57Y29uc3QgaD1bLi4ub107cmV0dXJuIGhbbF09dVswXSx7c2NvcmU6dVsxXSx0b2tlbjp1WzBdLHRva2VuX3N0cjp0aGlzLnRva2VuaXplci5tb2RlbC52b2NhYlt1WzBdXSxzZXF1ZW5jZTp0aGlzLnRva2VuaXplci5kZWNvZGUoaCx7c2tpcF9zcGVjaWFsX3Rva2VuczohMH0pfX0pKX1yZXR1cm4gQXJyYXkuaXNBcnJheShlKT9pOmlbMF19fWNsYXNzIHNvIGV4dGVuZHMgWmV7X2tleT0iZ2VuZXJhdGVkX3RleHQiO2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9jYWxsKGUscj17fSl7QXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKSx0aGlzLm1vZGVsLmNvbmZpZy5wcmVmaXgmJihlPWUubWFwKGw9PnRoaXMubW9kZWwuY29uZmlnLnByZWZpeCtsKSk7Y29uc3Qgbj10aGlzLm1vZGVsLmNvbmZpZy50YXNrX3NwZWNpZmljX3BhcmFtcztuJiZuW3RoaXMudGFza10mJm5bdGhpcy50YXNrXS5wcmVmaXgmJihlPWUubWFwKGw9Pm5bdGhpcy50YXNrXS5wcmVmaXgrbCkpO2NvbnN0IGE9dGhpcy50b2tlbml6ZXIsaT17cGFkZGluZzohMCx0cnVuY2F0aW9uOiEwfTtsZXQgczt0aGlzIGluc3RhbmNlb2YgV20mJiJfYnVpbGRfdHJhbnNsYXRpb25faW5wdXRzImluIGE/cz1hLl9idWlsZF90cmFuc2xhdGlvbl9pbnB1dHMoZSxpLHIpLmlucHV0X2lkczpzPWEoZSxpKS5pbnB1dF9pZHM7Y29uc3Qgbz1hd2FpdCB0aGlzLm1vZGVsLmdlbmVyYXRlKHMscik7cmV0dXJuIGEuYmF0Y2hfZGVjb2RlKG8se3NraXBfc3BlY2lhbF90b2tlbnM6ITB9KS5tYXAobD0+KHtbdGhpcy5fa2V5XTpsfSkpfX1jbGFzcyBNeCBleHRlbmRzIHNve19rZXk9InN1bW1hcnlfdGV4dCI7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9fWNsYXNzIFdtIGV4dGVuZHMgc297X2tleT0idHJhbnNsYXRpb25fdGV4dCI7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9fWNsYXNzIHp4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSxyPXt9KXtjb25zdCBuPUFycmF5LmlzQXJyYXkoZSk7bnx8KGU9W2VdKTtjb25zdCBhPXIuYWRkX3NwZWNpYWxfdG9rZW5zPz8hMTt0aGlzLnRva2VuaXplci5wYWRkaW5nX3NpZGU9ImxlZnQiO2NvbnN0e2lucHV0X2lkczppLGF0dGVudGlvbl9tYXNrOnN9PXRoaXMudG9rZW5pemVyKGUse2FkZF9zcGVjaWFsX3Rva2VuczphLHBhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLG89YXdhaXQgdGhpcy5tb2RlbC5nZW5lcmF0ZShpLHIsbnVsbCx7aW5wdXRzX2F0dGVudGlvbl9tYXNrOnN9KSxsPXRoaXMudG9rZW5pemVyLmJhdGNoX2RlY29kZShvLHtza2lwX3NwZWNpYWxfdG9rZW5zOiEwfSksZD1BcnJheS5mcm9tKHtsZW5ndGg6ZS5sZW5ndGh9LGM9PltdKTtmb3IobGV0IGM9MDtjPGwubGVuZ3RoOysrYyl7Y29uc3QgdT1NYXRoLmZsb29yKGMvby5sZW5ndGgqZS5sZW5ndGgpO2RbdV0ucHVzaCh7Z2VuZXJhdGVkX3RleHQ6bFtjXX0pfXJldHVybiFuJiZkLmxlbmd0aD09PTE/ZFswXTpkfX1jbGFzcyBCeCBleHRlbmRzIFple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMubGFiZWwyaWQ9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHRoaXMubW9kZWwuY29uZmlnLmxhYmVsMmlkKS5tYXAoKFtyLG5dKT0+W3IudG9Mb3dlckNhc2UoKSxuXSkpLHRoaXMuZW50YWlsbWVudF9pZD10aGlzLmxhYmVsMmlkLmVudGFpbG1lbnQsdGhpcy5lbnRhaWxtZW50X2lkPT09dm9pZCAwJiYoY29uc29sZS53YXJuKCJDb3VsZCBub3QgZmluZCAnZW50YWlsbWVudCcgaW4gbGFiZWwyaWQgbWFwcGluZy4gVXNpbmcgMiBhcyBlbnRhaWxtZW50X2lkLiIpLHRoaXMuZW50YWlsbWVudF9pZD0yKSx0aGlzLmNvbnRyYWRpY3Rpb25faWQ9dGhpcy5sYWJlbDJpZC5jb250cmFkaWN0aW9uPz90aGlzLmxhYmVsMmlkLm5vdF9lbnRhaWxtZW50LHRoaXMuY29udHJhZGljdGlvbl9pZD09PXZvaWQgMCYmKGNvbnNvbGUud2FybigiQ291bGQgbm90IGZpbmQgJ2NvbnRyYWRpY3Rpb24nIGluIGxhYmVsMmlkIG1hcHBpbmcuIFVzaW5nIDAgYXMgY29udHJhZGljdGlvbl9pZC4iKSx0aGlzLmNvbnRyYWRpY3Rpb25faWQ9MCl9YXN5bmMgX2NhbGwoZSxyLHtoeXBvdGhlc2lzX3RlbXBsYXRlOm49IlRoaXMgZXhhbXBsZSBpcyB7fS4iLG11bHRpX2xhYmVsOmE9ITF9PXt9KXtjb25zdCBpPUFycmF5LmlzQXJyYXkoZSk7aXx8KGU9W2VdKSxBcnJheS5pc0FycmF5KHIpfHwocj1bcl0pO2NvbnN0IHM9ci5tYXAoZD0+bi5yZXBsYWNlKCJ7fSIsZCkpLG89YXx8ci5sZW5ndGg9PT0xLGw9W107Zm9yKGNvbnN0IGQgb2YgZSl7Y29uc3QgYz1bXTtmb3IoY29uc3QgaCBvZiBzKXtjb25zdCBmPXRoaXMudG9rZW5pemVyKGQse3RleHRfcGFpcjpoLHBhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLGc9YXdhaXQgdGhpcy5tb2RlbChmKTtvP2MucHVzaChbZy5sb2dpdHMuZGF0YVt0aGlzLmNvbnRyYWRpY3Rpb25faWRdLGcubG9naXRzLmRhdGFbdGhpcy5lbnRhaWxtZW50X2lkXV0pOmMucHVzaChnLmxvZ2l0cy5kYXRhW3RoaXMuZW50YWlsbWVudF9pZF0pfWNvbnN0IHU9KG8/Yy5tYXAoaD0+ZHQoaClbMV0pOmR0KGMpKS5tYXAoKGgsZik9PltoLGZdKS5zb3J0KChoLGYpPT5mWzBdLWhbMF0pO2wucHVzaCh7c2VxdWVuY2U6ZCxsYWJlbHM6dS5tYXAoaD0+cltoWzFdXSksc2NvcmVzOnUubWFwKGg9PmhbMF0pfSl9cmV0dXJuIGk/bDpsWzBdfX1jbGFzcyBSeCBleHRlbmRzIFple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9jYWxsKGUse3Bvb2xpbmc6cj0ibm9uZSIsbm9ybWFsaXplOm49ITF9PXt9KXtjb25zdCBhPXRoaXMudG9rZW5pemVyKGUse3BhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLGk9YXdhaXQgdGhpcy5tb2RlbChhKTtsZXQgcz1pLmxhc3RfaGlkZGVuX3N0YXRlPz9pLmxvZ2l0cztpZihyIT09Im5vbmUiKWlmKHI9PT0ibWVhbiIpcz1wMChzLGEuYXR0ZW50aW9uX21hc2spO2Vsc2UgaWYocj09PSJjbHMiKXM9cy5zbGljZShudWxsLDApO2Vsc2UgdGhyb3cgRXJyb3IoYFBvb2xpbmcgbWV0aG9kICcke3J9JyBub3Qgc3VwcG9ydGVkLmApO3JldHVybiBuJiYocz1zLm5vcm1hbGl6ZSgyLC0xKSksc319Y2xhc3MgRHggZXh0ZW5kcyBaZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1hc3luYyBfY2FsbChlLHtwb29sOnI9bnVsbH09e30pe2NvbnN0IG49YXdhaXQgWnQoZSkse3BpeGVsX3ZhbHVlczphfT1hd2FpdCB0aGlzLnByb2Nlc3NvcihuKSxpPWF3YWl0IHRoaXMubW9kZWwoe3BpeGVsX3ZhbHVlczphfSk7bGV0IHM7aWYocil7aWYoISgicG9vbGVyX291dHB1dCJpbiBpKSl0aHJvdyBFcnJvcigiTm8gcG9vbGVkIG91dHB1dCB3YXMgcmV0dXJuZWQuIE1ha2Ugc3VyZSB0aGUgbW9kZWwgaGFzIGEgJ3Bvb2xlcicgbGF5ZXIgd2hlbiB1c2luZyB0aGUgJ3Bvb2wnIG9wdGlvbi4iKTtzPWkucG9vbGVyX291dHB1dH1lbHNlIHM9aS5sYXN0X2hpZGRlbl9zdGF0ZT8/aS5sb2dpdHM/P2kuaW1hZ2VfZW1iZWRzO3JldHVybiBzfX1jbGFzcyBQeCBleHRlbmRzIFple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9jYWxsKGUse3RvcGs6cj1udWxsfT17fSl7Y29uc3Qgbj0hQXJyYXkuaXNBcnJheShlKSxhPXRoaXMucHJvY2Vzc29yLmZlYXR1cmVfZXh0cmFjdG9yLmNvbmZpZy5zYW1wbGluZ19yYXRlLGk9YXdhaXQgbmkoZSxhKSxzPXRoaXMubW9kZWwuY29uZmlnLmlkMmxhYmVsLG89W107Zm9yKGNvbnN0IGwgb2YgaSl7Y29uc3QgZD1hd2FpdCB0aGlzLnByb2Nlc3NvcihsKSxjPShhd2FpdCB0aGlzLm1vZGVsKGQpKS5sb2dpdHNbMF0sdT1EcihkdChjLmRhdGEpLHIpLm1hcChoPT4oe2xhYmVsOnNbaFswXV0sc2NvcmU6aFsxXX0pKTtyPT09MT9vLnB1c2goLi4udSk6by5wdXNoKHUpfXJldHVybiFufHxyPT09MT9vOm9bMF19fWNsYXNzIE54IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSxyLHtoeXBvdGhlc2lzX3RlbXBsYXRlOm49IlRoaXMgaXMgYSBzb3VuZCBvZiB7fS4ifT17fSl7Y29uc3QgYT0hQXJyYXkuaXNBcnJheShlKTthJiYoZT1bZV0pO2NvbnN0IGk9ci5tYXAoYz0+bi5yZXBsYWNlKCJ7fSIsYykpLHM9dGhpcy50b2tlbml6ZXIoaSx7cGFkZGluZzohMCx0cnVuY2F0aW9uOiEwfSksbz10aGlzLnByb2Nlc3Nvci5mZWF0dXJlX2V4dHJhY3Rvci5jb25maWcuc2FtcGxpbmdfcmF0ZSxsPWF3YWl0IG5pKGUsbyksZD1bXTtmb3IoY29uc3QgYyBvZiBsKXtjb25zdCB1PWF3YWl0IHRoaXMucHJvY2Vzc29yKGMpLGg9YXdhaXQgdGhpcy5tb2RlbCh7Li4ucywuLi51fSksZj1kdChoLmxvZ2l0c19wZXJfYXVkaW8uZGF0YSk7ZC5wdXNoKFsuLi5mXS5tYXAoKGcseSk9Pih7c2NvcmU6ZyxsYWJlbDpyW3ldfSkpKX1yZXR1cm4gYT9kWzBdOmR9fWNsYXNzIFV4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSxyPXt9KXtzd2l0Y2godGhpcy5tb2RlbC5jb25maWcubW9kZWxfdHlwZSl7Y2FzZSJ3aGlzcGVyIjpyZXR1cm4gdGhpcy5fY2FsbF93aGlzcGVyKGUscik7Y2FzZSJ3YXYydmVjMiI6Y2FzZSJ3YXYydmVjMi1iZXJ0IjpjYXNlInVuaXNwZWVjaCI6Y2FzZSJ1bmlzcGVlY2gtc2F0IjpjYXNlImh1YmVydCI6cmV0dXJuIHRoaXMuX2NhbGxfd2F2MnZlYzIoZSxyKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgQXV0b21hdGljU3BlZWNoUmVjb2duaXRpb25QaXBlbGluZSBkb2VzIG5vdCBzdXBwb3J0IG1vZGVsIHR5cGUgJyR7dGhpcy5tb2RlbC5jb25maWcubW9kZWxfdHlwZX0nLmApfX1hc3luYyBfY2FsbF93YXYydmVjMihlLHI9e30pe3IubGFuZ3VhZ2UmJmNvbnNvbGUud2FybignYGxhbmd1YWdlYCBwYXJhbWV0ZXIgaXMgbm90IHlldCBzdXBwb3J0ZWQgZm9yIGB3YXYydmVjMmAgbW9kZWxzLCBkZWZhdWx0aW5nIHRvICJFbmdsaXNoIi4nKSxyLnRhc2smJmNvbnNvbGUud2FybignYHRhc2tgIHBhcmFtZXRlciBpcyBub3QgeWV0IHN1cHBvcnRlZCBmb3IgYHdhdjJ2ZWMyYCBtb2RlbHMsIGRlZmF1bHRpbmcgdG8gInRyYW5zY3JpYmUiLicpO2NvbnN0IG49IUFycmF5LmlzQXJyYXkoZSk7biYmKGU9W2VdKTtjb25zdCBhPXRoaXMucHJvY2Vzc29yLmZlYXR1cmVfZXh0cmFjdG9yLmNvbmZpZy5zYW1wbGluZ19yYXRlLGk9YXdhaXQgbmkoZSxhKSxzPVtdO2Zvcihjb25zdCBvIG9mIGkpe2NvbnN0IGw9YXdhaXQgdGhpcy5wcm9jZXNzb3IobyksZD0oYXdhaXQgdGhpcy5tb2RlbChsKSkubG9naXRzWzBdLGM9W107Zm9yKGNvbnN0IGggb2YgZCljLnB1c2goQ3QoaC5kYXRhKVsxXSk7Y29uc3QgdT10aGlzLnRva2VuaXplci5kZWNvZGUoYyk7cy5wdXNoKHt0ZXh0OnV9KX1yZXR1cm4gbj9zWzBdOnN9YXN5bmMgX2NhbGxfd2hpc3BlcihlLHI9e30pe2NvbnN0IG49ci5yZXR1cm5fdGltZXN0YW1wcz8/ITEsYT1yLmNodW5rX2xlbmd0aF9zPz8wLGk9ci5jaHVua19jYWxsYmFjaz8/bnVsbCxzPXIuZm9yY2VfZnVsbF9zZXF1ZW5jZXM/PyExO2xldCBvPXIuc3RyaWRlX2xlbmd0aF9zPz9udWxsO249PT0id29yZCImJihyLnJldHVybl90b2tlbl90aW1lc3RhbXBzPSEwKTtjb25zdCBsPXdvKHIsImxhbmd1YWdlIixudWxsKSxkPXdvKHIsInRhc2siLG51bGwpO2lmKGx8fGR8fG4pe2lmKHIuZm9yY2VkX2RlY29kZXJfaWRzKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHNwZWNpZnkgYGxhbmd1YWdlYC9gdGFza2AvYHJldHVybl90aW1lc3RhbXBzYCBhbmQgYGZvcmNlZF9kZWNvZGVyX2lkc2AgYXQgdGhlIHNhbWUgdGltZS4iKTtjb25zdCB3PXRoaXMudG9rZW5pemVyLmdldF9kZWNvZGVyX3Byb21wdF9pZHMoe2xhbmd1YWdlOmwsdGFzazpkLG5vX3RpbWVzdGFtcHM6IW59KTt3Lmxlbmd0aD4wJiYoci5mb3JjZWRfZGVjb2Rlcl9pZHM9dyl9Y29uc3QgYz0hQXJyYXkuaXNBcnJheShlKTtjJiYoZT1bZV0pO2NvbnN0IHU9dGhpcy5wcm9jZXNzb3IuZmVhdHVyZV9leHRyYWN0b3IuY29uZmlnLmNodW5rX2xlbmd0aC90aGlzLm1vZGVsLmNvbmZpZy5tYXhfc291cmNlX3Bvc2l0aW9ucyxoPXRoaXMucHJvY2Vzc29yLmZlYXR1cmVfZXh0cmFjdG9yLmNvbmZpZy5ob3BfbGVuZ3RoLGY9dGhpcy5wcm9jZXNzb3IuZmVhdHVyZV9leHRyYWN0b3IuY29uZmlnLnNhbXBsaW5nX3JhdGUsZz1hd2FpdCBuaShlLGYpLHk9W107Zm9yKGNvbnN0IHcgb2YgZyl7bGV0IHY9W107aWYoYT4wKXtpZihvPT09bnVsbClvPWEvNjtlbHNlIGlmKGE8PW8pdGhyb3cgRXJyb3IoImBjaHVua19sZW5ndGhfc2AgbXVzdCBiZSBsYXJnZXIgdGhhbiBgc3RyaWRlX2xlbmd0aF9zYC4iKTtjb25zdCB4PWYqYSxJPWYqbyxUPXgtMipJO2xldCBCPTA7Zm9yKDtCPHcubGVuZ3RoOyl7Y29uc3QgVT13LnN1YmFycmF5KEIsQit4KSxIPWF3YWl0IHRoaXMucHJvY2Vzc29yKFUpLEs9Qj09PTAsTz1CK1Q+PXcubGVuZ3RoO3YucHVzaCh7c3RyaWRlOltVLmxlbmd0aCxLPzA6SSxPPzA6SV0saW5wdXRfZmVhdHVyZXM6SC5pbnB1dF9mZWF0dXJlcyxpc19sYXN0Ok99KSxCKz1UfX1lbHNlIHY9W3tzdHJpZGU6W3cubGVuZ3RoLDAsMF0saW5wdXRfZmVhdHVyZXM6KGF3YWl0IHRoaXMucHJvY2Vzc29yKHcpKS5pbnB1dF9mZWF0dXJlcyxpc19sYXN0OiEwfV07Zm9yKGNvbnN0IHggb2Ygdil7ci5udW1fZnJhbWVzPU1hdGguZmxvb3IoeC5zdHJpZGVbMF0vaCk7Y29uc3QgST1hd2FpdCB0aGlzLm1vZGVsLmdlbmVyYXRlKHguaW5wdXRfZmVhdHVyZXMscik7bj09PSJ3b3JkIj8oeC50b2tlbnM9SS5zZXF1ZW5jZXNbMF0seC50b2tlbl90aW1lc3RhbXBzPUkudG9rZW5fdGltZXN0YW1wcy50b2xpc3QoKVswXS5tYXAoVD0+YW4oVCwyKSkpOngudG9rZW5zPUlbMF0seC5zdHJpZGU9eC5zdHJpZGUubWFwKFQ9PlQvZiksaSE9PW51bGwmJmkoeCl9Y29uc3RbayxFXT10aGlzLnRva2VuaXplci5fZGVjb2RlX2Fzcih2LHt0aW1lX3ByZWNpc2lvbjp1LHJldHVybl90aW1lc3RhbXBzOm4sZm9yY2VfZnVsbF9zZXF1ZW5jZXM6c30pO3kucHVzaCh7dGV4dDprLC4uLkV9KX1yZXR1cm4gYz95WzBdOnl9fWNsYXNzIFd4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSxyPXt9KXtjb25zdCBuPUFycmF5LmlzQXJyYXkoZSksYT1hd2FpdCBadChlKSx7cGl4ZWxfdmFsdWVzOml9PWF3YWl0IHRoaXMucHJvY2Vzc29yKGEpLHM9W107Zm9yKGNvbnN0IG8gb2YgaSl7by5kaW1zPVsxLC4uLm8uZGltc107Y29uc3QgbD1hd2FpdCB0aGlzLm1vZGVsLmdlbmVyYXRlKG8sciksZD10aGlzLnRva2VuaXplci5iYXRjaF9kZWNvZGUobCx7c2tpcF9zcGVjaWFsX3Rva2VuczohMH0pLm1hcChjPT4oe2dlbmVyYXRlZF90ZXh0OmMudHJpbSgpfSkpO3MucHVzaChkKX1yZXR1cm4gbj9zOnNbMF19fWNsYXNzIEx4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSx7dG9wazpyPTF9PXt9KXtjb25zdCBuPUFycmF5LmlzQXJyYXkoZSksYT1hd2FpdCBadChlKSx7cGl4ZWxfdmFsdWVzOml9PWF3YWl0IHRoaXMucHJvY2Vzc29yKGEpLHM9YXdhaXQgdGhpcy5tb2RlbCh7cGl4ZWxfdmFsdWVzOml9KSxvPXRoaXMubW9kZWwuY29uZmlnLmlkMmxhYmVsLGw9W107Zm9yKGNvbnN0IGQgb2Ygcy5sb2dpdHMpe2NvbnN0IGM9RHIoZHQoZC5kYXRhKSxyKS5tYXAodT0+KHtsYWJlbDpvW3VbMF1dLHNjb3JlOnVbMV19KSk7cj09PTE/bC5wdXNoKC4uLmMpOmwucHVzaChjKX1yZXR1cm4gbnx8cj09PTE/bDpsWzBdfX1jbGFzcyBGeCBleHRlbmRzIFple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuc3VidGFza3NfbWFwcGluZz17cGFub3B0aWM6InBvc3RfcHJvY2Vzc19wYW5vcHRpY19zZWdtZW50YXRpb24iLGluc3RhbmNlOiJwb3N0X3Byb2Nlc3NfaW5zdGFuY2Vfc2VnbWVudGF0aW9uIixzZW1hbnRpYzoicG9zdF9wcm9jZXNzX3NlbWFudGljX3NlZ21lbnRhdGlvbiJ9fWFzeW5jIF9jYWxsKGUse3RocmVzaG9sZDpyPS41LG1hc2tfdGhyZXNob2xkOm49LjUsb3ZlcmxhcF9tYXNrX2FyZWFfdGhyZXNob2xkOmE9LjgsbGFiZWxfaWRzX3RvX2Z1c2U6aT1udWxsLHRhcmdldF9zaXplczpzPW51bGwsc3VidGFzazpvPW51bGx9PXt9KXtpZihBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aCE9PTEpdGhyb3cgRXJyb3IoIkltYWdlIHNlZ21lbnRhdGlvbiBwaXBlbGluZSBjdXJyZW50bHkgb25seSBzdXBwb3J0cyBhIGJhdGNoIHNpemUgb2YgMS4iKTtjb25zdCBsPWF3YWl0IFp0KGUpLGQ9bC5tYXAodz0+W3cuaGVpZ2h0LHcud2lkdGhdKSx7cGl4ZWxfdmFsdWVzOmMscGl4ZWxfbWFzazp1fT1hd2FpdCB0aGlzLnByb2Nlc3NvcihsKSxoPWF3YWl0IHRoaXMubW9kZWwoe3BpeGVsX3ZhbHVlczpjLHBpeGVsX21hc2s6dX0pO2xldCBmPW51bGw7aWYobyE9PW51bGwpZj10aGlzLnN1YnRhc2tzX21hcHBpbmdbb107ZWxzZSBmb3IobGV0W3csdl1vZiBPYmplY3QuZW50cmllcyh0aGlzLnN1YnRhc2tzX21hcHBpbmcpKWlmKHYgaW4gdGhpcy5wcm9jZXNzb3IuZmVhdHVyZV9leHRyYWN0b3Ipe2Y9dGhpcy5wcm9jZXNzb3IuZmVhdHVyZV9leHRyYWN0b3Jbdl0uYmluZCh0aGlzLnByb2Nlc3Nvci5mZWF0dXJlX2V4dHJhY3Rvciksbz13O2JyZWFrfWNvbnN0IGc9dGhpcy5tb2RlbC5jb25maWcuaWQybGFiZWwseT1bXTtpZihvPT09InBhbm9wdGljInx8bz09PSJpbnN0YW5jZSIpe2NvbnN0IHc9ZihoLHIsbixhLGkscz8/ZClbMF0sdj13LnNlZ21lbnRhdGlvbjtmb3IoY29uc3QgayBvZiB3LnNlZ21lbnRzX2luZm8pe2NvbnN0IEU9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHYuZGF0YS5sZW5ndGgpO2ZvcihsZXQgST0wO0k8di5kYXRhLmxlbmd0aDsrK0kpdi5kYXRhW0ldPT09ay5pZCYmKEVbSV09MjU1KTtjb25zdCB4PW5ldyBtdChFLHYuZGltc1sxXSx2LmRpbXNbMF0sMSk7eS5wdXNoKHtzY29yZTprLnNjb3JlLGxhYmVsOmdbay5sYWJlbF9pZF0sbWFzazp4fSl9fWVsc2UgaWYobz09PSJzZW1hbnRpYyIpe2NvbnN0e3NlZ21lbnRhdGlvbjp3LGxhYmVsczp2fT1mKGgscz8/ZClbMF07Zm9yKGNvbnN0IGsgb2Ygdil7Y29uc3QgRT1uZXcgVWludDhDbGFtcGVkQXJyYXkody5kYXRhLmxlbmd0aCk7Zm9yKGxldCBJPTA7STx3LmRhdGEubGVuZ3RoOysrSSl3LmRhdGFbSV09PT1rJiYoRVtJXT0yNTUpO2NvbnN0IHg9bmV3IG10KEUsdy5kaW1zWzFdLHcuZGltc1swXSwxKTt5LnB1c2goe3Njb3JlOm51bGwsbGFiZWw6Z1trXSxtYXNrOnh9KX19ZWxzZSB0aHJvdyBFcnJvcihgU3VidGFzayAke299IG5vdCBzdXBwb3J0ZWQuYCk7cmV0dXJuIHl9fWNsYXNzIFZ4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSxyLHtoeXBvdGhlc2lzX3RlbXBsYXRlOm49IlRoaXMgaXMgYSBwaG90byBvZiB7fSJ9PXt9KXtjb25zdCBhPUFycmF5LmlzQXJyYXkoZSksaT1hd2FpdCBadChlKSxzPXIubWFwKGg9Pm4ucmVwbGFjZSgie30iLGgpKSxvPXRoaXMudG9rZW5pemVyKHMse3BhZGRpbmc6dGhpcy5tb2RlbC5jb25maWcubW9kZWxfdHlwZT09PSJzaWdsaXAiPyJtYXhfbGVuZ3RoIjohMCx0cnVuY2F0aW9uOiEwfSkse3BpeGVsX3ZhbHVlczpsfT1hd2FpdCB0aGlzLnByb2Nlc3NvcihpKSxkPWF3YWl0IHRoaXMubW9kZWwoey4uLm8scGl4ZWxfdmFsdWVzOmx9KSxjPXRoaXMubW9kZWwuY29uZmlnLm1vZGVsX3R5cGU9PT0ic2lnbGlwIj9oPT5oLnNpZ21vaWQoKS5kYXRhOmg9PmR0KGguZGF0YSksdT1bXTtmb3IoY29uc3QgaCBvZiBkLmxvZ2l0c19wZXJfaW1hZ2Upe2NvbnN0IGY9Wy4uLmMoaCldLm1hcCgoZyx5KT0+KHtzY29yZTpnLGxhYmVsOnJbeV19KSk7Zi5zb3J0KChnLHkpPT55LnNjb3JlLWcuc2NvcmUpLHUucHVzaChmKX1yZXR1cm4gYT91OnVbMF19fWNsYXNzIEh4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSx7dGhyZXNob2xkOnI9LjkscGVyY2VudGFnZTpuPSExfT17fSl7Y29uc3QgYT1BcnJheS5pc0FycmF5KGUpO2lmKGEmJmUubGVuZ3RoIT09MSl0aHJvdyBFcnJvcigiT2JqZWN0IGRldGVjdGlvbiBwaXBlbGluZSBjdXJyZW50bHkgb25seSBzdXBwb3J0cyBhIGJhdGNoIHNpemUgb2YgMS4iKTtjb25zdCBpPWF3YWl0IFp0KGUpLHM9bj9udWxsOmkubWFwKGY9PltmLmhlaWdodCxmLndpZHRoXSkse3BpeGVsX3ZhbHVlczpvLHBpeGVsX21hc2s6bH09YXdhaXQgdGhpcy5wcm9jZXNzb3IoaSksZD1hd2FpdCB0aGlzLm1vZGVsKHtwaXhlbF92YWx1ZXM6byxwaXhlbF9tYXNrOmx9KSxjPXRoaXMucHJvY2Vzc29yLmZlYXR1cmVfZXh0cmFjdG9yLnBvc3RfcHJvY2Vzc19vYmplY3RfZGV0ZWN0aW9uKGQscixzKSx1PXRoaXMubW9kZWwuY29uZmlnLmlkMmxhYmVsLGg9Yy5tYXAoZj0+Zi5ib3hlcy5tYXAoKGcseSk9Pih7c2NvcmU6Zi5zY29yZXNbeV0sbGFiZWw6dVtmLmNsYXNzZXNbeV1dLGJveDpVbShnLCFuKX0pKSk7cmV0dXJuIGE/aDpoWzBdfX1jbGFzcyBHeCBleHRlbmRzIFple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9jYWxsKGUscix7dGhyZXNob2xkOm49LjEsdG9wazphPW51bGwscGVyY2VudGFnZTppPSExfT17fSl7Y29uc3Qgcz1BcnJheS5pc0FycmF5KGUpLG89YXdhaXQgWnQoZSksbD10aGlzLnRva2VuaXplcihyLHtwYWRkaW5nOiEwLHRydW5jYXRpb246ITB9KSxkPWF3YWl0IHRoaXMucHJvY2Vzc29yKG8pLGM9W107Zm9yKGxldCB1PTA7dTxvLmxlbmd0aDsrK3Upe2NvbnN0IGg9b1t1XSxmPWk/bnVsbDpbW2guaGVpZ2h0LGgud2lkdGhdXSxnPWQucGl4ZWxfdmFsdWVzW3VdLnVuc3F1ZWV6ZV8oMCkseT1hd2FpdCB0aGlzLm1vZGVsKHsuLi5sLHBpeGVsX3ZhbHVlczpnfSksdz10aGlzLnByb2Nlc3Nvci5mZWF0dXJlX2V4dHJhY3Rvci5wb3N0X3Byb2Nlc3Nfb2JqZWN0X2RldGVjdGlvbih5LG4sZiwhMClbMF07bGV0IHY9dy5ib3hlcy5tYXAoKGssRSk9Pih7c2NvcmU6dy5zY29yZXNbRV0sbGFiZWw6clt3LmNsYXNzZXNbRV1dLGJveDpVbShrLCFpKX0pKS5zb3J0KChrLEUpPT5FLnNjb3JlLWsuc2NvcmUpO2EhPT1udWxsJiYodj12LnNsaWNlKDAsYSkpLGMucHVzaCh2KX1yZXR1cm4gcz9jOmNbMF19fWNsYXNzIHF4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSxyLG49e30pe2NvbnN0IGE9KGF3YWl0IFp0KGUpKVswXSx7cGl4ZWxfdmFsdWVzOml9PWF3YWl0IHRoaXMucHJvY2Vzc29yKGEpLHM9YDxzX2RvY3ZxYT48c19xdWVzdGlvbj4ke3J9PC9zX3F1ZXN0aW9uPjxzX2Fuc3dlcj5gLG89dGhpcy50b2tlbml6ZXIocyx7YWRkX3NwZWNpYWxfdG9rZW5zOiExLHBhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLmlucHV0X2lkcyxsPWF3YWl0IHRoaXMubW9kZWwuZ2VuZXJhdGUoaSx7Li4ubixkZWNvZGVyX2lucHV0X2lkczpvLG1heF9sZW5ndGg6dGhpcy5tb2RlbC5jb25maWcuZGVjb2Rlci5tYXhfcG9zaXRpb25fZW1iZWRkaW5nc30pLGQ9dGhpcy50b2tlbml6ZXIuYmF0Y2hfZGVjb2RlKGwpWzBdLm1hdGNoKC88c19hbnN3ZXI+KC4qPyk8XC9zX2Fuc3dlcj4vKTtsZXQgYz1udWxsO3JldHVybiBkJiZkLmxlbmd0aD49MiYmKGM9ZFsxXS50cmltKCkpLFt7YW5zd2VyOmN9XX19Y2xhc3MganggZXh0ZW5kcyBaZXtERUZBVUxUX1ZPQ09ERVJfSUQ9Ilhlbm92YS9zcGVlY2h0NV9oaWZpZ2FuIjtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnZvY29kZXI9ZS52b2NvZGVyPz9udWxsfWFzeW5jIF9jYWxsKGUse3NwZWFrZXJfZW1iZWRkaW5nczpyPW51bGx9PXt9KXtyZXR1cm4gdGhpcy5wcm9jZXNzb3I/dGhpcy5fY2FsbF90ZXh0X3RvX3NwZWN0cm9ncmFtKGUse3NwZWFrZXJfZW1iZWRkaW5nczpyfSk6dGhpcy5fY2FsbF90ZXh0X3RvX3dhdmVmb3JtKGUpfWFzeW5jIF9jYWxsX3RleHRfdG9fd2F2ZWZvcm0oZSl7Y29uc3Qgcj10aGlzLnRva2VuaXplcihlLHtwYWRkaW5nOiEwLHRydW5jYXRpb246ITB9KSx7d2F2ZWZvcm06bn09YXdhaXQgdGhpcy5tb2RlbChyKSxhPXRoaXMubW9kZWwuY29uZmlnLnNhbXBsaW5nX3JhdGU7cmV0dXJue2F1ZGlvOm4uZGF0YSxzYW1wbGluZ19yYXRlOmF9fWFzeW5jIF9jYWxsX3RleHRfdG9fc3BlY3Ryb2dyYW0oZSx7c3BlYWtlcl9lbWJlZGRpbmdzOnJ9KXtpZih0aGlzLnZvY29kZXJ8fChjb25zb2xlLmxvZygiTm8gdm9jb2RlciBzcGVjaWZpZWQsIHVzaW5nIGRlZmF1bHQgSGlmaUdhbiB2b2NvZGVyLiIpLHRoaXMudm9jb2Rlcj1hd2FpdCBIbi5mcm9tX3ByZXRyYWluZWQodGhpcy5ERUZBVUxUX1ZPQ09ERVJfSUQse2R0eXBlOiJmcDMyIn0pKSwodHlwZW9mIHI9PSJzdHJpbmcifHxyIGluc3RhbmNlb2YgVVJMKSYmKHI9bmV3IEZsb2F0MzJBcnJheShhd2FpdChhd2FpdCBmZXRjaChyKSkuYXJyYXlCdWZmZXIoKSkpLHIgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpcj1uZXcgcmUoImZsb2F0MzIiLHIsWzEsci5sZW5ndGhdKTtlbHNlIGlmKCEociBpbnN0YW5jZW9mIHJlKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWFrZXIgZW1iZWRkaW5ncyBtdXN0IGJlIGEgYFRlbnNvcmAsIGBGbG9hdDMyQXJyYXlgLCBgc3RyaW5nYCwgb3IgYFVSTGAuIik7Y29uc3R7aW5wdXRfaWRzOm59PXRoaXMudG9rZW5pemVyKGUse3BhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLHt3YXZlZm9ybTphfT1hd2FpdCB0aGlzLm1vZGVsLmdlbmVyYXRlX3NwZWVjaChuLHIse3ZvY29kZXI6dGhpcy52b2NvZGVyfSksaT10aGlzLnByb2Nlc3Nvci5mZWF0dXJlX2V4dHJhY3Rvci5jb25maWcuc2FtcGxpbmdfcmF0ZTtyZXR1cm57YXVkaW86YS5kYXRhLHNhbXBsaW5nX3JhdGU6aX19fWNsYXNzIEt4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSl7Y29uc3Qgcj1hd2FpdCBadChlKSxuPWF3YWl0IHRoaXMucHJvY2Vzc29yKHIpLGE9YXdhaXQgdGhpcy5tb2RlbChuKSxpPVtdO2Zvcihjb25zdCBzIG9mIGEucmVjb25zdHJ1Y3Rpb24pe2NvbnN0IG89cy5zcXVlZXplKCkuY2xhbXBfKDAsMSkubXVsXygyNTUpLnJvdW5kXygpLnRvKCJ1aW50OCIpO2kucHVzaChtdC5mcm9tVGVuc29yKG8pKX1yZXR1cm4gaS5sZW5ndGg+MT9pOmlbMF19fWNsYXNzIFl4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSl7Y29uc3Qgcj1hd2FpdCBadChlKSxuPWF3YWl0IHRoaXMucHJvY2Vzc29yKHIpLHtwcmVkaWN0ZWRfZGVwdGg6YX09YXdhaXQgdGhpcy5tb2RlbChuKSxpPVtdO2ZvcihsZXQgcz0wO3M8ci5sZW5ndGg7KytzKXtjb25zdCBvPSRuKGFbc10scltzXS5zaXplLnJldmVyc2UoKSwiYmlsaW5lYXIiLCExKSxsPW8ubXVsXygyNTUvQ3Qoby5kYXRhKVswXSkudG8oInVpbnQ4Iik7aS5wdXNoKHtwcmVkaWN0ZWRfZGVwdGg6YVtzXSxkZXB0aDptdC5mcm9tVGVuc29yKGwpfSl9cmV0dXJuIGkubGVuZ3RoPjE/aTppWzBdfX1jb25zdCBMbT1PYmplY3QuZnJlZXplKHsidGV4dC1jbGFzc2lmaWNhdGlvbiI6e3Rva2VuaXplcjp1dCxwaXBlbGluZTpJeCxtb2RlbDpBbSxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2Rpc3RpbGJlcnQtYmFzZS11bmNhc2VkLWZpbmV0dW5lZC1zc3QtMi1lbmdsaXNoIn0sdHlwZToidGV4dCJ9LCJ0b2tlbi1jbGFzc2lmaWNhdGlvbiI6e3Rva2VuaXplcjp1dCxwaXBlbGluZTpBeCxtb2RlbDptMSxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2JlcnQtYmFzZS1tdWx0aWxpbmd1YWwtY2FzZWQtbmVyLWhybCJ9LHR5cGU6InRleHQifSwicXVlc3Rpb24tYW5zd2VyaW5nIjp7dG9rZW5pemVyOnV0LHBpcGVsaW5lOlR4LG1vZGVsOmIxLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvZGlzdGlsYmVydC1iYXNlLWNhc2VkLWRpc3RpbGxlZC1zcXVhZCJ9LHR5cGU6InRleHQifSwiZmlsbC1tYXNrIjp7dG9rZW5pemVyOnV0LHBpcGVsaW5lOk94LG1vZGVsOnYxLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvYmVydC1iYXNlLXVuY2FzZWQifSx0eXBlOiJ0ZXh0In0sc3VtbWFyaXphdGlvbjp7dG9rZW5pemVyOnV0LHBpcGVsaW5lOk14LG1vZGVsOnJvLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvZGlzdGlsYmFydC1jbm4tNi02In0sdHlwZToidGV4dCJ9LHRyYW5zbGF0aW9uOnt0b2tlbml6ZXI6dXQscGlwZWxpbmU6V20sbW9kZWw6cm8sZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS90NS1zbWFsbCJ9LHR5cGU6InRleHQifSwidGV4dDJ0ZXh0LWdlbmVyYXRpb24iOnt0b2tlbml6ZXI6dXQscGlwZWxpbmU6c28sbW9kZWw6cm8sZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9mbGFuLXQ1LXNtYWxsIn0sdHlwZToidGV4dCJ9LCJ0ZXh0LWdlbmVyYXRpb24iOnt0b2tlbml6ZXI6dXQscGlwZWxpbmU6engsbW9kZWw6dzEsZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9ncHQyIn0sdHlwZToidGV4dCJ9LCJ6ZXJvLXNob3QtY2xhc3NpZmljYXRpb24iOnt0b2tlbml6ZXI6dXQscGlwZWxpbmU6QngsbW9kZWw6QW0sZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9kaXN0aWxiZXJ0LWJhc2UtdW5jYXNlZC1tbmxpIn0sdHlwZToidGV4dCJ9LCJhdWRpby1jbGFzc2lmaWNhdGlvbiI6e3BpcGVsaW5lOlB4LG1vZGVsOkExLHByb2Nlc3NvcjpfdCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL3dhdjJ2ZWMyLWJhc2Utc3VwZXJiLWtzIn0sdHlwZToiYXVkaW8ifSwiemVyby1zaG90LWF1ZGlvLWNsYXNzaWZpY2F0aW9uIjp7dG9rZW5pemVyOnV0LHBpcGVsaW5lOk54LG1vZGVsOkhuLHByb2Nlc3NvcjpfdCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2NsYXAtaHRzYXQtdW5mdXNlZCJ9LHR5cGU6Im11bHRpbW9kYWwifSwiYXV0b21hdGljLXNwZWVjaC1yZWNvZ25pdGlvbiI6e3Rva2VuaXplcjp1dCxwaXBlbGluZTpVeCxtb2RlbDpbZzEsSTFdLHByb2Nlc3NvcjpfdCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL3doaXNwZXItdGlueS5lbiJ9LHR5cGU6Im11bHRpbW9kYWwifSwidGV4dC10by1hdWRpbyI6e3Rva2VuaXplcjp1dCxwaXBlbGluZTpqeCxtb2RlbDpbeTEsXzFdLHByb2Nlc3NvcjpbX3QsbnVsbF0sZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9zcGVlY2h0NV90dHMifSx0eXBlOiJ0ZXh0In0sImltYWdlLXRvLXRleHQiOnt0b2tlbml6ZXI6dXQscGlwZWxpbmU6V3gsbW9kZWw6JDEscHJvY2Vzc29yOl90LGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvdml0LWdwdDItaW1hZ2UtY2FwdGlvbmluZyJ9LHR5cGU6Im11bHRpbW9kYWwifSwiaW1hZ2UtY2xhc3NpZmljYXRpb24iOntwaXBlbGluZTpMeCxtb2RlbDp4MSxwcm9jZXNzb3I6X3QsZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS92aXQtYmFzZS1wYXRjaDE2LTIyNCJ9LHR5cGU6Im11bHRpbW9kYWwifSwiaW1hZ2Utc2VnbWVudGF0aW9uIjp7cGlwZWxpbmU6RngsbW9kZWw6W2sxLFMxXSxwcm9jZXNzb3I6X3QsZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9kZXRyLXJlc25ldC01MC1wYW5vcHRpYyJ9LHR5cGU6Im11bHRpbW9kYWwifSwiemVyby1zaG90LWltYWdlLWNsYXNzaWZpY2F0aW9uIjp7dG9rZW5pemVyOnV0LHBpcGVsaW5lOlZ4LG1vZGVsOkhuLHByb2Nlc3NvcjpfdCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2NsaXAtdml0LWJhc2UtcGF0Y2gzMiJ9LHR5cGU6Im11bHRpbW9kYWwifSwib2JqZWN0LWRldGVjdGlvbiI6e3BpcGVsaW5lOkh4LG1vZGVsOkUxLHByb2Nlc3NvcjpfdCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2RldHItcmVzbmV0LTUwIn0sdHlwZToibXVsdGltb2RhbCJ9LCJ6ZXJvLXNob3Qtb2JqZWN0LWRldGVjdGlvbiI6e3Rva2VuaXplcjp1dCxwaXBlbGluZTpHeCxtb2RlbDpDMSxwcm9jZXNzb3I6X3QsZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9vd2x2aXQtYmFzZS1wYXRjaDMyIn0sdHlwZToibXVsdGltb2RhbCJ9LCJkb2N1bWVudC1xdWVzdGlvbi1hbnN3ZXJpbmciOnt0b2tlbml6ZXI6dXQscGlwZWxpbmU6cXgsbW9kZWw6VDEscHJvY2Vzc29yOl90LGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvZG9udXQtYmFzZS1maW5ldHVuZWQtZG9jdnFhIn0sdHlwZToibXVsdGltb2RhbCJ9LCJpbWFnZS10by1pbWFnZSI6e3BpcGVsaW5lOkt4LG1vZGVsOk8xLHByb2Nlc3NvcjpfdCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL3N3aW4yU1ItY2xhc3NpY2FsLXNyLXgyLTY0In0sdHlwZToiaW1hZ2UifSwiZGVwdGgtZXN0aW1hdGlvbiI6e3BpcGVsaW5lOll4LG1vZGVsOk0xLHByb2Nlc3NvcjpfdCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2RwdC1sYXJnZSJ9LHR5cGU6ImltYWdlIn0sImZlYXR1cmUtZXh0cmFjdGlvbiI6e3Rva2VuaXplcjp1dCxwaXBlbGluZTpSeCxtb2RlbDpIbixkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2FsbC1NaW5pTE0tTDYtdjIifSx0eXBlOiJ0ZXh0In0sImltYWdlLWZlYXR1cmUtZXh0cmFjdGlvbiI6e3Byb2Nlc3NvcjpfdCxwaXBlbGluZTpEeCxtb2RlbDpbejEsSG5dLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvdml0LWJhc2UtcGF0Y2gxNi0yMjQtaW4yMWsifSx0eXBlOiJpbWFnZSJ9fSksWHg9T2JqZWN0LmZyZWV6ZSh7InNlbnRpbWVudC1hbmFseXNpcyI6InRleHQtY2xhc3NpZmljYXRpb24iLG5lcjoidG9rZW4tY2xhc3NpZmljYXRpb24iLGFzcjoiYXV0b21hdGljLXNwZWVjaC1yZWNvZ25pdGlvbiIsInRleHQtdG8tc3BlZWNoIjoidGV4dC10by1hdWRpbyIsZW1iZWRkaW5nczoiZmVhdHVyZS1leHRyYWN0aW9uIn0pO2FzeW5jIGZ1bmN0aW9uIFF4KHQsZT1udWxsLHtwcm9ncmVzc19jYWxsYmFjazpyPW51bGwsY29uZmlnOm49bnVsbCxjYWNoZV9kaXI6YT1udWxsLGxvY2FsX2ZpbGVzX29ubHk6aT0hMSxyZXZpc2lvbjpzPSJtYWluIixkZXZpY2U6bz1udWxsLGR0eXBlOmw9bnVsbCxzZXNzaW9uX29wdGlvbnM6ZD17fX09e30pe3Q9WHhbdF0/P3Q7Y29uc3QgYz1MbVt0LnNwbGl0KCJfIiwxKVswXV07aWYoIWMpdGhyb3cgRXJyb3IoYFVuc3VwcG9ydGVkIHBpcGVsaW5lOiAke3R9LiBNdXN0IGJlIG9uZSBvZiBbJHtPYmplY3Qua2V5cyhMbSl9XWApO2V8fChlPWMuZGVmYXVsdC5tb2RlbCxjb25zb2xlLmxvZyhgTm8gbW9kZWwgc3BlY2lmaWVkLiBVc2luZyBkZWZhdWx0IG1vZGVsOiAiJHtlfSIuYCkpO2NvbnN0IHU9e3Byb2dyZXNzX2NhbGxiYWNrOnIsY29uZmlnOm4sY2FjaGVfZGlyOmEsbG9jYWxfZmlsZXNfb25seTppLHJldmlzaW9uOnMsZGV2aWNlOm8sZHR5cGU6bCxzZXNzaW9uX29wdGlvbnM6ZH0saD1uZXcgTWFwKFtbInRva2VuaXplciIsYy50b2tlbml6ZXJdLFsibW9kZWwiLGMubW9kZWxdLFsicHJvY2Vzc29yIixjLnByb2Nlc3Nvcl1dKSxmPWF3YWl0IFp4KGgsZSx1KTtmLnRhc2s9dCxCcihyLHtzdGF0dXM6InJlYWR5Iix0YXNrOnQsbW9kZWw6ZX0pO2NvbnN0IGc9Yy5waXBlbGluZTtyZXR1cm4gbmV3IGcoZil9YXN5bmMgZnVuY3Rpb24gWngodCxlLHIpe2NvbnN0IG49T2JqZWN0LmNyZWF0ZShudWxsKSxhPVtdO2ZvcihsZXRbaSxzXW9mIHQuZW50cmllcygpKXtpZighcyljb250aW51ZTtsZXQgbztBcnJheS5pc0FycmF5KHMpP289bmV3IFByb21pc2UoYXN5bmMobCxkKT0+e2xldCBjO2ZvcihsZXQgdSBvZiBzKXtpZih1PT09bnVsbCl7bChudWxsKTtyZXR1cm59dHJ5e2woYXdhaXQgdS5mcm9tX3ByZXRyYWluZWQoZSxyKSk7cmV0dXJufWNhdGNoKGgpe2lmKGgubWVzc2FnZT8uaW5jbHVkZXMoIlVuc3VwcG9ydGVkIG1vZGVsIHR5cGUiKSljPWg7ZWxzZXtkKGgpO3JldHVybn19fWQoYyl9KTpvPXMuZnJvbV9wcmV0cmFpbmVkKGUsciksbltpXT1vLGEucHVzaChvKX1hd2FpdCBQcm9taXNlLmFsbChhKTtmb3IobGV0W2ksc11vZiBPYmplY3QuZW50cmllcyhuKSluW2ldPWF3YWl0IHM7cmV0dXJuIG59Y29uc3QgSng9Ii9tb2RlbHMvIixlMz0iL21vZGVscy93YXNtL29ydC13ZWJAMV8xN18xLyI7dHQuYWxsb3dMb2NhbE1vZGVscz0hMCx0dC5hbGxvd1JlbW90ZU1vZGVscz0hMTtjb25zdCB0Mz17dHJhbnNsYXRpb246ZzMsInRleHQtZ2VuZXJhdGlvbiI6XzMsImNvZGUtY29tcGxldGlvbiI6eTMsIm1hc2tlZC1sYW5ndWFnZS1tb2RlbGxpbmciOnczLCJzZXF1ZW5jZS1jbGFzc2lmaWNhdGlvbiI6djMsInRva2VuLWNsYXNzaWZpY2F0aW9uIjpiMywiemVyby1zaG90LWNsYXNzaWZpY2F0aW9uIjokMywicXVlc3Rpb24tYW5zd2VyaW5nIjp4MyxzdW1tYXJpemF0aW9uOmszLCJhdXRvbWF0aWMtc3BlZWNoLXJlY29nbml0aW9uIjpTMywiaW1hZ2UtdG8tdGV4dCI6RTMsImltYWdlLWNsYXNzaWZpY2F0aW9uIjpDMywiemVyby1zaG90LWltYWdlLWNsYXNzaWZpY2F0aW9uIjpJMywib2JqZWN0LWRldGVjdGlvbiI6QTN9O3NlbGYuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsYXN5bmMgdD0+e2NvbnN0e2Jhc2VVUkk6ZX09dC5kYXRhO2UmJih0dC5sb2NhbE1vZGVsUGF0aD1uZXcgVVJMKGUpLm9yaWdpbitKeCx0dC5iYWNrZW5kcy5vbm54Lndhc20ud2FzbVBhdGhzPW5ldyBVUkwoZSkub3JpZ2luK2UzKTtjb25zdCByPXQuZGF0YTtsZXQgbj10M1tyLnRhc2tdO2lmKCFuKXJldHVybjtsZXQgYT1hd2FpdCBuKHIpO3NlbGYucG9zdE1lc3NhZ2Uoe3Rhc2s6ci50YXNrLHR5cGU6InJlc3VsdCIsZGF0YTphfSl9KTtjbGFzcyB5dHtzdGF0aWMgdGFzaz1udWxsO3N0YXRpYyBtb2RlbD1udWxsO3N0YXRpYyBpbnN0YW5jZT1udWxsO2NvbnN0cnVjdG9yKGUscil7dGhpcy50b2tlbml6ZXI9ZSx0aGlzLm1vZGVsPXJ9c3RhdGljIGdldEluc3RhbmNlKGU9bnVsbCl7aWYodGhpcy50YXNrPT09bnVsbHx8dGhpcy5tb2RlbD09PW51bGwpdGhyb3cgRXJyb3IoIk11c3Qgc2V0IHRhc2sgYW5kIG1vZGVsIik7cmV0dXJuIHRoaXMuaW5zdGFuY2U9PT1udWxsJiYodGhpcy5pbnN0YW5jZT1ReCh0aGlzLnRhc2ssdGhpcy5tb2RlbCx7cHJvZ3Jlc3NfY2FsbGJhY2s6ZX0pKSx0aGlzLmluc3RhbmNlfX1jbGFzcyByMyBleHRlbmRzIHl0e3N0YXRpYyB0YXNrPSJ0cmFuc2xhdGlvbiI7c3RhdGljIG1vZGVsPSJYZW5vdmEvdDUtc21hbGwifWNsYXNzIG4zIGV4dGVuZHMgeXR7c3RhdGljIHRhc2s9InRleHQtZ2VuZXJhdGlvbiI7c3RhdGljIG1vZGVsPSJYZW5vdmEvZGlzdGlsZ3B0MiJ9Y2xhc3MgYTMgZXh0ZW5kcyB5dHtzdGF0aWMgdGFzaz0idGV4dC1nZW5lcmF0aW9uIjtzdGF0aWMgbW9kZWw9Ilhlbm92YS9jb2RlZ2VuLTM1ME0tbW9ubyJ9Y2xhc3MgaTMgZXh0ZW5kcyB5dHtzdGF0aWMgdGFzaz0iZmlsbC1tYXNrIjtzdGF0aWMgbW9kZWw9Ilhlbm92YS9iZXJ0LWJhc2UtY2FzZWQifWNsYXNzIHMzIGV4dGVuZHMgeXR7c3RhdGljIHRhc2s9InRleHQtY2xhc3NpZmljYXRpb24iO3N0YXRpYyBtb2RlbD0iWGVub3ZhL2JlcnQtYmFzZS1tdWx0aWxpbmd1YWwtdW5jYXNlZC1zZW50aW1lbnQifWNsYXNzIG8zIGV4dGVuZHMgeXR7c3RhdGljIHRhc2s9InRva2VuLWNsYXNzaWZpY2F0aW9uIjtzdGF0aWMgbW9kZWw9Ilhlbm92YS9iZXJ0LWJhc2UtbXVsdGlsaW5ndWFsLWNhc2VkLW5lci1ocmwifWNsYXNzIGwzIGV4dGVuZHMgeXR7c3RhdGljIHRhc2s9Inplcm8tc2hvdC1jbGFzc2lmaWNhdGlvbiI7c3RhdGljIG1vZGVsPSJYZW5vdmEvZGlzdGlsYmVydC1iYXNlLXVuY2FzZWQtbW5saSJ9Y2xhc3MgdTMgZXh0ZW5kcyB5dHtzdGF0aWMgdGFzaz0icXVlc3Rpb24tYW5zd2VyaW5nIjtzdGF0aWMgbW9kZWw9Ilhlbm92YS9kaXN0aWxiZXJ0LWJhc2UtY2FzZWQtZGlzdGlsbGVkLXNxdWFkIn1jbGFzcyBkMyBleHRlbmRzIHl0e3N0YXRpYyB0YXNrPSJzdW1tYXJpemF0aW9uIjtzdGF0aWMgbW9kZWw9Ilhlbm92YS9kaXN0aWxiYXJ0LWNubi02LTYifWNsYXNzIGMzIGV4dGVuZHMgeXR7c3RhdGljIHRhc2s9ImF1dG9tYXRpYy1zcGVlY2gtcmVjb2duaXRpb24iO3N0YXRpYyBtb2RlbD0iWGVub3ZhL3doaXNwZXItdGlueS5lbiJ9Y2xhc3MgcDMgZXh0ZW5kcyB5dHtzdGF0aWMgdGFzaz0iaW1hZ2UtdG8tdGV4dCI7c3RhdGljIG1vZGVsPSJYZW5vdmEvdml0LWdwdDItaW1hZ2UtY2FwdGlvbmluZyJ9Y2xhc3MgaDMgZXh0ZW5kcyB5dHtzdGF0aWMgdGFzaz0iaW1hZ2UtY2xhc3NpZmljYXRpb24iO3N0YXRpYyBtb2RlbD0iWGVub3ZhL3ZpdC1iYXNlLXBhdGNoMTYtMjI0In1jbGFzcyBmMyBleHRlbmRzIHl0e3N0YXRpYyB0YXNrPSJ6ZXJvLXNob3QtaW1hZ2UtY2xhc3NpZmljYXRpb24iO3N0YXRpYyBtb2RlbD0iWGVub3ZhL2NsaXAtdml0LWJhc2UtcGF0Y2gxNiJ9Y2xhc3MgbTMgZXh0ZW5kcyB5dHtzdGF0aWMgdGFzaz0ib2JqZWN0LWRldGVjdGlvbiI7c3RhdGljIG1vZGVsPSJYZW5vdmEvZGV0ci1yZXNuZXQtNTAifWFzeW5jIGZ1bmN0aW9uIGczKHQpe2xldCBlPWF3YWl0IHIzLmdldEluc3RhbmNlKHI9PntzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJkb3dubG9hZCIsdGFzazoidHJhbnNsYXRpb24iLGRhdGE6cn0pfSk7cmV0dXJuIGUudGFzaz1gdHJhbnNsYXRpb25fJHt0Lmxhbmd1YWdlRnJvbX1fdG9fJHt0Lmxhbmd1YWdlVG99YCxhd2FpdCBlKHQudGV4dCx7Li4udC5nZW5lcmF0aW9uLGNhbGxiYWNrX2Z1bmN0aW9uOmZ1bmN0aW9uKHIpe2NvbnN0IG49ZS50b2tlbml6ZXIuZGVjb2RlKHJbMF0ub3V0cHV0X3Rva2VuX2lkcyx7c2tpcF9zcGVjaWFsX3Rva2VuczohMH0pO3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6InVwZGF0ZSIsdGFyZ2V0OnQuZWxlbWVudElkVG9VcGRhdGUsZGF0YTpufSl9fSl9YXN5bmMgZnVuY3Rpb24gXzModCl7bGV0IGU9YXdhaXQgbjMuZ2V0SW5zdGFuY2Uobj0+e3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImRvd25sb2FkIix0YXNrOiJ0ZXh0LWdlbmVyYXRpb24iLGRhdGE6bn0pfSkscj10LnRleHQudHJpbSgpO3JldHVybiBhd2FpdCBlKHIsey4uLnQuZ2VuZXJhdGlvbixjYWxsYmFja19mdW5jdGlvbjpmdW5jdGlvbihuKXtjb25zdCBhPWUudG9rZW5pemVyLmRlY29kZShuWzBdLm91dHB1dF90b2tlbl9pZHMse3NraXBfc3BlY2lhbF90b2tlbnM6ITB9KTtzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJ1cGRhdGUiLHRhcmdldDp0LmVsZW1lbnRJZFRvVXBkYXRlLGRhdGE6YX0pfX0pfWFzeW5jIGZ1bmN0aW9uIHkzKHQpe2xldCBlPWF3YWl0IGEzLmdldEluc3RhbmNlKG49PntzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJkb3dubG9hZCIsdGFzazoiY29kZS1jb21wbGV0aW9uIixkYXRhOm59KX0pLHI9dC50ZXh0O3JldHVybiBhd2FpdCBlKHIsey4uLnQuZ2VuZXJhdGlvbixjYWxsYmFja19mdW5jdGlvbjpmdW5jdGlvbihuKXtjb25zdCBhPWUudG9rZW5pemVyLmRlY29kZShuWzBdLm91dHB1dF90b2tlbl9pZHMse3NraXBfc3BlY2lhbF90b2tlbnM6ITB9KTtzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJ1cGRhdGUiLHRhcmdldDp0LmVsZW1lbnRJZFRvVXBkYXRlLHRhcmdldFR5cGU6dC50YXJnZXRUeXBlLGRhdGE6YX0pfX0pfWFzeW5jIGZ1bmN0aW9uIHczKHQpe2xldCBlPWF3YWl0KGF3YWl0IGkzLmdldEluc3RhbmNlKHI9PntzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJkb3dubG9hZCIsdGFzazoibWFza2VkLWxhbmd1YWdlLW1vZGVsbGluZyIsZGF0YTpyfSl9KSkodC50ZXh0LHQuZ2VuZXJhdGlvbik7cmV0dXJuIHNlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6InVwZGF0ZSIsdGFyZ2V0OnQuZWxlbWVudElkVG9VcGRhdGUsZGF0YTplLm1hcChyPT5yLnNlcXVlbmNlKS5qb2luKGAKYCl9KSxlfWFzeW5jIGZ1bmN0aW9uIHYzKHQpe2xldCBlPWF3YWl0KGF3YWl0IHMzLmdldEluc3RhbmNlKHI9PntzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJkb3dubG9hZCIsdGFzazoic2VxdWVuY2UtY2xhc3NpZmljYXRpb24iLGRhdGE6cn0pfSkpKHQudGV4dCx7dG9wazo1fSk7c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToiY29tcGxldGUiLHRhcmdldDp0LmVsZW1lbnRJZFRvVXBkYXRlLHRhcmdldFR5cGU6dC50YXJnZXRUeXBlLGRhdGE6ZX0pfWFzeW5jIGZ1bmN0aW9uIGIzKHQpe2xldCBlPWF3YWl0IG8zLmdldEluc3RhbmNlKHM9PntzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJkb3dubG9hZCIsdGFzazoidG9rZW4tY2xhc3NpZmljYXRpb24iLGRhdGE6c30pfSkscj1hd2FpdCBlKHQudGV4dCx7aWdub3JlX2xhYmVsczpbXX0pLG49W10sYT17dHlwZToiIix0ZXh0OltdfTtmb3IobGV0IHM9MDtzPHIubGVuZ3RoO3MrKyl7bGV0IG89ZS50b2tlbml6ZXIubW9kZWwudG9rZW5zX3RvX2lkcy5nZXQocltzXS53b3JkKSxsPXJbc10uZW50aXR5O2wuc3RhcnRzV2l0aCgiQi0iKT8oYS50ZXh0Lmxlbmd0aD4wJiYobi5wdXNoKGEpLGE9e3R5cGU6IiIsdGV4dDpbXX0pLGEudHlwZT1sLnNsaWNlKDIpLGEudGV4dD1bb10pOmwuc3RhcnRzV2l0aCgiSS0iKT9hLnRleHQucHVzaChvKTphLnRleHQubGVuZ3RoPjA/YS50eXBlPT09Ik8iP2EudGV4dC5wdXNoKG8pOihuLnB1c2goYSksYT17dHlwZToiTyIsdGV4dDpbb119KTphPXt0eXBlOiJPIix0ZXh0OltvXX19YS50ZXh0Lmxlbmd0aD4wJiZuLnB1c2goYSk7bGV0IGk9bi5tYXAocz0+KHt0eXBlOnMudHlwZSx0ZXh0OmUudG9rZW5pemVyLmRlY29kZShzLnRleHQpfSkpO3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImNvbXBsZXRlIix0YXJnZXQ6dC5lbGVtZW50SWRUb1VwZGF0ZSx0YXJnZXRUeXBlOnQudGFyZ2V0VHlwZSxkYXRhOml9KX1hc3luYyBmdW5jdGlvbiAkMyh0KXtsZXQgZT1hd2FpdChhd2FpdCBsMy5nZXRJbnN0YW5jZShuPT57c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToiZG93bmxvYWQiLHRhc2s6Inplcm8tc2hvdC1jbGFzc2lmaWNhdGlvbiIsZGF0YTpufSl9KSkodC50ZXh0LHQuY2xhc3Nlcyx0LmdlbmVyYXRpb24pLHI9ZS5sYWJlbHMubWFwKChuLGEpPT4oe2xhYmVsOm4sc2NvcmU6ZS5zY29yZXNbYV19KSk7c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToiY29tcGxldGUiLHRhcmdldDp0LmVsZW1lbnRJZFRvVXBkYXRlLHRhcmdldFR5cGU6dC50YXJnZXRUeXBlLGRhdGE6cn0pfWFzeW5jIGZ1bmN0aW9uIHgzKHQpe2xldCBlPWF3YWl0KGF3YWl0IHUzLmdldEluc3RhbmNlKHI9PntzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJkb3dubG9hZCIsdGFzazoicXVlc3Rpb24tYW5zd2VyaW5nIixkYXRhOnJ9KX0pKSh0LnF1ZXN0aW9uLHQuY29udGV4dCk7cmV0dXJuIHNlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImNvbXBsZXRlIix0YXJnZXQ6dC5lbGVtZW50SWRUb1VwZGF0ZSxkYXRhOmUuYW5zd2VyfSksZX1hc3luYyBmdW5jdGlvbiBrMyh0KXtsZXQgZT1hd2FpdCBkMy5nZXRJbnN0YW5jZShyPT57c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToiZG93bmxvYWQiLHRhc2s6InN1bW1hcml6YXRpb24iLGRhdGE6cn0pfSk7cmV0dXJuIGF3YWl0IGUodC50ZXh0LHsuLi50LmdlbmVyYXRpb24sY2FsbGJhY2tfZnVuY3Rpb246ZnVuY3Rpb24ocil7Y29uc3Qgbj1lLnRva2VuaXplci5kZWNvZGUoclswXS5vdXRwdXRfdG9rZW5faWRzLHtza2lwX3NwZWNpYWxfdG9rZW5zOiEwfSk7c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToidXBkYXRlIix0YXJnZXQ6dC5lbGVtZW50SWRUb1VwZGF0ZSxkYXRhOm4udHJpbSgpfSl9fSl9YXN5bmMgZnVuY3Rpb24gUzModCl7bGV0IGU9YXdhaXQgYzMuZ2V0SW5zdGFuY2Uocj0+e3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImRvd25sb2FkIix0YXNrOiJhdXRvbWF0aWMtc3BlZWNoLXJlY29nbml0aW9uIixkYXRhOnJ9KX0pO3JldHVybiBhd2FpdCBlKHQuYXVkaW8se2NodW5rX2xlbmd0aF9zOjMwLHN0cmlkZV9sZW5ndGhfczo1LC4uLnQuZ2VuZXJhdGlvbixjYWxsYmFja19mdW5jdGlvbjpmdW5jdGlvbihyKXtjb25zdCBuPWUudG9rZW5pemVyLmRlY29kZShyWzBdLm91dHB1dF90b2tlbl9pZHMse3NraXBfc3BlY2lhbF90b2tlbnM6ITB9KTtzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJ1cGRhdGUiLHRhcmdldDp0LmVsZW1lbnRJZFRvVXBkYXRlLGRhdGE6bi50cmltKCl9KX19KX1hc3luYyBmdW5jdGlvbiBFMyh0KXtsZXQgZT1hd2FpdCBwMy5nZXRJbnN0YW5jZShyPT57c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToiZG93bmxvYWQiLHRhc2s6ImltYWdlLXRvLXRleHQiLGRhdGE6cn0pfSk7cmV0dXJuIGF3YWl0IGUodC5pbWFnZSx7Li4udC5nZW5lcmF0aW9uLGNhbGxiYWNrX2Z1bmN0aW9uOmZ1bmN0aW9uKHIpe2NvbnN0IG49ZS50b2tlbml6ZXIuZGVjb2RlKHJbMF0ub3V0cHV0X3Rva2VuX2lkcyx7c2tpcF9zcGVjaWFsX3Rva2VuczohMH0pO3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6InVwZGF0ZSIsdGFyZ2V0OnQuZWxlbWVudElkVG9VcGRhdGUsZGF0YTpuLnRyaW0oKX0pfX0pfWFzeW5jIGZ1bmN0aW9uIEMzKHQpe2xldCBlPWF3YWl0KGF3YWl0IGgzLmdldEluc3RhbmNlKHI9PntzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJkb3dubG9hZCIsdGFzazoiaW1hZ2UtY2xhc3NpZmljYXRpb24iLGRhdGE6cn0pfSkpKHQuaW1hZ2Use3RvcGs6NX0pO3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImNvbXBsZXRlIix0YXJnZXQ6dC5lbGVtZW50SWRUb1VwZGF0ZSx0YXJnZXRUeXBlOnQudGFyZ2V0VHlwZSx1cGRhdGVMYWJlbHM6dC51cGRhdGVMYWJlbHMsZGF0YTplfSl9YXN5bmMgZnVuY3Rpb24gSTModCl7bGV0IGU9YXdhaXQoYXdhaXQgZjMuZ2V0SW5zdGFuY2Uocj0+e3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImRvd25sb2FkIix0YXNrOiJpbWFnZS1jbGFzc2lmaWNhdGlvbiIsZGF0YTpyfSl9KSkodC5pbWFnZSx0LmNsYXNzZXMpO3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImNvbXBsZXRlIix0YXJnZXQ6dC5lbGVtZW50SWRUb1VwZGF0ZSx0YXJnZXRUeXBlOnQudGFyZ2V0VHlwZSx1cGRhdGVMYWJlbHM6dC51cGRhdGVMYWJlbHMsZGF0YTplfSl9YXN5bmMgZnVuY3Rpb24gQTModCl7bGV0IGU9YXdhaXQoYXdhaXQgbTMuZ2V0SW5zdGFuY2Uocj0+e3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImRvd25sb2FkIix0YXNrOiJvYmplY3QtZGV0ZWN0aW9uIixkYXRhOnJ9KX0pKSh0LmltYWdlLHt0aHJlc2hvbGQ6LjkscGVyY2VudGFnZTohMH0pO3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImNvbXBsZXRlIix0YXJnZXQ6dC5lbGVtZW50SWRUb1VwZGF0ZSx0YXJnZXRUeXBlOnQudGFyZ2V0VHlwZSxjaGFydElkOnQuY2hhcnRJZCxkYXRhOmV9KX19KSgpfSgpOwo=",X=l=>Uint8Array.from(atob(l),Z=>Z.charCodeAt(0)),b=typeof window<"u"&&window.Blob&&new Blob([X(d)],{type:"text/javascript;charset=utf-8"});function G(l){let Z;try{if(Z=b&&(window.URL||window.webkitURL).createObjectURL(b),!Z)throw"";const I=new Worker(Z,{name:l?.name});return I.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(Z)}),I}catch{return new Worker("data:text/javascript;base64,"+d,{name:l?.name})}finally{Z&&(window.URL||window.webkitURL).revokeObjectURL(Z)}}export{G as W};
