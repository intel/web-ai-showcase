const d="dGhpcy5kb2N1bWVudD17Y3VycmVudFNjcmlwdDp7c3JjOnRoaXMubG9jYXRpb24uaHJlZn19LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBtbz10eXBlb2YgZG9jdW1lbnQ8InUiP2RvY3VtZW50LmN1cnJlbnRTY3JpcHQ6bnVsbDsoYXN5bmMoKT0+e2Z1bmN0aW9uIEJyKHQsZSl7dCYmdChlKX1mdW5jdGlvbiBwZyh0KXtyZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHQpLm1hcCgoW2Uscl0pPT5bcixlXSkpfWZ1bmN0aW9uIGdvKHQpe3JldHVybiB0LnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCJcXCQmIil9Y29uc3Qgd3Q9Y2xhc3N7Y29uc3RydWN0b3IoKXtsZXQgdD1mdW5jdGlvbiguLi5lKXtyZXR1cm4gdC5fY2FsbCguLi5lKX07cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZih0LG5ldy50YXJnZXQucHJvdG90eXBlKX1fY2FsbCguLi50KXt0aHJvdyBFcnJvcigiTXVzdCBpbXBsZW1lbnQgX2NhbGwgbWV0aG9kIGluIHN1YmNsYXNzIil9fTtmdW5jdGlvbiBoZyh0KXtyZXR1cm4gdD8ucHJvdG90eXBlPy5fX3Byb3RvX18/LmNvbnN0cnVjdG9yPy5uYW1lPT09IlR5cGVkQXJyYXkifWZ1bmN0aW9uIF9vKHQpe3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyKHQpfHx0eXBlb2YgdD09ImJpZ2ludCJ9ZnVuY3Rpb24gZmcodCl7cmV0dXJuIHQhPW51bGx9ZnVuY3Rpb24geW8odCl7Y29uc3QgZT1bXTtsZXQgcj10O2Zvcig7QXJyYXkuaXNBcnJheShyKTspZS5wdXNoKHIubGVuZ3RoKSxyPXJbMF07cmV0dXJuIGV9ZnVuY3Rpb24gd28odCxlLHI9dm9pZCAwKXtjb25zdCBuPXRbZV07aWYobiE9PXZvaWQgMClyZXR1cm4gZGVsZXRlIHRbZV0sbjtpZihyPT09dm9pZCAwKXRocm93IEVycm9yKGBLZXkgJHtlfSBkb2VzIG5vdCBleGlzdCBpbiBvYmplY3QuYCk7cmV0dXJuIHJ9ZnVuY3Rpb24gbHQoLi4udCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sdCl9ZnVuY3Rpb24gbWcoLi4udCl7cmV0dXJuIHQucmVkdWNlKChlLHIpPT5lLmZsYXRNYXAobj0+ci5tYXAoYT0+W24sYV0pKSl9ZnVuY3Rpb24gZGEodCxlKXtyZXR1cm4gTWF0aC5hYnMoKHQrZSklKDIqZSktZSl9dmFyIEtlPXt9LGdnPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGRlZmF1bHQ6S2V9KTtjb25zdCBfZz0iMy4wLjAtYWxwaGEuMCIsdm89dHlwZW9mIHNlbGY8InUiLHlnPXZvJiYiY2FjaGVzImluIHNlbGYsJGk9ISRvKEtlKSx3Zz0hJG8oS2UpLHhpPSRpJiZ3ZyxraT14aT9LZS5kaXJuYW1lKEtlLmRpcm5hbWUoS2UuZmlsZVVSTFRvUGF0aChtbyYmbW8uc3JjfHxuZXcgVVJMKCJhc3NldHMvd29ya2VyLVZHamFweGYxLmpzIixkb2N1bWVudC5iYXNlVVJJKS5ocmVmKSkpOiIuLyIsdmc9eGk/S2Uuam9pbihraSwiLy5jYWNoZS8iKTpudWxsLGJvPSIvbW9kZWxzLyIsYmc9eGk/S2Uuam9pbihraSxibyk6Ym8sdHQ9e2JhY2tlbmRzOntvbm54Ont9LHRmanM6e319LF9fZGlybmFtZTpraSx2ZXJzaW9uOl9nLGFsbG93UmVtb3RlTW9kZWxzOiEwLHJlbW90ZUhvc3Q6Imh0dHBzOi8vaHVnZ2luZ2ZhY2UuY28vIixyZW1vdGVQYXRoVGVtcGxhdGU6Inttb2RlbH0vcmVzb2x2ZS97cmV2aXNpb259LyIsYWxsb3dMb2NhbE1vZGVsczohdm8sbG9jYWxNb2RlbFBhdGg6YmcsdXNlRlM6JGksdXNlQnJvd3NlckNhY2hlOnlnLHVzZUZTQ2FjaGU6JGksY2FjaGVEaXI6dmcsdXNlQ3VzdG9tQ2FjaGU6ITEsY3VzdG9tQ2FjaGU6bnVsbH07ZnVuY3Rpb24gJG8odCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmxlbmd0aD09PTB9dmFyIFNpPXt9O2NsYXNzIGNhe19DT05URU5UX1RZUEVfTUFQPXt0eHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIsY3NzOiJ0ZXh0L2NzcyIsanM6InRleHQvamF2YXNjcmlwdCIsanNvbjoiYXBwbGljYXRpb24vanNvbiIscG5nOiJpbWFnZS9wbmciLGpwZzoiaW1hZ2UvanBlZyIsanBlZzoiaW1hZ2UvanBlZyIsZ2lmOiJpbWFnZS9naWYifTtjb25zdHJ1Y3RvcihlKXtpZih0aGlzLmZpbGVQYXRoPWUsdGhpcy5oZWFkZXJzPW5ldyBIZWFkZXJzLHRoaXMuZXhpc3RzPUtlLmV4aXN0c1N5bmMoZSksdGhpcy5leGlzdHMpe3RoaXMuc3RhdHVzPTIwMCx0aGlzLnN0YXR1c1RleHQ9Ik9LIjtsZXQgcj1LZS5zdGF0U3luYyhlKTt0aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LWxlbmd0aCIsci5zaXplLnRvU3RyaW5nKCkpLHRoaXMudXBkYXRlQ29udGVudFR5cGUoKTtsZXQgbj10aGlzO3RoaXMuYm9keT1uZXcgUmVhZGFibGVTdHJlYW0oe3N0YXJ0KGEpe24uYXJyYXlCdWZmZXIoKS50aGVuKGk9PnthLmVucXVldWUobmV3IFVpbnQ4QXJyYXkoaSkpLGEuY2xvc2UoKX0pfX0pfWVsc2UgdGhpcy5zdGF0dXM9NDA0LHRoaXMuc3RhdHVzVGV4dD0iTm90IEZvdW5kIix0aGlzLmJvZHk9bnVsbH11cGRhdGVDb250ZW50VHlwZSgpe2NvbnN0IGU9dGhpcy5maWxlUGF0aC50b1N0cmluZygpLnNwbGl0KCIuIikucG9wKCkudG9Mb3dlckNhc2UoKTt0aGlzLmhlYWRlcnMuc2V0KCJjb250ZW50LXR5cGUiLHRoaXMuX0NPTlRFTlRfVFlQRV9NQVBbZV0/PyJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iKX1jbG9uZSgpe2xldCBlPW5ldyBjYSh0aGlzLmZpbGVQYXRoKTtyZXR1cm4gZS5leGlzdHM9dGhpcy5leGlzdHMsZS5zdGF0dXM9dGhpcy5zdGF0dXMsZS5zdGF0dXNUZXh0PXRoaXMuc3RhdHVzVGV4dCxlLmhlYWRlcnM9bmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKSxlfWFzeW5jIGFycmF5QnVmZmVyKCl7cmV0dXJuKGF3YWl0IEtlLnByb21pc2VzLnJlYWRGaWxlKHRoaXMuZmlsZVBhdGgpKS5idWZmZXJ9YXN5bmMgYmxvYigpe2NvbnN0IGU9YXdhaXQgS2UucHJvbWlzZXMucmVhZEZpbGUodGhpcy5maWxlUGF0aCk7cmV0dXJuIG5ldyBCbG9iKFtlXSx7dHlwZTp0aGlzLmhlYWRlcnMuZ2V0KCJjb250ZW50LXR5cGUiKX0pfWFzeW5jIHRleHQoKXtyZXR1cm4gYXdhaXQgS2UucHJvbWlzZXMucmVhZEZpbGUodGhpcy5maWxlUGF0aCwidXRmOCIpfWFzeW5jIGpzb24oKXtyZXR1cm4gSlNPTi5wYXJzZShhd2FpdCB0aGlzLnRleHQoKSl9fWZ1bmN0aW9uIEVpKHQsZT1udWxsKXtsZXQgcjt0cnl7cj1uZXcgVVJMKHQpfWNhdGNoe3JldHVybiExfXJldHVybiBlJiYhZS5pbmNsdWRlcyhyLmhvc3RuYW1lKT8hMTpyLnByb3RvY29sPT09Imh0dHA6Inx8ci5wcm90b2NvbD09PSJodHRwczoifWFzeW5jIGZ1bmN0aW9uIHBhKHQpe2lmKHR0LnVzZUZTJiYhRWkodCkpcmV0dXJuIG5ldyBjYSh0KTtpZih0eXBlb2YgcHJvY2VzczwidSImJnByb2Nlc3M/LnJlbGVhc2U/Lm5hbWU9PT0ibm9kZSIpe2NvbnN0IGU9ISFTaT8uVEVTVElOR19SRU1PVEVMWSxyPXR0LnZlcnNpb24sbj1uZXcgSGVhZGVycztpZihuLnNldCgiVXNlci1BZ2VudCIsYHRyYW5zZm9ybWVycy5qcy8ke3J9OyBpc19jaS8ke2V9O2ApLEVpKHQsWyJodWdnaW5nZmFjZS5jbyIsImhmLmNvIl0pKXtjb25zdCBhPVNpPy5IRl9UT0tFTj8/U2k/LkhGX0FDQ0VTU19UT0tFTjthJiZuLnNldCgiQXV0aG9yaXphdGlvbiIsYEJlYXJlciAke2F9YCl9cmV0dXJuIGZldGNoKHQse2hlYWRlcnM6bn0pfWVsc2UgcmV0dXJuIGZldGNoKHQpfWNvbnN0ICRnPXs0MDA6IkJhZCByZXF1ZXN0IGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBsb2FkIGZpbGUiLDQwMToiVW5hdXRob3JpemVkIGFjY2VzcyB0byBmaWxlIiw0MDM6IkZvcmJpZGRlbiBhY2Nlc3MgdG8gZmlsZSIsNDA0OiJDb3VsZCBub3QgbG9jYXRlIGZpbGUiLDQwODoiUmVxdWVzdCB0aW1lb3V0IGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBsb2FkIGZpbGUiLDUwMDoiSW50ZXJuYWwgc2VydmVyIGVycm9yIGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBsb2FkIGZpbGUiLDUwMjoiQmFkIGdhdGV3YXkgZXJyb3Igb2NjdXJyZWQgd2hpbGUgdHJ5aW5nIHRvIGxvYWQgZmlsZSIsNTAzOiJTZXJ2aWNlIHVuYXZhaWxhYmxlIGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBsb2FkIGZpbGUiLDUwNDoiR2F0ZXdheSB0aW1lb3V0IGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byBsb2FkIGZpbGUifTtmdW5jdGlvbiB4Zyh0LGUscil7aWYoIXIpcmV0dXJuIG51bGw7Y29uc3Qgbj0kZ1t0XT8/YEVycm9yICgke3R9KSBvY2N1cnJlZCB3aGlsZSB0cnlpbmcgdG8gbG9hZCBmaWxlYDt0aHJvdyBFcnJvcihgJHtufTogIiR7ZX0iLmApfWNsYXNzIHhve2NvbnN0cnVjdG9yKGUpe3RoaXMucGF0aD1lfWFzeW5jIG1hdGNoKGUpe2xldCByPUtlLmpvaW4odGhpcy5wYXRoLGUpLG49bmV3IGNhKHIpO2lmKG4uZXhpc3RzKXJldHVybiBufWFzeW5jIHB1dChlLHIpe2NvbnN0IG49QnVmZmVyLmZyb20oYXdhaXQgci5hcnJheUJ1ZmZlcigpKTtsZXQgYT1LZS5qb2luKHRoaXMucGF0aCxlKTt0cnl7YXdhaXQgS2UucHJvbWlzZXMubWtkaXIoS2UuZGlybmFtZShhKSx7cmVjdXJzaXZlOiEwfSksYXdhaXQgS2UucHJvbWlzZXMud3JpdGVGaWxlKGEsbil9Y2F0Y2goaSl7Y29uc29sZS53YXJuKCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB3cml0aW5nIHRoZSBmaWxlIHRvIGNhY2hlOiIsaSl9fX1hc3luYyBmdW5jdGlvbiBrZyh0LC4uLmUpe2ZvcihsZXQgciBvZiBlKXRyeXtsZXQgbj1hd2FpdCB0Lm1hdGNoKHIpO2lmKG4pcmV0dXJuIG59Y2F0Y2h7Y29udGludWV9fWFzeW5jIGZ1bmN0aW9uIENpKHQsZSxyPSEwLG49e30pe2lmKCF0dC5hbGxvd0xvY2FsTW9kZWxzKXtpZihuLmxvY2FsX2ZpbGVzX29ubHkpdGhyb3cgRXJyb3IoIkludmFsaWQgY29uZmlndXJhdGlvbiBkZXRlY3RlZDogbG9jYWwgbW9kZWxzIGFyZSBkaXNhYmxlZCAoYGVudi5hbGxvd0xvY2FsTW9kZWxzPWZhbHNlYCkgYnV0IHlvdSBoYXZlIHJlcXVlc3RlZCB0byBvbmx5IHVzZSBsb2NhbCBtb2RlbHMgKGBsb2NhbF9maWxlc19vbmx5PXRydWVgKS4iKTtpZighdHQuYWxsb3dSZW1vdGVNb2RlbHMpdGhyb3cgRXJyb3IoIkludmFsaWQgY29uZmlndXJhdGlvbiBkZXRlY3RlZDogYm90aCBsb2NhbCBhbmQgcmVtb3RlIG1vZGVscyBhcmUgZGlzYWJsZWQuIEZpeCBieSBzZXR0aW5nIGBlbnYuYWxsb3dMb2NhbE1vZGVsc2Agb3IgYGVudi5hbGxvd1JlbW90ZU1vZGVsc2AgdG8gYHRydWVgLiIpfUJyKG4ucHJvZ3Jlc3NfY2FsbGJhY2sse3N0YXR1czoiaW5pdGlhdGUiLG5hbWU6dCxmaWxlOmV9KTtsZXQgYTtpZighYSYmdHQudXNlQnJvd3NlckNhY2hlKXtpZih0eXBlb2YgY2FjaGVzPiJ1Iil0aHJvdyBFcnJvcigiQnJvd3NlciBjYWNoZSBpcyBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQuIik7dHJ5e2E9YXdhaXQgY2FjaGVzLm9wZW4oInRyYW5zZm9ybWVycy1jYWNoZSIpfWNhdGNoKHYpe2NvbnNvbGUud2FybigiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgb3BlbmluZyB0aGUgYnJvd3NlciBjYWNoZToiLHYpfX1pZighYSYmdHQudXNlRlNDYWNoZSYmKGE9bmV3IHhvKG4uY2FjaGVfZGlyPz90dC5jYWNoZURpcikpLCFhJiZ0dC51c2VDdXN0b21DYWNoZSl0aHJvdyBFcnJvcigiYGVudi51c2VDdXN0b21DYWNoZT10cnVlYCwgYnV0IGBlbnYuY3VzdG9tQ2FjaGVgIGlzIG5vdCBkZWZpbmVkLiIpO2NvbnN0IGk9bi5yZXZpc2lvbj8/Im1haW4iO2xldCBzPWhhKHQsZSksbz1oYSh0dC5sb2NhbE1vZGVsUGF0aCxzKSxsPWhhKHR0LnJlbW90ZUhvc3QsdHQucmVtb3RlUGF0aFRlbXBsYXRlLnJlcGxhY2VBbGwoInttb2RlbH0iLHQpLnJlcGxhY2VBbGwoIntyZXZpc2lvbn0iLGVuY29kZVVSSUNvbXBvbmVudChpKSkpKyImRmlsZVBhdGg9IitlLGQ9aT09PSJtYWluIj9zOmhhKHQsaSxlKSxjLHU9YSBpbnN0YW5jZW9mIHhvP2Q6bCxoPSExLGY7YSYmKGY9YXdhaXQga2coYSxvLHUpKTtjb25zdCBnPWYhPT12b2lkIDA7aWYoZj09PXZvaWQgMCl7aWYodHQuYWxsb3dMb2NhbE1vZGVscylpZihFaShzKSl7aWYobi5sb2NhbF9maWxlc19vbmx5KXRocm93IG5ldyBFcnJvcihgXGBsb2NhbF9maWxlc19vbmx5PXRydWVcYCwgYnV0IGF0dGVtcHRlZCB0byBsb2FkIGEgcmVtb3RlIGZpbGUgZnJvbTogJHtzfS5gKTtpZighdHQuYWxsb3dSZW1vdGVNb2RlbHMpdGhyb3cgbmV3IEVycm9yKGBcYGVudi5hbGxvd1JlbW90ZU1vZGVscz1mYWxzZVxgLCBidXQgYXR0ZW1wdGVkIHRvIGxvYWQgYSByZW1vdGUgZmlsZSBmcm9tOiAke3N9LmApfWVsc2UgdHJ5e2Y9YXdhaXQgcGEobyksYz1vfWNhdGNoKHYpe2NvbnNvbGUud2FybihgVW5hYmxlIHRvIGxvYWQgZnJvbSBsb2NhbCBwYXRoICIke299IjogIiR7dn0iYCl9aWYoZj09PXZvaWQgMHx8Zi5zdGF0dXM9PT00MDQpe2lmKG4ubG9jYWxfZmlsZXNfb25seXx8IXR0LmFsbG93UmVtb3RlTW9kZWxzKXtpZihyKXRocm93IEVycm9yKGBcYGxvY2FsX2ZpbGVzX29ubHk9dHJ1ZVxgIG9yIFxgZW52LmFsbG93UmVtb3RlTW9kZWxzPWZhbHNlXGAgYW5kIGZpbGUgd2FzIG5vdCBmb3VuZCBsb2NhbGx5IGF0ICIke299Ii5gKTtyZXR1cm4gbnVsbH1pZihmPWF3YWl0IHBhKGwpLGYuc3RhdHVzIT09MjAwKXJldHVybiB4ZyhmLnN0YXR1cyxsLHIpO2M9dX1oPWEmJnR5cGVvZiBSZXNwb25zZTwidSImJmYgaW5zdGFuY2VvZiBSZXNwb25zZSYmZi5zdGF0dXM9PT0yMDB9QnIobi5wcm9ncmVzc19jYWxsYmFjayx7c3RhdHVzOiJkb3dubG9hZCIsbmFtZTp0LGZpbGU6ZX0pO2NvbnN0IHk9e3N0YXR1czoicHJvZ3Jlc3MiLG5hbWU6dCxmaWxlOmV9O2xldCB3O3JldHVybiBuLnByb2dyZXNzX2NhbGxiYWNrP2cmJnR5cGVvZiBuYXZpZ2F0b3I8InUiJiYvZmlyZWZveC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/KHc9bmV3IFVpbnQ4QXJyYXkoYXdhaXQgZi5hcnJheUJ1ZmZlcigpKSxCcihuLnByb2dyZXNzX2NhbGxiYWNrLHsuLi55LHByb2dyZXNzOjEwMCxsb2FkZWQ6dy5sZW5ndGgsdG90YWw6dy5sZW5ndGh9KSk6dz1hd2FpdCBTZyhmLHY9PntCcihuLnByb2dyZXNzX2NhbGxiYWNrLHsuLi55LC4uLnZ9KX0pOnc9bmV3IFVpbnQ4QXJyYXkoYXdhaXQgZi5hcnJheUJ1ZmZlcigpKSxoJiZjJiZhd2FpdCBhLm1hdGNoKGMpPT09dm9pZCAwJiZhd2FpdCBhLnB1dChjLG5ldyBSZXNwb25zZSh3LHtoZWFkZXJzOmYuaGVhZGVyc30pKS5jYXRjaCh2PT57Y29uc29sZS53YXJuKGBVbmFibGUgdG8gYWRkIHJlc3BvbnNlIHRvIGJyb3dzZXIgY2FjaGU6ICR7dn0uYCl9KSxCcihuLnByb2dyZXNzX2NhbGxiYWNrLHtzdGF0dXM6ImRvbmUiLG5hbWU6dCxmaWxlOmV9KSx3fWFzeW5jIGZ1bmN0aW9uIFJyKHQsZSxyPSEwLG49e30pe2xldCBhPWF3YWl0IENpKHQsZSxyLG4pO2lmKGE9PT1udWxsKXJldHVybnt9O2xldCBpPW5ldyBUZXh0RGVjb2RlcigidXRmLTgiKS5kZWNvZGUoYSk7cmV0dXJuIEpTT04ucGFyc2UoaSl9YXN5bmMgZnVuY3Rpb24gU2codCxlKXtjb25zdCByPXQuaGVhZGVycy5nZXQoIkNvbnRlbnQtTGVuZ3RoIik7cj09PW51bGwmJmNvbnNvbGUud2FybigiVW5hYmxlIHRvIGRldGVybWluZSBjb250ZW50LWxlbmd0aCBmcm9tIHJlc3BvbnNlIGhlYWRlcnMuIFdpbGwgZXhwYW5kIGJ1ZmZlciB3aGVuIG5lZWRlZC4iKTtsZXQgbj1wYXJzZUludChyPz8iMCIpLGE9bmV3IFVpbnQ4QXJyYXkobiksaT0wO2NvbnN0IHM9dC5ib2R5LmdldFJlYWRlcigpO2FzeW5jIGZ1bmN0aW9uIG8oKXtjb25zdHtkb25lOmwsdmFsdWU6ZH09YXdhaXQgcy5yZWFkKCk7aWYobClyZXR1cm47bGV0IGM9aStkLmxlbmd0aDtpZihjPm4pe249YztsZXQgaD1uZXcgVWludDhBcnJheShuKTtoLnNldChhKSxhPWh9YS5zZXQoZCxpKSxpPWM7Y29uc3QgdT1pL24qMTAwO3JldHVybiBlKHtwcm9ncmVzczp1LGxvYWRlZDppLHRvdGFsOm59KSxvKCl9cmV0dXJuIGF3YWl0IG8oKSxhfWZ1bmN0aW9uIGhhKC4uLnQpe3JldHVybiB0PXQubWFwKChlLHIpPT4ociYmKGU9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoIl4vIiksIiIpKSxyIT09dC5sZW5ndGgtMSYmKGU9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoIi8kIiksIiIpKSxlKSksdC5qb2luKCIvIil9ZnVuY3Rpb24gRWcodCxbZSxyLG5dLFthLGldLHM9ImJpbGluZWFyIixvPSExKXtjb25zdCBsPWkvbixkPWEvcixjPW5ldyB0LmNvbnN0cnVjdG9yKGEqaSplKSx1PXIqbixoPWEqaTtmb3IobGV0IGY9MDtmPGE7KytmKWZvcihsZXQgZz0wO2c8aTsrK2cpe2NvbnN0IHk9ZippK2csdz0oZysuNSkvbC0uNSx2PShmKy41KS9kLS41O2xldCBrPU1hdGguZmxvb3IodyksRT1NYXRoLmZsb29yKHYpO2NvbnN0IHg9TWF0aC5taW4oaysxLG4tMSksST1NYXRoLm1pbihFKzEsci0xKTtrPU1hdGgubWF4KGssMCksRT1NYXRoLm1heChFLDApO2NvbnN0IFQ9dy1rLEI9di1FLFU9KDEtVCkqKDEtQiksSD1UKigxLUIpLEs9KDEtVCkqQixPPVQqQixHPUUqbixuZT1JKm4scT1HK2ssUD1HK3gsTD1uZStrLFY9bmUreDtmb3IobGV0IHRlPTA7dGU8ZTsrK3RlKXtjb25zdCBYPXRlKnU7Y1t0ZSpoK3ldPVUqdFtYK3FdK0gqdFtYK1BdK0sqdFtYK0xdK08qdFtYK1ZdfX1yZXR1cm4gY31mdW5jdGlvbiBDZyh0LGUscil7Y29uc3Qgbj1uZXcgQXJyYXkoci5sZW5ndGgpLGE9bmV3IEFycmF5KHIubGVuZ3RoKTtmb3IobGV0IG89ci5sZW5ndGgtMSxsPTE7bz49MDstLW8pYVtvXT1sLG5bb109ZVtyW29dXSxsKj1uW29dO2NvbnN0IGk9ci5tYXAoKG8sbCk9PmFbci5pbmRleE9mKGwpXSkscz1uZXcgdC5jb25zdHJ1Y3Rvcih0Lmxlbmd0aCk7Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aDsrK28pe2xldCBsPTA7Zm9yKGxldCBkPWUubGVuZ3RoLTEsYz1vO2Q+PTA7LS1kKWwrPWMlZVtkXSppW2RdLGM9TWF0aC5mbG9vcihjL2VbZF0pO3NbbF09dFtvXX1yZXR1cm5bcyxuXX1mdW5jdGlvbiBkdCh0KXtjb25zdCBlPUN0KHQpWzBdLHI9dC5tYXAoYT0+TWF0aC5leHAoYS1lKSksbj1yLnJlZHVjZSgoYSxpKT0+YStpLDApO3JldHVybiByLm1hcChhPT5hL24pfWZ1bmN0aW9uIElnKHQpe3JldHVybiBkdCh0KS5tYXAoZT0+TWF0aC5sb2coZSkpfWZ1bmN0aW9uIFByKHQsZT0wKXtyZXR1cm4gdD1BcnJheS5mcm9tKHQpLm1hcCgocixuKT0+W24scl0pLnNvcnQoKHIsbik9Pm5bMV0tclsxXSksZSE9PW51bGwmJmU+MCYmKHQ9dC5zbGljZSgwLGUpKSx0fWZ1bmN0aW9uIGtvKHQpe2lmKHQubGVuZ3RoPT09MCl0aHJvdyBFcnJvcigiQXJyYXkgbXVzdCBub3QgYmUgZW1wdHkiKTtsZXQgZT10WzBdLHI9MDtmb3IobGV0IG49MTtuPHQubGVuZ3RoOysrbil0W25dPGUmJihlPXRbbl0scj1uKTtyZXR1cm5bZSxyXX1mdW5jdGlvbiBDdCh0KXtpZih0Lmxlbmd0aD09PTApdGhyb3cgRXJyb3IoIkFycmF5IG11c3Qgbm90IGJlIGVtcHR5Iik7bGV0IGU9dFswXSxyPTA7Zm9yKGxldCBuPTE7bjx0Lmxlbmd0aDsrK24pdFtuXT5lJiYoZT10W25dLHI9bik7cmV0dXJuW051bWJlcihlKSxyXX1mdW5jdGlvbiBTbyh0KXtyZXR1cm4gdD4wJiYodCZ0LTEpPT09MH1jbGFzcyBFb3tjb25zdHJ1Y3RvcihlKXtpZih0aGlzLnNpemU9ZXwwLHRoaXMuc2l6ZTw9MXx8IVNvKHRoaXMuc2l6ZSkpdGhyb3cgbmV3IEVycm9yKCJGRlQgc2l6ZSBtdXN0IGJlIGEgcG93ZXIgb2YgdHdvIGxhcmdlciB0aGFuIDEiKTt0aGlzLl9jc2l6ZT1lPDwxLHRoaXMudGFibGU9bmV3IEZsb2F0NjRBcnJheSh0aGlzLnNpemUqMik7Zm9yKGxldCBuPTA7bjx0aGlzLnRhYmxlLmxlbmd0aDtuKz0yKXtjb25zdCBhPU1hdGguUEkqbi90aGlzLnNpemU7dGhpcy50YWJsZVtuXT1NYXRoLmNvcyhhKSx0aGlzLnRhYmxlW24rMV09LU1hdGguc2luKGEpfWxldCByPTA7Zm9yKGxldCBuPTE7dGhpcy5zaXplPm47bjw8PTEpKytyO3RoaXMuX3dpZHRoPXIlMj09PTA/ci0xOnIsdGhpcy5fYml0cmV2PW5ldyBJbnQzMkFycmF5KDE8PHRoaXMuX3dpZHRoKTtmb3IobGV0IG49MDtuPHRoaXMuX2JpdHJldi5sZW5ndGg7KytuKXt0aGlzLl9iaXRyZXZbbl09MDtmb3IobGV0IGE9MDthPHRoaXMuX3dpZHRoO2ErPTIpe2NvbnN0IGk9dGhpcy5fd2lkdGgtYS0yO3RoaXMuX2JpdHJldltuXXw9KG4+Pj5hJjMpPDxpfX19Y3JlYXRlQ29tcGxleEFycmF5KCl7cmV0dXJuIG5ldyBGbG9hdDY0QXJyYXkodGhpcy5fY3NpemUpfWZyb21Db21wbGV4QXJyYXkoZSxyKXtjb25zdCBuPXJ8fG5ldyBBcnJheShlLmxlbmd0aD4+PjEpO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSs9MiluW2E+Pj4xXT1lW2FdO3JldHVybiBufXRvQ29tcGxleEFycmF5KGUscil7Y29uc3Qgbj1yfHx0aGlzLmNyZWF0ZUNvbXBsZXhBcnJheSgpO2ZvcihsZXQgYT0wO2E8bi5sZW5ndGg7YSs9MiluW2FdPWVbYT4+PjFdLG5bYSsxXT0wO3JldHVybiBufWNvbXBsZXRlU3BlY3RydW0oZSl7Y29uc3Qgcj10aGlzLl9jc2l6ZSxuPXI+Pj4xO2ZvcihsZXQgYT0yO2E8bjthKz0yKWVbci1hXT1lW2FdLGVbci1hKzFdPS1lW2ErMV19dHJhbnNmb3JtKGUscil7aWYoZT09PXIpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCBhbmQgb3V0cHV0IGJ1ZmZlcnMgbXVzdCBiZSBkaWZmZXJlbnQiKTt0aGlzLl90cmFuc2Zvcm00KGUsciwxKX1yZWFsVHJhbnNmb3JtKGUscil7aWYoZT09PXIpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCBhbmQgb3V0cHV0IGJ1ZmZlcnMgbXVzdCBiZSBkaWZmZXJlbnQiKTt0aGlzLl9yZWFsVHJhbnNmb3JtNChlLHIsMSl9aW52ZXJzZVRyYW5zZm9ybShlLHIpe2lmKGU9PT1yKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fdHJhbnNmb3JtNChlLHIsLTEpO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7KytuKWVbbl0vPXRoaXMuc2l6ZX1fdHJhbnNmb3JtNChlLHIsbil7Y29uc3QgYT10aGlzLl9jc2l6ZTtsZXQgaT0xPDx0aGlzLl93aWR0aCxzPWEvaTw8MSxvLGw7Y29uc3QgZD10aGlzLl9iaXRyZXY7aWYocz09PTQpZm9yKG89MCxsPTA7bzxhO28rPXMsKytsKXtjb25zdCBjPWRbbF07dGhpcy5fc2luZ2xlVHJhbnNmb3JtMihyLGUsbyxjLGkpfWVsc2UgZm9yKG89MCxsPTA7bzxhO28rPXMsKytsKXtjb25zdCBjPWRbbF07dGhpcy5fc2luZ2xlVHJhbnNmb3JtNChyLGUsbyxjLGksbil9Zm9yKGk+Pj0yO2k+PTI7aT4+PTIpe3M9YS9pPDwxO2NvbnN0IGM9cz4+PjI7Zm9yKG89MDtvPGE7bys9cyl7Y29uc3QgdT1vK2MtMTtmb3IobGV0IGg9byxmPTA7aDx1O2grPTIsZis9aSl7Y29uc3QgZz1oLHk9ZytjLHc9eStjLHY9dytjLGs9ZVtnXSxFPWVbZysxXSx4PWVbeV0sST1lW3krMV0sVD1lW3ddLEI9ZVt3KzFdLFU9ZVt2XSxIPWVbdisxXSxLPXRoaXMudGFibGVbZl0sTz1uKnRoaXMudGFibGVbZisxXSxHPXgqSy1JKk8sbmU9eCpPK0kqSyxxPXRoaXMudGFibGVbMipmXSxQPW4qdGhpcy50YWJsZVsyKmYrMV0sTD1UKnEtQipQLFY9VCpQK0IqcSx0ZT10aGlzLnRhYmxlWzMqZl0sWD1uKnRoaXMudGFibGVbMypmKzFdLHVlPVUqdGUtSCpYLEY9VSpYK0gqdGUsb2U9aytMLCRlPUUrVixVZT1rLUwsUGU9RS1WLFZlPUcrdWUsU3Q9bmUrRixXZT1uKihHLXVlKSxIZT1uKihuZS1GKTtlW2ddPW9lK1ZlLGVbZysxXT0kZStTdCxlW3ldPVVlK0hlLGVbeSsxXT1QZS1XZSxlW3ddPW9lLVZlLGVbdysxXT0kZS1TdCxlW3ZdPVVlLUhlLGVbdisxXT1QZStXZX19fX1fc2luZ2xlVHJhbnNmb3JtMihlLHIsbixhLGkpe2NvbnN0IHM9ZVthXSxvPWVbYSsxXSxsPWVbYStpXSxkPWVbYStpKzFdO3Jbbl09cytsLHJbbisxXT1vK2QscltuKzJdPXMtbCxyW24rM109by1kfV9zaW5nbGVUcmFuc2Zvcm00KGUscixuLGEsaSxzKXtjb25zdCBvPWkqMixsPWkqMyxkPWVbYV0sYz1lW2ErMV0sdT1lW2EraV0saD1lW2EraSsxXSxmPWVbYStvXSxnPWVbYStvKzFdLHk9ZVthK2xdLHc9ZVthK2wrMV0sdj1kK2Ysaz1jK2csRT1kLWYseD1jLWcsST11K3ksVD1oK3csQj1zKih1LXkpLFU9cyooaC13KTtyW25dPXYrSSxyW24rMV09aytULHJbbisyXT1FK1UscltuKzNdPXgtQixyW24rNF09di1JLHJbbis1XT1rLVQscltuKzZdPUUtVSxyW24rN109eCtCfV9yZWFsVHJhbnNmb3JtNChlLHIsbil7Y29uc3QgYT10aGlzLl9jc2l6ZTtsZXQgaT0xPDx0aGlzLl93aWR0aCxzPWEvaTw8MSxvLGw7Y29uc3QgZD10aGlzLl9iaXRyZXY7aWYocz09PTQpZm9yKG89MCxsPTA7bzxhO28rPXMsKytsKXtjb25zdCBjPWRbbF07dGhpcy5fc2luZ2xlUmVhbFRyYW5zZm9ybTIocixlLG8sYz4+PjEsaT4+PjEpfWVsc2UgZm9yKG89MCxsPTA7bzxhO28rPXMsKytsKXtjb25zdCBjPWRbbF07dGhpcy5fc2luZ2xlUmVhbFRyYW5zZm9ybTQocixlLG8sYz4+PjEsaT4+PjEsbil9Zm9yKGk+Pj0yO2k+PTI7aT4+PTIpe3M9YS9pPDwxO2NvbnN0IGM9cz4+PjI7Zm9yKG89MDtvPGE7bys9cyl7Y29uc3QgdT1vK2MtMTtmb3IobGV0IGg9byxmPTA7aDx1O2grPTIsZis9aSl7Y29uc3QgZz1oLHk9ZytjLHc9eStjLHY9dytjLGs9ZVtnXSxFPWVbZysxXSx4PWVbeV0sST1lW3krMV0sVD1lW3ddLEI9ZVt3KzFdLFU9ZVt2XSxIPWVbdisxXSxLPXRoaXMudGFibGVbZl0sTz1uKnRoaXMudGFibGVbZisxXSxHPXgqSy1JKk8sbmU9eCpPK0kqSyxxPXRoaXMudGFibGVbMipmXSxQPW4qdGhpcy50YWJsZVsyKmYrMV0sTD1UKnEtQipQLFY9VCpQK0IqcSx0ZT10aGlzLnRhYmxlWzMqZl0sWD1uKnRoaXMudGFibGVbMypmKzFdLHVlPVUqdGUtSCpYLEY9VSpYK0gqdGUsb2U9aytMLCRlPUUrVixVZT1rLUwsUGU9RS1WLFZlPUcrdWUsU3Q9bmUrRixXZT1uKihHLXVlKSxIZT1uKihuZS1GKTtlW2ddPW9lK1ZlLGVbZysxXT0kZStTdCxlW3ldPVVlK0hlLGVbeSsxXT1QZS1XZSxlW3ddPW9lLVZlLGVbdysxXT0kZS1TdCxlW3ZdPVVlLUhlLGVbdisxXT1QZStXZX19fX1fc2luZ2xlUmVhbFRyYW5zZm9ybTIoZSxyLG4sYSxpKXtjb25zdCBzPWVbYV0sbz1lW2EraV07cltuXT1zK28scltuKzFdPTAscltuKzJdPXMtbyxyW24rM109MH1fc2luZ2xlUmVhbFRyYW5zZm9ybTQoZSxyLG4sYSxpLHMpe2NvbnN0IG89aSoyLGw9aSozLGQ9ZVthXSxjPWVbYStpXSx1PWVbYStvXSxoPWVbYStsXSxmPWQrdSxnPWQtdSx5PWMraCx3PXMqKGMtaCk7cltuXT1mK3kscltuKzFdPTAscltuKzJdPWcscltuKzNdPS13LHJbbis0XT1mLXkscltuKzVdPTAscltuKzZdPWcscltuKzddPXd9fWNsYXNzIEFne2NvbnN0cnVjdG9yKGUpe2NvbnN0IHI9MiooZS0xKSxuPTIqKDIqZS0xKSxhPTIqKk1hdGguY2VpbChNYXRoLmxvZzIobikpO3RoaXMuYnVmZmVyU2l6ZT1hLHRoaXMuX2E9cjtjb25zdCBpPW5ldyBGbG9hdDY0QXJyYXkobikscz1uZXcgRmxvYXQ2NEFycmF5KGEpO3RoaXMuX2NoaXJwQnVmZmVyPW5ldyBGbG9hdDY0QXJyYXkoYSksdGhpcy5fYnVmZmVyMT1uZXcgRmxvYXQ2NEFycmF5KGEpLHRoaXMuX2J1ZmZlcjI9bmV3IEZsb2F0NjRBcnJheShhKSx0aGlzLl9vdXRCdWZmZXIxPW5ldyBGbG9hdDY0QXJyYXkoYSksdGhpcy5fb3V0QnVmZmVyMj1uZXcgRmxvYXQ2NEFycmF5KGEpO2NvbnN0IG89LTIqTWF0aC5QSS9lLGw9TWF0aC5jb3MobyksZD1NYXRoLnNpbihvKTtmb3IobGV0IGM9MDtjPG4+PjE7KytjKXtjb25zdCB1PShjKzEtZSkqKjIvMixoPU1hdGguc3FydChsKioyK2QqKjIpKip1LGY9dSpNYXRoLmF0YW4yKGQsbCksZz0yKmM7aVtnXT1oKk1hdGguY29zKGYpLGlbZysxXT1oKk1hdGguc2luKGYpLHNbZ109aVtnXSxzW2crMV09LWlbZysxXX10aGlzLl9zbGljZWRDaGlycEJ1ZmZlcj1pLnN1YmFycmF5KHIsbiksdGhpcy5fZj1uZXcgRW8oYT4+MSksdGhpcy5fZi50cmFuc2Zvcm0odGhpcy5fY2hpcnBCdWZmZXIscyl9X3RyYW5zZm9ybShlLHIsbil7Y29uc3QgYT10aGlzLl9idWZmZXIxLGk9dGhpcy5fYnVmZmVyMixzPXRoaXMuX291dEJ1ZmZlcjEsbz10aGlzLl9vdXRCdWZmZXIyLGw9dGhpcy5fY2hpcnBCdWZmZXIsZD10aGlzLl9zbGljZWRDaGlycEJ1ZmZlcixjPXRoaXMuX2E7aWYobilmb3IobGV0IHU9MDt1PGQubGVuZ3RoO3UrPTIpe2NvbnN0IGg9dSsxLGY9dT4+MSxnPXJbZl07YVt1XT1nKmRbdV0sYVtoXT1nKmRbaF19ZWxzZSBmb3IobGV0IHU9MDt1PGQubGVuZ3RoO3UrPTIpe2NvbnN0IGg9dSsxO2FbdV09clt1XSpkW3VdLXJbaF0qZFtoXSxhW2hdPXJbdV0qZFtoXStyW2hdKmRbdV19dGhpcy5fZi50cmFuc2Zvcm0ocyxhKTtmb3IobGV0IHU9MDt1PGwubGVuZ3RoO3UrPTIpe2NvbnN0IGg9dSsxO2lbdV09c1t1XSpsW3VdLXNbaF0qbFtoXSxpW2hdPXNbdV0qbFtoXStzW2hdKmxbdV19dGhpcy5fZi5pbnZlcnNlVHJhbnNmb3JtKG8saSk7Zm9yKGxldCB1PTA7dTxvLmxlbmd0aDt1Kz0yKXtjb25zdCBoPW9bdStjXSxmPW9bdStjKzFdLGc9ZFt1XSx5PWRbdSsxXTtlW3VdPWgqZy1mKnksZVt1KzFdPWgqeStmKmd9fXRyYW5zZm9ybShlLHIpe3RoaXMuX3RyYW5zZm9ybShlLHIsITEpfXJlYWxUcmFuc2Zvcm0oZSxyKXt0aGlzLl90cmFuc2Zvcm0oZSxyLCEwKX19Y2xhc3MgVGd7Y29uc3RydWN0b3IoZSl7dGhpcy5mZnRfbGVuZ3RoPWUsdGhpcy5pc1Bvd2VyT2ZUd289U28oZSksdGhpcy5pc1Bvd2VyT2ZUd28/KHRoaXMuZmZ0PW5ldyBFbyhlKSx0aGlzLm91dHB1dEJ1ZmZlclNpemU9MiplKToodGhpcy5mZnQ9bmV3IEFnKGUpLHRoaXMub3V0cHV0QnVmZmVyU2l6ZT10aGlzLmZmdC5idWZmZXJTaXplKX1yZWFsVHJhbnNmb3JtKGUscil7dGhpcy5mZnQucmVhbFRyYW5zZm9ybShlLHIpfXRyYW5zZm9ybShlLHIpe3RoaXMuZmZ0LnRyYW5zZm9ybShlLHIpfX1mdW5jdGlvbiBPZyh0LGUpe2lmKGUlMj09PTB8fGU8PTApdGhyb3cgbmV3IEVycm9yKCJXaW5kb3cgc2l6ZSBtdXN0IGJlIGEgcG9zaXRpdmUgb2RkIG51bWJlciIpO2NvbnN0IHI9bmV3IHQuY29uc3RydWN0b3IodC5sZW5ndGgpLG49bmV3IHQuY29uc3RydWN0b3IoZSksYT1NYXRoLmZsb29yKGUvMik7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDsrK2kpe2xldCBzPTA7Zm9yKGxldCBvPS1hO288PWE7KytvKXtsZXQgbD1pK287bDwwP2w9TWF0aC5hYnMobCk6bD49dC5sZW5ndGgmJihsPTIqKHQubGVuZ3RoLTEpLWwpLG5bcysrXT10W2xdfW4uc29ydCgpLHJbaV09blthXX1yZXR1cm4gcn1mdW5jdGlvbiBhbih0LGUpe2NvbnN0IHI9TWF0aC5wb3coMTAsZSk7cmV0dXJuIE1hdGgucm91bmQodCpyKS9yfWZ1bmN0aW9uIE1nKHQpe2NvbnN0IGU9TWF0aC5yb3VuZCh0KTtyZXR1cm4gTWF0aC5hYnModCklMT09PS41P2UlMj09PTA/ZTplLTE6ZX12YXIgSWk9T2JqZWN0LmRlZmluZVByb3BlcnR5LHpnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsQmc9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsUmc9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxRPSh0LGUpPT4oKT0+KHQmJihlPXQodD0wKSksZSksRHI9KHQsZSk9PigpPT4oZXx8dCgoZT17ZXhwb3J0czp7fX0pLmV4cG9ydHMsZSksZS5leHBvcnRzKSxOcj0odCxlKT0+e2Zvcih2YXIgciBpbiBlKUlpKHQscix7Z2V0OmVbcl0sZW51bWVyYWJsZTohMH0pfSxQZz0odCxlLHIsbik9PntpZihlJiZ0eXBlb2YgZT09Im9iamVjdCJ8fHR5cGVvZiBlPT0iZnVuY3Rpb24iKWZvcihsZXQgYSBvZiBCZyhlKSkhUmcuY2FsbCh0LGEpJiZhIT09ciYmSWkodCxhLHtnZXQ6KCk9PmVbYV0sZW51bWVyYWJsZTohKG49emcoZSxhKSl8fG4uZW51bWVyYWJsZX0pO3JldHVybiB0fSx3cj10PT5QZyhJaSh7fSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdCksc24sdXIsVXIsQWksVGk9USgoKT0+e3NuPW5ldyBNYXAsdXI9W10sVXI9KHQsZSxyKT0+e2lmKGUmJnR5cGVvZiBlLmluaXQ9PSJmdW5jdGlvbiImJnR5cGVvZiBlLmNyZWF0ZUluZmVyZW5jZVNlc3Npb25IYW5kbGVyPT0iZnVuY3Rpb24iKXtsZXQgbj1zbi5nZXQodCk7aWYobj09PXZvaWQgMClzbi5zZXQodCx7YmFja2VuZDplLHByaW9yaXR5OnJ9KTtlbHNle2lmKG4ucHJpb3JpdHk+cilyZXR1cm47aWYobi5wcmlvcml0eT09PXImJm4uYmFja2VuZCE9PWUpdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgcmVnaXN0ZXIgYmFja2VuZCAiJHt0fSIgdXNpbmcgcHJpb3JpdHkgJHtyfWApfWlmKHI+PTApe2xldCBhPXVyLmluZGV4T2YodCk7YSE9PS0xJiZ1ci5zcGxpY2UoYSwxKTtmb3IobGV0IGk9MDtpPHVyLmxlbmd0aDtpKyspaWYoc24uZ2V0KHVyW2ldKS5wcmlvcml0eTw9cil7dXIuc3BsaWNlKGksMCx0KTtyZXR1cm59dXIucHVzaCh0KX1yZXR1cm59dGhyb3cgbmV3IFR5cGVFcnJvcigibm90IGEgdmFsaWQgYmFja2VuZCIpfSxBaT1hc3luYyB0PT57bGV0IGU9dC5sZW5ndGg9PT0wP3VyOnQscj1bXTtmb3IobGV0IG4gb2YgZSl7bGV0IGE9c24uZ2V0KG4pO2lmKGEpe2lmKGEuaW5pdGlhbGl6ZWQpcmV0dXJuIGEuYmFja2VuZDtpZihhLmFib3J0ZWQpY29udGludWU7bGV0IGk9ISFhLmluaXRQcm9taXNlO3RyeXtyZXR1cm4gaXx8KGEuaW5pdFByb21pc2U9YS5iYWNrZW5kLmluaXQobikpLGF3YWl0IGEuaW5pdFByb21pc2UsYS5pbml0aWFsaXplZD0hMCxhLmJhY2tlbmR9Y2F0Y2gocyl7aXx8ci5wdXNoKHtuYW1lOm4sZXJyOnN9KSxhLmFib3J0ZWQ9ITB9ZmluYWxseXtkZWxldGUgYS5pbml0UHJvbWlzZX19fXRocm93IG5ldyBFcnJvcihgbm8gYXZhaWxhYmxlIGJhY2tlbmQgZm91bmQuIEVSUjogJHtyLm1hcChuPT5gWyR7bi5uYW1lfV0gJHtuLmVycn1gKS5qb2luKCIsICIpfWApfX0pLERnPVEoKCk9PntUaSgpfSksQ28sTmc9USgoKT0+e0NvPSIxLjE3LjEifSksT2ksV3IsSW89USgoKT0+e05nKCksT2k9Indhcm5pbmciLFdyPXt3YXNtOnt9LHdlYmdsOnt9LHdlYmdwdTp7fSx2ZXJzaW9uczp7Y29tbW9uOkNvfSxzZXQgbG9nTGV2ZWwodCl7aWYodCE9PXZvaWQgMCl7aWYodHlwZW9mIHQhPSJzdHJpbmcifHxbInZlcmJvc2UiLCJpbmZvIiwid2FybmluZyIsImVycm9yIiwiZmF0YWwiXS5pbmRleE9mKHQpPT09LTEpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBsb2dnaW5nIGxldmVsOiAke3R9YCk7T2k9dH19LGdldCBsb2dMZXZlbCgpe3JldHVybiBPaX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXciwibG9nTGV2ZWwiLHtlbnVtZXJhYmxlOiEwfSl9KSxEZSxVZz1RKCgpPT57SW8oKSxEZT1Xcn0pLEFvLFRvLFdnPVEoKCk9PntBbz0odCxlKT0+e2xldCByPXR5cGVvZiBkb2N1bWVudDwidSI/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik6bmV3IE9mZnNjcmVlbkNhbnZhcygxLDEpO3Iud2lkdGg9dC5kaW1zWzNdLHIuaGVpZ2h0PXQuZGltc1syXTtsZXQgbj1yLmdldENvbnRleHQoIjJkIik7aWYobiE9bnVsbCl7bGV0IGEsaTtlPy50ZW5zb3JMYXlvdXQhPT12b2lkIDAmJmUudGVuc29yTGF5b3V0PT09Ik5IV0MiPyhhPXQuZGltc1syXSxpPXQuZGltc1szXSk6KGE9dC5kaW1zWzNdLGk9dC5kaW1zWzJdKTtsZXQgcz1lPy5mb3JtYXQhPT12b2lkIDA/ZS5mb3JtYXQ6IlJHQiIsbz1lPy5ub3JtLGwsZDtvPT09dm9pZCAwfHxvLm1lYW49PT12b2lkIDA/bD1bMjU1LDI1NSwyNTUsMjU1XTp0eXBlb2Ygby5tZWFuPT0ibnVtYmVyIj9sPVtvLm1lYW4sby5tZWFuLG8ubWVhbixvLm1lYW5dOihsPVtvLm1lYW5bMF0sby5tZWFuWzFdLG8ubWVhblsyXSwwXSxvLm1lYW5bM10hPT12b2lkIDAmJihsWzNdPW8ubWVhblszXSkpLG89PT12b2lkIDB8fG8uYmlhcz09PXZvaWQgMD9kPVswLDAsMCwwXTp0eXBlb2Ygby5iaWFzPT0ibnVtYmVyIj9kPVtvLmJpYXMsby5iaWFzLG8uYmlhcyxvLmJpYXNdOihkPVtvLmJpYXNbMF0sby5iaWFzWzFdLG8uYmlhc1syXSwwXSxvLmJpYXNbM10hPT12b2lkIDAmJihkWzNdPW8uYmlhc1szXSkpO2xldCBjPWkqYSx1PTAsaD1jLGY9YyoyLGc9LTE7cz09PSJSR0JBIj8odT0wLGg9YyxmPWMqMixnPWMqMyk6cz09PSJSR0IiPyh1PTAsaD1jLGY9YyoyKTpzPT09IlJCRyImJih1PTAsZj1jLGg9YyoyKTtmb3IobGV0IHk9MDt5PGk7eSsrKWZvcihsZXQgdz0wO3c8YTt3Kyspe2xldCB2PSh0LmRhdGFbdSsrXS1kWzBdKSpsWzBdLGs9KHQuZGF0YVtoKytdLWRbMV0pKmxbMV0sRT0odC5kYXRhW2YrK10tZFsyXSkqbFsyXSx4PWc9PT0tMT8yNTU6KHQuZGF0YVtnKytdLWRbM10pKmxbM107bi5maWxsU3R5bGU9InJnYmEoIit2KyIsIitrKyIsIitFKyIsIit4KyIpIixuLmZpbGxSZWN0KHcseSwxLDEpfWlmKCJ0b0RhdGFVUkwiaW4gcilyZXR1cm4gci50b0RhdGFVUkwoKTt0aHJvdyBuZXcgRXJyb3IoInRvRGF0YVVSTCBpcyBub3Qgc3VwcG9ydGVkIil9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkNhbiBub3QgYWNjZXNzIGltYWdlIGRhdGEiKX0sVG89KHQsZSk9PntsZXQgcj10eXBlb2YgZG9jdW1lbnQ8InUiP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLmdldENvbnRleHQoIjJkIik6bmV3IE9mZnNjcmVlbkNhbnZhcygxLDEpLmdldENvbnRleHQoIjJkIiksbjtpZihyIT1udWxsKXtsZXQgYSxpLHM7ZT8udGVuc29yTGF5b3V0IT09dm9pZCAwJiZlLnRlbnNvckxheW91dD09PSJOSFdDIj8oYT10LmRpbXNbMl0saT10LmRpbXNbMV0scz10LmRpbXNbM10pOihhPXQuZGltc1szXSxpPXQuZGltc1syXSxzPXQuZGltc1sxXSk7bGV0IG89ZSE9PXZvaWQgMCYmZS5mb3JtYXQhPT12b2lkIDA/ZS5mb3JtYXQ6IlJHQiIsbD1lPy5ub3JtLGQsYztsPT09dm9pZCAwfHxsLm1lYW49PT12b2lkIDA/ZD1bMjU1LDI1NSwyNTUsMjU1XTp0eXBlb2YgbC5tZWFuPT0ibnVtYmVyIj9kPVtsLm1lYW4sbC5tZWFuLGwubWVhbixsLm1lYW5dOihkPVtsLm1lYW5bMF0sbC5tZWFuWzFdLGwubWVhblsyXSwyNTVdLGwubWVhblszXSE9PXZvaWQgMCYmKGRbM109bC5tZWFuWzNdKSksbD09PXZvaWQgMHx8bC5iaWFzPT09dm9pZCAwP2M9WzAsMCwwLDBdOnR5cGVvZiBsLmJpYXM9PSJudW1iZXIiP2M9W2wuYmlhcyxsLmJpYXMsbC5iaWFzLGwuYmlhc106KGM9W2wuYmlhc1swXSxsLmJpYXNbMV0sbC5iaWFzWzJdLDBdLGwuYmlhc1szXSE9PXZvaWQgMCYmKGNbM109bC5iaWFzWzNdKSk7bGV0IHU9aSphO2lmKGUhPT12b2lkIDAmJihlLmZvcm1hdCE9PXZvaWQgMCYmcz09PTQmJmUuZm9ybWF0IT09IlJHQkEifHxzPT09MyYmZS5mb3JtYXQhPT0iUkdCIiYmZS5mb3JtYXQhPT0iQkdSIikpdGhyb3cgbmV3IEVycm9yKCJUZW5zb3IgZm9ybWF0IGRvZXNuJ3QgbWF0Y2ggaW5wdXQgdGVuc29yIGRpbXMiKTtsZXQgaD00LGY9MCxnPTEseT0yLHc9Myx2PTAsaz11LEU9dSoyLHg9LTE7bz09PSJSR0JBIj8odj0wLGs9dSxFPXUqMix4PXUqMyk6bz09PSJSR0IiPyh2PTAsaz11LEU9dSoyKTpvPT09IlJCRyImJih2PTAsRT11LGs9dSoyKSxuPXIuY3JlYXRlSW1hZ2VEYXRhKGEsaSk7Zm9yKGxldCBJPTA7STxpKmE7Zis9aCxnKz1oLHkrPWgsdys9aCxJKyspbi5kYXRhW2ZdPSh0LmRhdGFbdisrXS1jWzBdKSpkWzBdLG4uZGF0YVtnXT0odC5kYXRhW2srK10tY1sxXSkqZFsxXSxuLmRhdGFbeV09KHQuZGF0YVtFKytdLWNbMl0pKmRbMl0sbi5kYXRhW3ddPXg9PT0tMT8yNTU6KHQuZGF0YVt4KytdLWNbM10pKmRbM119ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkNhbiBub3QgYWNjZXNzIGltYWdlIGRhdGEiKTtyZXR1cm4gbn19KSxmYSxPbyxNbyx6byxCbyxMZz1RKCgpPT57emkoKSxmYT0odCxlKT0+e2lmKHQ9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJJbWFnZSBidWZmZXIgbXVzdCBiZSBkZWZpbmVkIik7aWYoZS5oZWlnaHQ9PT12b2lkIDB8fGUud2lkdGg9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJJbWFnZSBoZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgZGVmaW5lZCIpO2lmKGUudGVuc29yTGF5b3V0PT09Ik5IV0MiKXRocm93IG5ldyBFcnJvcigiTkhXQyBUZW5zb3IgbGF5b3V0IGlzIG5vdCBzdXBwb3J0ZWQgeWV0Iik7bGV0e2hlaWdodDpyLHdpZHRoOm59PWUsYT1lLm5vcm0/P3ttZWFuOjI1NSxiaWFzOjB9LGksczt0eXBlb2YgYS5tZWFuPT0ibnVtYmVyIj9pPVthLm1lYW4sYS5tZWFuLGEubWVhbixhLm1lYW5dOmk9W2EubWVhblswXSxhLm1lYW5bMV0sYS5tZWFuWzJdLGEubWVhblszXT8/MjU1XSx0eXBlb2YgYS5iaWFzPT0ibnVtYmVyIj9zPVthLmJpYXMsYS5iaWFzLGEuYmlhcyxhLmJpYXNdOnM9W2EuYmlhc1swXSxhLmJpYXNbMV0sYS5iaWFzWzJdLGEuYmlhc1szXT8/MF07bGV0IG89ZS5mb3JtYXQhPT12b2lkIDA/ZS5mb3JtYXQ6IlJHQkEiLGw9ZS50ZW5zb3JGb3JtYXQhPT12b2lkIDAmJmUudGVuc29yRm9ybWF0IT09dm9pZCAwP2UudGVuc29yRm9ybWF0OiJSR0IiLGQ9cipuLGM9bD09PSJSR0JBIj9uZXcgRmxvYXQzMkFycmF5KGQqNCk6bmV3IEZsb2F0MzJBcnJheShkKjMpLHU9NCxoPTAsZj0xLGc9Mix5PTMsdz0wLHY9ZCxrPWQqMixFPS0xO289PT0iUkdCIiYmKHU9MyxoPTAsZj0xLGc9Mix5PS0xKSxsPT09IlJHQkEiP0U9ZCozOmw9PT0iUkJHIj8odz0wLGs9ZCx2PWQqMik6bD09PSJCR1IiJiYoaz0wLHY9ZCx3PWQqMik7Zm9yKGxldCB4PTA7eDxkO3grKyxoKz11LGcrPXUsZis9dSx5Kz11KWNbdysrXT0odFtoXStzWzBdKS9pWzBdLGNbdisrXT0odFtmXStzWzFdKS9pWzFdLGNbaysrXT0odFtnXStzWzJdKS9pWzJdLEUhPT0tMSYmeSE9PS0xJiYoY1tFKytdPSh0W3ldK3NbM10pL2lbM10pO3JldHVybiBsPT09IlJHQkEiP25ldyBCdCgiZmxvYXQzMiIsYyxbMSw0LHIsbl0pOm5ldyBCdCgiZmxvYXQzMiIsYyxbMSwzLHIsbl0pfSxPbz1hc3luYyh0LGUpPT57bGV0IHI9dHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQ8InUiJiZ0IGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCxuPXR5cGVvZiBJbWFnZURhdGE8InUiJiZ0IGluc3RhbmNlb2YgSW1hZ2VEYXRhLGE9dHlwZW9mIEltYWdlQml0bWFwPCJ1IiYmdCBpbnN0YW5jZW9mIEltYWdlQml0bWFwLGk9dHlwZW9mIHQ9PSJzdHJpbmciLHMsbz1lPz97fSxsPSgpPT57aWYodHlwZW9mIGRvY3VtZW50PCJ1IilyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7aWYodHlwZW9mIE9mZnNjcmVlbkNhbnZhczwidSIpcmV0dXJuIG5ldyBPZmZzY3JlZW5DYW52YXMoMSwxKTt0aHJvdyBuZXcgRXJyb3IoIkNhbnZhcyBpcyBub3Qgc3VwcG9ydGVkIil9LGQ9Yz0+YyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHxjIGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzP2MuZ2V0Q29udGV4dCgiMmQiKTpudWxsO2lmKHIpe2xldCBjPWwoKTtjLndpZHRoPXQud2lkdGgsYy5oZWlnaHQ9dC5oZWlnaHQ7bGV0IHU9ZChjKTtpZih1IT1udWxsKXtsZXQgaD10LmhlaWdodCxmPXQud2lkdGg7aWYoZSE9PXZvaWQgMCYmZS5yZXNpemVkSGVpZ2h0IT09dm9pZCAwJiZlLnJlc2l6ZWRXaWR0aCE9PXZvaWQgMCYmKGg9ZS5yZXNpemVkSGVpZ2h0LGY9ZS5yZXNpemVkV2lkdGgpLGUhPT12b2lkIDApe2lmKG89ZSxlLnRlbnNvckZvcm1hdCE9PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkltYWdlIGlucHV0IGNvbmZpZyBmb3JtYXQgbXVzdCBiZSBSR0JBIGZvciBIVE1MSW1hZ2VFbGVtZW50Iik7by50ZW5zb3JGb3JtYXQ9IlJHQkEiLG8uaGVpZ2h0PWgsby53aWR0aD1mfWVsc2Ugby50ZW5zb3JGb3JtYXQ9IlJHQkEiLG8uaGVpZ2h0PWgsby53aWR0aD1mO3UuZHJhd0ltYWdlKHQsMCwwKSxzPXUuZ2V0SW1hZ2VEYXRhKDAsMCxmLGgpLmRhdGF9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkNhbiBub3QgYWNjZXNzIGltYWdlIGRhdGEiKX1lbHNlIGlmKG4pe2xldCBjLHU7aWYoZSE9PXZvaWQgMCYmZS5yZXNpemVkV2lkdGghPT12b2lkIDAmJmUucmVzaXplZEhlaWdodCE9PXZvaWQgMD8oYz1lLnJlc2l6ZWRIZWlnaHQsdT1lLnJlc2l6ZWRXaWR0aCk6KGM9dC5oZWlnaHQsdT10LndpZHRoKSxlIT09dm9pZCAwJiYobz1lKSxvLmZvcm1hdD0iUkdCQSIsby5oZWlnaHQ9YyxvLndpZHRoPXUsZSE9PXZvaWQgMCl7bGV0IGg9bCgpO2gud2lkdGg9dSxoLmhlaWdodD1jO2xldCBmPWQoaCk7aWYoZiE9bnVsbClmLnB1dEltYWdlRGF0YSh0LDAsMCkscz1mLmdldEltYWdlRGF0YSgwLDAsdSxjKS5kYXRhO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJDYW4gbm90IGFjY2VzcyBpbWFnZSBkYXRhIil9ZWxzZSBzPXQuZGF0YX1lbHNlIGlmKGEpe2lmKGU9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJQbGVhc2UgcHJvdmlkZSBpbWFnZSBjb25maWcgd2l0aCBmb3JtYXQgZm9yIEltYWdlYml0bWFwIik7bGV0IGM9bCgpO2Mud2lkdGg9dC53aWR0aCxjLmhlaWdodD10LmhlaWdodDtsZXQgdT1kKGMpO2lmKHUhPW51bGwpe2xldCBoPXQuaGVpZ2h0LGY9dC53aWR0aDtyZXR1cm4gdS5kcmF3SW1hZ2UodCwwLDAsZixoKSxzPXUuZ2V0SW1hZ2VEYXRhKDAsMCxmLGgpLmRhdGEsby5oZWlnaHQ9aCxvLndpZHRoPWYsZmEocyxvKX1lbHNlIHRocm93IG5ldyBFcnJvcigiQ2FuIG5vdCBhY2Nlc3MgaW1hZ2UgZGF0YSIpfWVsc2V7aWYoaSlyZXR1cm4gbmV3IFByb21pc2UoKGMsdSk9PntsZXQgaD1sKCksZj1kKGgpO2lmKCF0fHwhZilyZXR1cm4gdSgpO2xldCBnPW5ldyBJbWFnZTtnLmNyb3NzT3JpZ2luPSJBbm9ueW1vdXMiLGcuc3JjPXQsZy5vbmxvYWQ9KCk9PntoLndpZHRoPWcud2lkdGgsaC5oZWlnaHQ9Zy5oZWlnaHQsZi5kcmF3SW1hZ2UoZywwLDAsaC53aWR0aCxoLmhlaWdodCk7bGV0IHk9Zi5nZXRJbWFnZURhdGEoMCwwLGgud2lkdGgsaC5oZWlnaHQpO28uaGVpZ2h0PWguaGVpZ2h0LG8ud2lkdGg9aC53aWR0aCxjKGZhKHkuZGF0YSxvKSl9fSk7dGhyb3cgbmV3IEVycm9yKCJJbnB1dCBkYXRhIHByb3ZpZGVkIGlzIG5vdCBzdXBwb3J0ZWQgLSBhYm9ydGVkIHRlbnNvciBjcmVhdGlvbiIpfWlmKHMhPT12b2lkIDApcmV0dXJuIGZhKHMsbyk7dGhyb3cgbmV3IEVycm9yKCJJbnB1dCBkYXRhIHByb3ZpZGVkIGlzIG5vdCBzdXBwb3J0ZWQgLSBhYm9ydGVkIHRlbnNvciBjcmVhdGlvbiIpfSxNbz0odCxlKT0+e2xldHt3aWR0aDpyLGhlaWdodDpuLGRvd25sb2FkOmEsZGlzcG9zZTppfT1lLHM9WzEsbixyLDRdO3JldHVybiBuZXcgQnQoe2xvY2F0aW9uOiJ0ZXh0dXJlIix0eXBlOiJmbG9hdDMyIix0ZXh0dXJlOnQsZGltczpzLGRvd25sb2FkOmEsZGlzcG9zZTppfSl9LHpvPSh0LGUpPT57bGV0e2RhdGFUeXBlOnIsZGltczpuLGRvd25sb2FkOmEsZGlzcG9zZTppfT1lO3JldHVybiBuZXcgQnQoe2xvY2F0aW9uOiJncHUtYnVmZmVyIix0eXBlOnI/PyJmbG9hdDMyIixncHVCdWZmZXI6dCxkaW1zOm4sZG93bmxvYWQ6YSxkaXNwb3NlOml9KX0sQm89KHQsZSxyKT0+bmV3IEJ0KHtsb2NhdGlvbjoiY3B1LXBpbm5lZCIsdHlwZTp0LGRhdGE6ZSxkaW1zOnI/P1tlLmxlbmd0aF19KX0pLG9uLG1hLE1pLFJvLEZnPVEoKCk9Pntvbj1uZXcgTWFwKFtbImZsb2F0MzIiLEZsb2F0MzJBcnJheV0sWyJ1aW50OCIsVWludDhBcnJheV0sWyJpbnQ4IixJbnQ4QXJyYXldLFsidWludDE2IixVaW50MTZBcnJheV0sWyJmbG9hdDE2IixVaW50MTZBcnJheV0sWyJpbnQxNiIsSW50MTZBcnJheV0sWyJpbnQzMiIsSW50MzJBcnJheV0sWyJib29sIixVaW50OEFycmF5XSxbImZsb2F0NjQiLEZsb2F0NjRBcnJheV0sWyJ1aW50MzIiLFVpbnQzMkFycmF5XV0pLG1hPW5ldyBNYXAoW1tGbG9hdDMyQXJyYXksImZsb2F0MzIiXSxbVWludDhBcnJheSwidWludDgiXSxbSW50OEFycmF5LCJpbnQ4Il0sW1VpbnQxNkFycmF5LCJ1aW50MTYiXSxbSW50MTZBcnJheSwiaW50MTYiXSxbSW50MzJBcnJheSwiaW50MzIiXSxbRmxvYXQ2NEFycmF5LCJmbG9hdDY0Il0sW1VpbnQzMkFycmF5LCJ1aW50MzIiXV0pLE1pPSExLFJvPSgpPT57aWYoIU1pKXtNaT0hMDtsZXQgdD10eXBlb2YgQmlnSW50NjRBcnJheTwidSImJnR5cGVvZiBCaWdJbnQ2NEFycmF5LmZyb209PSJmdW5jdGlvbiIsZT10eXBlb2YgQmlnVWludDY0QXJyYXk8InUiJiZ0eXBlb2YgQmlnVWludDY0QXJyYXkuZnJvbT09ImZ1bmN0aW9uIjt0JiYob24uc2V0KCJpbnQ2NCIsQmlnSW50NjRBcnJheSksbWEuc2V0KEJpZ0ludDY0QXJyYXksImludDY0IikpLGUmJihvbi5zZXQoInVpbnQ2NCIsQmlnVWludDY0QXJyYXkpLG1hLnNldChCaWdVaW50NjRBcnJheSwidWludDY0IikpfX19KSxQbyxEbyxWZz1RKCgpPT57emkoKSxQbz10PT57bGV0IGU9MTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7bGV0IG49dFtyXTtpZih0eXBlb2YgbiE9Im51bWJlciJ8fCFOdW1iZXIuaXNTYWZlSW50ZWdlcihuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGBkaW1zWyR7cn1dIG11c3QgYmUgYW4gaW50ZWdlciwgZ290OiAke259YCk7aWYobjwwKXRocm93IG5ldyBSYW5nZUVycm9yKGBkaW1zWyR7cn1dIG11c3QgYmUgYSBub24tbmVnYXRpdmUgaW50ZWdlciwgZ290OiAke259YCk7ZSo9bn1yZXR1cm4gZX0sRG89KHQsZSk9Pntzd2l0Y2godC5sb2NhdGlvbil7Y2FzZSJjcHUiOnJldHVybiBuZXcgQnQodC50eXBlLHQuZGF0YSxlKTtjYXNlImNwdS1waW5uZWQiOnJldHVybiBuZXcgQnQoe2xvY2F0aW9uOiJjcHUtcGlubmVkIixkYXRhOnQuZGF0YSx0eXBlOnQudHlwZSxkaW1zOmV9KTtjYXNlInRleHR1cmUiOnJldHVybiBuZXcgQnQoe2xvY2F0aW9uOiJ0ZXh0dXJlIix0ZXh0dXJlOnQudGV4dHVyZSx0eXBlOnQudHlwZSxkaW1zOmV9KTtjYXNlImdwdS1idWZmZXIiOnJldHVybiBuZXcgQnQoe2xvY2F0aW9uOiJncHUtYnVmZmVyIixncHVCdWZmZXI6dC5ncHVCdWZmZXIsdHlwZTp0LnR5cGUsZGltczplfSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHRlbnNvclJlc2hhcGU6IHRlbnNvciBsb2NhdGlvbiAke3QubG9jYXRpb259IGlzIG5vdCBzdXBwb3J0ZWRgKX19fSksQnQsemk9USgoKT0+e1dnKCksTGcoKSxGZygpLFZnKCksQnQ9Y2xhc3N7Y29uc3RydWN0b3IodCxlLHIpe1JvKCk7bGV0IG4sYTtpZih0eXBlb2YgdD09Im9iamVjdCImJiJsb2NhdGlvbiJpbiB0KXN3aXRjaCh0aGlzLmRhdGFMb2NhdGlvbj10LmxvY2F0aW9uLG49dC50eXBlLGE9dC5kaW1zLHQubG9jYXRpb24pe2Nhc2UiY3B1LXBpbm5lZCI6e2xldCBzPW9uLmdldChuKTtpZighcyl0aHJvdyBuZXcgVHlwZUVycm9yKGB1bnN1cHBvcnRlZCB0eXBlICIke259IiB0byBjcmVhdGUgdGVuc29yIGZyb20gcGlubmVkIGJ1ZmZlcmApO2lmKCEodC5kYXRhIGluc3RhbmNlb2YgcykpdGhyb3cgbmV3IFR5cGVFcnJvcihgYnVmZmVyIHNob3VsZCBiZSBvZiB0eXBlICR7cy5uYW1lfWApO3RoaXMuY3B1RGF0YT10LmRhdGE7YnJlYWt9Y2FzZSJ0ZXh0dXJlIjp7aWYobiE9PSJmbG9hdDMyIil0aHJvdyBuZXcgVHlwZUVycm9yKGB1bnN1cHBvcnRlZCB0eXBlICIke259IiB0byBjcmVhdGUgdGVuc29yIGZyb20gdGV4dHVyZWApO3RoaXMuZ3B1VGV4dHVyZURhdGE9dC50ZXh0dXJlLHRoaXMuZG93bmxvYWRlcj10LmRvd25sb2FkLHRoaXMuZGlzcG9zZXI9dC5kaXNwb3NlO2JyZWFrfWNhc2UiZ3B1LWJ1ZmZlciI6e2lmKG4hPT0iZmxvYXQzMiImJm4hPT0iZmxvYXQxNiImJm4hPT0iaW50MzIiJiZuIT09ImludDY0IiYmbiE9PSJ1aW50MzIiJiZuIT09ImJvb2wiKXRocm93IG5ldyBUeXBlRXJyb3IoYHVuc3VwcG9ydGVkIHR5cGUgIiR7bn0iIHRvIGNyZWF0ZSB0ZW5zb3IgZnJvbSBncHUgYnVmZmVyYCk7dGhpcy5ncHVCdWZmZXJEYXRhPXQuZ3B1QnVmZmVyLHRoaXMuZG93bmxvYWRlcj10LmRvd25sb2FkLHRoaXMuZGlzcG9zZXI9dC5kaXNwb3NlO2JyZWFrfWRlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBUZW5zb3IgY29uc3RydWN0b3I6IHVuc3VwcG9ydGVkIGxvY2F0aW9uICcke3RoaXMuZGF0YUxvY2F0aW9ufSdgKX1lbHNle2xldCBzLG87aWYodHlwZW9mIHQ9PSJzdHJpbmciKWlmKG49dCxvPXIsdD09PSJzdHJpbmciKXtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBIHN0cmluZyB0ZW5zb3IncyBkYXRhIG11c3QgYmUgYSBzdHJpbmcgYXJyYXkuIik7cz1lfWVsc2V7bGV0IGw9b24uZ2V0KHQpO2lmKGw9PT12b2lkIDApdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5zdXBwb3J0ZWQgdGVuc29yIHR5cGU6ICR7dH0uYCk7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYodD09PSJmbG9hdDE2Iil0aHJvdyBuZXcgVHlwZUVycm9yKCJDcmVhdGluZyBhIGZsb2F0MTYgdGVuc29yIGZyb20gbnVtYmVyIGFycmF5IGlzIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSB1c2UgVWludDE2QXJyYXkgYXMgZGF0YS4iKTt0PT09InVpbnQ2NCJ8fHQ9PT0iaW50NjQiP3M9bC5mcm9tKGUsQmlnSW50KTpzPWwuZnJvbShlKX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBsKXM9ZTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoYEEgJHtufSB0ZW5zb3IncyBkYXRhIG11c3QgYmUgdHlwZSBvZiAke2x9YCl9ZWxzZSBpZihvPWUsQXJyYXkuaXNBcnJheSh0KSl7aWYodC5sZW5ndGg9PT0wKXRocm93IG5ldyBUeXBlRXJyb3IoIlRlbnNvciB0eXBlIGNhbm5vdCBiZSBpbmZlcnJlZCBmcm9tIGFuIGVtcHR5IGFycmF5LiIpO2xldCBsPXR5cGVvZiB0WzBdO2lmKGw9PT0ic3RyaW5nIiluPSJzdHJpbmciLHM9dDtlbHNlIGlmKGw9PT0iYm9vbGVhbiIpbj0iYm9vbCIscz1VaW50OEFycmF5LmZyb20odCk7ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIGVsZW1lbnQgdHlwZSBvZiBkYXRhIGFycmF5OiAke2x9LmApfWVsc2V7bGV0IGw9bWEuZ2V0KHQuY29uc3RydWN0b3IpO2lmKGw9PT12b2lkIDApdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5zdXBwb3J0ZWQgdHlwZSBmb3IgdGVuc29yIGRhdGE6ICR7dC5jb25zdHJ1Y3Rvcn0uYCk7bj1sLHM9dH1pZihvPT09dm9pZCAwKW89W3MubGVuZ3RoXTtlbHNlIGlmKCFBcnJheS5pc0FycmF5KG8pKXRocm93IG5ldyBUeXBlRXJyb3IoIkEgdGVuc29yJ3MgZGltcyBtdXN0IGJlIGEgbnVtYmVyIGFycmF5Iik7YT1vLHRoaXMuY3B1RGF0YT1zLHRoaXMuZGF0YUxvY2F0aW9uPSJjcHUifWxldCBpPVBvKGEpO2lmKHRoaXMuY3B1RGF0YSYmaSE9PXRoaXMuY3B1RGF0YS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBUZW5zb3IncyBzaXplKCR7aX0pIGRvZXMgbm90IG1hdGNoIGRhdGEgbGVuZ3RoKCR7dGhpcy5jcHVEYXRhLmxlbmd0aH0pLmApO3RoaXMudHlwZT1uLHRoaXMuZGltcz1hLHRoaXMuc2l6ZT1pfXN0YXRpYyBhc3luYyBmcm9tSW1hZ2UodCxlKXtyZXR1cm4gT28odCxlKX1zdGF0aWMgZnJvbVRleHR1cmUodCxlKXtyZXR1cm4gTW8odCxlKX1zdGF0aWMgZnJvbUdwdUJ1ZmZlcih0LGUpe3JldHVybiB6byh0LGUpfXN0YXRpYyBmcm9tUGlubmVkQnVmZmVyKHQsZSxyKXtyZXR1cm4gQm8odCxlLHIpfXRvRGF0YVVSTCh0KXtyZXR1cm4gQW8odGhpcyx0KX10b0ltYWdlRGF0YSh0KXtyZXR1cm4gVG8odGhpcyx0KX1nZXQgZGF0YSgpe2lmKHRoaXMuZW5zdXJlVmFsaWQoKSwhdGhpcy5jcHVEYXRhKXRocm93IG5ldyBFcnJvcigiVGhlIGRhdGEgaXMgbm90IG9uIENQVS4gVXNlIGBnZXREYXRhKClgIHRvIGRvd25sb2FkIEdQVSBkYXRhIHRvIENQVSwgb3IgdXNlIGB0ZXh0dXJlYCBvciBgZ3B1QnVmZmVyYCBwcm9wZXJ0eSB0byBhY2Nlc3MgdGhlIEdQVSBkYXRhIGRpcmVjdGx5LiIpO3JldHVybiB0aGlzLmNwdURhdGF9Z2V0IGxvY2F0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YUxvY2F0aW9ufWdldCB0ZXh0dXJlKCl7aWYodGhpcy5lbnN1cmVWYWxpZCgpLCF0aGlzLmdwdVRleHR1cmVEYXRhKXRocm93IG5ldyBFcnJvcigiVGhlIGRhdGEgaXMgbm90IHN0b3JlZCBhcyBhIFdlYkdMIHRleHR1cmUuIik7cmV0dXJuIHRoaXMuZ3B1VGV4dHVyZURhdGF9Z2V0IGdwdUJ1ZmZlcigpe2lmKHRoaXMuZW5zdXJlVmFsaWQoKSwhdGhpcy5ncHVCdWZmZXJEYXRhKXRocm93IG5ldyBFcnJvcigiVGhlIGRhdGEgaXMgbm90IHN0b3JlZCBhcyBhIFdlYkdQVSBidWZmZXIuIik7cmV0dXJuIHRoaXMuZ3B1QnVmZmVyRGF0YX1hc3luYyBnZXREYXRhKHQpe3N3aXRjaCh0aGlzLmVuc3VyZVZhbGlkKCksdGhpcy5kYXRhTG9jYXRpb24pe2Nhc2UiY3B1IjpjYXNlImNwdS1waW5uZWQiOnJldHVybiB0aGlzLmRhdGE7Y2FzZSJ0ZXh0dXJlIjpjYXNlImdwdS1idWZmZXIiOntpZighdGhpcy5kb3dubG9hZGVyKXRocm93IG5ldyBFcnJvcigiVGhlIGN1cnJlbnQgdGVuc29yIGlzIG5vdCBjcmVhdGVkIHdpdGggYSBzcGVjaWZpZWQgZGF0YSBkb3dubG9hZGVyLiIpO2lmKHRoaXMuaXNEb3dubG9hZGluZyl0aHJvdyBuZXcgRXJyb3IoIlRoZSBjdXJyZW50IHRlbnNvciBpcyBiZWluZyBkb3dubG9hZGVkLiIpO3RyeXt0aGlzLmlzRG93bmxvYWRpbmc9ITA7bGV0IGU9YXdhaXQgdGhpcy5kb3dubG9hZGVyKCk7cmV0dXJuIHRoaXMuZG93bmxvYWRlcj12b2lkIDAsdGhpcy5kYXRhTG9jYXRpb249ImNwdSIsdGhpcy5jcHVEYXRhPWUsdCYmdGhpcy5kaXNwb3NlciYmKHRoaXMuZGlzcG9zZXIoKSx0aGlzLmRpc3Bvc2VyPXZvaWQgMCksZX1maW5hbGx5e3RoaXMuaXNEb3dubG9hZGluZz0hMX19ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBnZXQgZGF0YSBmcm9tIGxvY2F0aW9uOiAke3RoaXMuZGF0YUxvY2F0aW9ufWApfX1kaXNwb3NlKCl7aWYodGhpcy5pc0Rvd25sb2FkaW5nKXRocm93IG5ldyBFcnJvcigiVGhlIGN1cnJlbnQgdGVuc29yIGlzIGJlaW5nIGRvd25sb2FkZWQuIik7dGhpcy5kaXNwb3NlciYmKHRoaXMuZGlzcG9zZXIoKSx0aGlzLmRpc3Bvc2VyPXZvaWQgMCksdGhpcy5jcHVEYXRhPXZvaWQgMCx0aGlzLmdwdVRleHR1cmVEYXRhPXZvaWQgMCx0aGlzLmdwdUJ1ZmZlckRhdGE9dm9pZCAwLHRoaXMuZG93bmxvYWRlcj12b2lkIDAsdGhpcy5pc0Rvd25sb2FkaW5nPXZvaWQgMCx0aGlzLmRhdGFMb2NhdGlvbj0ibm9uZSJ9ZW5zdXJlVmFsaWQoKXtpZih0aGlzLmRhdGFMb2NhdGlvbj09PSJub25lIil0aHJvdyBuZXcgRXJyb3IoIlRoZSB0ZW5zb3IgaXMgZGlzcG9zZWQuIil9cmVzaGFwZSh0KXtpZih0aGlzLmVuc3VyZVZhbGlkKCksdGhpcy5kb3dubG9hZGVyfHx0aGlzLmRpc3Bvc2VyKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHJlc2hhcGUgYSB0ZW5zb3IgdGhhdCBvd25zIEdQVSByZXNvdXJjZS4iKTtyZXR1cm4gRG8odGhpcyx0KX19fSksaHQsQmk9USgoKT0+e3ppKCksaHQ9QnR9KSxsbixSaSxSdCxQdCxObz1RKCgpPT57SW8oKSxsbj0odCxlKT0+e1dyLndhc20udHJhY2UmJmNvbnNvbGUudGltZVN0YW1wKGAke3R9OjpPUlQ6OiR7ZX1gKX0sUmk9KHQsZSk9PntsZXQgcj1uZXcgRXJyb3IoKS5zdGFjaz8uc3BsaXQoL1xyXG58XHJ8XG4vZyl8fFtdLG49ITE7Zm9yKGxldCBhPTA7YTxyLmxlbmd0aDthKyspe2lmKG4mJiFyW2FdLmluY2x1ZGVzKCJUUkFDRV9GVU5DIikpe2xldCBpPWBGVU5DXyR7dH06OiR7clthXS50cmltKCkuc3BsaXQoIiAiKVsxXX1gO2UmJihpKz1gOjoke2V9YCksbG4oIkNQVSIsaSk7cmV0dXJufXJbYV0uaW5jbHVkZXMoIlRSQUNFX0ZVTkMiKSYmKG49ITApfX0sUnQ9dD0+e1dyLndhc20udHJhY2UmJlJpKCJCRUdJTiIsdCl9LFB0PXQ9PntXci53YXNtLnRyYWNlJiZSaSgiRU5EIix0KX19KSxVbyxIZz1RKCgpPT57VGkoKSxCaSgpLE5vKCksVW89Y2xhc3MgdWd7Y29uc3RydWN0b3IoZSl7dGhpcy5oYW5kbGVyPWV9YXN5bmMgcnVuKGUscixuKXtSdCgpO2xldCBhPXt9LGk9e307aWYodHlwZW9mIGUhPSJvYmplY3QifHxlPT09bnVsbHx8ZSBpbnN0YW5jZW9mIGh0fHxBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIidmZWVkcycgbXVzdCBiZSBhbiBvYmplY3QgdGhhdCB1c2UgaW5wdXQgbmFtZXMgYXMga2V5cyBhbmQgT25ueFZhbHVlIGFzIGNvcnJlc3BvbmRpbmcgdmFsdWVzLiIpO2xldCBzPSEwO2lmKHR5cGVvZiByPT0ib2JqZWN0Iil7aWYocj09PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5leHBlY3RlZCBhcmd1bWVudFsxXTogY2Fubm90IGJlIG51bGwuIik7aWYociBpbnN0YW5jZW9mIGh0KXRocm93IG5ldyBUeXBlRXJyb3IoIidmZXRjaGVzJyBjYW5ub3QgYmUgYSBUZW5zb3IiKTtpZihBcnJheS5pc0FycmF5KHIpKXtpZihyLmxlbmd0aD09PTApdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2ZldGNoZXMnIGNhbm5vdCBiZSBhbiBlbXB0eSBhcnJheS4iKTtzPSExO2ZvcihsZXQgZCBvZiByKXtpZih0eXBlb2YgZCE9InN0cmluZyIpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2ZldGNoZXMnIG11c3QgYmUgYSBzdHJpbmcgYXJyYXkgb3IgYW4gb2JqZWN0LiIpO2lmKHRoaXMub3V0cHV0TmFtZXMuaW5kZXhPZihkKT09PS0xKXRocm93IG5ldyBSYW5nZUVycm9yKGAnZmV0Y2hlcycgY29udGFpbnMgaW52YWxpZCBvdXRwdXQgbmFtZTogJHtkfS5gKTthW2RdPW51bGx9aWYodHlwZW9mIG49PSJvYmplY3QiJiZuIT09bnVsbClpPW47ZWxzZSBpZih0eXBlb2YgbjwidSIpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ29wdGlvbnMnIG11c3QgYmUgYW4gb2JqZWN0LiIpfWVsc2V7bGV0IGQ9ITEsYz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhyKTtmb3IobGV0IHUgb2YgdGhpcy5vdXRwdXROYW1lcylpZihjLmluZGV4T2YodSkhPT0tMSl7bGV0IGg9clt1XTsoaD09PW51bGx8fGggaW5zdGFuY2VvZiBodCkmJihkPSEwLHM9ITEsYVt1XT1oKX1pZihkKXtpZih0eXBlb2Ygbj09Im9iamVjdCImJm4hPT1udWxsKWk9bjtlbHNlIGlmKHR5cGVvZiBuPCJ1Iil0aHJvdyBuZXcgVHlwZUVycm9yKCInb3B0aW9ucycgbXVzdCBiZSBhbiBvYmplY3QuIil9ZWxzZSBpPXJ9fWVsc2UgaWYodHlwZW9mIHI8InUiKXRocm93IG5ldyBUeXBlRXJyb3IoIlVuZXhwZWN0ZWQgYXJndW1lbnRbMV06IG11c3QgYmUgJ2ZldGNoZXMnIG9yICdvcHRpb25zJy4iKTtmb3IobGV0IGQgb2YgdGhpcy5pbnB1dE5hbWVzKWlmKHR5cGVvZiBlW2RdPiJ1Iil0aHJvdyBuZXcgRXJyb3IoYGlucHV0ICcke2R9JyBpcyBtaXNzaW5nIGluICdmZWVkcycuYCk7aWYocylmb3IobGV0IGQgb2YgdGhpcy5vdXRwdXROYW1lcylhW2RdPW51bGw7bGV0IG89YXdhaXQgdGhpcy5oYW5kbGVyLnJ1bihlLGEsaSksbD17fTtmb3IobGV0IGQgaW4gbylpZihPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChvLGQpKXtsZXQgYz1vW2RdO2MgaW5zdGFuY2VvZiBodD9sW2RdPWM6bFtkXT1uZXcgaHQoYy50eXBlLGMuZGF0YSxjLmRpbXMpfXJldHVybiBQdCgpLGx9YXN5bmMgcmVsZWFzZSgpe3JldHVybiB0aGlzLmhhbmRsZXIuZGlzcG9zZSgpfXN0YXRpYyBhc3luYyBjcmVhdGUoZSxyLG4sYSl7UnQoKTtsZXQgaSxzPXt9O2lmKHR5cGVvZiBlPT0ic3RyaW5nIil7aWYoaT1lLHR5cGVvZiByPT0ib2JqZWN0IiYmciE9PW51bGwpcz1yO2Vsc2UgaWYodHlwZW9mIHI8InUiKXRocm93IG5ldyBUeXBlRXJyb3IoIidvcHRpb25zJyBtdXN0IGJlIGFuIG9iamVjdC4iKX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KXtpZihpPWUsdHlwZW9mIHI9PSJvYmplY3QiJiZyIT09bnVsbClzPXI7ZWxzZSBpZih0eXBlb2YgcjwidSIpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ29wdGlvbnMnIG11c3QgYmUgYW4gb2JqZWN0LiIpfWVsc2UgaWYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHx0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXI8InUiJiZlIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXIpe2xldCBkPWUsYz0wLHU9ZS5ieXRlTGVuZ3RoO2lmKHR5cGVvZiByPT0ib2JqZWN0IiYmciE9PW51bGwpcz1yO2Vsc2UgaWYodHlwZW9mIHI9PSJudW1iZXIiKXtpZihjPXIsIU51bWJlci5pc1NhZmVJbnRlZ2VyKGMpKXRocm93IG5ldyBSYW5nZUVycm9yKCInYnl0ZU9mZnNldCcgbXVzdCBiZSBhbiBpbnRlZ2VyLiIpO2lmKGM8MHx8Yz49ZC5ieXRlTGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKGAnYnl0ZU9mZnNldCcgaXMgb3V0IG9mIHJhbmdlIFswLCAke2QuYnl0ZUxlbmd0aH0pLmApO2lmKHU9ZS5ieXRlTGVuZ3RoLWMsdHlwZW9mIG49PSJudW1iZXIiKXtpZih1PW4sIU51bWJlci5pc1NhZmVJbnRlZ2VyKHUpKXRocm93IG5ldyBSYW5nZUVycm9yKCInYnl0ZUxlbmd0aCcgbXVzdCBiZSBhbiBpbnRlZ2VyLiIpO2lmKHU8PTB8fGMrdT5kLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoYCdieXRlTGVuZ3RoJyBpcyBvdXQgb2YgcmFuZ2UgKDAsICR7ZC5ieXRlTGVuZ3RoLWN9XS5gKTtpZih0eXBlb2YgYT09Im9iamVjdCImJmEhPT1udWxsKXM9YTtlbHNlIGlmKHR5cGVvZiBhPCJ1Iil0aHJvdyBuZXcgVHlwZUVycm9yKCInb3B0aW9ucycgbXVzdCBiZSBhbiBvYmplY3QuIil9ZWxzZSBpZih0eXBlb2YgbjwidSIpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2J5dGVMZW5ndGgnIG11c3QgYmUgYSBudW1iZXIuIil9ZWxzZSBpZih0eXBlb2YgcjwidSIpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ29wdGlvbnMnIG11c3QgYmUgYW4gb2JqZWN0LiIpO2k9bmV3IFVpbnQ4QXJyYXkoZCxjLHUpfWVsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5leHBlY3RlZCBhcmd1bWVudFswXTogbXVzdCBiZSAncGF0aCcgb3IgJ2J1ZmZlcicuIik7bGV0IG89KHMuZXhlY3V0aW9uUHJvdmlkZXJzfHxbXSkubWFwKGQ9PnR5cGVvZiBkPT0ic3RyaW5nIj9kOmQubmFtZSksbD1hd2FpdChhd2FpdCBBaShvKSkuY3JlYXRlSW5mZXJlbmNlU2Vzc2lvbkhhbmRsZXIoaSxzKTtyZXR1cm4gUHQoKSxuZXcgdWcobCl9c3RhcnRQcm9maWxpbmcoKXt0aGlzLmhhbmRsZXIuc3RhcnRQcm9maWxpbmcoKX1lbmRQcm9maWxpbmcoKXt0aGlzLmhhbmRsZXIuZW5kUHJvZmlsaW5nKCl9Z2V0IGlucHV0TmFtZXMoKXtyZXR1cm4gdGhpcy5oYW5kbGVyLmlucHV0TmFtZXN9Z2V0IG91dHB1dE5hbWVzKCl7cmV0dXJuIHRoaXMuaGFuZGxlci5vdXRwdXROYW1lc319fSksUGksR2c9USgoKT0+e0hnKCksUGk9VW99KSxxZz1RKCgpPT57fSksV28sTG8samc9USgoKT0+e1RpKCksQmkoKSxXbz0iVHJhaW5pbmcgYmFja2VuZCBjb3VsZCBub3QgYmUgcmVzb2x2ZWQuIE1ha2Ugc3VyZSB5b3UncmUgdXNpbmcgdGhlIGNvcnJlY3QgY29uZmlndXJhdGlvbiAmIFdlYkFzc2VtYmx5IGZpbGVzLiIsTG89Y2xhc3MgZGd7Y29uc3RydWN0b3IoZSxyLG4pe3RoaXMuaGFuZGxlcj1lLHRoaXMuaGFzT3B0aW1pemVyTW9kZWw9cix0aGlzLmhhc0V2YWxNb2RlbD1ufWdldCB0cmFpbmluZ0lucHV0TmFtZXMoKXtyZXR1cm4gdGhpcy5oYW5kbGVyLmlucHV0TmFtZXN9Z2V0IHRyYWluaW5nT3V0cHV0TmFtZXMoKXtyZXR1cm4gdGhpcy5oYW5kbGVyLm91dHB1dE5hbWVzfWdldCBldmFsSW5wdXROYW1lcygpe2lmKHRoaXMuaGFzRXZhbE1vZGVsKXJldHVybiB0aGlzLmhhbmRsZXIuZXZhbElucHV0TmFtZXM7dGhyb3cgbmV3IEVycm9yKCJUaGlzIHRyYWluaW5nIHNlc3Npb24gaGFzIG5vIGV2YWxNb2RlbCBsb2FkZWQuIil9Z2V0IGV2YWxPdXRwdXROYW1lcygpe2lmKHRoaXMuaGFzRXZhbE1vZGVsKXJldHVybiB0aGlzLmhhbmRsZXIuZXZhbE91dHB1dE5hbWVzO3Rocm93IG5ldyBFcnJvcigiVGhpcyB0cmFpbmluZyBzZXNzaW9uIGhhcyBubyBldmFsTW9kZWwgbG9hZGVkLiIpfXN0YXRpYyBhc3luYyBjcmVhdGUoZSxyKXtsZXQgbj1lLmV2YWxNb2RlbHx8IiIsYT1lLm9wdGltaXplck1vZGVsfHwiIixpPXJ8fHt9LHM9KGkuZXhlY3V0aW9uUHJvdmlkZXJzfHxbXSkubWFwKGw9PnR5cGVvZiBsPT0ic3RyaW5nIj9sOmwubmFtZSksbz1hd2FpdCBBaShzKTtpZihvLmNyZWF0ZVRyYWluaW5nU2Vzc2lvbkhhbmRsZXIpe2xldCBsPWF3YWl0IG8uY3JlYXRlVHJhaW5pbmdTZXNzaW9uSGFuZGxlcihlLmNoZWNrcG9pbnRTdGF0ZSxlLnRyYWluTW9kZWwsbixhLGkpO3JldHVybiBuZXcgZGcobCwhIWUub3B0aW1pemVyTW9kZWwsISFlLmV2YWxNb2RlbCl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoV28pfXR5cGVOYXJyb3dpbmdGb3JSdW5TdGVwKGUscixuLGEsaSl7bGV0IHM9e30sbz17fTtpZih0eXBlb2YgbiE9Im9iamVjdCJ8fG49PT1udWxsfHxuIGluc3RhbmNlb2YgaHR8fEFycmF5LmlzQXJyYXkobikpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2ZlZWRzJyBtdXN0IGJlIGFuIG9iamVjdCB0aGF0IHVzZSBpbnB1dCBuYW1lcyBhcyBrZXlzIGFuZCBPbm54VmFsdWUgYXMgY29ycmVzcG9uZGluZyB2YWx1ZXMuIik7bGV0IGw9ITA7aWYodHlwZW9mIGE9PSJvYmplY3QiKXtpZihhPT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmV4cGVjdGVkIGFyZ3VtZW50WzFdOiBjYW5ub3QgYmUgbnVsbC4iKTtpZihhIGluc3RhbmNlb2YgaHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2ZldGNoZXMnIGNhbm5vdCBiZSBhIFRlbnNvciIpO2lmKEFycmF5LmlzQXJyYXkoYSkpe2lmKGEubGVuZ3RoPT09MCl0aHJvdyBuZXcgVHlwZUVycm9yKCInZmV0Y2hlcycgY2Fubm90IGJlIGFuIGVtcHR5IGFycmF5LiIpO2w9ITE7Zm9yKGxldCBkIG9mIGEpe2lmKHR5cGVvZiBkIT0ic3RyaW5nIil0aHJvdyBuZXcgVHlwZUVycm9yKCInZmV0Y2hlcycgbXVzdCBiZSBhIHN0cmluZyBhcnJheSBvciBhbiBvYmplY3QuIik7aWYoci5pbmRleE9mKGQpPT09LTEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoYCdmZXRjaGVzJyBjb250YWlucyBpbnZhbGlkIG91dHB1dCBuYW1lOiAke2R9LmApO3NbZF09bnVsbH1pZih0eXBlb2YgaT09Im9iamVjdCImJmkhPT1udWxsKW89aTtlbHNlIGlmKHR5cGVvZiBpPCJ1Iil0aHJvdyBuZXcgVHlwZUVycm9yKCInb3B0aW9ucycgbXVzdCBiZSBhbiBvYmplY3QuIil9ZWxzZXtsZXQgZD0hMSxjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGEpO2ZvcihsZXQgdSBvZiByKWlmKGMuaW5kZXhPZih1KSE9PS0xKXtsZXQgaD1hW3VdOyhoPT09bnVsbHx8aCBpbnN0YW5jZW9mIGh0KSYmKGQ9ITAsbD0hMSxzW3VdPWgpfWlmKGQpe2lmKHR5cGVvZiBpPT0ib2JqZWN0IiYmaSE9PW51bGwpbz1pO2Vsc2UgaWYodHlwZW9mIGk8InUiKXRocm93IG5ldyBUeXBlRXJyb3IoIidvcHRpb25zJyBtdXN0IGJlIGFuIG9iamVjdC4iKX1lbHNlIG89YX19ZWxzZSBpZih0eXBlb2YgYTwidSIpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5leHBlY3RlZCBhcmd1bWVudFsxXTogbXVzdCBiZSAnZmV0Y2hlcycgb3IgJ29wdGlvbnMnLiIpO2ZvcihsZXQgZCBvZiBlKWlmKHR5cGVvZiBuW2RdPiJ1Iil0aHJvdyBuZXcgRXJyb3IoYGlucHV0ICcke2R9JyBpcyBtaXNzaW5nIGluICdmZWVkcycuYCk7aWYobClmb3IobGV0IGQgb2YgcilzW2RdPW51bGw7cmV0dXJuW3Msb119Y29udmVydEhhbmRsZXJSZXR1cm5UeXBlVG9NYXBPZlRlbnNvcnMoZSl7bGV0IHI9e307Zm9yKGxldCBuIGluIGUpaWYoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwoZSxuKSl7bGV0IGE9ZVtuXTthIGluc3RhbmNlb2YgaHQ/cltuXT1hOnJbbl09bmV3IGh0KGEudHlwZSxhLmRhdGEsYS5kaW1zKX1yZXR1cm4gcn1hc3luYyBsYXp5UmVzZXRHcmFkKCl7YXdhaXQgdGhpcy5oYW5kbGVyLmxhenlSZXNldEdyYWQoKX1hc3luYyBydW5UcmFpblN0ZXAoZSxyLG4pe2xldFthLGldPXRoaXMudHlwZU5hcnJvd2luZ0ZvclJ1blN0ZXAodGhpcy50cmFpbmluZ0lucHV0TmFtZXMsdGhpcy50cmFpbmluZ091dHB1dE5hbWVzLGUscixuKSxzPWF3YWl0IHRoaXMuaGFuZGxlci5ydW5UcmFpblN0ZXAoZSxhLGkpO3JldHVybiB0aGlzLmNvbnZlcnRIYW5kbGVyUmV0dXJuVHlwZVRvTWFwT2ZUZW5zb3JzKHMpfWFzeW5jIHJ1bk9wdGltaXplclN0ZXAoZSl7aWYodGhpcy5oYXNPcHRpbWl6ZXJNb2RlbClhd2FpdCB0aGlzLmhhbmRsZXIucnVuT3B0aW1pemVyU3RlcChlfHx7fSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIlRoaXMgVHJhaW5pbmdTZXNzaW9uIGhhcyBubyBPcHRpbWl6ZXJNb2RlbCBsb2FkZWQuIil9YXN5bmMgcnVuRXZhbFN0ZXAoZSxyLG4pe2lmKHRoaXMuaGFzRXZhbE1vZGVsKXtsZXRbYSxpXT10aGlzLnR5cGVOYXJyb3dpbmdGb3JSdW5TdGVwKHRoaXMuZXZhbElucHV0TmFtZXMsdGhpcy5ldmFsT3V0cHV0TmFtZXMsZSxyLG4pLHM9YXdhaXQgdGhpcy5oYW5kbGVyLnJ1bkV2YWxTdGVwKGUsYSxpKTtyZXR1cm4gdGhpcy5jb252ZXJ0SGFuZGxlclJldHVyblR5cGVUb01hcE9mVGVuc29ycyhzKX1lbHNlIHRocm93IG5ldyBFcnJvcigiVGhpcyBUcmFpbmluZ1Nlc3Npb24gaGFzIG5vIEV2YWxNb2RlbCBsb2FkZWQuIil9YXN5bmMgZ2V0UGFyYW1ldGVyc1NpemUoZT0hMCl7cmV0dXJuIHRoaXMuaGFuZGxlci5nZXRQYXJhbWV0ZXJzU2l6ZShlKX1hc3luYyBsb2FkUGFyYW1ldGVyc0J1ZmZlcihlLHI9ITApe2xldCBuPWF3YWl0IHRoaXMuZ2V0UGFyYW1ldGVyc1NpemUocik7aWYoZS5sZW5ndGghPT00Km4pdGhyb3cgbmV3IEVycm9yKCJTaXplIG9mIHRoZSBidWZmZXIgcGFzc2VkIGludG8gbG9hZFBhcmFtZXRlcnNCdWZmZXIgbXVzdCBtYXRjaCB0aGUgbnVtYmVyIG9mIHBhcmFtZXRlcnMgaW4gdGhlIG1vZGVsLiBQbGVhc2UgdXNlIGdldFBhcmFtZXRlcnNTaXplIG1ldGhvZCB0byBjaGVjay4iKTtyZXR1cm4gdGhpcy5oYW5kbGVyLmxvYWRQYXJhbWV0ZXJzQnVmZmVyKGUscil9YXN5bmMgZ2V0Q29udGlndW91c1BhcmFtZXRlcnMoZT0hMCl7cmV0dXJuIHRoaXMuaGFuZGxlci5nZXRDb250aWd1b3VzUGFyYW1ldGVycyhlKX1hc3luYyByZWxlYXNlKCl7cmV0dXJuIHRoaXMuaGFuZGxlci5kaXNwb3NlKCl9fX0pLERpLEtnPVEoKCk9PntqZygpLERpPUxvfSksRm89e307TnIoRm8se0luZmVyZW5jZVNlc3Npb246KCk9PlBpLFRSQUNFOigpPT5sbixUUkFDRV9GVU5DX0JFR0lOOigpPT5SdCxUUkFDRV9GVU5DX0VORDooKT0+UHQsVGVuc29yOigpPT5odCxUcmFpbmluZ1Nlc3Npb246KCk9PkRpLGVudjooKT0+RGUscmVnaXN0ZXJCYWNrZW5kOigpPT5Vcn0pO3ZhciBEdD1RKCgpPT57RGcoKSxVZygpLEdnKCksQmkoKSxObygpLHFnKCksS2coKX0pLE5pPXt9O05yKE5pLHtjcmVhdGVSZWFkU3RyZWFtOigpPT5HbyxyZWFkRmlsZTooKT0+Vm8scmVhZEZpbGVTeW5jOigpPT5Ib30pO3ZhciBWbyxIbyxHbyxxbz1RKCgpPT57Vm89dm9pZCAwLEhvPXZvaWQgMCxHbz12b2lkIDB9KSxVaT17fTtOcihVaSx7am9pbjooKT0+am99KTt2YXIgam8sS289USgoKT0+e2pvPXZvaWQgMH0pLFlnPURyKCh0LGUpPT57dmFyIHI9KCgpPT57dmFyIG49dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdD9kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYzp2b2lkIDA7cmV0dXJuIHR5cGVvZiBfX2ZpbGVuYW1lPCJ1IiYmKG49bnx8X19maWxlbmFtZSksZnVuY3Rpb24oYT17fSl7dmFyIGk9YSxzLG87aS5yZWFkeT1uZXcgUHJvbWlzZSgobSxiKT0+e3M9bSxvPWJ9KSxpLm1vdW50RXh0ZXJuYWxEYXRhPShtLGIpPT57KGkuRmF8fChpLkZhPW5ldyBNYXApKS5zZXQobSxiKX0saS51bm1vdW50RXh0ZXJuYWxEYXRhPSgpPT57ZGVsZXRlIGkuRmF9LGkuanNlcEluaXQ9KG0sYixTLEEsRCxZLGFlLHllKT0+e2kuYWI9bSxpLlFhPWIsaS5TYT1TLGkuTGE9QSxpLlJhPUQsaS5zYT1ZLGkuVGE9YWUsaS5VYT15ZSxiPShsZSxkZSxnZSk9PiguLi5FZSk9PntsZXQgemU9RXQsej1kZT8uKCk7RWU9bGUoLi4uRWUpO2xldCBfZT1kZT8uKCk7cmV0dXJuIHohPT1fZSYmKGxlPV9lLGdlKHopLGRlPWdlPW51bGwpLEV0IT16ZT9kaSgpOkVlfSxTPWxlPT5hc3luYyguLi5kZSk9Pnt0cnl7aWYoaS5FYSl0aHJvdyBFcnJvcigiU2Vzc2lvbiBhbHJlYWR5IHN0YXJ0ZWQiKTtsZXQgZ2U9aS5FYT17VmE6ZGVbMF0sZXJyb3JzOltdfSxFZT1hd2FpdCBsZSguLi5kZSk7aWYoaS5FYSE9PWdlKXRocm93IEVycm9yKCJTZXNzaW9uIG1pc21hdGNoIik7bS5mbHVzaCgpO2xldCB6ZT1nZS5lcnJvcnM7aWYoMDx6ZS5sZW5ndGgpe2xldCB6PWF3YWl0IFByb21pc2UuYWxsKHplKTtpZih6PXouZmlsdGVyKF9lPT5fZSksMDx6Lmxlbmd0aCl0aHJvdyBFcnJvcih6LmpvaW4oYApgKSl9cmV0dXJuIEVlfWZpbmFsbHl7aS5FYT1udWxsfX0saS5fT3J0UnVuPVMoYihpLl9PcnRSdW4sKCk9PmkuX09ydFJ1bixsZT0+aS5fT3J0UnVuPWxlKSksaS5fT3J0UnVuV2l0aEJpbmRpbmc9UyhiKGkuX09ydFJ1bldpdGhCaW5kaW5nLCgpPT5pLl9PcnRSdW5XaXRoQmluZGluZyxsZT0+aS5fT3J0UnVuV2l0aEJpbmRpbmc9bGUpKSxpLl9PcnRCaW5kSW5wdXQ9YihpLl9PcnRCaW5kSW5wdXQsKCk9PmkuX09ydEJpbmRJbnB1dCxsZT0+aS5fT3J0QmluZElucHV0PWxlKSxpLmpzZXBSZWdpc3RlckJ1ZmZlcj0obGUsZGUsZ2UsRWUpPT5tLnJlZ2lzdGVyQnVmZmVyKGxlLGRlLGdlLEVlKSxpLmpzZXBVbnJlZ2lzdGVyQnVmZmVycz1sZT0+e20udW5yZWdpc3RlckJ1ZmZlcnMobGUpfSxpLmpzZXBHZXRCdWZmZXI9bGU9Pm0uZ2V0QnVmZmVyKGxlKSxpLmpzZXBDcmVhdGVEb3dubG9hZGVyPShsZSxkZSxnZSk9Pm0uY3JlYXRlRG93bmxvYWRlcihsZSxkZSxnZSl9O3ZhciBsPU9iamVjdC5hc3NpZ24oe30saSksZD0iLi90aGlzLnByb2dyYW0iLGM9KG0sYik9Pnt0aHJvdyBifSx1PXR5cGVvZiB3aW5kb3c9PSJvYmplY3QiLGg9dHlwZW9mIGltcG9ydFNjcmlwdHM9PSJmdW5jdGlvbiIsZj10eXBlb2YgcHJvY2Vzcz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zPT0ib2JqZWN0IiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZT09InN0cmluZyIsZz0iIix5LHcsdjtpZihmKXt2YXIgaz0ocW8oKSx3cihOaSkpLEU9KEtvKCksd3IoVWkpKTtnPWg/RS5kaXJuYW1lKGcpKyIvIjpfX2Rpcm5hbWUrIi8iLHk9KG0sYik9PihtPSRlKG0pP25ldyBVUkwobSk6RS5ub3JtYWxpemUobSksay5yZWFkRmlsZVN5bmMobSxiP3ZvaWQgMDoidXRmOCIpKSx2PW09PihtPXkobSwhMCksbS5idWZmZXJ8fChtPW5ldyBVaW50OEFycmF5KG0pKSxtKSx3PShtLGIsUyxBPSEwKT0+e209JGUobSk/bmV3IFVSTChtKTpFLm5vcm1hbGl6ZShtKSxrLnJlYWRGaWxlKG0sQT92b2lkIDA6InV0ZjgiLChELFkpPT57RD9TKEQpOmIoQT9ZLmJ1ZmZlcjpZKX0pfSwhaS50aGlzUHJvZ3JhbSYmMTxwcm9jZXNzLmFyZ3YubGVuZ3RoJiYoZD1wcm9jZXNzLmFyZ3ZbMV0ucmVwbGFjZSgvXFwvZywiLyIpKSxwcm9jZXNzLmFyZ3Yuc2xpY2UoMiksYz0obSxiKT0+e3Rocm93IHByb2Nlc3MuZXhpdENvZGU9bSxifSxpLmluc3BlY3Q9KCk9PiJbRW1zY3JpcHRlbiBNb2R1bGUgb2JqZWN0XSJ9ZWxzZSh1fHxoKSYmKGg/Zz1zZWxmLmxvY2F0aW9uLmhyZWY6dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKGc9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLG4mJihnPW4pLGcuaW5kZXhPZigiYmxvYjoiKSE9PTA/Zz1nLnN1YnN0cigwLGcucmVwbGFjZSgvWz8jXS4qLywiIikubGFzdEluZGV4T2YoIi8iKSsxKTpnPSIiLHk9bT0+e3ZhciBiPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gYi5vcGVuKCJHRVQiLG0sITEpLGIuc2VuZChudWxsKSxiLnJlc3BvbnNlVGV4dH0saCYmKHY9bT0+e3ZhciBiPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gYi5vcGVuKCJHRVQiLG0sITEpLGIucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsYi5zZW5kKG51bGwpLG5ldyBVaW50OEFycmF5KGIucmVzcG9uc2UpfSksdz0obSxiLFMpPT57dmFyIEE9bmV3IFhNTEh0dHBSZXF1ZXN0O0Eub3BlbigiR0VUIixtLCEwKSxBLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLEEub25sb2FkPSgpPT57QS5zdGF0dXM9PTIwMHx8QS5zdGF0dXM9PTAmJkEucmVzcG9uc2U/YihBLnJlc3BvbnNlKTpTKCl9LEEub25lcnJvcj1TLEEuc2VuZChudWxsKX0pO3ZhciB4PWNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksST1jb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSk7T2JqZWN0LmFzc2lnbihpLGwpLGw9bnVsbCx0eXBlb2YgV2ViQXNzZW1ibHkhPSJvYmplY3QiJiZGKCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkIik7dmFyIFQsQj0hMSxVLEgsSyxPLEcsbmUscTtmdW5jdGlvbiBQKCl7dmFyIG09VC5idWZmZXI7aS5IRUFQOD1IPW5ldyBJbnQ4QXJyYXkobSksaS5IRUFQMTY9bmV3IEludDE2QXJyYXkobSksaS5IRUFQVTg9Sz1uZXcgVWludDhBcnJheShtKSxpLkhFQVBVMTY9bmV3IFVpbnQxNkFycmF5KG0pLGkuSEVBUDMyPU89bmV3IEludDMyQXJyYXkobSksaS5IRUFQVTMyPUc9bmV3IFVpbnQzMkFycmF5KG0pLGkuSEVBUEYzMj1uZT1uZXcgRmxvYXQzMkFycmF5KG0pLGkuSEVBUEY2ND1xPW5ldyBGbG9hdDY0QXJyYXkobSl9dmFyIEw9W10sVj1bXSx0ZT1bXSxYPTAsdWU9bnVsbDtmdW5jdGlvbiBGKG0pe3Rocm93IG09IkFib3J0ZWQoIittKyIpIixJKG0pLEI9ITAsVT0xLG09bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcihtKyIuIEJ1aWxkIHdpdGggLXNBU1NFUlRJT05TIGZvciBtb3JlIGluZm8uIiksbyhtKSxtfXZhciBvZT1tPT5tLnN0YXJ0c1dpdGgoImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwiKSwkZT1tPT5tLnN0YXJ0c1dpdGgoImZpbGU6Ly8iKSxVZTtpZihVZT0ib3J0LXdhc20tc2ltZC53YXNtIiwhb2UoVWUpKXt2YXIgUGU9VWU7VWU9aS5sb2NhdGVGaWxlP2kubG9jYXRlRmlsZShQZSxnKTpnK1BlfWZ1bmN0aW9uIFZlKG0pe2lmKHYpcmV0dXJuIHYobSk7dGhyb3ciYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQifWZ1bmN0aW9uIFN0KG0pe2lmKHV8fGgpe2lmKHR5cGVvZiBmZXRjaD09ImZ1bmN0aW9uIiYmISRlKG0pKXJldHVybiBmZXRjaChtLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbihiPT57aWYoIWIub2spdGhyb3ciZmFpbGVkIHRvIGxvYWQgd2FzbSBiaW5hcnkgZmlsZSBhdCAnIittKyInIjtyZXR1cm4gYi5hcnJheUJ1ZmZlcigpfSkuY2F0Y2goKCk9PlZlKG0pKTtpZih3KXJldHVybiBuZXcgUHJvbWlzZSgoYixTKT0+e3cobSxBPT5iKG5ldyBVaW50OEFycmF5KEEpKSxTKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpPT5WZShtKSl9ZnVuY3Rpb24gV2UobSxiLFMpe3JldHVybiBTdChtKS50aGVuKEE9PldlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKEEsYikpLnRoZW4oQT0+QSkudGhlbihTLEE9PntJKGBmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAke0F9YCksRihBKX0pfWZ1bmN0aW9uIEhlKG0sYil7dmFyIFM9VWU7cmV0dXJuIHR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyE9ImZ1bmN0aW9uInx8b2UoUyl8fCRlKFMpfHxmfHx0eXBlb2YgZmV0Y2ghPSJmdW5jdGlvbiI/V2UoUyxtLGIpOmZldGNoKFMse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKEE9PldlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKEEsbSkudGhlbihiLGZ1bmN0aW9uKEQpe3JldHVybiBJKGB3YXNtIHN0cmVhbWluZyBjb21waWxlIGZhaWxlZDogJHtEfWApLEkoImZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uIiksV2UoUyxtLGIpfSkpfXZhciBNdCx6dD17OTMxMDU2OihtLGIsUyxBKT0+e2lmKHR5cGVvZiBpPiJ1Inx8IWkuRmEpcmV0dXJuIDE7aWYobT1ldChtPj4+MCksbS5zdGFydHNXaXRoKCIuLyIpJiYobT1tLnN1YnN0cmluZygyKSksbT1pLkZhLmdldChtKSwhbSlyZXR1cm4gMjtpZihiPj4+PTAsUz4+Pj0wLGIrUz5tLmJ5dGVMZW5ndGgpcmV0dXJuIDM7dHJ5e3JldHVybiBLLnNldChtLnN1YmFycmF5KGIsYitTKSxBPj4+MD4+PjApLDB9Y2F0Y2h7cmV0dXJuIDR9fSw5MzE1NTc6bT0+aS5RYShtKSw5MzE1OTA6bT0+aS5TYShtKSw5MzE2MjI6KG0sYixTKT0+e2kuTGEobSxiLFMsITApfSw5MzE2NjE6KG0sYixTKT0+e2kuTGEobSxiLFMpfSw5MzE2OTQ6bT0+e2kuc2EoIkFicyIsbSx2b2lkIDApfSw5MzE3NDU6bT0+e2kuc2EoIk5lZyIsbSx2b2lkIDApfSw5MzE3OTY6bT0+e2kuc2EoIkZsb29yIixtLHZvaWQgMCl9LDkzMTg0OTptPT57aS5zYSgiQ2VpbCIsbSx2b2lkIDApfSw5MzE5MDE6bT0+e2kuc2EoIlJlY2lwcm9jYWwiLG0sdm9pZCAwKX0sOTMxOTU5Om09PntpLnNhKCJTcXJ0IixtLHZvaWQgMCl9LDkzMjAxMTptPT57aS5zYSgiRXhwIixtLHZvaWQgMCl9LDkzMjA2MjptPT57aS5zYSgiRXJmIixtLHZvaWQgMCl9LDkzMjExMzptPT57aS5zYSgiU2lnbW9pZCIsbSx2b2lkIDApfSw5MzIxNjg6bT0+e2kuc2EoIkxvZyIsbSx2b2lkIDApfSw5MzIyMTk6bT0+e2kuc2EoIlNpbiIsbSx2b2lkIDApfSw5MzIyNzA6bT0+e2kuc2EoIkNvcyIsbSx2b2lkIDApfSw5MzIzMjE6bT0+e2kuc2EoIlRhbiIsbSx2b2lkIDApfSw5MzIzNzI6bT0+e2kuc2EoIkFzaW4iLG0sdm9pZCAwKX0sOTMyNDI0Om09PntpLnNhKCJBY29zIixtLHZvaWQgMCl9LDkzMjQ3NjptPT57aS5zYSgiQXRhbiIsbSx2b2lkIDApfSw5MzI1Mjg6bT0+e2kuc2EoIlNpbmgiLG0sdm9pZCAwKX0sOTMyNTgwOm09PntpLnNhKCJDb3NoIixtLHZvaWQgMCl9LDkzMjYzMjptPT57aS5zYSgiQXNpbmgiLG0sdm9pZCAwKX0sOTMyNjg1Om09PntpLnNhKCJBY29zaCIsbSx2b2lkIDApfSw5MzI3Mzg6bT0+e2kuc2EoIkF0YW5oIixtLHZvaWQgMCl9LDkzMjc5MTptPT57aS5zYSgiVGFuaCIsbSx2b2lkIDApfSw5MzI4NDM6bT0+e2kuc2EoIk5vdCIsbSx2b2lkIDApfSw5MzI4OTQ6KG0sYixTKT0+e2kuc2EoIkNsaXAiLG0se21pbjpiLG1heDpTfSl9LDkzMjk2MzptPT57aS5zYSgiQ2xpcCIsbSx2b2lkIDApfSw5MzMwMTU6KG0sYik9PntpLnNhKCJFbHUiLG0se2FscGhhOmJ9KX0sOTMzMDczOm09PntpLnNhKCJSZWx1IixtLHZvaWQgMCl9LDkzMzEyNToobSxiKT0+e2kuc2EoIkxlYWt5UmVsdSIsbSx7YWxwaGE6Yn0pfSw5MzMxODk6KG0sYik9PntpLnNhKCJUaHJlc2hvbGRlZFJlbHUiLG0se2FscGhhOmJ9KX0sOTMzMjU5OihtLGIpPT57aS5zYSgiQ2FzdCIsbSx7dG86Yn0pfSw5MzMzMTc6bT0+e2kuc2EoIkFkZCIsbSx2b2lkIDApfSw5MzMzNjg6bT0+e2kuc2EoIlN1YiIsbSx2b2lkIDApfSw5MzM0MTk6bT0+e2kuc2EoIk11bCIsbSx2b2lkIDApfSw5MzM0NzA6bT0+e2kuc2EoIkRpdiIsbSx2b2lkIDApfSw5MzM1MjE6bT0+e2kuc2EoIlBvdyIsbSx2b2lkIDApfSw5MzM1NzI6bT0+e2kuc2EoIkVxdWFsIixtLHZvaWQgMCl9LDkzMzYyNTptPT57aS5zYSgiR3JlYXRlciIsbSx2b2lkIDApfSw5MzM2ODA6bT0+e2kuc2EoIkdyZWF0ZXJPckVxdWFsIixtLHZvaWQgMCl9LDkzMzc0MjptPT57aS5zYSgiTGVzcyIsbSx2b2lkIDApfSw5MzM3OTQ6bT0+e2kuc2EoIkxlc3NPckVxdWFsIixtLHZvaWQgMCl9LDkzMzg1MzoobSxiLFMsQSxEKT0+e2kuc2EoIlJlZHVjZU1lYW4iLG0se2tlZXBEaW1zOiEhYixub29wV2l0aEVtcHR5QXhlczohIVMsYXhlczpBP0FycmF5LmZyb20oTy5zdWJhcnJheShBPj4+MCxEPj4+MCkpOltdfSl9LDkzNDAxMjoobSxiLFMsQSxEKT0+e2kuc2EoIlJlZHVjZU1heCIsbSx7a2VlcERpbXM6ISFiLG5vb3BXaXRoRW1wdHlBeGVzOiEhUyxheGVzOkE/QXJyYXkuZnJvbShPLnN1YmFycmF5KEE+Pj4wLEQ+Pj4wKSk6W119KX0sOTM0MTcwOihtLGIsUyxBLEQpPT57aS5zYSgiUmVkdWNlTWluIixtLHtrZWVwRGltczohIWIsbm9vcFdpdGhFbXB0eUF4ZXM6ISFTLGF4ZXM6QT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoQT4+PjAsRD4+PjApKTpbXX0pfSw5MzQzMjg6KG0sYixTLEEsRCk9PntpLnNhKCJSZWR1Y2VQcm9kIixtLHtrZWVwRGltczohIWIsbm9vcFdpdGhFbXB0eUF4ZXM6ISFTLGF4ZXM6QT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoQT4+PjAsRD4+PjApKTpbXX0pfSw5MzQ0ODc6KG0sYixTLEEsRCk9PntpLnNhKCJSZWR1Y2VTdW0iLG0se2tlZXBEaW1zOiEhYixub29wV2l0aEVtcHR5QXhlczohIVMsYXhlczpBP0FycmF5LmZyb20oTy5zdWJhcnJheShBPj4+MCxEPj4+MCkpOltdfSl9LDkzNDY0NToobSxiLFMsQSxEKT0+e2kuc2EoIlJlZHVjZUwxIixtLHtrZWVwRGltczohIWIsbm9vcFdpdGhFbXB0eUF4ZXM6ISFTLGF4ZXM6QT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoQT4+PjAsRD4+PjApKTpbXX0pfSw5MzQ4MDI6KG0sYixTLEEsRCk9PntpLnNhKCJSZWR1Y2VMMiIsbSx7a2VlcERpbXM6ISFiLG5vb3BXaXRoRW1wdHlBeGVzOiEhUyxheGVzOkE/QXJyYXkuZnJvbShPLnN1YmFycmF5KEE+Pj4wLEQ+Pj4wKSk6W119KX0sOTM0OTU5OihtLGIsUyxBLEQpPT57aS5zYSgiUmVkdWNlTG9nU3VtIixtLHtrZWVwRGltczohIWIsbm9vcFdpdGhFbXB0eUF4ZXM6ISFTLGF4ZXM6QT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoQT4+PjAsRD4+PjApKTpbXX0pfSw5MzUxMjA6KG0sYixTLEEsRCk9PntpLnNhKCJSZWR1Y2VTdW1TcXVhcmUiLG0se2tlZXBEaW1zOiEhYixub29wV2l0aEVtcHR5QXhlczohIVMsYXhlczpBP0FycmF5LmZyb20oTy5zdWJhcnJheShBPj4+MCxEPj4+MCkpOltdfSl9LDkzNTI4NDoobSxiLFMsQSxEKT0+e2kuc2EoIlJlZHVjZUxvZ1N1bUV4cCIsbSx7a2VlcERpbXM6ISFiLG5vb3BXaXRoRW1wdHlBeGVzOiEhUyxheGVzOkE/QXJyYXkuZnJvbShPLnN1YmFycmF5KEE+Pj4wLEQ+Pj4wKSk6W119KX0sOTM1NDQ4Om09PntpLnNhKCJXaGVyZSIsbSx2b2lkIDApfSw5MzU1MDE6KG0sYixTKT0+e2kuc2EoIlRyYW5zcG9zZSIsbSx7cGVybTpiP0FycmF5LmZyb20oTy5zdWJhcnJheShiPj4+MCxTPj4+MCkpOltdfSl9LDkzNTYwOToobSxiLFMsQSxELFksYWUseWUsbGUsZGUsZ2UsRWUsemUseixfZSk9PntpLnNhKCJDb252VHJhbnNwb3NlIixtLHtmb3JtYXQ6bGU/Ik5IV0MiOiJOQ0hXIixhdXRvUGFkOmIsZGlsYXRpb25zOltTXSxncm91cDpBLGtlcm5lbF9zaGFwZTpbRF0scGFkczpbWSxhZV0sc3RyaWRlczpbeWVdLHdJc0NvbnN0OigpPT4hIUhbZGU+Pj4wXSxvdXRwdXRQYWRkaW5nOmdlP0FycmF5LmZyb20oTy5zdWJhcnJheShnZT4+PjAsRWU+Pj4wKSk6W10sb3V0cHV0U2hhcGU6emU/QXJyYXkuZnJvbShPLnN1YmFycmF5KHplPj4+MCx6Pj4+MCkpOltdLGFjdGl2YXRpb246ZXQoX2UpfSl9LDkzNjAxMToobSxiLFMsQSxELFksYWUseWUsbGUsZGUsZ2UsRWUsemUseik9PntpLnNhKCJDb252VHJhbnNwb3NlIixtLHtmb3JtYXQ6eWU/Ik5IV0MiOiJOQ0hXIixhdXRvUGFkOmIsZGlsYXRpb25zOkFycmF5LmZyb20oTy5zdWJhcnJheShTPj4+MCwoUz4+PjApKzI+Pj4wKSksZ3JvdXA6QSxrZXJuZWxTaGFwZTpBcnJheS5mcm9tKE8uc3ViYXJyYXkoRD4+PjAsKEQ+Pj4wKSsyPj4+MCkpLHBhZHM6QXJyYXkuZnJvbShPLnN1YmFycmF5KFk+Pj4wLChZPj4+MCkrND4+PjApKSxzdHJpZGVzOkFycmF5LmZyb20oTy5zdWJhcnJheShhZT4+PjAsKGFlPj4+MCkrMj4+PjApKSx3SXNDb25zdDooKT0+ISFIW2xlPj4+MF0sb3V0cHV0UGFkZGluZzpkZT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoZGU+Pj4wLGdlPj4+MCkpOltdLG91dHB1dFNoYXBlOkVlP0FycmF5LmZyb20oTy5zdWJhcnJheShFZT4+PjAsemU+Pj4wKSk6W10sYWN0aXZhdGlvbjpldCh6KX0pfSw5MzY1NzY6KG0sYixTLEEsRCxZLGFlLHllLGxlLGRlLGdlLEVlLHplLHosX2UpPT57aS5zYSgiQ29udlRyYW5zcG9zZSIsbSx7Zm9ybWF0OmxlPyJOSFdDIjoiTkNIVyIsYXV0b1BhZDpiLGRpbGF0aW9uczpbU10sZ3JvdXA6QSxrZXJuZWxfc2hhcGU6W0RdLHBhZHM6W1ksYWVdLHN0cmlkZXM6W3llXSx3SXNDb25zdDooKT0+ISFIW2RlPj4+MF0sb3V0cHV0UGFkZGluZzpnZT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoZ2U+Pj4wLEVlPj4+MCkpOltdLG91dHB1dFNoYXBlOnplP0FycmF5LmZyb20oTy5zdWJhcnJheSh6ZT4+PjAsej4+PjApKTpbXSxhY3RpdmF0aW9uOmV0KF9lKX0pfSw5MzY5Nzg6KG0sYixTLEEsRCxZLGFlLHllLGxlLGRlLGdlLEVlLHplLHopPT57aS5zYSgiQ29udlRyYW5zcG9zZSIsbSx7Zm9ybWF0OnllPyJOSFdDIjoiTkNIVyIsYXV0b1BhZDpiLGRpbGF0aW9uczpBcnJheS5mcm9tKE8uc3ViYXJyYXkoUz4+PjAsKFM+Pj4wKSsyPj4+MCkpLGdyb3VwOkEsa2VybmVsU2hhcGU6QXJyYXkuZnJvbShPLnN1YmFycmF5KEQ+Pj4wLChEPj4+MCkrMj4+PjApKSxwYWRzOkFycmF5LmZyb20oTy5zdWJhcnJheShZPj4+MCwoWT4+PjApKzQ+Pj4wKSksc3RyaWRlczpBcnJheS5mcm9tKE8uc3ViYXJyYXkoYWU+Pj4wLChhZT4+PjApKzI+Pj4wKSksd0lzQ29uc3Q6KCk9PiEhSFtsZT4+PjBdLG91dHB1dFBhZGRpbmc6ZGU/QXJyYXkuZnJvbShPLnN1YmFycmF5KGRlPj4+MCxnZT4+PjApKTpbXSxvdXRwdXRTaGFwZTpFZT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoRWU+Pj4wLHplPj4+MCkpOltdLGFjdGl2YXRpb246ZXQoeil9KX0sOTM3NTQzOihtLGIpPT57aS5zYSgiR2xvYmFsQXZlcmFnZVBvb2wiLG0se2Zvcm1hdDpiPyJOSFdDIjoiTkNIVyJ9KX0sOTM3NjM0OihtLGIsUyxBLEQsWSxhZSx5ZSxsZSxkZSxnZSxFZSx6ZSx6LF9lLEFlKT0+e2kuc2EoIkF2ZXJhZ2VQb29sIixtLHtmb3JtYXQ6QWU/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDpiLGNlaWxfbW9kZTpTLGNvdW50X2luY2x1ZGVfcGFkOkEsc3RvcmFnZV9vcmRlcjpELGRpbGF0aW9uczpbWSxhZV0sa2VybmVsX3NoYXBlOlt5ZSxsZV0scGFkczpbZGUsZ2UsRWUsemVdLHN0cmlkZXM6W3osX2VdfSl9LDkzNzkxODoobSxiKT0+e2kuc2EoIkdsb2JhbEF2ZXJhZ2VQb29sIixtLHtmb3JtYXQ6Yj8iTkhXQyI6Ik5DSFcifSl9LDkzODAwOToobSxiLFMsQSxELFksYWUseWUsbGUsZGUsZ2UsRWUsemUseixfZSxBZSk9PntpLnNhKCJBdmVyYWdlUG9vbCIsbSx7Zm9ybWF0OkFlPyJOSFdDIjoiTkNIVyIsYXV0b19wYWQ6YixjZWlsX21vZGU6Uyxjb3VudF9pbmNsdWRlX3BhZDpBLHN0b3JhZ2Vfb3JkZXI6RCxkaWxhdGlvbnM6W1ksYWVdLGtlcm5lbF9zaGFwZTpbeWUsbGVdLHBhZHM6W2RlLGdlLEVlLHplXSxzdHJpZGVzOlt6LF9lXX0pfSw5MzgyOTM6KG0sYik9PntpLnNhKCJHbG9iYWxNYXhQb29sIixtLHtmb3JtYXQ6Yj8iTkhXQyI6Ik5DSFcifSl9LDkzODM4MDoobSxiLFMsQSxELFksYWUseWUsbGUsZGUsZ2UsRWUsemUseixfZSxBZSk9PntpLnNhKCJNYXhQb29sIixtLHtmb3JtYXQ6QWU/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDpiLGNlaWxfbW9kZTpTLGNvdW50X2luY2x1ZGVfcGFkOkEsc3RvcmFnZV9vcmRlcjpELGRpbGF0aW9uczpbWSxhZV0sa2VybmVsX3NoYXBlOlt5ZSxsZV0scGFkczpbZGUsZ2UsRWUsemVdLHN0cmlkZXM6W3osX2VdfSl9LDkzODY2MDoobSxiKT0+e2kuc2EoIkdsb2JhbE1heFBvb2wiLG0se2Zvcm1hdDpiPyJOSFdDIjoiTkNIVyJ9KX0sOTM4NzQ3OihtLGIsUyxBLEQsWSxhZSx5ZSxsZSxkZSxnZSxFZSx6ZSx6LF9lLEFlKT0+e2kuc2EoIk1heFBvb2wiLG0se2Zvcm1hdDpBZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOmIsY2VpbF9tb2RlOlMsY291bnRfaW5jbHVkZV9wYWQ6QSxzdG9yYWdlX29yZGVyOkQsZGlsYXRpb25zOltZLGFlXSxrZXJuZWxfc2hhcGU6W3llLGxlXSxwYWRzOltkZSxnZSxFZSx6ZV0sc3RyaWRlczpbeixfZV19KX0sOTM5MDI3OihtLGIsUyxBLEQpPT57aS5zYSgiR2VtbSIsbSx7YWxwaGE6YixiZXRhOlMsdHJhbnNBOkEsdHJhbnNCOkR9KX0sOTM5MTMxOm09PntpLnNhKCJNYXRNdWwiLG0sdm9pZCAwKX0sOTM5MTg1OihtLGIsUyxBKT0+e2kuc2EoIkFyZ01heCIsbSx7a2VlcERpbXM6ISFiLHNlbGVjdExhc3RJbmRleDohIVMsYXhpczpBfSl9LDkzOTI5MzoobSxiLFMsQSk9PntpLnNhKCJBcmdNaW4iLG0se2tlZXBEaW1zOiEhYixzZWxlY3RMYXN0SW5kZXg6ISFTLGF4aXM6QX0pfSw5Mzk0MDE6KG0sYik9PntpLnNhKCJTb2Z0bWF4IixtLHtheGlzOmJ9KX0sOTM5NDY0OihtLGIpPT57aS5zYSgiQ29uY2F0IixtLHtheGlzOmJ9KX0sOTM5NTI0OihtLGIsUyxBLEQpPT57aS5zYSgiU3BsaXQiLG0se2F4aXM6YixudW1PdXRwdXRzOlMsc3BsaXRTaXplczpBP0FycmF5LmZyb20oTy5zdWJhcnJheShBPj4+MCxEPj4+MCkpOltdfSl9LDkzOTY2NDptPT57aS5zYSgiRXhwYW5kIixtLHZvaWQgMCl9LDkzOTcxODoobSxiKT0+e2kuc2EoIkdhdGhlciIsbSx7YXhpczpOdW1iZXIoYil9KX0sOTM5Nzg5OihtLGIpPT57aS5zYSgiR2F0aGVyRWxlbWVudHMiLG0se2F4aXM6TnVtYmVyKGIpfSl9LDkzOTg2ODoobSxiLFMsQSxELFksYWUseWUsbGUsZGUsZ2UpPT57aS5zYSgiUmVzaXplIixtLHthbnRpYWxpYXM6YixheGVzOlM/QXJyYXkuZnJvbShPLnN1YmFycmF5KFM+Pj4wLEE+Pj4wKSk6W10sY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGU6ZXQoRCksY3ViaWNDb2VmZkE6WSxleGNsdWRlT3V0c2lkZTphZSxleHRyYXBvbGF0aW9uVmFsdWU6eWUsa2VlcEFzcGVjdFJhdGlvUG9saWN5OmV0KGxlKSxtb2RlOmV0KGRlKSxuZWFyZXN0TW9kZTpldChnZSl9KX0sOTQwMjE0OihtLGIsUyxBLEQsWSxhZSk9PntpLnNhKCJTbGljZSIsbSx7c3RhcnRzOmI/QXJyYXkuZnJvbShPLnN1YmFycmF5KGI+Pj4wLFM+Pj4wKSk6W10sZW5kczpBP0FycmF5LmZyb20oTy5zdWJhcnJheShBPj4+MCxEPj4+MCkpOltdLGF4ZXM6WT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoWT4+PjAsYWU+Pj4wKSk6W119KX0sOTQwNDMwOm09PntpLnNhKCJUaWxlIixtLHZvaWQgMCl9LDk0MDQ4MjoobSxiLFMpPT57aS5zYSgiTGF5ZXJOb3JtYWxpemF0aW9uIixtLHtheGlzOk51bWJlcihiKSxlcHNpbG9uOk51bWJlcihTKX0pfSw5NDA1ODk6KG0sYixTKT0+e2kuc2EoIkluc3RhbmNlTm9ybWFsaXphdGlvbiIsbSx7ZXBzaWxvbjpiLGZvcm1hdDpTPyJOSFdDIjoiTkNIVyJ9KX0sOTQwNzAzOihtLGIsUyk9PntpLnNhKCJJbnN0YW5jZU5vcm1hbGl6YXRpb24iLG0se2Vwc2lsb246Yixmb3JtYXQ6Uz8iTkhXQyI6Ik5DSFcifSl9LDk0MDgxNzptPT57aS5zYSgiUmFuZ2UiLG0sdm9pZCAwKX0sOTQwODcwOihtLGIpPT57aS5zYSgiRWluc3VtIixtLHtlcXVhdGlvbjpldChiKX0pfSw5NDA5NTE6KG0sYixTLEEsRCk9PntpLnNhKCJQYWQiLG0se21vZGU6Yix2YWx1ZTpTLHBhZHM6QT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoQT4+PjAsRD4+PjApKTpbXX0pfSw5NDEwNzg6KG0sYixTLEEsRCxZKT0+e2kuc2EoIkJhdGNoTm9ybWFsaXphdGlvbiIsbSx7ZXBzaWxvbjpiLG1vbWVudHVtOlMsc3BhdGlhbDohIUQsdHJhaW5pbmdNb2RlOiEhQSxmb3JtYXQ6WT8iTkhXQyI6Ik5DSFcifSl9LDk0MTI0NzoobSxiLFMsQSxELFkpPT57aS5zYSgiQmF0Y2hOb3JtYWxpemF0aW9uIixtLHtlcHNpbG9uOmIsbW9tZW50dW06UyxzcGF0aWFsOiEhRCx0cmFpbmluZ01vZGU6ISFBLGZvcm1hdDpZPyJOSFdDIjoiTkNIVyJ9KX0sOTQxNDE2OihtLGIsUyk9PntpLnNhKCJDdW1TdW0iLG0se2V4Y2x1c2l2ZTpOdW1iZXIoYikscmV2ZXJzZTpOdW1iZXIoUyl9KX0sOTQxNTEzOihtLGIsUyxBLEQsWSxhZSx5ZSxsZSk9PntpLnNhKCJBdHRlbnRpb24iLG0se251bUhlYWRzOmIsaXNVbmlkaXJlY3Rpb25hbDpTLG1hc2tGaWx0ZXJWYWx1ZTpBLHNjYWxlOkQsZG9Sb3Rhcnk6WSxxa3ZIaWRkZW5TaXplczphZT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoTnVtYmVyKHllKT4+PjAsTnVtYmVyKHllKSthZT4+PjApKTpbXSxwYXN0UHJlc2VudFNoYXJlQnVmZmVyOiEhbGV9KX0sOTQxNzg1Om09PntpLnNhKCJHZWx1IixtLHZvaWQgMCl9LDk0MTgzNzoobSxiLFMsQSxELFkpPT57aS5zYSgiTXVsdGlIZWFkQXR0ZW50aW9uIixtLHtudW1IZWFkczpiLGlzVW5pZGlyZWN0aW9uYWw6UyxtYXNrRmlsdGVyVmFsdWU6QSxzY2FsZTpELGRvUm90YXJ5Oll9KX0sOTQxOTk2Om09PntpLnNhKCJCaWFzQWRkIixtLHZvaWQgMCl9LDk0MjA1MTptPT57aS5zYSgiQmlhc1NwbGl0R2VsdSIsbSx2b2lkIDApfSw5NDIxMTI6KG0sYik9PntpLnNhKCJTa2lwTGF5ZXJOb3JtYWxpemF0aW9uIixtLHtlcHNpbG9uOmJ9KX0sOTQyMTkzOihtLGIsUyxBLEQsWSxhZSx5ZSxsZSxkZSxnZSxFZSx6ZSk9PntpLnNhKCJDb252IixtLHtmb3JtYXQ6bGU/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDpiLGRpbGF0aW9uczpbU10sZ3JvdXA6QSxrZXJuZWxfc2hhcGU6W0RdLHBhZHM6WT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoWT4+PjAsYWU+Pj4wKSk6W10sc3RyaWRlczpbeWVdLHdfaXNfY29uc3Q6KCk9PiEhSFtkZT4+PjBdLGFjdGl2YXRpb246ZXQoZ2UpLGFjdGl2YXRpb25fcGFyYW1zOkVlP0FycmF5LmZyb20obmUuc3ViYXJyYXkoRWU+Pj4wLHplPj4+MCkpOltdfSl9LDk0MjU2MzoobSxiLFMsQSxELFksYWUseWUsbGUsZGUsZ2UsRWUsemUseixfZSxBZSk9PntpLnNhKCJDb252IixtLHtmb3JtYXQ6RWU/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDpiLGRpbGF0aW9uczpbUyxBXSxncm91cDpELGtlcm5lbF9zaGFwZTpbWSxhZV0scGFkczp5ZT9BcnJheS5mcm9tKE8uc3ViYXJyYXkoeWU+Pj4wLGxlPj4+MCkpOltdLHN0cmlkZXM6W2RlLGdlXSx3X2lzX2NvbnN0OigpPT4hIUhbemU+Pj4wXSxhY3RpdmF0aW9uOmV0KHopLGFjdGl2YXRpb25fcGFyYW1zOl9lP0FycmF5LmZyb20obmUuc3ViYXJyYXkoX2U+Pj4wLEFlPj4+MCkpOltdfSl9LDk0Mjk1NDptPT57aS5UYShtKX0sOTQyOTg4OihtLGIpPT5pLlVhKG0sYixpLkVhLlZhLGkuRWEuZXJyb3JzKX07ZnVuY3Rpb24gcXQobSl7dGhpcy5uYW1lPSJFeGl0U3RhdHVzIix0aGlzLm1lc3NhZ2U9YFByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoJHttfSlgLHRoaXMuc3RhdHVzPW19ZnVuY3Rpb24gYWkobSl7dGhpcy5KYT1tLTI0LHRoaXMuT2E9ZnVuY3Rpb24oYil7R1t0aGlzLkphKzQ+Pj4yPj4+MF09Yn0sdGhpcy5OYT1mdW5jdGlvbihiKXtHW3RoaXMuSmErOD4+PjI+Pj4wXT1ifSx0aGlzLiRhPWZ1bmN0aW9uKGIsUyl7dGhpcy5NYSgpLHRoaXMuT2EoYiksdGhpcy5OYShTKX0sdGhpcy5NYT1mdW5jdGlvbigpe0dbdGhpcy5KYSsxNj4+PjI+Pj4wXT0wfX12YXIgbXI9MCxqbj10eXBlb2YgVGV4dERlY29kZXI8InUiP25ldyBUZXh0RGVjb2RlcigidXRmOCIpOnZvaWQgMCxBcj0obSxiLFMpPT57Yj4+Pj0wO3ZhciBBPWIrUztmb3IoUz1iO21bU10mJiEoUz49QSk7KSsrUztpZigxNjxTLWImJm0uYnVmZmVyJiZqbilyZXR1cm4gam4uZGVjb2RlKG0uc3ViYXJyYXkoYixTKSk7Zm9yKEE9IiI7YjxTOyl7dmFyIEQ9bVtiKytdO2lmKEQmMTI4KXt2YXIgWT1tW2IrK10mNjM7aWYoKEQmMjI0KT09MTkyKUErPVN0cmluZy5mcm9tQ2hhckNvZGUoKEQmMzEpPDw2fFkpO2Vsc2V7dmFyIGFlPW1bYisrXSY2MztEPShEJjI0MCk9PTIyND8oRCYxNSk8PDEyfFk8PDZ8YWU6KEQmNyk8PDE4fFk8PDEyfGFlPDw2fG1bYisrXSY2Myw2NTUzNj5EP0ErPVN0cmluZy5mcm9tQ2hhckNvZGUoRCk6KEQtPTY1NTM2LEErPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8RD4+MTAsNTYzMjB8RCYxMDIzKSl9fWVsc2UgQSs9U3RyaW5nLmZyb21DaGFyQ29kZShEKX1yZXR1cm4gQX0sZXQ9KG0sYik9PihtPj4+PTApP0FyKEssbSxiKToiIixRcj1tPT57Zm9yKHZhciBiPTAsUz0wO1M8bS5sZW5ndGg7KytTKXt2YXIgQT1tLmNoYXJDb2RlQXQoUyk7MTI3Pj1BP2IrKzoyMDQ3Pj1BP2IrPTI6NTUyOTY8PUEmJjU3MzQzPj1BPyhiKz00LCsrUyk6Yis9M31yZXR1cm4gYn0sS249KG0sYixTLEEpPT57aWYoUz4+Pj0wLCEoMDxBKSlyZXR1cm4gMDt2YXIgRD1TO0E9UytBLTE7Zm9yKHZhciBZPTA7WTxtLmxlbmd0aDsrK1kpe3ZhciBhZT1tLmNoYXJDb2RlQXQoWSk7aWYoNTUyOTY8PWFlJiY1NzM0Mz49YWUpe3ZhciB5ZT1tLmNoYXJDb2RlQXQoKytZKTthZT02NTUzNisoKGFlJjEwMjMpPDwxMCl8eWUmMTAyM31pZigxMjc+PWFlKXtpZihTPj1BKWJyZWFrO2JbUysrPj4+MF09YWV9ZWxzZXtpZigyMDQ3Pj1hZSl7aWYoUysxPj1BKWJyZWFrO2JbUysrPj4+MF09MTkyfGFlPj42fWVsc2V7aWYoNjU1MzU+PWFlKXtpZihTKzI+PUEpYnJlYWs7YltTKys+Pj4wXT0yMjR8YWU+PjEyfWVsc2V7aWYoUyszPj1BKWJyZWFrO2JbUysrPj4+MF09MjQwfGFlPj4xOCxiW1MrKz4+PjBdPTEyOHxhZT4+MTImNjN9YltTKys+Pj4wXT0xMjh8YWU+PjYmNjN9YltTKys+Pj4wXT0xMjh8YWUmNjN9fXJldHVybiBiW1M+Pj4wXT0wLFMtRH0sb3I9bT0+bSU0PT09MCYmKG0lMTAwIT09MHx8bSU0MDA9PT0wKSxpaT1bMCwzMSw2MCw5MSwxMjEsMTUyLDE4MiwyMTMsMjQ0LDI3NCwzMDUsMzM1XSxscj1bMCwzMSw1OSw5MCwxMjAsMTUxLDE4MSwyMTIsMjQzLDI3MywzMDQsMzM0XSxacj1tPT57dmFyIGI9UXIobSkrMSxTPW5uKGIpO3JldHVybiBTJiZLbihtLEssUyxiKSxTfSxUcj1bXSxKcj0obSxiKT0+e1RyLmxlbmd0aD0wO2Zvcih2YXIgUztTPUtbbSsrPj4+MF07KXt2YXIgQT1TIT0xMDU7QSY9UyE9MTEyLGIrPUEmJmIlOD80OjAsVHIucHVzaChTPT0xMTI/R1tiPj4+Mj4+PjBdOlM9PTEwNT9PW2I+Pj4yPj4+MF06cVtiPj4+Mz4+PjBdKSxiKz1BPzg6NH1yZXR1cm4gVHJ9LGVuPXt9LEp0PSgpPT57aWYoIXRuKXt2YXIgbT17VVNFUjoid2ViX3VzZXIiLExPR05BTUU6IndlYl91c2VyIixQQVRIOiIvIixQV0Q6Ii8iLEhPTUU6Ii9ob21lL3dlYl91c2VyIixMQU5HOih0eXBlb2YgbmF2aWdhdG9yPT0ib2JqZWN0IiYmbmF2aWdhdG9yLmxhbmd1YWdlcyYmbmF2aWdhdG9yLmxhbmd1YWdlc1swXXx8IkMiKS5yZXBsYWNlKCItIiwiXyIpKyIuVVRGLTgiLF86ZHx8Ii4vdGhpcy5wcm9ncmFtIn0sYjtmb3IoYiBpbiBlbillbltiXT09PXZvaWQgMD9kZWxldGUgbVtiXTptW2JdPWVuW2JdO3ZhciBTPVtdO2ZvcihiIGluIG0pUy5wdXNoKGAke2J9PSR7bVtiXX1gKTt0bj1TfXJldHVybiB0bn0sdG4sc2k9W251bGwsW10sW11dLG90PVszMSwyOSwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV0sb2k9WzMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTtmdW5jdGlvbiBMZShtKXt2YXIgYj1BcnJheShRcihtKSsxKTtyZXR1cm4gS24obSxiLDAsYi5sZW5ndGgpLGJ9ZnVuY3Rpb24gWW4obSxiLFMsQSl7ZnVuY3Rpb24gRCh6LF9lLEFlKXtmb3Ioej10eXBlb2Ygej09Im51bWJlciI/ei50b1N0cmluZygpOnp8fCIiO3oubGVuZ3RoPF9lOyl6PUFlWzBdK3o7cmV0dXJuIHp9ZnVuY3Rpb24gWSh6LF9lKXtyZXR1cm4gRCh6LF9lLCIwIil9ZnVuY3Rpb24gYWUoeixfZSl7ZnVuY3Rpb24gQWUobWkpe3JldHVybiAwPm1pPy0xOjA8bWk/MTowfXZhciB0cjtyZXR1cm4odHI9QWUoei5nZXRGdWxsWWVhcigpLV9lLmdldEZ1bGxZZWFyKCkpKT09PTAmJih0cj1BZSh6LmdldE1vbnRoKCktX2UuZ2V0TW9udGgoKSkpPT09MCYmKHRyPUFlKHouZ2V0RGF0ZSgpLV9lLmdldERhdGUoKSkpLHRyfWZ1bmN0aW9uIHllKHope3N3aXRjaCh6LmdldERheSgpKXtjYXNlIDA6cmV0dXJuIG5ldyBEYXRlKHouZ2V0RnVsbFllYXIoKS0xLDExLDI5KTtjYXNlIDE6cmV0dXJuIHo7Y2FzZSAyOnJldHVybiBuZXcgRGF0ZSh6LmdldEZ1bGxZZWFyKCksMCwzKTtjYXNlIDM6cmV0dXJuIG5ldyBEYXRlKHouZ2V0RnVsbFllYXIoKSwwLDIpO2Nhc2UgNDpyZXR1cm4gbmV3IERhdGUoei5nZXRGdWxsWWVhcigpLDAsMSk7Y2FzZSA1OnJldHVybiBuZXcgRGF0ZSh6LmdldEZ1bGxZZWFyKCktMSwxMSwzMSk7Y2FzZSA2OnJldHVybiBuZXcgRGF0ZSh6LmdldEZ1bGxZZWFyKCktMSwxMSwzMCl9fWZ1bmN0aW9uIGxlKHope3ZhciBfZT16LkNhO2Zvcih6PW5ldyBEYXRlKG5ldyBEYXRlKHouRGErMTkwMCwwLDEpLmdldFRpbWUoKSk7MDxfZTspe3ZhciBBZT16LmdldE1vbnRoKCksdHI9KG9yKHouZ2V0RnVsbFllYXIoKSk/b3Q6b2kpW0FlXTtpZihfZT50ci16LmdldERhdGUoKSlfZS09dHItei5nZXREYXRlKCkrMSx6LnNldERhdGUoMSksMTE+QWU/ei5zZXRNb250aChBZSsxKTooei5zZXRNb250aCgwKSx6LnNldEZ1bGxZZWFyKHouZ2V0RnVsbFllYXIoKSsxKSk7ZWxzZXt6LnNldERhdGUoei5nZXREYXRlKCkrX2UpO2JyZWFrfX1yZXR1cm4gQWU9bmV3IERhdGUoei5nZXRGdWxsWWVhcigpKzEsMCw0KSxfZT15ZShuZXcgRGF0ZSh6LmdldEZ1bGxZZWFyKCksMCw0KSksQWU9eWUoQWUpLDA+PWFlKF9lLHopPzA+PWFlKEFlLHopP3ouZ2V0RnVsbFllYXIoKSsxOnouZ2V0RnVsbFllYXIoKTp6LmdldEZ1bGxZZWFyKCktMX1tPj4+PTAsYj4+Pj0wLFM+Pj49MCxBPj4+PTA7dmFyIGRlPUdbQSs0MD4+PjI+Pj4wXTtBPXtZYTpPW0E+Pj4yPj4+MF0sWGE6T1tBKzQ+Pj4yPj4+MF0sR2E6T1tBKzg+Pj4yPj4+MF0sS2E6T1tBKzEyPj4+Mj4+PjBdLEhhOk9bQSsxNj4+PjI+Pj4wXSxEYTpPW0ErMjA+Pj4yPj4+MF0seGE6T1tBKzI0Pj4+Mj4+PjBdLENhOk9bQSsyOD4+PjI+Pj4wXSxiYjpPW0ErMzI+Pj4yPj4+MF0sV2E6T1tBKzM2Pj4+Mj4+PjBdLFphOmRlP2V0KGRlKToiIn0sUz1ldChTKSxkZT17IiVjIjoiJWEgJWIgJWQgJUg6JU06JVMgJVkiLCIlRCI6IiVtLyVkLyV5IiwiJUYiOiIlWS0lbS0lZCIsIiVoIjoiJWIiLCIlciI6IiVJOiVNOiVTICVwIiwiJVIiOiIlSDolTSIsIiVUIjoiJUg6JU06JVMiLCIleCI6IiVtLyVkLyV5IiwiJVgiOiIlSDolTTolUyIsIiVFYyI6IiVjIiwiJUVDIjoiJUMiLCIlRXgiOiIlbS8lZC8leSIsIiVFWCI6IiVIOiVNOiVTIiwiJUV5IjoiJXkiLCIlRVkiOiIlWSIsIiVPZCI6IiVkIiwiJU9lIjoiJWUiLCIlT0giOiIlSCIsIiVPSSI6IiVJIiwiJU9tIjoiJW0iLCIlT00iOiIlTSIsIiVPUyI6IiVTIiwiJU91IjoiJXUiLCIlT1UiOiIlVSIsIiVPViI6IiVWIiwiJU93IjoiJXciLCIlT1ciOiIlVyIsIiVPeSI6IiV5In07Zm9yKHZhciBnZSBpbiBkZSlTPVMucmVwbGFjZShuZXcgUmVnRXhwKGdlLCJnIiksZGVbZ2VdKTt2YXIgRWU9IlN1bmRheSBNb25kYXkgVHVlc2RheSBXZWRuZXNkYXkgVGh1cnNkYXkgRnJpZGF5IFNhdHVyZGF5Ii5zcGxpdCgiICIpLHplPSJKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyIi5zcGxpdCgiICIpO2RlPXsiJWEiOno9PkVlW3oueGFdLnN1YnN0cmluZygwLDMpLCIlQSI6ej0+RWVbei54YV0sIiViIjp6PT56ZVt6LkhhXS5zdWJzdHJpbmcoMCwzKSwiJUIiOno9PnplW3ouSGFdLCIlQyI6ej0+WSgoei5EYSsxOTAwKS8xMDB8MCwyKSwiJWQiOno9Plkoei5LYSwyKSwiJWUiOno9PkQoei5LYSwyLCIgIiksIiVnIjp6PT5sZSh6KS50b1N0cmluZygpLnN1YnN0cmluZygyKSwiJUciOno9PmxlKHopLCIlSCI6ej0+WSh6LkdhLDIpLCIlSSI6ej0+KHo9ei5HYSx6PT0wP3o9MTI6MTI8eiYmKHotPTEyKSxZKHosMikpLCIlaiI6ej0+e2Zvcih2YXIgX2U9MCxBZT0wO0FlPD16LkhhLTE7X2UrPShvcih6LkRhKzE5MDApP290Om9pKVtBZSsrXSk7cmV0dXJuIFkoei5LYStfZSwzKX0sIiVtIjp6PT5ZKHouSGErMSwyKSwiJU0iOno9Plkoei5YYSwyKSwiJW4iOigpPT5gCmAsIiVwIjp6PT4wPD16LkdhJiYxMj56LkdhPyJBTSI6IlBNIiwiJVMiOno9Plkoei5ZYSwyKSwiJXQiOigpPT4iCSIsIiV1Ijp6PT56LnhhfHw3LCIlVSI6ej0+WShNYXRoLmZsb29yKCh6LkNhKzctei54YSkvNyksMiksIiVWIjp6PT57dmFyIF9lPU1hdGguZmxvb3IoKHouQ2ErNy0oei54YSs2KSU3KS83KTtpZigyPj0oei54YSszNzEtei5DYS0yKSU3JiZfZSsrLF9lKV9lPT01MyYmKEFlPSh6LnhhKzM3MS16LkNhKSU3LEFlPT00fHxBZT09MyYmb3Ioei5EYSl8fChfZT0xKSk7ZWxzZXtfZT01Mjt2YXIgQWU9KHoueGErNy16LkNhLTEpJTc7KEFlPT00fHxBZT09NSYmb3Ioei5EYSU0MDAtMSkpJiZfZSsrfXJldHVybiBZKF9lLDIpfSwiJXciOno9PnoueGEsIiVXIjp6PT5ZKE1hdGguZmxvb3IoKHouQ2ErNy0oei54YSs2KSU3KS83KSwyKSwiJXkiOno9Pih6LkRhKzE5MDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpLCIlWSI6ej0+ei5EYSsxOTAwLCIleiI6ej0+e3o9ei5XYTt2YXIgX2U9MDw9ejtyZXR1cm4gej1NYXRoLmFicyh6KS82MCwoX2U/IisiOiItIikrKCIwMDAwIisoei82MCoxMDAreiU2MCkpLnNsaWNlKC00KX0sIiVaIjp6PT56LlphLCIlJSI6KCk9PiIlIn0sUz1TLnJlcGxhY2UoLyUlL2csIlwwXDAiKTtmb3IoZ2UgaW4gZGUpUy5pbmNsdWRlcyhnZSkmJihTPVMucmVwbGFjZShuZXcgUmVnRXhwKGdlLCJnIiksZGVbZ2VdKEEpKSk7cmV0dXJuIFM9Uy5yZXBsYWNlKC9cMFwwL2csIiUiKSxnZT1MZShTKSxnZS5sZW5ndGg+Yj8wOihILnNldChnZSxtPj4+MCksZ2UubGVuZ3RoLTEpfXZhciBncj1tPT57dHJ5e20oKX1jYXRjaChiKXtGKGIpfX07ZnVuY3Rpb24gWG4oKXt2YXIgbT1oZSxiPXt9O2ZvcihsZXRbUyxBXW9mIE9iamVjdC5lbnRyaWVzKG0pKWJbU109dHlwZW9mIEE9PSJmdW5jdGlvbiI/ZnVuY3Rpb24oKXttZS5wdXNoKFMpO3RyeXtyZXR1cm4gQS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZmluYWxseXtCfHwobWUucG9wKCksRXQmJmVyPT09MSYmbWUubGVuZ3RoPT09MCYmKGVyPTAsZ3Ioc2EpLHR5cGVvZiBGaWJlcnM8InUiJiZGaWJlcnMuY2IoKSkpfX06QTtyZXR1cm4gYn12YXIgZXI9MCxFdD1udWxsLGxpPTAsbWU9W10sT3I9e30sUW49e30sb289MCxybj1udWxsLHVpPVtdO2Z1bmN0aW9uIGRpKCl7cmV0dXJuIG5ldyBQcm9taXNlKChtLGIpPT57cm49e3Jlc29sdmU6bSxyZWplY3Q6Yn19KX1mdW5jdGlvbiBjaSgpe3ZhciBtPW5uKDY1NTQ4KSxiPW0rMTI7R1ttPj4+Mj4+PjBdPWIsR1ttKzQ+Pj4yPj4+MF09Yis2NTUzNixiPW1lWzBdO3ZhciBTPU9yW2JdO3JldHVybiBTPT09dm9pZCAwJiYoUz1vbysrLE9yW2JdPVMsUW5bU109YiksT1ttKzg+Pj4yPj4+MF09UyxtfWZ1bmN0aW9uIHBpKG0pe2lmKCFCKXtpZihlcj09PTApe3ZhciBiPSExLFM9ITE7bSgoQT0wKT0+e2lmKCFCJiYobGk9QSxiPSEwLFMpKXtlcj0yLGdyKCgpPT5vYShFdCkpLHR5cGVvZiBCcm93c2VyPCJ1IiYmQnJvd3Nlci5JYS5QYSYmQnJvd3Nlci5JYS5yZXN1bWUoKSxBPSExO3RyeXt2YXIgRD0oMCxoZVtRbltPW0V0Kzg+Pj4yPj4+MF1dXSkoKX1jYXRjaCh5ZSl7RD15ZSxBPSEwfXZhciBZPSExO2lmKCFFdCl7dmFyIGFlPXJuO2FlJiYocm49bnVsbCwoQT9hZS5yZWplY3Q6YWUucmVzb2x2ZSkoRCksWT0hMCl9aWYoQSYmIVkpdGhyb3cgRH19KSxTPSEwLGJ8fChlcj0xLEV0PWNpKCksdHlwZW9mIEJyb3dzZXI8InUiJiZCcm93c2VyLklhLlBhJiZCcm93c2VyLklhLnBhdXNlKCksZ3IoKCk9PmlhKEV0KSkpfWVsc2UgZXI9PT0yPyhlcj0wLGdyKGxhKSxlYShFdCksRXQ9bnVsbCx1aS5mb3JFYWNoKEE9PntpZighQil0cnl7QSgpO3RyeXtVPVU9QT1VLGkub25FeGl0Py4oQSksQj0hMCxjKEEsbmV3IHF0KEEpKX1jYXRjaChEKXtEIGluc3RhbmNlb2YgcXR8fEQ9PSJ1bndpbmQifHxjKDEsRCl9fWNhdGNoKEQpe0QgaW5zdGFuY2VvZiBxdHx8RD09InVud2luZCJ8fGMoMSxEKX19KSk6RihgaW52YWxpZCBzdGF0ZTogJHtlcn1gKTtyZXR1cm4gbGl9fWZ1bmN0aW9uIFpuKG0pe3JldHVybiBwaShiPT57bSgpLnRoZW4oYil9KX12YXIgaGk9e246ZnVuY3Rpb24obSxiLFMpe3JldHVybiBabihhc3luYygpPT57YXdhaXQgaS5SYShtLGIsUyl9KX0sYTpmdW5jdGlvbihtLGIsUyl7dGhyb3cgbT4+Pj0wLG5ldyBhaShtKS4kYShiPj4+MCxTPj4+MCksbXI9bSxtcn0sZzpmdW5jdGlvbigpe3JldHVybiAwfSxKOmZ1bmN0aW9uKCl7fSxBOmZ1bmN0aW9uKCl7fSxDOmZ1bmN0aW9uKCl7fSxMOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LEg6ZnVuY3Rpb24oKXt9LEQ6ZnVuY3Rpb24oKXt9LEc6ZnVuY3Rpb24oKXt9LGw6ZnVuY3Rpb24oKXt9LEI6ZnVuY3Rpb24oKXt9LHk6ZnVuY3Rpb24oKXt9LEk6ZnVuY3Rpb24oKXt9LHo6ZnVuY3Rpb24oKXt9LG06KCk9PjEscTpmdW5jdGlvbihtLGIsUyl7bT1iKzIwOTcxNTI+Pj4wPDQxOTQzMDUtISFtPyhtPj4+MCkrNDI5NDk2NzI5NipiOk5hTixTPj4+PTAsbT1uZXcgRGF0ZSgxZTMqbSksT1tTPj4+Mj4+PjBdPW0uZ2V0VVRDU2Vjb25kcygpLE9bUys0Pj4+Mj4+PjBdPW0uZ2V0VVRDTWludXRlcygpLE9bUys4Pj4+Mj4+PjBdPW0uZ2V0VVRDSG91cnMoKSxPW1MrMTI+Pj4yPj4+MF09bS5nZXRVVENEYXRlKCksT1tTKzE2Pj4+Mj4+PjBdPW0uZ2V0VVRDTW9udGgoKSxPW1MrMjA+Pj4yPj4+MF09bS5nZXRVVENGdWxsWWVhcigpLTE5MDAsT1tTKzI0Pj4+Mj4+PjBdPW0uZ2V0VVRDRGF5KCksT1tTKzI4Pj4+Mj4+PjBdPShtLmdldFRpbWUoKS1EYXRlLlVUQyhtLmdldFVUQ0Z1bGxZZWFyKCksMCwxLDAsMCwwLDApKS84NjRlNXwwfSxyOmZ1bmN0aW9uKG0sYixTKXttPWIrMjA5NzE1Mj4+PjA8NDE5NDMwNS0hIW0/KG0+Pj4wKSs0Mjk0OTY3Mjk2KmI6TmFOLFM+Pj49MCxtPW5ldyBEYXRlKDFlMyptKSxPW1M+Pj4yPj4+MF09bS5nZXRTZWNvbmRzKCksT1tTKzQ+Pj4yPj4+MF09bS5nZXRNaW51dGVzKCksT1tTKzg+Pj4yPj4+MF09bS5nZXRIb3VycygpLE9bUysxMj4+PjI+Pj4wXT1tLmdldERhdGUoKSxPW1MrMTY+Pj4yPj4+MF09bS5nZXRNb250aCgpLE9bUysyMD4+PjI+Pj4wXT1tLmdldEZ1bGxZZWFyKCktMTkwMCxPW1MrMjQ+Pj4yPj4+MF09bS5nZXREYXkoKSxPW1MrMjg+Pj4yPj4+MF09KG9yKG0uZ2V0RnVsbFllYXIoKSk/aWk6bHIpW20uZ2V0TW9udGgoKV0rbS5nZXREYXRlKCktMXwwLE9bUyszNj4+PjI+Pj4wXT0tKDYwKm0uZ2V0VGltZXpvbmVPZmZzZXQoKSksYj1uZXcgRGF0ZShtLmdldEZ1bGxZZWFyKCksNiwxKS5nZXRUaW1lem9uZU9mZnNldCgpO3ZhciBBPW5ldyBEYXRlKG0uZ2V0RnVsbFllYXIoKSwwLDEpLmdldFRpbWV6b25lT2Zmc2V0KCk7T1tTKzMyPj4+Mj4+PjBdPShiIT1BJiZtLmdldFRpbWV6b25lT2Zmc2V0KCk9PU1hdGgubWluKEEsYikpfDB9LHM6ZnVuY3Rpb24obSl7bT4+Pj0wO3ZhciBiPW5ldyBEYXRlKE9bbSsyMD4+PjI+Pj4wXSsxOTAwLE9bbSsxNj4+PjI+Pj4wXSxPW20rMTI+Pj4yPj4+MF0sT1ttKzg+Pj4yPj4+MF0sT1ttKzQ+Pj4yPj4+MF0sT1ttPj4+Mj4+PjBdLDApLFM9T1ttKzMyPj4+Mj4+PjBdLEE9Yi5nZXRUaW1lem9uZU9mZnNldCgpLEQ9bmV3IERhdGUoYi5nZXRGdWxsWWVhcigpLDYsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxZPW5ldyBEYXRlKGIuZ2V0RnVsbFllYXIoKSwwLDEpLmdldFRpbWV6b25lT2Zmc2V0KCksYWU9TWF0aC5taW4oWSxEKTtyZXR1cm4gMD5TP09bbSszMj4+PjI+Pj4wXT0rKEQhPVkmJmFlPT1BKTowPFMhPShhZT09QSkmJihEPU1hdGgubWF4KFksRCksYi5zZXRUaW1lKGIuZ2V0VGltZSgpKzZlNCooKDA8Uz9hZTpEKS1BKSkpLE9bbSsyND4+PjI+Pj4wXT1iLmdldERheSgpLE9bbSsyOD4+PjI+Pj4wXT0ob3IoYi5nZXRGdWxsWWVhcigpKT9paTpscilbYi5nZXRNb250aCgpXStiLmdldERhdGUoKS0xfDAsT1ttPj4+Mj4+PjBdPWIuZ2V0U2Vjb25kcygpLE9bbSs0Pj4+Mj4+PjBdPWIuZ2V0TWludXRlcygpLE9bbSs4Pj4+Mj4+PjBdPWIuZ2V0SG91cnMoKSxPW20rMTI+Pj4yPj4+MF09Yi5nZXREYXRlKCksT1ttKzE2Pj4+Mj4+PjBdPWIuZ2V0TW9udGgoKSxPW20rMjA+Pj4yPj4+MF09Yi5nZXRZZWFyKCksbT1iLmdldFRpbWUoKSxpc05hTihtKT8oT1tKbigpPj4+Mj4+PjBdPTYxLG09LTEpOm0vPTFlMyx0YSgoTXQ9bSwxPD0rTWF0aC5hYnMoTXQpPzA8TXQ/K01hdGguZmxvb3IoTXQvNDI5NDk2NzI5Nik+Pj4wOn5+K01hdGguY2VpbCgoTXQtKyh+fk10Pj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKSksbT4+PjB9LG86ZnVuY3Rpb24oKXtyZXR1cm4tNTJ9LHA6ZnVuY3Rpb24oKXt9LHc6ZnVuY3Rpb24obSxiLFMpe2Z1bmN0aW9uIEEobGUpe3JldHVybihsZT1sZS50b1RpbWVTdHJpbmcoKS5tYXRjaCgvXCgoW0EtWmEteiBdKylcKSQvKSk/bGVbMV06IkdNVCJ9Uz4+Pj0wO3ZhciBEPW5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSxZPW5ldyBEYXRlKEQsMCwxKSxhZT1uZXcgRGF0ZShELDYsMSk7RD1ZLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIHllPWFlLmdldFRpbWV6b25lT2Zmc2V0KCk7R1ttPj4+MD4+PjI+Pj4wXT02MCpNYXRoLm1heChELHllKSxPW2I+Pj4wPj4+Mj4+PjBdPSsoRCE9eWUpLG09QShZKSxiPUEoYWUpLG09WnIobSksYj1acihiKSx5ZTxEPyhHW1M+Pj4yPj4+MF09bSxHW1MrND4+PjI+Pj4wXT1iKTooR1tTPj4+Mj4+PjBdPWIsR1tTKzQ+Pj4yPj4+MF09bSl9LGU6KCk9PntGKCIiKX0sYjpmdW5jdGlvbihtLGIsUyl7cmV0dXJuIG0+Pj49MCxiPUpyKGI+Pj4wLFM+Pj4wKSx6dFttXS5hcHBseShudWxsLGIpfSxpOmZ1bmN0aW9uKG0sYixTKXtyZXR1cm4gbT4+Pj0wLGI9SnIoYj4+PjAsUz4+PjApLHp0W21dLmFwcGx5KG51bGwsYil9LGg6KCk9PkRhdGUubm93KCkseDpmdW5jdGlvbigpe3JldHVybiA0Mjk0OTAxNzYwfSxjOigpPT5wZXJmb3JtYW5jZS5ub3coKSxLOmZ1bmN0aW9uKG0sYixTKXtyZXR1cm4gYj4+Pj0wLEsuY29weVdpdGhpbihtPj4+MD4+PjAsYj4+PjAsYisoUz4+PjApPj4+MCl9LHU6ZnVuY3Rpb24obSl7bT4+Pj0wO3ZhciBiPUsubGVuZ3RoO2lmKDQyOTQ5MDE3NjA8bSlyZXR1cm4hMTtmb3IodmFyIFM9MTs0Pj1TO1MqPTIpe3ZhciBBPWIqKDErLjIvUyk7QT1NYXRoLm1pbihBLG0rMTAwNjYzMjk2KTt2YXIgRD1NYXRoO0E9TWF0aC5tYXgobSxBKTtlOntEPShELm1pbi5jYWxsKEQsNDI5NDkwMTc2MCxBKyg2NTUzNi1BJTY1NTM2KSU2NTUzNiktVC5idWZmZXIuYnl0ZUxlbmd0aCs2NTUzNSkvNjU1MzY7dHJ5e1QuZ3JvdyhEKSxQKCk7dmFyIFk9MTticmVhayBlfWNhdGNoe31ZPXZvaWQgMH1pZihZKXJldHVybiEwfXJldHVybiExfSxFOmZ1bmN0aW9uKG0sYil7bT4+Pj0wLGI+Pj49MDt2YXIgUz0wO3JldHVybiBKdCgpLmZvckVhY2goKEEsRCk9Pnt2YXIgWT1iK1M7Zm9yKEQ9R1ttKzQqRD4+PjI+Pj4wXT1ZLFk9MDtZPEEubGVuZ3RoOysrWSlIW0QrKz4+PjA+Pj4wXT1BLmNoYXJDb2RlQXQoWSk7SFtEPj4+MD4+PjBdPTAsUys9QS5sZW5ndGgrMX0pLDB9LEY6ZnVuY3Rpb24obSxiKXttPj4+PTAsYj4+Pj0wO3ZhciBTPUp0KCk7R1ttPj4+Mj4+PjBdPVMubGVuZ3RoO3ZhciBBPTA7cmV0dXJuIFMuZm9yRWFjaChEPT5BKz1ELmxlbmd0aCsxKSxHW2I+Pj4yPj4+MF09QSwwfSxmOigpPT41MixrOmZ1bmN0aW9uKCl7cmV0dXJuIDUyfSx0OmZ1bmN0aW9uKCl7cmV0dXJuIDcwfSxqOmZ1bmN0aW9uKG0sYixTLEEpe2I+Pj49MCxTPj4+PTAsQT4+Pj0wO2Zvcih2YXIgRD0wLFk9MDtZPFM7WSsrKXt2YXIgYWU9R1tiPj4+Mj4+PjBdLHllPUdbYis0Pj4+Mj4+PjBdO2IrPTg7Zm9yKHZhciBsZT0wO2xlPHllO2xlKyspe3ZhciBkZT1LW2FlK2xlPj4+MF0sZ2U9c2lbbV07ZGU9PT0wfHxkZT09PTEwPygobT09PTE/eDpJKShBcihnZSwwKSksZ2UubGVuZ3RoPTApOmdlLnB1c2goZGUpfUQrPXllfXJldHVybiBHW0E+Pj4yPj4+MF09RCwwfSx2OlluLGQ6ZnVuY3Rpb24obSxiLFMsQSl7cmV0dXJuIFluKG0+Pj4wLGI+Pj4wLFM+Pj4wLEE+Pj4wKX19LGhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbShTKXtyZXR1cm4gaGU9Uy5leHBvcnRzLGhlPVhuKCksaGU9ZmkoKSxUPWhlLk0sUCgpLFYudW5zaGlmdChoZS5OKSxYLS0sWD09MCYmdWUmJihTPXVlLHVlPW51bGwsUygpKSxoZX12YXIgYj17YTpoaX07aWYoWCsrLGkuaW5zdGFudGlhdGVXYXNtKXRyeXtyZXR1cm4gaS5pbnN0YW50aWF0ZVdhc20oYixtKX1jYXRjaChTKXtJKGBNb2R1bGUuaW5zdGFudGlhdGVXYXNtIGNhbGxiYWNrIGZhaWxlZCB3aXRoIGVycm9yOiAke1N9YCksbyhTKX1yZXR1cm4gSGUoYixmdW5jdGlvbihTKXttKFMuaW5zdGFuY2UpfSkuY2F0Y2gobykse319KCk7aS5fT3J0SW5pdD0obSxiKT0+KGkuX09ydEluaXQ9aGUuTykobSxiKSxpLl9PcnRHZXRMYXN0RXJyb3I9KG0sYik9PihpLl9PcnRHZXRMYXN0RXJyb3I9aGUuUCkobSxiKSxpLl9PcnRDcmVhdGVTZXNzaW9uT3B0aW9ucz0obSxiLFMsQSxELFksYWUseWUsbGUsZGUpPT4oaS5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9aGUuUSkobSxiLFMsQSxELFksYWUseWUsbGUsZGUpLGkuX09ydEFwcGVuZEV4ZWN1dGlvblByb3ZpZGVyPShtLGIpPT4oaS5fT3J0QXBwZW5kRXhlY3V0aW9uUHJvdmlkZXI9aGUuUikobSxiKSxpLl9PcnRBZGRGcmVlRGltZW5zaW9uT3ZlcnJpZGU9KG0sYixTKT0+KGkuX09ydEFkZEZyZWVEaW1lbnNpb25PdmVycmlkZT1oZS5TKShtLGIsUyksaS5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5PShtLGIsUyk9PihpLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnk9aGUuVCkobSxiLFMpLGkuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucz1tPT4oaS5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zPWhlLlUpKG0pLGkuX09ydENyZWF0ZVNlc3Npb249KG0sYixTKT0+KGkuX09ydENyZWF0ZVNlc3Npb249aGUuVikobSxiLFMpLGkuX09ydFJlbGVhc2VTZXNzaW9uPW09PihpLl9PcnRSZWxlYXNlU2Vzc2lvbj1oZS5XKShtKSxpLl9PcnRHZXRJbnB1dE91dHB1dENvdW50PShtLGIsUyk9PihpLl9PcnRHZXRJbnB1dE91dHB1dENvdW50PWhlLlgpKG0sYixTKSxpLl9PcnRHZXRJbnB1dE5hbWU9KG0sYik9PihpLl9PcnRHZXRJbnB1dE5hbWU9aGUuWSkobSxiKSxpLl9PcnRHZXRPdXRwdXROYW1lPShtLGIpPT4oaS5fT3J0R2V0T3V0cHV0TmFtZT1oZS5aKShtLGIpLGkuX09ydEZyZWU9bT0+KGkuX09ydEZyZWU9aGUuXykobSksaS5fT3J0Q3JlYXRlVGVuc29yPShtLGIsUyxBLEQsWSk9PihpLl9PcnRDcmVhdGVUZW5zb3I9aGUuJCkobSxiLFMsQSxELFkpLGkuX09ydEdldFRlbnNvckRhdGE9KG0sYixTLEEsRCk9PihpLl9PcnRHZXRUZW5zb3JEYXRhPWhlLmFhKShtLGIsUyxBLEQpLGkuX09ydFJlbGVhc2VUZW5zb3I9bT0+KGkuX09ydFJlbGVhc2VUZW5zb3I9aGUuYmEpKG0pLGkuX09ydENyZWF0ZVJ1bk9wdGlvbnM9KG0sYixTLEEpPT4oaS5fT3J0Q3JlYXRlUnVuT3B0aW9ucz1oZS5jYSkobSxiLFMsQSksaS5fT3J0QWRkUnVuQ29uZmlnRW50cnk9KG0sYixTKT0+KGkuX09ydEFkZFJ1bkNvbmZpZ0VudHJ5PWhlLmRhKShtLGIsUyksaS5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9bT0+KGkuX09ydFJlbGVhc2VSdW5PcHRpb25zPWhlLmVhKShtKSxpLl9PcnRDcmVhdGVCaW5kaW5nPW09PihpLl9PcnRDcmVhdGVCaW5kaW5nPWhlLmZhKShtKSxpLl9PcnRCaW5kSW5wdXQ9KG0sYixTKT0+KGkuX09ydEJpbmRJbnB1dD1oZS5nYSkobSxiLFMpLGkuX09ydEJpbmRPdXRwdXQ9KG0sYixTLEEpPT4oaS5fT3J0QmluZE91dHB1dD1oZS5oYSkobSxiLFMsQSksaS5fT3J0Q2xlYXJCb3VuZE91dHB1dHM9bT0+KGkuX09ydENsZWFyQm91bmRPdXRwdXRzPWhlLmlhKShtKSxpLl9PcnRSZWxlYXNlQmluZGluZz1tPT4oaS5fT3J0UmVsZWFzZUJpbmRpbmc9aGUuamEpKG0pLGkuX09ydFJ1bldpdGhCaW5kaW5nPShtLGIsUyxBLEQpPT4oaS5fT3J0UnVuV2l0aEJpbmRpbmc9aGUua2EpKG0sYixTLEEsRCksaS5fT3J0UnVuPShtLGIsUyxBLEQsWSxhZSx5ZSk9PihpLl9PcnRSdW49aGUubGEpKG0sYixTLEEsRCxZLGFlLHllKSxpLl9PcnRFbmRQcm9maWxpbmc9bT0+KGkuX09ydEVuZFByb2ZpbGluZz1oZS5tYSkobSksaS5fSnNlcE91dHB1dD0obSxiLFMpPT4oaS5fSnNlcE91dHB1dD1oZS5uYSkobSxiLFMpLGkuX0pzZXBHZXROb2RlTmFtZT1tPT4oaS5fSnNlcEdldE5vZGVOYW1lPWhlLm9hKShtKTt2YXIgSm49KCk9PihKbj1oZS5wYSkoKSxubj1pLl9tYWxsb2M9bT0+KG5uPWkuX21hbGxvYz1oZS5xYSkobSksZWE9aS5fZnJlZT1tPT4oZWE9aS5fZnJlZT1oZS5yYSkobSksdGE9bT0+KHRhPWhlLnRhKShtKSxyYT0oKT0+KHJhPWhlLnVhKSgpLG5hPW09PihuYT1oZS52YSkobSksYWE9bT0+KGFhPWhlLndhKShtKSxpYT1tPT4oaWE9aGUueWEpKG0pLHNhPSgpPT4oc2E9aGUuemEpKCksb2E9bT0+KG9hPWhlLkFhKShtKSxsYT0oKT0+KGxhPWhlLkJhKSgpO2kuX19fc3RhcnRfZW1fanM9OTQzMTAwLGkuX19fc3RvcF9lbV9qcz05NDMyNjE7ZnVuY3Rpb24gZmkoKXt2YXIgbT1oZTttPU9iamVjdC5hc3NpZ24oe30sbSk7dmFyIGI9QT0+KCk9PkEoKT4+PjAsUz1BPT5EPT5BKEQpPj4+MDtyZXR1cm4gbS5wYT1iKG0ucGEpLG0ucWE9UyhtLnFhKSxtLnVhPWIobS51YSksbS53YT1TKG0ud2EpLG19aS5zdGFja0FsbG9jPWFhLGkuc3RhY2tTYXZlPXJhLGkuc3RhY2tSZXN0b3JlPW5hLGkuVVRGOFRvU3RyaW5nPWV0LGkuc3RyaW5nVG9VVEY4PShtLGIsUyk9PktuKG0sSyxiLFMpLGkubGVuZ3RoQnl0ZXNVVEY4PVFyO3ZhciBfcjt1ZT1mdW5jdGlvbiBtKCl7X3J8fE1yKCksX3J8fCh1ZT1tKX07ZnVuY3Rpb24gTXIoKXtpZighKDA8WCkpe2lmKGkucHJlUnVuKWZvcih0eXBlb2YgaS5wcmVSdW49PSJmdW5jdGlvbiImJihpLnByZVJ1bj1baS5wcmVSdW5dKTtpLnByZVJ1bi5sZW5ndGg7KXt2YXIgbT1pLnByZVJ1bi5zaGlmdCgpO0wudW5zaGlmdChtKX1mb3IoOzA8TC5sZW5ndGg7KUwuc2hpZnQoKShpKTtpZighKDA8WHx8X3J8fChfcj0hMCxpLmNhbGxlZFJ1bj0hMCxCKSkpe2Zvcig7MDxWLmxlbmd0aDspVi5zaGlmdCgpKGkpO2ZvcihzKGkpOzA8dGUubGVuZ3RoOyl0ZS5zaGlmdCgpKGkpfX19cmV0dXJuIE1yKCksYS5yZWFkeX19KSgpO3R5cGVvZiB0PT0ib2JqZWN0IiYmdHlwZW9mIGU9PSJvYmplY3QiP2UuZXhwb3J0cz1yOnR5cGVvZiBkZWZpbmU9PSJmdW5jdGlvbiImJmRlZmluZS5hbWQmJmRlZmluZShbXSwoKT0+cil9KSxYZz1EcigoKT0+e30pLFFnPURyKCgpPT57fSksWW89e307TnIoWW8se2NwdXM6KCk9PlhvfSk7dmFyIFhvLFpnPVEoKCk9PntYbz12b2lkIDB9KSxKZz1EcigodCxlKT0+e3ZhciByPSgoKT0+e3ZhciBuPXR5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQ/ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM6dm9pZCAwO3JldHVybiB0eXBlb2YgX19maWxlbmFtZTwidSImJihuPW58fF9fZmlsZW5hbWUpLGZ1bmN0aW9uKGE9e30pe2Z1bmN0aW9uIGkoKXtyZXR1cm4gTC5idWZmZXIhPXVlLmJ1ZmZlciYmVmUoKSx1ZX1mdW5jdGlvbiBzKCl7cmV0dXJuIEwuYnVmZmVyIT11ZS5idWZmZXImJlZlKCksRn1mdW5jdGlvbiBvKCl7cmV0dXJuIEwuYnVmZmVyIT11ZS5idWZmZXImJlZlKCksb2V9ZnVuY3Rpb24gbCgpe3JldHVybiBMLmJ1ZmZlciE9dWUuYnVmZmVyJiZWZSgpLCRlfWZ1bmN0aW9uIGQoKXtyZXR1cm4gTC5idWZmZXIhPXVlLmJ1ZmZlciYmVmUoKSxVZX1mdW5jdGlvbiBjKCl7cmV0dXJuIEwuYnVmZmVyIT11ZS5idWZmZXImJlZlKCksUGV9dmFyIHU9YSxoLGY7dS5yZWFkeT1uZXcgUHJvbWlzZSgocCxfKT0+e2g9cCxmPV99KSx1Lm1vdW50RXh0ZXJuYWxEYXRhPShwLF8pPT57KHUuY2J8fCh1LmNiPW5ldyBNYXApKS5zZXQocCxfKX0sdS51bm1vdW50RXh0ZXJuYWxEYXRhPSgpPT57ZGVsZXRlIHUuY2J9LHUuanNlcEluaXQ9KHAsXywkLEMsTSxXLGosZmUpPT57dS5NYj1wLHUud2I9Xyx1LnliPSQsdS5rYj1DLHUueGI9TSx1LkVhPVcsdS56Yj1qLHUuQWI9ZmUsXz0oY2UscGUsd2UpPT4oLi4uTWUpPT57bGV0IE5lPXJyLFI9cGU/LigpO01lPWNlKC4uLk1lKTtsZXQgYmU9cGU/LigpO3JldHVybiBSIT09YmUmJihjZT1iZSx3ZShSKSxwZT13ZT1udWxsKSxyciE9TmU/QjMoKTpNZX0sJD1jZT0+YXN5bmMoLi4ucGUpPT57dHJ5e2lmKHUuYmIpdGhyb3cgRXJyb3IoIlNlc3Npb24gYWxyZWFkeSBzdGFydGVkIik7bGV0IHdlPXUuYmI9e0NiOnBlWzBdLGVycm9yczpbXX0sTWU9YXdhaXQgY2UoLi4ucGUpO2lmKHUuYmIhPT13ZSl0aHJvdyBFcnJvcigiU2Vzc2lvbiBtaXNtYXRjaCIpO3AuZmx1c2goKTtsZXQgTmU9d2UuZXJyb3JzO2lmKDA8TmUubGVuZ3RoKXtsZXQgUj1hd2FpdCBQcm9taXNlLmFsbChOZSk7aWYoUj1SLmZpbHRlcihiZT0+YmUpLDA8Ui5sZW5ndGgpdGhyb3cgRXJyb3IoUi5qb2luKGAKYCkpfXJldHVybiBNZX1maW5hbGx5e3UuYmI9bnVsbH19LHUuX09ydFJ1bj0kKF8odS5fT3J0UnVuLCgpPT51Ll9PcnRSdW4sY2U9PnUuX09ydFJ1bj1jZSkpLHUuX09ydFJ1bldpdGhCaW5kaW5nPSQoXyh1Ll9PcnRSdW5XaXRoQmluZGluZywoKT0+dS5fT3J0UnVuV2l0aEJpbmRpbmcsY2U9PnUuX09ydFJ1bldpdGhCaW5kaW5nPWNlKSksdS5fT3J0QmluZElucHV0PV8odS5fT3J0QmluZElucHV0LCgpPT51Ll9PcnRCaW5kSW5wdXQsY2U9PnUuX09ydEJpbmRJbnB1dD1jZSksdS5qc2VwUmVnaXN0ZXJCdWZmZXI9KGNlLHBlLHdlLE1lKT0+cC5yZWdpc3RlckJ1ZmZlcihjZSxwZSx3ZSxNZSksdS5qc2VwVW5yZWdpc3RlckJ1ZmZlcnM9Y2U9PntwLnVucmVnaXN0ZXJCdWZmZXJzKGNlKX0sdS5qc2VwR2V0QnVmZmVyPWNlPT5wLmdldEJ1ZmZlcihjZSksdS5qc2VwQ3JlYXRlRG93bmxvYWRlcj0oY2UscGUsd2UpPT5wLmNyZWF0ZURvd25sb2FkZXIoY2UscGUsd2UpfTt2YXIgZz1PYmplY3QuYXNzaWduKHt9LHUpLHk9Ii4vdGhpcy5wcm9ncmFtIix3PShwLF8pPT57dGhyb3cgX30sdj10eXBlb2Ygd2luZG93PT0ib2JqZWN0IixrPXR5cGVvZiBpbXBvcnRTY3JpcHRzPT0iZnVuY3Rpb24iLEU9dHlwZW9mIHByb2Nlc3M9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGU9PSJzdHJpbmciLHg9dS5FTlZJUk9OTUVOVF9JU19QVEhSRUFEfHwhMSxJPSIiO2Z1bmN0aW9uIFQocCl7cmV0dXJuIHUubG9jYXRlRmlsZT91LmxvY2F0ZUZpbGUocCxJKTpJK3B9dmFyIEIsVSxIO2lmKEUpe3ZhciBLPShxbygpLHdyKE5pKSksTz0oS28oKSx3cihVaSkpO0k9az9PLmRpcm5hbWUoSSkrIi8iOl9fZGlybmFtZSsiLyIsQj0oXywkKT0+KF89QXIoXyk/bmV3IFVSTChfKTpPLm5vcm1hbGl6ZShfKSxLLnJlYWRGaWxlU3luYyhfLCQ/dm9pZCAwOiJ1dGY4IikpLEg9Xz0+KF89QihfLCEwKSxfLmJ1ZmZlcnx8KF89bmV3IFVpbnQ4QXJyYXkoXykpLF8pLFU9KF8sJCxDLE09ITApPT57Xz1BcihfKT9uZXcgVVJMKF8pOk8ubm9ybWFsaXplKF8pLEsucmVhZEZpbGUoXyxNP3ZvaWQgMDoidXRmOCIsKFcsaik9PntXP0MoVyk6JChNP2ouYnVmZmVyOmopfSl9LCF1LnRoaXNQcm9ncmFtJiYxPHByb2Nlc3MuYXJndi5sZW5ndGgmJih5PXByb2Nlc3MuYXJndlsxXS5yZXBsYWNlKC9cXC9nLCIvIikpLHByb2Nlc3MuYXJndi5zbGljZSgyKSx3PShfLCQpPT57dGhyb3cgcHJvY2Vzcy5leGl0Q29kZT1fLCR9LHUuaW5zcGVjdD0oKT0+IltFbXNjcmlwdGVuIE1vZHVsZSBvYmplY3RdIjtsZXQgcDt0cnl7cD1YZygpfWNhdGNoKF8pe3Rocm93IGNvbnNvbGUuZXJyb3IoJ1RoZSAid29ya2VyX3RocmVhZHMiIG1vZHVsZSBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgbm9kZS5qcyBidWlsZCAtIHBlcmhhcHMgYSBuZXdlciB2ZXJzaW9uIGlzIG5lZWRlZD8nKSxffWdsb2JhbC5Xb3JrZXI9cC5Xb3JrZXJ9ZWxzZSh2fHxrKSYmKGs/ST1zZWxmLmxvY2F0aW9uLmhyZWY6dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdCYmKEk9ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpLHR5cGVvZiBuPCJ1IiYmbiYmKEk9biksSS5pbmRleE9mKCJibG9iOiIpIT09MD9JPUkuc3Vic3RyKDAsSS5yZXBsYWNlKC9bPyNdLiovLCIiKS5sYXN0SW5kZXhPZigiLyIpKzEpOkk9IiIsRXx8KEI9cD0+e3ZhciBfPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gXy5vcGVuKCJHRVQiLHAsITEpLF8uc2VuZChudWxsKSxfLnJlc3BvbnNlVGV4dH0sayYmKEg9cD0+e3ZhciBfPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gXy5vcGVuKCJHRVQiLHAsITEpLF8ucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsXy5zZW5kKG51bGwpLG5ldyBVaW50OEFycmF5KF8ucmVzcG9uc2UpfSksVT0ocCxfLCQpPT57dmFyIEM9bmV3IFhNTEh0dHBSZXF1ZXN0O0Mub3BlbigiR0VUIixwLCEwKSxDLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLEMub25sb2FkPSgpPT57Qy5zdGF0dXM9PTIwMHx8Qy5zdGF0dXM9PTAmJkMucmVzcG9uc2U/XyhDLnJlc3BvbnNlKTokKCl9LEMub25lcnJvcj0kLEMuc2VuZChudWxsKX0pKTtFJiZ0eXBlb2YgcGVyZm9ybWFuY2U+InUiJiYoZ2xvYmFsLnBlcmZvcm1hbmNlPVFnKCkucGVyZm9ybWFuY2UpO3ZhciBHPWNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksbmU9Y29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpO0UmJihHPSguLi5wKT0+Sy53cml0ZVN5bmMoMSxwLmpvaW4oIiAiKStgCmApLG5lPSguLi5wKT0+Sy53cml0ZVN5bmMoMixwLmpvaW4oIiAiKStgCmApKTt2YXIgcT1HLFA9bmU7T2JqZWN0LmFzc2lnbih1LGcpLGc9bnVsbCx0eXBlb2YgV2ViQXNzZW1ibHkhPSJvYmplY3QiJiZtcigibm8gbmF0aXZlIHdhc20gc3VwcG9ydCBkZXRlY3RlZCIpO3ZhciBMLFYsdGU9ITEsWCx1ZSxGLG9lLCRlLFVlLFBlO2Z1bmN0aW9uIFZlKCl7dmFyIHA9TC5idWZmZXI7dS5IRUFQOD11ZT1uZXcgSW50OEFycmF5KHApLHUuSEVBUDE2PW5ldyBJbnQxNkFycmF5KHApLHUuSEVBUFU4PUY9bmV3IFVpbnQ4QXJyYXkocCksdS5IRUFQVTE2PW5ldyBVaW50MTZBcnJheShwKSx1LkhFQVAzMj1vZT1uZXcgSW50MzJBcnJheShwKSx1LkhFQVBVMzI9JGU9bmV3IFVpbnQzMkFycmF5KHApLHUuSEVBUEYzMj1VZT1uZXcgRmxvYXQzMkFycmF5KHApLHUuSEVBUEY2ND1QZT1uZXcgRmxvYXQ2NEFycmF5KHApfXZhciBTdD0xNjc3NzIxNjtpZih4KUw9dS53YXNtTWVtb3J5O2Vsc2UgaWYodS53YXNtTWVtb3J5KUw9dS53YXNtTWVtb3J5O2Vsc2UgaWYoTD1uZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtpbml0aWFsOlN0LzY1NTM2LG1heGltdW06NjU1MzYsc2hhcmVkOiEwfSksIShMLmJ1ZmZlciBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyKSl0aHJvdyBQKCJyZXF1ZXN0ZWQgYSBzaGFyZWQgV2ViQXNzZW1ibHkuTWVtb3J5IGJ1dCB0aGUgcmV0dXJuZWQgYnVmZmVyIGlzIG5vdCBhIFNoYXJlZEFycmF5QnVmZmVyLCBpbmRpY2F0aW5nIHRoYXQgd2hpbGUgdGhlIGJyb3dzZXIgaGFzIFNoYXJlZEFycmF5QnVmZmVyIGl0IGRvZXMgbm90IGhhdmUgV2ViQXNzZW1ibHkgdGhyZWFkcyBzdXBwb3J0IC0geW91IG1heSBuZWVkIHRvIHNldCBhIGZsYWciKSxFJiZQKCIob24gbm9kZSB5b3UgbWF5IG5lZWQ6IC0tZXhwZXJpbWVudGFsLXdhc20tdGhyZWFkcyAtLWV4cGVyaW1lbnRhbC13YXNtLWJ1bGstbWVtb3J5IGFuZC9vciByZWNlbnQgdmVyc2lvbikiKSxFcnJvcigiYmFkIG1lbW9yeSIpO1ZlKCksU3Q9TC5idWZmZXIuYnl0ZUxlbmd0aDt2YXIgV2U9W10sSGU9W10sTXQ9W10senQ9MCxxdD1udWxsO2Z1bmN0aW9uIGFpKCl7aWYoenQtLSx6dD09MCYmcXQpe3ZhciBwPXF0O3F0PW51bGwscCgpfX1mdW5jdGlvbiBtcihwKXt0aHJvdyBwPSJBYm9ydGVkKCIrcCsiKSIsUChwKSx0ZT0hMCxYPTEscD1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKHArIi4gQnVpbGQgd2l0aCAtc0FTU0VSVElPTlMgZm9yIG1vcmUgaW5mby4iKSxmKHApLHB9dmFyIGpuPXA9PnAuc3RhcnRzV2l0aCgiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCIpLEFyPXA9PnAuc3RhcnRzV2l0aCgiZmlsZTovLyIpLGV0O2V0PSJvcnQtd2FzbS1zaW1kLXRocmVhZGVkLndhc20iLGpuKGV0KXx8KGV0PVQoZXQpKTtmdW5jdGlvbiBRcihwKXtpZihIKXJldHVybiBIKHApO3Rocm93ImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkIn1mdW5jdGlvbiBLbihwKXtpZih2fHxrKXtpZih0eXBlb2YgZmV0Y2g9PSJmdW5jdGlvbiImJiFBcihwKSlyZXR1cm4gZmV0Y2gocCx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oXz0+e2lmKCFfLm9rKXRocm93ImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJyIrcCsiJyI7cmV0dXJuIF8uYXJyYXlCdWZmZXIoKX0pLmNhdGNoKCgpPT5RcihwKSk7aWYoVSlyZXR1cm4gbmV3IFByb21pc2UoKF8sJCk9PntVKHAsQz0+XyhuZXcgVWludDhBcnJheShDKSksJCl9KX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKT0+UXIocCkpfWZ1bmN0aW9uIG9yKHAsXywkKXtyZXR1cm4gS24ocCkudGhlbihDPT5XZWJBc3NlbWJseS5pbnN0YW50aWF0ZShDLF8pKS50aGVuKEM9PkMpLnRoZW4oJCxDPT57UChgZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogJHtDfWApLG1yKEMpfSl9ZnVuY3Rpb24gaWkocCxfKXt2YXIgJD1ldDtyZXR1cm4gdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nIT0iZnVuY3Rpb24ifHxqbigkKXx8QXIoJCl8fEV8fHR5cGVvZiBmZXRjaCE9ImZ1bmN0aW9uIj9vcigkLHAsXyk6ZmV0Y2goJCx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oQz0+V2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcoQyxwKS50aGVuKF8sZnVuY3Rpb24oTSl7cmV0dXJuIFAoYHdhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAke019YCksUCgiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKSxvcigkLHAsXyl9KSl9dmFyIGxyLFpyPXs5MzI0Mjg6KHAsXywkLEMpPT57aWYodHlwZW9mIHU+InUifHwhdS5jYilyZXR1cm4gMTtpZihwPW90KHA+Pj4wKSxwLnN0YXJ0c1dpdGgoIi4vIikmJihwPXAuc3Vic3RyaW5nKDIpKSxwPXUuY2IuZ2V0KHApLCFwKXJldHVybiAyO2lmKF8+Pj49MCwkPj4+PTAsQz4+Pj0wLF8rJD5wLmJ5dGVMZW5ndGgpcmV0dXJuIDM7dHJ5e3JldHVybiBzKCkuc2V0KHAuc3ViYXJyYXkoXyxfKyQpLEM+Pj4wKSwwfWNhdGNoe3JldHVybiA0fX0sOTMyOTI5OnA9PnUud2IocCksOTMyOTYyOnA9PnUueWIocCksOTMyOTk0OihwLF8sJCk9Pnt1LmtiKHAsXywkLCEwKX0sOTMzMDMzOihwLF8sJCk9Pnt1LmtiKHAsXywkKX0sOTMzMDY2OnA9Pnt1LkVhKCJBYnMiLHAsdm9pZCAwKX0sOTMzMTE3OnA9Pnt1LkVhKCJOZWciLHAsdm9pZCAwKX0sOTMzMTY4OnA9Pnt1LkVhKCJGbG9vciIscCx2b2lkIDApfSw5MzMyMjE6cD0+e3UuRWEoIkNlaWwiLHAsdm9pZCAwKX0sOTMzMjczOnA9Pnt1LkVhKCJSZWNpcHJvY2FsIixwLHZvaWQgMCl9LDkzMzMzMTpwPT57dS5FYSgiU3FydCIscCx2b2lkIDApfSw5MzMzODM6cD0+e3UuRWEoIkV4cCIscCx2b2lkIDApfSw5MzM0MzQ6cD0+e3UuRWEoIkVyZiIscCx2b2lkIDApfSw5MzM0ODU6cD0+e3UuRWEoIlNpZ21vaWQiLHAsdm9pZCAwKX0sOTMzNTQwOnA9Pnt1LkVhKCJMb2ciLHAsdm9pZCAwKX0sOTMzNTkxOnA9Pnt1LkVhKCJTaW4iLHAsdm9pZCAwKX0sOTMzNjQyOnA9Pnt1LkVhKCJDb3MiLHAsdm9pZCAwKX0sOTMzNjkzOnA9Pnt1LkVhKCJUYW4iLHAsdm9pZCAwKX0sOTMzNzQ0OnA9Pnt1LkVhKCJBc2luIixwLHZvaWQgMCl9LDkzMzc5NjpwPT57dS5FYSgiQWNvcyIscCx2b2lkIDApfSw5MzM4NDg6cD0+e3UuRWEoIkF0YW4iLHAsdm9pZCAwKX0sOTMzOTAwOnA9Pnt1LkVhKCJTaW5oIixwLHZvaWQgMCl9LDkzMzk1MjpwPT57dS5FYSgiQ29zaCIscCx2b2lkIDApfSw5MzQwMDQ6cD0+e3UuRWEoIkFzaW5oIixwLHZvaWQgMCl9LDkzNDA1NzpwPT57dS5FYSgiQWNvc2giLHAsdm9pZCAwKX0sOTM0MTEwOnA9Pnt1LkVhKCJBdGFuaCIscCx2b2lkIDApfSw5MzQxNjM6cD0+e3UuRWEoIlRhbmgiLHAsdm9pZCAwKX0sOTM0MjE1OnA9Pnt1LkVhKCJOb3QiLHAsdm9pZCAwKX0sOTM0MjY2OihwLF8sJCk9Pnt1LkVhKCJDbGlwIixwLHttaW46XyxtYXg6JH0pfSw5MzQzMzU6cD0+e3UuRWEoIkNsaXAiLHAsdm9pZCAwKX0sOTM0Mzg3OihwLF8pPT57dS5FYSgiRWx1IixwLHthbHBoYTpffSl9LDkzNDQ0NTpwPT57dS5FYSgiUmVsdSIscCx2b2lkIDApfSw5MzQ0OTc6KHAsXyk9Pnt1LkVhKCJMZWFreVJlbHUiLHAse2FscGhhOl99KX0sOTM0NTYxOihwLF8pPT57dS5FYSgiVGhyZXNob2xkZWRSZWx1IixwLHthbHBoYTpffSl9LDkzNDYzMToocCxfKT0+e3UuRWEoIkNhc3QiLHAse3RvOl99KX0sOTM0Njg5OnA9Pnt1LkVhKCJBZGQiLHAsdm9pZCAwKX0sOTM0NzQwOnA9Pnt1LkVhKCJTdWIiLHAsdm9pZCAwKX0sOTM0NzkxOnA9Pnt1LkVhKCJNdWwiLHAsdm9pZCAwKX0sOTM0ODQyOnA9Pnt1LkVhKCJEaXYiLHAsdm9pZCAwKX0sOTM0ODkzOnA9Pnt1LkVhKCJQb3ciLHAsdm9pZCAwKX0sOTM0OTQ0OnA9Pnt1LkVhKCJFcXVhbCIscCx2b2lkIDApfSw5MzQ5OTc6cD0+e3UuRWEoIkdyZWF0ZXIiLHAsdm9pZCAwKX0sOTM1MDUyOnA9Pnt1LkVhKCJHcmVhdGVyT3JFcXVhbCIscCx2b2lkIDApfSw5MzUxMTQ6cD0+e3UuRWEoIkxlc3MiLHAsdm9pZCAwKX0sOTM1MTY2OnA9Pnt1LkVhKCJMZXNzT3JFcXVhbCIscCx2b2lkIDApfSw5MzUyMjU6KHAsXywkLEMsTSk9Pnt1LkVhKCJSZWR1Y2VNZWFuIixwLHtrZWVwRGltczohIV8sbm9vcFdpdGhFbXB0eUF4ZXM6ISEkLGF4ZXM6Qz9BcnJheS5mcm9tKG8oKS5zdWJhcnJheShDPj4+MCxNPj4+MCkpOltdfSl9LDkzNTM4NDoocCxfLCQsQyxNKT0+e3UuRWEoIlJlZHVjZU1heCIscCx7a2VlcERpbXM6ISFfLG5vb3BXaXRoRW1wdHlBeGVzOiEhJCxheGVzOkM/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoQz4+PjAsTT4+PjApKTpbXX0pfSw5MzU1NDI6KHAsXywkLEMsTSk9Pnt1LkVhKCJSZWR1Y2VNaW4iLHAse2tlZXBEaW1zOiEhXyxub29wV2l0aEVtcHR5QXhlczohISQsYXhlczpDP0FycmF5LmZyb20obygpLnN1YmFycmF5KEM+Pj4wLE0+Pj4wKSk6W119KX0sOTM1NzAwOihwLF8sJCxDLE0pPT57dS5FYSgiUmVkdWNlUHJvZCIscCx7a2VlcERpbXM6ISFfLG5vb3BXaXRoRW1wdHlBeGVzOiEhJCxheGVzOkM/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoQz4+PjAsTT4+PjApKTpbXX0pfSw5MzU4NTk6KHAsXywkLEMsTSk9Pnt1LkVhKCJSZWR1Y2VTdW0iLHAse2tlZXBEaW1zOiEhXyxub29wV2l0aEVtcHR5QXhlczohISQsYXhlczpDP0FycmF5LmZyb20obygpLnN1YmFycmF5KEM+Pj4wLE0+Pj4wKSk6W119KX0sOTM2MDE3OihwLF8sJCxDLE0pPT57dS5FYSgiUmVkdWNlTDEiLHAse2tlZXBEaW1zOiEhXyxub29wV2l0aEVtcHR5QXhlczohISQsYXhlczpDP0FycmF5LmZyb20obygpLnN1YmFycmF5KEM+Pj4wLE0+Pj4wKSk6W119KX0sOTM2MTc0OihwLF8sJCxDLE0pPT57dS5FYSgiUmVkdWNlTDIiLHAse2tlZXBEaW1zOiEhXyxub29wV2l0aEVtcHR5QXhlczohISQsYXhlczpDP0FycmF5LmZyb20obygpLnN1YmFycmF5KEM+Pj4wLE0+Pj4wKSk6W119KX0sOTM2MzMxOihwLF8sJCxDLE0pPT57dS5FYSgiUmVkdWNlTG9nU3VtIixwLHtrZWVwRGltczohIV8sbm9vcFdpdGhFbXB0eUF4ZXM6ISEkLGF4ZXM6Qz9BcnJheS5mcm9tKG8oKS5zdWJhcnJheShDPj4+MCxNPj4+MCkpOltdfSl9LDkzNjQ5MjoocCxfLCQsQyxNKT0+e3UuRWEoIlJlZHVjZVN1bVNxdWFyZSIscCx7a2VlcERpbXM6ISFfLG5vb3BXaXRoRW1wdHlBeGVzOiEhJCxheGVzOkM/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoQz4+PjAsTT4+PjApKTpbXX0pfSw5MzY2NTY6KHAsXywkLEMsTSk9Pnt1LkVhKCJSZWR1Y2VMb2dTdW1FeHAiLHAse2tlZXBEaW1zOiEhXyxub29wV2l0aEVtcHR5QXhlczohISQsYXhlczpDP0FycmF5LmZyb20obygpLnN1YmFycmF5KEM+Pj4wLE0+Pj4wKSk6W119KX0sOTM2ODIwOnA9Pnt1LkVhKCJXaGVyZSIscCx2b2lkIDApfSw5MzY4NzM6KHAsXywkKT0+e3UuRWEoIlRyYW5zcG9zZSIscCx7cGVybTpfP0FycmF5LmZyb20obygpLnN1YmFycmF5KF8+Pj4wLCQ+Pj4wKSk6W119KX0sOTM2OTgxOihwLF8sJCxDLE0sVyxqLGZlLGNlLHBlLHdlLE1lLE5lLFIsYmUpPT57dS5FYSgiQ29udlRyYW5zcG9zZSIscCx7Zm9ybWF0OmNlPyJOSFdDIjoiTkNIVyIsYXV0b1BhZDpfLGRpbGF0aW9uczpbJF0sZ3JvdXA6QyxrZXJuZWxfc2hhcGU6W01dLHBhZHM6W1csal0sc3RyaWRlczpbZmVdLHdJc0NvbnN0OigpPT4hIWkoKVtwZT4+PjBdLG91dHB1dFBhZGRpbmc6d2U/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkod2U+Pj4wLE1lPj4+MCkpOltdLG91dHB1dFNoYXBlOk5lP0FycmF5LmZyb20obygpLnN1YmFycmF5KE5lPj4+MCxSPj4+MCkpOltdLGFjdGl2YXRpb246b3QoYmUpfSl9LDkzNzM4MzoocCxfLCQsQyxNLFcsaixmZSxjZSxwZSx3ZSxNZSxOZSxSKT0+e3UuRWEoIkNvbnZUcmFuc3Bvc2UiLHAse2Zvcm1hdDpmZT8iTkhXQyI6Ik5DSFciLGF1dG9QYWQ6XyxkaWxhdGlvbnM6QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoJD4+PjAsKCQ+Pj4wKSsyPj4+MCkpLGdyb3VwOkMsa2VybmVsU2hhcGU6QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoTT4+PjAsKE0+Pj4wKSsyPj4+MCkpLHBhZHM6QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoVz4+PjAsKFc+Pj4wKSs0Pj4+MCkpLHN0cmlkZXM6QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkoaj4+PjAsKGo+Pj4wKSsyPj4+MCkpLHdJc0NvbnN0OigpPT4hIWkoKVtjZT4+PjBdLG91dHB1dFBhZGRpbmc6cGU/QXJyYXkuZnJvbShvKCkuc3ViYXJyYXkocGU+Pj4wLHdlPj4+MCkpOltdLG91dHB1dFNoYXBlOk1lP0FycmF5LmZyb20obygpLnN1YmFycmF5KE1lPj4+MCxOZT4+PjApKTpbXSxhY3RpdmF0aW9uOm90KFIpfSl9LDkzNzk0ODoocCxfLCQsQyxNLFcsaixmZSxjZSxwZSx3ZSxNZSxOZSxSLGJlKT0+e3UuRWEoIkNvbnZUcmFuc3Bvc2UiLHAse2Zvcm1hdDpjZT8iTkhXQyI6Ik5DSFciLGF1dG9QYWQ6XyxkaWxhdGlvbnM6WyRdLGdyb3VwOkMsa2VybmVsX3NoYXBlOltNXSxwYWRzOltXLGpdLHN0cmlkZXM6W2ZlXSx3SXNDb25zdDooKT0+ISFpKClbcGU+Pj4wXSxvdXRwdXRQYWRkaW5nOndlP0FycmF5LmZyb20obygpLnN1YmFycmF5KHdlPj4+MCxNZT4+PjApKTpbXSxvdXRwdXRTaGFwZTpOZT9BcnJheS5mcm9tKG8oKS5zdWJhcnJheShOZT4+PjAsUj4+PjApKTpbXSxhY3RpdmF0aW9uOm90KGJlKX0pfSw5MzgzNTA6KHAsXywkLEMsTSxXLGosZmUsY2UscGUsd2UsTWUsTmUsUik9Pnt1LkVhKCJDb252VHJhbnNwb3NlIixwLHtmb3JtYXQ6ZmU/Ik5IV0MiOiJOQ0hXIixhdXRvUGFkOl8sZGlsYXRpb25zOkFycmF5LmZyb20obygpLnN1YmFycmF5KCQ+Pj4wLCgkPj4+MCkrMj4+PjApKSxncm91cDpDLGtlcm5lbFNoYXBlOkFycmF5LmZyb20obygpLnN1YmFycmF5KE0+Pj4wLChNPj4+MCkrMj4+PjApKSxwYWRzOkFycmF5LmZyb20obygpLnN1YmFycmF5KFc+Pj4wLChXPj4+MCkrND4+PjApKSxzdHJpZGVzOkFycmF5LmZyb20obygpLnN1YmFycmF5KGo+Pj4wLChqPj4+MCkrMj4+PjApKSx3SXNDb25zdDooKT0+ISFpKClbY2U+Pj4wXSxvdXRwdXRQYWRkaW5nOnBlP0FycmF5LmZyb20obygpLnN1YmFycmF5KHBlPj4+MCx3ZT4+PjApKTpbXSxvdXRwdXRTaGFwZTpNZT9BcnJheS5mcm9tKG8oKS5zdWJhcnJheShNZT4+PjAsTmU+Pj4wKSk6W10sYWN0aXZhdGlvbjpvdChSKX0pfSw5Mzg5MTU6KHAsXyk9Pnt1LkVhKCJHbG9iYWxBdmVyYWdlUG9vbCIscCx7Zm9ybWF0Ol8/Ik5IV0MiOiJOQ0hXIn0pfSw5MzkwMDY6KHAsXywkLEMsTSxXLGosZmUsY2UscGUsd2UsTWUsTmUsUixiZSxCZSk9Pnt1LkVhKCJBdmVyYWdlUG9vbCIscCx7Zm9ybWF0OkJlPyJOSFdDIjoiTkNIVyIsYXV0b19wYWQ6XyxjZWlsX21vZGU6JCxjb3VudF9pbmNsdWRlX3BhZDpDLHN0b3JhZ2Vfb3JkZXI6TSxkaWxhdGlvbnM6W1csal0sa2VybmVsX3NoYXBlOltmZSxjZV0scGFkczpbcGUsd2UsTWUsTmVdLHN0cmlkZXM6W1IsYmVdfSl9LDkzOTI5MDoocCxfKT0+e3UuRWEoIkdsb2JhbEF2ZXJhZ2VQb29sIixwLHtmb3JtYXQ6Xz8iTkhXQyI6Ik5DSFcifSl9LDkzOTM4MToocCxfLCQsQyxNLFcsaixmZSxjZSxwZSx3ZSxNZSxOZSxSLGJlLEJlKT0+e3UuRWEoIkF2ZXJhZ2VQb29sIixwLHtmb3JtYXQ6QmU/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDpfLGNlaWxfbW9kZTokLGNvdW50X2luY2x1ZGVfcGFkOkMsc3RvcmFnZV9vcmRlcjpNLGRpbGF0aW9uczpbVyxqXSxrZXJuZWxfc2hhcGU6W2ZlLGNlXSxwYWRzOltwZSx3ZSxNZSxOZV0sc3RyaWRlczpbUixiZV19KX0sOTM5NjY1OihwLF8pPT57dS5FYSgiR2xvYmFsTWF4UG9vbCIscCx7Zm9ybWF0Ol8/Ik5IV0MiOiJOQ0hXIn0pfSw5Mzk3NTI6KHAsXywkLEMsTSxXLGosZmUsY2UscGUsd2UsTWUsTmUsUixiZSxCZSk9Pnt1LkVhKCJNYXhQb29sIixwLHtmb3JtYXQ6QmU/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDpfLGNlaWxfbW9kZTokLGNvdW50X2luY2x1ZGVfcGFkOkMsc3RvcmFnZV9vcmRlcjpNLGRpbGF0aW9uczpbVyxqXSxrZXJuZWxfc2hhcGU6W2ZlLGNlXSxwYWRzOltwZSx3ZSxNZSxOZV0sc3RyaWRlczpbUixiZV19KX0sOTQwMDMyOihwLF8pPT57dS5FYSgiR2xvYmFsTWF4UG9vbCIscCx7Zm9ybWF0Ol8/Ik5IV0MiOiJOQ0hXIn0pfSw5NDAxMTk6KHAsXywkLEMsTSxXLGosZmUsY2UscGUsd2UsTWUsTmUsUixiZSxCZSk9Pnt1LkVhKCJNYXhQb29sIixwLHtmb3JtYXQ6QmU/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDpfLGNlaWxfbW9kZTokLGNvdW50X2luY2x1ZGVfcGFkOkMsc3RvcmFnZV9vcmRlcjpNLGRpbGF0aW9uczpbVyxqXSxrZXJuZWxfc2hhcGU6W2ZlLGNlXSxwYWRzOltwZSx3ZSxNZSxOZV0sc3RyaWRlczpbUixiZV19KX0sOTQwMzk5OihwLF8sJCxDLE0pPT57dS5FYSgiR2VtbSIscCx7YWxwaGE6XyxiZXRhOiQsdHJhbnNBOkMsdHJhbnNCOk19KX0sOTQwNTAzOnA9Pnt1LkVhKCJNYXRNdWwiLHAsdm9pZCAwKX0sOTQwNTU3OihwLF8sJCxDKT0+e3UuRWEoIkFyZ01heCIscCx7a2VlcERpbXM6ISFfLHNlbGVjdExhc3RJbmRleDohISQsYXhpczpDfSl9LDk0MDY2NToocCxfLCQsQyk9Pnt1LkVhKCJBcmdNaW4iLHAse2tlZXBEaW1zOiEhXyxzZWxlY3RMYXN0SW5kZXg6ISEkLGF4aXM6Q30pfSw5NDA3NzM6KHAsXyk9Pnt1LkVhKCJTb2Z0bWF4IixwLHtheGlzOl99KX0sOTQwODM2OihwLF8pPT57dS5FYSgiQ29uY2F0IixwLHtheGlzOl99KX0sOTQwODk2OihwLF8sJCxDLE0pPT57dS5FYSgiU3BsaXQiLHAse2F4aXM6XyxudW1PdXRwdXRzOiQsc3BsaXRTaXplczpDP0FycmF5LmZyb20obygpLnN1YmFycmF5KEM+Pj4wLE0+Pj4wKSk6W119KX0sOTQxMDM2OnA9Pnt1LkVhKCJFeHBhbmQiLHAsdm9pZCAwKX0sOTQxMDkwOihwLF8pPT57dS5FYSgiR2F0aGVyIixwLHtheGlzOk51bWJlcihfKX0pfSw5NDExNjE6KHAsXyk9Pnt1LkVhKCJHYXRoZXJFbGVtZW50cyIscCx7YXhpczpOdW1iZXIoXyl9KX0sOTQxMjQwOihwLF8sJCxDLE0sVyxqLGZlLGNlLHBlLHdlKT0+e3UuRWEoIlJlc2l6ZSIscCx7YW50aWFsaWFzOl8sYXhlczokP0FycmF5LmZyb20obygpLnN1YmFycmF5KCQ+Pj4wLEM+Pj4wKSk6W10sY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGU6b3QoTSksY3ViaWNDb2VmZkE6VyxleGNsdWRlT3V0c2lkZTpqLGV4dHJhcG9sYXRpb25WYWx1ZTpmZSxrZWVwQXNwZWN0UmF0aW9Qb2xpY3k6b3QoY2UpLG1vZGU6b3QocGUpLG5lYXJlc3RNb2RlOm90KHdlKX0pfSw5NDE1ODY6KHAsXywkLEMsTSxXLGopPT57dS5FYSgiU2xpY2UiLHAse3N0YXJ0czpfP0FycmF5LmZyb20obygpLnN1YmFycmF5KF8+Pj4wLCQ+Pj4wKSk6W10sZW5kczpDP0FycmF5LmZyb20obygpLnN1YmFycmF5KEM+Pj4wLE0+Pj4wKSk6W10sYXhlczpXP0FycmF5LmZyb20obygpLnN1YmFycmF5KFc+Pj4wLGo+Pj4wKSk6W119KX0sOTQxODAyOnA9Pnt1LkVhKCJUaWxlIixwLHZvaWQgMCl9LDk0MTg1NDoocCxfLCQpPT57dS5FYSgiTGF5ZXJOb3JtYWxpemF0aW9uIixwLHtheGlzOk51bWJlcihfKSxlcHNpbG9uOk51bWJlcigkKX0pfSw5NDE5NjE6KHAsXywkKT0+e3UuRWEoIkluc3RhbmNlTm9ybWFsaXphdGlvbiIscCx7ZXBzaWxvbjpfLGZvcm1hdDokPyJOSFdDIjoiTkNIVyJ9KX0sOTQyMDc1OihwLF8sJCk9Pnt1LkVhKCJJbnN0YW5jZU5vcm1hbGl6YXRpb24iLHAse2Vwc2lsb246Xyxmb3JtYXQ6JD8iTkhXQyI6Ik5DSFcifSl9LDk0MjE4OTpwPT57dS5FYSgiUmFuZ2UiLHAsdm9pZCAwKX0sOTQyMjQyOihwLF8pPT57dS5FYSgiRWluc3VtIixwLHtlcXVhdGlvbjpvdChfKX0pfSw5NDIzMjM6KHAsXywkLEMsTSk9Pnt1LkVhKCJQYWQiLHAse21vZGU6Xyx2YWx1ZTokLHBhZHM6Qz9BcnJheS5mcm9tKG8oKS5zdWJhcnJheShDPj4+MCxNPj4+MCkpOltdfSl9LDk0MjQ1MDoocCxfLCQsQyxNLFcpPT57dS5FYSgiQmF0Y2hOb3JtYWxpemF0aW9uIixwLHtlcHNpbG9uOl8sbW9tZW50dW06JCxzcGF0aWFsOiEhTSx0cmFpbmluZ01vZGU6ISFDLGZvcm1hdDpXPyJOSFdDIjoiTkNIVyJ9KX0sOTQyNjE5OihwLF8sJCxDLE0sVyk9Pnt1LkVhKCJCYXRjaE5vcm1hbGl6YXRpb24iLHAse2Vwc2lsb246Xyxtb21lbnR1bTokLHNwYXRpYWw6ISFNLHRyYWluaW5nTW9kZTohIUMsZm9ybWF0Olc/Ik5IV0MiOiJOQ0hXIn0pfSw5NDI3ODg6KHAsXywkKT0+e3UuRWEoIkN1bVN1bSIscCx7ZXhjbHVzaXZlOk51bWJlcihfKSxyZXZlcnNlOk51bWJlcigkKX0pfSw5NDI4ODU6KHAsXywkLEMsTSxXLGosZmUsY2UpPT57dS5FYSgiQXR0ZW50aW9uIixwLHtudW1IZWFkczpfLGlzVW5pZGlyZWN0aW9uYWw6JCxtYXNrRmlsdGVyVmFsdWU6QyxzY2FsZTpNLGRvUm90YXJ5OlcscWt2SGlkZGVuU2l6ZXM6aj9BcnJheS5mcm9tKG8oKS5zdWJhcnJheShOdW1iZXIoZmUpPj4+MCxOdW1iZXIoZmUpK2o+Pj4wKSk6W10scGFzdFByZXNlbnRTaGFyZUJ1ZmZlcjohIWNlfSl9LDk0MzE1NzpwPT57dS5FYSgiR2VsdSIscCx2b2lkIDApfSw5NDMyMDk6KHAsXywkLEMsTSxXKT0+e3UuRWEoIk11bHRpSGVhZEF0dGVudGlvbiIscCx7bnVtSGVhZHM6Xyxpc1VuaWRpcmVjdGlvbmFsOiQsbWFza0ZpbHRlclZhbHVlOkMsc2NhbGU6TSxkb1JvdGFyeTpXfSl9LDk0MzM2ODpwPT57dS5FYSgiQmlhc0FkZCIscCx2b2lkIDApfSw5NDM0MjM6cD0+e3UuRWEoIkJpYXNTcGxpdEdlbHUiLHAsdm9pZCAwKX0sOTQzNDg0OihwLF8pPT57dS5FYSgiU2tpcExheWVyTm9ybWFsaXphdGlvbiIscCx7ZXBzaWxvbjpffSl9LDk0MzU2NToocCxfLCQsQyxNLFcsaixmZSxjZSxwZSx3ZSxNZSxOZSk9Pnt1LkVhKCJDb252IixwLHtmb3JtYXQ6Y2U/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDpfLGRpbGF0aW9uczpbJF0sZ3JvdXA6QyxrZXJuZWxfc2hhcGU6W01dLHBhZHM6Vz9BcnJheS5mcm9tKG8oKS5zdWJhcnJheShXPj4+MCxqPj4+MCkpOltdLHN0cmlkZXM6W2ZlXSx3X2lzX2NvbnN0OigpPT4hIWkoKVtwZT4+PjBdLGFjdGl2YXRpb246b3Qod2UpLGFjdGl2YXRpb25fcGFyYW1zOk1lP0FycmF5LmZyb20oZCgpLnN1YmFycmF5KE1lPj4+MCxOZT4+PjApKTpbXX0pfSw5NDM5MzU6KHAsXywkLEMsTSxXLGosZmUsY2UscGUsd2UsTWUsTmUsUixiZSxCZSk9Pnt1LkVhKCJDb252IixwLHtmb3JtYXQ6TWU/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDpfLGRpbGF0aW9uczpbJCxDXSxncm91cDpNLGtlcm5lbF9zaGFwZTpbVyxqXSxwYWRzOmZlP0FycmF5LmZyb20obygpLnN1YmFycmF5KGZlPj4+MCxjZT4+PjApKTpbXSxzdHJpZGVzOltwZSx3ZV0sd19pc19jb25zdDooKT0+ISFpKClbTmU+Pj4wXSxhY3RpdmF0aW9uOm90KFIpLGFjdGl2YXRpb25fcGFyYW1zOmJlP0FycmF5LmZyb20oZCgpLnN1YmFycmF5KGJlPj4+MCxCZT4+PjApKTpbXX0pfSw5NDQzMjY6cD0+e3UuemIocCl9LDk0NDM2MDoocCxfKT0+dS5BYihwLF8sdS5iYi5DYix1LmJiLmVycm9ycyl9O2Z1bmN0aW9uIFRyKHApe3RoaXMubmFtZT0iRXhpdFN0YXR1cyIsdGhpcy5tZXNzYWdlPWBQcm9ncmFtIHRlcm1pbmF0ZWQgd2l0aCBleGl0KCR7cH0pYCx0aGlzLnN0YXR1cz1wfXZhciBKcj1wPT57cC50ZXJtaW5hdGUoKSxwLm9ubWVzc2FnZT0oKT0+e319LGVuPXA9PnttZS5ZYS5sZW5ndGg9PTAmJihFdCgpLG1lLmxiKG1lLllhWzBdKSk7dmFyIF89bWUuWWEucG9wKCk7aWYoIV8pcmV0dXJuIDY7bWUuWmEucHVzaChfKSxtZS5RYVtwLlhhXT1fLF8uWGE9cC5YYTt2YXIgJD17Y21kOiJydW4iLHN0YXJ0X3JvdXRpbmU6cC5EYixhcmc6cC50YixwdGhyZWFkX3B0cjpwLlhhfTtyZXR1cm4gRSYmXy51bnJlZigpLF8ucG9zdE1lc3NhZ2UoJCxwLkpiKSwwfSxKdD0wLHRuPXR5cGVvZiBUZXh0RGVjb2RlcjwidSI/bmV3IFRleHREZWNvZGVyKCJ1dGY4Iik6dm9pZCAwLHNpPShwLF8sJCk9PntfPj4+PTA7dmFyIEM9XyskO2ZvcigkPV87cFskXSYmISgkPj1DKTspKyskO2lmKDE2PCQtXyYmcC5idWZmZXImJnRuKXJldHVybiB0bi5kZWNvZGUocC5idWZmZXIgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcj9wLnNsaWNlKF8sJCk6cC5zdWJhcnJheShfLCQpKTtmb3IoQz0iIjtfPCQ7KXt2YXIgTT1wW18rK107aWYoTSYxMjgpe3ZhciBXPXBbXysrXSY2MztpZigoTSYyMjQpPT0xOTIpQys9U3RyaW5nLmZyb21DaGFyQ29kZSgoTSYzMSk8PDZ8Vyk7ZWxzZXt2YXIgaj1wW18rK10mNjM7TT0oTSYyNDApPT0yMjQ/KE0mMTUpPDwxMnxXPDw2fGo6KE0mNyk8PDE4fFc8PDEyfGo8PDZ8cFtfKytdJjYzLDY1NTM2Pk0/Qys9U3RyaW5nLmZyb21DaGFyQ29kZShNKTooTS09NjU1MzYsQys9U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxNPj4xMCw1NjMyMHxNJjEwMjMpKX19ZWxzZSBDKz1TdHJpbmcuZnJvbUNoYXJDb2RlKE0pfXJldHVybiBDfSxvdD0ocCxfKT0+KHA+Pj49MCk/c2kocygpLHAsXyk6IiIsb2k9cD0+e3ZhciBfPWhvKCk7cmV0dXJuIHA9cCgpLHdpKF8pLHB9O2Z1bmN0aW9uIExlKHAsXyl7dmFyICQ9YXJndW1lbnRzLmxlbmd0aC0yLEM9YXJndW1lbnRzO3JldHVybiBvaSgoKT0+e2Zvcih2YXIgTT1mbyg4KiQpLFc9TT4+PjMsaj0wO2o8JDtqKyspe3ZhciBmZT1DWzIral07YygpW1craj4+PjBdPWZlfXJldHVybiBabShwLCQsTSxfKX0pfWZ1bmN0aW9uIFluKHApe2lmKHgpcmV0dXJuIExlKDAsMSxwKTtYPXAsMDxKdHx8KG1lLkViKCksdS5vbkV4aXQ/LihwKSx0ZT0hMCksdyhwLG5ldyBUcihwKSl9dmFyIGdyPXA9PntpZihYPXAseCl0aHJvdyBRbihwKSwidW53aW5kIjtZbihwKX0sWG49cD0+e3AgaW5zdGFuY2VvZiBUcnx8cD09InVud2luZCJ8fHcoMSxwKX07ZnVuY3Rpb24gZXIoKXtmb3IodmFyIHA9dS5udW1UaHJlYWRzO3AtLTspRXQoKTtXZS51bnNoaWZ0KCgpPT57enQrKyxsaSgoKT0+YWkoKSl9KX1mdW5jdGlvbiBFdCgpe3ZhciBwPVQoIm9ydC13YXNtLXNpbWQtdGhyZWFkZWQud29ya2VyLmpzIik7cD1uZXcgV29ya2VyKHApLG1lLllhLnB1c2gocCl9ZnVuY3Rpb24gbGkocCl7eD9wKCk6UHJvbWlzZS5hbGwobWUuWWEubWFwKG1lLmxiKSkudGhlbihwKX12YXIgbWU9e1lhOltdLFphOltdLHBiOltdLFFhOnt9LGhiKCl7eD8obWUucmVjZWl2ZU9iamVjdFRyYW5zZmVyPW1lLkJiLG1lLnRocmVhZEluaXRUTFM9bWUub2IsbWUuc2V0RXhpdFN0YXR1cz1tZS5uYik6ZXIoKX0sbmI6cD0+WD1wLE5iOlsiJHRlcm1pbmF0ZVdvcmtlciJdLEViOigpPT57Zm9yKHZhciBwIG9mIG1lLlphKUpyKHApO2ZvcihwIG9mIG1lLllhKUpyKHApO21lLllhPVtdLG1lLlphPVtdLG1lLlFhPVtdfSxtYjpwPT57dmFyIF89cC5YYTtkZWxldGUgbWUuUWFbX10sbWUuWWEucHVzaChwKSxtZS5aYS5zcGxpY2UobWUuWmEuaW5kZXhPZihwKSwxKSxwLlhhPTAsY28oXyl9LEJiKCl7fSxvYigpe21lLnBiLmZvckVhY2gocD0+cCgpKX0sbGI6cD0+bmV3IFByb21pc2UoXz0+e3Aub25tZXNzYWdlPVc9PntXPVcuZGF0YTt2YXIgaj1XLmNtZDtpZihXLnRhcmdldFRocmVhZCYmVy50YXJnZXRUaHJlYWQhPXlpKCkpe3ZhciBmZT1tZS5RYVtXLnRhcmdldFRocmVhZF07ZmU/ZmUucG9zdE1lc3NhZ2UoVyxXLnRyYW5zZmVyTGlzdCk6UChgSW50ZXJuYWwgZXJyb3IhIFdvcmtlciBzZW50IGEgbWVzc2FnZSAiJHtqfSIgdG8gdGFyZ2V0IHB0aHJlYWQgJHtXLnRhcmdldFRocmVhZH0sIGJ1dCB0aGF0IHRocmVhZCBubyBsb25nZXIgZXhpc3RzIWApfWVsc2Ugaj09PSJjaGVja01haWxib3giP01yKCk6aj09PSJzcGF3blRocmVhZCI/ZW4oVyk6aj09PSJjbGVhbnVwVGhyZWFkIj9tZS5tYihtZS5RYVtXLnRocmVhZF0pOmo9PT0ia2lsbFRocmVhZCI/KFc9Vy50aHJlYWQsaj1tZS5RYVtXXSxkZWxldGUgbWUuUWFbV10sSnIoaiksY28oVyksbWUuWmEuc3BsaWNlKG1lLlphLmluZGV4T2YoaiksMSksai5YYT0wKTpqPT09ImNhbmNlbFRocmVhZCI/bWUuUWFbVy50aHJlYWRdLnBvc3RNZXNzYWdlKHtjbWQ6ImNhbmNlbCJ9KTpqPT09ImxvYWRlZCI/KHAubG9hZGVkPSEwLEUmJiFwLlhhJiZwLnVucmVmKCksXyhwKSk6aj09PSJhbGVydCI/YWxlcnQoYFRocmVhZCAke1cudGhyZWFkSWR9OiAke1cudGV4dH1gKTpXLnRhcmdldD09PSJzZXRpbW1lZGlhdGUiP3AucG9zdE1lc3NhZ2UoVyk6aj09PSJjYWxsSGFuZGxlciI/dVtXLmhhbmRsZXJdKC4uLlcuYXJncyk6aiYmUChgd29ya2VyIHNlbnQgYW4gdW5rbm93biBjb21tYW5kICR7an1gKX0scC5vbmVycm9yPVc9Pnt0aHJvdyBQKGB3b3JrZXIgc2VudCBhbiBlcnJvciEgJHtXLmZpbGVuYW1lfToke1cubGluZW5vfTogJHtXLm1lc3NhZ2V9YCksV30sRSYmKHAub24oIm1lc3NhZ2UiLFc9PnAub25tZXNzYWdlKHtkYXRhOld9KSkscC5vbigiZXJyb3IiLFc9PnAub25lcnJvcihXKSkpO3ZhciAkPVtdLEM9WyJvbkV4aXQiXSxNO2ZvcihNIG9mIEMpdS5oYXNPd25Qcm9wZXJ0eShNKSYmJC5wdXNoKE0pO3AucG9zdE1lc3NhZ2Uoe2NtZDoibG9hZCIsaGFuZGxlcnM6JCx1cmxPckJsb2I6dS5tYWluU2NyaXB0VXJsT3JCbG9ifHxuLHdhc21NZW1vcnk6TCx3YXNtTW9kdWxlOlZ9KX0pfTt1LlBUaHJlYWQ9bWU7dmFyIE9yPXA9Pntmb3IoOzA8cC5sZW5ndGg7KXAuc2hpZnQoKSh1KX07dS5lc3RhYmxpc2hTdGFja1NwYWNlPSgpPT57dmFyIHA9eWkoKSxfPWwoKVtwKzUyPj4+Mj4+PjBdO3A9bCgpW3ArNTY+Pj4yPj4+MF0sdGcoXyxfLXApLHdpKF8pfTtmdW5jdGlvbiBRbihwKXtpZih4KXJldHVybiBMZSgxLDAscCk7Z3IocCl9dS5pbnZva2VFbnRyeVBvaW50PShwLF8pPT57cD1yZy5hcHBseShudWxsLFtwLF9dKSwwPEp0P21lLm5iKHApOnBvKHApfTtmdW5jdGlvbiBvbyhwKXt0aGlzLmdiPXAtMjQsdGhpcy5zYj1mdW5jdGlvbihfKXtsKClbdGhpcy5nYis0Pj4+Mj4+PjBdPV99LHRoaXMucmI9ZnVuY3Rpb24oXyl7bCgpW3RoaXMuZ2IrOD4+PjI+Pj4wXT1ffSx0aGlzLmhiPWZ1bmN0aW9uKF8sJCl7dGhpcy5xYigpLHRoaXMuc2IoXyksdGhpcy5yYigkKX0sdGhpcy5xYj1mdW5jdGlvbigpe2woKVt0aGlzLmdiKzE2Pj4+Mj4+PjBdPTB9fXZhciBybj0wO2Z1bmN0aW9uIHVpKHAsXywkLEMpe3JldHVybiB4P0xlKDIsMSxwLF8sJCxDKTpkaShwLF8sJCxDKX1mdW5jdGlvbiBkaShwLF8sJCxDKXtpZihwPj4+PTAsXz4+Pj0wLCQ+Pj49MCxDPj4+PTAsdHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPiJ1IilyZXR1cm4gUCgiQ3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBzdXBwb3J0IFNoYXJlZEFycmF5QnVmZmVyLCBwdGhyZWFkcyBhcmUgbm90IGF2YWlsYWJsZSEiKSw2O3ZhciBNPVtdO3JldHVybiB4JiZNLmxlbmd0aD09PTA/dWkocCxfLCQsQyk6KHA9e0RiOiQsWGE6cCx0YjpDLEpiOk19LHg/KHAuTGI9InNwYXduVGhyZWFkIixwb3N0TWVzc2FnZShwLE0pLDApOmVuKHApKX1mdW5jdGlvbiBjaShwLF8sJCl7cmV0dXJuIHg/TGUoMywxLHAsXywkKTowfWZ1bmN0aW9uIHBpKHAsXyl7aWYoeClyZXR1cm4gTGUoNCwxLHAsXyl9dmFyIFpuPXA9Pntmb3IodmFyIF89MCwkPTA7JDxwLmxlbmd0aDsrKyQpe3ZhciBDPXAuY2hhckNvZGVBdCgkKTsxMjc+PUM/XysrOjIwNDc+PUM/Xys9Mjo1NTI5Njw9QyYmNTczNDM+PUM/KF8rPTQsKyskKTpfKz0zfXJldHVybiBffSxoaT0ocCxfLCQsQyk9PntpZigkPj4+PTAsISgwPEMpKXJldHVybiAwO3ZhciBNPSQ7Qz0kK0MtMTtmb3IodmFyIFc9MDtXPHAubGVuZ3RoOysrVyl7dmFyIGo9cC5jaGFyQ29kZUF0KFcpO2lmKDU1Mjk2PD1qJiY1NzM0Mz49ail7dmFyIGZlPXAuY2hhckNvZGVBdCgrK1cpO2o9NjU1MzYrKChqJjEwMjMpPDwxMCl8ZmUmMTAyM31pZigxMjc+PWope2lmKCQ+PUMpYnJlYWs7X1skKys+Pj4wXT1qfWVsc2V7aWYoMjA0Nz49ail7aWYoJCsxPj1DKWJyZWFrO19bJCsrPj4+MF09MTkyfGo+PjZ9ZWxzZXtpZig2NTUzNT49ail7aWYoJCsyPj1DKWJyZWFrO19bJCsrPj4+MF09MjI0fGo+PjEyfWVsc2V7aWYoJCszPj1DKWJyZWFrO19bJCsrPj4+MF09MjQwfGo+PjE4LF9bJCsrPj4+MF09MTI4fGo+PjEyJjYzfV9bJCsrPj4+MF09MTI4fGo+PjYmNjN9X1skKys+Pj4wXT0xMjh8aiY2M319cmV0dXJuIF9bJD4+PjBdPTAsJC1NfSxoZT0ocCxfLCQpPT5oaShwLHMoKSxfLCQpO2Z1bmN0aW9uIEpuKHAsXyl7aWYoeClyZXR1cm4gTGUoNSwxLHAsXyl9ZnVuY3Rpb24gbm4ocCxfLCQpe2lmKHgpcmV0dXJuIExlKDYsMSxwLF8sJCl9ZnVuY3Rpb24gZWEocCxfLCQpe3JldHVybiB4P0xlKDcsMSxwLF8sJCk6MH1mdW5jdGlvbiB0YShwLF8pe2lmKHgpcmV0dXJuIExlKDgsMSxwLF8pfWZ1bmN0aW9uIHJhKHAsXywkKXtpZih4KXJldHVybiBMZSg5LDEscCxfLCQpfWZ1bmN0aW9uIG5hKHAsXywkLEMpe2lmKHgpcmV0dXJuIExlKDEwLDEscCxfLCQsQyl9ZnVuY3Rpb24gYWEocCxfLCQsQyl7aWYoeClyZXR1cm4gTGUoMTEsMSxwLF8sJCxDKX1mdW5jdGlvbiBpYShwLF8sJCxDKXtpZih4KXJldHVybiBMZSgxMiwxLHAsXywkLEMpfWZ1bmN0aW9uIHNhKHApe2lmKHgpcmV0dXJuIExlKDEzLDEscCl9ZnVuY3Rpb24gb2EocCxfKXtpZih4KXJldHVybiBMZSgxNCwxLHAsXyl9ZnVuY3Rpb24gbGEocCxfLCQpe2lmKHgpcmV0dXJuIExlKDE1LDEscCxfLCQpfXZhciBmaT0oKT0+e2lmKCEoMDxKdCkpdHJ5e3g/cG8oWCk6Z3IoWCl9Y2F0Y2gocCl7WG4ocCl9fTtmdW5jdGlvbiBfcihwKXtwPj4+PTAsdHlwZW9mIEF0b21pY3MuS2I9PSJmdW5jdGlvbiImJihBdG9taWNzLktiKG8oKSxwPj4+MixwKS52YWx1ZS50aGVuKE1yKSxwKz0xMjgsQXRvbWljcy5zdG9yZShvKCkscD4+PjIsMSkpfXUuX19lbXNjcmlwdGVuX3RocmVhZF9tYWlsYm94X2F3YWl0PV9yO3ZhciBNcj0oKT0+e3ZhciBwPXlpKCk7aWYocCYmKF9yKHApLCF0ZSkpdHJ5e0ptKCksZmkoKX1jYXRjaChfKXtYbihfKX19O3UuY2hlY2tNYWlsYm94PU1yO3ZhciBtPVtdLGI9cD0+cCU0PT09MCYmKHAlMTAwIT09MHx8cCU0MDA9PT0wKSxTPVswLDMxLDYwLDkxLDEyMSwxNTIsMTgyLDIxMywyNDQsMjc0LDMwNSwzMzVdLEE9WzAsMzEsNTksOTAsMTIwLDE1MSwxODEsMjEyLDI0MywyNzMsMzA0LDMzNF07ZnVuY3Rpb24gRChwLF8sJCxDLE0sVyxqLGZlKXtyZXR1cm4geD9MZSgxNiwxLHAsXywkLEMsTSxXLGosZmUpOi01Mn1mdW5jdGlvbiBZKHAsXywkLEMsTSxXLGope2lmKHgpcmV0dXJuIExlKDE3LDEscCxfLCQsQyxNLFcsail9dmFyIGFlPXA9Pnt2YXIgXz1abihwKSsxLCQ9dW8oXyk7cmV0dXJuICQmJmhlKHAsJCxfKSwkfSx5ZT1bXSxsZT0ocCxfKT0+e3llLmxlbmd0aD0wO2Zvcih2YXIgJDskPXMoKVtwKys+Pj4wXTspe3ZhciBDPSQhPTEwNTtDJj0kIT0xMTIsXys9QyYmXyU4PzQ6MCx5ZS5wdXNoKCQ9PTExMj9sKClbXz4+PjI+Pj4wXTokPT0xMDU/bygpW18+Pj4yPj4+MF06YygpW18+Pj4zPj4+MF0pLF8rPUM/ODo0fXJldHVybiB5ZX0sZGU9e30sZ2U9KCk9PntpZighRWUpe3ZhciBwPXtVU0VSOiJ3ZWJfdXNlciIsTE9HTkFNRToid2ViX3VzZXIiLFBBVEg6Ii8iLFBXRDoiLyIsSE9NRToiL2hvbWUvd2ViX3VzZXIiLExBTkc6KHR5cGVvZiBuYXZpZ2F0b3I9PSJvYmplY3QiJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdfHwiQyIpLnJlcGxhY2UoIi0iLCJfIikrIi5VVEYtOCIsXzp5fHwiLi90aGlzLnByb2dyYW0ifSxfO2ZvcihfIGluIGRlKWRlW19dPT09dm9pZCAwP2RlbGV0ZSBwW19dOnBbX109ZGVbX107dmFyICQ9W107Zm9yKF8gaW4gcCkkLnB1c2goYCR7X309JHtwW19dfWApO0VlPSR9cmV0dXJuIEVlfSxFZTtmdW5jdGlvbiB6ZShwLF8pe2lmKHgpcmV0dXJuIExlKDE4LDEscCxfKTtwPj4+PTAsXz4+Pj0wO3ZhciAkPTA7cmV0dXJuIGdlKCkuZm9yRWFjaCgoQyxNKT0+e3ZhciBXPV8rJDtmb3IoTT1sKClbcCs0Kk0+Pj4yPj4+MF09VyxXPTA7VzxDLmxlbmd0aDsrK1cpaSgpW00rKz4+PjA+Pj4wXT1DLmNoYXJDb2RlQXQoVyk7aSgpW00+Pj4wPj4+MF09MCwkKz1DLmxlbmd0aCsxfSksMH1mdW5jdGlvbiB6KHAsXyl7aWYoeClyZXR1cm4gTGUoMTksMSxwLF8pO3A+Pj49MCxfPj4+PTA7dmFyICQ9Z2UoKTtsKClbcD4+PjI+Pj4wXT0kLmxlbmd0aDt2YXIgQz0wO3JldHVybiAkLmZvckVhY2goTT0+Qys9TS5sZW5ndGgrMSksbCgpW18+Pj4yPj4+MF09QywwfWZ1bmN0aW9uIF9lKHApe3JldHVybiB4P0xlKDIwLDEscCk6NTJ9ZnVuY3Rpb24gQWUocCxfLCQsQyl7cmV0dXJuIHg/TGUoMjEsMSxwLF8sJCxDKTo1Mn1mdW5jdGlvbiB0cihwLF8sJCxDLE0pe3JldHVybiB4P0xlKDIyLDEscCxfLCQsQyxNKTo3MH12YXIgbWk9W251bGwsW10sW11dO2Z1bmN0aW9uIEZtKHAsXywkLEMpe2lmKHgpcmV0dXJuIExlKDIzLDEscCxfLCQsQyk7Xz4+Pj0wLCQ+Pj49MCxDPj4+PTA7Zm9yKHZhciBNPTAsVz0wO1c8JDtXKyspe3ZhciBqPWwoKVtfPj4+Mj4+PjBdLGZlPWwoKVtfKzQ+Pj4yPj4+MF07Xys9ODtmb3IodmFyIGNlPTA7Y2U8ZmU7Y2UrKyl7dmFyIHBlPXMoKVtqK2NlPj4+MF0sd2U9bWlbcF07cGU9PT0wfHxwZT09PTEwPygocD09PTE/cTpQKShzaSh3ZSwwKSksd2UubGVuZ3RoPTApOndlLnB1c2gocGUpfU0rPWZlfXJldHVybiBsKClbQz4+PjI+Pj4wXT1NLDB9dmFyIFZtPVszMSwyOSwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV0sSG09WzMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTtmdW5jdGlvbiBBMyhwKXt2YXIgXz1BcnJheShabihwKSsxKTtyZXR1cm4gaGkocCxfLDAsXy5sZW5ndGgpLF99dmFyIFQzPShwLF8pPT57aSgpLnNldChwLF8+Pj4wKX07ZnVuY3Rpb24gR20ocCxfLCQsQyl7ZnVuY3Rpb24gTShSLGJlLEJlKXtmb3IoUj10eXBlb2YgUj09Im51bWJlciI/Ui50b1N0cmluZygpOlJ8fCIiO1IubGVuZ3RoPGJlOylSPUJlWzBdK1I7cmV0dXJuIFJ9ZnVuY3Rpb24gVyhSLGJlKXtyZXR1cm4gTShSLGJlLCIwIil9ZnVuY3Rpb24gaihSLGJlKXtmdW5jdGlvbiBCZShsZyl7cmV0dXJuIDA+bGc/LTE6MDxsZz8xOjB9dmFyIHpyO3JldHVybih6cj1CZShSLmdldEZ1bGxZZWFyKCktYmUuZ2V0RnVsbFllYXIoKSkpPT09MCYmKHpyPUJlKFIuZ2V0TW9udGgoKS1iZS5nZXRNb250aCgpKSk9PT0wJiYoenI9QmUoUi5nZXREYXRlKCktYmUuZ2V0RGF0ZSgpKSksenJ9ZnVuY3Rpb24gZmUoUil7c3dpdGNoKFIuZ2V0RGF5KCkpe2Nhc2UgMDpyZXR1cm4gbmV3IERhdGUoUi5nZXRGdWxsWWVhcigpLTEsMTEsMjkpO2Nhc2UgMTpyZXR1cm4gUjtjYXNlIDI6cmV0dXJuIG5ldyBEYXRlKFIuZ2V0RnVsbFllYXIoKSwwLDMpO2Nhc2UgMzpyZXR1cm4gbmV3IERhdGUoUi5nZXRGdWxsWWVhcigpLDAsMik7Y2FzZSA0OnJldHVybiBuZXcgRGF0ZShSLmdldEZ1bGxZZWFyKCksMCwxKTtjYXNlIDU6cmV0dXJuIG5ldyBEYXRlKFIuZ2V0RnVsbFllYXIoKS0xLDExLDMxKTtjYXNlIDY6cmV0dXJuIG5ldyBEYXRlKFIuZ2V0RnVsbFllYXIoKS0xLDExLDMwKX19ZnVuY3Rpb24gY2UoUil7dmFyIGJlPVIuJGE7Zm9yKFI9bmV3IERhdGUobmV3IERhdGUoUi5hYisxOTAwLDAsMSkuZ2V0VGltZSgpKTswPGJlOyl7dmFyIEJlPVIuZ2V0TW9udGgoKSx6cj0oYihSLmdldEZ1bGxZZWFyKCkpP1ZtOkhtKVtCZV07aWYoYmU+enItUi5nZXREYXRlKCkpYmUtPXpyLVIuZ2V0RGF0ZSgpKzEsUi5zZXREYXRlKDEpLDExPkJlP1Iuc2V0TW9udGgoQmUrMSk6KFIuc2V0TW9udGgoMCksUi5zZXRGdWxsWWVhcihSLmdldEZ1bGxZZWFyKCkrMSkpO2Vsc2V7Ui5zZXREYXRlKFIuZ2V0RGF0ZSgpK2JlKTticmVha319cmV0dXJuIEJlPW5ldyBEYXRlKFIuZ2V0RnVsbFllYXIoKSsxLDAsNCksYmU9ZmUobmV3IERhdGUoUi5nZXRGdWxsWWVhcigpLDAsNCkpLEJlPWZlKEJlKSwwPj1qKGJlLFIpPzA+PWooQmUsUik/Ui5nZXRGdWxsWWVhcigpKzE6Ui5nZXRGdWxsWWVhcigpOlIuZ2V0RnVsbFllYXIoKS0xfXA+Pj49MCxfPj4+PTAsJD4+Pj0wLEM+Pj49MDt2YXIgcGU9bCgpW0MrNDA+Pj4yPj4+MF07Qz17SGI6bygpW0M+Pj4yPj4+MF0sR2I6bygpW0MrND4+PjI+Pj4wXSxlYjpvKClbQys4Pj4+Mj4+PjBdLGpiOm8oKVtDKzEyPj4+Mj4+PjBdLGZiOm8oKVtDKzE2Pj4+Mj4+PjBdLGFiOm8oKVtDKzIwPj4+Mj4+PjBdLFdhOm8oKVtDKzI0Pj4+Mj4+PjBdLCRhOm8oKVtDKzI4Pj4+Mj4+PjBdLE9iOm8oKVtDKzMyPj4+Mj4+PjBdLEZiOm8oKVtDKzM2Pj4+Mj4+PjBdLEliOnBlP290KHBlKToiIn0sJD1vdCgkKSxwZT17IiVjIjoiJWEgJWIgJWQgJUg6JU06JVMgJVkiLCIlRCI6IiVtLyVkLyV5IiwiJUYiOiIlWS0lbS0lZCIsIiVoIjoiJWIiLCIlciI6IiVJOiVNOiVTICVwIiwiJVIiOiIlSDolTSIsIiVUIjoiJUg6JU06JVMiLCIleCI6IiVtLyVkLyV5IiwiJVgiOiIlSDolTTolUyIsIiVFYyI6IiVjIiwiJUVDIjoiJUMiLCIlRXgiOiIlbS8lZC8leSIsIiVFWCI6IiVIOiVNOiVTIiwiJUV5IjoiJXkiLCIlRVkiOiIlWSIsIiVPZCI6IiVkIiwiJU9lIjoiJWUiLCIlT0giOiIlSCIsIiVPSSI6IiVJIiwiJU9tIjoiJW0iLCIlT00iOiIlTSIsIiVPUyI6IiVTIiwiJU91IjoiJXUiLCIlT1UiOiIlVSIsIiVPViI6IiVWIiwiJU93IjoiJXciLCIlT1ciOiIlVyIsIiVPeSI6IiV5In07Zm9yKHZhciB3ZSBpbiBwZSkkPSQucmVwbGFjZShuZXcgUmVnRXhwKHdlLCJnIikscGVbd2VdKTt2YXIgTWU9IlN1bmRheSBNb25kYXkgVHVlc2RheSBXZWRuZXNkYXkgVGh1cnNkYXkgRnJpZGF5IFNhdHVyZGF5Ii5zcGxpdCgiICIpLE5lPSJKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyIi5zcGxpdCgiICIpO3BlPXsiJWEiOlI9Pk1lW1IuV2FdLnN1YnN0cmluZygwLDMpLCIlQSI6Uj0+TWVbUi5XYV0sIiViIjpSPT5OZVtSLmZiXS5zdWJzdHJpbmcoMCwzKSwiJUIiOlI9Pk5lW1IuZmJdLCIlQyI6Uj0+VygoUi5hYisxOTAwKS8xMDB8MCwyKSwiJWQiOlI9PlcoUi5qYiwyKSwiJWUiOlI9Pk0oUi5qYiwyLCIgIiksIiVnIjpSPT5jZShSKS50b1N0cmluZygpLnN1YnN0cmluZygyKSwiJUciOlI9PmNlKFIpLCIlSCI6Uj0+VyhSLmViLDIpLCIlSSI6Uj0+KFI9Ui5lYixSPT0wP1I9MTI6MTI8UiYmKFItPTEyKSxXKFIsMikpLCIlaiI6Uj0+e2Zvcih2YXIgYmU9MCxCZT0wO0JlPD1SLmZiLTE7YmUrPShiKFIuYWIrMTkwMCk/Vm06SG0pW0JlKytdKTtyZXR1cm4gVyhSLmpiK2JlLDMpfSwiJW0iOlI9PlcoUi5mYisxLDIpLCIlTSI6Uj0+VyhSLkdiLDIpLCIlbiI6KCk9PmAKYCwiJXAiOlI9PjA8PVIuZWImJjEyPlIuZWI/IkFNIjoiUE0iLCIlUyI6Uj0+VyhSLkhiLDIpLCIldCI6KCk9PiIJIiwiJXUiOlI9PlIuV2F8fDcsIiVVIjpSPT5XKE1hdGguZmxvb3IoKFIuJGErNy1SLldhKS83KSwyKSwiJVYiOlI9Pnt2YXIgYmU9TWF0aC5mbG9vcigoUi4kYSs3LShSLldhKzYpJTcpLzcpO2lmKDI+PShSLldhKzM3MS1SLiRhLTIpJTcmJmJlKyssYmUpYmU9PTUzJiYoQmU9KFIuV2ErMzcxLVIuJGEpJTcsQmU9PTR8fEJlPT0zJiZiKFIuYWIpfHwoYmU9MSkpO2Vsc2V7YmU9NTI7dmFyIEJlPShSLldhKzctUi4kYS0xKSU3OyhCZT09NHx8QmU9PTUmJmIoUi5hYiU0MDAtMSkpJiZiZSsrfXJldHVybiBXKGJlLDIpfSwiJXciOlI9PlIuV2EsIiVXIjpSPT5XKE1hdGguZmxvb3IoKFIuJGErNy0oUi5XYSs2KSU3KS83KSwyKSwiJXkiOlI9PihSLmFiKzE5MDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpLCIlWSI6Uj0+Ui5hYisxOTAwLCIleiI6Uj0+e1I9Ui5GYjt2YXIgYmU9MDw9UjtyZXR1cm4gUj1NYXRoLmFicyhSKS82MCwoYmU/IisiOiItIikrKCIwMDAwIisoUi82MCoxMDArUiU2MCkpLnNsaWNlKC00KX0sIiVaIjpSPT5SLkliLCIlJSI6KCk9PiIlIn0sJD0kLnJlcGxhY2UoLyUlL2csIlwwXDAiKTtmb3Iod2UgaW4gcGUpJC5pbmNsdWRlcyh3ZSkmJigkPSQucmVwbGFjZShuZXcgUmVnRXhwKHdlLCJnIikscGVbd2VdKEMpKSk7cmV0dXJuICQ9JC5yZXBsYWNlKC9cMFwwL2csIiUiKSx3ZT1BMygkKSx3ZS5sZW5ndGg+Xz8wOihUMyh3ZSxwKSx3ZS5sZW5ndGgtMSl9dmFyIGdpPXA9Pnt0cnl7cCgpfWNhdGNoKF8pe21yKF8pfX07ZnVuY3Rpb24gTzMoKXt2YXIgcD1zZSxfPXt9O2ZvcihsZXRbJCxDXW9mIE9iamVjdC5lbnRyaWVzKHApKV9bJF09dHlwZW9mIEM9PSJmdW5jdGlvbiI/ZnVuY3Rpb24oKXtfaS5wdXNoKCQpO3RyeXtyZXR1cm4gQy5hcHBseShudWxsLGFyZ3VtZW50cyl9ZmluYWxseXt0ZXx8KF9pLnBvcCgpLHJyJiZ5cj09PTEmJl9pLmxlbmd0aD09PTAmJih5cj0wLEp0Kz0xLGdpKGFnKSx0eXBlb2YgRmliZXJzPCJ1IiYmRmliZXJzLlBiKCkpKX19OkM7cmV0dXJuIF99dmFyIHlyPTAscnI9bnVsbCxxbT0wLF9pPVtdLGptPXt9LEttPXt9LE0zPTAsbG89bnVsbCx6Mz1bXTtmdW5jdGlvbiBCMygpe3JldHVybiBuZXcgUHJvbWlzZSgocCxfKT0+e2xvPXtyZXNvbHZlOnAscmVqZWN0Ol99fSl9ZnVuY3Rpb24gUjMoKXt2YXIgcD11byg2NTU0OCksXz1wKzEyO2woKVtwPj4+Mj4+PjBdPV8sbCgpW3ArND4+PjI+Pj4wXT1fKzY1NTM2LF89X2lbMF07dmFyICQ9am1bX107cmV0dXJuICQ9PT12b2lkIDAmJigkPU0zKyssam1bX109JCxLbVskXT1fKSxfPSQsbygpW3ArOD4+PjI+Pj4wXT1fLHB9ZnVuY3Rpb24gUDMoKXt2YXIgcD1vKClbcnIrOD4+PjI+Pj4wXTtyZXR1cm4gcD1zZVtLbVtwXV0sLS1KdCxwKCl9ZnVuY3Rpb24gRDMocCl7aWYoIXRlKXtpZih5cj09PTApe3ZhciBfPSExLCQ9ITE7cCgoQz0wKT0+e2lmKCF0ZSYmKHFtPUMsXz0hMCwkKSl7eXI9MixnaSgoKT0+aWcocnIpKSx0eXBlb2YgQnJvd3NlcjwidSImJkJyb3dzZXIuaWIudmImJkJyb3dzZXIuaWIucmVzdW1lKCksQz0hMTt0cnl7dmFyIE09UDMoKX1jYXRjaChmZSl7TT1mZSxDPSEwfXZhciBXPSExO2lmKCFycil7dmFyIGo9bG87aiYmKGxvPW51bGwsKEM/ai5yZWplY3Q6ai5yZXNvbHZlKShNKSxXPSEwKX1pZihDJiYhVyl0aHJvdyBNfX0pLCQ9ITAsX3x8KHlyPTEscnI9UjMoKSx0eXBlb2YgQnJvd3NlcjwidSImJkJyb3dzZXIuaWIudmImJkJyb3dzZXIuaWIucGF1c2UoKSxnaSgoKT0+bmcocnIpKSl9ZWxzZSB5cj09PTI/KHlyPTAsZ2koc2cpLFhtKHJyKSxycj1udWxsLHozLmZvckVhY2goQz0+e2lmKCF0ZSl0cnl7QygpLGZpKCl9Y2F0Y2goTSl7WG4oTSl9fSkpOm1yKGBpbnZhbGlkIHN0YXRlOiAke3lyfWApO3JldHVybiBxbX19ZnVuY3Rpb24gTjMocCl7cmV0dXJuIEQzKF89PntwKCkudGhlbihfKX0pfW1lLmhiKCk7dmFyIFUzPVtZbixRbix1aSxjaSxwaSxKbixubixlYSx0YSxyYSxuYSxhYSxpYSxzYSxvYSxsYSxELFksemUseixfZSxBZSx0cixGbV0sVzM9e3I6ZnVuY3Rpb24ocCxfLCQpe3JldHVybiBOMyhhc3luYygpPT57YXdhaXQgdS54YihwLF8sJCl9KX0sYjpmdW5jdGlvbihwLF8sJCl7dGhyb3cgcD4+Pj0wLG5ldyBvbyhwKS5oYihfPj4+MCwkPj4+MCkscm49cCxybn0sTjpmdW5jdGlvbihwKXtRbShwPj4+MCwhaywxLCF2LDEzMTA3MiwhMSksbWUub2IoKX0sbDpmdW5jdGlvbihwKXtwPj4+PTAseD9wb3N0TWVzc2FnZSh7Y21kOiJjbGVhbnVwVGhyZWFkIix0aHJlYWQ6cH0pOm1lLm1iKG1lLlFhW3BdKX0sSjpkaSxpOmNpLFQ6cGksRjpKbixIOm5uLFU6ZWEsUjp0YSxMOnJhLFE6bmEscDphYSxHOmlhLEQ6c2EsUzpvYSxFOmxhLHE6KCk9PjEsQjpmdW5jdGlvbihwLF8pe3A+Pj49MCxwPT1fPj4+MD9zZXRUaW1lb3V0KCgpPT5NcigpKTp4P3Bvc3RNZXNzYWdlKHt0YXJnZXRUaHJlYWQ6cCxjbWQ6ImNoZWNrTWFpbGJveCJ9KToocD1tZS5RYVtwXSkmJnAucG9zdE1lc3NhZ2Uoe2NtZDoiY2hlY2tNYWlsYm94In0pfSxLOmZ1bmN0aW9uKHAsXywkLEMpe18+Pj49MCxtLmxlbmd0aD0kLEM9Qz4+PjA+Pj4zO2Zvcih2YXIgTT0wO008JDtNKyspbVtNXT1jKClbQytNPj4+MF07cmV0dXJuIHA9MD5wP1pyWy1wLTFdOlUzW3BdLG1lLnViPV8sXz1wLmFwcGx5KG51bGwsbSksbWUudWI9MCxffSxNOl9yLFc6ZnVuY3Rpb24ocCl7RSYmbWUuUWFbcD4+PjBdLnJlZigpfSx1OmZ1bmN0aW9uKHAsXywkKXtwPV8rMjA5NzE1Mj4+PjA8NDE5NDMwNS0hIXA/KHA+Pj4wKSs0Mjk0OTY3Mjk2Kl86TmFOLCQ+Pj49MCxwPW5ldyBEYXRlKDFlMypwKSxvKClbJD4+PjI+Pj4wXT1wLmdldFVUQ1NlY29uZHMoKSxvKClbJCs0Pj4+Mj4+PjBdPXAuZ2V0VVRDTWludXRlcygpLG8oKVskKzg+Pj4yPj4+MF09cC5nZXRVVENIb3VycygpLG8oKVskKzEyPj4+Mj4+PjBdPXAuZ2V0VVRDRGF0ZSgpLG8oKVskKzE2Pj4+Mj4+PjBdPXAuZ2V0VVRDTW9udGgoKSxvKClbJCsyMD4+PjI+Pj4wXT1wLmdldFVUQ0Z1bGxZZWFyKCktMTkwMCxvKClbJCsyND4+PjI+Pj4wXT1wLmdldFVUQ0RheSgpLHA9KHAuZ2V0VGltZSgpLURhdGUuVVRDKHAuZ2V0VVRDRnVsbFllYXIoKSwwLDEsMCwwLDAsMCkpLzg2NGU1fDAsbygpWyQrMjg+Pj4yPj4+MF09cH0sdjpmdW5jdGlvbihwLF8sJCl7cD1fKzIwOTcxNTI+Pj4wPDQxOTQzMDUtISFwPyhwPj4+MCkrNDI5NDk2NzI5NipfOk5hTiwkPj4+PTAscD1uZXcgRGF0ZSgxZTMqcCksbygpWyQ+Pj4yPj4+MF09cC5nZXRTZWNvbmRzKCksbygpWyQrND4+PjI+Pj4wXT1wLmdldE1pbnV0ZXMoKSxvKClbJCs4Pj4+Mj4+PjBdPXAuZ2V0SG91cnMoKSxvKClbJCsxMj4+PjI+Pj4wXT1wLmdldERhdGUoKSxvKClbJCsxNj4+PjI+Pj4wXT1wLmdldE1vbnRoKCksbygpWyQrMjA+Pj4yPj4+MF09cC5nZXRGdWxsWWVhcigpLTE5MDAsbygpWyQrMjQ+Pj4yPj4+MF09cC5nZXREYXkoKSxfPShiKHAuZ2V0RnVsbFllYXIoKSk/UzpBKVtwLmdldE1vbnRoKCldK3AuZ2V0RGF0ZSgpLTF8MCxvKClbJCsyOD4+PjI+Pj4wXT1fLG8oKVskKzM2Pj4+Mj4+PjBdPS0oNjAqcC5nZXRUaW1lem9uZU9mZnNldCgpKSxfPW5ldyBEYXRlKHAuZ2V0RnVsbFllYXIoKSw2LDEpLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIEM9bmV3IERhdGUocC5nZXRGdWxsWWVhcigpLDAsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtwPShfIT1DJiZwLmdldFRpbWV6b25lT2Zmc2V0KCk9PU1hdGgubWluKEMsXykpfDAsbygpWyQrMzI+Pj4yPj4+MF09cH0sdzpmdW5jdGlvbihwKXtwPj4+PTA7dmFyIF89bmV3IERhdGUobygpW3ArMjA+Pj4yPj4+MF0rMTkwMCxvKClbcCsxNj4+PjI+Pj4wXSxvKClbcCsxMj4+PjI+Pj4wXSxvKClbcCs4Pj4+Mj4+PjBdLG8oKVtwKzQ+Pj4yPj4+MF0sbygpW3A+Pj4yPj4+MF0sMCksJD1vKClbcCszMj4+PjI+Pj4wXSxDPV8uZ2V0VGltZXpvbmVPZmZzZXQoKSxNPW5ldyBEYXRlKF8uZ2V0RnVsbFllYXIoKSw2LDEpLmdldFRpbWV6b25lT2Zmc2V0KCksVz1uZXcgRGF0ZShfLmdldEZ1bGxZZWFyKCksMCwxKS5nZXRUaW1lem9uZU9mZnNldCgpLGo9TWF0aC5taW4oVyxNKTtyZXR1cm4gMD4kP28oKVtwKzMyPj4+Mj4+PjBdPSsoTSE9VyYmaj09Qyk6MDwkIT0oaj09QykmJihNPU1hdGgubWF4KFcsTSksXy5zZXRUaW1lKF8uZ2V0VGltZSgpKzZlNCooKDA8JD9qOk0pLUMpKSksbygpW3ArMjQ+Pj4yPj4+MF09Xy5nZXREYXkoKSwkPShiKF8uZ2V0RnVsbFllYXIoKSk/UzpBKVtfLmdldE1vbnRoKCldK18uZ2V0RGF0ZSgpLTF8MCxvKClbcCsyOD4+PjI+Pj4wXT0kLG8oKVtwPj4+Mj4+PjBdPV8uZ2V0U2Vjb25kcygpLG8oKVtwKzQ+Pj4yPj4+MF09Xy5nZXRNaW51dGVzKCksbygpW3ArOD4+PjI+Pj4wXT1fLmdldEhvdXJzKCksbygpW3ArMTI+Pj4yPj4+MF09Xy5nZXREYXRlKCksbygpW3ArMTY+Pj4yPj4+MF09Xy5nZXRNb250aCgpLG8oKVtwKzIwPj4+Mj4+PjBdPV8uZ2V0WWVhcigpLHA9Xy5nZXRUaW1lKCksaXNOYU4ocCk/KG8oKVtZbSgpPj4+Mj4+PjBdPTYxLHA9LTEpOnAvPTFlMyxlZygobHI9cCwxPD0rTWF0aC5hYnMobHIpPzA8bHI/K01hdGguZmxvb3IobHIvNDI5NDk2NzI5Nik+Pj4wOn5+K01hdGguY2VpbCgobHItKyh+fmxyPj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKSkscD4+PjB9LHM6RCx0OlksQTpmdW5jdGlvbihwLF8sJCl7ZnVuY3Rpb24gQyhwZSl7cmV0dXJuKHBlPXBlLnRvVGltZVN0cmluZygpLm1hdGNoKC9cKChbQS1aYS16IF0rKVwpJC8pKT9wZVsxXToiR01UIn1wPj4+PTAsXz4+Pj0wLCQ+Pj49MDt2YXIgTT1uZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksVz1uZXcgRGF0ZShNLDAsMSksaj1uZXcgRGF0ZShNLDYsMSk7TT1XLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIGZlPWouZ2V0VGltZXpvbmVPZmZzZXQoKSxjZT1NYXRoLm1heChNLGZlKTtsKClbcD4+PjI+Pj4wXT02MCpjZSxvKClbXz4+PjI+Pj4wXT0rKE0hPWZlKSxwPUMoVyksXz1DKGopLHA9YWUocCksXz1hZShfKSxmZTxNPyhsKClbJD4+PjI+Pj4wXT1wLGwoKVskKzQ+Pj4yPj4+MF09Xyk6KGwoKVskPj4+Mj4+PjBdPV8sbCgpWyQrND4+PjI+Pj4wXT1wKX0sZDooKT0+e21yKCIiKX0sYzpmdW5jdGlvbihwLF8sJCl7cmV0dXJuIHA+Pj49MCxfPWxlKF8+Pj4wLCQ+Pj4wKSxacltwXS5hcHBseShudWxsLF8pfSxrOmZ1bmN0aW9uKHAsXywkKXtyZXR1cm4gcD4+Pj0wLF89bGUoXz4+PjAsJD4+PjApLFpyW3BdLmFwcGx5KG51bGwsXyl9LG06KCk9Pnt9LGo6KCk9PkRhdGUubm93KCksVjooKT0+e3Rocm93IEp0Kz0xLCJ1bndpbmQifSxDOmZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5MDE3NjB9LGY6KCk9PnBlcmZvcm1hbmNlLnRpbWVPcmlnaW4rcGVyZm9ybWFuY2Uubm93KCksZzooKT0+RT8oWmcoKSx3cihZbykpLmNwdXMoKS5sZW5ndGg6bmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3kseTpmdW5jdGlvbihwKXtwPj4+PTA7dmFyIF89cygpLmxlbmd0aDtpZihwPD1ffHw0Mjk0OTAxNzYwPHApcmV0dXJuITE7Zm9yKHZhciAkPTE7ND49JDskKj0yKXt2YXIgQz1fKigxKy4yLyQpO0M9TWF0aC5taW4oQyxwKzEwMDY2MzI5Nik7dmFyIE09TWF0aDtDPU1hdGgubWF4KHAsQyk7ZTp7TT0oTS5taW4uY2FsbChNLDQyOTQ5MDE3NjAsQysoNjU1MzYtQyU2NTUzNiklNjU1MzYpLUwuYnVmZmVyLmJ5dGVMZW5ndGgrNjU1MzUpLzY1NTM2O3RyeXtMLmdyb3coTSksVmUoKTt2YXIgVz0xO2JyZWFrIGV9Y2F0Y2h7fVc9dm9pZCAwfWlmKFcpcmV0dXJuITB9cmV0dXJuITF9LE86emUsUDp6LEk6Z3IsaDpfZSxvOkFlLHg6dHIsbjpGbSxhOkx8fHUud2FzbU1lbW9yeSx6OkdtLGU6ZnVuY3Rpb24ocCxfLCQsQyl7cmV0dXJuIEdtKHA+Pj4wLF8+Pj4wLCQ+Pj4wLEM+Pj4wKX19LHNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcCgkLEMpe3JldHVybiBzZT0kLmV4cG9ydHMsc2U9TzMoKSxzZT1MMygpLG1lLnBiLnB1c2goc2UuRGEpLEhlLnVuc2hpZnQoc2UuWCksVj1DLGFpKCksc2V9dmFyIF89e2E6VzN9O2lmKHp0KyssdS5pbnN0YW50aWF0ZVdhc20pdHJ5e3JldHVybiB1Lmluc3RhbnRpYXRlV2FzbShfLHApfWNhdGNoKCQpe1AoYE1vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6ICR7JH1gKSxmKCQpfXJldHVybiBpaShfLGZ1bmN0aW9uKCQpe3AoJC5pbnN0YW5jZSwkLm1vZHVsZSl9KS5jYXRjaChmKSx7fX0oKTt1Ll9PcnRJbml0PShwLF8pPT4odS5fT3J0SW5pdD1zZS5ZKShwLF8pLHUuX09ydEdldExhc3RFcnJvcj0ocCxfKT0+KHUuX09ydEdldExhc3RFcnJvcj1zZS5aKShwLF8pLHUuX09ydENyZWF0ZVNlc3Npb25PcHRpb25zPShwLF8sJCxDLE0sVyxqLGZlLGNlLHBlKT0+KHUuX09ydENyZWF0ZVNlc3Npb25PcHRpb25zPXNlLl8pKHAsXywkLEMsTSxXLGosZmUsY2UscGUpLHUuX09ydEFwcGVuZEV4ZWN1dGlvblByb3ZpZGVyPShwLF8pPT4odS5fT3J0QXBwZW5kRXhlY3V0aW9uUHJvdmlkZXI9c2UuJCkocCxfKSx1Ll9PcnRBZGRGcmVlRGltZW5zaW9uT3ZlcnJpZGU9KHAsXywkKT0+KHUuX09ydEFkZEZyZWVEaW1lbnNpb25PdmVycmlkZT1zZS5hYSkocCxfLCQpLHUuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeT0ocCxfLCQpPT4odS5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5PXNlLmJhKShwLF8sJCksdS5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zPXA9Pih1Ll9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnM9c2UuY2EpKHApLHUuX09ydENyZWF0ZVNlc3Npb249KHAsXywkKT0+KHUuX09ydENyZWF0ZVNlc3Npb249c2UuZGEpKHAsXywkKSx1Ll9PcnRSZWxlYXNlU2Vzc2lvbj1wPT4odS5fT3J0UmVsZWFzZVNlc3Npb249c2UuZWEpKHApLHUuX09ydEdldElucHV0T3V0cHV0Q291bnQ9KHAsXywkKT0+KHUuX09ydEdldElucHV0T3V0cHV0Q291bnQ9c2UuZmEpKHAsXywkKSx1Ll9PcnRHZXRJbnB1dE5hbWU9KHAsXyk9Pih1Ll9PcnRHZXRJbnB1dE5hbWU9c2UuZ2EpKHAsXyksdS5fT3J0R2V0T3V0cHV0TmFtZT0ocCxfKT0+KHUuX09ydEdldE91dHB1dE5hbWU9c2UuaGEpKHAsXyksdS5fT3J0RnJlZT1wPT4odS5fT3J0RnJlZT1zZS5pYSkocCksdS5fT3J0Q3JlYXRlVGVuc29yPShwLF8sJCxDLE0sVyk9Pih1Ll9PcnRDcmVhdGVUZW5zb3I9c2UuamEpKHAsXywkLEMsTSxXKSx1Ll9PcnRHZXRUZW5zb3JEYXRhPShwLF8sJCxDLE0pPT4odS5fT3J0R2V0VGVuc29yRGF0YT1zZS5rYSkocCxfLCQsQyxNKSx1Ll9PcnRSZWxlYXNlVGVuc29yPXA9Pih1Ll9PcnRSZWxlYXNlVGVuc29yPXNlLmxhKShwKSx1Ll9PcnRDcmVhdGVSdW5PcHRpb25zPShwLF8sJCxDKT0+KHUuX09ydENyZWF0ZVJ1bk9wdGlvbnM9c2UubWEpKHAsXywkLEMpLHUuX09ydEFkZFJ1bkNvbmZpZ0VudHJ5PShwLF8sJCk9Pih1Ll9PcnRBZGRSdW5Db25maWdFbnRyeT1zZS5uYSkocCxfLCQpLHUuX09ydFJlbGVhc2VSdW5PcHRpb25zPXA9Pih1Ll9PcnRSZWxlYXNlUnVuT3B0aW9ucz1zZS5vYSkocCksdS5fT3J0Q3JlYXRlQmluZGluZz1wPT4odS5fT3J0Q3JlYXRlQmluZGluZz1zZS5wYSkocCksdS5fT3J0QmluZElucHV0PShwLF8sJCk9Pih1Ll9PcnRCaW5kSW5wdXQ9c2UucWEpKHAsXywkKSx1Ll9PcnRCaW5kT3V0cHV0PShwLF8sJCxDKT0+KHUuX09ydEJpbmRPdXRwdXQ9c2UucmEpKHAsXywkLEMpLHUuX09ydENsZWFyQm91bmRPdXRwdXRzPXA9Pih1Ll9PcnRDbGVhckJvdW5kT3V0cHV0cz1zZS5zYSkocCksdS5fT3J0UmVsZWFzZUJpbmRpbmc9cD0+KHUuX09ydFJlbGVhc2VCaW5kaW5nPXNlLnRhKShwKSx1Ll9PcnRSdW5XaXRoQmluZGluZz0ocCxfLCQsQyxNKT0+KHUuX09ydFJ1bldpdGhCaW5kaW5nPXNlLnVhKShwLF8sJCxDLE0pLHUuX09ydFJ1bj0ocCxfLCQsQyxNLFcsaixmZSk9Pih1Ll9PcnRSdW49c2UudmEpKHAsXywkLEMsTSxXLGosZmUpLHUuX09ydEVuZFByb2ZpbGluZz1wPT4odS5fT3J0RW5kUHJvZmlsaW5nPXNlLndhKShwKSx1Ll9Kc2VwT3V0cHV0PShwLF8sJCk9Pih1Ll9Kc2VwT3V0cHV0PXNlLnhhKShwLF8sJCksdS5fSnNlcEdldE5vZGVOYW1lPXA9Pih1Ll9Kc2VwR2V0Tm9kZU5hbWU9c2UueWEpKHApO3ZhciBZbT0oKT0+KFltPXNlLnphKSgpLHlpPXUuX3B0aHJlYWRfc2VsZj0oKT0+KHlpPXUuX3B0aHJlYWRfc2VsZj1zZS5BYSkoKSx1bz11Ll9tYWxsb2M9cD0+KHVvPXUuX21hbGxvYz1zZS5CYSkocCksWG09dS5fZnJlZT1wPT4oWG09dS5fZnJlZT1zZS5DYSkocCk7dS5fX2Vtc2NyaXB0ZW5fdGxzX2luaXQ9KCk9Pih1Ll9fZW1zY3JpcHRlbl90bHNfaW5pdD1zZS5EYSkoKTt2YXIgUW09dS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQ9KHAsXywkLEMsTSxXKT0+KFFtPXUuX19lbXNjcmlwdGVuX3RocmVhZF9pbml0PXNlLkZhKShwLF8sJCxDLE0sVyk7dS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2NyYXNoZWQ9KCk9Pih1Ll9fZW1zY3JpcHRlbl90aHJlYWRfY3Jhc2hlZD1zZS5HYSkoKTt2YXIgWm09KHAsXywkLEMpPT4oWm09c2UuSGEpKHAsXywkLEMpLGNvPXA9Pihjbz1zZS5JYSkocCkscG89dS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2V4aXQ9cD0+KHBvPXUuX19lbXNjcmlwdGVuX3RocmVhZF9leGl0PXNlLkphKShwKSxKbT0oKT0+KEptPXNlLkthKSgpLGVnPXA9PihlZz1zZS5MYSkocCksdGc9KHAsXyk9Pih0Zz1zZS5NYSkocCxfKSxobz0oKT0+KGhvPXNlLk5hKSgpLHdpPXA9Pih3aT1zZS5PYSkocCksZm89cD0+KGZvPXNlLlBhKShwKSxyZz11LmR5bkNhbGxfaWk9KHAsXyk9PihyZz11LmR5bkNhbGxfaWk9c2UuUmEpKHAsXyksbmc9cD0+KG5nPXNlLlNhKShwKSxhZz0oKT0+KGFnPXNlLlRhKSgpLGlnPXA9PihpZz1zZS5VYSkocCksc2c9KCk9PihzZz1zZS5WYSkoKTt1Ll9fX3N0YXJ0X2VtX2pzPTk0NDQ3Mix1Ll9fX3N0b3BfZW1fanM9OTQ0NjMzO2Z1bmN0aW9uIEwzKCl7dmFyIHA9c2U7cD1PYmplY3QuYXNzaWduKHt9LHApO3ZhciBfPUM9PigpPT5DKCk+Pj4wLCQ9Qz0+TT0+QyhNKT4+PjA7cmV0dXJuIHAuemE9XyhwLnphKSxwLkFhPV8ocC5BYSkscC5CYT0kKHAuQmEpLHAuZW1zY3JpcHRlbl9tYWluX3J1bnRpbWVfdGhyZWFkX2lkPV8ocC5lbXNjcmlwdGVuX21haW5fcnVudGltZV90aHJlYWRfaWQpLHAuTmE9XyhwLk5hKSxwLlBhPSQocC5QYSkscH11Lndhc21NZW1vcnk9TCx1LnN0YWNrQWxsb2M9Zm8sdS5zdGFja1NhdmU9aG8sdS5zdGFja1Jlc3RvcmU9d2ksdS5rZWVwUnVudGltZUFsaXZlPSgpPT4wPEp0LHUuVVRGOFRvU3RyaW5nPW90LHUuc3RyaW5nVG9VVEY4PWhlLHUubGVuZ3RoQnl0ZXNVVEY4PVpuLHUuRXhpdFN0YXR1cz1Ucix1LlBUaHJlYWQ9bWU7dmFyIHZpO3F0PWZ1bmN0aW9uIHAoKXt2aXx8b2coKSx2aXx8KHF0PXApfTtmdW5jdGlvbiBvZygpe2lmKCEoMDx6dCkpaWYoeCloKHUpLHh8fE9yKEhlKSxzdGFydFdvcmtlcih1KTtlbHNle2lmKHUucHJlUnVuKWZvcih0eXBlb2YgdS5wcmVSdW49PSJmdW5jdGlvbiImJih1LnByZVJ1bj1bdS5wcmVSdW5dKTt1LnByZVJ1bi5sZW5ndGg7KVdlLnVuc2hpZnQodS5wcmVSdW4uc2hpZnQoKSk7T3IoV2UpLDA8enR8fHZpfHwodmk9ITAsdS5jYWxsZWRSdW49ITAsdGV8fCh4fHxPcihIZSksaCh1KSx4fHxPcihNdCkpKX19cmV0dXJuIG9nKCksYS5yZWFkeX19KSgpO3R5cGVvZiB0PT0ib2JqZWN0IiYmdHlwZW9mIGU9PSJvYmplY3QiP2UuZXhwb3J0cz1yOnR5cGVvZiBkZWZpbmU9PSJmdW5jdGlvbiImJmRlZmluZS5hbWQmJmRlZmluZShbXSwoKT0+cil9KSxlXz1EcigodCxlKT0+e2UuZXhwb3J0cz0nInVzZSBzdHJpY3QiO3ZhciBNb2R1bGU9e30sRU5WSVJPTk1FTlRfSVNfTk9ERT10eXBlb2YgcHJvY2Vzcz09Im9iamVjdCImJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zPT0ib2JqZWN0IiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMubm9kZT09InN0cmluZyI7aWYoRU5WSVJPTk1FTlRfSVNfTk9ERSl7dmFyIG5vZGVXb3JrZXJUaHJlYWRzPXJlcXVpcmUoIndvcmtlcl90aHJlYWRzIikscGFyZW50UG9ydD1ub2RlV29ya2VyVGhyZWFkcy5wYXJlbnRQb3J0O3BhcmVudFBvcnQub24oIm1lc3NhZ2UiLGU9Pm9ubWVzc2FnZSh7ZGF0YTplfSkpO3ZhciBmcz1yZXF1aXJlKCJmcyIpLHZtPXJlcXVpcmUoInZtIik7T2JqZWN0LmFzc2lnbihnbG9iYWwse3NlbGY6Z2xvYmFsLHJlcXVpcmUsTW9kdWxlLGxvY2F0aW9uOntocmVmOl9fZmlsZW5hbWV9LFdvcmtlcjpub2RlV29ya2VyVGhyZWFkcy5Xb3JrZXIsaW1wb3J0U2NyaXB0czplPT52bS5ydW5JblRoaXNDb250ZXh0KGZzLnJlYWRGaWxlU3luYyhlLCJ1dGY4Iikse2ZpbGVuYW1lOmV9KSxwb3N0TWVzc2FnZTplPT5wYXJlbnRQb3J0LnBvc3RNZXNzYWdlKGUpLHBlcmZvcm1hbmNlOmdsb2JhbC5wZXJmb3JtYW5jZXx8e25vdzpEYXRlLm5vd319KX12YXIgaW5pdGlhbGl6ZWRKUz0hMTtmdW5jdGlvbiB0aHJlYWRQcmludEVycigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbigiICIpO2lmKEVOVklST05NRU5UX0lTX05PREUpe2ZzLndyaXRlU3luYygyLGUrYFxuYCk7cmV0dXJufWNvbnNvbGUuZXJyb3IoZSl9ZnVuY3Rpb24gdGhyZWFkQWxlcnQoKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oIiAiKTtwb3N0TWVzc2FnZSh7Y21kOiJhbGVydCIsdGV4dDplLHRocmVhZElkOk1vZHVsZS5fcHRocmVhZF9zZWxmKCl9KX12YXIgZXJyPXRocmVhZFByaW50RXJyO3NlbGYuYWxlcnQ9dGhyZWFkQWxlcnQsTW9kdWxlLmluc3RhbnRpYXRlV2FzbT0oZSx0KT0+e3ZhciBhPU1vZHVsZS53YXNtTW9kdWxlO01vZHVsZS53YXNtTW9kdWxlPW51bGw7dmFyIHI9bmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKGEsZSk7cmV0dXJuIHQocil9LHNlbGYub251bmhhbmRsZWRyZWplY3Rpb249ZT0+e3Rocm93IGUucmVhc29ufHxlfTtmdW5jdGlvbiBoYW5kbGVNZXNzYWdlKGUpe3RyeXtpZihlLmRhdGEuY21kPT09ImxvYWQiKXtsZXQgYT1bXTtzZWxmLm9ubWVzc2FnZT1yPT5hLnB1c2gociksc2VsZi5zdGFydFdvcmtlcj1yPT57TW9kdWxlPXIscG9zdE1lc3NhZ2Uoe2NtZDoibG9hZGVkIn0pO2ZvcihsZXQgcyBvZiBhKWhhbmRsZU1lc3NhZ2Uocyk7c2VsZi5vbm1lc3NhZ2U9aGFuZGxlTWVzc2FnZX0sTW9kdWxlLndhc21Nb2R1bGU9ZS5kYXRhLndhc21Nb2R1bGU7Zm9yKGNvbnN0IHIgb2YgZS5kYXRhLmhhbmRsZXJzKU1vZHVsZVtyXT0oLi4ucyk9Pntwb3N0TWVzc2FnZSh7Y21kOiJjYWxsSGFuZGxlciIsaGFuZGxlcjpyLGFyZ3M6c30pfTtpZihNb2R1bGUud2FzbU1lbW9yeT1lLmRhdGEud2FzbU1lbW9yeSxNb2R1bGUuYnVmZmVyPU1vZHVsZS53YXNtTWVtb3J5LmJ1ZmZlcixNb2R1bGUuRU5WSVJPTk1FTlRfSVNfUFRIUkVBRD0hMCx0eXBlb2YgZS5kYXRhLnVybE9yQmxvYj09InN0cmluZyIpaW1wb3J0U2NyaXB0cyhlLmRhdGEudXJsT3JCbG9iKTtlbHNle3ZhciB0PVVSTC5jcmVhdGVPYmplY3RVUkwoZS5kYXRhLnVybE9yQmxvYik7aW1wb3J0U2NyaXB0cyh0KSxVUkwucmV2b2tlT2JqZWN0VVJMKHQpfW9ydFdhc21UaHJlYWRlZChNb2R1bGUpfWVsc2UgaWYoZS5kYXRhLmNtZD09PSJydW4iKXtNb2R1bGUuX19lbXNjcmlwdGVuX3RocmVhZF9pbml0KGUuZGF0YS5wdGhyZWFkX3B0ciwwLDAsMSksTW9kdWxlLl9fZW1zY3JpcHRlbl90aHJlYWRfbWFpbGJveF9hd2FpdChlLmRhdGEucHRocmVhZF9wdHIpLE1vZHVsZS5lc3RhYmxpc2hTdGFja1NwYWNlKCksTW9kdWxlLlBUaHJlYWQucmVjZWl2ZU9iamVjdFRyYW5zZmVyKGUuZGF0YSksTW9kdWxlLlBUaHJlYWQudGhyZWFkSW5pdFRMUygpLGluaXRpYWxpemVkSlN8fChpbml0aWFsaXplZEpTPSEwKTt0cnl7TW9kdWxlLmludm9rZUVudHJ5UG9pbnQoZS5kYXRhLnN0YXJ0X3JvdXRpbmUsZS5kYXRhLmFyZyl9Y2F0Y2goYSl7aWYoYSE9InVud2luZCIpdGhyb3cgYX19ZWxzZSBlLmRhdGEuY21kPT09ImNhbmNlbCI/TW9kdWxlLl9wdGhyZWFkX3NlbGYoKSYmTW9kdWxlLl9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdCgtMSk6ZS5kYXRhLnRhcmdldD09PSJzZXRpbW1lZGlhdGUifHwoZS5kYXRhLmNtZD09PSJjaGVja01haWxib3giP2luaXRpYWxpemVkSlMmJk1vZHVsZS5jaGVja01haWxib3goKTplLmRhdGEuY21kJiYoZXJyKGB3b3JrZXIuanMgcmVjZWl2ZWQgdW5rbm93biBjb21tYW5kICR7ZS5kYXRhLmNtZH1gKSxlcnIoZS5kYXRhKSkpfWNhdGNoKGEpe3Rocm93IE1vZHVsZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2NyYXNoZWQ/LigpLGF9fXNlbGYub25tZXNzYWdlPWhhbmRsZU1lc3NhZ2U7XG4nfSksUW8sWm8sV2ksZ2EsdW4sTGksSm8sZWwsdGwscmwscnQsZG49USgoKT0+e1FvPVlnKCksWm89SmcoKSxnYT0hMSx1bj0hMSxMaT0hMSxKbz10PT57aWYodD09PTEpcmV0dXJuITE7aWYodHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPiJ1IilyZXR1cm4gdHlwZW9mIHNlbGY8InUiJiYhc2VsZi5jcm9zc09yaWdpbklzb2xhdGVkJiZjb25zb2xlLndhcm4oImVudi53YXNtLm51bVRocmVhZHMgaXMgc2V0IHRvICIrdCsiLCBidXQgdGhpcyB3aWxsIG5vdCB3b3JrIHVubGVzcyB5b3UgZW5hYmxlIGNyb3NzT3JpZ2luSXNvbGF0ZWQgbW9kZS4gU2VlIGh0dHBzOi8vd2ViLmRldi9jcm9zcy1vcmlnaW4taXNvbGF0aW9uLWd1aWRlLyBmb3IgbW9yZSBpbmZvLiIpLCExO3R5cGVvZiBwcm9jZXNzPCJ1IiYmcHJvY2Vzcy52ZXJzaW9ucyYmcHJvY2Vzcy52ZXJzaW9ucy5ub2RlJiZjb25zb2xlLndhcm4oImVudi53YXNtLm51bVRocmVhZHMgaXMgc2V0IHRvICIrdCsiLCBob3dldmVyLCBjdXJyZW50bHkgb25ueHJ1bnRpbWUtd2ViIGRvZXMgbm90IHN1cHBvcnQgbXVsdGktdGhyZWFkcyBpbiBOb2RlLmpzLiBQbGVhc2UgY29uc2lkZXIgdXNpbmcgb25ueHJ1bnRpbWUtbm9kZSBmb3IgcGVyZm9ybWFuY2UgY3JpdGljYWwgc2NlbmFyaW9zLiIpO3RyeXtyZXR1cm4gdHlwZW9mIE1lc3NhZ2VDaGFubmVsPCJ1IiYmbmV3IE1lc3NhZ2VDaGFubmVsKCkucG9ydDEucG9zdE1lc3NhZ2UobmV3IFNoYXJlZEFycmF5QnVmZmVyKDEpKSxXZWJBc3NlbWJseS52YWxpZGF0ZShuZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSw0LDEsOTYsMCwwLDMsMiwxLDAsNSw0LDEsMywxLDEsMTAsMTEsMSw5LDAsNjUsMCwyNTQsMTYsMiwwLDI2LDExXSkpfWNhdGNoe3JldHVybiExfX0sZWw9KCk9Pnt0cnl7cmV0dXJuIFdlYkFzc2VtYmx5LnZhbGlkYXRlKG5ldyBVaW50OEFycmF5KFswLDk3LDExNSwxMDksMSwwLDAsMCwxLDQsMSw5NiwwLDAsMywyLDEsMCwxMCwzMCwxLDI4LDAsNjUsMCwyNTMsMTUsMjUzLDEyLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMjUzLDE4NiwxLDI2LDExXSkpfWNhdGNoe3JldHVybiExfX0sdGw9KHQsZSk9PnQ/ZT8ib3J0LXdhc20tc2ltZC10aHJlYWRlZC53YXNtIjoib3J0LXdhc20tc2ltZC53YXNtIjplPyJvcnQtd2FzbS10aHJlYWRlZC53YXNtIjoib3J0LXdhc20ud2FzbSIscmw9YXN5bmMgdD0+e2lmKGdhKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpZih1bil0aHJvdyBuZXcgRXJyb3IoIm11bHRpcGxlIGNhbGxzIHRvICdpbml0aWFsaXplV2ViQXNzZW1ibHkoKScgZGV0ZWN0ZWQuIik7aWYoTGkpdGhyb3cgbmV3IEVycm9yKCJwcmV2aW91cyBjYWxsIHRvICdpbml0aWFsaXplV2ViQXNzZW1ibHkoKScgZmFpbGVkLiIpO3VuPSEwO2xldCBlPXQuaW5pdFRpbWVvdXQscj10Lm51bVRocmVhZHMsbj10LnNpbWQsYT1KbyhyKSxpPW4mJmVsKCkscz10Lndhc21QYXRocyxvPXR5cGVvZiBzPT0ic3RyaW5nIj9zOnZvaWQgMCxsPXRsKGksYSksZD10eXBlb2Ygcz09Im9iamVjdCI/c1tsXTp2b2lkIDAsYz0hMSx1PVtdO2lmKGU+MCYmdS5wdXNoKG5ldyBQcm9taXNlKGg9PntzZXRUaW1lb3V0KCgpPT57Yz0hMCxoKCl9LGUpfSkpLHUucHVzaChuZXcgUHJvbWlzZSgoaCxmKT0+e2xldCBnPWE/Wm86UW8seT17bG9jYXRlRmlsZToodyx2KT0+e2lmKGEmJncuZW5kc1dpdGgoIi53b3JrZXIuanMiKSYmdHlwZW9mIEJsb2I8InUiKXJldHVybiBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtlXygpXSx7dHlwZToidGV4dC9qYXZhc2NyaXB0In0pKTtpZih3LmVuZHNXaXRoKCIud2FzbSIpKXtpZihkKXJldHVybiBkO2xldCBrPW8/P3Y7cmV0dXJuIGw9PT0ib3J0LXdhc20tc2ltZC53YXNtIj9rKyJvcnQtd2FzbS1zaW1kLmpzZXAud2FzbSI6bD09PSJvcnQtd2FzbS1zaW1kLXRocmVhZGVkLndhc20iP2srIm9ydC13YXNtLXNpbWQtdGhyZWFkZWQuanNlcC53YXNtIjprK2x9cmV0dXJuIHYrd319O2lmKGEpaWYoeS5udW1UaHJlYWRzPXIsdHlwZW9mIEJsb2I+InUiKXkubWFpblNjcmlwdFVybE9yQmxvYj0odm9pZCAwKShfX2Rpcm5hbWUsIm9ydC13YXNtLXRocmVhZGVkLmpzIik7ZWxzZXtsZXQgdz1gdmFyIG9ydFdhc21UaHJlYWRlZD0ke2cudG9TdHJpbmcoKX07YDt5Lm1haW5TY3JpcHRVcmxPckJsb2I9bmV3IEJsb2IoW3ddLHt0eXBlOiJ0ZXh0L2phdmFzY3JpcHQifSl9Zyh5KS50aGVuKHc9Pnt1bj0hMSxnYT0hMCxXaT13LGgoKX0sdz0+e3VuPSExLExpPSEwLGYodyl9KX0pKSxhd2FpdCBQcm9taXNlLnJhY2UodSksYyl0aHJvdyBuZXcgRXJyb3IoYFdlYkFzc2VtYmx5IGJhY2tlbmQgaW5pdGlhbGl6aW5nIGZhaWxlZCBkdWUgdG8gdGltZW91dDogJHtlfW1zYCl9LHJ0PSgpPT57aWYoZ2EmJldpKXJldHVybiBXaTt0aHJvdyBuZXcgRXJyb3IoIldlYkFzc2VtYmx5IGlzIG5vdCBpbml0aWFsaXplZCB5ZXQuIil9fSksbnQsX2EsR2UsRmk9USgoKT0+e2RuKCksbnQ9KHQsZSk9PntsZXQgcj1ydCgpLG49ci5sZW5ndGhCeXRlc1VURjgodCkrMSxhPXIuX21hbGxvYyhuKTtyZXR1cm4gci5zdHJpbmdUb1VURjgodCxhLG4pLGUucHVzaChhKSxhfSxfYT0odCxlLHIsbik9PntpZih0eXBlb2YgdD09Im9iamVjdCImJnQhPT1udWxsKXtpZihyLmhhcyh0KSl0aHJvdyBuZXcgRXJyb3IoIkNpcmN1bGFyIHJlZmVyZW5jZSBpbiBvcHRpb25zIik7ci5hZGQodCl9T2JqZWN0LmVudHJpZXModCkuZm9yRWFjaCgoW2EsaV0pPT57bGV0IHM9ZT9lK2E6YTtpZih0eXBlb2YgaT09Im9iamVjdCIpX2EoaSxzKyIuIixyLG4pO2Vsc2UgaWYodHlwZW9mIGk9PSJzdHJpbmcifHx0eXBlb2YgaT09Im51bWJlciIpbihzLGkudG9TdHJpbmcoKSk7ZWxzZSBpZih0eXBlb2YgaT09ImJvb2xlYW4iKW4ocyxpPyIxIjoiMCIpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBoYW5kbGUgZXh0cmEgY29uZmlnIHR5cGU6ICR7dHlwZW9mIGl9YCl9KX0sR2U9dD0+e2xldCBlPXJ0KCkscj1lLnN0YWNrU2F2ZSgpO3RyeXtsZXQgbj1lLnN0YWNrQWxsb2MoOCk7ZS5fT3J0R2V0TGFzdEVycm9yKG4sbis0KTtsZXQgYT1lLkhFQVAzMltuLzRdLGk9ZS5IRUFQVTMyW24vNCsxXSxzPWk/ZS5VVEY4VG9TdHJpbmcoaSk6IiI7dGhyb3cgbmV3IEVycm9yKGAke3R9IEVSUk9SX0NPREU6ICR7YX0sIEVSUk9SX01FU1NBR0U6ICR7c31gKX1maW5hbGx5e2Uuc3RhY2tSZXN0b3JlKHIpfX19KSxubCx0Xz1RKCgpPT57ZG4oKSxGaSgpLG5sPXQ9PntsZXQgZT1ydCgpLHI9MCxuPVtdLGE9dHx8e307dHJ5e2lmKHQ/LmxvZ1NldmVyaXR5TGV2ZWw9PT12b2lkIDApYS5sb2dTZXZlcml0eUxldmVsPTI7ZWxzZSBpZih0eXBlb2YgdC5sb2dTZXZlcml0eUxldmVsIT0ibnVtYmVyInx8IU51bWJlci5pc0ludGVnZXIodC5sb2dTZXZlcml0eUxldmVsKXx8dC5sb2dTZXZlcml0eUxldmVsPDB8fHQubG9nU2V2ZXJpdHlMZXZlbD40KXRocm93IG5ldyBFcnJvcihgbG9nIHNlcnZlcml0eSBsZXZlbCBpcyBub3QgdmFsaWQ6ICR7dC5sb2dTZXZlcml0eUxldmVsfWApO2lmKHQ/LmxvZ1ZlcmJvc2l0eUxldmVsPT09dm9pZCAwKWEubG9nVmVyYm9zaXR5TGV2ZWw9MDtlbHNlIGlmKHR5cGVvZiB0LmxvZ1ZlcmJvc2l0eUxldmVsIT0ibnVtYmVyInx8IU51bWJlci5pc0ludGVnZXIodC5sb2dWZXJib3NpdHlMZXZlbCkpdGhyb3cgbmV3IEVycm9yKGBsb2cgdmVyYm9zaXR5IGxldmVsIGlzIG5vdCB2YWxpZDogJHt0LmxvZ1ZlcmJvc2l0eUxldmVsfWApO3Q/LnRlcm1pbmF0ZT09PXZvaWQgMCYmKGEudGVybWluYXRlPSExKTtsZXQgaT0wO3JldHVybiB0Py50YWchPT12b2lkIDAmJihpPW50KHQudGFnLG4pKSxyPWUuX09ydENyZWF0ZVJ1bk9wdGlvbnMoYS5sb2dTZXZlcml0eUxldmVsLGEubG9nVmVyYm9zaXR5TGV2ZWwsISFhLnRlcm1pbmF0ZSxpKSxyPT09MCYmR2UoIkNhbid0IGNyZWF0ZSBydW4gb3B0aW9ucy4iKSx0Py5leHRyYSE9PXZvaWQgMCYmX2EodC5leHRyYSwiIixuZXcgV2Vha1NldCwocyxvKT0+e2xldCBsPW50KHMsbiksZD1udChvLG4pO2UuX09ydEFkZFJ1bkNvbmZpZ0VudHJ5KHIsbCxkKSE9PTAmJkdlKGBDYW4ndCBzZXQgYSBydW4gY29uZmlnIGVudHJ5OiAke3N9IC0gJHtvfS5gKX0pLFtyLG5dfWNhdGNoKGkpe3Rocm93IHIhPT0wJiZlLl9PcnRSZWxlYXNlUnVuT3B0aW9ucyhyKSxuLmZvckVhY2gocz0+ZS5fZnJlZShzKSksaX19fSksYWwsaWwsc2wsb2wsbGwscl89USgoKT0+e2RuKCksRmkoKSxhbD10PT57c3dpdGNoKHQpe2Nhc2UiZGlzYWJsZWQiOnJldHVybiAwO2Nhc2UiYmFzaWMiOnJldHVybiAxO2Nhc2UiZXh0ZW5kZWQiOnJldHVybiAyO2Nhc2UiYWxsIjpyZXR1cm4gOTk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGdyYXBoIG9wdGltaXphdGlvbiBsZXZlbDogJHt0fWApfX0saWw9dD0+e3N3aXRjaCh0KXtjYXNlInNlcXVlbnRpYWwiOnJldHVybiAwO2Nhc2UicGFyYWxsZWwiOnJldHVybiAxO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBleGVjdXRpb24gbW9kZTogJHt0fWApfX0sc2w9dD0+e3QuZXh0cmF8fCh0LmV4dHJhPXt9KSx0LmV4dHJhLnNlc3Npb258fCh0LmV4dHJhLnNlc3Npb249e30pO2xldCBlPXQuZXh0cmEuc2Vzc2lvbjtlLnVzZV9vcnRfbW9kZWxfYnl0ZXNfZGlyZWN0bHl8fChlLnVzZV9vcnRfbW9kZWxfYnl0ZXNfZGlyZWN0bHk9IjEiKSx0LmV4ZWN1dGlvblByb3ZpZGVycyYmdC5leGVjdXRpb25Qcm92aWRlcnMuc29tZShyPT4odHlwZW9mIHI9PSJzdHJpbmciP3I6ci5uYW1lKT09PSJ3ZWJncHUiKSYmKHQuZW5hYmxlTWVtUGF0dGVybj0hMSl9LG9sPSh0LGUscik9Pntmb3IobGV0IG4gb2YgZSl7bGV0IGE9dHlwZW9mIG49PSJzdHJpbmciP246bi5uYW1lO3N3aXRjaChhKXtjYXNlIndlYm5uIjppZihhPSJXRUJOTiIsdHlwZW9mIG4hPSJzdHJpbmciKXtsZXQgcz1uO2lmKHM/LmRldmljZVR5cGUpe2xldCBvPW50KCJkZXZpY2VUeXBlIixyKSxsPW50KHMuZGV2aWNlVHlwZSxyKTtydCgpLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnkodCxvLGwpIT09MCYmR2UoYENhbid0IHNldCBhIHNlc3Npb24gY29uZmlnIGVudHJ5OiAnZGV2aWNlVHlwZScgLSAke3MuZGV2aWNlVHlwZX0uYCl9aWYocz8ubnVtVGhyZWFkcyl7bGV0IG89cy5udW1UaHJlYWRzOyh0eXBlb2YgbyE9Im51bWJlciJ8fCFOdW1iZXIuaXNJbnRlZ2VyKG8pfHxvPDApJiYobz0wKTtsZXQgbD1udCgibnVtVGhyZWFkcyIsciksZD1udChvLnRvU3RyaW5nKCkscik7cnQoKS5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5KHQsbCxkKSE9PTAmJkdlKGBDYW4ndCBzZXQgYSBzZXNzaW9uIGNvbmZpZyBlbnRyeTogJ251bVRocmVhZHMnIC0gJHtzLm51bVRocmVhZHN9LmApfWlmKHM/LnBvd2VyUHJlZmVyZW5jZSl7bGV0IG89bnQoInBvd2VyUHJlZmVyZW5jZSIsciksbD1udChzLnBvd2VyUHJlZmVyZW5jZSxyKTtydCgpLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnkodCxvLGwpIT09MCYmR2UoYENhbid0IHNldCBhIHNlc3Npb24gY29uZmlnIGVudHJ5OiAncG93ZXJQcmVmZXJlbmNlJyAtICR7cy5wb3dlclByZWZlcmVuY2V9LmApfX1icmVhaztjYXNlIndlYmdwdSI6aWYoYT0iSlMiLHR5cGVvZiBuIT0ic3RyaW5nIil7bGV0IHM9bjtpZihzPy5wcmVmZXJyZWRMYXlvdXQpe2lmKHMucHJlZmVycmVkTGF5b3V0IT09Ik5DSFciJiZzLnByZWZlcnJlZExheW91dCE9PSJOSFdDIil0aHJvdyBuZXcgRXJyb3IoYHByZWZlcnJlZExheW91dCBtdXN0IGJlIGVpdGhlciAnTkNIVycgb3IgJ05IV0MnOiAke3MucHJlZmVycmVkTGF5b3V0fWApO2xldCBvPW50KCJwcmVmZXJyZWRMYXlvdXQiLHIpLGw9bnQocy5wcmVmZXJyZWRMYXlvdXQscik7cnQoKS5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5KHQsbyxsKSE9PTAmJkdlKGBDYW4ndCBzZXQgYSBzZXNzaW9uIGNvbmZpZyBlbnRyeTogJ3ByZWZlcnJlZExheW91dCcgLSAke3MucHJlZmVycmVkTGF5b3V0fS5gKX19YnJlYWs7Y2FzZSJ3YXNtIjpjYXNlImNwdSI6Y29udGludWU7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYG5vdCBzdXBwb3J0ZWQgZXhlY3V0aW9uIHByb3ZpZGVyOiAke2F9YCl9bGV0IGk9bnQoYSxyKTtydCgpLl9PcnRBcHBlbmRFeGVjdXRpb25Qcm92aWRlcih0LGkpIT09MCYmR2UoYENhbid0IGFwcGVuZCBleGVjdXRpb24gcHJvdmlkZXI6ICR7YX0uYCl9fSxsbD10PT57bGV0IGU9cnQoKSxyPTAsbj1bXSxhPXR8fHt9O3NsKGEpO3RyeXtsZXQgaT1hbChhLmdyYXBoT3B0aW1pemF0aW9uTGV2ZWw/PyJhbGwiKSxzPWlsKGEuZXhlY3V0aW9uTW9kZT8/InNlcXVlbnRpYWwiKSxvPXR5cGVvZiBhLmxvZ0lkPT0ic3RyaW5nIj9udChhLmxvZ0lkLG4pOjAsbD1hLmxvZ1NldmVyaXR5TGV2ZWw/PzI7aWYoIU51bWJlci5pc0ludGVnZXIobCl8fGw8MHx8bD40KXRocm93IG5ldyBFcnJvcihgbG9nIHNlcnZlcml0eSBsZXZlbCBpcyBub3QgdmFsaWQ6ICR7bH1gKTtsZXQgZD1hLmxvZ1ZlcmJvc2l0eUxldmVsPz8wO2lmKCFOdW1iZXIuaXNJbnRlZ2VyKGQpfHxkPDB8fGQ+NCl0aHJvdyBuZXcgRXJyb3IoYGxvZyB2ZXJib3NpdHkgbGV2ZWwgaXMgbm90IHZhbGlkOiAke2R9YCk7bGV0IGM9dHlwZW9mIGEub3B0aW1pemVkTW9kZWxGaWxlUGF0aD09InN0cmluZyI/bnQoYS5vcHRpbWl6ZWRNb2RlbEZpbGVQYXRoLG4pOjA7aWYocj1lLl9PcnRDcmVhdGVTZXNzaW9uT3B0aW9ucyhpLCEhYS5lbmFibGVDcHVNZW1BcmVuYSwhIWEuZW5hYmxlTWVtUGF0dGVybixzLCEhYS5lbmFibGVQcm9maWxpbmcsMCxvLGwsZCxjKSxyPT09MCYmR2UoIkNhbid0IGNyZWF0ZSBzZXNzaW9uIG9wdGlvbnMuIiksYS5leGVjdXRpb25Qcm92aWRlcnMmJm9sKHIsYS5leGVjdXRpb25Qcm92aWRlcnMsbiksYS5mcmVlRGltZW5zaW9uT3ZlcnJpZGVzKWZvcihsZXRbdSxoXW9mIE9iamVjdC5lbnRyaWVzKGEuZnJlZURpbWVuc2lvbk92ZXJyaWRlcykpe2lmKHR5cGVvZiB1IT0ic3RyaW5nIil0aHJvdyBuZXcgRXJyb3IoYGZyZWUgZGltZW5zaW9uIG92ZXJyaWRlIG5hbWUgbXVzdCBiZSBhIHN0cmluZzogJHt1fWApO2lmKHR5cGVvZiBoIT0ibnVtYmVyInx8IU51bWJlci5pc0ludGVnZXIoaCl8fGg8MCl0aHJvdyBuZXcgRXJyb3IoYGZyZWUgZGltZW5zaW9uIG92ZXJyaWRlIHZhbHVlIG11c3QgYmUgYSBub24tbmVnYXRpdmUgaW50ZWdlcjogJHtofWApO2xldCBmPW50KHUsbik7ZS5fT3J0QWRkRnJlZURpbWVuc2lvbk92ZXJyaWRlKHIsZixoKSE9PTAmJkdlKGBDYW4ndCBzZXQgYSBmcmVlIGRpbWVuc2lvbiBvdmVycmlkZTogJHt1fSAtICR7aH0uYCl9cmV0dXJuIGEuZXh0cmEhPT12b2lkIDAmJl9hKGEuZXh0cmEsIiIsbmV3IFdlYWtTZXQsKHUsaCk9PntsZXQgZj1udCh1LG4pLGc9bnQoaCxuKTtlLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnkocixmLGcpIT09MCYmR2UoYENhbid0IHNldCBhIHNlc3Npb24gY29uZmlnIGVudHJ5OiAke3V9IC0gJHtofS5gKX0pLFtyLG5dfWNhdGNoKGkpe3Rocm93IHIhPT0wJiZlLl9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnMociksbi5mb3JFYWNoKHM9PmUuX2ZyZWUocykpLGl9fX0pLFZpLGp0LHlhLEhpLHdhLEdpLHFpLFllPVEoKCk9PntWaT10PT57c3dpdGNoKHQpe2Nhc2UiaW50OCI6cmV0dXJuIDM7Y2FzZSJ1aW50OCI6cmV0dXJuIDI7Y2FzZSJib29sIjpyZXR1cm4gOTtjYXNlImludDE2IjpyZXR1cm4gNTtjYXNlInVpbnQxNiI6cmV0dXJuIDQ7Y2FzZSJpbnQzMiI6cmV0dXJuIDY7Y2FzZSJ1aW50MzIiOnJldHVybiAxMjtjYXNlImZsb2F0MTYiOnJldHVybiAxMDtjYXNlImZsb2F0MzIiOnJldHVybiAxO2Nhc2UiZmxvYXQ2NCI6cmV0dXJuIDExO2Nhc2Uic3RyaW5nIjpyZXR1cm4gODtjYXNlImludDY0IjpyZXR1cm4gNztjYXNlInVpbnQ2NCI6cmV0dXJuIDEzO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBkYXRhIHR5cGU6ICR7dH1gKX19LGp0PXQ9Pntzd2l0Y2godCl7Y2FzZSAzOnJldHVybiJpbnQ4IjtjYXNlIDI6cmV0dXJuInVpbnQ4IjtjYXNlIDk6cmV0dXJuImJvb2wiO2Nhc2UgNTpyZXR1cm4iaW50MTYiO2Nhc2UgNDpyZXR1cm4idWludDE2IjtjYXNlIDY6cmV0dXJuImludDMyIjtjYXNlIDEyOnJldHVybiJ1aW50MzIiO2Nhc2UgMTA6cmV0dXJuImZsb2F0MTYiO2Nhc2UgMTpyZXR1cm4iZmxvYXQzMiI7Y2FzZSAxMTpyZXR1cm4iZmxvYXQ2NCI7Y2FzZSA4OnJldHVybiJzdHJpbmciO2Nhc2UgNzpyZXR1cm4iaW50NjQiO2Nhc2UgMTM6cmV0dXJuInVpbnQ2NCI7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGRhdGEgdHlwZTogJHt0fWApfX0seWE9dD0+W3ZvaWQgMCw0LDEsMSwyLDIsNCw4LHZvaWQgMCwxLDIsOCw0LDgsdm9pZCAwLHZvaWQgMCx2b2lkIDBdW3RdLEhpPXQ9Pntzd2l0Y2godCl7Y2FzZSJmbG9hdDE2IjpyZXR1cm4gVWludDE2QXJyYXk7Y2FzZSJmbG9hdDMyIjpyZXR1cm4gRmxvYXQzMkFycmF5O2Nhc2UidWludDgiOnJldHVybiBVaW50OEFycmF5O2Nhc2UiaW50OCI6cmV0dXJuIEludDhBcnJheTtjYXNlInVpbnQxNiI6cmV0dXJuIFVpbnQxNkFycmF5O2Nhc2UiaW50MTYiOnJldHVybiBJbnQxNkFycmF5O2Nhc2UiaW50MzIiOnJldHVybiBJbnQzMkFycmF5O2Nhc2UiYm9vbCI6cmV0dXJuIFVpbnQ4QXJyYXk7Y2FzZSJmbG9hdDY0IjpyZXR1cm4gRmxvYXQ2NEFycmF5O2Nhc2UidWludDMyIjpyZXR1cm4gVWludDMyQXJyYXk7Y2FzZSJpbnQ2NCI6cmV0dXJuIEJpZ0ludDY0QXJyYXk7Y2FzZSJ1aW50NjQiOnJldHVybiBCaWdVaW50NjRBcnJheTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgdHlwZTogJHt0fWApfX0sd2E9dD0+e3N3aXRjaCh0KXtjYXNlInZlcmJvc2UiOnJldHVybiAwO2Nhc2UiaW5mbyI6cmV0dXJuIDE7Y2FzZSJ3YXJuaW5nIjpyZXR1cm4gMjtjYXNlImVycm9yIjpyZXR1cm4gMztjYXNlImZhdGFsIjpyZXR1cm4gNDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgbG9nZ2luZyBsZXZlbDogJHt0fWApfX0sR2k9dD0+dD09PSJmbG9hdDMyInx8dD09PSJpbnQzMiJ8fHQ9PT0iaW50NjQifHx0PT09ImJvb2wifHx0PT09ImZsb2F0MTYifHx0PT09InVpbnQzMiIscWk9dD0+e3N3aXRjaCh0KXtjYXNlIm5vbmUiOnJldHVybiAwO2Nhc2UiY3B1IjpyZXR1cm4gMTtjYXNlImNwdS1waW5uZWQiOnJldHVybiAyO2Nhc2UidGV4dHVyZSI6cmV0dXJuIDM7Y2FzZSJncHUtYnVmZmVyIjpyZXR1cm4gNDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZGF0YSBsb2NhdGlvbjogJHt0fWApfX19KSx2YSx1bD1RKCgpPT57dmE9YXN5bmMgdD0+e2lmKHR5cGVvZiB0PT0ic3RyaW5nIilpZih0eXBlb2YgcHJvY2VzczwidSImJnByb2Nlc3MudmVyc2lvbnMmJnByb2Nlc3MudmVyc2lvbnMubm9kZSl0cnl7cmV0dXJuIG5ldyBVaW50OEFycmF5KGF3YWl0KHZvaWQgMCkodCkpfWNhdGNoKGUpe2lmKGUuY29kZT09PSJFUlJfRlNfRklMRV9UT09fTEFSR0UiKXtsZXQgcj0odm9pZCAwKSh0KSxuPVtdO2ZvciBhd2FpdChsZXQgYSBvZiByKW4ucHVzaChhKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoQnVmZmVyLmNvbmNhdChuKSl9dGhyb3cgZX1lbHNle2xldCBlPWF3YWl0IGZldGNoKHQpO2lmKCFlLm9rKXRocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGxvYWQgZXh0ZXJuYWwgZGF0YSBmaWxlOiAke3R9YCk7bGV0IHI9ZS5oZWFkZXJzLmdldCgiQ29udGVudC1MZW5ndGgiKSxuPXI/cGFyc2VJbnQociwxMCk6MDtpZihuPDEwNzM3NDE4MjQpcmV0dXJuIG5ldyBVaW50OEFycmF5KGF3YWl0IGUuYXJyYXlCdWZmZXIoKSk7e2lmKCFlLmJvZHkpdGhyb3cgbmV3IEVycm9yKGBmYWlsZWQgdG8gbG9hZCBleHRlcm5hbCBkYXRhIGZpbGU6ICR7dH0sIG5vIHJlc3BvbnNlIGJvZHkuYCk7bGV0IGE9ZS5ib2R5LmdldFJlYWRlcigpLGk7dHJ5e2k9bmV3IEFycmF5QnVmZmVyKG4pfWNhdGNoKG8pe2lmKG8gaW5zdGFuY2VvZiBSYW5nZUVycm9yKXtsZXQgbD1NYXRoLmNlaWwobi82NTUzNik7aT1uZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtpbml0aWFsOmwsbWF4aW11bTpsfSkuYnVmZmVyfWVsc2UgdGhyb3cgb31sZXQgcz0wO2Zvcig7Oyl7bGV0e2RvbmU6byx2YWx1ZTpsfT1hd2FpdCBhLnJlYWQoKTtpZihvKWJyZWFrO2xldCBkPWwuYnl0ZUxlbmd0aDtuZXcgVWludDhBcnJheShpLHMsZCkuc2V0KGwpLHMrPWR9cmV0dXJuIG5ldyBVaW50OEFycmF5KGksMCxuKX19ZWxzZSByZXR1cm4gdCBpbnN0YW5jZW9mIEJsb2I/bmV3IFVpbnQ4QXJyYXkoYXdhaXQgdC5hcnJheUJ1ZmZlcigpKTp0IGluc3RhbmNlb2YgVWludDhBcnJheT90Om5ldyBVaW50OEFycmF5KHQpfX0pLGRsLGNsLHBsLGhsLGZsLG1sLGF0LHZyPVEoKCk9PntZZSgpLGRsPVsiViIsIkkiLCJXIiwiRSIsIkYiXSxjbD0odCxlKT0+e2NvbnNvbGUubG9nKGBbJHtkbFt0XX0sJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9XSR7ZX1gKX0sZmw9KHQsZSk9PntwbD10LGhsPWV9LG1sPSh0LGUpPT57bGV0IHI9d2EodCksbj13YShwbCk7cj49biYmY2wocix0eXBlb2YgZT09ImZ1bmN0aW9uIj9lKCk6ZSl9LGF0PSguLi50KT0+e2hsJiZtbCguLi50KX19KSxnbCxuXz1RKCgpPT57WWUoKSxnbD0odCxlKT0+bmV3KEhpKGUpKSh0KX0pLGppPVEoKCk9Pnt9KSxjbixfbCxLaSxZaSx5bCx3bCxhXz1RKCgpPT57dnIoKSxqaSgpLGNuPXQ9Pk1hdGguY2VpbCh0LzE2KSoxNixfbD0xLEtpPSgpPT5fbCsrLFlpPWFzeW5jKHQsZSxyLG4pPT57bGV0IGE9Y24ociksaT10LmRldmljZS5jcmVhdGVCdWZmZXIoe3NpemU6YSx1c2FnZTpHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVHxHUFVCdWZmZXJVc2FnZS5NQVBfUkVBRH0pO3RyeXtsZXQgcz10LmdldENvbW1hbmRFbmNvZGVyKCk7dC5lbmRDb21wdXRlUGFzcygpLHMuY29weUJ1ZmZlclRvQnVmZmVyKGUsMCxpLDAsYSksdC5mbHVzaCgpLGF3YWl0IGkubWFwQXN5bmMoR1BVTWFwTW9kZS5SRUFEKTtsZXQgbz1pLmdldE1hcHBlZFJhbmdlKCk7aWYobil7bGV0IGw9bigpO3JldHVybiBsLnNldChuZXcgVWludDhBcnJheShvLDAscikpLGx9ZWxzZSByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoby5zbGljZSgwLHIpKX1maW5hbGx5e2kuZGVzdHJveSgpfX0seWw9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5iYWNrZW5kPXQsdGhpcy5zdG9yYWdlQ2FjaGU9bmV3IE1hcCx0aGlzLmZyZWVCdWZmZXJzPW5ldyBNYXAsdGhpcy5mcmVlVW5pZm9ybUJ1ZmZlcnM9bmV3IE1hcCx0aGlzLmJ1ZmZlcnNGb3JVcGxvYWRpbmdQZW5kaW5nPVtdLHRoaXMuYnVmZmVyc1BlbmRpbmc9W10sdGhpcy5leHRlcm5hbEJ1ZmZlcnM9bmV3IE1hcH11cGxvYWQodCxlKXtsZXQgcj1lLmJ1ZmZlcixuPWUuYnl0ZU9mZnNldCxhPWUuYnl0ZUxlbmd0aCxpPWNuKGEpLHM9dGhpcy5zdG9yYWdlQ2FjaGUuZ2V0KHQpO2lmKCFzKXRocm93IG5ldyBFcnJvcigiZ3B1IGRhdGEgZm9yIHVwbG9hZGluZyBkb2VzIG5vdCBleGlzdCIpO2lmKHMub3JpZ2luYWxTaXplIT09YSl0aHJvdyBuZXcgRXJyb3IoYGluY29uc2lzdGVudCBkYXRhIHNpemUuIGdwdSBkYXRhIHNpemU9JHtzLm9yaWdpbmFsU2l6ZX0sIGRhdGEgc2l6ZT0ke2F9YCk7bGV0IG89dGhpcy5iYWNrZW5kLmRldmljZS5jcmVhdGVCdWZmZXIoe21hcHBlZEF0Q3JlYXRpb246ITAsc2l6ZTppLHVzYWdlOkdQVUJ1ZmZlclVzYWdlLk1BUF9XUklURXxHUFVCdWZmZXJVc2FnZS5DT1BZX1NSQ30pLGw9by5nZXRNYXBwZWRSYW5nZSgpO25ldyBVaW50OEFycmF5KGwpLnNldChuZXcgVWludDhBcnJheShyLG4sYSkpLG8udW5tYXAoKTtsZXQgZD10aGlzLmJhY2tlbmQuZ2V0Q29tbWFuZEVuY29kZXIoKTt0aGlzLmJhY2tlbmQuZW5kQ29tcHV0ZVBhc3MoKSxkLmNvcHlCdWZmZXJUb0J1ZmZlcihvLDAscy5ncHVEYXRhLmJ1ZmZlciwwLGkpLGF0KCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIEdwdURhdGFNYW5hZ2VyLnVwbG9hZChpZD0ke3R9KWApLHRoaXMuYnVmZmVyc0ZvclVwbG9hZGluZ1BlbmRpbmcucHVzaChvKX1tZW1jcHkodCxlKXtsZXQgcj10aGlzLnN0b3JhZ2VDYWNoZS5nZXQodCk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJzb3VyY2UgZ3B1IGRhdGEgZm9yIG1lbWNweSBkb2VzIG5vdCBleGlzdCIpO2xldCBuPXRoaXMuc3RvcmFnZUNhY2hlLmdldChlKTtpZighbil0aHJvdyBuZXcgRXJyb3IoImRlc3RpbmF0aW9uIGdwdSBkYXRhIGZvciBtZW1jcHkgZG9lcyBub3QgZXhpc3QiKTtpZihyLm9yaWdpbmFsU2l6ZSE9PW4ub3JpZ2luYWxTaXplKXRocm93IG5ldyBFcnJvcigiaW5jb25zaXN0ZW50IHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZ3B1IGRhdGEgc2l6ZSIpO2xldCBhPWNuKHIub3JpZ2luYWxTaXplKSxpPXRoaXMuYmFja2VuZC5nZXRDb21tYW5kRW5jb2RlcigpO3RoaXMuYmFja2VuZC5lbmRDb21wdXRlUGFzcygpLGkuY29weUJ1ZmZlclRvQnVmZmVyKHIuZ3B1RGF0YS5idWZmZXIsMCxuLmdwdURhdGEuYnVmZmVyLDAsYSl9cmVnaXN0ZXJFeHRlcm5hbEJ1ZmZlcih0LGUscil7bGV0IG47aWYocil7aWYobj10aGlzLmV4dGVybmFsQnVmZmVycy5nZXQociksbj09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoInByZXZpb3VzIGJ1ZmZlciBpcyBub3QgcmVnaXN0ZXJlZCIpO2lmKHQ9PT1yKXJldHVybiBhdCgidmVyYm9zZSIsKCk9PmBbV2ViR1BVXSBHcHVEYXRhTWFuYWdlci5yZWdpc3RlckV4dGVybmFsQnVmZmVyKHNpemU9JHtlfSkgPT4gaWQ9JHtufSwgYnVmZmVyIGlzIHRoZSBzYW1lLCBza2lwLmApLG47dGhpcy5leHRlcm5hbEJ1ZmZlcnMuZGVsZXRlKHIpfWVsc2Ugbj1LaSgpO3JldHVybiB0aGlzLnN0b3JhZ2VDYWNoZS5zZXQobix7Z3B1RGF0YTp7aWQ6bix0eXBlOjAsYnVmZmVyOnR9LG9yaWdpbmFsU2l6ZTplfSksdGhpcy5leHRlcm5hbEJ1ZmZlcnMuc2V0KHQsbiksYXQoInZlcmJvc2UiLCgpPT5gW1dlYkdQVV0gR3B1RGF0YU1hbmFnZXIucmVnaXN0ZXJFeHRlcm5hbEJ1ZmZlcihzaXplPSR7ZX0pID0+IGlkPSR7bn0sIHJlZ2lzdGVyZWQuYCksbn11bnJlZ2lzdGVyRXh0ZXJuYWxCdWZmZXIodCl7bGV0IGU9dGhpcy5leHRlcm5hbEJ1ZmZlcnMuZ2V0KHQpO2UhPT12b2lkIDAmJih0aGlzLnN0b3JhZ2VDYWNoZS5kZWxldGUoZSksdGhpcy5leHRlcm5hbEJ1ZmZlcnMuZGVsZXRlKHQpLGF0KCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIEdwdURhdGFNYW5hZ2VyLnVucmVnaXN0ZXJFeHRlcm5hbEJ1ZmZlcigpID0+IGlkPSR7ZX1gKSl9Y3JlYXRlKHQsZT1HUFVCdWZmZXJVc2FnZS5TVE9SQUdFfEdQVUJ1ZmZlclVzYWdlLkNPUFlfU1JDfEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUKXtsZXQgcj1jbih0KSxuLGE9KGUmR1BVQnVmZmVyVXNhZ2UuU1RPUkFHRSk9PT1HUFVCdWZmZXJVc2FnZS5TVE9SQUdFLGk9KGUmR1BVQnVmZmVyVXNhZ2UuVU5JRk9STSk9PT1HUFVCdWZmZXJVc2FnZS5VTklGT1JNO2lmKGF8fGkpe2xldCBvPWE/dGhpcy5mcmVlQnVmZmVyczp0aGlzLmZyZWVVbmlmb3JtQnVmZmVycyxsPW8uZ2V0KHIpO2x8fChsPVtdLG8uc2V0KHIsbCkpLGwubGVuZ3RoPjA/bj1sLnBvcCgpOm49dGhpcy5iYWNrZW5kLmRldmljZS5jcmVhdGVCdWZmZXIoe3NpemU6cix1c2FnZTplfSl9ZWxzZSBuPXRoaXMuYmFja2VuZC5kZXZpY2UuY3JlYXRlQnVmZmVyKHtzaXplOnIsdXNhZ2U6ZX0pO2xldCBzPXtpZDpLaSgpLHR5cGU6MCxidWZmZXI6bn07cmV0dXJuIHRoaXMuc3RvcmFnZUNhY2hlLnNldChzLmlkLHtncHVEYXRhOnMsb3JpZ2luYWxTaXplOnR9KSxhdCgidmVyYm9zZSIsKCk9PmBbV2ViR1BVXSBHcHVEYXRhTWFuYWdlci5jcmVhdGUoc2l6ZT0ke3R9KSA9PiBpZD0ke3MuaWR9YCksc31nZXQodCl7cmV0dXJuIHRoaXMuc3RvcmFnZUNhY2hlLmdldCh0KT8uZ3B1RGF0YX1yZWxlYXNlKHQpe2xldCBlPXRoaXMuc3RvcmFnZUNhY2hlLmdldCh0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IoInJlbGVhc2luZyBkYXRhIGRvZXMgbm90IGV4aXN0Iik7cmV0dXJuIGF0KCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIEdwdURhdGFNYW5hZ2VyLnJlbGVhc2UoaWQ9JHt0fSksIGdwdURhdGFJZD0ke2UuZ3B1RGF0YS5pZH1gKSx0aGlzLnN0b3JhZ2VDYWNoZS5kZWxldGUodCksdGhpcy5idWZmZXJzUGVuZGluZy5wdXNoKGUuZ3B1RGF0YS5idWZmZXIpLGUub3JpZ2luYWxTaXplfWFzeW5jIGRvd25sb2FkKHQsZSl7bGV0IHI9dGhpcy5zdG9yYWdlQ2FjaGUuZ2V0KHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiZGF0YSBkb2VzIG5vdCBleGlzdCIpO2F3YWl0IFlpKHRoaXMuYmFja2VuZCxyLmdwdURhdGEuYnVmZmVyLHIub3JpZ2luYWxTaXplLGUpfXJlZnJlc2hQZW5kaW5nQnVmZmVycygpe2ZvcihsZXQgdCBvZiB0aGlzLmJ1ZmZlcnNGb3JVcGxvYWRpbmdQZW5kaW5nKXQuZGVzdHJveSgpO3RoaXMuYnVmZmVyc0ZvclVwbG9hZGluZ1BlbmRpbmc9W107Zm9yKGxldCB0IG9mIHRoaXMuYnVmZmVyc1BlbmRpbmcpKHQudXNhZ2UmR1BVQnVmZmVyVXNhZ2UuU1RPUkFHRSk9PT1HUFVCdWZmZXJVc2FnZS5TVE9SQUdFP3RoaXMuZnJlZUJ1ZmZlcnMuZ2V0KHQuc2l6ZSkucHVzaCh0KToodC51c2FnZSZHUFVCdWZmZXJVc2FnZS5VTklGT1JNKT09PUdQVUJ1ZmZlclVzYWdlLlVOSUZPUk0/dGhpcy5mcmVlVW5pZm9ybUJ1ZmZlcnMuZ2V0KHQuc2l6ZSkucHVzaCh0KTp0LmRlc3Ryb3koKTt0aGlzLmJ1ZmZlcnNQZW5kaW5nPVtdfWRpc3Bvc2UoKXt0aGlzLmZyZWVCdWZmZXJzLmZvckVhY2godD0+e3QuZm9yRWFjaChlPT57ZS5kZXN0cm95KCl9KX0pLHRoaXMuZnJlZVVuaWZvcm1CdWZmZXJzLmZvckVhY2godD0+e3QuZm9yRWFjaChlPT57ZS5kZXN0cm95KCl9KX0pLHRoaXMuc3RvcmFnZUNhY2hlLmZvckVhY2godD0+e3QuZ3B1RGF0YS5idWZmZXIuZGVzdHJveSgpfSksdGhpcy5zdG9yYWdlQ2FjaGU9bmV3IE1hcCx0aGlzLmZyZWVCdWZmZXJzPW5ldyBNYXAsdGhpcy5mcmVlVW5pZm9ybUJ1ZmZlcnM9bmV3IE1hcH19LHdsPSguLi50KT0+bmV3IHlsKC4uLnQpfSksdmwscWUsaXQ9USgoKT0+e3ZsPWNsYXNze2NvbnN0cnVjdG9yKHQpe09iamVjdC5hc3NpZ24odGhpcyx0KX1nZXQgY2FjaGVLZXkoKXtyZXR1cm4gdGhpcy5rZXl8fCh0aGlzLmtleT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKS5zb3J0KCkubWFwKHQ9PmAke3RoaXNbdF19YCkuam9pbigiOyIpKSx0aGlzLmtleX19LHFlPXQ9Pm5ldyB2bCh0KX0pLGJsLExyLGVlLGJhLCRsLFhpLFFpLEllPVEoKCk9PntibD1jbGFzc3tzdGF0aWMgY2FsY01hdE11bFNoYXBlKHQsZSl7cmV0dXJuIHRbMV0hPT1lWzBdP3ZvaWQgMDpbdFswXSxlWzFdXX19LExyPWNsYXNze3N0YXRpYyBjYWxjU2hhcGUodCxlLHI9ITEpe2xldCBuPXQubGVuZ3RoLGE9ZS5sZW5ndGg7aWYobj09PTApcmV0dXJuIGU7aWYoYT09PTApcmV0dXJuIHQ7bGV0IGk9TWF0aC5tYXgodC5sZW5ndGgsZS5sZW5ndGgpLHM9bmV3IEFycmF5KGkpO2lmKHIpe2lmKG48Mnx8YTwyKXJldHVybjtsZXQgbz1ibC5jYWxjTWF0TXVsU2hhcGUoW3Rbbi0yXSx0W24tMV1dLFtlW2EtMl0sZVthLTFdXSk7aWYobz09PXZvaWQgMClyZXR1cm47W3NbaS0yXSxzW2ktMV1dPW99Zm9yKGxldCBvPXI/MzoxO288PWk7bysrKXtsZXQgbD1uLW88MD8xOnRbbi1vXSxkPWEtbzwwPzE6ZVthLW9dO2lmKGwhPT1kJiZsPjEmJmQ+MSlyZXR1cm47c1tpLW9dPU1hdGgubWF4KGwsZCl9cmV0dXJuIHN9c3RhdGljIGlzVmFsaWRCcm9hZGNhc3QodCxlKXtsZXQgcj10Lmxlbmd0aCxuPWUubGVuZ3RoO2lmKHI+bilyZXR1cm4hMTtmb3IobGV0IGE9MTthPD1yO2ErKylpZih0W3ItYV0hPT0xJiZ0W3ItYV0hPT1lW24tYV0pcmV0dXJuITE7cmV0dXJuITB9fSxlZT1jbGFzcyBiaXtzdGF0aWMgc2l6ZShlKXtyZXR1cm4gYmkuZ2V0U2l6ZUZyb21EaW1lbnNpb25SYW5nZShlLDAsZS5sZW5ndGgpfXN0YXRpYyBzaXplRnJvbURpbWVuc2lvbihlLHIpe2lmKHI8MHx8cj5lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgZGltZW5zaW9uIG9mICR7cn0gZm9yIHNpemVGcm9tRGltZW5zaW9uIGFzIFRlbnNvciBoYXMgJHtlLmxlbmd0aH0gZGltZW5zaW9ucy5gKTtyZXR1cm4gYmkuZ2V0U2l6ZUZyb21EaW1lbnNpb25SYW5nZShlLHIsZS5sZW5ndGgpfXN0YXRpYyBzaXplVG9EaW1lbnNpb24oZSxyKXtpZihyPDB8fHI+ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIGRpbWVuc2lvbiBvZiAke3J9IGZvciBzaXplVG9EaW1lbnNpb24gYXMgVGVuc29yIGhhcyAke2UubGVuZ3RofSBkaW1lbnNpb25zLmApO3JldHVybiBiaS5nZXRTaXplRnJvbURpbWVuc2lvblJhbmdlKGUsMCxyKX1zdGF0aWMgZ2V0U2l6ZUZyb21EaW1lbnNpb25SYW5nZShlLHIsbil7bGV0IGE9MTtmb3IobGV0IGk9cjtpPG47aSsrKXtpZihlW2ldPDApdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgZ2V0IHZhbGlkIHNpemUgZnJvbSBzcGVjaWZpZWQgZGltZW5zaW9uIHJhbmdlLiBNb3N0IGxpa2VseSB0aGUgcmFuZ2UgY29udGFpbnMgbmVnYXRpdmUgdmFsdWVzIGluIHRoZW0uIik7YSo9ZVtpXX1yZXR1cm4gYX1zdGF0aWMgY29tcHV0ZVN0cmlkZXMoZSl7bGV0IHI9ZS5sZW5ndGg7aWYocj09PTApcmV0dXJuW107aWYocj09PTEpcmV0dXJuWzFdO2xldCBuPW5ldyBBcnJheShyKTtuW3ItMV09MSxuW3ItMl09ZVtyLTFdO2ZvcihsZXQgYT1yLTM7YT49MDstLWEpblthXT1uW2ErMV0qZVthKzFdO3JldHVybiBufXN0YXRpYyBub3JtYWxpemVBeGlzKGUscil7aWYoZTwtciYmZT49cil0aHJvdyBuZXcgRXJyb3IoInVuc3VwcG9ydGVkIGF4aXMgZm9yIHRoaXMgb3BlcmF0aW9uLiIpO3JldHVybiBlPDA/ZStyOmV9c3RhdGljIG5vcm1hbGl6ZUF4ZXMoZSxyKXtyZXR1cm4gZS5tYXAobj0+dGhpcy5ub3JtYWxpemVBeGlzKG4scj8/ZS5sZW5ndGgpKX1zdGF0aWMgc29ydEJhc2VkT25QZXJtKGUscil7cmV0dXJuIHI/ci5tYXAobj0+ZVtuXSk6ZS5zbGljZSgpLnJldmVyc2UoKX1zdGF0aWMgcGFkU2hhcGUoZSxyKXtsZXQgbj1lLmxlbmd0aDtyZXR1cm4gZS5tYXAoKGEsaSk9PmErcltpXStyW2krbl0pfXN0YXRpYyBhcmVFcXVhbChlLHIpe3JldHVybiBlLmxlbmd0aCE9PXIubGVuZ3RoPyExOmUuZXZlcnkoKG4sYSk9Pm49PT1yW2FdKX19LGJhPWNsYXNzIHVhe3N0YXRpYyBhZGp1c3RQb29sQXR0cmlidXRlcyhlLHIsbixhLGkscyl7aWYoIWUmJm4ubGVuZ3RoIT09ci5sZW5ndGgtMil0aHJvdyBuZXcgRXJyb3IoImxlbmd0aCBvZiBzcGVjaWZpZWQga2VybmVsIHNoYXBlcyBzaG91bGQgYmUgMiBsZXNzIHRoYW4gbGVuZ3RoIG9mIGlucHV0IGRpbWVuc2lvbnMiKTtpZihlKWZvcihsZXQgbz0wO288ci5sZW5ndGgtMjtvKyspbz49bi5sZW5ndGg/bi5wdXNoKHJbbysyXSk6bltvXT1yW28rMl07Zm9yKGxldCBvPTA7bzxuLmxlbmd0aDtvKyspaWYobzxhLmxlbmd0aCl7aWYoYVtvXTwwKXRocm93IG5ldyBFcnJvcigic3RyaWRlcyBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDEiKX1lbHNlIGEucHVzaCgxKTtmb3IobGV0IG89MDtvPG4ubGVuZ3RoO28rKylpZihvPGkubGVuZ3RoKXtpZihpW29dPDApdGhyb3cgbmV3IEVycm9yKCJkaWxhdGlvbnMgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxIil9ZWxzZSBpLnB1c2goMSk7Zm9yKGxldCBvPTA7bzxuLmxlbmd0aCoyO28rKylpZihvPHMubGVuZ3RoKXtpZihzW29dPDApdGhyb3cgbmV3IEVycm9yKCJwYWQgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxIil9ZWxzZSBzLnB1c2goMCk7Zm9yKGxldCBvPTA7bzxuLmxlbmd0aDtvKyspe2lmKG5bb108PTApdGhyb3cgbmV3IEVycm9yKCJrZXJuZWwgc2hhcGVzIG5lZWQgdG8gYmUgZ3JlYXRlciB0aGFuIDAiKTtpZihzW29dPj1uW29dfHxzW28rbi5sZW5ndGhdPj1uW29dKXRocm93IG5ldyBFcnJvcigicGFkcyBzaG91bGQgYmUgc21hbGxlciB0aGFuIGtlcm5lbCIpfX1zdGF0aWMgYWRqdXN0UGFkc0Jhc2VkT25BdXRvUGFkKGUscixuLGEsaSxzLG8pe2lmKG8pe2lmKGkubGVuZ3RoIT09MiooZS5sZW5ndGgtMikpdGhyb3cgbmV3IEVycm9yKCJsZW5ndGggb2YgcGFkcyBzaG91bGQgYmUgdHdpY2UgdGhlIGxlbmd0aCBvZiBkYXRhIGRpbWVuc2lvbnMiKTtpZihyLmxlbmd0aCE9PWUubGVuZ3RoLTIpdGhyb3cgbmV3IEVycm9yKCJsZW5ndGggb2Ygc3RyaWRlcyBzaG91bGQgYmUgdGhlIGxlbmd0aCBvZiBkYXRhIGRpbWVuc2lvbnMiKTtpZihhLmxlbmd0aCE9PWUubGVuZ3RoLTIpdGhyb3cgbmV3IEVycm9yKCJsZW5ndGggb2Yga2VybmVsIHNoYXBlcyBzaG91bGQgYmUgdGhlIGxlbmd0aCBvZiBkYXRhIGRpbWVuc2lvbnMiKTtmb3IobGV0IGw9MDtsPGUubGVuZ3RoLTI7bCsrKXVhLmFkanVzdFBhZEFuZFJldHVyblNoYXBlKGVbbCsocz8xOjIpXSxyW2xdLG5bbF0sYVtsXSxpLGwsbCtlLmxlbmd0aC0yLG8pfX1zdGF0aWMgY29tcHV0ZVBvb2xPdXRwdXRTaGFwZShlLHIsbixhLGkscyxvKXtpZihyLmxlbmd0aDw9MCl0aHJvdyBuZXcgRXJyb3IoImlucHV0IHNoYXBlIG11c3QgYmUgb2Ygc2l6ZSBncmVhdGVyIHRoYW4gMCIpO2xldCBsPVtyWzBdLHJbMV1dO3JldHVybiB1YS5jb21wdXRlU2hhcGVIZWxwZXIoZSxyLGwsbixhLGkscyxvKSxsfXN0YXRpYyBjb21wdXRlQ29udk91dHB1dFNoYXBlKGUscixuLGEsaSxzLG8pe2lmKGUubGVuZ3RoPD0wfHxyLmxlbmd0aDw9MCl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgaW5wdXQgdGVuc29yIGRpbXMgb3IgaW52YWxpZCBmaWx0ZXIgdGVuc29yIGRpbXMiKTtsZXQgbD1bZVswXSxyWzBdXTtyZXR1cm4gdWEuY29tcHV0ZVNoYXBlSGVscGVyKCExLGUsbCxuLGEsaSxzLG8pLGx9c3RhdGljIGNvbXB1dGVTaGFwZUhlbHBlcihlLHIsbixhLGkscyxvLGwpe2lmKGUpZm9yKGxldCBkPTA7ZDxyLmxlbmd0aC0yO2QrKyluLnB1c2goMSk7ZWxzZSBmb3IobGV0IGQ9MDtkPHIubGVuZ3RoLTI7ZCsrKW4ucHVzaCh1YS5hZGp1c3RQYWRBbmRSZXR1cm5TaGFwZShyW2QrMl0sYVtkXSxpW2RdLHNbZF0sbyxkLGQrci5sZW5ndGgtMixsKSl9c3RhdGljIGFkanVzdFBhZEFuZFJldHVyblNoYXBlKGUscixuLGEsaSxzLG8sbCl7bGV0IGQ9biooYS0xKSsxO2lmKGwmJmwhPT0iTk9UU0VUIilzd2l0Y2gobCl7Y2FzZSJWQUxJRCI6cmV0dXJuIGlbc109MCxpW29dPTAsTWF0aC5mbG9vcigoZS1kKS9yKzEpO2Nhc2UiU0FNRV9MT1dFUiI6Y2FzZSJTQU1FX1VQUEVSIjppZihuIT09MSl0aHJvdyBuZXcgRXJyb3IoIkRpbGF0aW9uIG5vdCBzdXBwb3J0ZWQgZm9yIFNBTUVfVVBQRVIgb3IgU0FNRV9MT1dFUiIpO3tsZXQgYz0oKGUrci0xKS9yLTEpKnIrYS1lO3JldHVybiBpW3NdPU1hdGguZmxvb3IobD09PSJTQU1FX0xPV0VSIj8oYysxKS8yOmMvMiksaVtvXT1jLWlbc10sTWF0aC5mbG9vcigoZStjLWEpL3IrMSl9ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIEF1dG9QYWQgdHlwZSIpfWVsc2UgcmV0dXJuIE1hdGguZmxvb3IoKGUraVtzXStpW29dLWQpL3IrMSl9fSwkbD1jbGFzc3tzdGF0aWMgZ2V0U2hhcGVPZkdlbW1SZXN1bHQodCxlLHIsbixhKXtpZih0Lmxlbmd0aCE9PTJ8fHIubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoInNoYXBlIG5lZWQgdG8gYmUgb2Ygc2l6ZSAyIik7bGV0IGkscyxvO2U/KGk9dFsxXSxzPXRbMF0pOihpPXRbMF0scz10WzFdKTtsZXQgbD0tMTtpZihuPyhvPXJbMF0sbD0xKToobz1yWzFdLGw9MCkscltsXSE9PXMpdGhyb3cgbmV3IEVycm9yKCJkaW1lbnNpb24gbWlzbWF0Y2giKTtpZihpPD0wfHxvPD0wfHxzPD0wKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBzaGFwZSBzcGVjaWZpZWQiKTtpZihhJiYhTHIuaXNWYWxpZEJyb2FkY2FzdChhLFtpLG9dKSl0aHJvdyBuZXcgRXJyb3IoImdlbW06IGludmFsaWQgYmlhcyBzaGFwZSBmb3IgYnJvYWRjYXN0Iik7cmV0dXJuW2ksbyxzXX19LFhpPS0zNDAyODIzNDY2Mzg1Mjg5ZTIzLFFpPTM0MDI4MjM0NjYzODUyODllMjN9KSx4bCwkYSxJdCxucixpZSx2dCxidCxhcixLdCx4ZSx4YSxKLHZlLFppLGtsLFNsLHBuLHN0LENlPVEoKCk9PntZZSgpLEllKCkseGw9NjQsJGE9KHQsZSk9PntpZihlPT09Myl0aHJvdyBuZXcgRXJyb3IoInZlYzMgaGFzIHNhbWUgYWxpZ25tZW50IGFzIHZlYzQsIHVzZSB2ZWM0IGluc3RlYWQiKTtzd2l0Y2godCl7Y2FzZSAxMDpyZXR1cm4gZT4xP2B2ZWMke2V9PGYxNj5gOiJmMTYiO2Nhc2UgMTpyZXR1cm4gZT4xP2B2ZWMke2V9PGYzMj5gOiJmMzIiO2Nhc2UgNjpyZXR1cm4gZT4xP2B2ZWMke2V9PGkzMj5gOiJpMzIiO2Nhc2UgMTI6cmV0dXJuIGU+MT9gdmVjJHtlfTx1MzI+YDoidTMyIjtjYXNlIDc6aWYoZT4xKXRocm93IG5ldyBFcnJvcigiY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQgdmVjWCBvZiB1aW50NjQgeWV0Iik7cmV0dXJuWyJ2ZWMyPHUzMj4iLCJpMzIiXTtjYXNlIDEzOmlmKGU+MSl0aHJvdyBuZXcgRXJyb3IoImN1cnJlbnRseSBub3Qgc3VwcG9ydGVkIHZlY1ggb2YgdWludDY0IHlldCIpO3JldHVyblsidmVjMjx1MzI+IiwidTMyIl07Y2FzZSA5OmlmKGUhPT00KXRocm93IG5ldyBFcnJvcigiYm9vbCBtdXN0IGJlIHZlYzQiKTtyZXR1cm5bInUzMiIsInZlYzQ8Ym9vbD4iXTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBkYXRhIHR5cGU6ICR7dH1gKX19LEl0PSh0LGU9MSk9PntsZXQgcj0kYSh0LGUpO3JldHVybiB0eXBlb2Ygcj09InN0cmluZyI/cjpyWzBdfSxucj0odCxlPTEpPT57bGV0IHI9JGEodCxlKTtyZXR1cm4gdHlwZW9mIHI9PSJzdHJpbmciP3I6clsxXX0saWU9dD0+dC5sZW5ndGg9PT0wP1tdOlt7dHlwZToidWludDMyIixkYXRhOnR9LHt0eXBlOiJ1aW50MzIiLGRhdGE6ZWUuY29tcHV0ZVN0cmlkZXModCl9XSx2dD10PT50JTQ9PT0wPzQ6dCUyPT09MD8yOjEsYnQ9KHQ9ImYzMiIsZSxyPSIwIik9PiFlfHxlPT09MT9gJHt0fSgke3J9KWA6YHZlYyR7ZX08JHt0fT4oJHtyfSlgLGFyPSh0LGUscik9PnQ9PT0iZjMyIj9yOmU9PT0xP2BmMzIoJHtyfSlgOmB2ZWMke2V9Zigke3J9KWAsS3Q9KHQsZSk9PmU9PT00P2AoJHt0fS54ICsgJHt0fS55ICsgJHt0fS56ICsgJHt0fS53KWA6ZT09PTI/YCgke3R9LnggKyAke3R9LnkpYDplPT09Mz9gKCR7dH0ueCArICR7dH0ueSArICR7dH0ueilgOnQseGU9KHQsZSxyKT0+dC5zdGFydHNXaXRoKCJ1bmlmb3Jtcy4iKSYmcj40P3R5cGVvZiBlPT0ic3RyaW5nIj9gJHt0fVsoJHtlfSkgLyA0XVsoJHtlfSkgJSA0XWA6YCR7dH1bJHtNYXRoLmZsb29yKGUvNCl9XVske2UlNH1dYDpyPjE/YCR7dH1bJHtlfV1gOnQseGE9KHQsZSxyLG4sYSk9PntsZXQgaT10eXBlb2Ygcj09Im51bWJlciIscz1pP3I6ci5sZW5ndGgsbz1bLi4ubmV3IEFycmF5KHMpLmtleXMoKV0sbD1zPDI/InUzMiI6czw9ND9gdmVjJHtzfTx1MzI+YDpgYXJyYXk8dTMyLCAke3N9PmAsZD0kYShlLGEpLGM9dHlwZW9mIGQ9PSJzdHJpbmciP2Q6ZFsxXSx1PXR5cGVvZiBkPT0ic3RyaW5nIj9kOmRbMF0saD17aW5kaWNlczpsLHZhbHVlOmMsc3RvcmFnZTp1LHRlbnNvcjplfSxmPUY9PnR5cGVvZiBGPT0ic3RyaW5nIj9GOmAke0Z9dWAsZz17b2Zmc2V0VG9JbmRpY2VzOiExLGluZGljZXNUb09mZnNldDohMSxicm9hZGNhc3RlZEluZGljZXNUb09mZnNldDohMSxzZXQ6ITEsc2V0QnlJbmRpY2VzOiExLGdldDohMSxnZXRCeUluZGljZXM6ITF9LHk9aT8idW5pZm9ybXMuIjoiIix3PWAke3l9JHt0fV9zaGFwZWAsdj1gJHt5fSR7dH1fc3RyaWRlc2Asaz0iIjtmb3IobGV0IEY9MDtGPHMtMTtGKyspays9YAogICAgbGV0IGRpbSR7Rn0gPSBjdXJyZW50IC8gJHt4ZSh2LEYscyl9OwogICAgbGV0IHJlc3Qke0Z9ID0gY3VycmVudCAlICR7eGUodixGLHMpfTsKICAgIGluZGljZXNbJHtGfV0gPSBkaW0ke0Z9OwogICAgY3VycmVudCA9IHJlc3Qke0Z9OwogICAgYDtrKz1gaW5kaWNlc1ske3MtMX1dID0gY3VycmVudDtgO2xldCBFPXM8Mj8iIjpgCiAgZm4gbzJpXyR7dH0ob2Zmc2V0OiB1MzIpIC0+ICR7aC5pbmRpY2VzfSB7CiAgICB2YXIgaW5kaWNlczogJHtoLmluZGljZXN9OwogICAgdmFyIGN1cnJlbnQgPSBvZmZzZXQ7CiAgICAke2t9CiAgICByZXR1cm4gaW5kaWNlczsKICB9YCx4PUY9PihnLm9mZnNldFRvSW5kaWNlcz0hMCxzPDI/RjpgbzJpXyR7dH0oJHtGfSlgKSxJPVtdO2lmKHM+PTIpZm9yKGxldCBGPXMtMTtGPj0wO0YtLSlJLnB1c2goYCR7eGUodixGLHMpfSAqIChpbmRpY2VzWyR7Rn1dKWApO2xldCBUPXM8Mj8iIjpgCiAgZm4gaTJvXyR7dH0oaW5kaWNlczogJHtoLmluZGljZXN9KSAtPiB1MzIgewogICAgcmV0dXJuICR7SS5qb2luKCIrIil9OwogIH1gLEI9Rj0+KGcuaW5kaWNlc1RvT2Zmc2V0PSEwLHM8Mj9GOmBpMm9fJHt0fSgke0Z9KWApLFU9KC4uLkYpPT5zPT09MD8iMHUiOmAke2guaW5kaWNlc30oJHtGLm1hcChmKS5qb2luKCIsIil9KWAsSD0oRixvZSk9PnM8Mj9gJHtGfWA6YCR7eGUoRixvZSxzKX1gLEs9KEYsb2UsJGUpPT5zPDI/YCR7Rn09JHskZX07YDpgJHt4ZShGLG9lLHMpfT0keyRlfTtgLE89e30sRz0oRixvZSk9PntnLmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0PSEwO2xldCAkZT1gJHtvZS5uYW1lfWJyb2FkY2FzdGVkSW5kaWNlc1RvJHt0fU9mZnNldGA7aWYoJGUgaW4gTylyZXR1cm5gJHskZX0oJHtGfSlgO2xldCBVZT1bXTtmb3IobGV0IFBlPXMtMTtQZT49MDtQZS0tKXtsZXQgVmU9b2UuaW5kaWNlc0dldCgib3V0cHV0SW5kaWNlcyIsUGUrb2UucmFuay1zKTtVZS5wdXNoKGAke0godixQZSl9ICogKCR7VmV9ICUgJHtIKHcsUGUpfSlgKX1yZXR1cm4gT1skZV09YGZuICR7JGV9KG91dHB1dEluZGljZXM6ICR7b2UudHlwZS5pbmRpY2VzfSkgLT4gdTMyIHsKICAgICAgICAgICAgIHJldHVybiAke1VlLmxlbmd0aD4wP1VlLmpvaW4oIisiKToiMHUifTsKICAgICAgICAgICB9YCxgJHskZX0oJHtGfSlgfSxuZT0oRixvZSk9PigoKT0+e2lmKGguc3RvcmFnZT09PWgudmFsdWUpcmV0dXJuYCR7dH1bJHtGfV09JHtvZX07YDtpZihoLnN0b3JhZ2U9PT0idmVjMjx1MzI+IiYmaC52YWx1ZT09PSJpMzIiKXJldHVybmAke3R9WyR7Rn1dPXZlYzI8dTMyPih1MzIoJHtvZX0pLCBzZWxlY3QoMHUsIDB4RkZGRkZGRkZ1LCAke29lfSA8IDApKTtgO2lmKGguc3RvcmFnZT09PSJ2ZWMyPHUzMj4iJiZoLnZhbHVlPT09InUzMiIpcmV0dXJuYCR7dH1bJHtGfV09dmVjMjx1MzI+KHUzMigke29lfSksIDB1KTtgO2lmKGguc3RvcmFnZT09PSJ1MzIiJiZoLnZhbHVlPT09InZlYzQ8Ym9vbD4iKXJldHVybmAke3R9WyR7Rn1dPWRvdCh2ZWM0PHUzMj4oMHgxLCAweDEwMCwgMHgxMDAwMCwgMHgxMDAwMDAwKSwgdmVjNDx1MzI+KCR7b2V9KSk7YDt0aHJvdyBuZXcgRXJyb3IoYG5vdCBzdXBwb3J0ZWQgY29tYmluYXRpb24gb2Ygc3RvcmFnZSB0eXBlICR7aC5zdG9yYWdlfSBhbmQgdmFsdWUgdHlwZSAke2gudmFsdWV9IHlldGApfSkoKSxxPUY9PigoKT0+e2lmKGguc3RvcmFnZT09PWgudmFsdWUpcmV0dXJuYCR7dH1bJHtGfV1gO2lmKGguc3RvcmFnZT09PSJ2ZWMyPHUzMj4iJiZoLnZhbHVlPT09ImkzMiIpcmV0dXJuYGkzMigke3R9WyR7Rn1dLngpYDtpZihoLnN0b3JhZ2U9PT0idmVjMjx1MzI+IiYmaC52YWx1ZT09PSJ1MzIiKXJldHVybmB1MzIoJHt0fVske0Z9XS54KWA7aWYoaC5zdG9yYWdlPT09InUzMiImJmgudmFsdWU9PT0idmVjNDxib29sPiIpcmV0dXJuYHZlYzQ8Ym9vbD4oYm9vbCgke3R9WyR7Rn1dICYgMHhGRnUpLCBib29sKCR7dH1bJHtGfV0gJiAweEZGMDB1KSwgYm9vbCgke3R9WyR7Rn1dICYgMHhGRjAwMDB1KSwgYm9vbCgke3R9WyR7Rn1dICYgMHhGRjAwMDAwMHUpKWA7dGhyb3cgbmV3IEVycm9yKGBub3Qgc3VwcG9ydGVkIGNvbWJpbmF0aW9uIG9mIHN0b3JhZ2UgdHlwZSAke2guc3RvcmFnZX0gYW5kIHZhbHVlIHR5cGUgJHtoLnZhbHVlfSB5ZXRgKX0pKCksUD1zPDI/IiI6YAogIGZuIGdldF8ke3R9QnlJbmRpY2VzKGluZGljZXM6ICR7aC5pbmRpY2VzfSkgLT4gJHtjfSB7CiAgICByZXR1cm4gJHtxKGBpMm9fJHt0fShpbmRpY2VzKWApfTsKICB9YCxMPXM8Mj8iIjooKCk9PntsZXQgRj1vLm1hcCgkZT0+YGQkeyRlfTogdTMyYCkuam9pbigiLCAiKSxvZT1vLm1hcCgkZT0+YGQkeyRlfWApLmpvaW4oIiwgIik7cmV0dXJuYAogIGZuIGdldF8ke3R9KCR7Rn0pIC0+ICR7Y30gewogICAgcmV0dXJuIGdldF8ke3R9QnlJbmRpY2VzKCR7VShvZSl9KTsKICB9YH0pKCksVj0oLi4uRik9PntpZihGLmxlbmd0aCE9PXMpdGhyb3cgbmV3IEVycm9yKGBpbmRpY2VzIGxlbmd0aCBtdXN0IGJlICR7c31gKTtsZXQgb2U9Ri5tYXAoZikuam9pbigiLCIpO3JldHVybiBzPT09MD9xKCIwdSIpOnM9PT0xP3Eob2VbMF0pOihnLmdldD0hMCxnLmdldEJ5SW5kaWNlcz0hMCxnLmluZGljZXNUb09mZnNldD0hMCxgZ2V0XyR7dH0oJHtvZX0pYCl9LHRlPUY9PnM8Mj9xKEYpOihnLmdldEJ5SW5kaWNlcz0hMCxnLmluZGljZXNUb09mZnNldD0hMCxgZ2V0XyR7dH1CeUluZGljZXMoJHtGfSlgKSxYPXM8Mj8iIjpgCiAgZm4gc2V0XyR7dH1CeUluZGljZXMoaW5kaWNlczogJHtoLmluZGljZXN9LCB2YWx1ZTogJHtjfSkgewogICAgJHtuZShgaTJvXyR7dH0oaW5kaWNlcylgLCJ2YWx1ZSIpfQogIH1gLHVlPXM8Mj8iIjooKCk9PntsZXQgRj1vLm1hcCgkZT0+YGQkeyRlfTogdTMyYCkuam9pbigiLCAiKSxvZT1vLm1hcCgkZT0+YGQkeyRlfWApLmpvaW4oIiwgIik7cmV0dXJuYAogIGZuIHNldF8ke3R9KCR7Rn0sIHZhbHVlOiAke2N9KSB7CiAgICBzZXRfJHt0fUJ5SW5kaWNlcygke1Uob2UpfSwgdmFsdWUpOwogIH1gfSkoKTtyZXR1cm57aW1wbDooKT0+e2xldCBGPVtdLG9lPSExO3JldHVybiBnLm9mZnNldFRvSW5kaWNlcyYmKEYucHVzaChFKSxvZT0hMCksZy5pbmRpY2VzVG9PZmZzZXQmJihGLnB1c2goVCksb2U9ITApLGcuYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQmJihPYmplY3QudmFsdWVzKE8pLmZvckVhY2goJGU9PkYucHVzaCgkZSkpLG9lPSEwKSxnLnNldCYmKEYucHVzaCh1ZSksb2U9ITApLGcuc2V0QnlJbmRpY2VzJiYoRi5wdXNoKFgpLG9lPSEwKSxnLmdldCYmKEYucHVzaChMKSxvZT0hMCksZy5nZXRCeUluZGljZXMmJihGLnB1c2goUCksb2U9ITApLCFpJiZvZSYmRi51bnNoaWZ0KGBjb25zdCAke3d9ID0gJHtoLmluZGljZXN9KCR7ci5qb2luKCIsIil9KTtgLGBjb25zdCAke3Z9ID0gJHtoLmluZGljZXN9KCR7ZWUuY29tcHV0ZVN0cmlkZXMocikuam9pbigiLCIpfSk7YCksRi5qb2luKGAKYCl9LHR5cGU6aCxvZmZzZXRUb0luZGljZXM6eCxpbmRpY2VzVG9PZmZzZXQ6Qixicm9hZGNhc3RlZEluZGljZXNUb09mZnNldDpHLGluZGljZXM6VSxpbmRpY2VzR2V0OkgsaW5kaWNlc1NldDpLLHNldDooLi4uRik9PntpZihGLmxlbmd0aCE9PXMrMSl0aHJvdyBuZXcgRXJyb3IoYGluZGljZXMgbGVuZ3RoIG11c3QgYmUgJHtzfWApO2xldCBvZT1GW3NdO2lmKHR5cGVvZiBvZSE9InN0cmluZyIpdGhyb3cgbmV3IEVycm9yKCJ2YWx1ZSBtdXN0IGJlIHN0cmluZyIpO2xldCAkZT1GLnNsaWNlKDAscykubWFwKGYpLmpvaW4oIiwiKTtyZXR1cm4gcz09PTA/bmUoIjB1IixvZSk6cz09PTE/bmUoJGVbMF0sb2UpOihnLnNldD0hMCxnLnNldEJ5SW5kaWNlcz0hMCxnLmluZGljZXNUb09mZnNldD0hMCxgc2V0XyR7dH0oJHskZX0sICR7b2V9KWApfSxzZXRCeU9mZnNldDpuZSxzZXRCeUluZGljZXM6KEYsb2UpPT5zPDI/bmUoRixvZSk6KGcuc2V0QnlJbmRpY2VzPSEwLGcuaW5kaWNlc1RvT2Zmc2V0PSEwLGBzZXRfJHt0fUJ5SW5kaWNlcygke0Z9LCAke29lfSk7YCksZ2V0OlYsZ2V0QnlPZmZzZXQ6cSxnZXRCeUluZGljZXM6dGUsdXNhZ2U6bixuYW1lOnQsc3RyaWRlczp2LHNoYXBlOncscmFuazpzfX0sSj0odCxlLHIsbj0xKT0+eGEodCxlLHIsImlucHV0IixuKSx2ZT0odCxlLHIsbj0xKT0+eGEodCxlLHIsIm91dHB1dCIsbiksWmk9KHQsZSxyLG49MSk9PnhhKHQsZSxyLCJpbnRlcm5hbCIsbiksa2w9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5ub3JtYWxpemVkRGlzcGF0Y2hHcm91cD10LHRoaXMuaW50ZXJuYWxWYXJpYWJsZXM9W10sdGhpcy52YXJpYWJsZXM9W10sdGhpcy51bmlmb3Jtcz1bXSx0aGlzLnZhcmlhYmxlSW5kZXg9MH1ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKHQpe3JldHVybmBpZiAoZ2xvYmFsX2lkeCA+PSAke3R5cGVvZiB0PT0ibnVtYmVyIj9gJHt0fXVgOnR9KSB7IHJldHVybjsgfWB9bWFpblN0YXJ0KHQ9eGwpe2xldCBlPXR5cGVvZiB0PT0ibnVtYmVyIj90OnRbMF0scj10eXBlb2YgdD09Im51bWJlciI/MTp0WzFdLG49dHlwZW9mIHQ9PSJudW1iZXIiPzE6dFsyXSxhPXRoaXMubm9ybWFsaXplZERpc3BhdGNoR3JvdXBbMV09PT0xJiZ0aGlzLm5vcm1hbGl6ZWREaXNwYXRjaEdyb3VwWzJdPT09MSxpPWE/YEBidWlsdGluKGdsb2JhbF9pbnZvY2F0aW9uX2lkKSBnbG9iYWxfaWQgOiB2ZWMzPHUzMj4sCiAgICBAYnVpbHRpbih3b3JrZ3JvdXBfaWQpIHdvcmtncm91cF9pZCA6IHZlYzM8dTMyPiwKICAgIEBidWlsdGluKGxvY2FsX2ludm9jYXRpb25faWQpIGxvY2FsX2lkIDogdmVjMzx1MzI+YDpgQGJ1aWx0aW4obG9jYWxfaW52b2NhdGlvbl9pZCkgbG9jYWxfaWQgOiB2ZWMzPHUzMj4sCiAgICBAYnVpbHRpbihsb2NhbF9pbnZvY2F0aW9uX2luZGV4KSBsb2NhbF9pZHggOiB1MzIsCiAgICBAYnVpbHRpbih3b3JrZ3JvdXBfaWQpIHdvcmtncm91cF9pZCA6IHZlYzM8dTMyPiwKICAgIEBidWlsdGluKG51bV93b3JrZ3JvdXBzKSBudW1fd29ya2dyb3VwcyA6IHZlYzM8dTMyPmAscz1hPyJsZXQgZ2xvYmFsX2lkeCA9IGdsb2JhbF9pZC54OyBsZXQgbG9jYWxfaWR4ID0gbG9jYWxfaWQueDsiOmBsZXQgZ2xvYmFsX2lkeCA9ICh3b3JrZ3JvdXBfaWQueiAqIG51bV93b3JrZ3JvdXBzWzBdICogbnVtX3dvcmtncm91cHNbMV0gKwogICAgICAgICAgd29ya2dyb3VwX2lkLnkgKiBudW1fd29ya2dyb3Vwc1swXSArIHdvcmtncm91cF9pZC54KSAqICR7ZSpyKm59dSArIGxvY2FsX2lkeDtgO3JldHVybmBAY29tcHV0ZSBAd29ya2dyb3VwX3NpemUoJHtlfSwgJHtyfSwgJHtufSkKICBmbiBtYWluKCR7aX0pIHsKICAgICR7c30KICBgfWFwcGVuZFZhcmlhYmxlVW5pZm9ybXModCl7dC5yYW5rIT09MCYmKHQuc2hhcGUuc3RhcnRzV2l0aCgidW5pZm9ybXMuIikmJnRoaXMudW5pZm9ybXMucHVzaCh7bmFtZTp0LnNoYXBlLnJlcGxhY2UoInVuaWZvcm1zLiIsIiIpLHR5cGU6InUzMiIsbGVuZ3RoOnQucmFua30pLHQuc3RyaWRlcy5zdGFydHNXaXRoKCJ1bmlmb3Jtcy4iKSYmdGhpcy51bmlmb3Jtcy5wdXNoKHtuYW1lOnQuc3RyaWRlcy5yZXBsYWNlKCJ1bmlmb3Jtcy4iLCIiKSx0eXBlOiJ1MzIiLGxlbmd0aDp0LnJhbmt9KSl9ZGVjbGFyZVZhcmlhYmxlKHQsZSl7aWYodC51c2FnZT09PSJpbnRlcm5hbCIpdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgdXNlIGludGVybmFsIHZhcmlhYmxlIHdpdGggZGVjbGFyZVZhcmlhYmxlKCkuIHVzZSByZWdpc3RlckludGVybmFsVmFyaWFibGVzKCkgaW5zdGVhZC4iKTt0aGlzLnZhcmlhYmxlcy5wdXNoKHQpLHRoaXMuYXBwZW5kVmFyaWFibGVVbmlmb3Jtcyh0KTtsZXQgcj10LnVzYWdlPT09ImlucHV0Ij8icmVhZCI6InJlYWRfd3JpdGUiLG49dC50eXBlLnN0b3JhZ2U7cmV0dXJuYEBncm91cCgwKSBAYmluZGluZygke2V9KSB2YXI8c3RvcmFnZSwgJHtyfT4gJHt0Lm5hbWV9OiBhcnJheTwke259PjtgfWRlY2xhcmVWYXJpYWJsZXMoLi4udCl7cmV0dXJuIHQubWFwKGU9PnRoaXMuZGVjbGFyZVZhcmlhYmxlKGUsdGhpcy52YXJpYWJsZUluZGV4KyspKS5qb2luKGAKYCl9cmVnaXN0ZXJJbnRlcm5hbFZhcmlhYmxlKHQpe2lmKHQudXNhZ2UhPT0iaW50ZXJuYWwiKXRocm93IG5ldyBFcnJvcigiY2Fubm90IHVzZSBpbnB1dCBvciBvdXRwdXQgdmFyaWFibGUgd2l0aCByZWdpc3RlckludGVybmFsVmFyaWFibGUoKS4gdXNlIGRlY2xhcmVWYXJpYWJsZXMoKSBpbnN0ZWFkLiIpO3RoaXMuaW50ZXJuYWxWYXJpYWJsZXMucHVzaCh0KSx0aGlzLmFwcGVuZFZhcmlhYmxlVW5pZm9ybXModCl9cmVnaXN0ZXJJbnRlcm5hbFZhcmlhYmxlcyguLi50KXtyZXR1cm4gdC5mb3JFYWNoKGU9PnRoaXMucmVnaXN0ZXJJbnRlcm5hbFZhcmlhYmxlKGUpKSx0aGlzfXJlZ2lzdGVyVW5pZm9ybSh0LGUscj0xKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5wdXNoKHtuYW1lOnQsdHlwZTplLGxlbmd0aDpyfSksdGhpc31yZWdpc3RlclVuaWZvcm1zKHQpe3JldHVybiB0aGlzLnVuaWZvcm1zPXRoaXMudW5pZm9ybXMuY29uY2F0KHQpLHRoaXN9dW5pZm9ybURlY2xhcmF0aW9uKCl7aWYodGhpcy51bmlmb3Jtcy5sZW5ndGg9PT0wKXJldHVybiIiO2xldCB0PVtdO2ZvcihsZXR7bmFtZTplLHR5cGU6cixsZW5ndGg6bn1vZiB0aGlzLnVuaWZvcm1zKWlmKG4mJm4+NCl0LnB1c2goYCR7ZX06YXJyYXk8dmVjNDwke3J9PiwgJHtNYXRoLmNlaWwobi80KX0+YCk7ZWxzZXtsZXQgYT1uPT1udWxsfHxuPT09MT9yOmB2ZWMke259PCR7cn0+YDt0LnB1c2goYCR7ZX06JHthfWApfXJldHVybmAKICAgICAgc3RydWN0IFVuaWZvcm1zIHsgJHt0LmpvaW4oIiwgIil9IH07CiAgICAgIEBncm91cCgwKSBAYmluZGluZygke3RoaXMudmFyaWFibGVJbmRleH0pIHZhcjx1bmlmb3JtPiB1bmlmb3JtczogVW5pZm9ybXM7YH1nZXQgYWRkaXRpb25hbEltcGxlbWVudGF0aW9ucygpe3JldHVybiB0aGlzLnVuaWZvcm1EZWNsYXJhdGlvbigpK3RoaXMudmFyaWFibGVzLm1hcCh0PT50LmltcGwoKSkuam9pbihgCmApK3RoaXMuaW50ZXJuYWxWYXJpYWJsZXMubWFwKHQ9PnQuaW1wbCgpKS5qb2luKGAKYCl9fSxTbD10PT5uZXcga2wodCkscG49KHQsZSk9PntsZXQgcj10Lmxlbmd0aCxuPVtdO2ZvcihsZXQgYT0wO2E8cjthKyspe2xldCBpPXItMS1hLHM9dFtpXXx8MTsoZVtlLmxlbmd0aC0xLWFdfHwxKT4xJiZzPT09MSYmbi51bnNoaWZ0KGkpfXJldHVybiBufSxzdD10PT4hMH0pLEVsLEppLENsLElsLGRyLEFsLFRsLGhuPVEoKCk9PntJZSgpLGl0KCksQ2UoKSxFbD10PT57aWYoIXR8fHQubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIlRyYW5zcG9zZSByZXF1aXJlcyAxIGlucHV0LiIpfSxKaT0odCxlKT0+ZSYmZS5sZW5ndGghPT10P1suLi5uZXcgQXJyYXkodCkua2V5cygpXS5yZXZlcnNlKCk6ZSxDbD0odCxlKT0+ZWUuc29ydEJhc2VkT25QZXJtKHQsSmkodC5sZW5ndGgsZSkpLElsPSh0LGUscixuKT0+e2xldCBhPVtdO2EucHVzaChgZm4gcGVybShpOiAke24udHlwZS5pbmRpY2VzfSkgLT4gJHtyLnR5cGUuaW5kaWNlc30gewogICAgdmFyIGE6ICR7ci50eXBlLmluZGljZXN9O2ApO2ZvcihsZXQgaT0wO2k8ZTsrK2kpYS5wdXNoKHIuaW5kaWNlc1NldCgiYSIsdFtpXSxgaVske2l9XWApKTtyZXR1cm4gYS5wdXNoKCJyZXR1cm4gYTt9IiksYS5qb2luKGAKYCl9LGRyPSh0LGUpPT57bGV0IHI9dC5kYXRhVHlwZSxuPXQuZGltcy5sZW5ndGgsYT1KaShuLGUpLGk9c3Qobikscz1DbCh0LmRpbXMsYSksbz1pP3MubGVuZ3RoOnMsbD1pP246dC5kaW1zLGQ9dmUoIm91dHB1dCIscixvKSxjPUooImEiLHIsbCksdT1oPT5gCiAgJHtoLnJlZ2lzdGVyVW5pZm9ybSgib3V0cHV0X3NpemUiLCJ1MzIiKS5kZWNsYXJlVmFyaWFibGVzKGMsZCl9CgogICR7SWwoYSxuLGMsZCl9CgogICR7aC5tYWluU3RhcnQoKX0KICAgICR7aC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRfc2l6ZSIpfQoKICAgIGxldCBpbmRpY2VzID0gJHtkLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTsKICAgIGxldCBhSW5kaWNlcyA9IHBlcm0oaW5kaWNlcyk7CgogICAgJHtkLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IixjLmdldEJ5SW5kaWNlcygiYUluZGljZXMiKSl9CiAgfWA7cmV0dXJue25hbWU6IlRyYW5zcG9zZSIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7ZX1gLGlucHV0RGVwZW5kZW5jaWVzOmk/WyJyYW5rIl06WyJkaW1zIl19LGdldFJ1bkRhdGE6aD0+e2xldCBmPWVlLnNpemUocyk7cmV0dXJue291dHB1dHM6W3tkaW1zOnMsZGF0YVR5cGU6aFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGYvNjQpfSxwcm9ncmFtVW5pZm9ybXM6aT9be3R5cGU6InVpbnQzMiIsZGF0YTpmfSwuLi5pZShoWzBdLmRpbXMpLC4uLmllKHMpXTpbe3R5cGU6InVpbnQzMiIsZGF0YTpmfV19fSxnZXRTaGFkZXJTb3VyY2U6dX19LEFsPSh0LGUpPT57RWwodC5pbnB1dHMpLHQuY29tcHV0ZShkcih0LmlucHV0c1swXSxlLnBlcm0pKX0sVGw9dD0+cWUoe3Blcm06dC5wZXJtfSl9KSxPbCxNbCx6bCxCbCxSbCxQbCxEbCxObCxVbCxXbCxOdCxMbCxGbCxWbCxIbCxHbCxxbCxqbCxLbCxZbCxYbCxpXz1RKCgpPT57SWUoKSxDZSgpLHRzKCksaG4oKSxPbD17bWF4OiJzZWxlY3QoYmVzdFZhbHVlLCBjYW5kaWRhdGUsIGNhbmRpZGF0ZSA+IGJlc3RWYWx1ZSkiLG1pbjoic2VsZWN0KGJlc3RWYWx1ZSwgY2FuZGlkYXRlLCBjYW5kaWRhdGUgPCBiZXN0VmFsdWUpIixtZWFuOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUiLHN1bToiYmVzdFZhbHVlICsgY2FuZGlkYXRlIixwcm9kOiJiZXN0VmFsdWUgKiBjYW5kaWRhdGUiLHN1bVNxdWFyZToiYmVzdFZhbHVlICsgY2FuZGlkYXRlICogY2FuZGlkYXRlIixsb2dTdW1FeHA6ImJlc3RWYWx1ZSArIGV4cChjYW5kaWRhdGUpIixsMToiYmVzdFZhbHVlICsgYWJzKGNhbmRpZGF0ZSkiLGwyOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUgKiBjYW5kaWRhdGUiLGxvZ1N1bToiYmVzdFZhbHVlICsgY2FuZGlkYXRlIn0sTWw9e21heDoic2VsZWN0KGJlc3RWYWx1ZSwgY2FuZGlkYXRlLCBjYW5kaWRhdGUgPiBiZXN0VmFsdWUpIixtaW46InNlbGVjdChiZXN0VmFsdWUsIGNhbmRpZGF0ZSwgY2FuZGlkYXRlIDwgYmVzdFZhbHVlKSIsbWVhbjoiYmVzdFZhbHVlICsgY2FuZGlkYXRlIixzdW06ImJlc3RWYWx1ZSArIGNhbmRpZGF0ZSIscHJvZDoiYmVzdFZhbHVlICogY2FuZGlkYXRlIixzdW1TcXVhcmU6ImJlc3RWYWx1ZSArIGNhbmRpZGF0ZSIsbG9nU3VtRXhwOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUiLGwxOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUiLGwyOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUiLGxvZ1N1bToiYmVzdFZhbHVlICsgY2FuZGlkYXRlIn0semw9e21heDoiX0Fbb2Zmc2V0XSIsbWluOiJfQVtvZmZzZXRdIixtZWFuOiIwIixzdW06IjAiLHByb2Q6IjEiLHN1bVNxdWFyZToiMCIsbG9nU3VtRXhwOiIwIixsMToiMCIsbDI6IjAiLGxvZ1N1bToiMCJ9LEJsPXttYXg6ImJlc3RWYWx1ZSIsbWluOiJiZXN0VmFsdWUiLHN1bToiYmVzdFZhbHVlIixwcm9kOiJiZXN0VmFsdWUiLHN1bVNxdWFyZToiYmVzdFZhbHVlIixsb2dTdW1FeHA6ImxvZyhiZXN0VmFsdWUpIixsMToiYmVzdFZhbHVlIixsMjoic3FydChiZXN0VmFsdWUpIixsb2dTdW06ImxvZyhiZXN0VmFsdWUpIn0sUmw9KHQsZSk9PntsZXQgcj1bXTtmb3IobGV0IG49ZS10O248ZTsrK24pci5wdXNoKG4pO3JldHVybiByfSxQbD0odCxlKT0+e2xldCByPVtdLG49dC5sZW5ndGg7Zm9yKGxldCBpPTA7aTxuO2krKyllLmluZGV4T2YoaSk9PT0tMSYmci5wdXNoKHRbaV0pO2xldCBhPWUubWFwKGk9PnRbaV0pO3JldHVybltyLGFdfSxEbD0odCxlKT0+e2xldCByPXQubGVuZ3RoK2UubGVuZ3RoLG49W10sYT0wO2ZvcihsZXQgaT0wO2k8cjtpKyspZS5pbmRleE9mKGkpPT09LTE/bi5wdXNoKHRbYSsrXSk6bi5wdXNoKDEpO3JldHVybiBufSxObD0odCxlKT0+e2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7KytyKWlmKHRbdC5sZW5ndGgtci0xXSE9PWUtMS1yKXJldHVybiExO3JldHVybiEwfSxVbD0odCxlKT0+e2xldCByPVtdO2lmKCFObCh0LGUpKXtmb3IobGV0IG49MDtuPGU7KytuKXQuaW5kZXhPZihuKT09PS0xJiZyLnB1c2gobik7dC5mb3JFYWNoKG49PnIucHVzaChuKSl9cmV0dXJuIHJ9LFdsPSh0LGUscixuLGEsaSxzKT0+e2xldCBvPXJbMF0uZGltcyxsPWVlLnNpemUoaSksZD1lZS5zaXplKHMpLGM9SigiX0EiLHJbMF0uZGF0YVR5cGUsbyksdT12ZSgib3V0cHV0IixhLGkpLGg9MzIsZj1gCiAgICAgICAgICB2YXI8d29ya2dyb3VwPiBhQmVzdFZhbHVlcyA6IGFycmF5PCR7dS50eXBlLnN0b3JhZ2V9LCAke2h9PjsKICAgICAgIGA7cmV0dXJue25hbWU6dCxzaGFkZXJDYWNoZTplLGdldFNoYWRlclNvdXJjZTpnPT5gCiAgICAgICAgJHtnLnJlZ2lzdGVyVW5pZm9ybSgicmVkdWNlU2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMoYyx1KX0KICAgICAgICAke2Z9CiAgICAgICAgZm4gRElWX0NFSUwoYSA6IHUzMiwgYiA6IHUzMikgLT4gdTMyIHsKICAgICAgICAgIHJldHVybiAoKGEgLSAxdSkgLyBiICsgMXUpOwogICAgICAgICB9CiAgICAgICAgICR7Zy5tYWluU3RhcnQoaCl9CgogICAgICAgICAgbGV0IG91dHB1dEluZGV4ID0gZ2xvYmFsX2lkeCAvICR7aH07CiAgICAgICAgICBsZXQgb2Zmc2V0ID0gb3V0cHV0SW5kZXggKiB1bmlmb3Jtcy5yZWR1Y2VTaXplOwoKICAgICAgICAgIHZhciBiZXN0VmFsdWUgPSAke3UudHlwZS5zdG9yYWdlfSgke3psW25dfSk7CiAgICAgICAgICBsZXQgTGVuZ3RoID0gdW5pZm9ybXMucmVkdWNlU2l6ZTsKICAgICAgICAgIGZvciAodmFyIGsgPSBsb2NhbF9pZHg7IGsgPCBMZW5ndGg7IGsgPSBrICsgJHtofSkgewogICAgICAgICAgIGxldCBjYW5kaWRhdGUgPSAke3UudHlwZS5zdG9yYWdlfSgke2MuZ2V0QnlPZmZzZXQoIm9mZnNldCArIGsiKX0pOwogICAgICAgICAgIGJlc3RWYWx1ZSA9ICR7T2xbbl19OwogICAgICAgICAgfQogICAgICAgICAgYUJlc3RWYWx1ZXNbbG9jYWxfaWR4XSA9IGJlc3RWYWx1ZTsKICAgICAgICAgIHdvcmtncm91cEJhcnJpZXIoKTsKCiAgICAgICAgIHZhciByZWR1Y2VTaXplID0gbWluKExlbmd0aCwgJHtofXUpOwogICAgICAgICBmb3IgKHZhciBjdXJyZW50U2l6ZSA9IHJlZHVjZVNpemUgLyAydTsgcmVkdWNlU2l6ZSA+IDF1OwogICAgICAgICAgICAgY3VycmVudFNpemUgPSByZWR1Y2VTaXplIC8gMnUpIHsKICAgICAgICAgICBsZXQgaW50ZXJ2YWwgPSBESVZfQ0VJTChyZWR1Y2VTaXplLCAydSk7CiAgICAgICAgICAgaWYgKGxvY2FsX2lkeCA8IGN1cnJlbnRTaXplKSB7CiAgICAgICAgICAgIGxldCBjYW5kaWRhdGUgPSBhQmVzdFZhbHVlc1tsb2NhbF9pZHggKyBpbnRlcnZhbF07CiAgICAgICAgICAgIGJlc3RWYWx1ZSA9ICR7TWxbbl19OwogICAgICAgICAgICBhQmVzdFZhbHVlc1tsb2NhbF9pZHhdID0gYmVzdFZhbHVlOwogICAgICAgICAgIH0KICAgICAgICAgICByZWR1Y2VTaXplID0gaW50ZXJ2YWw7CiAgICAgICAgICAgd29ya2dyb3VwQmFycmllcigpOwogICAgICAgICB9CgogICAgICAgICBpZiAobG9jYWxfaWR4ID09IDB1KSB7CiAgICAgICAgICAke3Uuc2V0QnlPZmZzZXQoIm91dHB1dEluZGV4IixgJHtuPT09Im1lYW4iP2BiZXN0VmFsdWUgLyAke3UudHlwZS5zdG9yYWdlfSh1bmlmb3Jtcy5yZWR1Y2VTaXplKWA6YCR7Qmxbbl19YH1gKX07CiAgICAgICAgIH0KICAgICAgICB9YCxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmksZGF0YVR5cGU6YX1dLGRpc3BhdGNoR3JvdXA6e3g6bH0scHJvZ3JhbVVuaWZvcm1zOlt7dHlwZToidWludDMyIixkYXRhOmR9XX0pfX0sTnQ9KHQsZSxyLG4pPT57bGV0IGE9dC5pbnB1dHMubGVuZ3RoPT09MT9yOmVzKHQuaW5wdXRzLHIpLGk9YS5heGVzO2kubGVuZ3RoPT09MCYmIWEubm9vcFdpdGhFbXB0eUF4ZXMmJihpPXQuaW5wdXRzWzBdLmRpbXMubWFwKChmLGcpPT5nKSk7bGV0IHM9ZWUubm9ybWFsaXplQXhlcyhpLHQuaW5wdXRzWzBdLmRpbXMubGVuZ3RoKSxvPXMsbD10LmlucHV0c1swXSxkPVVsKG8sdC5pbnB1dHNbMF0uZGltcy5sZW5ndGgpO2QubGVuZ3RoPjAmJihsPXQuY29tcHV0ZShkcih0LmlucHV0c1swXSxkKSx7aW5wdXRzOlswXSxvdXRwdXRzOlstMV19KVswXSxvPVJsKG8ubGVuZ3RoLGwuZGltcy5sZW5ndGgpKTtsZXRbYyx1XT1QbChsLmRpbXMsbyksaD1jO2Eua2VlcERpbXMmJihoPURsKGMscykpLHQuY29tcHV0ZShXbChlLHtoaW50OmEuY2FjaGVLZXksaW5wdXREZXBlbmRlbmNpZXM6WyJ0eXBlIl19LFtsXSxuLHQuaW5wdXRzWzBdLmRhdGFUeXBlLGgsdSkse2lucHV0czpbbF19KX0sTGw9KHQsZSk9PntOdCh0LCJSZWR1Y2VNZWFuU2hhcmVkIixlLCJtZWFuIil9LEZsPSh0LGUpPT57TnQodCwiUmVkdWNlTDFTaGFyZWQiLGUsImwxIil9LFZsPSh0LGUpPT57TnQodCwiUmVkdWNlTDJTaGFyZWQiLGUsImwyIil9LEhsPSh0LGUpPT57TnQodCwiUmVkdWNlTG9nU3VtRXhwU2hhcmVkIixlLCJsb2dTdW1FeHAiKX0sR2w9KHQsZSk9PntOdCh0LCJSZWR1Y2VNYXhTaGFyZWQiLGUsIm1heCIpfSxxbD0odCxlKT0+e050KHQsIlJlZHVjZU1pblNoYXJlZCIsZSwibWluIil9LGpsPSh0LGUpPT57TnQodCwiUmVkdWNlUHJvZFNoYXJlZCIsZSwicHJvZCIpfSxLbD0odCxlKT0+e050KHQsIlJlZHVjZVN1bVNoYXJlZCIsZSwic3VtIil9LFlsPSh0LGUpPT57TnQodCwiUmVkdWNlU3VtU3F1YXJlU2hhcmVkIixlLCJzdW1TcXVhcmUiKX0sWGw9KHQsZSk9PntOdCh0LCJSZWR1Y2VMb2dTdW1TaGFyZWQiLGUsImxvZ1N1bSIpfX0pLFV0LFFsLGthLGVzLFd0LFpsLEpsLGV1LHR1LHJ1LG51LGF1LGl1LHN1LG91LEx0LGx1LHV1LGR1LGN1LHB1LGh1LGZ1LG11LGd1LF91LHRzPVEoKCk9PntJZSgpLGl0KCksQ2UoKSxpXygpLFV0PXQ9PntpZighdHx8dC5sZW5ndGg9PT0wfHx0Lmxlbmd0aD4yKXRocm93IG5ldyBFcnJvcigiUmVkdWNlIG9wIHJlcXVpcmVzIDEgb3IgMiBpbnB1dHMuIik7aWYodC5sZW5ndGg9PT0yJiZ0WzFdLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgYXhlcyBpbnB1dCBkaW1zLiIpfSxRbD10PT5bIiIsIiIsYHZhciB2YWx1ZSA9ICR7dC5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07YCwiIl0sa2E9KHQsZSxyLG4sYSxpLHM9ITEsbz0hMSk9PntsZXQgbD1bXSxkPXJbMF0uZGltcyxjPWQubGVuZ3RoLHU9ZWUubm9ybWFsaXplQXhlcyhhLGMpLGg9IW8mJnUubGVuZ3RoPT09MDtkLmZvckVhY2goKHksdyk9PntofHx1LmluZGV4T2Yodyk+PTA/cyYmbC5wdXNoKDEpOmwucHVzaCh5KX0pO2xldCBmPWwubGVuZ3RoLGc9ZWUuc2l6ZShsKTtyZXR1cm57bmFtZTp0LHNoYWRlckNhY2hlOmUsZ2V0U2hhZGVyU291cmNlOnk9PntsZXQgdz1bXSx2PUooIl9BIixyWzBdLmRhdGFUeXBlLGMpLGs9dmUoIm91dHB1dCIsaSxmKSxFPW4odixrLHUpLHg9RVsyXTtmb3IobGV0IEk9MCxUPTA7STxjO0krKylofHx1LmluZGV4T2YoSSk+PTA/KHMmJlQrKyx4PWBmb3IodmFyIGoke0l9OiB1MzIgPSAwOyBqJHtJfSA8ICR7ZFtJXX07IGoke0l9KyspIHsKICAgICAgICAgICAgICAgICAgJHtFWzJdLmluY2x1ZGVzKCJsYXN0X2luZGV4Iik/YGxldCBsYXN0X2luZGV4ID0gaiR7SX07YDoiIn0KICAgICAgICAgICAgICAgICAgJHt2LmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLEksYGoke0l9YCl9CiAgICAgICAgICAgICAgICAgICR7eH0KICAgICAgICAgICAgICAgIH1gKToody5wdXNoKGAke3YuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIsSSxrLmluZGljZXNHZXQoIm91dHB1dF9pbmRpY2VzIixUKSl9O2ApLFQrKyk7cmV0dXJuYAoKICAgICAgICAke3kucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRfc2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXModixrKX0KCiAgICAgICAgJHt5Lm1haW5TdGFydCgpfQogICAgICAgICAgJHt5Lmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dF9zaXplIil9CiAgICAgICAgICB2YXIgaW5wdXRfaW5kaWNlczogJHt2LnR5cGUuaW5kaWNlc307CiAgICAgICAgICBsZXQgb3V0cHV0X2luZGljZXMgPSAke2sub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9OwoKICAgICAgICAgICR7dy5qb2luKGAKYCl9CiAgICAgICAgICAke0VbMF19ICAgICAgIC8vIGluaXQgb3BzIGZvciByZWR1Y2UgbWF4L21pbgogICAgICAgICAgJHtFWzFdfQogICAgICAgICAgJHt4fQogICAgICAgICAgJHtFWzNdfQogICAgICAgICAgJHtFLmxlbmd0aD09PTQ/ay5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsInZhbHVlIik6RS5zbGljZSg0KS5qb2luKGAKYCl9CiAgICAgICAgfWB9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6bCxkYXRhVHlwZTppfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoZy82NCl9LHByb2dyYW1Vbmlmb3Jtczpbe3R5cGU6InVpbnQzMiIsZGF0YTpnfSwuLi5pZShkKSwuLi5pZShsKV19KX19LGVzPSh0LGUpPT57bGV0IHI9W107cmV0dXJuIHRbMV0uZGltc1swXT4wJiZ0WzFdLmdldEJpZ0ludDY0QXJyYXkoKS5mb3JFYWNoKG49PnIucHVzaChOdW1iZXIobikpKSxxZSh7YXhlczpyLGtlZXBEaW1zOmUua2VlcERpbXMsbm9vcFdpdGhFbXB0eUF4ZXM6ZS5ub29wV2l0aEVtcHR5QXhlc30pfSxXdD0odCxlLHIsbik9PntsZXQgYT10LmlucHV0cyxpPWEubGVuZ3RoPT09MT9yOmVzKGEscik7dC5jb21wdXRlKGthKGUse2hpbnQ6aS5jYWNoZUtleSxpbnB1dERlcGVuZGVuY2llczpbInJhbmsiXX0sW2FbMF1dLGkubm9vcFdpdGhFbXB0eUF4ZXMmJmkuYXhlcy5sZW5ndGg9PT0wP1FsOm4saS5heGVzLGFbMF0uZGF0YVR5cGUsaS5rZWVwRGltcyxpLm5vb3BXaXRoRW1wdHlBeGVzKSx7aW5wdXRzOlswXX0pfSxabD0odCxlKT0+e1V0KHQuaW5wdXRzKSxXdCh0LCJSZWR1Y2VMb2dTdW0iLGUsKHIsbik9PltgdmFyIHZhbHVlID0gJHtuLnR5cGUuc3RvcmFnZX0oMCk7YCwiIixgdmFsdWUgKz0gJHtyLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTtgLCJ2YWx1ZSA9IGxvZyh2YWx1ZSk7Il0pfSxKbD0odCxlKT0+e1V0KHQuaW5wdXRzKSxXdCh0LCJSZWR1Y2VMMSIsZSwocixuKT0+W2B2YXIgdmFsdWUgPSAke24udHlwZS5zdG9yYWdlfSgwKTtgLCIiLGB2YWx1ZSArPSBhYnMoJHtyLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfSk7YCwiIl0pfSxldT0odCxlKT0+e1V0KHQuaW5wdXRzKSxXdCh0LCJSZWR1Y2VMMiIsZSwocixuKT0+W2B2YXIgdCA9ICR7bi50eXBlLnZhbHVlfSgwKTsgdmFyIHZhbHVlID0gJHtuLnR5cGUudmFsdWV9KDApO2AsIiIsYHQgPSAke3IuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9OyB2YWx1ZSArPSAodCAqIHQpO2AsInZhbHVlID0gc3FydCh2YWx1ZSk7Il0pfSx0dT0odCxlKT0+e1V0KHQuaW5wdXRzKSxXdCh0LCJSZWR1Y2VMb2dTdW1FeHAiLGUsKHIsbik9PltgdmFyIHZhbHVlID0gJHtuLnR5cGUuc3RvcmFnZX0oMCk7YCwiIixgdmFsdWUgKz0gZXhwKCR7ci5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX0pO2AsInZhbHVlID0gbG9nKHZhbHVlKTsiXSl9LHJ1PSh0LGUpPT57VXQodC5pbnB1dHMpLFd0KHQsIlJlZHVjZU1heCIsZSwocixuLGEpPT57bGV0IGk9W107Zm9yKGxldCBzPTA7czxyLnJhbms7cysrKShhLmluZGV4T2Yocyk+PTB8fGEubGVuZ3RoPT09MCkmJmkucHVzaChyLmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLHMsMCkpO3JldHVybltgJHtpLmpvaW4oYApgKX1gLGB2YXIgdmFsdWUgPSAke3IuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9O2AsYHZhbHVlID0gbWF4KHZhbHVlLCAke3IuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9KTtgLCIiXX0pfSxudT0odCxlKT0+e1V0KHQuaW5wdXRzKSxXdCh0LCJSZWR1Y2VNZWFuIixlLChyLG4sYSk9PntsZXQgaT0xO2ZvcihsZXQgcz0wO3M8ci5yYW5rO3MrKykoYS5pbmRleE9mKHMpPj0wfHxhLmxlbmd0aD09PTApJiYoaSo9dC5pbnB1dHNbMF0uZGltc1tzXSk7cmV0dXJuWyJ2YXIgc3VtID0gZjMyKDApOyIsIiIsYHN1bSArPSBmMzIoJHtyLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfSk7YCxgbGV0IHZhbHVlID0gJHtuLnR5cGUudmFsdWV9KHN1bSAvICR7aX0pO2BdfSl9LGF1PSh0LGUpPT57VXQodC5pbnB1dHMpLFd0KHQsIlJlZHVjZU1pbiIsZSwocixuLGEpPT57bGV0IGk9W107Zm9yKGxldCBzPTA7czxyLnJhbms7cysrKShhLmluZGV4T2Yocyk+PTB8fGEubGVuZ3RoPT09MCkmJmkucHVzaChgaW5wdXRfaW5kaWNlc1ske3N9XSA9IDA7YCk7cmV0dXJuW2Ake2kuam9pbihgCmApfWAsYHZhciB2YWx1ZSA9ICR7ci5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07YCxgdmFsdWUgPSBtaW4odmFsdWUsICR7ci5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX0pO2AsIiJdfSl9LGl1PSh0LGUpPT57VXQodC5pbnB1dHMpLFd0KHQsIlJlZHVjZVByb2QiLGUsKHIsbik9PltgdmFyIHZhbHVlID0gJHtuLnR5cGUuc3RvcmFnZX0oMSk7YCwiIixgdmFsdWUgKj0gJHtyLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTtgLCIiXSl9LHN1PSh0LGUpPT57VXQodC5pbnB1dHMpLFd0KHQsIlJlZHVjZVN1bSIsZSwocixuKT0+W2B2YXIgdmFsdWUgPSAke24udHlwZS5zdG9yYWdlfSgwKTtgLCIiLGB2YWx1ZSArPSAke3IuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9O2AsIiJdKX0sb3U9KHQsZSk9PntVdCh0LmlucHV0cyksV3QodCwiUmVkdWNlU3VtU3F1YXJlIixlLChyLG4pPT5bYHZhciB0ID0gJHtuLnR5cGUudmFsdWV9KDApOyB2YXIgdmFsdWUgPSAke24udHlwZS52YWx1ZX0oMCk7YCwiIixgdCA9ICR7ci5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07IHZhbHVlICs9IHQgKiB0O2AsIiJdKX0sTHQ9KHQsZSxyKT0+e2lmKGUubGVuZ3RoPT09MClyZXR1cm4gcjtsZXQgbj0xLGE9MTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyllLmluZGV4T2YoaSk9PT0tMT9uKj10W2ldOmEqPXRbaV07cmV0dXJuIGE8MzImJm4+MTAyNH0sbHU9KHQsZSk9PntMdCh0LmlucHV0c1swXS5kaW1zLGUuYXhlcyxlLm5vb3BXaXRoRW1wdHlBeGVzKT9udSh0LGUpOkxsKHQsZSl9LHV1PSh0LGUpPT57THQodC5pbnB1dHNbMF0uZGltcyxlLmF4ZXMsZS5ub29wV2l0aEVtcHR5QXhlcyk/SmwodCxlKTpGbCh0LGUpfSxkdT0odCxlKT0+e0x0KHQuaW5wdXRzWzBdLmRpbXMsZS5heGVzLGUubm9vcFdpdGhFbXB0eUF4ZXMpP2V1KHQsZSk6VmwodCxlKX0sY3U9KHQsZSk9PntMdCh0LmlucHV0c1swXS5kaW1zLGUuYXhlcyxlLm5vb3BXaXRoRW1wdHlBeGVzKT90dSh0LGUpOkhsKHQsZSl9LHB1PSh0LGUpPT57THQodC5pbnB1dHNbMF0uZGltcyxlLmF4ZXMsZS5ub29wV2l0aEVtcHR5QXhlcyk/cnUodCxlKTpHbCh0LGUpfSxodT0odCxlKT0+e0x0KHQuaW5wdXRzWzBdLmRpbXMsZS5heGVzLGUubm9vcFdpdGhFbXB0eUF4ZXMpP2F1KHQsZSk6cWwodCxlKX0sZnU9KHQsZSk9PntMdCh0LmlucHV0c1swXS5kaW1zLGUuYXhlcyxlLm5vb3BXaXRoRW1wdHlBeGVzKT9pdSh0LGUpOmpsKHQsZSl9LG11PSh0LGUpPT57THQodC5pbnB1dHNbMF0uZGltcyxlLmF4ZXMsZS5ub29wV2l0aEVtcHR5QXhlcyk/c3UodCxlKTpLbCh0LGUpfSxndT0odCxlKT0+e0x0KHQuaW5wdXRzWzBdLmRpbXMsZS5heGVzLGUubm9vcFdpdGhFbXB0eUF4ZXMpP291KHQsZSk6WWwodCxlKX0sX3U9KHQsZSk9PntMdCh0LmlucHV0c1swXS5kaW1zLGUuYXhlcyxlLm5vb3BXaXRoRW1wdHlBeGVzKT9abCh0LGUpOlhsKHQsZSl9fSkscnMseXUsd3UsbnMsc189USgoKT0+e1llKCksaXQoKSx0cygpLHJzPXQ9PntpZighdHx8dC5sZW5ndGg9PT0wfHx0Lmxlbmd0aD4yKXRocm93IG5ldyBFcnJvcigiQXJnTWluTWF4T3Agb3AgcmVxdWlyZXMgMSBvciAyIGlucHV0cy4iKTtpZih0WzBdLmRhdGFUeXBlIT09MSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdHlwZS4iKX0seXU9KHQsZSk9Pntycyh0LmlucHV0cyk7bGV0IHI9KG4sYSxpKT0+e2xldCBzPVtdO2ZvcihsZXQgbz0wO288bi5yYW5rO28rKykoaS5pbmRleE9mKG8pPj0wfHxpLmxlbmd0aD09PTApJiZzLnB1c2goYGlucHV0X2luZGljZXNbJHtvfV0gPSAwO2ApO3JldHVybltgJHtzLmpvaW4oYApgKX1gLGB2YXIgdmFsdWUgPSAke24uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9Owp2YXIgYmVzdF9pbmRleCA6IGkzMiA9IDA7YCxgaWYgKCR7bi5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX0gJHtlLnNlbGVjdExhc3RJbmRleD4wPyI8PSI6IjwifSB2YWx1ZSkgewogICAgICAgICB2YWx1ZSA9ICR7bi5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07CiAgICAgICAgIGJlc3RfaW5kZXggPSBpMzIobGFzdF9pbmRleCk7CiAgICAgICB9YCwiIixhLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwiYmVzdF9pbmRleCIpXX07dC5jb21wdXRlKGthKCJBcmdNaW4iLHtoaW50OmUuY2FjaGVLZXksaW5wdXREZXBlbmRlbmNpZXM6WyJyYW5rIl19LFt0LmlucHV0c1swXV0scixbZS5heGlzXSw3LGUua2VlcERpbXMpLHtpbnB1dHM6WzBdfSl9LHd1PSh0LGUpPT57cnModC5pbnB1dHMpO2xldCByPShuLGEsaSk9PntsZXQgcz1bXTtmb3IobGV0IG89MDtvPG4ucmFuaztvKyspKGkuaW5kZXhPZihvKT49MHx8aS5sZW5ndGg9PT0wKSYmcy5wdXNoKGBpbnB1dF9pbmRpY2VzWyR7b31dID0gMDtgKTtyZXR1cm5bYCR7cy5qb2luKGAKYCl9YCxgdmFyIHZhbHVlID0gJHtuLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTsKdmFyIGJlc3RfaW5kZXggOiBpMzIgPSAwO2AsYGlmICgke24uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9ICR7ZS5zZWxlY3RMYXN0SW5kZXg+MD8iPj0iOiI+In0gdmFsdWUpIHsKICAgICAgICAgdmFsdWUgPSAke24uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9OwogICAgICAgICBiZXN0X2luZGV4ID0gaTMyKGxhc3RfaW5kZXgpOwogICAgICAgfWAsIiIsYS5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsImJlc3RfaW5kZXgiKV19O3QuY29tcHV0ZShrYSgiYXJnTWF4Iix7aGludDplLmNhY2hlS2V5LGlucHV0RGVwZW5kZW5jaWVzOlsicmFuayJdfSxbdC5pbnB1dHNbMF1dLHIsW2UuYXhpc10sNyxlLmtlZXBEaW1zKSx7aW5wdXRzOlswXX0pfSxucz10PT5xZSh0KX0pLHZ1LGJ1LCR1LHh1LFNhLGt1LFN1LEV1PVEoKCk9PntZZSgpLGppKCksQ2UoKSx2dT0odCxlKT0+e2xldCByPXRbMF0sbj10WzFdLGE9dFsyXSxpPXRbM10scz10WzRdLG89dFs1XTtpZihzJiZvKXRocm93IG5ldyBFcnJvcigiQXR0ZW50aW9uIGNhbm5vdCBoYXZlIGJvdGggcGFzdCBhbmQgcmVsYXRpdmVfcG9zaXRpb25fYmlhcyIpO2lmKHIuZGltcy5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcignSW5wdXQgImlucHV0IiBtdXN0IGhhdmUgMyBkaW1lbnNpb25zJyk7bGV0IGw9ci5kaW1zWzBdLGQ9ci5kaW1zWzFdLGM9ci5kaW1zWzJdO2lmKGEuZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcignSW5wdXQgImJpYXMiIGlzIGV4cGVjdGVkIHRvIGhhdmUgMSBkaW1lbnNpb25zJyk7aWYobi5kaW1zLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAid2VpZ2h0cyIgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAyIGRpbWVuc2lvbnMnKTtpZihuLmRpbXNbMF0hPT1jKXRocm93IG5ldyBFcnJvcigiSW5wdXQgMSBkaW1lbnNpb24gMCBzaG91bGQgaGF2ZSBzYW1lIGxlbmd0aCBhcyBkaW1lbnNpb24gMiBvZiBpbnB1dCAwIik7aWYoYS5kaW1zWzBdIT09bi5kaW1zWzFdKXRocm93IG5ldyBFcnJvcignSW5wdXQgImJpYXMiIGRpbWVuc2lvbiAwIHNob3VsZCBoYXZlIHNhbWUgbGVuZ3RoIGFzIGRpbWVuc2lvbiAxIG9mIGlucHV0ICJ3ZWlnaHRzIicpO2xldCB1PWEuZGltc1swXS8zLGg9dSxmPWg7aWYoZS5xa3ZIaWRkZW5TaXplcy5sZW5ndGg+MCl7aWYoZS5xa3ZIaWRkZW5TaXplcy5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcigicWt2X2hpZGRlbl9zaXplcyBhdHRyaWJ1dGUgc2hvdWxkIGhhdmUgMyBlbGVtZW50cyIpO2ZvcihsZXQgRSBvZiBlLnFrdkhpZGRlblNpemVzKWlmKEUlZS5udW1IZWFkcyE9PTApdGhyb3cgbmV3IEVycm9yKCJxa3ZfaGlkZGVuX3NpemVzIHNob3VsZCBiZSBkaXZpc2libGUgYnkgbnVtX2hlYWRzIik7dT1lLnFrdkhpZGRlblNpemVzWzBdLGg9ZS5xa3ZIaWRkZW5TaXplc1sxXSxmPWUucWt2SGlkZGVuU2l6ZXNbMl19bGV0IGc9ZDtpZih1IT09aCl0aHJvdyBuZXcgRXJyb3IoInFrdl9oaWRkZW5fc2l6ZXMgZmlyc3QgZWxlbWVudCBzaG91bGQgYmUgc2FtZSBhcyB0aGUgc2Vjb25kIik7aWYoYS5kaW1zWzBdIT09dStoK2YpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAiYmlhcyIgZGltZW5zaW9uIDAgc2hvdWxkIGhhdmUgc2FtZSBsZW5ndGggYXMgc3VtIG9mIFEvSy9WIGhpZGRlbiBzaXplcycpO2xldCB5PTA7aWYocyl7aWYoaCE9PWYpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAicGFzdCIgZXhwZWN0IGtfaGlkZGVuX3NpemUgPT0gdl9oaWRkZW5fc2l6ZScpO2lmKHMuZGltcy5sZW5ndGghPT01KXRocm93IG5ldyBFcnJvcignSW5wdXQgInBhc3QiIG11c3QgaGF2ZSA1IGRpbWVuc2lvbnMnKTtpZihzLmRpbXNbMF0hPT0yKXRocm93IG5ldyBFcnJvcignSW5wdXQgInBhc3QiIGZpcnN0IGRpbWVuc2lvbiBtdXN0IGJlIDInKTtpZihzLmRpbXNbMV0hPT1sKXRocm93IG5ldyBFcnJvcignSW5wdXQgInBhc3QiIHNlY29uZCBkaW1lbnNpb24gbXVzdCBiZSBiYXRjaF9zaXplJyk7aWYocy5kaW1zWzJdIT09ZS5udW1IZWFkcyl0aHJvdyBuZXcgRXJyb3IoJ0lucHV0ICJwYXN0IiB0aGlyZCBkaW1lbnNpb24gbXVzdCBiZSBudW1faGVhZHMnKTtpZihzLmRpbXNbNF0hPT1oL2UubnVtSGVhZHMpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAicGFzdCIgZmlmdGggZGltZW5zaW9uIG11c3QgYmUga19oaWRkZW5fc2l6ZSAvIG51bV9oZWFkcycpO2UucGFzdFByZXNlbnRTaGFyZUJ1ZmZlcnx8KHk9cy5kaW1zWzNdKX1sZXQgdz1nK3ksdj0tMSxrPTA7aWYoaSl0aHJvdyBuZXcgRXJyb3IoIk1hc2sgbm90IHN1cHBvcnRlZCIpO2lmKHMpdGhyb3cgbmV3IEVycm9yKCJwYXN0IGlzIG5vdCBzdXBwb3J0ZWQiKTtpZihvKXRocm93IG5ldyBFcnJvcigicmVsYXRpdmVQb3NpdGlvbkJpYXMgaXMgbm90IHN1cHBvcnRlZCIpO3JldHVybntiYXRjaFNpemU6bCxzZXF1ZW5jZUxlbmd0aDpkLHBhc3RTZXF1ZW5jZUxlbmd0aDp5LGt2U2VxdWVuY2VMZW5ndGg6Zyx0b3RhbFNlcXVlbmNlTGVuZ3RoOncsbWF4U2VxdWVuY2VMZW5ndGg6dixpbnB1dEhpZGRlblNpemU6YyxoaWRkZW5TaXplOnUsdkhpZGRlblNpemU6ZixoZWFkU2l6ZTpNYXRoLmZsb29yKHUvZS5udW1IZWFkcyksdkhlYWRTaXplOk1hdGguZmxvb3IoZi9lLm51bUhlYWRzKSxudW1IZWFkczplLm51bUhlYWRzLGlzVW5pZGlyZWN0aW9uYWw6ITEscGFzdFByZXNlbnRTaGFyZUJ1ZmZlcjohMSxtYXNrRmlsdGVyVmFsdWU6ZS5tYXNrRmlsdGVyVmFsdWUsbWFza1R5cGU6ayxzY2FsZTplLnNjYWxlLGJyb2FkY2FzdFJlc1Bvc0JpYXM6ITEscGFzc1Bhc3RJbkt2OiExLHFrdkZvcm1hdDoxfX0sYnU9KHQsZSxyLG4pPT57bGV0IGE9dnQobiksaT02NCxzPW4vYTtzPGk/aT0xOnMvODw2NCYmKGk9TWF0aC5jZWlsKHMvOCkpO2xldCBvPU1hdGguY2VpbChuL2EvaSksbD1be3R5cGU6anQoZS5kYXRhVHlwZSksZGF0YToxL259LHt0eXBlOiJ1aW50MzIiLGRhdGE6c30se3R5cGU6InVpbnQzMiIsZGF0YTpvfV0sZD1JdChlLmRhdGFUeXBlLGEpLGM9dT0+e2xldCBoPXZlKCJ4IixlLmRhdGFUeXBlLGUuZGltcyxhKSxmPSJ0aHJlYWRfbWF4X3ZlY3RvciI7YT09PTI/Zj0ibWF4KHRocmVhZF9tYXhfdmVjdG9yLngsIHRocmVhZF9tYXhfdmVjdG9yLnkpIjphPT09NCYmKGY9Im1heChtYXgodGhyZWFkX21heF92ZWN0b3IueCwgdGhyZWFkX21heF92ZWN0b3IueSksIG1heCh0aHJlYWRfbWF4X3ZlY3Rvci56LCB0aHJlYWRfbWF4X3ZlY3Rvci53KSkiKTtsZXQgZz1ucihlLmRhdGFUeXBlKSx5PVt7bmFtZToiZF9pbnYiLHR5cGU6Z30se25hbWU6ImRfY29tcCIsdHlwZToidTMyIn0se25hbWU6ImVsZW1lbnRzX3Blcl93ZyIsdHlwZToidTMyIn1dO3JldHVybmAKICB2YXI8d29ya2dyb3VwPiB3Z01heDogYXJyYXk8ZjMyLCAke2l9PjsKICB2YXI8d29ya2dyb3VwPiB3Z1N1bTogYXJyYXk8ZjMyLCAke2l9PjsKICAke3UucmVnaXN0ZXJVbmlmb3Jtcyh5KS5kZWNsYXJlVmFyaWFibGVzKGgpfQogICR7dS5tYWluU3RhcnQoW2ksMSwxXSl9CiAgICBsZXQgbG9jYWxPZmZzZXQgPSBsb2NhbF9pZHggKiB1bmlmb3Jtcy5lbGVtZW50c19wZXJfd2c7CiAgICBsZXQgb2Zmc2V0OiB1MzIgPSB3b3JrZ3JvdXBfaWQueCAqIHVuaWZvcm1zLmRfY29tcCArIGxvY2FsT2Zmc2V0OwoKICAgIHZhciB0aHJlYWRfbWF4X3ZlY3RvciA9ICR7YnQoImYzMiIsYSwiLTMuNDAyODIzZSszOGYiKX07CiAgICBmb3IgKHZhciBpOiB1MzIgPSAwOyBpIDwgdW5pZm9ybXMuZWxlbWVudHNfcGVyX3dnICYmIGkgKyBsb2NhbE9mZnNldCA8IHVuaWZvcm1zLmRfY29tcDsgaSsrKSB7CiAgICAgIHRocmVhZF9tYXhfdmVjdG9yID0gbWF4KCR7YXIoZyxhLCJ4W29mZnNldCArIGldIil9LCB0aHJlYWRfbWF4X3ZlY3Rvcik7CiAgICB9CiAgICB3Z01heFtsb2NhbF9pZHhdID0gJHtmfTsKICAgIHdvcmtncm91cEJhcnJpZXIoKTsKCiAgICB2YXIgbWF4VmFsdWUgPSAtMy40MDI4MjNlKzM4ZjsKICAgIGZvciAodmFyIGkgPSAwdTsgaSA8ICR7aX07IGkrKykgewogICAgICBtYXhWYWx1ZSA9IG1heCh3Z01heFtpXSwgbWF4VmFsdWUpOwogICAgfQoKICAgIHZhciBzdW1WZWN0b3IgPSAke2J0KCJmMzIiLGEsIjAiKX07CiAgICBmb3IgKHZhciBpOiB1MzIgPSAwOyBpIDwgdW5pZm9ybXMuZWxlbWVudHNfcGVyX3dnICYmIGkgKyBsb2NhbE9mZnNldCA8IHVuaWZvcm1zLmRfY29tcDsgaSsrKSB7CiAgICAgIHN1bVZlY3RvciArPSBleHAoJHthcihnLGEsInhbb2Zmc2V0ICsgaV0iKX0gLSBtYXhWYWx1ZSk7CiAgICB9CiAgICB3Z1N1bVtsb2NhbF9pZHhdID0gJHtLdCgic3VtVmVjdG9yIixhKX07CiAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CgogICAgdmFyIHN1bTogZjMyID0gMDsKICAgIGZvciAodmFyIGkgPSAwdTsgaSA8ICR7aX07IGkrKykgewogICAgICBzdW0gKz0gd2dTdW1baV07CiAgICB9CgogICAgaWYgKHN1bSA9PSAwKSB7CiAgICAgIGZvciAodmFyIGk6IHUzMiA9IDA7IGkgPCB1bmlmb3Jtcy5lbGVtZW50c19wZXJfd2cgJiYgaSArIGxvY2FsT2Zmc2V0IDwgdW5pZm9ybXMuZF9jb21wOyBpKyspIHsKICAgICAgICB4W29mZnNldCArIGldID0gJHtidCgiZjMyIixhLCJ1bmlmb3Jtcy5kX2ludiIpfTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgZm9yICh2YXIgaTogdTMyID0gMDsgaSA8IHVuaWZvcm1zLmVsZW1lbnRzX3Blcl93ZyAmJiBpICsgbG9jYWxPZmZzZXQgPCB1bmlmb3Jtcy5kX2NvbXA7IGkrKykgewogICAgICAgIGxldCBmMzJpbnB1dCA9ICR7YXIoZyxhLCJ4W29mZnNldCArIGldIil9OwogICAgICAgIHhbb2Zmc2V0ICsgaV0gPSAke2gudHlwZS52YWx1ZX0oZXhwKGYzMmlucHV0IC0gbWF4VmFsdWUpIC8gc3VtKTsKICAgICAgfQogICAgfQogIH1gfTt0LmNvbXB1dGUoe25hbWU6IkF0dGVudGlvblByb2JzU29mdG1heCIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7aX07JHtkfTske2F9YH0sZ2V0U2hhZGVyU291cmNlOmMsZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOltdLGRpc3BhdGNoR3JvdXA6e3g6cn0scHJvZ3JhbVVuaWZvcm1zOmx9KX0se2lucHV0czpbZV0sb3V0cHV0czpbXX0pfSwkdT0odCxlLHIsbixhLGkpPT57bGV0IHM9W2EuYmF0Y2hTaXplLGEubnVtSGVhZHMsYS5zZXF1ZW5jZUxlbmd0aCxhLmt2U2VxdWVuY2VMZW5ndGgrYS5wYXN0U2VxdWVuY2VMZW5ndGhdLG89aS5zY2FsZT09PTA/MS9NYXRoLnNxcnQoYS5oZWFkU2l6ZSk6aS5zY2FsZSxsPXZ0KGEuaGVhZFNpemUpLGQ9YS5oZWFkU2l6ZS9sLGM9MTIsdT17eDpNYXRoLmNlaWwoYS50b3RhbFNlcXVlbmNlTGVuZ3RoL2MpLHk6TWF0aC5jZWlsKGEuc2VxdWVuY2VMZW5ndGgvYyksejphLmJhdGNoU2l6ZSphLm51bUhlYWRzfSxoPWp0KGUuZGF0YVR5cGUpLGY9W3t0eXBlOiJ1aW50MzIiLGRhdGE6YS5zZXF1ZW5jZUxlbmd0aH0se3R5cGU6InVpbnQzMiIsZGF0YTpkfSx7dHlwZToidWludDMyIixkYXRhOmEudG90YWxTZXF1ZW5jZUxlbmd0aH0se3R5cGU6InVpbnQzMiIsZGF0YTphLmt2U2VxdWVuY2VMZW5ndGh9LHt0eXBlOmgsZGF0YTpvfV0sZz1bZSxyXSx5PXY9PntsZXQgaz1KKCJxIixlLmRhdGFUeXBlLGUuZGltcyxsKSxFPUooImtleSIsci5kYXRhVHlwZSxyLmRpbXMsbCkseD12ZSgib3V0cHV0IixlLmRhdGFUeXBlLHMpLEk9SXQoZS5kYXRhVHlwZSksVD1be25hbWU6Ik0iLHR5cGU6InUzMiJ9LHtuYW1lOiJLIix0eXBlOiJ1MzIifSx7bmFtZToiTiIsdHlwZToidTMyIn0se25hbWU6Imt2X3NlcXVlbmNlX2xlbmd0aCIsdHlwZToidTMyIn0se25hbWU6ImFscGhhIix0eXBlOkl9XTtyZXR1cm5gCiAgY29uc3QgYmV0YTogJHtJfSA9IDEuMDsKICBjb25zdCBUSUxFX1NJWkUgPSAke2N9dTsKCiAgdmFyPHdvcmtncm91cD4gdGlsZVE6IGFycmF5PCR7ay50eXBlLnN0b3JhZ2V9LCAke2MqY30+OwogIHZhcjx3b3JrZ3JvdXA+IHRpbGVLOiBhcnJheTwke2sudHlwZS5zdG9yYWdlfSwgJHtjKmN9PjsKICAke3YucmVnaXN0ZXJVbmlmb3JtcyhUKS5kZWNsYXJlVmFyaWFibGVzKGssRSx4KX0KICAke3YubWFpblN0YXJ0KFtjLGMsMV0pfQogICAgLy8geCBob2xkcyB0aGUgTiBhbmQgeSBob2xkcyB0aGUgTQogICAgbGV0IGhlYWRJZHggPSB3b3JrZ3JvdXBfaWQuejsKICAgIGxldCBtID0gd29ya2dyb3VwX2lkLnkgKiBUSUxFX1NJWkU7CiAgICBsZXQgbiA9IHdvcmtncm91cF9pZC54ICogVElMRV9TSVpFOwogICAgbGV0IGxtID0gbSArIGxvY2FsX2lkLnk7CiAgICBsZXQgbG4gPSBuICsgbG9jYWxfaWQueDsKCiAgICBsZXQgcU9mZnNldCA9IHVuaWZvcm1zLk0gKiB1bmlmb3Jtcy5LICogaGVhZElkeCArIG0gKiB1bmlmb3Jtcy5LOwogICAgbGV0IGtPZmZzZXQgPSB1bmlmb3Jtcy5rdl9zZXF1ZW5jZV9sZW5ndGggKiB1bmlmb3Jtcy5LICogaGVhZElkeCArIG4gKiB1bmlmb3Jtcy5LOwoKICAgIHZhciB2YWx1ZSA9ICR7YnQoSSxsKX07CiAgICBmb3IgKHZhciB3OiB1MzIgPSAwdTsgdyA8IHVuaWZvcm1zLks7IHcgKz0gVElMRV9TSVpFKSB7CiAgICAgIGlmIChtICsgbG9jYWxfaWQueSA8IHVuaWZvcm1zLk0gJiYgdyArIGxvY2FsX2lkLnggPCB1bmlmb3Jtcy5LKSB7CiAgICAgICAgdGlsZVFbVElMRV9TSVpFICogbG9jYWxfaWQueSArIGxvY2FsX2lkLnhdID0gcVtxT2Zmc2V0ICsgbG9jYWxfaWQueSAqIHVuaWZvcm1zLksgKyB3ICsgbG9jYWxfaWQueF07CiAgICAgIH0KICAgICAgaWYgKG4gKyBsb2NhbF9pZC55IDwgdW5pZm9ybXMuTiAmJiB3ICsgbG9jYWxfaWQueCA8IHVuaWZvcm1zLkspIHsKICAgICAgICB0aWxlS1tUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgbG9jYWxfaWQueF0gPSBrZXlba09mZnNldCArIGxvY2FsX2lkLnkgKiB1bmlmb3Jtcy5LICsgdyArIGxvY2FsX2lkLnhdOwogICAgICB9CiAgICAgIHdvcmtncm91cEJhcnJpZXIoKTsKCiAgICAgIGZvciAodmFyIGs6IHUzMiA9IDB1OyBrPFRJTEVfU0laRSAmJiB3K2sgPCB1bmlmb3Jtcy5LOyBrKyspIHsKICAgICAgICB2YWx1ZSArPSB0aWxlUVtUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsga10gKiB0aWxlS1tUSUxFX1NJWkUgKiBsb2NhbF9pZC54ICsga107CiAgICAgIH0KCiAgICAgIHdvcmtncm91cEJhcnJpZXIoKTsKICAgIH0KCiAgICBsZXQgaGVhZE9mZnNldCA9IGhlYWRJZHggKiB1bmlmb3Jtcy5NICogdW5pZm9ybXMuTjsKICAgIGlmIChsbSA8IHVuaWZvcm1zLk0gJiYgbG4gPCB1bmlmb3Jtcy5OKSB7CiAgICAgIGxldCBvdXRwdXRJZHggPSBoZWFkT2Zmc2V0ICsgbG0gKiB1bmlmb3Jtcy5OICsgbG47CiAgICAgIG91dHB1dFtvdXRwdXRJZHhdID0gJHtLdCgidmFsdWUiLGwpfSAqIHVuaWZvcm1zLmFscGhhOwogICAgfQogIH1gfSx3PXQuY29tcHV0ZSh7bmFtZToiQXR0ZW50aW9uUHJvYnMiLHNoYWRlckNhY2hlOntoaW50OmAke2x9YCxpbnB1dERlcGVuZGVuY2llczpbInR5cGUiLCJ0eXBlIl19LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cyxkYXRhVHlwZTplLmRhdGFUeXBlLGdwdURhdGFUeXBlOjB9XSxkaXNwYXRjaEdyb3VwOnUscHJvZ3JhbVVuaWZvcm1zOmZ9KSxnZXRTaGFkZXJTb3VyY2U6eX0se2lucHV0czpnLG91dHB1dHM6Wy0xXX0pWzBdO3JldHVybiBidSh0LHcsYS5iYXRjaFNpemUqYS5udW1IZWFkcyphLnNlcXVlbmNlTGVuZ3RoLGEudG90YWxTZXF1ZW5jZUxlbmd0aCksd30seHU9KHQsZSxyLG4pPT57bGV0IGE9W24uYmF0Y2hTaXplLG4uc2VxdWVuY2VMZW5ndGgsbi52SGlkZGVuU2l6ZV0saT0xMixzPXt4Ok1hdGguY2VpbChuLnZIZWFkU2l6ZS9pKSx5Ok1hdGguY2VpbChuLnNlcXVlbmNlTGVuZ3RoL2kpLHo6bi5iYXRjaFNpemUqbi5udW1IZWFkc30sbz1be3R5cGU6InVpbnQzMiIsZGF0YTpuLnNlcXVlbmNlTGVuZ3RofSx7dHlwZToidWludDMyIixkYXRhOm4udG90YWxTZXF1ZW5jZUxlbmd0aH0se3R5cGU6InVpbnQzMiIsZGF0YTpuLnZIZWFkU2l6ZX0se3R5cGU6InVpbnQzMiIsZGF0YTpuLm51bUhlYWRzfSx7dHlwZToidWludDMyIixkYXRhOm4udkhpZGRlblNpemV9XSxsPWQ9PntsZXQgYz1KKCJwcm9icyIsZS5kYXRhVHlwZSxlLmRpbXMpLHU9SigidiIsci5kYXRhVHlwZSxyLmRpbXMpLGg9dmUoIm91dHB1dCIsZS5kYXRhVHlwZSxhKSxmPVt7bmFtZToiTSIsdHlwZToidTMyIn0se25hbWU6IksiLHR5cGU6InUzMiJ9LHtuYW1lOiJOIix0eXBlOiJ1MzIifSx7bmFtZToibnVtX2hlYWRzIix0eXBlOiJ1MzIifSx7bmFtZToidl9oaWRkZW5fc2l6ZSIsdHlwZToidTMyIn1dO3JldHVybmAKICBjb25zdCBUSUxFX1NJWkUgPSAke2l9dTsKICB2YXI8d29ya2dyb3VwPiB0aWxlUTogYXJyYXk8JHtjLnR5cGUudmFsdWV9LCAke2kqaX0+OwogIHZhcjx3b3JrZ3JvdXA+IHRpbGVLOiBhcnJheTwke2MudHlwZS52YWx1ZX0sICR7aSppfT47CiAgJHtkLnJlZ2lzdGVyVW5pZm9ybXMoZikuZGVjbGFyZVZhcmlhYmxlcyhjLHUsaCl9CiAgJHtkLm1haW5TdGFydChbaSxpLDFdKX0KICAgbGV0IGhlYWRJZHggPSB3b3JrZ3JvdXBfaWQuejsKICAgbGV0IG0gPSB3b3JrZ3JvdXBfaWQueSAqIFRJTEVfU0laRSArIGxvY2FsX2lkLnk7CiAgIGxldCBuID0gd29ya2dyb3VwX2lkLnggKiBUSUxFX1NJWkUgKyBsb2NhbF9pZC54OwoKICAgbGV0IG9mZnNldEEgPSBoZWFkSWR4ICogKHVuaWZvcm1zLk0gKiB1bmlmb3Jtcy5LKSArIG0gKiB1bmlmb3Jtcy5LOwogICBsZXQgb2Zmc2V0QiA9IGhlYWRJZHggKiAodW5pZm9ybXMuTiAqIHVuaWZvcm1zLkspICsgbjsKCiAgIHZhciB2YWx1ZSA9ICR7Yy50eXBlLnN0b3JhZ2V9KDApOwogICBmb3IgKHZhciB3OiB1MzIgPSAwdTsgdyA8IHVuaWZvcm1zLks7IHcgKz0gVElMRV9TSVpFKSB7CiAgICAgaWYgKG0gPCB1bmlmb3Jtcy5NICYmIHcgKyBsb2NhbF9pZC54IDwgdW5pZm9ybXMuSykgewogICAgICAgdGlsZVFbVElMRV9TSVpFICogbG9jYWxfaWQueSArIGxvY2FsX2lkLnhdID0gcHJvYnNbb2Zmc2V0QSArIHcgKyBsb2NhbF9pZC54XTsKICAgICB9CiAgICAgaWYgKG4gPCB1bmlmb3Jtcy5OICYmIHcgKyBsb2NhbF9pZC55IDwgdW5pZm9ybXMuSykgewogICAgICAgdGlsZUtbVElMRV9TSVpFICogbG9jYWxfaWQueSArIGxvY2FsX2lkLnhdID0gdltvZmZzZXRCICsgKHcgKyBsb2NhbF9pZC55KSAqIHVuaWZvcm1zLk5dOwogICAgIH0KICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CiAgICAgZm9yICh2YXIgazogdTMyID0gMHU7IGs8VElMRV9TSVpFICYmIHcrayA8IHVuaWZvcm1zLks7IGsrKykgewogICAgICAgdmFsdWUgKz0gdGlsZVFbVElMRV9TSVpFICogbG9jYWxfaWQueSArIGtdICogdGlsZUtbVElMRV9TSVpFICogayArIGxvY2FsX2lkLnhdOwogICAgIH0KICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CiAgIH0KCiAgIC8vIHdlIG5lZWQgdG8gdHJhbnNwb3NlIG91dHB1dCBmcm9tIEJOU0hfdiB0byBCU05EX3YKICAgbGV0IGJhdGNoSWR4ID0gd29ya2dyb3VwX2lkLnogLyB1bmlmb3Jtcy5udW1faGVhZHM7CiAgIGxldCBjdXJyZW50QmF0Y2hIZWFkTnVtYmVyID0gd29ya2dyb3VwX2lkLnogJSB1bmlmb3Jtcy5udW1faGVhZHM7CiAgIGxldCBoZWFkT2Zmc2V0ID0gKGJhdGNoSWR4ICogdW5pZm9ybXMuTSAqIHVuaWZvcm1zLm51bV9oZWFkcyArIGN1cnJlbnRCYXRjaEhlYWROdW1iZXIpICogdW5pZm9ybXMuTjsKICAgaWYgKG0gPCB1bmlmb3Jtcy5NICYmIG4gPCB1bmlmb3Jtcy5OKSB7CiAgICAgbGV0IG91dHB1dElkeCA9IGJhdGNoSWR4ICogdW5pZm9ybXMuTSAqdW5pZm9ybXMudl9oaWRkZW5fc2l6ZSArIG0gKiB1bmlmb3Jtcy52X2hpZGRlbl9zaXplCiAgICAgICArIGN1cnJlbnRCYXRjaEhlYWROdW1iZXIgKiB1bmlmb3Jtcy5OICsgbjsKICAgICBvdXRwdXRbb3V0cHV0SWR4XSA9IHZhbHVlOwogICB9CiAgfWB9O3JldHVybiB0LmNvbXB1dGUoe25hbWU6IkF0dGVudGlvblNjb3JlIixzaGFkZXJDYWNoZTp7aW5wdXREZXBlbmRlbmNpZXM6WyJ0eXBlIiwidHlwZSJdfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmEsZGF0YVR5cGU6ZS5kYXRhVHlwZSxncHVEYXRhVHlwZTowfV0sZGlzcGF0Y2hHcm91cDpzLHByb2dyYW1Vbmlmb3JtczpvfSksZ2V0U2hhZGVyU291cmNlOmx9LHtpbnB1dHM6W2Uscl0sb3V0cHV0czpbMF19KVswXX0sU2E9KHQsZSxyLG4sYSxpLHMsbyxsLGQsYyk9PntsZXQgdT0kdSh0LGUscixsLGQsYyk7eHUodCx1LG4sZCl9LGt1PSh0LGUpPT57bGV0IHI9W2UuYmF0Y2hTaXplLGUubnVtSGVhZHMsZS5zZXF1ZW5jZUxlbmd0aCxlLmhlYWRTaXplXSxuPWUuc2VxdWVuY2VMZW5ndGgsYT1lLmlucHV0SGlkZGVuU2l6ZSxpPWUuaGVhZFNpemUscz0xMixvPXt4Ok1hdGguY2VpbChlLmhlYWRTaXplL3MpLHk6TWF0aC5jZWlsKGUuc2VxdWVuY2VMZW5ndGgvcyksejplLmJhdGNoU2l6ZSplLm51bUhlYWRzfSxsPVt0LmlucHV0c1swXSx0LmlucHV0c1sxXSx0LmlucHV0c1syXV0sZD1be3R5cGU6InVpbnQzMiIsZGF0YTpufSx7dHlwZToidWludDMyIixkYXRhOmF9LHt0eXBlOiJ1aW50MzIiLGRhdGE6aX0se3R5cGU6InVpbnQzMiIsZGF0YTplLm51bUhlYWRzfSx7dHlwZToidWludDMyIixkYXRhOmUuaGVhZFNpemV9LHt0eXBlOiJ1aW50MzIiLGRhdGE6ZS5oaWRkZW5TaXplfSx7dHlwZToidWludDMyIixkYXRhOmUuaGlkZGVuU2l6ZStlLmhpZGRlblNpemUrZS52SGlkZGVuU2l6ZX1dLGM9dT0+e2xldCBoPXZlKCJvdXRwdXRfcSIsbFswXS5kYXRhVHlwZSxyKSxmPXZlKCJvdXRwdXRfayIsbFswXS5kYXRhVHlwZSxyKSxnPXZlKCJvdXRwdXRfdiIsbFswXS5kYXRhVHlwZSxyKSx5PUooImlucHV0IixsWzBdLmRhdGFUeXBlLGxbMF0uZGltcyksdz1KKCJ3ZWlnaHQiLGxbMV0uZGF0YVR5cGUsbFsxXS5kaW1zKSx2PUooImJpYXMiLGxbMl0uZGF0YVR5cGUsbFsyXS5kaW1zKSxrPXkudHlwZS5zdG9yYWdlLEU9W3tuYW1lOiJNIix0eXBlOiJ1MzIifSx7bmFtZToiSyIsdHlwZToidTMyIn0se25hbWU6Ik4iLHR5cGU6InUzMiJ9LHtuYW1lOiJudW1faGVhZHMiLHR5cGU6InUzMiJ9LHtuYW1lOiJoZWFkX3NpemUiLHR5cGU6InUzMiJ9LHtuYW1lOiJoaWRkZW5fc2l6ZSIsdHlwZToidTMyIn0se25hbWU6ImxkYiIsdHlwZToidTMyIn1dO3JldHVybmAKICBjb25zdCBUSUxFX1NJWkUgPSAke3N9dTsKICB2YXI8d29ya2dyb3VwPiB0aWxlSW5wdXQ6IGFycmF5PCR7a30sICR7cypzfT47CiAgdmFyPHdvcmtncm91cD4gdGlsZVdlaWdodFE6IGFycmF5PCR7a30sICR7cypzfT47CiAgdmFyPHdvcmtncm91cD4gdGlsZVdlaWdodEs6IGFycmF5PCR7a30sICR7cypzfT47CiAgdmFyPHdvcmtncm91cD4gdGlsZVdlaWdodFY6IGFycmF5PCR7a30sICR7cypzfT47CiAgJHt1LnJlZ2lzdGVyVW5pZm9ybXMoRSkuZGVjbGFyZVZhcmlhYmxlcyh5LHcsdixoLGYsZyl9CiAgJHt1Lm1haW5TdGFydChbcyxzLDFdKX0KICAgIGxldCBiYXRjaEluZGV4ID0gd29ya2dyb3VwX2lkLnogLyB1bmlmb3Jtcy5udW1faGVhZHM7CiAgICBsZXQgaGVhZE51bWJlciA9IHdvcmtncm91cF9pZC56ICUgdW5pZm9ybXMubnVtX2hlYWRzOwogICAgbGV0IG0gPSB3b3JrZ3JvdXBfaWQueSAqIFRJTEVfU0laRSArIGxvY2FsX2lkLnk7CiAgICBsZXQgbiA9IHdvcmtncm91cF9pZC54ICogVElMRV9TSVpFICsgbG9jYWxfaWQueDsKCiAgICBsZXQgaW5wdXRPZmZzZXQgPSBiYXRjaEluZGV4ICogKHVuaWZvcm1zLk0gKiB1bmlmb3Jtcy5LKSArIG0gKiB1bmlmb3Jtcy5LOwogICAgbGV0IGJpYXNPZmZzZXRRID0gaGVhZE51bWJlciAqIHVuaWZvcm1zLmhlYWRfc2l6ZTsKICAgIGxldCBiaWFzT2Zmc2V0SyA9IHVuaWZvcm1zLmhpZGRlbl9zaXplICsgYmlhc09mZnNldFE7CiAgICBsZXQgYmlhc09mZnNldFYgPSB1bmlmb3Jtcy5oaWRkZW5fc2l6ZSArIGJpYXNPZmZzZXRLOwoKICAgIHZhciB2YWx1ZVEgPSAke2t9KDApOwogICAgdmFyIHZhbHVlSyA9ICR7a30oMCk7CiAgICB2YXIgdmFsdWVWID0gJHtrfSgwKTsKICAgIGZvciAodmFyIHc6IHUzMiA9IDB1OyB3IDwgdW5pZm9ybXMuSzsgdyArPSBUSUxFX1NJWkUpIHsKICAgICAgaWYgKG0gPCB1bmlmb3Jtcy5NICYmIHcgKyBsb2NhbF9pZC54IDwgdW5pZm9ybXMuSykgewogICAgICAgIHRpbGVJbnB1dFtUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgbG9jYWxfaWQueF0gPSBpbnB1dFtpbnB1dE9mZnNldCArIHcgKyBsb2NhbF9pZC54XTsKICAgICAgfQogICAgICBpZiAobiA8IHVuaWZvcm1zLk4gJiYgdyArIGxvY2FsX2lkLnkgPCB1bmlmb3Jtcy5LKSB7CiAgICAgICAgbGV0IG9mZnNldCA9IG4gKyAodyArIGxvY2FsX2lkLnkpICogdW5pZm9ybXMubGRiOwogICAgICAgIHRpbGVXZWlnaHRRW1RJTEVfU0laRSAqIGxvY2FsX2lkLnkgKyBsb2NhbF9pZC54XSA9IHdlaWdodFtiaWFzT2Zmc2V0USArIG9mZnNldF07CiAgICAgICAgdGlsZVdlaWdodEtbVElMRV9TSVpFICogbG9jYWxfaWQueSArIGxvY2FsX2lkLnhdID0gd2VpZ2h0W2JpYXNPZmZzZXRLICsgb2Zmc2V0XTsKICAgICAgICB0aWxlV2VpZ2h0VltUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgbG9jYWxfaWQueF0gPSB3ZWlnaHRbYmlhc09mZnNldFYgKyBvZmZzZXRdOwogICAgICB9CiAgICAgIHdvcmtncm91cEJhcnJpZXIoKTsKICAgICAgZm9yICh2YXIgazogdTMyID0gMHU7IGs8VElMRV9TSVpFICYmIHcrayA8IHVuaWZvcm1zLks7IGsrKykgewogICAgICAgIGxldCBpbnB1dFRpbGVPZmZzZXQgPSBUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgazsKICAgICAgICBsZXQgd2VpZ2h0VGlsZU9mZnNldCA9IFRJTEVfU0laRSAqIGsgKyBsb2NhbF9pZC54OwogICAgICAgIHZhbHVlUSArPSB0aWxlSW5wdXRbaW5wdXRUaWxlT2Zmc2V0XSAqIHRpbGVXZWlnaHRRW3dlaWdodFRpbGVPZmZzZXRdOwogICAgICAgIHZhbHVlSyArPSB0aWxlSW5wdXRbaW5wdXRUaWxlT2Zmc2V0XSAqIHRpbGVXZWlnaHRLW3dlaWdodFRpbGVPZmZzZXRdOwogICAgICAgIHZhbHVlViArPSB0aWxlSW5wdXRbaW5wdXRUaWxlT2Zmc2V0XSAqIHRpbGVXZWlnaHRWW3dlaWdodFRpbGVPZmZzZXRdOwogICAgICB9CgogICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CiAgICB9CgogICAgbGV0IGhlYWRPZmZzZXQgPSAobSAqIHVuaWZvcm1zLk4gKyBuKSAlIHVuaWZvcm1zLmhlYWRfc2l6ZTsKICAgIHZhbHVlUSArPSBiaWFzW2hlYWRPZmZzZXQgKyBiaWFzT2Zmc2V0UV07CiAgICB2YWx1ZUsgKz0gYmlhc1toZWFkT2Zmc2V0ICsgYmlhc09mZnNldEtdOwogICAgdmFsdWVWICs9IGJpYXNbaGVhZE9mZnNldCArIGJpYXNPZmZzZXRWXTsKCiAgICBsZXQgb2Zmc2V0ID0gd29ya2dyb3VwX2lkLnogKiB1bmlmb3Jtcy5NICogdW5pZm9ybXMuTjsKICAgIGlmIChtIDwgdW5pZm9ybXMuTSAmJiBuIDwgdW5pZm9ybXMuTikgewogICAgICBsZXQgb3V0cHV0SWR4ID0gb2Zmc2V0ICsgbSAqIHVuaWZvcm1zLk4gKyBuOwogICAgICBvdXRwdXRfcVtvdXRwdXRJZHhdID0gdmFsdWVROwogICAgICBvdXRwdXRfa1tvdXRwdXRJZHhdID0gdmFsdWVLOwogICAgICBvdXRwdXRfdltvdXRwdXRJZHhdID0gdmFsdWVWOwogICAgfQogIH1gfTtyZXR1cm4gdC5jb21wdXRlKHtuYW1lOiJBdHRlbnRpb25QcmVwYXJlIixzaGFkZXJDYWNoZTp7aW5wdXREZXBlbmRlbmNpZXM6WyJ0eXBlIiwidHlwZSIsInR5cGUiXX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpyLGRhdGFUeXBlOnQuaW5wdXRzWzBdLmRhdGFUeXBlLGdwdURhdGFUeXBlOjB9LHtkaW1zOnIsZGF0YVR5cGU6dC5pbnB1dHNbMF0uZGF0YVR5cGUsZ3B1RGF0YVR5cGU6MH0se2RpbXM6cixkYXRhVHlwZTp0LmlucHV0c1swXS5kYXRhVHlwZSxncHVEYXRhVHlwZTowfV0sZGlzcGF0Y2hHcm91cDpvLHByb2dyYW1Vbmlmb3JtczpkfSksZ2V0U2hhZGVyU291cmNlOmN9LHtpbnB1dHM6bCxvdXRwdXRzOlstMSwtMSwtMV19KX0sU3U9KHQsZSk9PntsZXQgcj12dSh0LmlucHV0cyxlKSxbbixhLGldPWt1KHQscik7cmV0dXJuIFNhKHQsbixhLGksdC5pbnB1dHNbNF0sdm9pZCAwLHZvaWQgMCx2b2lkIDAsdC5pbnB1dHNbNV0scixlKX19KSxDdSxJdSxBdSxUdSxvXz1RKCgpPT57RHQoKSxJZSgpLGl0KCksQ2UoKSxDdT0odCxlKT0+e2lmKCF0fHx0Lmxlbmd0aCE9PTUpdGhyb3cgbmV3IEVycm9yKCJCYXRjaE5vcm1hbGl6YXRpb24gcmVxdWlyZXMgNSBpbnB1dHMiKTtsZXQgcj0obixhLGkpPT57bGV0IHM9YS5sZW5ndGg7aWYocyE9PW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgJHtpfTogbnVtIGRpbWVuc2lvbnMgIT0gJHtzfWApO2EuZm9yRWFjaCgobyxsKT0+e2lmKG8hPT1uW2xdKXRocm93IG5ldyBFcnJvcihgJHtpfTogZGltWyR7bH1dIGRvIG5vdCBtYXRjaGApfSl9O2lmKHRbMF0uZGltcy5sZW5ndGg+MSl7bGV0IG49ZS5mb3JtYXQ9PT0iTkhXQyI/ZS5zcGF0aWFsP3RbMF0uZGltcy5zbGljZSgtMSk6dFswXS5kaW1zLnNsaWNlKC0xKS5jb25jYXQodFswXS5kaW1zLnNsaWNlKDEsdFswXS5kaW1zLmxlbmd0aC0xKSk6dFswXS5kaW1zLnNsaWNlKDEsZS5zcGF0aWFsPzI6dm9pZCAwKTtyKHRbMV0uZGltcyxuLCJJbnZhbGlkIGlucHV0IHNjYWxlIikscih0WzJdLmRpbXMsbiwiSW52YWxpZCBpbnB1dCBCIikscih0WzNdLmRpbXMsbiwiSW52YWxpZCBpbnB1dCBtZWFuIikscih0WzRdLmRpbXMsbiwiSW52YWxpZCBpbnB1dCB2YXIiKX1lbHNlIHIodFsxXS5kaW1zLFsxXSwiSW52YWxpZCBpbnB1dCBzY2FsZSIpLHIodFsyXS5kaW1zLFsxXSwiSW52YWxpZCBpbnB1dCBCIikscih0WzNdLmRpbXMsWzFdLCJJbnZhbGlkIGlucHV0IG1lYW4iKSxyKHRbNF0uZGltcyxbMV0sIkludmFsaWQgaW5wdXQgdmFyIil9LEl1PSh0LGUpPT57bGV0e2Vwc2lsb246cixzcGF0aWFsOm4sZm9ybWF0OmF9PWUsaT10WzBdLmRpbXMscz1uP3Z0KGlbaS5sZW5ndGgtMV0pOjEsbz1hPT09Ik5IV0MiJiZpLmxlbmd0aD4xP3M6MSxsPWVlLnNpemUoaSkvcyxkPXN0KGkubGVuZ3RoKSYmbixjPWQ/aS5sZW5ndGg6aSx1PUooIngiLHRbMF0uZGF0YVR5cGUsdFswXS5kaW1zLHMpLGg9Sigic2NhbGUiLHRbMV0uZGF0YVR5cGUsdFsxXS5kaW1zLG8pLGY9SigiYmlhcyIsdFsyXS5kYXRhVHlwZSx0WzJdLmRpbXMsbyksZz1KKCJpbnB1dE1lYW4iLHRbM10uZGF0YVR5cGUsdFszXS5kaW1zLG8pLHk9SigiaW5wdXRWYXIiLHRbNF0uZGF0YVR5cGUsdFs0XS5kaW1zLG8pLHc9dmUoInkiLHRbMF0uZGF0YVR5cGUsYyxzKSx2PSgpPT57bGV0IEU9IiI7aWYobilFPWBsZXQgY09mZnNldCA9ICR7aS5sZW5ndGg9PT0xPyIwdSI6YT09PSJOSFdDIj9gb3V0cHV0SW5kaWNlc1ske2kubGVuZ3RoLTF9XSAvICR7c31gOiJvdXRwdXRJbmRpY2VzWzFdIn07YDtlbHNlIGlmKGE9PT0iTkNIVyIpRT1gCiAgICAgICAgICAgICR7dy5pbmRpY2VzU2V0KCJvdXRwdXRJbmRpY2VzIiwiMCIsIjAiKX0KICAgICAgICAgICAgbGV0IGNPZmZzZXQgPSAke3cuaW5kaWNlc1RvT2Zmc2V0KCJvdXRwdXRJbmRpY2VzIil9O2A7ZWxzZXtFPWB2YXIgY0luZGljZXMgPSAke2gudHlwZS5pbmRpY2VzfSgwKTsKICAgICAgICAgICAgICAgICAgICAgICBjSW5kaWNlc1swXSA9IG91dHB1dEluZGljZXNbJHtpLmxlbmd0aC0xfV07YDtmb3IobGV0IHg9MTt4PGgucmFuazt4KyspRSs9YGNJbmRpY2VzWyR7eH1dID0gb3V0cHV0SW5kaWNlc1ske3h9XTtgO0UrPWBsZXQgY09mZnNldCA9ICR7aC5pbmRpY2VzVG9PZmZzZXQoImNJbmRpY2VzIil9O2B9cmV0dXJuIEV9LGs9RT0+YAogIGNvbnN0IGVwc2lsb24gPSAke3J9OwogICR7RS5yZWdpc3RlclVuaWZvcm0oIm91dHB1dFNpemUiLCJ1MzIiKS5kZWNsYXJlVmFyaWFibGVzKHUsaCxmLGcseSx3KX0KICAke0UubWFpblN0YXJ0KCl9CiAgJHtFLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dFNpemUiKX0KICAgIHZhciBvdXRwdXRJbmRpY2VzID0gJHt3Lm9mZnNldFRvSW5kaWNlcyhgZ2xvYmFsX2lkeCAqICR7c31gKX07CiAgICAke3YoKX0KICAgIGxldCBzY2FsZSA9ICR7aC5nZXRCeU9mZnNldCgiY09mZnNldCIpfTsKICAgIGxldCBiaWFzID0gJHtmLmdldEJ5T2Zmc2V0KCJjT2Zmc2V0Iil9OwogICAgbGV0IGlucHV0TWVhbiA9ICR7Zy5nZXRCeU9mZnNldCgiY09mZnNldCIpfTsKICAgIGxldCBpbnB1dFZhciA9ICR7eS5nZXRCeU9mZnNldCgiY09mZnNldCIpfTsKICAgIGxldCB4ID0gJHt1LmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4Iil9OwogICAgbGV0IHZhbHVlID0gKHggLSBpbnB1dE1lYW4pICogaW52ZXJzZVNxcnQoaW5wdXRWYXIgKyBlcHNpbG9uKSAqIHNjYWxlICsgYmlhczsKICAgICR7dy5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsInZhbHVlIil9CiAgfWA7cmV0dXJue25hbWU6IkJhdGNoTm9ybWFsaXphdGlvbiIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7ZS5lcHNpbG9ufV8ke2UuZm9ybWF0fV8ke259XyR7c31gLGlucHV0RGVwZW5kZW5jaWVzOmQ/WyJyYW5rIiwidHlwZSIsInR5cGUiLCJ0eXBlIiwidHlwZSJdOnZvaWQgMH0sZ2V0U2hhZGVyU291cmNlOmssZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczp0WzBdLmRpbXMsZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGwvNjQpfSxwcm9ncmFtVW5pZm9ybXM6ZD9be3R5cGU6InVpbnQzMiIsZGF0YTpsfSwuLi5pZShpKV06W3t0eXBlOiJ1aW50MzIiLGRhdGE6bH1dfSl9fSxBdT10PT5xZSh0KSxUdT0odCxlKT0+e2xldHtpbnB1dHM6cixvdXRwdXRDb3VudDpufT10LGE9QXUoey4uLmUsb3V0cHV0Q291bnQ6bn0pO2lmKERlLndlYmdwdS52YWxpZGF0ZUlucHV0Q29udGVudCYmQ3UocixhKSxlLnRyYWluaW5nTW9kZSl0aHJvdyBuZXcgRXJyb3IoIkJhdGNoTm9ybWFsaXphdGlvbiB0cmFpbmluZ01vZGUgaXMgbm90IHN1cHBvcnRlZCB5ZXQuIik7dC5jb21wdXRlKEl1KHIsYSkpfX0pLE91LE11LHp1LGxfPVEoKCk9PntJZSgpLENlKCksT3U9dD0+e2lmKHRbMF0uZGltcy5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcigiaW5wdXQgc2hvdWxkIGhhdmUgMyBkaW1lbnNpb25zIik7aWYoIVszMjAsNjQwLDEyODBdLmluY2x1ZGVzKHRbMF0uZGltc1syXSkpdGhyb3cgbmV3IEVycm9yKCJudW1iZXIgb2YgY2hhbm5lbHMgc2hvdWxkIGJlIDMyMCwgNjQwIG9yIDEyODAiKTtpZih0WzFdLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoImJpYXMgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAxIGRpbWVuc2lvbnMiKTtpZih0WzBdLmRpbXNbMl0hPT10WzFdLmRpbXNbMF0pdGhyb3cgbmV3IEVycm9yKCJsYXN0IGRpbWVuc2lvbiBvZiBpbnB1dCBhbmQgYmlhcyBhcmUgbm90IHRoZSBzYW1lIil9LE11PXQ9PntsZXQgZT10WzBdLmRpbXMscj10WzBdLmRpbXNbMl0sbj1lZS5zaXplKGUpLzQsYT10WzBdLmRhdGFUeXBlLGk9SigiaW5wdXQiLGEsZSw0KSxzPUooImJpYXMiLGEsW3JdLDQpLG89SigicmVzaWR1YWwiLGEsZSw0KSxsPXZlKCJvdXRwdXQiLGEsZSw0KTtyZXR1cm57bmFtZToiQmlhc0FkZCIsZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczplLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChuLzY0KX19KSxnZXRTaGFkZXJTb3VyY2U6ZD0+YAogIGNvbnN0IGNoYW5uZWxzID0gJHtyfXUgLyA0OwogICR7ZC5kZWNsYXJlVmFyaWFibGVzKGkscyxvLGwpfQoKICAke2QubWFpblN0YXJ0KCl9CiAgICAke2QuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcyhuKX0KICAgIGxldCB2YWx1ZSA9ICR7aS5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpfQogICAgICArICR7cy5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCAlIGNoYW5uZWxzIil9ICsgJHtvLmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4Iil9OwogICAgJHtsLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwidmFsdWUiKX0KICB9YH19LHp1PXQ9PntPdSh0LmlucHV0cyksdC5jb21wdXRlKE11KHQuaW5wdXRzKSl9fSksQnUsUmUsUnUsUHUsRHUsTnUsVXUsV3UsTHUsRnUsVnUsSHUsR3UscXUsanUsS3UsRWEsWXUsQ2EsWHUsUXUsWnUsSnUsZWQsdGQscmQsbmQsYWQsaWQsc2Qsb2QsbGQsdWQsZGQsY2QscGQsaGQ9USgoKT0+e1llKCksSWUoKSxpdCgpLENlKCksQnU9KHQsZSxyLG4sYSxpKT0+e2xldCBzPU1hdGguY2VpbChlLzQpLG89IiI7dHlwZW9mIGE9PSJzdHJpbmciP289YCR7YX0oYSlgOm89YSgiYSIpO2xldCBsPUooImlucHV0RGF0YSIscixbc10sNCksZD12ZSgib3V0cHV0RGF0YSIsbixbc10sNCk7cmV0dXJuYAogICAgICAke3QucmVnaXN0ZXJVbmlmb3JtKCJ2ZWNfc2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMobCxkKX0KCiAgJHtpPz8iIn0KCiAgJHt0Lm1haW5TdGFydCgpfQogICAgJHt0Lmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLnZlY19zaXplIil9CgogICAgbGV0IGEgPSAke2wuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKX07CiAgICAke2Quc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLG8pfQogIH1gfSxSZT0odCxlLHIsbixhLGk9dC5kYXRhVHlwZSk9Pih7bmFtZTplLHNoYWRlckNhY2hlOntoaW50OmEsaW5wdXREZXBlbmRlbmNpZXM6WyJ0eXBlIl19LGdldFNoYWRlclNvdXJjZTpzPT5CdShzLGVlLnNpemUodC5kaW1zKSx0LmRhdGFUeXBlLGkscixuKSxnZXRSdW5EYXRhOnM9Pih7b3V0cHV0czpbe2RpbXM6dC5kaW1zLGRhdGFUeXBlOml9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChlZS5zaXplKHNbMF0uZGltcykvNjQvNCl9LHByb2dyYW1Vbmlmb3Jtczpbe3R5cGU6InVpbnQzMiIsZGF0YTpNYXRoLmNlaWwoZWUuc2l6ZSh0LmRpbXMpLzQpfV19KX0pLFJ1PXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIkFicyIsImFicyIpKX0sUHU9dD0+e3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiQWNvcyIsImFjb3MiKSl9LER1PXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIkFjb3NoIiwiYWNvc2giKSl9LE51PXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIkFzaW4iLCJhc2luIikpfSxVdT10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJBc2luaCIsImFzaW5oIikpfSxXdT10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJBdGFuIiwiYXRhbiIpKX0sTHU9dD0+e3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiQXRhbmgiLCJhdGFuaCIpKX0sRnU9dD0+cWUodCksVnU9KHQsZSk9PntsZXQgcjtzd2l0Y2goZS50byl7Y2FzZSAxMDpyPSJ2ZWM0PGYxNj4iO2JyZWFrO2Nhc2UgMTpyPSJ2ZWM0PGYzMj4iO2JyZWFrO2Nhc2UgMTI6cj0idmVjNDx1MzI+IjticmVhaztjYXNlIDY6cj0idmVjNDxpMzI+IjticmVhaztjYXNlIDk6cj0idmVjNDxib29sPiI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgUmFuZ2VFcnJvcihgbm90IHN1cHBvcnRlZCB0eXBlIChzcGVjaWZpZWQgaW4gYXR0cmlidXRlICd0bycgZnJvbSAnQ2FzdCcgb3BlcmF0b3IpOiAke2UudG99YCl9dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJDYXN0IixyLHZvaWQgMCxlLmNhY2hlS2V5LGUudG8pKX0sSHU9dD0+e2xldCBlPXQubGVuZ3RoPj0yJiZ0WzFdLmRhdGEhPT0wP3RbMV0uZ2V0RmxvYXQzMkFycmF5KClbMF06WGkscj10Lmxlbmd0aD49MyYmdFsyXS5kYXRhIT09MD90WzJdLmdldEZsb2F0MzJBcnJheSgpWzBdOlFpO3JldHVybiBxZSh7bWluOmUsbWF4OnJ9KX0sR3U9KHQsZSk9PntsZXQgcj10LmlucHV0cy5sZW5ndGg9PT0xP2U6SHUodC5pbnB1dHMpLG49bnIodC5pbnB1dHNbMF0uZGF0YVR5cGUpO3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiQ2xpcCIsYT0+YGNsYW1wKCR7YX0sIGNsaXBfbWluXywgY2xpcF9tYXhfKWAsYAogICAgY29uc3QgY2xpcF9taW5fOiB2ZWM0PCR7bn0+ID0gdmVjNCgke259KCR7ci5taW59KSk7CiAgICBjb25zdCBjbGlwX21heF86IHZlYzQ8JHtufT4gPSB2ZWM0KCR7bn0oJHtyLm1heH0pKTsKYCxyLmNhY2hlS2V5KSx7aW5wdXRzOlswXX0pfSxxdT10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJDZWlsIiwiY2VpbCIpKX0sanU9dD0+e3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiQ29zIiwiY29zIikpfSxLdT10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJDb3NoIiwiY29zaCIpKX0sRWE9dD0+cWUodCksWXU9KHQsZSk9PntsZXQgcj1ucih0LmlucHV0c1swXS5kYXRhVHlwZSk7dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJFbHUiLG49PmBlbHVfdmYzMigke259KWAsYAogIGNvbnN0IGVsdV9hbHBoYV8gPSAke3J9KCR7ZS5hbHBoYX0pOwoKICBmbiBlbHVfZjMyKGE6ICR7cn0pIC0+ICR7cn0gewogIHJldHVybiBzZWxlY3QoKGV4cChhKSAtIDEuMCkgKiBlbHVfYWxwaGFfLCBhLCBhID49IDAuMCk7CiAgfQoKICBmbiBlbHVfdmYzMih2OiB2ZWM0PCR7cn0+KSAtPiB2ZWM0PCR7cn0+IHsKICByZXR1cm4gdmVjNChlbHVfZjMyKHYueCksIGVsdV9mMzIodi55KSwgZWx1X2YzMih2LnopLCBlbHVfZjMyKHYudykpOwogIH1gLGUuY2FjaGVLZXkpKX0sQ2E9KHQsZT0iZjMyIik9PmAKY29uc3QgcjA6ICR7ZX0gPSAwLjMyNzU5MTE7CmNvbnN0IHIxOiAke2V9ID0gMC4yNTQ4Mjk1OTI7CmNvbnN0IHIyOiAke2V9ID0gLTAuMjg0NDk2NzM2Owpjb25zdCByMzogJHtlfSA9IDEuNDIxNDEzNzQxOwpjb25zdCByNDogJHtlfSA9IC0xLjQ1MzE1MjAyNzsKY29uc3QgcjU6ICR7ZX0gPSAxLjA2MTQwNTQyOTsKCmZuIGVyZl92ZjMyKHY6ICR7dH0pIC0+ICR7dH0gewogIGxldCBhYnN2ID0gYWJzKHYpOwogIGxldCB4ID0gMS4wIC8gKDEuMCArIHIwICogYWJzdik7CiAgcmV0dXJuIHNpZ24odikgKiAoMS4wIC0gKCgoKHI1ICogeCArIHI0KSAqIHggKyByMykgKiB4ICsgcjIpICogeCArIHIxKSAqIHggKiBleHAoLWFic3YgKiBhYnN2KSk7Cn1gLFh1PXQ9PntsZXQgZT1ucih0LmlucHV0c1swXS5kYXRhVHlwZSk7dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJFcmYiLHI9PmBlcmZfdmYzMigke3J9KWAsQ2EoYHZlYzQ8JHtlfT5gLGUpKSl9LFF1PXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIkV4cCIsImV4cCIpKX0sWnU9dD0+e3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiRmxvb3IiLCJmbG9vciIpKX0sSnU9dD0+e2xldCBlPW5yKHQuaW5wdXRzWzBdLmRhdGFUeXBlKTt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIkdlbHUiLHI9PmAwLjUgKiAke3J9ICogKDEuMCArIGVyZl92ZjMyKCR7cn0gKiAwLjcwNzEwNjc4MTE4NjU0NzUpKWAsQ2EoYHZlYzQ8JHtlfT5gLGUpKSl9LGVkPSh0LGUpPT57bGV0IHI9bnIodC5pbnB1dHNbMF0uZGF0YVR5cGUpO3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiTGVha3lSZWx1IixuPT5gc2VsZWN0KGxlYWt5X3JlbHVfYWxwaGFfICogJHtufSwgJHtufSwgJHtufSA+PSB2ZWM0PCR7cn0+KDAuMCkpYCxgY29uc3QgbGVha3lfcmVsdV9hbHBoYV8gPSAke3J9KCR7ZS5hbHBoYX0pO2AsZS5jYWNoZUtleSkpfSx0ZD10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJOb3QiLGU9PmAhJHtlfWApKX0scmQ9dD0+e3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiTmVnIixlPT5gLSR7ZX1gKSl9LG5kPXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIlJlY2lwcm9jYWwiLGU9PmAxLjAvJHtlfWApKX0sYWQ9dD0+e2xldCBlPW5yKHQuaW5wdXRzWzBdLmRhdGFUeXBlKTt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIlJlbHUiLHI9PmBzZWxlY3QodmVjNDwke2V9PigwLjApLCAke3J9LCAke3J9ID4gdmVjNDwke2V9PigwLjApKWApKX0saWQ9dD0+e3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiU2lnbW9pZCIsZT0+YCgxLjAgLyAoMS4wICsgZXhwKC0ke2V9KSkpYCkpfSxzZD10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJTaW4iLCJzaW4iKSl9LG9kPXQ9Pnt0LmNvbXB1dGUoUmUodC5pbnB1dHNbMF0sIlNpbmgiLCJzaW5oIikpfSxsZD10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJTcXJ0Iiwic3FydCIpKX0sdWQ9dD0+e3QuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiVGFuIiwidGFuIikpfSxkZD10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJUYW5oIiwidGFuaCIpKX0sY2Q9KHQsZSk9PntsZXQgcj1ucih0LmlucHV0c1swXS5kYXRhVHlwZSk7cmV0dXJuIHQuY29tcHV0ZShSZSh0LmlucHV0c1swXSwiVGhyZXNob2xkZWRSZWx1IixuPT5gc2VsZWN0KHZlYzQ8JHtyfT4oMC4wKSwgJHtufSwgJHtufSA+IHRocmVzaG9sZGVkX3JlbHVfYWxwaGFfKWAsYGNvbnN0IHRocmVzaG9sZGVkX3JlbHVfYWxwaGFfID0gdmVjNDwke3J9Pigke2UuYWxwaGF9KTtgLGUuY2FjaGVLZXkpKSwwfSxwZD10PT57dC5jb21wdXRlKFJlKHQuaW5wdXRzWzBdLCJMb2ciLCJsb2ciKSl9fSksZmQsbWQsZ2QsdV89USgoKT0+e0llKCksQ2UoKSxoZCgpLGZkPXQ9PntpZih0WzBdLmRpbXMubGVuZ3RoIT09Myl0aHJvdyBuZXcgRXJyb3IoImlucHV0IHNob3VsZCBoYXZlIDMgZGltZW5zaW9ucyIpO2lmKCFbMjU2MCw1MTIwLDEwMjQwXS5pbmNsdWRlcyh0WzBdLmRpbXNbMl0pKXRocm93IG5ldyBFcnJvcigiaGlkZGVuIHN0YXRlIHNob3VsZCBiZSAyNTYwLCA1MTIwIG9yIDEwMjQwIik7aWYodFsxXS5kaW1zLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCJiaWFzIGlzIGV4cGVjdGVkIHRvIGhhdmUgMSBkaW1lbnNpb25zIik7aWYodFswXS5kaW1zWzJdIT09dFsxXS5kaW1zWzBdKXRocm93IG5ldyBFcnJvcigibGFzdCBkaW1lbnNpb24gb2YgaW5wdXQgYW5kIGJpYXMgYXJlIG5vdCB0aGUgc2FtZSIpfSxtZD10PT57bGV0IGU9dFswXS5kaW1zLnNsaWNlKCk7ZVsyXT1lWzJdLzI7bGV0IHI9SigiaW5wdXQiLHRbMF0uZGF0YVR5cGUsdFswXS5kaW1zLDQpLG49SigiYmlhcyIsdFswXS5kYXRhVHlwZSxbdFswXS5kaW1zWzJdXSw0KSxhPXZlKCJvdXRwdXQiLHRbMF0uZGF0YVR5cGUsZSw0KSxpPWVlLnNpemUoZSkvNCxzPUl0KHRbMF0uZGF0YVR5cGUpO3JldHVybntuYW1lOiJCaWFzU3BsaXRHZWx1IixnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmUsZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGkvNjQpfX0pLGdldFNoYWRlclNvdXJjZTpvPT5gCiAgY29uc3QgTV9TUVJUMiA9IHNxcnQoMi4wKTsKICBjb25zdCBoYWxmQ2hhbm5lbHMgPSAke3RbMF0uZGltc1syXS80LzJ9dTsKCiAgJHtvLmRlY2xhcmVWYXJpYWJsZXMocixuLGEpfQoKICAke0NhKGB2ZWM0PCR7c30+YCxzKX0KCiAgJHtvLm1haW5TdGFydCgpfQogICAgJHtvLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoaSl9CiAgICBsZXQgYmlhc0lkeCA9IGdsb2JhbF9pZHggJSBoYWxmQ2hhbm5lbHM7CiAgICBsZXQgYmF0Y2hJbmRleCA9IGdsb2JhbF9pZHggLyBoYWxmQ2hhbm5lbHM7CiAgICBsZXQgaW5wdXRPZmZzZXQgPSBiaWFzSWR4ICsgYmF0Y2hJbmRleCAqIGhhbGZDaGFubmVscyAqIDI7CiAgICBsZXQgdmFsdWVMZWZ0ID0gaW5wdXRbaW5wdXRPZmZzZXRdICsgYmlhc1tiaWFzSWR4XTsKICAgIGxldCB2YWx1ZVJpZ2h0ID0gaW5wdXRbaW5wdXRPZmZzZXQgKyBoYWxmQ2hhbm5lbHNdICsgYmlhc1tiaWFzSWR4ICsgaGFsZkNoYW5uZWxzXTsKICAgIGxldCBnZWx1UmlnaHQgPSB2YWx1ZVJpZ2h0ICogMC41ICogKGVyZl92ZjMyKHZhbHVlUmlnaHQgLyBNX1NRUlQyKSArIDEpOwoKICAgICR7YS5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsInZhbHVlTGVmdCAqIGdlbHVSaWdodCIpfQogIH1gfX0sZ2Q9dD0+e2ZkKHQuaW5wdXRzKSx0LmNvbXB1dGUobWQodC5pbnB1dHMpKX19KSxfZCx5ZCxGdCx3ZCx2ZCxiZCwkZCx4ZCxrZCxTZCxFZCxDZCxJZCxkXz1RKCgpPT57WWUoKSxJZSgpLENlKCksX2Q9KHQsZSxyLG4sYSxpLHMsbyxsLGQsYyx1LGgpPT57bGV0IGYsZzt0eXBlb2Ygbz09InN0cmluZyI/Zj1nPShULEIpPT5gJHtvfSgoJHtUfSksKCR7Qn0pKWA6dHlwZW9mIG89PSJmdW5jdGlvbiI/Zj1nPW86KGY9by5zY2FsYXIsZz1vLnZlY3Rvcik7bGV0IHk9dT9lLmxlbmd0aDplLHc9dT9yLmxlbmd0aDpyLHY9dT9uLmxlbmd0aDpuLGs9dmUoIm91dHB1dERhdGEiLGMsdiw0KSxFPUooImFEYXRhIixsLHksNCkseD1KKCJiRGF0YSIsZCx3LDQpLEk7aWYoYSlpZihpKXtsZXQgVD1lZS5zaXplKGUpPT09MSxCPWVlLnNpemUocik9PT0xLFU9ZS5sZW5ndGg+MCYmZVtlLmxlbmd0aC0xXSU0PT09MCxIPXIubGVuZ3RoPjAmJnJbci5sZW5ndGgtMV0lND09PTA7VHx8Qj9JPWsuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLGcoVD9gJHtFLnR5cGUudmFsdWV9KCR7RS5nZXRCeU9mZnNldCgiMCIpfS54KWA6RS5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpLEI/YCR7eC50eXBlLnZhbHVlfSgke3guZ2V0QnlPZmZzZXQoIjAiKX0ueClgOnguZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKSkpOkk9YAogICAgICAgICAgICBsZXQgb3V0cHV0SW5kaWNlcyA9ICR7ay5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHggKiA0dSIpfTsKICAgICAgICAgICAgbGV0IG9mZnNldEEgPSAke0UuYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQoIm91dHB1dEluZGljZXMiLGspfTsKICAgICAgICAgICAgbGV0IG9mZnNldEIgPSAke3guYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQoIm91dHB1dEluZGljZXMiLGspfTsKICAgICAgICAgICAgJHtrLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IixnKHN8fFU/RS5nZXRCeU9mZnNldCgib2Zmc2V0QSAvIDR1Iik6YCR7RS50eXBlLnZhbHVlfSgke0UuZ2V0QnlPZmZzZXQoIm9mZnNldEEgLyA0dSIpfVtvZmZzZXRBICUgNHVdKWAsc3x8SD94LmdldEJ5T2Zmc2V0KCJvZmZzZXRCIC8gNHUiKTpgJHt4LnR5cGUudmFsdWV9KCR7eC5nZXRCeU9mZnNldCgib2Zmc2V0QiAvIDR1Iil9W29mZnNldEIgJSA0dV0pYCkpfQogICAgICAgICAgYH1lbHNlIEk9ay5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsZyhFLmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IikseC5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpKSk7ZWxzZXtpZighaSl0aHJvdyBuZXcgRXJyb3IoIm5vIG5lY2Vzc2FyeSB0byB1c2Ugc2NhbGFyIGltcGxlbWVudGF0aW9uIGZvciBlbGVtZW50LXdpc2UgYmluYXJ5IG9wIGltcGxlbWVudGF0aW9uLiIpO2xldCBUPShCLFUsSD0iIik9PntsZXQgSz1gYURhdGFbaW5kZXhBJHtVfV1bY29tcG9uZW50QSR7VX1dYCxPPWBiRGF0YVtpbmRleEIke1V9XVtjb21wb25lbnRCJHtVfV1gO3JldHVybmAKICAgICAgICAgICAgbGV0IG91dHB1dEluZGljZXMke1V9ID0gJHtrLm9mZnNldFRvSW5kaWNlcyhgZ2xvYmFsX2lkeCAqIDR1ICsgJHtVfXVgKX07CiAgICAgICAgICAgIGxldCBvZmZzZXRBJHtVfSA9ICR7RS5icm9hZGNhc3RlZEluZGljZXNUb09mZnNldChgb3V0cHV0SW5kaWNlcyR7VX1gLGspfTsKICAgICAgICAgICAgbGV0IG9mZnNldEIke1V9ID0gJHt4LmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KGBvdXRwdXRJbmRpY2VzJHtVfWAsayl9OwogICAgICAgICAgICBsZXQgaW5kZXhBJHtVfSA9IG9mZnNldEEke1V9IC8gNHU7CiAgICAgICAgICAgIGxldCBpbmRleEIke1V9ID0gb2Zmc2V0QiR7VX0gLyA0dTsKICAgICAgICAgICAgbGV0IGNvbXBvbmVudEEke1V9ID0gb2Zmc2V0QSR7VX0gJSA0dTsKICAgICAgICAgICAgbGV0IGNvbXBvbmVudEIke1V9ID0gb2Zmc2V0QiR7VX0gJSA0dTsKICAgICAgICAgICAgJHtCfVske1V9XSA9ICR7SH0oJHtmKEssTyl9KTsKICAgICAgICAgIGB9O2M9PT05P0k9YAogICAgICAgICAgICB2YXIgZGF0YSA9IHZlYzQ8dTMyPigwKTsKICAgICAgICAgICAgJHtUKCJkYXRhIiwwLCJ1MzIiKX0KICAgICAgICAgICAgJHtUKCJkYXRhIiwxLCJ1MzIiKX0KICAgICAgICAgICAgJHtUKCJkYXRhIiwyLCJ1MzIiKX0KICAgICAgICAgICAgJHtUKCJkYXRhIiwzLCJ1MzIiKX0KICAgICAgICAgICAgb3V0cHV0RGF0YVtnbG9iYWxfaWR4XSA9IGRvdCh2ZWM0PHUzMj4oMHgxLCAweDEwMCwgMHgxMDAwMCwgMHgxMDAwMDAwKSwgdmVjNDx1MzI+KGRhdGEpKTtgOkk9YAogICAgICAgICAgICAke1QoIm91dHB1dERhdGFbZ2xvYmFsX2lkeF0iLDApfQogICAgICAgICAgICAke1QoIm91dHB1dERhdGFbZ2xvYmFsX2lkeF0iLDEpfQogICAgICAgICAgICAke1QoIm91dHB1dERhdGFbZ2xvYmFsX2lkeF0iLDIpfQogICAgICAgICAgICAke1QoIm91dHB1dERhdGFbZ2xvYmFsX2lkeF0iLDMpfQogICAgICAgICAgYH1yZXR1cm5gCiAgICAgICAgJHt0LnJlZ2lzdGVyVW5pZm9ybSgidmVjX3NpemUiLCJ1MzIiKS5kZWNsYXJlVmFyaWFibGVzKEUseCxrKX0KCiAgICAgICAgJHtoPz8iIn0KCiAgICAgICAgJHt0Lm1haW5TdGFydCgpfQogICAgICAgICR7dC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy52ZWNfc2l6ZSIpfQogICAgICAgICR7SX0KICAgICAgfWB9LHlkPSh0LGUscixuLGEsaSxzPXIuZGF0YVR5cGUpPT57bGV0IG89IWVlLmFyZUVxdWFsKHIuZGltcyxuLmRpbXMpLGw9ci5kaW1zLGQ9ZWUuc2l6ZShyLmRpbXMpLGM9ITEsdT0hMSxoPVtvXTtpZihvKXtsZXQgZz1Mci5jYWxjU2hhcGUoci5kaW1zLG4uZGltcywhMSk7aWYoIWcpdGhyb3cgbmV3IEVycm9yKCJDYW4ndCBwZXJmb3JtIGJpbmFyeSBvcCBvbiB0aGUgZ2l2ZW4gdGVuc29ycyIpO2w9ZyxkPWVlLnNpemUobCk7bGV0IHk9ZWUuc2l6ZShyLmRpbXMpPT09MSx3PWVlLnNpemUobi5kaW1zKT09PTEsdj1yLmRpbXMubGVuZ3RoPjAmJnIuZGltc1tyLmRpbXMubGVuZ3RoLTFdJTQ9PT0wLGs9bi5kaW1zLmxlbmd0aD4wJiZuLmRpbXNbbi5kaW1zLmxlbmd0aC0xXSU0PT09MDtoLnB1c2goeSksaC5wdXNoKHcpLGgucHVzaCh2KSxoLnB1c2goayk7bGV0IEU9MTtmb3IobGV0IHg9MTt4PGwubGVuZ3RoO3grKyl7bGV0IEk9ci5kaW1zW3IuZGltcy5sZW5ndGgteF0/PzEsVD1uLmRpbXNbbi5kaW1zLmxlbmd0aC14XT8/MTtpZihJPT09VClFKj1JO2Vsc2UgYnJlYWt9RSU0PT09MD8odT0hMCxjPSEwKTooeXx8d3x8dnx8aykmJihjPSEwKX1lbHNlIGM9ITA7aC5wdXNoKGMpO2xldCBmPXN0KHIuZGltcy5sZW5ndGgpJiZzdChuLmRpbXMubGVuZ3RoKSYmc3QobC5sZW5ndGgpO3JldHVybntuYW1lOnQsc2hhZGVyQ2FjaGU6e2hpbnQ6ZStoLm1hcChnPT5nLnRvU3RyaW5nKCkpLmpvaW4oIl8iKSxpbnB1dERlcGVuZGVuY2llczpmP1sicmFuayIsInJhbmsiXTpbImRpbXMiLCJkaW1zIl19LGdldFNoYWRlclNvdXJjZTpnPT5fZChnLHIuZGltcyxuLmRpbXMsbCxjLG8sdSxhLHIuZGF0YVR5cGUsbi5kYXRhVHlwZSxzLGYsaSksZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpsLGRhdGFUeXBlOnN9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChkLzY0LzQpfSxwcm9ncmFtVW5pZm9ybXM6Zj9be3R5cGU6InVpbnQzMiIsZGF0YTpNYXRoLmNlaWwoZWUuc2l6ZShsKS80KX0sLi4uaWUoci5kaW1zKSwuLi5pZShuLmRpbXMpLC4uLmllKGwpXTpbe3R5cGU6InVpbnQzMiIsZGF0YTpNYXRoLmNlaWwoZWUuc2l6ZShsKS80KX1dfSl9fSxGdD0odCxlLHIsbixhLGkpPT57dC5jb21wdXRlKHlkKGUsYT8/IiIsdC5pbnB1dHNbMF0sdC5pbnB1dHNbMV0scixuLGkpKX0sd2Q9dD0+e0Z0KHQsIkFkZCIsKGUscik9PmAke2V9KyR7cn1gKX0sdmQ9dD0+e0Z0KHQsIkRpdiIsKGUscik9PmAke2V9LyR7cn1gKX0sYmQ9dD0+e0Z0KHQsIkVxdWFsIix7c2NhbGFyOihlLHIpPT5gdTMyKCR7ZX09PSR7cn0pYCx2ZWN0b3I6KGUscik9PmB2ZWM0PHUzMj4oJHtlfT09JHtyfSlgfSx2b2lkIDAsdm9pZCAwLDkpfSwkZD10PT57RnQodCwiTXVsIiwoZSxyKT0+YCR7ZX0qJHtyfWApfSx4ZD10PT57bGV0IGU9SigiaW5wdXQiLHQuaW5wdXRzWzBdLmRhdGFUeXBlLHQuaW5wdXRzWzBdLmRpbXMpLnR5cGUudmFsdWU7RnQodCwiUG93Iix7c2NhbGFyOihyLG4pPT5gcG93X2N1c3RvbSgke3J9LCR7bn0pYCx2ZWN0b3I6KHIsbik9PmBwb3dfdmVjdG9yX2N1c3RvbSgke3J9LCR7bn0pYH0sYAogICAgZm4gcG93X2N1c3RvbShhIDogJHtlfSwgYiA6ICR7ZX0pIC0+ICR7ZX0gewogICAgICBpZiAoYiA9PSAke2V9KDAuMCkpIHsKICAgICAgICByZXR1cm4gJHtlfSgxLjApOwogICAgICB9IGVsc2UgaWYgKGEgPCAke2V9KDAuMCkgJiYgZjMyKGIpICE9IGZsb29yKGYzMihiKSkpIHsKICAgICAgICByZXR1cm4gJHtlfShwb3coZjMyKGEpLCBmMzIoYikpKTsgLy8gTmFOCiAgICAgIH0KICAgICAgcmV0dXJuIHNlbGVjdChzaWduKGEpLCAke2V9KDEuMCksIHJvdW5kKGYzMihhYnMoYikgJSAke2V9KDIuMCkpKSAhPSAxLjApICogJHtlfSgke2U9PT0iaTMyIj8icm91bmQiOiIifShwb3coZjMyKGFicyhhKSksIGYzMihiKSkpKTsKICAgIH0KICAgIGZuIHBvd192ZWN0b3JfY3VzdG9tKGEgOiB2ZWM0PCR7ZX0+LCBiIDogdmVjNDwke2V9PikgLT4gdmVjNDwke2V9PiB7CiAgICAgIC8vIFRPRE86IGltcGxlbWVudCB2ZWN0b3JpemVkIHBvdwogICAgICByZXR1cm4gdmVjNDwke2V9Pihwb3dfY3VzdG9tKGEueCwgYi54KSwgcG93X2N1c3RvbShhLnksIGIueSksIHBvd19jdXN0b20oYS56LCBiLnopLCBwb3dfY3VzdG9tKGEudywgYi53KSk7CiAgICB9CiAgICAgIGApfSxrZD10PT57RnQodCwiU3ViIiwoZSxyKT0+YCR7ZX0tJHtyfWApfSxTZD10PT57RnQodCwiR3JlYXRlciIse3NjYWxhcjooZSxyKT0+YHUzMigke2V9PiR7cn0pYCx2ZWN0b3I6KGUscik9PmB2ZWM0PHUzMj4oJHtlfT4ke3J9KWB9LHZvaWQgMCx2b2lkIDAsOSl9LEVkPXQ9PntGdCh0LCJMZXNzIix7c2NhbGFyOihlLHIpPT5gdTMyKCR7ZX08JHtyfSlgLHZlY3RvcjooZSxyKT0+YHZlYzQ8dTMyPigke2V9PCR7cn0pYH0sdm9pZCAwLHZvaWQgMCw5KX0sQ2Q9dD0+e0Z0KHQsIkdyZWF0ZXJPckVxdWFsIix7c2NhbGFyOihlLHIpPT5gdTMyKCR7ZX0+PSR7cn0pYCx2ZWN0b3I6KGUscik9PmB2ZWM0PHUzMj4oJHtlfT49JHtyfSlgfSx2b2lkIDAsdm9pZCAwLDkpfSxJZD10PT57RnQodCwiTGVzc09yRXF1YWwiLHtzY2FsYXI6KGUscik9PmB1MzIoJHtlfTw9JHtyfSlgLHZlY3RvcjooZSxyKT0+YHZlYzQ8dTMyPigke2V9PD0ke3J9KWB9LHZvaWQgMCx2b2lkIDAsOSl9fSksQWQsVGQsT2QsTWQsemQsQmQsY189USgoKT0+e0llKCksaXQoKSxDZSgpLEFkPXQ9PntpZighdHx8dC5sZW5ndGg8MSl0aHJvdyBuZXcgRXJyb3IoInRvbyBmZXcgaW5wdXRzIik7bGV0IGU9dFswXS5kYXRhVHlwZSxyPXRbMF0uZGltcy5sZW5ndGg7Zm9yKGxldCBuIG9mIHQpe2lmKG4uZGF0YVR5cGUhPT1lKXRocm93IG5ldyBFcnJvcigiaW5wdXQgdGVuc29ycyBzaG91bGQgYmUgb25lIHR5cGUiKTtpZihuLmRpbXMubGVuZ3RoIT09cil0aHJvdyBuZXcgRXJyb3IoImlucHV0IHRlbnNvcnMgc2hvdWxkIGhhdmUgdGhlIHNhbWUgc2hhcGUiKX19LFRkPSh0LGUpPT5gCiAgZm4gY2FsY3VsYXRlSW5wdXRJbmRleChpbmRleDogdTMyKSAtPiB1MzIgewogICAgbGV0IHNpemVJbkNvbmNhdEF4aXMgPSBhcnJheTx1MzIsICR7dH11Pigke2V9KTsKICAgIGZvciAodmFyIGk6IHUzMiA9IDB1OyBpIDwgJHt0fTsgaSArPSAxdSApIHsKICAgICAgaWYgKGluZGV4IDwgc2l6ZUluQ29uY2F0QXhpc1tpXSkgewogICAgICAgIHJldHVybiBpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gJHt0fXU7CiAgfWAsT2Q9KHQsZSk9PntsZXQgcj10Lmxlbmd0aCxuPVtdO2ZvcihsZXQgYT0wO2E8cjsrK2Epe2xldCBpPWUuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLHRbYV0uZ2V0QnlJbmRpY2VzKCJpbmRpY2VzIikpO3I9PT0xP24ucHVzaChpKTphPT09MD9uLnB1c2goYGlmIChpbnB1dEluZGV4ID09ICR7YX11KSB7ICR7aX0gfWApOmE9PT1yLTE/bi5wdXNoKGBlbHNlIHsgJHtpfSB9YCk6bi5wdXNoKGBlbHNlIGlmIChpbnB1dEluZGV4ID09ICR7YX0pIHsgJHtpfSB9YCl9cmV0dXJuIG4uam9pbihgCmApfSxNZD0odCxlKT0+e2xldCByPXRbMF0uZGltcy5zbGljZSgpO2lmKGU+PXIubGVuZ3RofHxlPC0xKnIubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiYXhpcyBzcGVjaWZpZWQgZm9yIGNvbmNhdCBkb2Vzbid0IG1hdGNoIGlucHV0IGRpbWVuc2lvbmFsaXR5Iik7bGV0IG49ZTwwP3IubGVuZ3RoK2U6ZSxhPXIuc2xpY2UoMCk7Zm9yKGxldCB4PTE7eDx0Lmxlbmd0aDt4Kyspe2xldCBJPXRbeF0uZGltcy5zbGljZSgpO2ZvcihsZXQgVD0wO1Q8ci5sZW5ndGg7VCsrKWlmKFQ9PT1uKWFbbl0rPUlbVF07ZWxzZSBpZihyW1RdIT09SVtUXSl0aHJvdyBuZXcgRXJyb3IoIm5vbiBjb25jYXQgZGltZW5zaW9ucyBtdXN0IG1hdGNoIil9bGV0IGk9ZWUuc2l6ZShhKSxzPW5ldyBBcnJheSh0Lmxlbmd0aCksbz1uZXcgQXJyYXkodC5sZW5ndGgpLGw9dFswXS5kYXRhVHlwZSxkPTAsYz1bXSx1PVtdLGg9W10sZj1be3R5cGU6InVpbnQzMiIsZGF0YTppfV07Zm9yKGxldCB4PTA7eDx0Lmxlbmd0aDsrK3gpZCs9dFt4XS5kaW1zW25dLHNbeF09ZCxoLnB1c2goc3QodFt4XS5kaW1zLmxlbmd0aCkpLHUucHVzaChoW3hdP3RbeF0uZGltcy5sZW5ndGg6dFt4XS5kaW1zKSxvW3hdPUooYGlucHV0JHt4fWAsbCx1W3hdKSxjLnB1c2goaFt4XT8icmFuayI6ImRpbXMiKSxmLnB1c2goe3R5cGU6InVpbnQzMiIsZGF0YTpzW3hdfSk7Zm9yKGxldCB4PTA7eDx0Lmxlbmd0aDsrK3gpaFt4XSYmZi5wdXNoKC4uLmllKHRbeF0uZGltcykpO2xldCBnPXN0KGEubGVuZ3RoKTtnJiZmLnB1c2goLi4uaWUoYSkpO2xldCB5PWc/YS5sZW5ndGg6YSx3PXZlKCJvdXRwdXQiLGwseSksdj13LmluZGljZXNHZXQoImluZGljZXMiLG4pLGs9QXJyYXkuZnJvbShBcnJheShzLmxlbmd0aCkua2V5cygpKS5tYXAoeD0+YHVuaWZvcm1zLnNpemVJbkNvbmNhdEF4aXMke3h9YCkuam9pbigiLCIpLEU9eD0+YAoKICAkeygoKT0+e3gucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRTaXplIiwidTMyIik7Zm9yKGxldCBJPTA7STx0Lmxlbmd0aDtJKyspeC5yZWdpc3RlclVuaWZvcm0oYHNpemVJbkNvbmNhdEF4aXMke0l9YCwidTMyIik7cmV0dXJuIHguZGVjbGFyZVZhcmlhYmxlcyguLi5vLHcpfSkoKX0KCiAgJHtUZChzLmxlbmd0aCxrKX0KCiAgJHt4Lm1haW5TdGFydCgpfQogICAgJHt4Lmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dFNpemUiKX0KCiAgICB2YXIgaW5kaWNlcyA9ICR7dy5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07CgogICAgbGV0IGlucHV0SW5kZXggPSBjYWxjdWxhdGVJbnB1dEluZGV4KCR7dn0pOwogICAgaWYgKGlucHV0SW5kZXggIT0gMHUpIHsKICAgICAgbGV0IHNpemVJbkNvbmNhdEF4aXMgPSBhcnJheTx1MzIsICR7cy5sZW5ndGh9dT4oJHtrfSk7CiAgICAgICR7dn0gLT0gc2l6ZUluQ29uY2F0QXhpc1tpbnB1dEluZGV4IC0gMXVdOwogICAgfQoKICAgICR7T2Qobyx3KX0KICB9YDtyZXR1cm57bmFtZToiQ29uY2F0IixzaGFkZXJDYWNoZTp7aGludDpgJHtlfWAsaW5wdXREZXBlbmRlbmNpZXM6Y30sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczphLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChpLzY0KX0scHJvZ3JhbVVuaWZvcm1zOmZ9KSxnZXRTaGFkZXJTb3VyY2U6RX19LHpkPSh0LGUpPT57QWQodC5pbnB1dHMpLHQuY29tcHV0ZShNZCh0LmlucHV0cyxlLmF4aXMpKX0sQmQ9dD0+cWUoe2F4aXM6dC5heGlzfSl9KSxGcixhcyxicj1RKCgpPT57SWUoKSxGcj0odCxlKT0+e3N3aXRjaCh0LmFjdGl2YXRpb24pe2Nhc2UiUmVsdSI6cmV0dXJue2FjdGl2YXRpb25GdW5jdGlvbjoiIixhcHBseUFjdGl2YXRpb246YHZhbHVlID0gbWF4KHZhbHVlLCAke2V9KDAuMCkpO2B9O2Nhc2UiU2lnbW9pZCI6cmV0dXJue2FjdGl2YXRpb25GdW5jdGlvbjoiIixhcHBseUFjdGl2YXRpb246YHZhbHVlID0gKCR7ZX0oMS4wKSAvICgke2V9KDEuMCkgKyBleHAoLXZhbHVlKSkpO2B9O2Nhc2UiQ2xpcCI6cmV0dXJue2FjdGl2YXRpb25GdW5jdGlvbjpgY29uc3QgY2xpcF9taW5fPSR7ZX0oJHt0LmNsaXBNaW59KTtjb25zdCBjbGlwX21heF89JHtlfSgke3QuY2xpcE1heH0pO2AsYXBwbHlBY3RpdmF0aW9uOiJ2YWx1ZSA9IGNsYW1wKHZhbHVlLCBjbGlwX21pbl8sIGNsaXBfbWF4Xyk7In07ZGVmYXVsdDpyZXR1cm57YWN0aXZhdGlvbkZ1bmN0aW9uOiIiLGFwcGx5QWN0aXZhdGlvbjoiIn19fSxhcz10PT57bGV0IGU9dD8uYWN0aXZhdGlvbnx8IiI7aWYoZT09PSJDbGlwIil7bGV0W3Isbl09dD8uYWN0aXZhdGlvbl9wYXJhbXN8fFtYaSxRaV07cmV0dXJue2FjdGl2YXRpb246ZSxjbGlwTWF4Om4sY2xpcE1pbjpyLGFjdGl2YXRpb25DYWNoZUtleTpgJHtlfToke3J9LCR7bn1gfX1yZXR1cm57YWN0aXZhdGlvbjplLGFjdGl2YXRpb25DYWNoZUtleTplfX19KSxndCxpcyxzcz1RKCgpPT57Z3Q9KHQsZSk9Pntzd2l0Y2godCl7Y2FzZSAxOnJldHVybiBlO2Nhc2UgMjpyZXR1cm5gdmVjMjwke2V9PmA7Y2FzZSAzOnJldHVybmB2ZWMzPCR7ZX0+YDtjYXNlIDQ6cmV0dXJuYHZlYzQ8JHtlfT5gO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGAke3R9LWNvbXBvbmVudCBpcyBub3Qgc3VwcG9ydGVkLmApfX0saXM9dD0+YAogICAgICAke3Q/InZhbHVlID0gdmFsdWUgKyBnZXRCaWFzQnlPdXRwdXRDb29yZHMoY29vcmRzKTsiOiIifQogICAgICBgfSksb3MsUmQ9USgoKT0+e29zPXQ9PmAKZm4gZ2V0SW5kZXhGcm9tQ29vcmRzNEQoY29vcmRzIDogdmVjNDxpMzI+LCBzaGFwZSA6IHZlYzQ8aTMyPikgLT4gaTMyIHsKICByZXR1cm4gZG90KGNvb3JkcywgdmVjNDxpMzI+KAogICAgICBzaGFwZS55ICogc2hhcGUueiAqIHNoYXBlLncsIHNoYXBlLnogKiBzaGFwZS53LCBzaGFwZS53LCAxKSk7Cn0KZm4gZ2V0T3V0cHV0SW5kZXhGcm9tQ29vcmRzKGNvb3JkcyA6IHZlYzQ8aTMyPikgLT4gaTMyIHsKICByZXR1cm4gZG90KGNvb3JkcywgdmVjNDxpMzI+KAogICAgaTMyKCR7dH0ueCksIGkzMigke3R9LnkpLCBpMzIoJHt0fS56KSwgMSkpOwp9CmB9KSxQZCxEZCxJYSxscyxOZCxBYSxVZCx1cyxUYT1RKCgpPT57SWUoKSxDZSgpLGJyKCksc3MoKSxQZD0odCxlKT0+dD9gCiAgICAgICAgbW1fQXN1YltpbnB1dFJvd11baW5wdXRDb2xdID0gbW1fcmVhZEEoYmF0Y2gsCiAgICAgICAgICBrU3RhcnQgKyBpbnB1dFJvdywKICAgICAgICAgIGdsb2JhbFJvd1N0YXJ0IC8gaW5uZXJFbGVtZW50U2l6ZSArIGlucHV0Q29sJHtlPyIsIGJhdGNoSW5kaWNlcyI6IiJ9KTsKICAgICAgICBgOmAKICAgICAgICBtbV9Bc3ViW2lucHV0Um93XVtpbnB1dENvbF0gPSBtbV9yZWFkQShiYXRjaCwKICAgICAgICAgIGdsb2JhbFJvdyArIGlubmVyUm93LAogICAgICAgICAga1N0YXJ0IC8gaW5uZXJFbGVtZW50U2l6ZSArIGlucHV0Q29sJHtlPyIsIGJhdGNoSW5kaWNlcyI6IiJ9KTsKICAgICAgICBgLERkPSh0LGUpPT50P2AKICAgICAgICBsZXQgQUNhY2hlZDAgPSBtbV9Bc3ViW2sgKiBpbm5lckVsZW1lbnRTaXplXVtsb2NhbFJvd107CiAgICAgICAgbGV0IEFDYWNoZWQxID0gbW1fQXN1YltrICogaW5uZXJFbGVtZW50U2l6ZSArIDFdW2xvY2FsUm93XTsKICAgICAgICBsZXQgQUNhY2hlZDIgPSBtbV9Bc3ViW2sgKiBpbm5lckVsZW1lbnRTaXplICsgMl1bbG9jYWxSb3ddOwogICAgICAgICR7ZT09PTM/IiI6ImxldCBBQ2FjaGVkMyA9IG1tX0FzdWJbayAqIGlubmVyRWxlbWVudFNpemUgKyAzXVtsb2NhbFJvd107In0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd1BlclRocmVhZDsgaSA9IGkgKyAxKSB7CiAgICAgICAgICBhY2NbaV0gPSBCQ2FjaGVkMCAqIEFDYWNoZWQwW2ldICsgYWNjW2ldOwogICAgICAgICAgYWNjW2ldID0gQkNhY2hlZDEgKiBBQ2FjaGVkMVtpXSArIGFjY1tpXTsKICAgICAgICAgIGFjY1tpXSA9IEJDYWNoZWQyICogQUNhY2hlZDJbaV0gKyBhY2NbaV07CiAgICAgICAgICAke2U9PT0zPyIiOiJhY2NbaV0gPSBCQ2FjaGVkMyAqIEFDYWNoZWQzW2ldICsgYWNjW2ldOyJ9CiAgICAgICAgfWA6YAogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93UGVyVGhyZWFkOyBpID0gaSArIDEpIHsKICAgICAgICAgIGxldCBBQ2FjaGVkID0gbW1fQXN1Ylt0aWxlUm93ICsgaV1ba107CiAgICAgICAgICBhY2NbaV0gPSBCQ2FjaGVkMCAqIEFDYWNoZWQueCArIGFjY1tpXTsKICAgICAgICAgIGFjY1tpXSA9IEJDYWNoZWQxICogQUNhY2hlZC55ICsgYWNjW2ldOwogICAgICAgICAgYWNjW2ldID0gQkNhY2hlZDIgKiBBQ2FjaGVkLnogKyBhY2NbaV07CiAgICAgICAgICAke2U9PT0zPyIiOiJhY2NbaV0gPSBCQ2FjaGVkMyAqIEFDYWNoZWQudyArIGFjY1tpXTsifQogICAgICAgIH1gLElhPSh0LGUscj0iZjMyIixuLGE9ITEsaT0zMixzPSExLG89MzIpPT57bGV0IGw9ZVsxXSp0WzFdLGQ9ZVswXSp0WzBdLGM9YT9sOmksdT1hP2k6bCxoPWMvZVswXSxmPWkvZVsxXTtpZighKChhJiZoPT09NCYmdFsxXT09PTR8fCFhJiYoaD09PTN8fGg9PT00KSkmJmMlZVswXT09PTAmJmklZVsxXT09PTAmJnRbMF09PT00KSl0aHJvdyBuZXcgRXJyb3IoYElmIHRyYW5zcG9zZUEgJHthfSBpcyB0cnVlLCBpbm5lckVsZW1lbnRTaXplICR7aH0gYW5kIHdvcmtQZXJUaHJlYWRbMV0gJHt0WzFdfSBtdXN0IGJlIDQuCiAgICAgIE90aGVyd2lzZSwgaW5uZXJFbGVtZW50U2l6ZSAke2h9IG11c3QgYmUgMyBvciA0LgogIHRpbGVBV2lkdGggJHtjfSBtdXN0IGJlIGRpdmlzaWJsZSBieSB3b3JrZ3JvdXBTaXplWzBdJHtlWzBdfS4gdGlsZUlubmVyICR7aX0gbXVzdCBiZSBkaXZpc2libGUgYnkgd29ya2dyb3VwU2l6ZVsxXSAke2VbMV19LiBjb2xQZXJUaHJlYWQgJHt0WzBdfSBtdXN0IGJlIDQuYCk7cmV0dXJuYAp2YXI8d29ya2dyb3VwPiBtbV9Bc3ViOiBhcnJheTxhcnJheTx2ZWMke2h9PCR7cn0+LCAke2MvaH0+LCAke3V9PjsKdmFyPHdvcmtncm91cD4gbW1fQnN1YjogYXJyYXk8YXJyYXk8dmVjNDwke3J9PiwgJHtkL3RbMF19PiwgJHtpfT47Cgpjb25zdCByb3dQZXJUaHJlYWQgPSAke3RbMV19Owpjb25zdCBjb2xQZXJUaHJlYWQgPSAke3RbMF19Owpjb25zdCBpbm5lckVsZW1lbnRTaXplID0gJHtofTsKY29uc3QgdGlsZUlubmVyID0gJHtpfTsKCkBjb21wdXRlIEB3b3JrZ3JvdXBfc2l6ZSgke2VbMF19LCAke2VbMV19LCAke2VbMl19KQpmbiBtYWluKEBidWlsdGluKGxvY2FsX2ludm9jYXRpb25faWQpIGxvY2FsSWQgOiB2ZWMzPHUzMj4sCiAgICAgICAgQGJ1aWx0aW4oZ2xvYmFsX2ludm9jYXRpb25faWQpIGdsb2JhbElkIDogdmVjMzx1MzI+LAogICAgICAgIEBidWlsdGluKHdvcmtncm91cF9pZCkgd29ya2dyb3VwSWQgOiB2ZWMzPHUzMj4pIHsKICBsZXQgbG9jYWxSb3cgPSBpMzIobG9jYWxJZC55KTsKICBsZXQgdGlsZVJvdyA9IGxvY2FsUm93ICogcm93UGVyVGhyZWFkOwogIGxldCB0aWxlQ29sID0gaTMyKGxvY2FsSWQueCk7CgogIGxldCBnbG9iYWxSb3cgPWkzMihnbG9iYWxJZC55KSAqIHJvd1BlclRocmVhZDsKICBsZXQgZ2xvYmFsQ29sID0gaTMyKGdsb2JhbElkLngpOwogIGxldCBiYXRjaCA9ICR7cz8iMCI6ImkzMihnbG9iYWxJZC56KSJ9OwogICR7bj9gbGV0IGJhdGNoSW5kaWNlcyA9ICR7bi5vZmZzZXRUb0luZGljZXMoInUzMihiYXRjaCkiKX07YDoiIn0KICBsZXQgZ2xvYmFsUm93U3RhcnQgPSBpMzIod29ya2dyb3VwSWQueSkgKiAke2x9OwoKICBsZXQgbnVtVGlsZXMgPSAke3M/YCR7TWF0aC5jZWlsKG8vaSl9YDoiKHVuaWZvcm1zLmRpbUlubmVyIC0gMSkgLyB0aWxlSW5uZXIgKyAxIn07CiAgdmFyIGtTdGFydCA9ICR7cz9gaTMyKGdsb2JhbElkLnopICogJHtvfWA6IjAifTsKCiAgdmFyIGFjYzogYXJyYXk8dmVjNDwke3J9Piwgcm93UGVyVGhyZWFkPjsKCiAgLy8gTG9vcCBvdmVyIHNoYXJlZCBkaW1lbnNpb24uCiAgbGV0IHRpbGVSb3dCID0gbG9jYWxSb3cgKiAke2Z9OwogIGZvciAodmFyIHQgPSAwOyB0IDwgbnVtVGlsZXM7IHQgPSB0ICsgMSkgewogICAgICAvLyBMb2FkIG9uZSB0aWxlIG9mIEEgaW50byBsb2NhbCBtZW1vcnkuCiAgICAgIGZvciAodmFyIGlubmVyUm93ID0gMDsgaW5uZXJSb3cgPCByb3dQZXJUaHJlYWQ7IGlubmVyUm93ID0gaW5uZXJSb3cgKyAxKSB7CiAgICAgICAgICBsZXQgaW5wdXRSb3cgPSB0aWxlUm93ICsgaW5uZXJSb3c7CiAgICAgICAgICBsZXQgaW5wdXRDb2wgPSB0aWxlQ29sOwogICAgICAgICAgJHtQZChhLG4pfQogICAgICB9CgogICAgICAvLyBMb2FkIG9uZSB0aWxlIG9mIEIgaW50byBsb2NhbCBtZW1vcnkuCiAgICAgIGZvciAodmFyIGlubmVyUm93ID0gMDsgaW5uZXJSb3cgPCAke2Z9OyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkgewogICAgICAgICAgbGV0IGlucHV0Um93ID0gdGlsZVJvd0IgKyBpbm5lclJvdzsKICAgICAgICAgIGxldCBpbnB1dENvbCA9IHRpbGVDb2w7CiAgICAgICAgICBtbV9Cc3ViW2lucHV0Um93XVtpbnB1dENvbF0gPSBtbV9yZWFkQihiYXRjaCwga1N0YXJ0ICsgaW5wdXRSb3csIGdsb2JhbENvbCR7bj8iLCBiYXRjaEluZGljZXMiOiIifSk7CiAgICAgIH0KICAgICAga1N0YXJ0ID0ga1N0YXJ0ICsgdGlsZUlubmVyOwogICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CgogICAgICAvLyBDb21wdXRlIGFjYyB2YWx1ZXMgZm9yIGEgc2luZ2xlIHRocmVhZC4KICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aWxlSW5uZXIgLyBpbm5lckVsZW1lbnRTaXplOyBrID0gayArIDEpIHsKICAgICAgICAgIGxldCBCQ2FjaGVkMCA9IG1tX0JzdWJbayAqIGlubmVyRWxlbWVudFNpemVdW3RpbGVDb2xdOwogICAgICAgICAgbGV0IEJDYWNoZWQxID0gbW1fQnN1YltrICogaW5uZXJFbGVtZW50U2l6ZSArIDFdW3RpbGVDb2xdOwogICAgICAgICAgbGV0IEJDYWNoZWQyID0gbW1fQnN1YltrICogaW5uZXJFbGVtZW50U2l6ZSArIDJdW3RpbGVDb2xdOwogICAgICAgICAgJHtoPT09Mz8iIjoibGV0IEJDYWNoZWQzID0gbW1fQnN1YltrICogaW5uZXJFbGVtZW50U2l6ZSArIDNdW3RpbGVDb2xdOyJ9CgogICAgICAgICAgJHtEZChhLGgpfQogICAgICB9CgogICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CiAgfQoKICBmb3IgKHZhciBpbm5lclJvdyA9IDA7IGlubmVyUm93IDwgcm93UGVyVGhyZWFkOyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkgewogICAgICBtbV93cml0ZShiYXRjaCwgZ2xvYmFsUm93ICsgaW5uZXJSb3csIGdsb2JhbENvbCwgYWNjW2lubmVyUm93XSk7CiAgfQp9YH0sbHM9KHQsZSk9PnQ/YAogICAgICAgICAgICBtbV9Bc3ViW2lucHV0Um93XVtpbnB1dENvbF0gPSBtbV9yZWFkQShiYXRjaCwKICAgICAgICAgICAgICBrU3RhcnQgKyBpbnB1dFJvdywKICAgICAgICAgICAgICBnbG9iYWxSb3dTdGFydCArIGlucHV0Q29sJHtlPyIsIGJhdGNoSW5kaWNlcyI6IiJ9KTsKICAgICAgICAgICAgYDpgCiAgICAgICAgICAgIG1tX0FzdWJbaW5wdXRSb3ddW2lucHV0Q29sXSA9IG1tX3JlYWRBKGJhdGNoLAogICAgICAgICAgICAgIGdsb2JhbFJvd1N0YXJ0ICsgaW5wdXRSb3csCiAgICAgICAgICAgICAga1N0YXJ0ICsgaW5wdXRDb2wke2U/IiwgYmF0Y2hJbmRpY2VzIjoiIn0pOwogICAgICAgICAgICBgLE5kPXQ9PnQ/ImxldCBBQ2FjaGVkID0gbW1fQXN1YltrXVt0aWxlUm93ICsgaW5uZXJSb3ddOyI6ImxldCBBQ2FjaGVkID0gbW1fQXN1Ylt0aWxlUm93ICsgaW5uZXJSb3ddW2tdOyIsQWE9KHQsZSxyPSJmMzIiLG4sYT0hMSxpPTMyLHM9ITEsbz0zMixsPSExKT0+e2xldCBkPXRbMV0qZVsxXSxjPXRbMF0qZVswXSx1PWE/ZDppLGg9YT9pOmQ7aWYoIShoJWVbMV09PT0wJiZ1JWVbMF09PT0wJiZpJWVbMV09PT0wKSl0aHJvdyBuZXcgRXJyb3IoYHRpbGVBSGlnaHQgJHtofSBtdXN0IGJlIGRpdmlzaWJsZSBieSB3b3JrZ3JvdXBTaXplWzFdJHtlWzFdfSwgdGlsZUFXaWR0aCAke3V9IG11c3QgYmUgZGl2aXNpYmxlIGJ5IHdvcmtncm91cFNpemVbMF0ke2VbMF19LCB0aWxlSW5uZXIgJHtpfSBtdXN0IGJlIGRpdmlzaWJsZSBieSB3b3JrZ3JvdXBTaXplWzFdJHtlWzFdfWApO2xldCBmPWgvZVsxXSxnPXUvZVswXSx5PWkvZVsxXSx3PWw/YAogICAgbGV0IGxvY2FsUm93ID0gaTMyKGxvY2FsSWQueSk7CiAgICBsZXQgbG9jYWxDb2wgPSBpMzIobG9jYWxJZC54KTsKICAgIGxldCBnbG9iYWxSb3dTdGFydCA9IGkzMih3b3JrZ3JvdXBJZC55KSAqICR7ZH07CiAgICBsZXQgZ2xvYmFsQ29sU3RhcnQgPSBpMzIod29ya2dyb3VwSWQueCkgKiAke2N9OwoKICAgIC8vIExvb3Agb3ZlciBzaGFyZWQgZGltZW5zaW9uLgogICAgZm9yICh2YXIgdCA9IDA7IHQgPCBudW1UaWxlczsgdCA9IHQgKyAxKSB7CiAgICAgIC8vIExvYWQgb25lIHRpbGUgb2YgQSBpbnRvIGxvY2FsIG1lbW9yeS4KICAgICAgZm9yICh2YXIgaW5wdXRSb3cgPSBsb2NhbFJvdzsgaW5wdXRSb3cgPCAke2h9OyBpbnB1dFJvdyA9IGlucHV0Um93ICsgJHtlWzFdfSkgewogICAgICAgIGZvciAodmFyIGlucHV0Q29sID0gbG9jYWxDb2w7IGlucHV0Q29sIDwgJHt1fTsgaW5wdXRDb2wgPSBpbnB1dENvbCArICR7ZVswXX0pIHsKICAgICAgICAgICR7bHMoYSxuKX0KICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gTG9hZCBvbmUgdGlsZSBvZiBCIGludG8gbG9jYWwgbWVtb3J5LgogICAgICBmb3IgKHZhciBpbnB1dFJvdyA9IGxvY2FsUm93OyBpbnB1dFJvdyA8ICR7aX07IGlucHV0Um93ID0gaW5wdXRSb3cgKyAke2VbMV19KSB7CiAgICAgICAgICAgIGZvciAodmFyIGlucHV0Q29sID0gbG9jYWxDb2w7IGlucHV0Q29sIDwgJHtjfTsgaW5wdXRDb2wgPSBpbnB1dENvbCArICR7ZVswXX0pIHsKICAgICAgICAgIG1tX0JzdWJbaW5wdXRSb3ddW2lucHV0Q29sXSA9IG1tX3JlYWRCKGJhdGNoLAogICAgICAgICAgICBrU3RhcnQgKyBpbnB1dFJvdywKICAgICAgICAgICAgZ2xvYmFsQ29sU3RhcnQgKyBpbnB1dENvbCR7bj8iLCBiYXRjaEluZGljZXMiOiIifSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGtTdGFydCA9IGtTdGFydCArIHRpbGVJbm5lcjsKICAgICAgd29ya2dyb3VwQmFycmllcigpOwoKICAgICAgLy8gQ29tcHV0ZSBhY2MgdmFsdWVzIGZvciBhIHNpbmdsZSB0aHJlYWQuCiAgICAgIHZhciBCQ2FjaGVkIDogYXJyYXk8JHtyfSwgY29sUGVyVGhyZWFkPjsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aWxlSW5uZXI7IGsgPSBrICsgMSkgewogICAgICAgIGZvciAodmFyIGlubmVyID0gMDsgaW5uZXIgPCBjb2xQZXJUaHJlYWQ7IGlubmVyID0gaW5uZXIgKyAxKSB7CiAgICAgICAgICBCQ2FjaGVkW2lubmVyXSA9IG1tX0JzdWJba11bbG9jYWxDb2wgKyBpbm5lciAqICR7ZVswXX1dOwogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBpbm5lclJvdyA9IDA7IGlubmVyUm93IDwgcm93UGVyVGhyZWFkOyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkgewogICAgICAgICAgbGV0IEFDYWNoZWQgPSAke2E/YG1tX0FzdWJba11bbG9jYWxSb3cgKyBpbm5lclJvdyAqICR7ZVsxXX1dO2A6YG1tX0FzdWJbbG9jYWxSb3cgKyBpbm5lclJvdyAqICR7ZVsxXX1dW2tdO2B9CiAgICAgICAgICBmb3IgKHZhciBpbm5lckNvbCA9IDA7IGlubmVyQ29sIDwgY29sUGVyVGhyZWFkOyBpbm5lckNvbCA9IGlubmVyQ29sICsgMSkgewogICAgICAgICAgICBhY2NbaW5uZXJSb3ddW2lubmVyQ29sXSA9IGFjY1tpbm5lclJvd11baW5uZXJDb2xdICsKICAgICAgICAgICAgICAgIEFDYWNoZWQgKiBCQ2FjaGVkW2lubmVyQ29sXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgd29ya2dyb3VwQmFycmllcigpOwogICAgfQogICAgZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8IHJvd1BlclRocmVhZDsgaW5uZXJSb3cgPSBpbm5lclJvdyArIDEpIHsKICAgICAgbGV0IGdSb3cgPSBnbG9iYWxSb3dTdGFydCArIGxvY2FsUm93ICsgaW5uZXJSb3cgKiAke2VbMV19OwogICAgICBmb3IgKHZhciBpbm5lckNvbCA9IDA7IGlubmVyQ29sIDwgY29sUGVyVGhyZWFkOyBpbm5lckNvbCA9IGlubmVyQ29sICsgMSkgewogICAgICAgIGxldCBnQ29sID0gZ2xvYmFsQ29sU3RhcnQgKyBsb2NhbENvbCArIGlubmVyQ29sICogJHtlWzBdfTsKICAgICAgICBtbV93cml0ZShiYXRjaCwgZ1JvdywgZ0NvbCwgYWNjW2lubmVyUm93XVtpbm5lckNvbF0pOwogICAgICB9CiAgICB9CiAgICBgOmAKbGV0IHRpbGVSb3cgPSBpMzIobG9jYWxJZC55KSAqIHJvd1BlclRocmVhZDsKbGV0IHRpbGVDb2wgPSBpMzIobG9jYWxJZC54KSAqIGNvbFBlclRocmVhZDsKCmxldCBnbG9iYWxSb3cgPSBpMzIoZ2xvYmFsSWQueSkgKiByb3dQZXJUaHJlYWQ7CmxldCBnbG9iYWxDb2wgPSBpMzIoZ2xvYmFsSWQueCkgKiBjb2xQZXJUaHJlYWQ7CmxldCBnbG9iYWxSb3dTdGFydCA9IGkzMih3b3JrZ3JvdXBJZC55KSAqICR7ZH07CgpsZXQgdGlsZVJvd0EgPSBpMzIobG9jYWxJZC55KSAqICR7Zn07CmxldCB0aWxlQ29sQSA9IGkzMihsb2NhbElkLngpICogJHtnfTsKbGV0IHRpbGVSb3dCID0gaTMyKGxvY2FsSWQueSkgKiAke3l9OwovLyBMb29wIG92ZXIgc2hhcmVkIGRpbWVuc2lvbi4KZm9yICh2YXIgdCA9IDA7IHQgPCBudW1UaWxlczsgdCA9IHQgKyAxKSB7CiAgLy8gTG9hZCBvbmUgdGlsZSBvZiBBIGludG8gbG9jYWwgbWVtb3J5LgogIGZvciAodmFyIGlubmVyUm93ID0gMDsgaW5uZXJSb3cgPCAke2Z9OyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkgewogICAgZm9yICh2YXIgaW5uZXJDb2wgPSAwOyBpbm5lckNvbCA8ICR7Z307IGlubmVyQ29sID0gaW5uZXJDb2wgKyAxKSB7CiAgICAgIGxldCBpbnB1dFJvdyA9IHRpbGVSb3dBICsgaW5uZXJSb3c7CiAgICAgIGxldCBpbnB1dENvbCA9IHRpbGVDb2xBICsgaW5uZXJDb2w7CiAgICAgICR7bHMoYSxuKX0KICAgIH0KICB9CgogIC8vIExvYWQgb25lIHRpbGUgb2YgQiBpbnRvIGxvY2FsIG1lbW9yeS4KICBmb3IgKHZhciBpbm5lclJvdyA9IDA7IGlubmVyUm93IDwgJHt5fTsgaW5uZXJSb3cgPSBpbm5lclJvdyArIDEpIHsKICAgIGZvciAodmFyIGlubmVyQ29sID0gMDsgaW5uZXJDb2wgPCBjb2xQZXJUaHJlYWQ7IGlubmVyQ29sID0gaW5uZXJDb2wgKyAxKSB7CiAgICAgIGxldCBpbnB1dFJvdyA9IHRpbGVSb3dCICsgaW5uZXJSb3c7CiAgICAgIGxldCBpbnB1dENvbCA9IHRpbGVDb2wgKyBpbm5lckNvbDsKICAgICAgbW1fQnN1YltpbnB1dFJvd11baW5wdXRDb2xdID0gbW1fcmVhZEIoYmF0Y2gsCiAgICAgICAga1N0YXJ0ICsgaW5wdXRSb3csCiAgICAgICAgZ2xvYmFsQ29sICsgaW5uZXJDb2wke24/IiwgYmF0Y2hJbmRpY2VzIjoiIn0pOwogICAgfQogIH0KICBrU3RhcnQgPSBrU3RhcnQgKyB0aWxlSW5uZXI7CiAgd29ya2dyb3VwQmFycmllcigpOwoKICAvLyBDb21wdXRlIGFjYyB2YWx1ZXMgZm9yIGEgc2luZ2xlIHRocmVhZC4KICB2YXIgQkNhY2hlZCA6IGFycmF5PCR7cn0sIGNvbFBlclRocmVhZD47CiAgZm9yICh2YXIgayA9IDA7IGsgPCB0aWxlSW5uZXI7IGsgPSBrICsgMSkgewogICAgZm9yICh2YXIgaW5uZXIgPSAwOyBpbm5lciA8IGNvbFBlclRocmVhZDsgaW5uZXIgPSBpbm5lciArIDEpIHsKICAgICAgQkNhY2hlZFtpbm5lcl0gPSBtbV9Cc3ViW2tdW3RpbGVDb2wgKyBpbm5lcl07CiAgICB9CgogICAgZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8IHJvd1BlclRocmVhZDsgaW5uZXJSb3cgPSBpbm5lclJvdyArIDEpIHsKICAgICAgJHtOZChhKX0KICAgICAgZm9yICh2YXIgaW5uZXJDb2wgPSAwOyBpbm5lckNvbCA8IGNvbFBlclRocmVhZDsgaW5uZXJDb2wgPSBpbm5lckNvbCArIDEpIHsKICAgICAgICBhY2NbaW5uZXJSb3ddW2lubmVyQ29sXSA9IGFjY1tpbm5lclJvd11baW5uZXJDb2xdICsgQUNhY2hlZCAqIEJDYWNoZWRbaW5uZXJDb2xdOwogICAgICB9CiAgICB9CiAgfQoKICB3b3JrZ3JvdXBCYXJyaWVyKCk7Cn0KCmZvciAodmFyIGlubmVyUm93ID0gMDsgaW5uZXJSb3cgPCByb3dQZXJUaHJlYWQ7IGlubmVyUm93ID0gaW5uZXJSb3cgKyAxKSB7CiAgZm9yICh2YXIgaW5uZXJDb2wgPSAwOyBpbm5lckNvbCA8IGNvbFBlclRocmVhZDsgaW5uZXJDb2wgPSBpbm5lckNvbCArIDEpIHsKICAgIG1tX3dyaXRlKGJhdGNoLCBnbG9iYWxSb3cgKyBpbm5lclJvdywgZ2xvYmFsQ29sICsgaW5uZXJDb2wsCiAgICAgICAgYWNjW2lubmVyUm93XVtpbm5lckNvbF0pOwogIH0KfQpgO3JldHVybmAKICB2YXI8d29ya2dyb3VwPiBtbV9Bc3ViIDogYXJyYXk8YXJyYXk8JHtyfSwgJHt1fT4sICR7aH0+OwogIHZhcjx3b3JrZ3JvdXA+IG1tX0JzdWIgOiBhcnJheTxhcnJheTwke3J9LCAke2N9PiwgJHtpfT47CiAgY29uc3Qgcm93UGVyVGhyZWFkID0gJHt0WzFdfTsKICBjb25zdCBjb2xQZXJUaHJlYWQgPSAke3RbMF19OwogIGNvbnN0IHRpbGVJbm5lciA9ICR7aX07CgpAY29tcHV0ZSBAd29ya2dyb3VwX3NpemUoJHtlWzBdfSwgJHtlWzFdfSwgJHtlWzJdfSkKZm4gbWFpbihAYnVpbHRpbihsb2NhbF9pbnZvY2F0aW9uX2lkKSBsb2NhbElkIDogdmVjMzx1MzI+LAogICAgICAgIEBidWlsdGluKGdsb2JhbF9pbnZvY2F0aW9uX2lkKSBnbG9iYWxJZCA6IHZlYzM8dTMyPiwKICAgICAgICBAYnVpbHRpbih3b3JrZ3JvdXBfaWQpIHdvcmtncm91cElkIDogdmVjMzx1MzI+KSB7CiAgICBsZXQgYmF0Y2ggPSAke3M/IjAiOiJpMzIoZ2xvYmFsSWQueikifTsKICAgICR7bj9gbGV0IGJhdGNoSW5kaWNlcyA9ICR7bi5vZmZzZXRUb0luZGljZXMoInUzMihiYXRjaCkiKX07YDoiIn0KICAgIGxldCBudW1UaWxlcyA9ICR7cz9gJHtNYXRoLmNlaWwoby9pKX1gOiIodW5pZm9ybXMuZGltSW5uZXIgLSAxKSAvIHRpbGVJbm5lciArIDEifTsKICAgIHZhciBrU3RhcnQgPSAke3M/YGkzMihnbG9iYWxJZC56KSAqICR7b31gOiIwIn07CgogICAgdmFyIGFjYyA6IGFycmF5PGFycmF5PCR7cn0sIGNvbFBlclRocmVhZD4sIHJvd1BlclRocmVhZD47CgogICAgLy8gV2l0aG91dCB0aGlzIGluaXRpYWxpemF0aW9uIHN0cmFuZ2UgdmFsdWVzIHNob3cgdXAgaW4gYWNjLgogICAgZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8IHJvd1BlclRocmVhZDsgaW5uZXJSb3cgPSBpbm5lclJvdyArIDEpIHsKICAgICAgZm9yICh2YXIgaW5uZXJDb2wgPSAwOyBpbm5lckNvbCA8IGNvbFBlclRocmVhZDsgaW5uZXJDb2wgPSBpbm5lckNvbCArIDEpIHsKICAgICAgICBhY2NbaW5uZXJSb3ddW2lubmVyQ29sXSA9IDAuMDsKICAgICAgfQogICAgfQogICAgJHt3fQogIH0KYH0sVWQ9KHQsZSxyLG4sYSxpPSExKT0+e2xldFtzLG8sbF09YSxbZCxjLHUsaF09bixmPXBuKHMsbCksZz1wbihvLGwpLHk9SXQoblswXS50eXBlLnRlbnNvciksdz0oKT0+e2xldCBrPWMucmFuayxFPWQucmFuayx4PWB2YXIgYUluZGljZXM6ICR7Yy50eXBlLmluZGljZXN9O2A7Zm9yKGxldCBJPWstMi0xLFQ9RS0xO0k+PTA7SS0tLFQtLSl4Kz1gCmFJbmRpY2VzWyR7SX1dID0gJHtFPjE/YGJhdGNoSW5kaWNlc1ske1R9XWA6ImJhdGNoSW5kaWNlcyJ9O2A7cmV0dXJuIGYuZm9yRWFjaChJPT57eCs9YAphSW5kaWNlc1ske0l9XSA9IDA7YH0pLHgrPWAKYUluZGljZXNbJHtrLTJ9XSA9IHUzMihyb3cpOwogICAgICAgICAgICAgICAgICAgYUluZGljZXNbJHtrLTF9XSA9IHUzMihjb2xJbik7YCx4fSx2PSgpPT57bGV0IGs9dS5yYW5rLEU9ZC5yYW5rLHg9YHZhciBiSW5kaWNlczogJHt1LnR5cGUuaW5kaWNlc307YDtmb3IobGV0IEk9ay0yLTEsVD1FLTE7ST49MDtJLS0sVC0tKXgrPWAKYkluZGljZXNbJHtJfV0gPSAke0U+MT9gYmF0Y2hJbmRpY2VzWyR7VH1dYDoiYmF0Y2hJbmRpY2VzIn07YDtyZXR1cm4gZy5mb3JFYWNoKEk9Pnt4Kz1gCmJJbmRpY2VzWyR7SX1dID0gMDtgfSkseCs9YApiSW5kaWNlc1ske2stMn1dID0gdTMyKHJvdyk7CiAgICAgICAgICAgICAgICAgICBiSW5kaWNlc1ske2stMX1dID0gdTMyKGNvbEluKTtgLHh9O3JldHVybmAKICAgIGZuIG1tX3JlYWRBKGJhdGNoOiBpMzIsIHJvdzogaTMyLCBjb2xJbjogaTMyLCBiYXRjaEluZGljZXM6ICR7ZC50eXBlLmluZGljZXN9KSAtPiAke2d0KHQseSl9IHsKICAgICAgdmFyIHZhbHVlID0gJHtndCh0LHkpfSgwLjApOwogICAgICBsZXQgY29sID0gY29sSW4gKiAke3R9OwogICAgICBpZihyb3cgPCB1bmlmb3Jtcy5kaW1BT3V0ZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltSW5uZXIpCiAgICAgIHsKICAgICAgICAke3coKX0KICAgICAgICB2YWx1ZSA9ICR7Yy5nZXRCeUluZGljZXMoImFJbmRpY2VzIil9OwogICAgICB9CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0KCiAgICBmbiBtbV9yZWFkQihiYXRjaDogaTMyLCByb3c6IGkzMiwgY29sSW46IGkzMiwgYmF0Y2hJbmRpY2VzOiAke2QudHlwZS5pbmRpY2VzfSkgLT4gJHtndCh0LHkpfSB7CiAgICAgIHZhciB2YWx1ZSA9ICR7Z3QodCx5KX0oMC4wKTsKICAgICAgbGV0IGNvbCA9IGNvbEluICogJHt0fTsKICAgICAgaWYocm93IDwgdW5pZm9ybXMuZGltSW5uZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltQk91dGVyKQogICAgICB7CiAgICAgICAgJHt2KCl9CiAgICAgICAgdmFsdWUgPSAke3UuZ2V0QnlJbmRpY2VzKCJiSW5kaWNlcyIpfTsKICAgICAgfQogICAgICByZXR1cm4gdmFsdWU7CiAgICB9CgogICAgZm4gbW1fd3JpdGUoYmF0Y2g6IGkzMiwgcm93OiBpMzIsIGNvbEluOiBpMzIsIHZhbHVlSW46ICR7Z3QodCx5KX0pIHsKICAgICAgbGV0IGNvbCA9IGNvbEluICogJHt0fTsKICAgICAgaWYgKHJvdyA8IHVuaWZvcm1zLmRpbUFPdXRlciAmJiBjb2wgPCB1bmlmb3Jtcy5kaW1CT3V0ZXIpIHsKICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZUluOwogICAgICAgIGxldCBjb29yZHMgPSB2ZWMzPGkzMj4oYmF0Y2gsIHJvdywgY29sSW4pOwogICAgICAgICR7ZT9gdmFsdWUgPSB2YWx1ZSArICR7aT8iYmlhc1tjb2xJbl0iOmAke2d0KHQseSl9KGJpYXNbcm93XSlgfTtgOiIifQogICAgICAgICR7cn0KICAgICAgICAke2guc2V0QnlJbmRpY2VzKCJ2ZWMzPHUzMj4oY29vcmRzKSIsInZhbHVlIil9CiAgICAgIH0KICAgIH0KICAgIGB9LHVzPSh0LGUscixuLGE9ITEpPT57bGV0IGk9dFswXS5kaW1zLHM9dFsxXS5kaW1zLG89aS5zbGljZSgwLC0yKSxsPXMuc2xpY2UoMCwtMiksZD1uP24uc2xpY2UoMCwtMik6ci5zbGljZSgwLC0yKSxjPXN0KGQubGVuZ3RoKSx1PWM/ZC5sZW5ndGg6ZCxoPVppKCJiYXRjaERpbXMiLHRbMF0uZGF0YVR5cGUsdSwxKSxmPWVlLnNpemUoZCksZz1pW2kubGVuZ3RoLTJdLHk9aVtpLmxlbmd0aC0xXSx3PXNbcy5sZW5ndGgtMV0sdj15JTQ9PT0wJiZ3JTQ9PT0wLGs9Zzw9OD9bNCwxLDFdOls0LDQsMV0sRT1bOCw4LDFdLHg9W01hdGguY2VpbCh3L0VbMF0va1swXSksTWF0aC5jZWlsKGcvRVsxXS9rWzFdKSxNYXRoLmNlaWwoZi9FWzJdL2tbMl0pXSxJPUl0KHRbMF0uZGF0YVR5cGUpLFQ9dj80OjEsQj1bLi4ubyxnLHkvVF0sVT1zdChCLmxlbmd0aCksSD1VP0IubGVuZ3RoOkIsSz1bLi4ubCx5LHcvVF0sTz1zdChLLmxlbmd0aCksRz1PP0subGVuZ3RoOkssbmU9W2YsZyx3L1RdLHE9SigiYSIsdFswXS5kYXRhVHlwZSxILFQpLFA9SigiYiIsdFsxXS5kYXRhVHlwZSxHLFQpLEw9dmUoInJlc3VsdCIsdFswXS5kYXRhVHlwZSxuZS5sZW5ndGgsVCksVj1bcSxQXSx0ZT1be3R5cGU6ImludDMyIixkYXRhOmd9LHt0eXBlOiJpbnQzMiIsZGF0YTp3fSx7dHlwZToiaW50MzIiLGRhdGE6eX1dO2MmJnRlLnB1c2goLi4uaWUoZCkpLFUmJnRlLnB1c2goLi4uaWUoQikpLE8mJnRlLnB1c2goLi4uaWUoSykpO2xldCBYPVtdO1gucHVzaChVPyJyYW5rIjoiZGltcyIpLFgucHVzaChPPyJyYW5rIjoiZGltcyIpO2xldCB1ZT10Lmxlbmd0aD4yLHthY3RpdmF0aW9uRnVuY3Rpb246RixhcHBseUFjdGl2YXRpb246b2V9PUZyKGUsTC50eXBlLnZhbHVlKSwkZT1VZChULHVlLG9lLFtoLHEsUCxMXSxbbyxsLGRdLGEpO2lmKHVlKXtsZXQgUGU9YT9UOjE7Vi5wdXNoKEooImJpYXMiLHRbMl0uZGF0YVR5cGUsdFsyXS5kaW1zLmxlbmd0aCxQZSkpLHRlLnB1c2goLi4uaWUodFsyXS5kaW1zKSksWC5wdXNoKCJyYW5rIil9dGUucHVzaCguLi5pZShuZSkpO2xldCBVZT1QZT0+YAogICR7UGUucmVnaXN0ZXJVbmlmb3JtKCJkaW1BT3V0ZXIiLCJpMzIiKS5yZWdpc3RlclVuaWZvcm0oImRpbUJPdXRlciIsImkzMiIpLnJlZ2lzdGVyVW5pZm9ybSgiZGltSW5uZXIiLCJpMzIiKS5yZWdpc3RlckludGVybmFsVmFyaWFibGVzKGgpLmRlY2xhcmVWYXJpYWJsZXMoLi4uVixMKX0KICAke0Z9CiAgJHskZX0KICAke3Y/SWEoayxFLEksaCk6QWEoayxFLEksaCl9CiAgICAgICAgICAgICAgICAgICBgO3JldHVybntuYW1lOiJNYXRNdWwiLHNoYWRlckNhY2hlOntoaW50OmUuYWN0aXZhdGlvbkNhY2hlS2V5K2Ake2t9JHt2fSR7YX1gLGlucHV0RGVwZW5kZW5jaWVzOlh9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cixkYXRhVHlwZTp0WzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDp4WzBdLHk6eFsxXSx6OnhbMl19LHByb2dyYW1Vbmlmb3Jtczp0ZX0pLGdldFNoYWRlclNvdXJjZTpVZX19fSksV2QsTGQscF89USgoKT0+e3ZyKCksQ2UoKSxicigpLHNzKCksUmQoKSxUYSgpLFdkPSh0LGUscixuLGE9ITEsaSxzPTQsbz00LGw9NCxkPSJmMzIiKT0+e2xldCBjPUs9Pntzd2l0Y2goSyl7Y2FzZSAxOnJldHVybiJyZXNEYXRhID0geFt4SW5kZXhdOyI7Y2FzZSAzOnJldHVybmByZXNEYXRhID0gdmVjMzwke2R9Pih4W3hJbmRleF0sIHhbeEluZGV4ICsgMV0sIHhbeEluZGV4ICsgMl0pO2A7Y2FzZSA0OnJldHVybiJyZXNEYXRhID0geFt4SW5kZXggLyA0XTsiO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBpbm5lckVsZW1lbnRTaXplICR7S30gaXMgbm90IHN1cHBvcnRlZC5gKX19LHU9Sz0+e3N3aXRjaChLKXtjYXNlIDE6cmV0dXJuInJldHVybiB3W3JvdyAqIGkzMih1bmlmb3Jtcy53X3NoYXBlWzNdKSArIGNvbEluXTsiO2Nhc2UgNDpyZXR1cm4icmV0dXJuIHdbcm93ICogaTMyKHVuaWZvcm1zLndfc2hhcGVbM10pIC8gNCArIGNvbEluXTsiO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBpbm5lckVsZW1lbnRTaXplICR7S30gaXMgbm90IHN1cHBvcnRlZC5gKX19LGg9dD9gCiAgICBsZXQgY29vcmQgPSB2ZWM0PGkzMj4oYmF0Y2gsIHhSb3csIHhDb2wsIHhDaCk7CiAgICBgOmAKICAgIGxldCBjb29yZCA9IHZlYzQ8aTMyPihiYXRjaCwgeENoLCB4Um93LCB4Q29sKTsKICAgIGAsZj10P2AKICAgIGxldCBjb29yZHMgPSB2ZWM0PGkzMj4oCiAgICAgIGJhdGNoLAogICAgICByb3cgLyBvdXRXaWR0aCwKICAgICAgcm93ICUgb3V0V2lkdGgsCiAgICAgIGNvbCk7CiAgICBgOmAKICAgIGxldCBjb29yZHMgPSB2ZWM0PGkzMj4oCiAgICAgIGJhdGNoLAogICAgICByb3csCiAgICAgIGNvbCAvIG91dFdpZHRoLAogICAgICBjb2wgJSBvdXRXaWR0aCk7CiAgICBgLGc9dD8iaTMyKHVuaWZvcm1zLnhfc2hhcGVbMV0pIjoiaTMyKHVuaWZvcm1zLnhfc2hhcGVbMl0pIix5PXQ/ImkzMih1bmlmb3Jtcy54X3NoYXBlWzJdKSI6ImkzMih1bmlmb3Jtcy54X3NoYXBlWzNdKSIsdz10PyJyb3ciOiJjb2wiLHY9dD8iY29sIjoicm93IixrPWAKICAgIGxldCBpbkNoYW5uZWxzID0gaTMyKHVuaWZvcm1zLndfc2hhcGVbMl0pOwogICAgbGV0IG91dFdpZHRoID0gJHt0PyJpMzIodW5pZm9ybXMucmVzdWx0X3NoYXBlWzJdKSI6ImkzMih1bmlmb3Jtcy5yZXN1bHRfc2hhcGVbM10pIn07CiAgICBsZXQgb3V0Um93ID0gJHt3fSAvIG91dFdpZHRoOwogICAgbGV0IG91dENvbCA9ICR7d30gJSBvdXRXaWR0aDsKCiAgICBsZXQgV1JvdyA9ICR7dn0gLyAoZmlsdGVyRGltc1sxXSAqIGluQ2hhbm5lbHMpOwogICAgbGV0IFdDb2wgPSAke3Z9IC8gaW5DaGFubmVscyAlIGZpbHRlckRpbXNbMV07CiAgICBsZXQgeFJvdyA9IG91dFJvdyAqIHN0cmlkZVswXSArIGRpbGF0aW9uWzBdICogV1JvdyAtIHBhZFswXTsKICAgIGxldCB4Q29sID0gb3V0Q29sICogc3RyaWRlWzFdICsgZGlsYXRpb25bMV0gKiBXQ29sIC0gcGFkWzFdOwogICAgbGV0IHhDaCA9ICR7dn0gJSBpbkNoYW5uZWxzOwogICAgdmFyIHJlc0RhdGEgPSAke2d0KHMsZCl9KDAuMCk7CiAgICAvLyBUaGUgYm91bmRzIGNoZWNraW5nIGlzIGFsd2F5cyBuZWVkZWQgc2luY2Ugd2UgdXNlIGl0IHRvIHBhZCB6ZXJvIGZvcgogICAgLy8gdGhlICdzYW1lJyBwYWRkaW5nIHR5cGUuCiAgICBpZiAoeFJvdyA+PSAwICYmIHhSb3cgPCAke2d9ICYmIHhDb2wgPj0gMCAmJiB4Q29sIDwgJHt5fSkgewogICAgICAke2h9CiAgICAgIGxldCB4SW5kZXggPSBnZXRJbmRleEZyb21Db29yZHM0RChjb29yZCwgdmVjNDxpMzI+KHVuaWZvcm1zLnhfc2hhcGUpKTsKICAgICAgJHtjKHMpfQogICAgfQogICAgcmV0dXJuIHJlc0RhdGE7YCxFPXQ/ZSYmbj9gCiAgICBsZXQgY29sID0gY29sSW4gKiAke3N9OwogICAgJHtrfWA6YAogICAgbGV0IGNvbCA9IGNvbEluICogJHtzfTsKICAgIGlmIChyb3cgPCB1bmlmb3Jtcy5kaW1BT3V0ZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltSW5uZXIpIHsKICAgICAgJHtrfQogICAgfQogICAgcmV0dXJuICR7Z3QocyxkKX0oMC4wKTtgOm4mJnI/YAogICAgbGV0IGNvbCA9IGNvbEluICogJHtzfTsKICAgICR7a31gOmAKICAgIGxldCBjb2wgPSBjb2xJbiAqICR7c307CiAgICBpZiAocm93IDwgdW5pZm9ybXMuZGltSW5uZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltQk91dGVyKSB7CiAgICAgICR7a30KICAgIH0KICAgIHJldHVybiAke2d0KHMsZCl9KDAuMCk7YCx4PWAke3Uobyl9YCxJPWd0KGwsZCksVD1ndCh0P3M6byxkKSxCPWd0KHQ/bzpzLGQpLHthY3RpdmF0aW9uRnVuY3Rpb246VSxhcHBseUFjdGl2YXRpb246SH09RnIoaSxJKTtyZXR1cm5gCiAgICAke1V9CiAgICBmbiBtbV9yZWFkQShiYXRjaDogaTMyLCByb3cgOiBpMzIsIGNvbEluIDogaTMyKSAtPiAke1R9IHsKICAgICAgJHt0P0U6eH0KICAgIH0KCiAgICBmbiBtbV9yZWFkQihiYXRjaDogaTMyLCByb3cgOiBpMzIsIGNvbEluIDogaTMyKSAtPiAke0J9IHsKICAgICAgJHt0P3g6RX0KICAgIH0KCiAgICBmbiBtbV93cml0ZShiYXRjaDogaTMyLCByb3cgOiBpMzIsIGNvbEluIDogaTMyLCB2YWx1ZUluIDogJHtJfSkgewogICAgICBsZXQgY29sID0gY29sSW4gKiAke2x9OwogICAgICBpZiAocm93IDwgdW5pZm9ybXMuZGltQU91dGVyICYmIGNvbCA8IHVuaWZvcm1zLmRpbUJPdXRlcikKICAgICAgewogICAgICB2YXIgdmFsdWUgPSB2YWx1ZUluOwogICAgICBsZXQgb3V0V2lkdGggPSAke3Q/ImkzMih1bmlmb3Jtcy5yZXN1bHRfc2hhcGVbMl0pIjoiaTMyKHVuaWZvcm1zLnJlc3VsdF9zaGFwZVszXSkifTsKICAgICAgJHtmfQogICAgICAke2lzKGEpfQogICAgICAke0h9CiAgICAgIHNldE91dHB1dEF0Q29vcmRzKGNvb3Jkc1swXSwgY29vcmRzWzFdLCBjb29yZHNbMl0sIGNvb3Jkc1szXSwgdmFsdWUpOwogICAgICB9CiAgICB9YH0sTGQ9KHQsZSxyLG4sYSxpLHMsbyk9PntsZXQgbD1lLmZvcm1hdD09PSJOSFdDIixkPWw/dFswXS5kaW1zWzNdOnRbMF0uZGltc1sxXSxjPXJbMF0sdT1sP3JbMl06clszXSxoPWw/clsxXTpyWzJdLGY9bD9yWzNdOnJbMV0sZz1sJiYoZCU0PT09MHx8ZCUzPT09MCkmJmYlND09PTAseT1sP2Y6dSpoLHc9bD91Kmg6Zix2PVs4LDgsMV0saz1uPD04P1s0LDEsMV06WzQsNCwxXSxFPVtNYXRoLmNlaWwoeS92WzBdL2tbMF0pLE1hdGguY2VpbCh3L3ZbMV0va1sxXSksTWF0aC5jZWlsKGMvdlsyXS9rWzJdKV07YXQoInZlcmJvc2UiLCgpPT5gW2NvbnYyZF9tbV93ZWJncHVdIGRpc3BhdGNoID0gJHtFfWApO2xldCB4PWc/bCYmZCU0IT09MD8zOjQ6MSxJPXZbMV0qa1sxXSxUPXZbMF0qa1swXSxCPU1hdGgubWF4KHZbMF0qeCx2WzFdKSxVPW4lST09PTAsSD1hJVQ9PT0wLEs9aSVCPT09MCxPPWc/W3gsNCw0XTpbMSwxLDFdLEc9SXQodFswXS5kYXRhVHlwZSksbmU9Zz80OjEscT1be3R5cGU6ImludDMyIixkYXRhOm59LHt0eXBlOiJpbnQzMiIsZGF0YTphfSx7dHlwZToiaW50MzIiLGRhdGE6aX1dLFA9SigieCIsdFswXS5kYXRhVHlwZSx0WzBdLmRpbXMubGVuZ3RoLHg9PT0zPzE6eCksTD1KKCJ3Iix0WzFdLmRhdGFUeXBlLHRbMV0uZGltcy5sZW5ndGgsbmUpLFY9W1AsTF07cS5wdXNoKC4uLmllKHRbMF0uZGltcykpLHEucHVzaCguLi5pZSh0WzFdLmRpbXMpKTtsZXQgdGU9YAogICAgICBmbiBzZXRPdXRwdXRBdEluZGV4KGZsYXRJbmRleCA6IGkzMiwgdmFsdWUgOiAke2c/YHZlYzQ8JHtHfT5gOkd9KSB7CiAgICAgICAgcmVzdWx0W2ZsYXRJbmRleF0gPSAke2c/YHZlYzQ8JHtHfT5gOkd9KHZhbHVlKTsKICAgICAgfQogICAgICBmbiBzZXRPdXRwdXRBdENvb3JkcyhkMCA6IGkzMiwgZDEgOiBpMzIsIGQyIDogaTMyLCBkMyA6IGkzMiwgdmFsdWUgOiAke2c/YHZlYzQ8JHtHfT5gOkd9KSB7CiAgICAgICAgbGV0IGZsYXRJbmRleCA9IGdldE91dHB1dEluZGV4RnJvbUNvb3Jkcyh2ZWM0PGkzMj4oZDAsIGQxLCBkMiwgZDMpKTsKICAgICAgICBzZXRPdXRwdXRBdEluZGV4KGZsYXRJbmRleCAke2c/Ii8gNCI6IiJ9LCB2YWx1ZSk7CiAgICAgIH1gO2lmKHMpe2xldCB1ZT1KKCJiaWFzIix0WzJdLmRhdGFUeXBlLHRbMl0uZGltcy5sZW5ndGgsbmUpO1YucHVzaCh1ZSkscS5wdXNoKC4uLmllKHRbMl0uZGltcykpLHRlKz1gCiAgICAgICAgZm4gZ2V0Qmlhc0J5T3V0cHV0Q29vcmRzKGNvb3JkcyA6IHZlYzQ8aTMyPikgLT4gJHtnP2B2ZWM0PCR7R30+YDpHfSB7CiAgICAgICAgICByZXR1cm4gYmlhc1tjb29yZHMuJHtsPyJ3IjoieSJ9JHtnPyIvIDQiOiIifV07CiAgICAgICAgfWB9bGV0IFg9dmUoInJlc3VsdCIsdFswXS5kYXRhVHlwZSxyLmxlbmd0aCxuZSk7cmV0dXJuIHEucHVzaCguLi5pZShyKSkse25hbWU6IkNvbnYyRE1hdE11bCIsc2hhZGVyQ2FjaGU6e2hpbnQ6ZS5jYWNoZUtleX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpyLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4OkVbMF0seTpFWzFdLHo6RVsyXX0scHJvZ3JhbVVuaWZvcm1zOnF9KSxnZXRTaGFkZXJTb3VyY2U6dWU9PmAKICAgICAgICAke29zKCJ1bmlmb3Jtcy5yZXN1bHRfc3RyaWRlcyIpfQogICAgICAgIC8vc3RydWN0IFVuaWZvcm1zIHsgeFNoYXBlIDogdmVjNDxpMzI+LCB3U2hhcGUgOiB2ZWM0PGkzMj4sIG91dFNoYXBlIDogdmVjNDxpMzI+LAogICAgICAgIC8vICBvdXRTaGFwZVN0cmlkZXM6IHZlYzM8aTMyPiwgZmlsdGVyRGltcyA6IHZlYzI8aTMyPiwgcGFkIDogdmVjMjxpMzI+LCBzdHJpZGUgOiB2ZWMyPGkzMj4sCiAgICAgICAgLy8gIGRpbGF0aW9uIDogdmVjMjxpMzI+LCBkaW1BT3V0ZXIgOiBpMzIsIGRpbUJPdXRlciA6IGkzMiwgZGltSW5uZXIgOiBpMzIgfTsKICAgICAgICAke3VlLnJlZ2lzdGVyVW5pZm9ybSgiZGltQU91dGVyIiwiaTMyIikucmVnaXN0ZXJVbmlmb3JtKCJkaW1CT3V0ZXIiLCJpMzIiKS5yZWdpc3RlclVuaWZvcm0oImRpbUlubmVyIiwiaTMyIikuZGVjbGFyZVZhcmlhYmxlcyguLi5WLFgpfQogICAgICAgIGNvbnN0IGZpbHRlckRpbXMgOiB2ZWMyPGkzMj4gPSB2ZWMyPGkzMj4oJHtlLmtlcm5lbFNoYXBlWzBdfSwgJHtlLmtlcm5lbFNoYXBlWzFdfSk7CiAgICAgICAgY29uc3QgcGFkIDogdmVjMjxpMzI+ID0gdmVjMjxpMzI+KCR7ZS5wYWRzWzBdfSwgJHtlLnBhZHNbMV19KTsKICAgICAgICBjb25zdCBzdHJpZGUgOiB2ZWMyPGkzMj4gPSB2ZWMyPGkzMj4oJHtlLnN0cmlkZXNbMF19LCAke2Uuc3RyaWRlc1sxXX0pOwogICAgICAgIGNvbnN0IGRpbGF0aW9uIDogdmVjMjxpMzI+ID0gdmVjMjxpMzI+KCR7ZS5kaWxhdGlvbnNbMF19LCAke2UuZGlsYXRpb25zWzFdfSk7CiAgICAgICAgJHt0ZX0KICAgICAgICAke1dkKGwsVSxILEsscyxlLE9bMF0sT1sxXSxPWzJdLEcpfQogICAgICAgICAgICAke2c/SWEoayx2LEcsdm9pZCAwLCFsLEIpOkFhKGssdixHLHZvaWQgMCwhbCxCLCExLHZvaWQgMCxvKX1gfX19KSxkcyxoXz1RKCgpPT57SWUoKSxDZSgpLEtkKCksYnIoKSxkcz0odCxlLHIpPT57bGV0IG49dC5sZW5ndGg+MixhPW4/InZhbHVlICs9IGJbb3V0cHV0X2NoYW5uZWxdOyI6IiIsaT10WzBdLmRpbXMscz10WzFdLmRpbXMsbz1zWzBdL2UuZ3JvdXAsbD1lLmZvcm1hdD09PSJOSFdDIixkPXBzKGkscyxlLmRpbGF0aW9ucyxlLnBhZHMsZS5zdHJpZGVzLGwpLGM9ZWUuc2l6ZShkKSx1PXZlKCJvdXRwdXQiLHRbMF0uZGF0YVR5cGUsZCkse2FjdGl2YXRpb25GdW5jdGlvbjpoLGFwcGx5QWN0aXZhdGlvbjpmfT1GcihlLHUudHlwZS52YWx1ZSksZz1KKCJ4Iix0WzBdLmRhdGFUeXBlLGkpLHk9SigidyIsdFsxXS5kYXRhVHlwZSxzKSx3PVtnLHldO24mJncucHVzaChKKCJiIix0WzJdLmRhdGFUeXBlLHRbMl0uZGltcykpO2xldCB2PWs9PmAKICBjb25zdCBzdHJpZGVzOiB2ZWMyPHUzMj4gPSB2ZWMyKCR7ZS5zdHJpZGVzWzBdfXUsICR7ZS5zdHJpZGVzWzFdfXUpOwogIGNvbnN0IHBhZHM6IHZlYzI8dTMyPiA9IHZlYzIoJHtlLnBhZHNbMF19dSwgJHtlLnBhZHNbMV19dSk7CgogICR7ay5kZWNsYXJlVmFyaWFibGVzKC4uLncsdSl9CgogICR7aH0KCiAgJHtrLm1haW5TdGFydCgpfQogICAgJHtrLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoYyl9CgogICAgbGV0IG91dHB1dEluZGljZXMgPSAke3Uub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9OwogICAgbGV0IGJhdGNoOiB1MzIgPSBvdXRwdXRJbmRpY2VzWzBdOwogICAgbGV0IG91dHB1dF9jaGFubmVsOiB1MzIgPSBvdXRwdXRJbmRpY2VzWyR7bD8zOjF9XTsKICAgIGxldCB4UkNDb3JuZXI6IHZlYzI8dTMyPiA9IHZlYzI8dTMyPihvdXRwdXRJbmRpY2VzWyR7bD8xOjJ9XSwgb3V0cHV0SW5kaWNlc1ske2w/MjozfV0pICogc3RyaWRlcyAtIHBhZHM7CiAgICBsZXQgZ3JvdXBfaWQ6IHUzMiA9IG91dHB1dF9jaGFubmVsIC8gJHtvfXU7CgogICAgdmFyIHZhbHVlOiAke3UudHlwZS52YWx1ZX0gPSAke3UudHlwZS52YWx1ZX0oMCk7CiAgICBmb3IgKHZhciB3SW5DaGFubmVsOiB1MzIgPSAwdTsgd0luQ2hhbm5lbCA8ICR7c1sxXX11OyB3SW5DaGFubmVsKyspIHsKICAgICAgbGV0IGlucHV0X2NoYW5uZWwgPSBncm91cF9pZCAqICR7c1sxXX11ICsgd0luQ2hhbm5lbDsKICAgICAgZm9yICh2YXIgd0hlaWdodDogdTMyID0gMHU7IHdIZWlnaHQgPCAke3NbMl19dTsgd0hlaWdodCsrKSB7CiAgICAgICAgbGV0IHhIZWlnaHQgPSB4UkNDb3JuZXIueCArIHdIZWlnaHQgKiAke2UuZGlsYXRpb25zWzBdfXU7CgogICAgICAgIGlmICh4SGVpZ2h0IDwgMHUgfHwgeEhlaWdodCA+PSAke2lbbD8xOjJdfXUpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgZm9yICh2YXIgd1dpZHRoOiB1MzIgPSAwdTsgd1dpZHRoIDwgJHtzWzNdfXU7IHdXaWR0aCsrKSB7CiAgICAgICAgICBsZXQgeFdpZHRoID0geFJDQ29ybmVyLnkgKyB3V2lkdGggKiAke2UuZGlsYXRpb25zWzFdfXU7CiAgICAgICAgICBpZiAoeFdpZHRoIDwgMHUgfHwgeFdpZHRoID49ICR7aVtsPzI6M119dSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBsZXQgeFZhbCA9ICR7bD9nLmdldCgiYmF0Y2giLCJ4SGVpZ2h0IiwieFdpZHRoIiwiaW5wdXRfY2hhbm5lbCIpOmcuZ2V0KCJiYXRjaCIsImlucHV0X2NoYW5uZWwiLCJ4SGVpZ2h0IiwieFdpZHRoIil9OwogICAgICAgICAgbGV0IHdWYWwgPSAke3kuZ2V0KCJvdXRwdXRfY2hhbm5lbCIsIndJbkNoYW5uZWwiLCJ3SGVpZ2h0Iiwid1dpZHRoIil9OwogICAgICAgICAgdmFsdWUgKz0geFZhbCp3VmFsOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgJHthfQogICAgJHtmfQogICAgJHt1LnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwidmFsdWUiKX0KICB9YDtyZXR1cm57bmFtZToiR3JvdXBlZENvbnYiLHNoYWRlckNhY2hlOntoaW50OmUuY2FjaGVLZXl9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cj9yKGQpOmQsZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGMvNjQpfX0pLGdldFNoYWRlclNvdXJjZTp2fX19KSxjcyxGZCxWZCxIZD1RKCgpPT57SWUoKSxUYSgpLENlKCksYnIoKSxjcz0odCxlLHIsbixhPSExKT0+e2xldCBpPXRbMF0uZGltcyxzPXRbMV0uZGltcyxvPWlbaS5sZW5ndGgtMl0sbD1zW3MubGVuZ3RoLTFdLGQ9aVtpLmxlbmd0aC0xXSxjPXZ0KGwpLHU9dnQoZCksaD12dChvKSxmPWVlLnNpemUocikvYy9oLGc9dC5sZW5ndGg+Mix5PW4/bi5zbGljZSgwLC0yKTpyLnNsaWNlKDAsLTIpLHc9W2VlLnNpemUoeSksbyxsXSx2PVt7dHlwZToidWludDMyIixkYXRhOmZ9LHt0eXBlOiJ1aW50MzIiLGRhdGE6b30se3R5cGU6InVpbnQzMiIsZGF0YTpsfSx7dHlwZToidWludDMyIixkYXRhOmR9LC4uLmllKHkpLC4uLmllKGkpLC4uLmllKHMpXTtnJiZ2LnB1c2goLi4uaWUodFsyXS5kaW1zKSksdi5wdXNoKC4uLmllKHcpKTtsZXQgaz1FPT57bGV0IHg9WmkoImJhdGNoX2RpbXMiLHRbMF0uZGF0YVR5cGUseS5sZW5ndGgpLEk9SigiYSIsdFswXS5kYXRhVHlwZSxpLmxlbmd0aCx1KSxUPUooImIiLHRbMV0uZGF0YVR5cGUscy5sZW5ndGgsYyksQj12ZSgib3V0cHV0Iix0WzBdLmRhdGFUeXBlLHcubGVuZ3RoLGMpLHthY3RpdmF0aW9uRnVuY3Rpb246VSxhcHBseUFjdGl2YXRpb246SH09RnIoZSxCLnR5cGUudmFsdWUpLEs9W0ksVF0sTz0iIjtpZihnKXtsZXQgdGU9YT9jOjE7Sy5wdXNoKEooImJpYXMiLHRbMl0uZGF0YVR5cGUsdFsyXS5kaW1zLmxlbmd0aCx0ZSkpLE89YCR7YT9gdmFsdWUgKz0gYmlhc1tjb2wgLyAke3RlfV07YDpgdmFsdWUgKz0gJHtCLnR5cGUudmFsdWV9KGJpYXNbcm93ICsgaV0pO2B9YH1sZXQgRz1pLnNsaWNlKDAsLTIpLG5lPXMuc2xpY2UoMCwtMikscT1wbihHLHkpLFA9cG4obmUseSksTD0odGUsWCk9PntsZXQgdWU9dGUucmFuayxGPXRlLm5hbWU7aWYodWU9PT0yKXJldHVybmB2YXIgJHtGfV9pbmRpY2VzID0gJHt0ZS50eXBlLmluZGljZXN9KDB1LCAwdSk7YDtsZXQgb2U9eC5yYW5rLCRlPWB2YXIgJHtGfV9pbmRpY2VzOiAke3RlLnR5cGUuaW5kaWNlc307YDtmb3IobGV0IFVlPXVlLTItMSxQZT1vZS0xO1VlPj0wO1VlLS0sUGUtLSkkZSs9YAoke0Z9X2luZGljZXNbJHtVZX1dID0gJHtvZT4xP2BiYXRjaF9pbmRpY2VzWyR7UGV9XWA6ImJhdGNoX2luZGljZXMifTtgO3JldHVybiBYLmZvckVhY2goVWU9PnskZSs9YAoke0Z9X2luZGljZXNbJHtVZX1dID0gMDtgfSksJGUrPWAke0Z9X2luZGljZXNbJHt1ZS0yfV0gPSAwdTsKICAgICAgICAgICAgICAgICAgICAgJHtGfV9pbmRpY2VzWyR7dWUtMX1dID0gMHU7YCwkZX0sVj0oKT0+e2xldCB0ZT1gdmFyIGFfZGF0YTogJHtJLnR5cGUudmFsdWV9O2A7Zm9yKGxldCBYPTA7WDx1O1grKyl0ZSs9YAogICAgICAgICAgICAgIGxldCBiX2RhdGEke1h9ID0gYlsoYl9vZmZzZXQgKyAoayArICR7WH0pICogdW5pZm9ybXMuTiArIGNvbCkgLyAke2N9XTtgO2ZvcihsZXQgWD0wO1g8aDtYKyspe3RlKz1gYV9kYXRhID0gYVsoYV9vZmZzZXQgKyAocm93ICsgJHtYfSkgKiB1bmlmb3Jtcy5LICsgaykgLyAke3V9XTtgO2ZvcihsZXQgdWU9MDt1ZTx1O3VlKyspdGUrPWAKICAgICAgICAgICAgdmFsdWVzWyR7WH1dID0gZm1hKCR7VC50eXBlLnZhbHVlfShhX2RhdGEke3U9PT0xPyIiOmBbJHt1ZX1dYH0pLCBiX2RhdGEke3VlfSwgdmFsdWVzWyR7WH1dKTsKYH1yZXR1cm4gdGV9O3JldHVybmAKICAke0UucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRTaXplIiwidTMyIikucmVnaXN0ZXJVbmlmb3JtKCJNIiwidTMyIikucmVnaXN0ZXJVbmlmb3JtKCJOIiwidTMyIikucmVnaXN0ZXJVbmlmb3JtKCJLIiwidTMyIikucmVnaXN0ZXJJbnRlcm5hbFZhcmlhYmxlcyh4KS5kZWNsYXJlVmFyaWFibGVzKC4uLkssQil9CiAgJHtVfQogICR7RS5tYWluU3RhcnQoKX0KICAgICR7RS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9CiAgICBsZXQgY29sID0gKGdsb2JhbF9pZHggJSAodW5pZm9ybXMuTiAvICR7Y30pKSAqICR7Y307CiAgICB2YXIgaW5kZXgxID0gZ2xvYmFsX2lkeCAvICh1bmlmb3Jtcy5OIC8gJHtjfSk7CiAgICBsZXQgc3RyaWRlMSA9IHVuaWZvcm1zLk0gLyAke2h9OwogICAgbGV0IHJvdyA9IChpbmRleDEgJSBzdHJpZGUxKSAqICR7aH07CiAgICBsZXQgYmF0Y2ggPSBpbmRleDEgLyBzdHJpZGUxOwoKICAgICR7ci5sZW5ndGg9PT0yPyIiOmBsZXQgYmF0Y2hfaW5kaWNlcyA9ICR7eC5vZmZzZXRUb0luZGljZXMoImJhdGNoIil9O2B9CiAgICAke0woSSxxKX0KICAgIGxldCBhX29mZnNldCA9ICR7SS5pbmRpY2VzVG9PZmZzZXQoImFfaW5kaWNlcyIpfTsKICAgICR7TChULFApfQogICAgbGV0IGJfb2Zmc2V0ID0gJHtULmluZGljZXNUb09mZnNldCgiYl9pbmRpY2VzIil9OwogICAgdmFyIHZhbHVlczogYXJyYXk8JHtCLnR5cGUudmFsdWV9LCAke2h9PjsKICAgIGZvciAodmFyIGs6IHUzMiA9IDB1OyBrIDwgdW5pZm9ybXMuSzsgayA9IGsgKyAke3V9KSB7CiAgICAgICR7VigpfQogICAgfQogICAgZm9yICh2YXIgaSA9IDB1OyBpIDwgJHtofXU7IGkrKykgewogICAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaV07CiAgICAgICR7T30KICAgICAgJHtIfQogICAgICBsZXQgY3VyX2luZGljZXMgPSAke0IudHlwZS5pbmRpY2VzfShiYXRjaCwgcm93ICsgaSwgY29sKTsKICAgICAgbGV0IG9mZnNldCA9ICR7Qi5pbmRpY2VzVG9PZmZzZXQoImN1cl9pbmRpY2VzIil9OwogICAgICAke0Iuc2V0QnlPZmZzZXQoYG9mZnNldCAvICR7Y31gLCJ2YWx1ZSIpfTsKICAgIH0KICB9CiAgYH07cmV0dXJue25hbWU6Ik1hdE11bE5haXZlIixzaGFkZXJDYWNoZTp7aGludDpgJHtlLmFjdGl2YXRpb25DYWNoZUtleX1fJHtjfV8ke3V9XyR7aH1fJHthfWAsaW5wdXREZXBlbmRlbmNpZXM6Zz9bInJhbmsiLCJyYW5rIiwicmFuayJdOlsicmFuayIsInJhbmsiXX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpyLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChmLzY0KX0scHJvZ3JhbVVuaWZvcm1zOnZ9KSxnZXRTaGFkZXJTb3VyY2U6a319LEZkPXQ9PntpZighdHx8dC5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcigiTWF0TXVsIHJlcXVpcmVzIDIgaW5wdXRzLiIpO2lmKHRbMF0uZGltc1t0WzBdLmRpbXMubGVuZ3RoLTFdIT09dFsxXS5kaW1zW3RbMV0uZGltcy5sZW5ndGgtMl0pdGhyb3cgbmV3IEVycm9yKCJzaGFyZWQgZGltZW5zaW9uIGRvZXMgbm90IG1hdGNoLiIpfSxWZD10PT57RmQodC5pbnB1dHMpO2xldCBlPUxyLmNhbGNTaGFwZSh0LmlucHV0c1swXS5kaW1zLHQuaW5wdXRzWzFdLmRpbXMsITApO2lmKCFlKXRocm93IG5ldyBFcnJvcigiQ2FuJ3QgdXNlIG1hdG11bCBvbiB0aGUgZ2l2ZW4gdGVuc29ycyIpO2xldCByPWVbZS5sZW5ndGgtMV0sbj10LmlucHV0c1swXS5kaW1zW3QuaW5wdXRzWzBdLmRpbXMubGVuZ3RoLTFdO3I8OCYmbjw4P3QuY29tcHV0ZShjcyh0LmlucHV0cyx7YWN0aXZhdGlvbjoiIixhY3RpdmF0aW9uQ2FjaGVLZXk6IiJ9LGUpKTp0LmNvbXB1dGUodXModC5pbnB1dHMse2FjdGl2YXRpb246IiIsYWN0aXZhdGlvbkNhY2hlS2V5OiIifSxlKSl9fSkscHMsaHMsR2QsZnMsbXMscWQsamQsZ3MsS2Q9USgoKT0+e0llKCksaXQoKSxwXygpLFRhKCksaF8oKSxicigpLEhkKCksaG4oKSxwcz0odCxlLHIsbixhLGkpPT57bGV0IHM9dFswXSxvPXQuc2xpY2UoaT8xOjIsaT8zOjQpLGw9by5sZW5ndGgsZD1lWzBdLGM9ZS5zbGljZSgyKS5tYXAoKGgsZik9PmgrKGgtMSkqKHJbZl0tMSkpLHU9by5tYXAoKGgsZik9PmgrbltmXStuW2YrbF0pLm1hcCgoaCxmKT0+TWF0aC5mbG9vcigoaC1jW2ZdK2FbZl0pL2FbZl0pKTtyZXR1cm4gdS5zcGxpY2UoMCwwLHMpLHUuc3BsaWNlKGk/MzoxLDAsZCksdX0saHM9WzIsMywxLDBdLEdkPSh0LGUpPT57aWYoIXR8fHQubGVuZ3RoIT09MiYmdC5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcigiQ29udiByZXF1aXJlcyAyIG9yIDMgaW5wdXRzIik7aWYodFswXS5kaW1zLmxlbmd0aCE9PTQmJnRbMF0uZGltcy5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcigiY3VycmVudGx5IG9ubHkgc3VwcG9ydCBjb252IDFEIGFuZCAyRCIpO2lmKHRbMF0uZGltcy5sZW5ndGghPT10WzFdLmRpbXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiZmlsdGVyIGRvZXMgbm90IGhhdmUgc2FtZSBkaW1lbnNpb24gYXMgaW5wdXQiKTtsZXQgcj10WzBdLmRpbXNbZS5mb3JtYXQ9PT0iTkhXQyI/dFswXS5kaW1zLmxlbmd0aC0xOjFdLG49dFsxXS5kaW1zWzFdKmUuZ3JvdXA7aWYociE9PW4pdGhyb3cgbmV3IEVycm9yKCJGSUxURVJfSU5fQ0hBTk5FTCBzaG91bGQgYmUgZXF1YWwgdG8gREFUQV9DSEFOTkVMIik7aWYodC5sZW5ndGg9PT0zJiYodFsyXS5kaW1zLmxlbmd0aCE9PTF8fHRbMV0uZGltc1swXSE9PXRbMl0uZGltc1swXSkpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGJpYXMiKTtsZXQgYT10WzBdLmRpbXMubGVuZ3RoLTI7aWYoZS5kaWxhdGlvbnMubGVuZ3RoIT09YSl0aHJvdyBuZXcgRXJyb3IoYGRpbGF0aW9ucyBzaG91bGQgYmUgJHthfURgKTtpZihlLnN0cmlkZXMubGVuZ3RoIT09YSl0aHJvdyBuZXcgRXJyb3IoYHN0cmlkZXMgc2hvdWxkIGJlICR7YX1EYCk7aWYoZS5wYWRzLmxlbmd0aCE9PWEqMil0aHJvdyBuZXcgRXJyb3IoYHBhZHMgc2hvdWxkIGJlICR7YSoyfURgKTtpZihlLmtlcm5lbFNoYXBlLmxlbmd0aCE9PTAmJmUua2VybmVsU2hhcGUubGVuZ3RoIT09dFsxXS5kaW1zLmxlbmd0aC0yKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBrZXJuZWwgc2hhcGUiKX0sZnM9KHQsZSk9PntsZXQgcj10Lmtlcm5lbFNoYXBlLnNsaWNlKCk7Zm9yKGxldCBpPTI7aTxlWzFdLmRpbXMubGVuZ3RoOysraSlyW2ktMl09PT0wJiYocltpLTJdPWVbMV0uZGltc1tpXSk7bGV0IG49dC5wYWRzLnNsaWNlKCk7YmEuYWRqdXN0UGFkc0Jhc2VkT25BdXRvUGFkKGVbMF0uZGltcyx0LnN0cmlkZXMsdC5kaWxhdGlvbnMscixuLHQuZm9ybWF0PT09Ik5IV0MiLHQuYXV0b1BhZCk7bGV0IGE9T2JqZWN0LmFzc2lnbih7fSx0KTtyZXR1cm4gT2JqZWN0LmFzc2lnbihhLHtrZXJuZWxTaGFwZTpyLHBhZHM6bixjYWNoZUtleTp0LmNhY2hlS2V5fSksYX0sbXM9dD0+e2xldCBlPWFzKHQpLHI9dC5mb3JtYXQsbj1bIk5PVFNFVCIsIlZBTElEIiwiU0FNRV9VUFBFUiIsIlNBTUVfTE9XRVIiXVt0LmF1dG9fcGFkXSxhPXQuZGlsYXRpb25zLGk9dC5ncm91cCxzPXQua2VybmVsX3NoYXBlLG89dC5wYWRzLGw9dC5zdHJpZGVzLGQ9dC53X2lzX2NvbnN0KCk7cmV0dXJuIHFlKHthdXRvUGFkOm4sZm9ybWF0OnIsZGlsYXRpb25zOmEsZ3JvdXA6aSxrZXJuZWxTaGFwZTpzLHBhZHM6byxzdHJpZGVzOmwsd0lzQ29uc3Q6ZCwuLi5lfSl9LHFkPSh0LGUscik9PntsZXQgbj1mcyhyLGUpLGE9ci5mb3JtYXQ9PT0iTkhXQyI7aWYoci5ncm91cCE9PTEpe3QuY29tcHV0ZShkcyhlLG4pKTtyZXR1cm59bGV0IGk9ZS5sZW5ndGg9PT0zLHM9ZVswXS5kaW1zW2E/MToyXSxvPWVbMF0uZGltc1thPzI6M10sbD1lWzBdLmRpbXNbYT8zOjFdLGQ9ZVsxXS5kaW1zWzJdLGM9ZVsxXS5kaW1zWzNdLHU9cHMoZVswXS5kaW1zLGVbMV0uZGltcyxyLmRpbGF0aW9ucyxuLnBhZHMsci5zdHJpZGVzLGEpLGg9dVthPzE6Ml0sZj11W2E/MjozXSxnPXVbYT8zOjFdLHk9YSYmZD09PXMmJmM9PT1vJiZyLnBhZHNbMF09PT0wJiZyLnBhZHNbMV09PT0wO2lmKHl8fGQ9PT0xJiZjPT09MSYmci5kaWxhdGlvbnNbMF09PT0xJiZyLmRpbGF0aW9uc1sxXT09PTEmJnIuc3RyaWRlc1swXT09PTEmJnIuc3RyaWRlc1sxXT09PTEmJnIucGFkc1swXT09PTAmJnIucGFkc1sxXT09PTApe2xldCBUPXVbMF0sQixVLEgsSz1bXTtpZihhKXtsZXQgbmU9dC5rZXJuZWxDdXN0b21EYXRhLndUPz90LmNvbXB1dGUoZHIoZVsxXSxocykse2lucHV0czpbMV0sb3V0cHV0czpbci53SXNDb25zdD8tMjotMV19KVswXTtpZihyLndJc0NvbnN0JiYhdC5rZXJuZWxDdXN0b21EYXRhLndUJiYodC5rZXJuZWxDdXN0b21EYXRhLndUPW5lKSx5KXtsZXQgcT1zKm8qbDtCPWVbMF0ucmVzaGFwZShbMSxULHFdKSxVPW5lLnJlc2hhcGUoWzEscSxnXSksSD1bMSxULGddfWVsc2UgQj1lWzBdLnJlc2hhcGUoW1QscypvLGxdKSxVPW5lLnJlc2hhcGUoWzEsbCxnXSksSD1bVCxoKmYsZ107Sy5wdXNoKEIpLEsucHVzaChVKX1lbHNlIEI9ZVswXS5yZXNoYXBlKFtULGwscypvXSksVT1lWzFdLnJlc2hhcGUoWzEsZyxsXSksSD1bVCxnLGgqZl0sSy5wdXNoKFUpLEsucHVzaChCKTtpJiZLLnB1c2goZVsyXSk7bGV0IE89SFsyXSxHPUtbMF0uZGltc1tLWzBdLmRpbXMubGVuZ3RoLTFdO088OCYmRzw4P3QuY29tcHV0ZShjcyhLLG4sdSxILGEpLHtpbnB1dHM6S30pOnQuY29tcHV0ZSh1cyhLLG4sdSxILGEpLHtpbnB1dHM6S30pO3JldHVybn1sZXQgdz0hMCx2PXQua2VybmVsQ3VzdG9tRGF0YS53VD8/dC5jb21wdXRlKGRyKGVbMV0saHMpLHtpbnB1dHM6WzFdLG91dHB1dHM6W3Iud0lzQ29uc3Q/LTI6LTFdfSlbMF07ci53SXNDb25zdCYmIXQua2VybmVsQ3VzdG9tRGF0YS53VCYmKHQua2VybmVsQ3VzdG9tRGF0YS53VD12KTtsZXQgaz1bZVswXSx2XTtpJiZrLnB1c2goZVsyXSk7bGV0IEU9YT9oKmY6Zyx4PWE/ZzpoKmYsST1kKmMqbDt0LmNvbXB1dGUoTGQoayxuLHUsRSx4LEksaSx3KSx7aW5wdXRzOmt9KX0samQ9KHQsZSk9PntsZXQgcj1lLmZvcm1hdD09PSJOSFdDIixuPVt0LmlucHV0c1swXS5yZXNoYXBlKHI/W3QuaW5wdXRzWzBdLmRpbXNbMF0sMSx0LmlucHV0c1swXS5kaW1zWzFdLHQuaW5wdXRzWzBdLmRpbXNbMl1dOlt0LmlucHV0c1swXS5kaW1zWzBdLHQuaW5wdXRzWzBdLmRpbXNbMV0sMSx0LmlucHV0c1swXS5kaW1zWzJdXSksdC5pbnB1dHNbMV0ucmVzaGFwZShbdC5pbnB1dHNbMV0uZGltc1swXSx0LmlucHV0c1sxXS5kaW1zWzFdLDEsdC5pbnB1dHNbMV0uZGltc1syXV0pXTt0LmlucHV0cy5sZW5ndGg9PT0zJiZuLnB1c2godC5pbnB1dHNbMl0pO2xldCBhPVswLGUucGFkc1swXSwwLGUucGFkc1sxXV0saT1bMV0uY29uY2F0KGUuc3RyaWRlcykscz1bMV0uY29uY2F0KGUuZGlsYXRpb25zKSxvPVsxXS5jb25jYXQoZS5rZXJuZWxTaGFwZSksbD1mcyh7Li4uZSxwYWRzOmEsc3RyaWRlczppLGRpbGF0aW9uczpzLGtlcm5lbFNoYXBlOm99LG4pO3QuY29tcHV0ZShkcyhuLGwsZD0+cj9bZFswXSxkWzJdLGRbM11dOltdKSl9LGdzPSh0LGUpPT57R2QodC5pbnB1dHMsZSksdC5pbnB1dHNbMF0uZGltcy5sZW5ndGg9PT0zP2pkKHQsZSk6cWQodCx0LmlucHV0cyxlKX19KSxZZCxYZCxmXz1RKCgpPT57dnIoKSxDZSgpLGJyKCksc3MoKSxSZCgpLFRhKCksWWQ9KHQsZT0hMSxyLG49NCk9PntsZXQgYT1ndChuLCJmMzIiKSxpPXY9Pntzd2l0Y2godil7Y2FzZSAxOnJldHVybiJyZXR1cm4gd1tnZXRJbmRleEZyb21Db29yZHM0RChjb29yZCwgdmVjNDxpMzI+KHVuaWZvcm1zLndfc2hhcGUpKV07IjtjYXNlIDQ6cmV0dXJuYAogICAgICAgICAgICBsZXQgY29vcmQxID0gdmVjNDxpMzI+KGNvb3JkWCwgY29vcmRZLCBjb2wgKyAxLCByb3dJbm5lcik7CiAgICAgICAgICAgIGxldCBjb29yZDIgPSB2ZWM0PGkzMj4oY29vcmRYLCBjb29yZFksIGNvbCArIDIsIHJvd0lubmVyKTsKICAgICAgICAgICAgbGV0IGNvb3JkMyA9IHZlYzQ8aTMyPihjb29yZFgsIGNvb3JkWSwgY29sICsgMywgcm93SW5uZXIpOwogICAgICAgICAgICBsZXQgdjAgPSB3W2dldEluZGV4RnJvbUNvb3JkczREKGNvb3JkLCB2ZWM0PGkzMj4odW5pZm9ybXMud19zaGFwZSkpXTsKICAgICAgICAgICAgbGV0IHYxID0gd1tnZXRJbmRleEZyb21Db29yZHM0RChjb29yZDEsIHZlYzQ8aTMyPih1bmlmb3Jtcy53X3NoYXBlKSldOwogICAgICAgICAgICBsZXQgdjIgPSB3W2dldEluZGV4RnJvbUNvb3JkczREKGNvb3JkMiwgdmVjNDxpMzI+KHVuaWZvcm1zLndfc2hhcGUpKV07CiAgICAgICAgICAgIGxldCB2MyA9IHdbZ2V0SW5kZXhGcm9tQ29vcmRzNEQoY29vcmQzLCB2ZWM0PGkzMj4odW5pZm9ybXMud19zaGFwZSkpXTsKICAgICAgICAgICAgcmV0dXJuIHZlYzQ8ZjMyPih2MCwgdjEsIHYyLCB2Myk7CiAgICAgICAgICAgIGA7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYGlubmVyRWxlbWVudFNpemUgJHt2fSBpcyBub3Qgc3VwcG9ydGVkLmApfX0scz10P2AKICAgICAgbGV0IGNvb3JkID0gdmVjNDxpMzI+KGJhdGNoLCBpWFIsIGlYQywgeENoKTsKICAgICAgYDpgCiAgICAgIGxldCBjb29yZCA9IHZlYzQ8aTMyPihiYXRjaCwgeENoLCBpWFIsIGlYQyk7CiAgICAgIGAsbz10P2AKICAgIGxldCBjb29yZHMgPSB2ZWM0PGkzMj4oCiAgICAgIGJhdGNoLAogICAgICByb3cgLyBvdXRXaWR0aCwKICAgICAgcm93ICUgb3V0V2lkdGgsCiAgICAgIGNvbCk7CiAgICBgOmAKICAgIGxldCBjb29yZHMgPSB2ZWM0PGkzMj4oCiAgICAgIGJhdGNoLAogICAgICByb3csCiAgICAgIGNvbCAvIG91dFdpZHRoLAogICAgICBjb2wgJSBvdXRXaWR0aCk7CiAgICBgLGw9dD8ib3V0QmFja3Byb3BbMV0iOiJvdXRCYWNrcHJvcFsyXSIsZD10PyJvdXRCYWNrcHJvcFsyXSI6Im91dEJhY2twcm9wWzNdIixjPXQ/InJvdyI6ImNvbCIsdT10PyJjb2wiOiJyb3ciLGg9YAogICAgICBsZXQgaW5DaGFubmVscyA9ICR7dD8ib3V0QmFja3Byb3BbM10iOiJvdXRCYWNrcHJvcFsxXSJ9OwogICAgICBsZXQgb3V0V2lkdGggPSAke3Q/ImkzMih1bmlmb3Jtcy5yZXN1bHRfc2hhcGVbMl0pIjoiaTMyKHVuaWZvcm1zLnJlc3VsdF9zaGFwZVszXSkifTsKICAgICAgbGV0IG91dFJvdyA9ICR7Y30gLyBvdXRXaWR0aDsKICAgICAgbGV0IG91dENvbCA9ICR7Y30gJSBvdXRXaWR0aDsKCiAgICAgIGxldCBXUm93ID0gJHt1fSAvIChmaWx0ZXJEaW1zWzFdICogaW5DaGFubmVscyk7CiAgICAgIGxldCBXQ29sID0gJHt1fSAvIGluQ2hhbm5lbHMgJSBmaWx0ZXJEaW1zWzFdOwogICAgICBsZXQgeFIgPSBmMzIob3V0Um93IC0gcGFkc1swXSArIGRpbGF0aW9uWzBdICogV1JvdykgLyBmMzIoc3RyaWRlc1swXSk7CiAgICAgIGxldCB4QyA9IGYzMihvdXRDb2wgLSBwYWRzWzFdICsgZGlsYXRpb25bMV0gKiBXQ29sKSAvIGYzMihzdHJpZGVzWzFdKTsKICAgICAgaWYgKHhSIDwgMC4wIHx8IHhSID49IGYzMigke2x9KSB8fCBmcmFjdCh4UikgPiAwLjApIHsKICAgICAgICByZXR1cm4gJHthfSgwLjApOwogICAgICB9CiAgICAgIGlmICh4QyA8IDAuMCB8fCB4QyA+PSBmMzIoJHtkfSkgfHwgZnJhY3QoeEMpID4gMC4wKSB7CiAgICAgICAgcmV0dXJuICR7YX0oMC4wKTsKICAgICAgfQogICAgICBsZXQgaVhSID0gaTMyKHhSKTsKICAgICAgbGV0IGlYQyA9IGkzMih4Qyk7CiAgICAgIGxldCB4Q2ggPSAke3V9ICUgaW5DaGFubmVsczsKICAgICAgJHtzfQogICAgICByZXR1cm4geFtnZXRJbmRleEZyb21Db29yZHM0RChjb29yZCwgdmVjNDxpMzI+KHVuaWZvcm1zLnhfc2hhcGUpKS8ke259XTtgLGY9dD9gCiAgICAgIGxldCBjb2wgPSBjb2xJbiAqICR7bn07CiAgICAgIGlmIChyb3cgPCB1bmlmb3Jtcy5kaW1BT3V0ZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltSW5uZXIpIHsKICAgICAgICAke2h9CiAgICAgIH0KICAgICAgcmV0dXJuICR7YX0oMC4wKTtgOmAKICAgICAgbGV0IGNvbCA9IGNvbEluICogJHtufTsKICAgICAgaWYgKHJvdyA8IHVuaWZvcm1zLmRpbUlubmVyICYmIGNvbCA8IHVuaWZvcm1zLmRpbUJPdXRlcikgewogICAgICAgICR7aH0KICAgICAgfQogICAgICByZXR1cm4gJHthfSgwLjApO2AsZz1gCiAgICAgIGxldCBjb2wgPSBjb2xJbiAqICR7bn07CiAgICAgIGxldCBpbkNoYW5uZWxzID0gJHt0PyJvdXRCYWNrcHJvcFszXSI6Im91dEJhY2twcm9wWzFdIn07CiAgICAgIGxldCBjb29yZFggPSBmaWx0ZXJEaW1zLnggLSAxIC0gcm93IC8gKGZpbHRlckRpbXNbMV0gKiBpbkNoYW5uZWxzKTsKICAgICAgbGV0IGNvb3JkWSA9IGZpbHRlckRpbXMueSAtIDEgLSAocm93IC8gaW5DaGFubmVscykgJSBmaWx0ZXJEaW1zWzFdOwogICAgICBpZiAoJHt0PyJyb3cgPCB1bmlmb3Jtcy5kaW1Jbm5lciAmJiBjb2wgPCB1bmlmb3Jtcy5kaW1CT3V0ZXIiOiJyb3cgPCB1bmlmb3Jtcy5kaW1Jbm5lciAmJiBjb2wgPCB1bmlmb3Jtcy5kaW1BT3V0ZXIifSAgJiYgY29vcmRYID49IDAgJiYgY29vcmRZID49IDApIHsKICAgICAgICBsZXQgcm93SW5uZXIgPSByb3cgJSBpbkNoYW5uZWxzOwogICAgICAgIGxldCBjb29yZCA9IHZlYzQ8aTMyPihjb29yZFgsIGNvb3JkWSwgY29sLCByb3dJbm5lcik7CiAgICAgICAgJHtpKG4pfQogICAgICB9CiAgICAgIHJldHVybiAke2F9KDAuMCk7CiAgICAgIGAse2FjdGl2YXRpb25GdW5jdGlvbjp5LGFwcGx5QWN0aXZhdGlvbjp3fT1GcihyLGEpO3JldHVybmAKICAgICAgJHt5fQogIGZuIG1tX3JlYWRBKGJhdGNoOiBpMzIsIHJvdyA6IGkzMiwgY29sSW4gOiBpMzIpIC0+ICR7YX0gewogICAgJHt0P2Y6Z30KICB9CgogIGZuIG1tX3JlYWRCKGJhdGNoOiBpMzIsIHJvdyA6IGkzMiwgY29sSW4gOiBpMzIpIC0+ICR7YX0gewogICAgJHt0P2c6Zn0KICB9CgogIGZuIG1tX3dyaXRlKGJhdGNoOiBpMzIsIHJvdyA6IGkzMiwgY29sSW4gOiBpMzIsIHZhbHVlSW5wdXQgOiAke2F9KSB7CiAgICBsZXQgY29sID0gY29sSW4gKiAke259OwogICAgaWYgKHJvdyA8IHVuaWZvcm1zLmRpbUFPdXRlciAmJiBjb2wgPCB1bmlmb3Jtcy5kaW1CT3V0ZXIpIHsKICAgICAgdmFyIHZhbHVlID0gdmFsdWVJbnB1dDsKICAgICAgbGV0IG91dFdpZHRoID0gJHt0PyJpMzIodW5pZm9ybXMucmVzdWx0X3NoYXBlWzJdKSI6ImkzMih1bmlmb3Jtcy5yZXN1bHRfc2hhcGVbM10pIn07CiAgICAgICR7b30KICAgICAgJHtpcyhlKX0KICAgICAgJHt3fQogICAgICByZXN1bHRbZ2V0SW5kZXhGcm9tQ29vcmRzNEQoY29vcmRzLCB2ZWM0PGkzMj4odW5pZm9ybXMucmVzdWx0X3NoYXBlKSkvJHtufV0gPSB2YWx1ZTsKICAgIH0KICB9YH0sWGQ9KHQsZSxyLG4sYSxpLHMsbyk9PntsZXQgbD1lLmZvcm1hdD09PSJOSFdDIixkPWw/dFswXS5kaW1zWzNdOnRbMF0uZGltc1sxXSxjPXJbMF0sdT1sP3JbMl06clszXSxoPWw/clsxXTpyWzJdLGY9bD9yWzNdOnJbMV0sZz1sP2QlND09PTAmJmYlND09PTA6dSU0PT09MCYmZiU0PT09MCx5PWw/Zjp1Kmgsdz1sP3UqaDpmLHY9Zz9bOCw4LDFdOlt5PD00fHx3PD00PzQ6MTYseT40JiZ3PD00PzQ6MTYsMV0saz1nP1s0LDQsMV06W3k8PTQ/MTo0LHk+NCYmdzw9ND8xOjQsMV0sRT1bTWF0aC5jZWlsKHkvdlswXS9rWzBdKSxNYXRoLmNlaWwody92WzFdL2tbMV0pLE1hdGguY2VpbChjL3ZbMl0va1syXSldO2F0KCJ2ZXJib3NlIiwoKT0+YFtjb252X2JhY2twcm9wX21tX3dlYmdwdV0gZGlzcGF0Y2ggPSAke0V9YCk7bGV0IHg9Zz80OjEsST1NYXRoLm1heCh2WzBdKngsdlsxXSksVD1nPzQ6MSxCPVt7dHlwZToiaW50MzIiLGRhdGE6bn0se3R5cGU6ImludDMyIixkYXRhOmF9LHt0eXBlOiJpbnQzMiIsZGF0YTppfV0sVT1KKCJ4Iix0WzBdLmRhdGFUeXBlLHRbMF0uZGltcy5sZW5ndGgsVCksSD1KKCJ3Iix0WzFdLmRhdGFUeXBlLHRbMV0uZGltcy5sZW5ndGgsMSksSz12ZSgicmVzdWx0Iix0WzBdLmRhdGFUeXBlLHIubGVuZ3RoLFQpLE89W1UsSF07Qi5wdXNoKC4uLmllKHRbMF0uZGltcykpLEIucHVzaCguLi5pZSh0WzFdLmRpbXMpKTtsZXQgRz0iIjtpZihzKXtsZXQgbmU9SigiYmlhcyIsdFsyXS5kYXRhVHlwZSx0WzJdLmRpbXMubGVuZ3RoLFQpO08ucHVzaChuZSksQi5wdXNoKC4uLmllKHRbMl0uZGltcykpLEcrPWAKICAgICAgICBmbiBnZXRCaWFzQnlPdXRwdXRDb29yZHMoY29vcmRzIDogdmVjNDxpMzI+KSAtPiAke2c/InZlYzQ8ZjMyPiI6ImYzMiJ9IHsKICAgICAgICAgIHJldHVybiBiaWFzW2Nvb3Jkcy4ke2w/InciOiJ5In0ke2c/Ii8gNCI6IiJ9XTsKICAgICAgICB9YH1yZXR1cm4gQi5wdXNoKC4uLmllKHIpKSx7bmFtZToiQ29udjJEVHJhbnNwb3NlTWF0TXVsIixzaGFkZXJDYWNoZTp7aGludDplLmNhY2hlS2V5fSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnIsZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6RVswXSx5OkVbMV0sejpFWzJdfSxwcm9ncmFtVW5pZm9ybXM6Qn0pLGdldFNoYWRlclNvdXJjZTpuZT0+YAogICAgICAgICR7b3MoInVuaWZvcm1zLnJlc3VsdF9zdHJpZGVzIil9CiAgICAgICAgJHtuZS5yZWdpc3RlclVuaWZvcm0oImRpbUFPdXRlciIsImkzMiIpLnJlZ2lzdGVyVW5pZm9ybSgiZGltQk91dGVyIiwiaTMyIikucmVnaXN0ZXJVbmlmb3JtKCJkaW1Jbm5lciIsImkzMiIpLmRlY2xhcmVWYXJpYWJsZXMoLi4uTyxLKX07CiAgICAgICAgY29uc3Qgb3V0QmFja3Byb3AgOiB2ZWM0PGkzMj4gPSB2ZWM0PGkzMj4oJHt0WzBdLmRpbXMuam9pbigiLCIpfSk7CiAgICAgICAgY29uc3QgZmlsdGVyRGltcyA6IHZlYzI8aTMyPiA9IHZlYzI8aTMyPigke2Uua2VybmVsU2hhcGVbbD8xOjJdfSwgJHtlLmtlcm5lbFNoYXBlW2w/MjozXX0pOwogICAgICAgIGNvbnN0IGVmZmVjdGl2ZUZpbHRlckRpbXMgOiB2ZWMyPGkzMj4gPSBmaWx0ZXJEaW1zICsgdmVjMjxpMzI+KAogICAgICAgICAgICAgICR7ZS5kaWxhdGlvbnNbMF08PTE/MDooZS5rZXJuZWxTaGFwZVtsPzE6Ml0tMSkqKGUuZGlsYXRpb25zWzBdLTEpfSwKICAgICAgICAgICAgICAke2UuZGlsYXRpb25zWzFdPD0xPzA6KGUua2VybmVsU2hhcGVbbD8yOjNdLTEpKihlLmRpbGF0aW9uc1sxXS0xKX0pOwogICAgICAgIGNvbnN0IHBhZHMgOiB2ZWMyPGkzMj4gPSB2ZWMyPGkzMj4oaTMyKGVmZmVjdGl2ZUZpbHRlckRpbXNbMF0pIC0gMSAtICgke2UucGFkc1swXStlLnBhZHNbMl19KS8yLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkzMihlZmZlY3RpdmVGaWx0ZXJEaW1zWzFdKSAtIDEgLSAoJHtlLnBhZHNbMV0rZS5wYWRzWzNdfSkvMik7CiAgICAgICAgY29uc3Qgc3RyaWRlcyA6IHZlYzI8aTMyPiA9IHZlYzI8aTMyPigke2Uuc3RyaWRlc1swXX0sICR7ZS5zdHJpZGVzWzFdfSk7CiAgICAgICAgY29uc3QgZGlsYXRpb24gOiB2ZWMyPGkzMj4gPSB2ZWMyPGkzMj4oJHtlLmRpbGF0aW9uc1swXX0sICR7ZS5kaWxhdGlvbnNbMV19KTsKICAgICAgICBjb25zdCBkaW1BT3V0ZXIgOiBpMzIgPSAke259OwogICAgICAgIGNvbnN0IGRpbUJPdXRlciA6IGkzMiA9ICR7YX07CiAgICAgICAgY29uc3QgZGltSW5uZXIgOiBpMzIgPSAke2l9OwogICAgICAgICR7R30KICAgICAgICAke1lkKGwscyxlLHgpfQogICAgICAgICR7Zz9JYShrLHYsImYzMiIsdm9pZCAwLCFsLEkpOkFhKGssdiwiZjMyIix2b2lkIDAsIWwsSSwhMSx2b2lkIDAsbyl9YH19fSksUWQsX3MsbV89USgoKT0+e3ZyKCksSWUoKSxDZSgpLFFkPSh0LGUscixuLGEsaSxzPSExLG8pPT57bGV0IGw9ci5mb3JtYXQ9PT0iTkhXQyIsZD1sPzE6MixjPWw/MjozLHU9bD8zOjEsaD1lZS5zaXplKG4pLGY9cz8yOjEsZz1yLmdyb3VwLHk9ZVsxXS5kaW1zLHc9eVswXS9nLHY9eVsxXSxrPWAKICBmbiBzZXRPdXRwdXRBdEluZGV4KGZsYXRJbmRleCA6IHUzMiwgdmFsdWUgOiAke3M/YHZlYzQ8JHtvfT5gOm99KSB7CiAgICByZXN1bHRbZmxhdEluZGV4XSA9ICR7cz9gdmVjNDwke299PmA6b30odmFsdWUpOwogIH1gO2EmJihrKz1gCiAgICBmbiBnZXRCaWFzQnlPdXRwdXRDb29yZHMoY29vcmRzIDogdmVjNDx1MzI+KSAtPiAke3M/YHZlYzQ8JHtvfT5gOm99IHsKICAgICAgcmV0dXJuIGJpYXNbY29vcmRzLiR7bD8idyI6InkifSR7cz8iLyA0IjoiIn1dOwogICAgfWApO2xldCBFPXM/NDoxLHg9SigiVyIsZVsxXS5kYXRhVHlwZSxlWzFdLmRpbXMsRSksST1KKCJEeSIsZVswXS5kYXRhVHlwZSxlWzBdLmRpbXMsRSksVD1bSSx4XTthJiZULnB1c2goSigiYmlhcyIsZVsyXS5kYXRhVHlwZSxbblt1XV0sRSkpO2xldCBCPXZlKCJyZXN1bHQiLGVbMF0uZGF0YVR5cGUsbixFKSxVPWB7CiAgICAgICAgbGV0IGJhdGNoOiB1MzIgPSAke2k/Imdsb2JhbF9pZC56Ijoid29ya2dyb3VwX2lkLnoifSAvIG91dFNoYXBlWzFdOwogICAgICAgIGxldCByID0gJHtpPyJnbG9iYWxfaWQueiI6Indvcmtncm91cF9pZC56In0gJSBvdXRTaGFwZVsxXTsKICAgICAgICBsZXQgYyA9ICR7aT8iZ2xvYmFsX2lkLnkiOiJ3b3JrZ3JvdXBfaWQueSJ9ICogJHtmfTsKICAgICAgICBsZXQgZDE6IHUzMiA9ICR7aT8iZ2xvYmFsX2lkLngiOiJ3b3JrZ3JvdXBfaWQueCJ9ICogNDsKCiAgICAgICAgbGV0IGR5Q29ybmVyID0gdmVjMjxpMzI+KGkzMihyKSwgaTMyKGMpKSAtIHZlYzI8aTMyPihwYWRzKTsKCiAgICAgICAgLy8gQ29udm9sdmUgZHkoPywgPywgZDIpIHdpdGggdyg6LCA6LCBkMSwgZDIpIHRvIGNvbXB1dGUgZHgoeFIsIHhDLCBkMSkuCiAgICAgICAgLy8gPyA9IHRvIGJlIGRldGVybWluZWQuIDogPSBhY3Jvc3MgYWxsIHZhbHVlcyBpbiB0aGF0IGF4aXMuCiAgICAgICAgdmFyIGRvdFByb2Q6IGFycmF5PHZlYzQ8JHtvfT4sICR7Zn0+OwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHtmfTsgaSsrKSB7CiAgICAgICAgICBkb3RQcm9kW2ldID0gdmVjNDwke299PigwLjApOwogICAgICAgIH0KICAgICAgICBmb3IgKHZhciB3UjogdTMyID0gMDsgd1IgPCBmaWx0ZXJEaW1zWzBdOyB3UiA9IHdSICsgMSkgewogICAgICAgICAgdmFyIGR5UiA9ICgke299KGR5Q29ybmVyLngpICsgJHtvfSh3UikpIC8gJHtvfShzdHJpZGVzLngpOwogICAgICAgICAgbGV0IHdSUGVybSA9IGZpbHRlckRpbXNbMF0gLSAxIC0gd1I7CiAgICAgICAgICBpZiAoZHlSIDwgMC4wIHx8IGR5UiA+PSAke299KG91dEJhY2twcm9wWzFdKSB8fAogICAgICAgICAgICAgIGZyYWN0KGR5UikgPiAwLjAgfHwgd1JQZXJtIDwgMCkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIGxldCBpZHlSOiB1MzIgPSB1MzIoZHlSKTsKCiAgICAgICAgICBmb3IgKHZhciB3QzogdTMyID0gMDsgd0MgPCBmaWx0ZXJEaW1zWzFdOyB3QyA9IHdDICsgMSkgewogICAgICAgICAgICBsZXQgZHlDID0gKCR7b30oZHlDb3JuZXIueSkgKyAke299KHdDKSkgLyAke299KHN0cmlkZXMueSk7CiAgICAgICAgICAgIGxldCBkeUMyID0gKCR7b30oZHlDb3JuZXIueSkgKyAxLjAgKyAke299KHdDKSkgLyAke299KHN0cmlkZXMueSk7CiAgICAgICAgICAgIGxldCB3Q1Blcm0gPSBmaWx0ZXJEaW1zWzFdIC0gMSAtIHdDOwogICAgICAgICAgICBpZiAod0NQZXJtIDwgMCkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBiRHlDVmFsID0gdHJ1ZTsKICAgICAgICAgICAgdmFyIGJEeUNWYWwyID0gdHJ1ZTsKICAgICAgICAgICAgaWYgKGR5QyA8IDAuMCB8fCBkeUMgPj0gJHtvfShvdXRCYWNrcHJvcFsyXSkgfHwKICAgICAgICAgICAgICAgIGZyYWN0KGR5QykgPiAwLjApIHsKICAgICAgICAgICAgICBiRHlDVmFsID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGR5QzIgPCAwLjAgfHwgZHlDMiA+PSAke299KG91dEJhY2twcm9wWzJdKSB8fAogICAgICAgICAgICAgICAgZnJhY3QoZHlDMikgPiAwLjApIHsKICAgICAgICAgICAgICBiRHlDVmFsMiA9IGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsZXQgaWR5QzogdTMyID0gdTMyKGR5Qyk7CiAgICAgICAgICAgIGxldCBpZHlDMjogdTMyID0gdTMyKGR5QzIpOwogICAgICAgICAgICBpZiAoYkR5Q1ZhbCAmJiBiRHlDVmFsMikgewogICAgICAgICAgICAgIGxldCBkMkxlbmd0aCA9IG91dEJhY2twcm9wWzNdOwogICAgICAgICAgICAgIGZvciAodmFyIGQyIDp1MzIgPSAwOyBkMiA8IGQyTGVuZ3RoOyBkMiA9IGQyICsgNCkgewogICAgICAgICAgICAgICAgbGV0IHdWYWx1ZTAgPSAke3guZ2V0KCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIiwiZDEiLCJkMiIpfTsKICAgICAgICAgICAgICAgIGxldCB3VmFsdWUxID0gJHt4LmdldCgidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIsImQxICsgMSIsImQyIil9OwogICAgICAgICAgICAgICAgbGV0IHdWYWx1ZTIgPSAke3guZ2V0KCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIiwiZDEgKyAyIiwiZDIiKX07CiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMyA9ICR7eC5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDMiLCJkMiIpfTsKCiAgICAgICAgICAgICAgICB2YXIgeFZhbHVlID0gJHtJLmdldCgiYmF0Y2giLCJpZHlSIiwiaWR5QyIsImQyIil9OwogICAgICAgICAgICAgICAgbGV0IHRtcHZhbCA9IHZlYzQ8JHtvfT4oZG90KHhWYWx1ZSwgd1ZhbHVlMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMykpOwogICAgICAgICAgICAgICAgZG90UHJvZFswXSA9IGRvdFByb2RbMF0gKyB0bXB2YWw7CgogICAgICAgICAgICAgICAgeFZhbHVlID0gICR7SS5nZXQoImJhdGNoIiwiaWR5UiIsImlkeUMyIiwiZDIiKX07CgogICAgICAgICAgICAgICAgZG90UHJvZFsxXSA9IGRvdFByb2RbMV0gKyB2ZWM0PCR7b30+KGRvdCh4VmFsdWUsIHdWYWx1ZTApLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCh4VmFsdWUsIHdWYWx1ZTMpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoYkR5Q1ZhbCkgewogICAgICAgICAgICAgIGxldCBkMkxlbmd0aCA9IG91dEJhY2twcm9wWyR7dX1dOwogICAgICAgICAgICAgIGZvciAodmFyIGQyOiB1MzIgPSAwOyBkMiA8IGQyTGVuZ3RoOyBkMiA9IGQyICsgNCkgewogICAgICAgICAgICAgICAgbGV0IHdWYWx1ZTAgPSAke3guZ2V0KCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIiwiZDEiLCJkMiIpfTsKICAgICAgICAgICAgICAgIGxldCB3VmFsdWUxID0gJHt4LmdldCgidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIsImQxICsgMSIsImQyIil9OwogICAgICAgICAgICAgICAgbGV0IHdWYWx1ZTIgPSAke3guZ2V0KCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIiwiZDEgKyAyIiwiZDIiKX07CiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMyA9ICR7eC5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDMiLCJkMiIpfTsKCiAgICAgICAgICAgICAgICB2YXIgeFZhbHVlID0gJHtJLmdldCgiYmF0Y2giLCJpZHlSIiwiaWR5QyIsImQyIil9OwogICAgICAgICAgICAgICAgbGV0IHRtcHZhbCA9IHZlYzQ8JHtvfT4oZG90KHhWYWx1ZSwgd1ZhbHVlMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMykpOwogICAgICAgICAgICAgICAgZG90UHJvZFswXSA9IGRvdFByb2RbMF0gKyB0bXB2YWw7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKGJEeUNWYWwyKSB7CiAgICAgICAgICAgICAgbGV0IGQyTGVuZ3RoID0gb3V0QmFja3Byb3BbM107CiAgICAgICAgICAgICAgZm9yICh2YXIgZDI6IHUzMiA9IDA7IGQyIDwgZDJMZW5ndGg7IGQyID0gZDIgKyA0KSB7CiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMCA9ICR7eC5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSIsImQyIil9OwogICAgICAgICAgICAgICAgbGV0IHdWYWx1ZTEgPSAke3guZ2V0KCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIiwiZDEgKyAxIiwiZDIiKX07CiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMiA9ICR7eC5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDIiLCJkMiIpfTsKICAgICAgICAgICAgICAgIGxldCB3VmFsdWUzID0gJHt4LmdldCgidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIsImQxICsgMyIsImQyIil9OwoKICAgICAgICAgICAgICAgIHZhciB4VmFsdWUgPSAke0kuZ2V0KCJiYXRjaCIsImlkeVIiLCJpZHlDMiIsImQyIil9OwogICAgICAgICAgICAgICAgbGV0IHRtcHZhbCA9IHZlYzQ8JHtvfT4oZG90KHhWYWx1ZSwgd1ZhbHVlMCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMykpOwogICAgICAgICAgICAgICAgZG90UHJvZFsxXSA9IGRvdFByb2RbMV0gKyB0bXB2YWw7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBpOiB1MzIgPSAwOyBpIDwgJHtmfTsgaSA9IGkgKyAxKSB7CiAgICAgICAgICBsZXQgdmFsdWUgPSBkb3RQcm9kW2ldICsgJHthPyJiaWFzW2MraV0iOmB2ZWM0PCR7b30+KDAuMClgfTsKICAgICAgICAgICR7Qi5zZXQoImJhdGNoIiwiciIsImMgKyBpIiwiZDEiLCJ2YWx1ZSIpfTsKICAgICAgICB9CiAgICAgIH1gLEg9YAogICAgICAgICAgbGV0IG91dHB1dEluZGljZXMgPSAke0Iub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9OwogICAgICAgICAgbGV0IGJhdGNoID0gJHtCLmluZGljZXNHZXQoIm91dHB1dEluZGljZXMiLDApfTsKICAgICAgICAgIGxldCBkMSA9ICR7Qi5pbmRpY2VzR2V0KCJvdXRwdXRJbmRpY2VzIix1KX07CiAgICAgICAgICBsZXQgciA9ICR7Qi5pbmRpY2VzR2V0KCJvdXRwdXRJbmRpY2VzIixkKX07CiAgICAgICAgICBsZXQgYyA9ICR7Qi5pbmRpY2VzR2V0KCJvdXRwdXRJbmRpY2VzIixjKX07CiAgICAgICAgICBsZXQgZHlDb3JuZXIgPSB2ZWMyPGkzMj4oaTMyKHIpLCBpMzIoYykpIC0gcGFkczsKICAgICAgICAgIGxldCBkeVJDb3JuZXIgPSBkeUNvcm5lci54OwogICAgICAgICAgbGV0IGR5Q0Nvcm5lciA9IGR5Q29ybmVyLnk7CiAgICAgICAgICBsZXQgZ3JvdXBJZCA9IGQxIC8gJHt2fTsKICAgICAgICAgIGxldCB3T3V0Q2hhbm5lbCA9IGQxIC0gZ3JvdXBJZCAqICR7dn07CiAgICAgICAgICAvLyBDb252b2x2ZSBkeSg/LCA/LCBkMikgd2l0aCB3KDosIDosIGQxLCBkMikgdG8gY29tcHV0ZSBkeCh4UiwgeEMsIGQxKS4KICAgICAgICAgIC8vID8gPSB0byBiZSBkZXRlcm1pbmVkLiA6ID0gYWNyb3NzIGFsbCB2YWx1ZXMgaW4gdGhhdCBheGlzLgogICAgICAgICAgdmFyIGRvdFByb2QgPSAke299KDAuMCk7CiAgICAgICAgICBmb3IgKHZhciB3UjogdTMyID0gMDsgd1IgPCBlZmZlY3RpdmVGaWx0ZXJEaW1zLng7IHdSID0gd1IgKyAxKSB7CiAgICAgICAgICAgIGlmICh3UiAlIGRpbGF0aW9ucy54ICE9IDApIHsKICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgZHlSID0gKCR7b30oZHlSQ29ybmVyKSArICR7b30od1IpKSAvICR7b30oc3RyaWRlc1swXSk7CiAgICAgICAgICAgIGxldCB3UlBlcm0gPSBmaWx0ZXJEaW1zLnggLSAxIC0gd1IgLyBkaWxhdGlvbnMueDsKICAgICAgICAgICAgaWYgKGR5UiA8IDAuMCB8fCBkeVIgPj0gJHtvfShvdXRCYWNrcHJvcFske2R9XSkgfHwgZnJhY3QoZHlSKSA+IDAuMCB8fAogICAgICAgICAgICAgICAgd1JQZXJtIDwgMCkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCBpZHlSOiB1MzIgPSB1MzIoZHlSKTsKCiAgICAgICAgICAgIGZvciAodmFyIHdDOiB1MzIgPSAwOyB3QyA8IGVmZmVjdGl2ZUZpbHRlckRpbXMueTsgd0MgPSB3QyArIDEpIHsKICAgICAgICAgICAgICBpZiAod0MgJSBkaWxhdGlvbnMueSAhPSAwKSB7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgbGV0IGR5QyA9ICgke299KGR5Q0Nvcm5lcikgKyAke299KHdDKSkgLyAke299KHN0cmlkZXMueSk7CiAgICAgICAgICAgICAgbGV0IHdDUGVybSA9IGZpbHRlckRpbXMueSAtIDEgLSB3QyAvIGRpbGF0aW9ucy55OwogICAgICAgICAgICAgIGlmIChkeUMgPCAwLjAgfHwgZHlDID49ICR7b30ob3V0QmFja3Byb3BbJHtjfV0pIHx8CiAgICAgICAgICAgICAgICAgIGZyYWN0KGR5QykgPiAwLjAgfHwgd0NQZXJtIDwgMCkgewogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGxldCBpZHlDOiB1MzIgPSB1MzIoZHlDKTsKICAgICAgICAgICAgICB2YXIgaW5wdXRDaGFubmVsID0gZ3JvdXBJZCAqICR7d307CiAgICAgICAgICAgICAgZm9yICh2YXIgZDI6IHUzMiA9IDA7IGQyIDwgJHt3fTsgZDIgPSBkMiArIDEpIHsKICAgICAgICAgICAgICAgIGxldCB4VmFsdWUgPSAke2w/SS5nZXQoImJhdGNoIiwiaWR5UiIsImlkeUMiLCJpbnB1dENoYW5uZWwiKTpJLmdldCgiYmF0Y2giLCJpbnB1dENoYW5uZWwiLCJpZHlSIiwiaWR5QyIpfTsKICAgICAgICAgICAgICAgIGxldCB3VmFsdWUgPSAke3guZ2V0KCJpbnB1dENoYW5uZWwiLCJ3T3V0Q2hhbm5lbCIsInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiKX07CiAgICAgICAgICAgICAgICBkb3RQcm9kID0gZG90UHJvZCArIHhWYWx1ZSAqIHdWYWx1ZTsKICAgICAgICAgICAgICAgIGlucHV0Q2hhbm5lbCA9IGlucHV0Q2hhbm5lbCArIDE7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgdmFsdWUgPSBkb3RQcm9kICsgJHthPyJiaWFzW2QxXSI6YCR7b30oMC4wKWB9OwogICAgICAgICAgJHtCLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwidmFsdWUiKX07CiAgICAgICAgYDtyZXR1cm5gCiAgJHt0LmRlY2xhcmVWYXJpYWJsZXMoLi4uVCxCKX0KICAke2t9CiAgY29uc3Qgb3V0U2hhcGUgOiB2ZWM0PHUzMj4gPSB2ZWM0PHUzMj4oJHtuLmpvaW4oIiwiKX0pOwogIGNvbnN0IG91dEJhY2twcm9wIDogdmVjNDx1MzI+ID0gdmVjNDx1MzI+KCR7ZVswXS5kaW1zLmpvaW4oIiwiKX0pOwogIGNvbnN0IHN0cmlkZXMgOiB2ZWMyPHUzMj4gPSB2ZWMyPHUzMj4oJHtyLnN0cmlkZXNbMF19LCAke3Iuc3RyaWRlc1sxXX0pOwogIGNvbnN0IGZpbHRlckRpbXMgOiB2ZWMyPHUzMj4gPSB2ZWMyPHUzMj4oJHtyLmtlcm5lbFNoYXBlW2w/MToyXX0sICR7ci5rZXJuZWxTaGFwZVtsPzI6M119KTsKICBjb25zdCBkaWxhdGlvbnMgOiB2ZWMyPHUzMj4gPSB2ZWMyPHUzMj4oJHtyLmRpbGF0aW9uc1swXX0sICR7ci5kaWxhdGlvbnNbMV19KTsKICBjb25zdCBlZmZlY3RpdmVGaWx0ZXJEaW1zIDogdmVjMjx1MzI+ID0gZmlsdGVyRGltcyArIHZlYzI8dTMyPigKICAgICAgICAgICR7ci5kaWxhdGlvbnNbMF08PTE/MDooci5rZXJuZWxTaGFwZVtsPzE6Ml0tMSkqKHIuZGlsYXRpb25zWzBdLTEpfSwKICAgICAgICAgICR7ci5kaWxhdGlvbnNbMV08PTE/MDooci5rZXJuZWxTaGFwZVtsPzI6M10tMSkqKHIuZGlsYXRpb25zWzFdLTEpfSk7CiAgY29uc3QgcGFkcyA6IHZlYzI8aTMyPiA9IHZlYzI8aTMyPihpMzIoZWZmZWN0aXZlRmlsdGVyRGltc1swXSkgLSAxIC0gKCR7ci5wYWRzWzBdK3IucGFkc1syXX0pLzIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpMzIoZWZmZWN0aXZlRmlsdGVyRGltc1sxXSkgLSAxIC0gKCR7ci5wYWRzWzFdK3IucGFkc1szXX0pLzIpOwogICAgJHt0Lm1haW5TdGFydCgpfQogICAgJHt0Lmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoaCl9OwogICR7cz9VOkh9fWB9LF9zPSh0LGUscik9PntsZXQgbj10Lmxlbmd0aD4yLGE9ZS5vdXRwdXRTaGFwZSxpPWVlLnNpemUoYSkscz1bTWF0aC5jZWlsKGkvNjQpLDEsMV07YXQoInZlcmJvc2UiLCgpPT5gW2NvbnYyZF9iYWNrcHJvcF93ZWJncHVdIGRpc3BhdGNoID0gJHtzfWApO2xldCBvPUl0KHRbMF0uZGF0YVR5cGUpO3JldHVybntuYW1lOiJDb252VHJhbnNwb3NlMkQiLHNoYWRlckNhY2hlOntoaW50OmUuY2FjaGVLZXl9LGdldFJ1bkRhdGE6KCk9Pih7ZGlzcGF0Y2hHcm91cDp7eDpzWzBdLHk6c1sxXSx6OnNbMl19LG91dHB1dHM6W3tkaW1zOnI/cihhKTphLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9XX0pLGdldFNoYWRlclNvdXJjZTpsPT5RZChsLHQsZSxhLG4sc1sxXT09PTEmJnNbMl09PT0xLCExLG8pfX19KSxaZCxKZCxlYyx5cyx0YyxyYyxuYyxhYyxpYyxzYyxnXz1RKCgpPT57aXQoKSxmXygpLG1fKCksYnIoKSxobigpLFpkPSh0LGUscixuLGEsaSk9Pih0LTEpKmUrcisobi0xKSphKzEtaSxKZD0odCxlLHIsbixhKT0+e2xldCBpPU1hdGguZmxvb3IodC8yKTtlPT09IlNBTUVfVVBQRVIiPyhyW25dPWksclthXT10LWkpOmU9PT0iU0FNRV9MT1dFUiImJihyW25dPXQtaSxyW2FdPWkpfSxlYz0odCxlLHIsbixhLGkscyxvLGwsZCk9PntsZXQgYz10Lmxlbmd0aC0yLHU9ZC5sZW5ndGg9PT0wO2lmKGwubGVuZ3RoPT09MClmb3IobGV0IGc9MDtnPGM7KytnKWwucHVzaCgwKTtsZXQgaD10WzBdLGY9ZVtvPzM6MV0qYTtmb3IobGV0IGc9MCx5PXQubGVuZ3RoLWMtKG8/MTowKTtnPGM7KytnLCsreSl7bGV0IHc9dFt5XSx2PXU/dypzW2ddOmRbZ10saz1aZCh3LHNbZ10saVtnXSxlW3ldLHJbZ10sdik7SmQoayxuLGksZyxnK2MpLHUmJmQucHVzaChzW2ddKih3LTEpK2xbZ10rKGVbeV0tMSkqcltnXSsxLWlbZ10taVtnK2NdKX1kLnNwbGljZSgwLDAsaCksZC5zcGxpY2Uobz8zOjEsMCxmKX0seXM9KHQsZSk9PntsZXQgcj10Lmtlcm5lbFNoYXBlLnNsaWNlKCk7aWYodC5rZXJuZWxTaGFwZS5sZW5ndGg9PT0wfHx0Lmtlcm5lbFNoYXBlLnJlZHVjZSgoaCxmKT0+aCpmLDEpPT09MCl7ci5sZW5ndGg9MDtmb3IobGV0IGg9MjtoPGVbMV0uZGltcy5sZW5ndGg7KytoKXIucHVzaChlWzFdLmRpbXNbaF0pfWxldCBuPXQuZm9ybWF0PT09Ik5IV0MiO3Iuc3BsaWNlKDAsMCxlWzFdLmRpbXNbMF0pLHIuc3BsaWNlKG4/MzoxLDAsZVsxXS5kaW1zWzFdKTtsZXQgYT10LnBhZHMuc2xpY2UoKSxpPXQub3V0cHV0U2hhcGUuc2xpY2UoKSxzPXQub3V0cHV0UGFkZGluZy5zbGljZSgpLG89ZVswXS5kaW1zLGw9dC5kaWxhdGlvbnMuc2xpY2UoKTtpZihsLnJlZHVjZSgoaCxmKT0+aCtmLDApPT09MCl7bGV0IGg9ZVswXS5kaW1zLmxlbmd0aC0yO2w9bmV3IEFycmF5KGgpLmZpbGwoMSl9bGV0IGQ9dC5zdHJpZGVzLnNsaWNlKCk7aWYoZC5yZWR1Y2UoKGgsZik9PmgrZiwwKT09PTApe2xldCBoPWVbMF0uZGltcy5sZW5ndGgtMjtkPW5ldyBBcnJheShoKS5maWxsKDEpfWVjKG8scixsLHQuYXV0b1BhZCx0Lmdyb3VwLGEsZCxuLHMsaSk7bGV0IGM9T2JqZWN0LmFzc2lnbih7fSx0KSx1PXQuY2FjaGVLZXkrW3Iuam9pbigibiwiKSxhLmpvaW4oIiwiKSxkLmpvaW4oIiwiKSxzLmpvaW4oIiwiKSxpLmpvaW4oIiwiKSxsLmpvaW4oIiwiKV0uam9pbigiXyIpO3JldHVybiBPYmplY3QuYXNzaWduKGMse2tlcm5lbFNoYXBlOnIscGFkczphLG91dHB1dFBhZGRpbmc6cyxvdXRwdXRTaGFwZTppLGRpbGF0aW9uczpsLHN0cmlkZXM6ZCxjYWNoZUtleTp1fSksY30sdGM9dD0+e2xldCBlPWFzKHQpLHI9dC5mb3JtYXQsbj1bIk5PVFNFVCIsIlZBTElEIiwiU0FNRV9VUFBFUiIsIlNBTUVfTE9XRVIiXVt0eXBlb2YgdC5hdXRvUGFkPiJ1Ij8wOnQuYXV0b1BhZF0sYT10LmRpbGF0aW9ucyxpPXQuZ3JvdXAscz10Lmtlcm5lbFNoYXBlLG89dC5wYWRzLGw9dC5zdHJpZGVzLGQ9dC53SXNDb25zdCgpLGM9dC5vdXRwdXRQYWRkaW5nLHU9dC5vdXRwdXRTaGFwZTtyZXR1cm4gcWUoe2F1dG9QYWQ6bixmb3JtYXQ6cixkaWxhdGlvbnM6YSxncm91cDppLGtlcm5lbFNoYXBlOnMsb3V0cHV0UGFkZGluZzpjLG91dHB1dFNoYXBlOnUscGFkczpvLHN0cmlkZXM6bCx3SXNDb25zdDpkLC4uLmV9KX0scmM9KHQsZSk9PntpZighdHx8dC5sZW5ndGghPT0yJiZ0Lmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKCJDb252IHJlcXVpcmVzIDIgb3IgMyBpbnB1dHMiKTtpZih0WzBdLmRpbXMubGVuZ3RoIT09NCYmdFswXS5kaW1zLmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKCJjdXJyZW50bHkgb25seSBzdXBwb3J0IDItZGltZW5zaW9uYWwgY29udiIpO2lmKHRbMF0uZGltcy5sZW5ndGghPT10WzFdLmRpbXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiZmlsdGVyIGRvZXMgbm90IGhhdmUgc2FtZSBkaW1lbnNpb24gYXMgaW5wdXQiKTtsZXQgcj10WzBdLmRpbXNbZS5mb3JtYXQ9PT0iTkhXQyI/dFswXS5kaW1zLmxlbmd0aC0xOjFdLG49dFsxXS5kaW1zWzBdO2lmKHIhPT1uKXRocm93IG5ldyBFcnJvcigiRklMVEVSX0lOX0NIQU5ORUwgc2hvdWxkIGJlIGVxdWFsIHRvIERBVEFfQ0hBTk5FTCIpO2xldCBhPXRbMV0uZGltc1sxXSplLmdyb3VwO2lmKHQubGVuZ3RoPT09MyYmKHRbMl0uZGltcy5sZW5ndGghPT0xfHx0WzJdLmRpbXNbMF0hPT1hKSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgYmlhcyIpO2xldCBpPXRbMF0uZGltcy5sZW5ndGgtMjtpZihlLmRpbGF0aW9ucy5yZWR1Y2UoKHMsbyk9PnMrbywwKT4wJiZlLmRpbGF0aW9ucy5sZW5ndGghPT1pKXRocm93IG5ldyBFcnJvcihgZGlsYXRpb25zIHNob3VsZCBiZSAke2l9RGApO2lmKGUuc3RyaWRlcy5yZWR1Y2UoKHMsbyk9PnMrbywwKT4wJiZlLnN0cmlkZXMubGVuZ3RoIT09aSl0aHJvdyBuZXcgRXJyb3IoYHN0cmlkZXMgc2hvdWxkIGJlICR7aX1EYCk7aWYoZS5wYWRzLnJlZHVjZSgocyxvKT0+cytvLDApPjAmJmUucGFkcy5sZW5ndGghPT1pKjIpdGhyb3cgbmV3IEVycm9yKGBwYWRzIHNob3VsZCBiZSAke2kqMn1EYCk7aWYoZS5vdXRwdXRQYWRkaW5nLmxlbmd0aCE9PWkmJmUub3V0cHV0UGFkZGluZy5sZW5ndGghPT0wKXRocm93IG5ldyBFcnJvcihgb3V0cHV0X3BhZGRpbmcgc2hvdWxkIGJlICR7aX1EYCk7aWYoZS5rZXJuZWxTaGFwZS5yZWR1Y2UoKHMsbyk9PnMrbywwKT4wJiZlLmtlcm5lbFNoYXBlLmxlbmd0aCE9PTAmJmUua2VybmVsU2hhcGUubGVuZ3RoIT09dFsxXS5kaW1zLmxlbmd0aC0yKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBrZXJuZWwgc2hhcGUiKTtpZihlLm91dHB1dFNoYXBlLmxlbmd0aCE9PTAmJmUub3V0cHV0U2hhcGUubGVuZ3RoIT09dFswXS5kaW1zLmxlbmd0aC0yKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBvdXRwdXQgc2hhcGUiKX0sbmM9WzIsMywxLDBdLGFjPSh0LGUscik9PntsZXQgbj15cyhyLGUpLGE9ci5mb3JtYXQ9PT0iTkhXQyIsaT1uLm91dHB1dFNoYXBlLHM9aVthPzM6MV0sbz1lWzBdLmRpbXNbYT8zOjFdO2lmKG4uZ3JvdXAhPT0xfHxzPT09MSYmbz09PTEpe3QuY29tcHV0ZShfcyhlLG4pKTtyZXR1cm59bGV0IGw9aVthPzE6Ml0sZD1pW2E/MjozXSxjPWVbMV0uZGltc1syXSx1PWVbMV0uZGltc1szXSxoPWE/bCpkOnMsZj1hP3M6bCpkLGc9Yyp1Km8seT0hMCx3PXQua2VybmVsQ3VzdG9tRGF0YS53VD8/dC5jb21wdXRlKGRyKGVbMV0sbmMpLHtpbnB1dHM6WzFdLG91dHB1dHM6W3Iud0lzQ29uc3Q/LTI6LTFdfSlbMF07ci53SXNDb25zdCYmIXQua2VybmVsQ3VzdG9tRGF0YS53VCYmKHQua2VybmVsQ3VzdG9tRGF0YS53VD13KTtsZXQgdj1bZVswXSx3XSxrPWUubGVuZ3RoPT09MztrJiYoIWEmJmVbMl0uZGltcy5sZW5ndGg9PT0xP3YucHVzaChlWzJdLnJlc2hhcGUoW2VbMl0uZGltc1swXSwxLDFdKSk6di5wdXNoKGVbMl0pKSx0LmNvbXB1dGUoWGQodixuLGksaCxmLGcsayx5KSx7aW5wdXRzOnZ9KX0saWM9KHQsZSk9PntsZXQgcj1lLmZvcm1hdD09PSJOSFdDIixuPVt0LmlucHV0c1swXS5yZXNoYXBlKHI/W3QuaW5wdXRzWzBdLmRpbXNbMF0sMSx0LmlucHV0c1swXS5kaW1zWzFdLHQuaW5wdXRzWzBdLmRpbXNbMl1dOlt0LmlucHV0c1swXS5kaW1zWzBdLHQuaW5wdXRzWzBdLmRpbXNbMV0sMSx0LmlucHV0c1swXS5kaW1zWzJdXSksdC5pbnB1dHNbMV0ucmVzaGFwZShbdC5pbnB1dHNbMV0uZGltc1swXSx0LmlucHV0c1sxXS5kaW1zWzFdLDEsdC5pbnB1dHNbMV0uZGltc1syXV0pXTtuLmxlbmd0aD09PTMmJm4ucHVzaCh0LmlucHV0c1syXSk7bGV0IGE9ZS5rZXJuZWxTaGFwZTsoYS5sZW5ndGg9PT0wfHxhWzBdPT09MCkmJihhPVt0LmlucHV0c1sxXS5kaW1zWzJdXSk7bGV0IGk9ZS5kaWxhdGlvbnM7KGkubGVuZ3RoPT09MHx8aVswXT09PTApJiYoaT1bMV0pO2xldCBzPWUuc3RyaWRlczsocy5sZW5ndGg9PT0wfHxzWzBdPT09MCkmJihzPVsxXSk7bGV0IG89ZS5wYWRzO28ubGVuZ3RoPT09MCYmKG89WzAsMF0pLG89WzAsb1swXSwwLG9bMV1dLHM9WzFdLmNvbmNhdChzKSxpPVsxXS5jb25jYXQoaSksYT1bMV0uY29uY2F0KGEpO2xldCBsPXlzKHsuLi5lLHBhZHM6byxzdHJpZGVzOnMsZGlsYXRpb25zOmksa2VybmVsU2hhcGU6YX0sbik7dC5jb21wdXRlKF9zKG4sbCxkPT5yP1tkWzBdLGRbMl0sZFszXV06W2RbMF0sZFsxXSxkWzNdXSkpfSxzYz0odCxlKT0+e3JjKHQuaW5wdXRzLGUpLHQuaW5wdXRzWzBdLmRpbXMubGVuZ3RoPT09Mz9pYyh0LGUpOmFjKHQsdC5pbnB1dHMsZSl9fSksb2MsbGMsdWMsX189USgoKT0+e1llKCksSWUoKSxpdCgpLENlKCksb2M9KHQsZSxyLG4pPT57bGV0IGE9ZWUuc2l6ZShlKSxpPWUubGVuZ3RoLHM9SigiaW5wdXQiLHQsaSksbz12ZSgib3V0cHV0Iix0LGkpLGw9ci5kYXRhVHlwZT09PTY/ci5nZXRJbnQzMkFycmF5KClbMF06TnVtYmVyKHIuZ2V0QmlnSW50NjRBcnJheSgpWzBdKSxkPWVlLm5vcm1hbGl6ZUF4aXMobCxpKSxjPXU9PntsZXQgaD1gIGkzMigke3MuaW5kaWNlc0dldCgiaW5wdXRJbmRpY2VzIiwidW5pZm9ybXMuYXhpcyIpfSkgYCxmPXhlKCJ1bmlmb3Jtcy5pbnB1dF9zaGFwZSIsInVuaWZvcm1zLmF4aXMiLGkpLGc9bi5yZXZlcnNlP2grKG4uZXhjbHVzaXZlPyIgKyAxIjoiIik6IjAiLHk9bi5yZXZlcnNlP2Y6aCsobi5leGNsdXNpdmU/IiI6IiArIDEiKTtyZXR1cm5gCiAgICAgICAgICAgICAgICAke3UucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRTaXplIiwidTMyIikucmVnaXN0ZXJVbmlmb3JtKCJheGlzIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyhzLG8pfQogICAgICAgICAgICAgICAgJHt1Lm1haW5TdGFydCgpfQogICAgICAgICAgICAgICAgICAke3UuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0U2l6ZSIpfQogICAgICAgICAgICAgICAgICB2YXIgaW5wdXRJbmRpY2VzID0gJHtvLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTsKICAgICAgICAgICAgICAgICAgdmFyIHN1bSA9ICR7by50eXBlLnZhbHVlfSgwKTsKICAgICAgICAgICAgICAgICAgbGV0IGZpcnN0IDogaTMyID0gJHtnfTsKICAgICAgICAgICAgICAgICAgbGV0IGxhc3QgOiBpMzIgPSAke3l9OwogICAgICAgICAgICAgICAgICBmb3IgKHZhciBpIDogaTMyID0gZmlyc3Q7IGkgPCBsYXN0OyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAke3MuaW5kaWNlc1NldCgiaW5wdXRJbmRpY2VzIiwidW5pZm9ybXMuYXhpcyIsInUzMihpKSIpfTsKICAgICAgICAgICAgICAgICAgICBzdW0gPSBzdW0gKyAke3MuZ2V0QnlJbmRpY2VzKCJpbnB1dEluZGljZXMiKX07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgJHtvLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4Iiwic3VtIil9OwogICAgICAgICAgICAgICAgfWB9O3JldHVybntuYW1lOiJDdW1TdW0iLHNoYWRlckNhY2hlOntoaW50Om4uY2FjaGVLZXksaW5wdXREZXBlbmRlbmNpZXM6WyJyYW5rIl19LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6ZSxkYXRhVHlwZTp0fV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoYS82NCl9LHByb2dyYW1Vbmlmb3Jtczpbe3R5cGU6InVpbnQzMiIsZGF0YTphfSx7dHlwZToiaW50MzIiLGRhdGE6ZH0sLi4uaWUoZSksLi4uaWUoZSldfSksZ2V0U2hhZGVyU291cmNlOmN9fSxsYz0odCxlKT0+e2xldCByPXQuaW5wdXRzWzBdLmRpbXMsbj10LmlucHV0c1swXS5kYXRhVHlwZSxhPXQuaW5wdXRzWzFdO3QuY29tcHV0ZShvYyhuLHIsYSxlKSx7aW5wdXRzOlswXX0pfSx1Yz10PT57bGV0IGU9dC5leGNsdXNpdmU9PT0xLHI9dC5yZXZlcnNlPT09MTtyZXR1cm4gcWUoe2V4Y2x1c2l2ZTplLHJldmVyc2U6cn0pfX0pLE9hLGZuLHdzLGRjLGNjLHBjLGhjLHZzLGZjLG1jLGdjLHlfPVEoKCk9PntJZSgpLGl0KCksQ2UoKSxPYT0iW2EtekEtWl18XFwuXFwuXFwuIixmbj0iKCIrT2ErIikrIix3cz0iXiIrZm4rIiQiLGRjPSIoIitmbisiLCkqIitmbixjYz0iXiIrZGMrIiQiLHBjPWNsYXNze2NvbnN0cnVjdG9yKHQ9LTEpe3RoaXMuc3ltYm9sVG9JbmRpY2VzPW5ldyBNYXAsdGhpcy5pbnB1dEluZGV4PXR9YWRkU3ltYm9sKHQsZSl7bGV0IHI9dGhpcy5zeW1ib2xUb0luZGljZXMuZ2V0KHQpO3I9PT12b2lkIDA/cj1bZV06ci5wdXNoKGUpLHRoaXMuc3ltYm9sVG9JbmRpY2VzLnNldCh0LHIpfX0saGM9Y2xhc3N7Y29uc3RydWN0b3IodCxlKXt0aGlzLmVxdWF0aW9uPWUsdGhpcy5oYXNFbGxpcHNpcz0hMSx0aGlzLnN5bWJvbFRvSW5mbz1uZXcgTWFwLHRoaXMubGhzPW5ldyBBcnJheSx0aGlzLm91dHB1dERpbXM9W107bGV0W3Isbl09ZS5pbmNsdWRlcygiLT4iKT9lLnNwbGl0KCItPiIsMik6W2UsIiJdO2lmKCFyLm1hdGNoKFJlZ0V4cChjYykpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBMSFMgdGVybSIpO2lmKHIuc3BsaXQoIiwiKS5mb3JFYWNoKChhLGkpPT57bGV0IHM9dFtpXS5kaW1zLnNsaWNlKCk7aWYoIWEubWF0Y2goUmVnRXhwKHdzKSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIExIUyB0ZXJtIik7bGV0IG89dGhpcy5wcm9jZXNzVGVybShhLCEwLHMsaSk7dGhpcy5saHMucHVzaChvKX0pLG49PT0iIiluKz1bLi4udGhpcy5zeW1ib2xUb0luZm8uZW50cmllcygpXS5maWx0ZXIoKFthLGldKT0+aS5jb3VudD09PTF8fGE9PT0iLi4uIikubWFwKChbYV0pPT5hKS5qb2luKCIiKTtlbHNlIGlmKCFuLm1hdGNoKFJlZ0V4cChmbikpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBSSFMiKTtuLm1hdGNoKFJlZ0V4cChPYSwiZyIpKT8uZm9yRWFjaChhPT57aWYoYT09PSIuLi4iKXRoaXMub3V0cHV0RGltcz10aGlzLm91dHB1dERpbXMuY29uY2F0KHRoaXMuZWxsaXBzaXNEaW1zKTtlbHNle2xldCBpPXRoaXMuc3ltYm9sVG9JbmZvLmdldChhKTtpZihpPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBSSFMgc3ltYm9sIik7dGhpcy5vdXRwdXREaW1zLnB1c2goaS5kaW1WYWx1ZSl9fSksdGhpcy5yaHM9dGhpcy5wcm9jZXNzVGVybShuLCExLHRoaXMub3V0cHV0RGltcyl9YWRkU3ltYm9sKHQsZSxyKXtsZXQgbj10aGlzLnN5bWJvbFRvSW5mby5nZXQodCk7aWYobiE9PXZvaWQgMCl7aWYobi5kaW1WYWx1ZSE9PWUmJm4uY291bnQhPT0xKXRocm93IG5ldyBFcnJvcigiRGltZW5zaW9uIG1pc21hdGNoIik7bi5jb3VudCsrLG4uaW5wdXRJbmRpY2VzLnB1c2gocil9ZWxzZSBuPXtjb3VudDoxLGRpbVZhbHVlOmUsaW5wdXRJbmRpY2VzOltyXX07dGhpcy5zeW1ib2xUb0luZm8uc2V0KHQsbil9cHJvY2Vzc1Rlcm0odCxlLHIsbj0tMSl7bGV0IGE9ci5sZW5ndGgsaT0hMSxzPVtdLG89MDtpZighdC5tYXRjaChSZWdFeHAod3MpKSYmIWUmJnQhPT0iIil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgTEhTIHRlcm0iKTtsZXQgbD10Lm1hdGNoKFJlZ0V4cChPYSwiZyIpKSxkPW5ldyBwYyhuKTtyZXR1cm4gbD8uZm9yRWFjaCgoYyx1KT0+e2lmKGM9PT0iLi4uIil7aWYoaSl0aHJvdyBuZXcgRXJyb3IoIk9ubHkgb25lIGVsbGlwc2lzIGlzIGFsbG93ZWQgcGVyIGlucHV0IHRlcm0iKTtpPSEwO2xldCBoPWEtbC5sZW5ndGgrMTtpZihoPDApdGhyb3cgbmV3IEVycm9yKCJFbGxpcHNpcyBvdXQgb2YgYm91bmRzIik7aWYocz1yLnNsaWNlKG8sbytoKSx0aGlzLmhhc0VsbGlwc2lzKXtpZih0aGlzLmVsbGlwc2lzRGltcy5sZW5ndGghPT1zLmxlbmd0aHx8dGhpcy5lbGxpcHNpc0RpbXMudG9TdHJpbmcoKSE9PXMudG9TdHJpbmcoKSl0aHJvdyBuZXcgRXJyb3IoIkVsbGlwc2lzIGRpbWVuc2lvbnMgbWlzbWF0Y2giKX1lbHNlIGlmKGUpdGhpcy5oYXNFbGxpcHNpcz0hMCx0aGlzLmVsbGlwc2lzRGltcz1zO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJFbGxpcHNpcyBtdXN0IGJlIHNwZWNpZmllZCBpbiB0aGUgTEhTIik7Zm9yKGxldCBmPTA7ZjxzLmxlbmd0aDtmKyspe2xldCBnPVN0cmluZy5mcm9tQ2hhckNvZGUoNDgrZik7ZC5hZGRTeW1ib2woZyx1K2YpLHRoaXMuYWRkU3ltYm9sKGcscltvKytdLG4pfX1lbHNlIGQuYWRkU3ltYm9sKGMsdSsodGhpcy5oYXNFbGxpcHNpcz90aGlzLmVsbGlwc2lzRGltcy5sZW5ndGgtMTowKSksdGhpcy5hZGRTeW1ib2woYyxyW28rK10sbil9KSxkfX0sdnM9dD0+dCsiX21heCIsZmM9KHQsZSxyLG4sYSk9PntsZXQgaT1lLm1hcCgoaCxmKT0+dFtmXT9oLmxlbmd0aDpoKS5tYXAoKGgsZik9PkooYGlucHV0JHtmfWAscixoKSkscz1lZS5zaXplKGEpLG89c3QoYS5sZW5ndGgpLGw9bz9hLmxlbmd0aDphLGQ9dmUoIm91dHB1dCIscixsKSxjPVsuLi5uLnN5bWJvbFRvSW5mby5rZXlzKCldLmZpbHRlcihoPT4hbi5yaHMuc3ltYm9sVG9JbmRpY2VzLmhhcyhoKSksdT1oPT57bGV0IGY9W10sZz0idmFyIHByb2QgPSAxLjA7Iix5PSJ2YXIgc3VtID0gMC4wOyIsdz0ic3VtICs9IHByb2Q7Iix2PVtdLGs9W10sRT1bXSx4PVtdLEk9bi5zeW1ib2xUb0luZm8uc2l6ZT09PW4ucmhzLnN5bWJvbFRvSW5kaWNlcy5zaXplO24uc3ltYm9sVG9JbmZvLmZvckVhY2goKEIsVSk9PntpZihuLnJocy5zeW1ib2xUb0luZGljZXMuaGFzKFUpKXtsZXQgSD1uLnJocy5zeW1ib2xUb0luZGljZXMuZ2V0KFUpPy5bMF07SCE9PXZvaWQgMCYmbi5saHMuZm9yRWFjaCgoSyxPKT0+e2lmKEIuaW5wdXRJbmRpY2VzLmluY2x1ZGVzKE8pKXtsZXQgRz1LLnN5bWJvbFRvSW5kaWNlcy5nZXQoVSk7aWYoRz09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3ltYm9sIGVycm9yIik7Ry5mb3JFYWNoKG5lPT57Zi5wdXNoKGAke2lbT10uaW5kaWNlc1NldChgaW5wdXQke099SW5kaWNlc2AsbmUsZC5pbmRpY2VzR2V0KCJvdXRwdXRJbmRpY2VzIixIKSl9YCl9KX19KX1lbHNlIG4ubGhzLmZvckVhY2goKEgsSyk9PntpZihCLmlucHV0SW5kaWNlcy5pbmNsdWRlcyhLKSl7bGV0IE89SC5zeW1ib2xUb0luZGljZXMuZ2V0KFUpO2lmKE89PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHN5bWJvbCBlcnJvciIpO08uZm9yRWFjaChHPT57di5wdXNoKGAke2lbS10uaW5kaWNlc1NldChgaW5wdXQke0t9SW5kaWNlc2AsRyxgJHtVfWApfWApfSkseC5wdXNoKGBwcm9kICo9ICR7aVtLXS5nZXRCeUluZGljZXMoYGlucHV0JHtLfUluZGljZXNgKX07YCl9fSksay5wdXNoKGBmb3IodmFyICR7VX06IHUzMiA9IDA7ICR7VX0gPCB1bmlmb3Jtcy4ke3ZzKFUpfTsgJHtVfSsrKSB7YCksRS5wdXNoKCJ9Iil9KTtsZXQgVD1JP1suLi5mLGBsZXQgc3VtID0gJHtpLm1hcCgoQixVKT0+Qi5nZXRCeUluZGljZXMoYGlucHV0JHtVfUluZGljZXNgKSkuam9pbigiICogIil9O2BdOlsuLi5mLHksLi4uaywuLi52LGcsLi4ueCx3LC4uLkVdO3JldHVybmAKICAgICAgICAgICAgJHtoLnJlZ2lzdGVyVW5pZm9ybXMoYy5tYXAoQj0+KHtuYW1lOmAke3ZzKEIpfWAsdHlwZToidTMyIn0pKSkucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRTaXplIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyguLi5pLGQpfQoKICAgICAgICAgICAgJHtoLm1haW5TdGFydCgpfQogICAgICAgICAgICAke2guZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0U2l6ZSIpfQogICAgICAgICAgICB2YXIgb3V0cHV0SW5kaWNlcyA9ICR7ZC5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07CiAgICAgICAgICAgICR7aS5tYXAoKEIsVSk9PmB2YXIgaW5wdXQke1V9SW5kaWNlczogJHtpW1VdLnR5cGUuaW5kaWNlc307YCkuam9pbihgCmApfQogICAgICAgICAgICAke1Quam9pbihgCmApfTsKICAgICAgICAgICAgJHtkLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4Iiwic3VtIil9OwogICAgICAgICAgfWB9O3JldHVybntuYW1lOiJFaW5zdW0iLHNoYWRlckNhY2hlOntoaW50Om4uZXF1YXRpb24saW5wdXREZXBlbmRlbmNpZXM6dC5tYXAoaD0+aD8icmFuayI6ImRpbXMiKX0sZ2V0UnVuRGF0YTooKT0+e2xldCBoPWMuZmlsdGVyKGc9Pm4uc3ltYm9sVG9JbmZvLmhhcyhnKSkubWFwKGc9Pih7dHlwZToidWludDMyIixkYXRhOm4uc3ltYm9sVG9JbmZvLmdldChnKT8uZGltVmFsdWV8fDB9KSk7aC5wdXNoKHt0eXBlOiJ1aW50MzIiLGRhdGE6c30pO2xldCBmPWUuZmlsdGVyKChnLHkpPT50W3ldKS5tYXAoKGcseSk9PlsuLi5pZShnKV0pLnJlZHVjZSgoZyx5KT0+Zy5jb25jYXQoeSksaCk7cmV0dXJuIG8mJmYucHVzaCguLi5pZShhKSkse291dHB1dHM6W3tkaW1zOmEsZGF0YVR5cGU6cn1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKHMvNjQpfSxwcm9ncmFtVW5pZm9ybXM6Zn19LGdldFNoYWRlclNvdXJjZTp1fX0sbWM9KHQsZSk9PntsZXQgcj1uZXcgaGModC5pbnB1dHMsZS5lcXVhdGlvbiksbj10LmlucHV0cy5tYXAoKHMsbyk9PnN0KHMuZGltcy5sZW5ndGgpKSxhPXIub3V0cHV0RGltcyxpPXQuaW5wdXRzLm1hcCgocyxvKT0+cy5kaW1zKTt0LmNvbXB1dGUoZmMobixpLHQuaW5wdXRzWzBdLmRhdGFUeXBlLHIsYSkpfSxnYz10PT57bGV0IGU9dC5lcXVhdGlvbi5yZXBsYWNlKC9ccysvZywiIik7cmV0dXJuIHFlKHtlcXVhdGlvbjplfSl9fSksX2MsYnMseWMsd2MsdmMsd189USgoKT0+e1llKCksSWUoKSxDZSgpLF9jPXQ9PntpZighdHx8dC5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcigiRXhwYW5kIHJlcXVpcmVzIDIgaW5wdXQuIik7bGV0IGU9dFswXS5kaW1zLHI9QXJyYXkuZnJvbSh0WzFdLmdldEJpZ0ludDY0QXJyYXkoKSxOdW1iZXIpLG49ci5sZW5ndGg8ZS5sZW5ndGg/MDpyLmxlbmd0aC1lLmxlbmd0aCxhPWUubGVuZ3RoPHIubGVuZ3RoPzA6ZS5sZW5ndGgtci5sZW5ndGg7Zm9yKDtuPHIubGVuZ3RoJiZhPGUubGVuZ3RoOysrbiwrK2EpaWYocltuXSE9PWVbYV0mJnJbbl0hPT0xJiZlW2FdIT09MSl0aHJvdyBuZXcgRXJyb3IoIkV4cGFuZCByZXF1aXJlcyBzaGFwZSB0byBiZSBicm9hZGNhc3RhYmxlIHRvIGlucHV0Iil9LGJzPSh0LGUpPT57bGV0IHI9dC5sZW5ndGgtZS5sZW5ndGgsbj1bXTtmb3IobGV0IGE9MDthPHI7KythKW4ucHVzaCh0W2FdKTtmb3IobGV0IGE9MDthPGUubGVuZ3RoOysrYSluLnB1c2goZVthXT09PTE/dFthK3JdOmVbYV0pO3JldHVybiBufSx5Yz0odCxlKT0+dC5sZW5ndGg+ZS5sZW5ndGg/YnModCxlKTpicyhlLHQpLHdjPXQ9PntsZXQgZT10WzBdLmRpbXMscj1BcnJheS5mcm9tKHRbMV0uZ2V0QmlnSW50NjRBcnJheSgpLE51bWJlciksbj15YyhlLHIpLGE9dFswXS5kYXRhVHlwZSxpPWE9PT05PzQ6MSxzPU1hdGguY2VpbChlZS5zaXplKG4pL2kpLG89c3QoZS5sZW5ndGgpLGw9c3Qobi5sZW5ndGgpLGQ9dT0+e2xldCBoPW8/ZS5sZW5ndGg6ZSxmPWw/bi5sZW5ndGg6bixnPUooImlucHV0IixhLGgsaSkseT12ZSgib3V0cHV0IixhLGYsaSksdztpZihhPT09OSl7bGV0IHY9KGssRSx4PSIiKT0+YAogICAgICAgICAgbGV0IG91dHB1dEluZGljZXMke0V9ID0gJHt5Lm9mZnNldFRvSW5kaWNlcyhgb3V0cHV0T2Zmc2V0ICsgJHtFfXVgKX07CiAgICAgICAgICBsZXQgb2Zmc2V0JHtFfSA9ICR7Zy5icm9hZGNhc3RlZEluZGljZXNUb09mZnNldChgb3V0cHV0SW5kaWNlcyR7RX1gLHkpfTsKICAgICAgICAgIGxldCBpbmRleCR7RX0gPSBvZmZzZXQke0V9IC8gNHU7CiAgICAgICAgICBsZXQgY29tcG9uZW50JHtFfSA9IG9mZnNldCR7RX0gJSA0dTsKICAgICAgICAgICR7a31bJHtFfV0gPSAke3h9KCR7Zy5nZXRCeU9mZnNldChgaW5kZXgke0V9YCl9W2NvbXBvbmVudCR7RX1dKTsKICAgICAgICBgO3c9YAogICAgICAgIGxldCBvdXRwdXRPZmZzZXQgPSBnbG9iYWxfaWR4ICogJHtpfTsKICAgICAgICB2YXIgZGF0YSA9IHZlYzQ8dTMyPigwKTsKICAgICAgICAke3YoImRhdGEiLDAsInUzMiIpfQogICAgICAgICR7digiZGF0YSIsMSwidTMyIil9CiAgICAgICAgJHt2KCJkYXRhIiwyLCJ1MzIiKX0KICAgICAgICAke3YoImRhdGEiLDMsInUzMiIpfQogICAgICAgICR7eS5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsImRhdGEiKX0KICAgICAgfWB9ZWxzZSB3PWAKICAgICAgICBsZXQgb3V0cHV0SW5kaWNlcyA9ICR7eS5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07CiAgICAgICAgbGV0IGlucHV0T2Zmc2V0ID0gJHtnLmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KCJvdXRwdXRJbmRpY2VzIix5KX07CiAgICAgICAgJHt5LnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IixnLmdldEJ5T2Zmc2V0KCJpbnB1dE9mZnNldCIpKX0KICAgICAgfWA7cmV0dXJuYAogICAgJHt1LnJlZ2lzdGVyVW5pZm9ybSgidmVjX3NpemUiLCJ1MzIiKS5kZWNsYXJlVmFyaWFibGVzKGcseSl9CiAgICAke3UubWFpblN0YXJ0KCl9CiAgICAke3UuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMudmVjX3NpemUiKX0KICAgICR7d31gfSxjPVt7dHlwZToidWludDMyIixkYXRhOnN9XTtyZXR1cm4gbyYmYy5wdXNoKC4uLmllKGUpKSxsJiZjLnB1c2goLi4uaWUobikpLHtuYW1lOiJFeHBhbmQiLHNoYWRlckNhY2hlOntoaW50OmAke24ubGVuZ3RofWAsaW5wdXREZXBlbmRlbmNpZXM6W28/InJhbmsiOiJkaW1zIl19LGdldFNoYWRlclNvdXJjZTpkLGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6bixkYXRhVHlwZTp0WzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwocy82NCl9LHByb2dyYW1Vbmlmb3JtczpjfSl9fSx2Yz10PT57X2ModC5pbnB1dHMpLHQuY29tcHV0ZSh3Yyh0LmlucHV0cykse2lucHV0czpbMF19KX19KSxiYywkYyx4YyxrYyx2Xz1RKCgpPT57WWUoKSxJZSgpLGl0KCksQ2UoKSxiYz10PT57aWYoIXR8fHQubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoIkdhdGhlciByZXF1aXJlcyAyIGlucHV0cy4iKX0sJGM9KHQsZSk9PntsZXQgcj10WzBdLmRpbXMsbj10WzFdLmRpbXMsYT1yLmxlbmd0aCxpPWVlLm5vcm1hbGl6ZUF4aXMoZS5heGlzLGEpLHM9ci5zbGljZSgwKTtzLnNwbGljZShpLDEsLi4ubik7bGV0IG89cltpXSxsPXRbMF0uZGF0YVR5cGU9PT05PzQ6MSxkPU1hdGguY2VpbChlZS5zaXplKHMpL2wpLGM9c3QodFswXS5kaW1zLmxlbmd0aCksdT1jP3RbMF0uZGltcy5sZW5ndGg6dFswXS5kaW1zLGg9c3QodFsxXS5kaW1zLmxlbmd0aCksZj1oP3RbMV0uZGltcy5sZW5ndGg6dFsxXS5kaW1zLGc9c3Qocy5sZW5ndGgpLHk9Zz9zLmxlbmd0aDpzLHc9W3t0eXBlOiJ1aW50MzIiLGRhdGE6ZH0se3R5cGU6ImludDMyIixkYXRhOm99LHt0eXBlOiJ1aW50MzIiLGRhdGE6aX1dO2MmJncucHVzaCguLi5pZSh0WzBdLmRpbXMpKSxoJiZ3LnB1c2goLi4uaWUodFsxXS5kaW1zKSksZyYmdy5wdXNoKC4uLmllKHMpKTtsZXQgdj1bXTt2LnB1c2goYz8icmFuayI6ImRpbXMiKSx2LnB1c2goaD8icmFuayI6ImRpbXMiKTtsZXQgaz1FPT57bGV0IHg9SigiZGF0YSIsdFswXS5kYXRhVHlwZSx1LGwpLEk9SigiaW5wdXRJbmRpY2VzIix0WzFdLmRhdGFUeXBlLGYpLFQ9dmUoIm91dHB1dCIsdFswXS5kYXRhVHlwZSx5LGwpLEI9SD0+e2xldCBLPW4ubGVuZ3RoLE89YHZhciBpbmRpY2VzSW5kaWNlcyR7SH0gID0gJHtJLnR5cGUuaW5kaWNlc30oMCk7YDtmb3IobGV0IEc9MDtHPEs7RysrKU8rPWAke0s+MT9gaW5kaWNlc0luZGljZXMke0h9WyR7R31dYDpgaW5kaWNlc0luZGljZXMke0h9YH0gPSAke3MubGVuZ3RoPjE/YG91dHB1dEluZGljZXMke0h9W3VuaWZvcm1zLmF4aXMgKyAke0d9XWA6YG91dHB1dEluZGljZXMke0h9YH07YDtPKz1gCiAgICAgICAgICB2YXIgaWR4JHtIfSA9ICR7SS5nZXRCeUluZGljZXMoYGluZGljZXNJbmRpY2VzJHtIfWApfTsKICAgICAgICAgIGlmIChpZHgke0h9IDwgMCkgewogICAgICAgICAgICBpZHgke0h9ID0gaWR4JHtIfSArIHVuaWZvcm1zLmF4aXNEaW1MaW1pdDsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBkYXRhSW5kaWNlcyR7SH0gPSAke3gudHlwZS5pbmRpY2VzfSgwKTsKICAgICAgICBgO2ZvcihsZXQgRz0wLG5lPTA7RzxhO0crKylHPT09aT8oTys9YCR7YT4xP2BkYXRhSW5kaWNlcyR7SH1bJHtHfV1gOmBkYXRhSW5kaWNlcyR7SH1gfSA9IHUzMihpZHgke0h9KTtgLG5lKz1LKTooTys9YCR7YT4xP2BkYXRhSW5kaWNlcyR7SH1bJHtHfV1gOmBkYXRhSW5kaWNlcyR7SH1gfSA9ICR7cy5sZW5ndGg+MT9gb3V0cHV0SW5kaWNlcyR7SH1bJHtuZX1dYDpgb3V0cHV0SW5kaWNlcyR7SH1gfTtgLG5lKyspO3JldHVybiBPfSxVO2lmKHRbMF0uZGF0YVR5cGU9PT05KXtsZXQgSD0oSyxPLEc9IiIpPT5gCiAgICAgICAgICBsZXQgb3V0cHV0SW5kaWNlcyR7T30gPSAke1Qub2Zmc2V0VG9JbmRpY2VzKGBvdXRwdXRPZmZzZXQgKyAke099dWApfTsKICAgICAgICAgICR7QihPKX07CiAgICAgICAgICBsZXQgb2Zmc2V0JHtPfSA9ICR7eC5pbmRpY2VzVG9PZmZzZXQoYGRhdGFJbmRpY2VzJHtPfWApfTsKICAgICAgICAgIGxldCBpbmRleCR7T30gPSBvZmZzZXQke099IC8gNHU7CiAgICAgICAgICBsZXQgY29tcG9uZW50JHtPfSA9IG9mZnNldCR7T30gJSA0dTsKICAgICAgICAgICR7S31bJHtPfV0gPSAke0d9KCR7eC5nZXRCeU9mZnNldChgaW5kZXgke099YCl9W2NvbXBvbmVudCR7T31dKTsKICAgICAgICBgO1U9YAogICAgICAgIGxldCBvdXRwdXRPZmZzZXQgPSBnbG9iYWxfaWR4ICogJHtsfTsKICAgICAgICB2YXIgdmFsdWUgPSB2ZWM0PHUzMj4oMCk7CiAgICAgICAgJHtIKCJ2YWx1ZSIsMCwidTMyIil9CiAgICAgICAgJHtIKCJ2YWx1ZSIsMSwidTMyIil9CiAgICAgICAgJHtIKCJ2YWx1ZSIsMiwidTMyIil9CiAgICAgICAgJHtIKCJ2YWx1ZSIsMywidTMyIil9CiAgICAgICAgJHtULnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwidmFsdWUiKX0KICAgICAgYH1lbHNlIFU9YAogICAgICBsZXQgb3V0cHV0SW5kaWNlcyA9ICR7VC5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07CiAgICAgICR7QigiIil9OwogICAgICBsZXQgdmFsdWUgPSAke3guZ2V0QnlJbmRpY2VzKCJkYXRhSW5kaWNlcyIpfTsKICAgICAgJHtULnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwidmFsdWUiKX07CiAgICAgIGA7cmV0dXJuYAogICAgICAke0UucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRTaXplIiwidTMyIikucmVnaXN0ZXJVbmlmb3JtKCJheGlzRGltTGltaXQiLCJpMzIiKS5yZWdpc3RlclVuaWZvcm0oImF4aXMiLCJ1MzIiKS5kZWNsYXJlVmFyaWFibGVzKHgsSSxUKX0KICAgICAgJHtFLm1haW5TdGFydCgpfQogICAgICAgICR7RS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9CiAgICAgICAgJHtVfQogICAgICB9YH07cmV0dXJue25hbWU6IkdhdGhlciIsc2hhZGVyQ2FjaGU6e2hpbnQ6ZS5jYWNoZUtleSxpbnB1dERlcGVuZGVuY2llczp2fSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnMsZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGQvNjQpfSxwcm9ncmFtVW5pZm9ybXM6d30pLGdldFNoYWRlclNvdXJjZTprfX0seGM9dD0+cWUoe2F4aXM6dC5heGlzfSksa2M9KHQsZSk9PntsZXQgcj10LmlucHV0cztiYyhyKSx0LmNvbXB1dGUoJGModC5pbnB1dHMsZSkpfX0pLFNjLEVjLENjLEljLGJfPVEoKCk9PntJZSgpLGl0KCksQ2UoKSxTYz10PT57aWYoIXR8fHQubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoIkdhdGhlckVsZW1lbnRzIHJlcXVpcmVzIDIgaW5wdXRzLiIpO2lmKHRbMF0uZGltcy5sZW5ndGg8MSl0aHJvdyBuZXcgRXJyb3IoIkdhdGhlckVsZW1lbnRzIHJlcXVpcmVzIHRoYXQgdGhlIGRhdGEgaW5wdXQgYmUgcmFuayA+PSAxLiIpO2lmKHRbMF0uZGltcy5sZW5ndGghPT10WzFdLmRpbXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgR2F0aGVyRWxlbWVudHMgcmVxdWlyZXMgdGhhdCB0aGUgZGF0YSBpbnB1dCBhbmQKICAgICAgICAgICAgICAgICAgICAgaW5kaWNlcyBpbnB1dCB0ZW5zb3JzIGJlIG9mIHNhbWUgcmFuay5gKX0sRWM9KHQsZSk9PntsZXQgcj10WzBdLmRpbXMsbj10WzBdLmRhdGFUeXBlLGE9ci5sZW5ndGgsaT10WzFdLmRpbXMscz10WzFdLmRhdGFUeXBlLG89ZWUubm9ybWFsaXplQXhpcyhlLmF4aXMsYSksbD1yW29dLGQ9aS5zbGljZSgwKSxjPWVlLnNpemUoZCksdT1KKCJpbnB1dCIsbixhKSxoPUooImluZGljZXNJbnB1dCIscyxpLmxlbmd0aCksZj12ZSgib3V0cHV0IixuLGQubGVuZ3RoKSxnPVt7dHlwZToidWludDMyIixkYXRhOmN9LHt0eXBlOiJpbnQzMiIsZGF0YTpsfSx7dHlwZToidWludDMyIixkYXRhOm99XTtyZXR1cm4gZy5wdXNoKC4uLmllKHIpKSxnLnB1c2goLi4uaWUoaSkpLGcucHVzaCguLi5pZShkKSkse25hbWU6IkdhdGhlckVsZW1lbnRzIixzaGFkZXJDYWNoZTp7aW5wdXREZXBlbmRlbmNpZXM6WyJyYW5rIiwicmFuayJdfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmQsZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGMvNjQpfSxwcm9ncmFtVW5pZm9ybXM6Z30pLGdldFNoYWRlclNvdXJjZTp5PT5gCiAgICAgICR7eS5yZWdpc3RlclVuaWZvcm0oIm91dHB1dFNpemUiLCJ1MzIiKS5yZWdpc3RlclVuaWZvcm0oImF4aXNEaW1MaW1pdCIsImkzMiIpLnJlZ2lzdGVyVW5pZm9ybSgiYXhpcyIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXModSxoLGYpfQogICAgICAke3kubWFpblN0YXJ0KCl9CiAgICAgICR7eS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9CgogICAgICBsZXQgb3V0cHV0SW5kaWNlcyA9ICR7Zi5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07CgogICAgICB2YXIgaWR4ID0gJHtoLmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4Iil9OwogICAgICBpZiAoaWR4IDwgMCkgewogICAgICAgIGlkeCA9IGlkeCArIHVuaWZvcm1zLmF4aXNEaW1MaW1pdDsKICAgICAgfQogICAgICB2YXIgaW5wdXRJbmRpY2VzID0gJHt1LnR5cGUuaW5kaWNlc30ob3V0cHV0SW5kaWNlcyk7CiAgICAgICR7dS5pbmRpY2VzU2V0KCJpbnB1dEluZGljZXMiLCJ1bmlmb3Jtcy5heGlzIiwidTMyKGlkeCkiKX07CiAgICAgIGxldCB2YWx1ZSA9ICR7dS5nZXRCeUluZGljZXMoImlucHV0SW5kaWNlcyIpfTsKCiAgICAgICR7Zi5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsInZhbHVlIil9OwogIH1gfX0sQ2M9dD0+cWUoe2F4aXM6dC5heGlzfSksSWM9KHQsZSk9PntsZXQgcj10LmlucHV0cztTYyhyKSx0LmNvbXB1dGUoRWModC5pbnB1dHMsZSkpfX0pLEFjLFRjLE9jLE1jLCRfPVEoKCk9PntJZSgpLENlKCksQWM9dD0+e2lmKCF0KXRocm93IG5ldyBFcnJvcigiSW5wdXQgaXMgbWlzc2luZyIpO2lmKHQubGVuZ3RoPDJ8fHQubGVuZ3RoPjMpdGhyb3cgbmV3IEVycm9yKCJJbnZhaWQgaW5wdXQgbnVtYmVyLiIpO2lmKHQubGVuZ3RoPT09MyYmdFsyXS5kaW1zLmxlbmd0aD4yKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCBzaGFwZSBvZiBDIik7aWYodFswXS5kYXRhVHlwZSE9PXRbMV0uZGF0YVR5cGV8fHQubGVuZ3RoPT09MyYmdFswXS5kYXRhVHlwZSE9PXRbMl0uZGF0YVR5cGUpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCB0eXBlcyBhcmUgbWlzbWF0Y2hlZCIpfSxUYz0odCxlKT0+e2xldCByPXRbMF0uZGltcy5zbGljZSgpLG49dFsxXS5kaW1zLnNsaWNlKCksW2EsaSxzXT0kbC5nZXRTaGFwZU9mR2VtbVJlc3VsdChyLGUudHJhbnNBLG4sZS50cmFuc0IsdC5sZW5ndGg9PT0zP3RbMl0uZGltczp2b2lkIDApLG89W2EsaV07aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJDYW4ndCB1c2UgZ2VtbSBvbiB0aGUgZ2l2ZW4gdGVuc29ycyIpO2xldCBsPWVlLnNpemUobyksZD1be3R5cGU6InVpbnQzMiIsZGF0YTpsfSx7dHlwZToidWludDMyIixkYXRhOmF9LHt0eXBlOiJ1aW50MzIiLGRhdGE6aX0se3R5cGU6InVpbnQzMiIsZGF0YTpzfSx7dHlwZToiZmxvYXQzMiIsZGF0YTplLmFscGhhfSx7dHlwZToiZmxvYXQzMiIsZGF0YTplLmJldGF9XSxjPVsidHlwZSIsInR5cGUiXTt0Lmxlbmd0aD09PTMmJihkLnB1c2goLi4uaWUodFsyXS5kaW1zKSksYy5wdXNoKCJyYW5rIikpLGQucHVzaCguLi5pZShvKSk7bGV0IHU9aD0+e2xldCBmPSIiO2UudHJhbnNBJiZlLnRyYW5zQj9mPSJ2YWx1ZSArPSBhW2sgKiB1bmlmb3Jtcy5NICsgbV0gKiBiW24gKiB1bmlmb3Jtcy5LICsga107IjplLnRyYW5zQSYmIWUudHJhbnNCP2Y9InZhbHVlICs9IGFbayAqIHVuaWZvcm1zLk0gKyBtXSAqIGJbayAqIHVuaWZvcm1zLk4gKyBuXTsiOiFlLnRyYW5zQSYmZS50cmFuc0I/Zj0idmFsdWUgKz0gYVttICogdW5pZm9ybXMuSyArIGtdICogYltuICogdW5pZm9ybXMuSyArIGtdOyI6IWUudHJhbnNBJiYhZS50cmFuc0ImJihmPSJ2YWx1ZSArPSBhW20gKiB1bmlmb3Jtcy5LICsga10gKiBiW2sgKiB1bmlmb3Jtcy5OICsgbl07Iik7bGV0IGc9ZS5hbHBoYT09PTE/IiI6InZhbHVlICo9IHVuaWZvcm1zLmFscGhhOyIseT1KKCJhIix0WzBdLmRhdGFUeXBlLHRbMF0uZGltcyksdz1KKCJiIix0WzFdLmRhdGFUeXBlLHRbMV0uZGltcyksdj15LnR5cGUudmFsdWUsaz1udWxsLEU9W3ksd107dC5sZW5ndGg9PT0zJiYoaz1KKCJjIix0WzJdLmRhdGFUeXBlLHRbMl0uZGltcy5sZW5ndGgpLEUucHVzaChrKSk7bGV0IHg9dmUoIm91dHB1dCIsdFswXS5kYXRhVHlwZSxvLmxlbmd0aCk7RS5wdXNoKHgpO2xldCBJPVt7bmFtZToib3V0cHV0X3NpemUiLHR5cGU6InUzMiJ9LHtuYW1lOiJNIix0eXBlOiJ1MzIifSx7bmFtZToiTiIsdHlwZToidTMyIn0se25hbWU6IksiLHR5cGU6InUzMiJ9LHtuYW1lOiJhbHBoYSIsdHlwZToiZjMyIn0se25hbWU6ImJldGEiLHR5cGU6ImYzMiJ9XTtyZXR1cm5gCiAgJHtoLnJlZ2lzdGVyVW5pZm9ybXMoSSkuZGVjbGFyZVZhcmlhYmxlcyguLi5FKX0KCiAgJHtoLm1haW5TdGFydCgpfQogICAgJHtoLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dF9zaXplIil9CgogICAgbGV0IG0gPSBnbG9iYWxfaWR4IC8gdW5pZm9ybXMuTjsKICAgIGxldCBuID0gZ2xvYmFsX2lkeCAlIHVuaWZvcm1zLk47CgogICAgdmFyIHZhbHVlID0gJHt2fSgwKTsKICAgIGZvciAodmFyIGs6IHUzMiA9IDB1OyBrIDwgdW5pZm9ybXMuSzsgaysrKSB7CiAgICAgICR7Zn0KICAgIH0KCiAgICAke2d9CiAgICAke2shPW51bGw/YGxldCBjT2Zmc2V0ID0gJHtrLmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KCJ2ZWMyKG0sIG4pIix4KX07IHZhbHVlICs9ICR7dn0odW5pZm9ybXMuYmV0YSkgKiAke2suZ2V0QnlPZmZzZXQoImNPZmZzZXQiKX07YDoiIn0KICAgIG91dHB1dFtnbG9iYWxfaWR4XSA9IHZhbHVlOwogIH1gfTtyZXR1cm57bmFtZToiR2VtbSIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7ZS5jYWNoZUtleX1gLGlucHV0RGVwZW5kZW5jaWVzOmN9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6byxkYXRhVHlwZTp0WzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwobC82NCl9LHByb2dyYW1Vbmlmb3JtczpkfSksZ2V0U2hhZGVyU291cmNlOnV9fSxPYz10PT57bGV0IGU9dC50cmFuc0Escj10LnRyYW5zQixuPXQuYWxwaGEsYT10LmJldGE7cmV0dXJue3RyYW5zQTplLHRyYW5zQjpyLGFscGhhOm4sYmV0YTphLGNhY2hlS2V5OmAke3QudHJhbnNBfTske3QudHJhbnNCfTske3QuYWxwaGE9PT0xfWB9fSxNYz0odCxlKT0+e0FjKHQuaW5wdXRzKSx0LmNvbXB1dGUoVGModC5pbnB1dHMsZSkpfX0pLHpjLEJjLFJjLFBjLHhfPVEoKCk9PntZZSgpLEllKCksQ2UoKSx6Yz0odCxlKT0+e2xldCByPXRbMF0uZGltcyxuPXIsYT0yLGk9ZWUuc2l6ZVRvRGltZW5zaW9uKHIsYSkscz1lZS5zaXplRnJvbURpbWVuc2lvbihyLGEpLG89dnQocyksbD1zL28sZD1bclswXSxyWzFdLGxdLGM9WyJyYW5rIiwidHlwZSIsInR5cGUiXSx1PVt7dHlwZToidWludDMyIixkYXRhOnN9LHt0eXBlOiJ1aW50MzIiLGRhdGE6bH1dO3UucHVzaCguLi5pZShkKSwuLi5pZShkKSk7bGV0IGg9Zj0+e2xldCBnPUooIngiLHRbMF0uZGF0YVR5cGUsZC5sZW5ndGgsbykseT1KKCJzY2FsZSIsdFsxXS5kYXRhVHlwZSx0WzFdLmRpbXMpLHc9SigiYmlhcyIsdFsyXS5kYXRhVHlwZSx0WzJdLmRpbXMpLHY9dmUoIm91dHB1dCIsdFswXS5kYXRhVHlwZSxkLmxlbmd0aCxvKSxrPVtnLHksdyx2XSxFPWcudHlwZS52YWx1ZSx4PW89PT0xPyJmMzIiOmB2ZWMke299PGYzMj5gLEk9NjQsVD1be25hbWU6Im5vcm1TaXplIix0eXBlOiJ1MzIifSx7bmFtZToibm9ybVBhY2tlZFNpemUiLHR5cGU6InUzMiJ9XTtyZXR1cm5gCiAgdmFyPHdvcmtncm91cD4gbWVhblNoYXJlZCA6IGYzMjsKICB2YXI8d29ya2dyb3VwPiBzcXVhcmVkTm9ybVNoYXJlZCA6IGYzMjsKICB2YXI8d29ya2dyb3VwPiB3b3JrZ3JvdXBTaGFyZWQgOiBhcnJheTwke3h9LCAke0l9PjsKICBjb25zdCB3b3JrZ3JvdXBTaXplID0gJHtJfXU7CiAgJHtmLnJlZ2lzdGVyVW5pZm9ybXMoVCkuZGVjbGFyZVZhcmlhYmxlcyguLi5rKX0KICAke2YubWFpblN0YXJ0KEkpfQogICAgbGV0IG5vcm0gPSBnbG9iYWxfaWR4IC8gd29ya2dyb3VwU2l6ZTsKICAgIGxldCBiYXRjaCA9IG5vcm0gLyB1bmlmb3Jtcy54X3NoYXBlWzFdOwogICAgbGV0IGNoYW5uZWwgPSBub3JtICUgdW5pZm9ybXMueF9zaGFwZVsxXTsKICAgIGxldCBsb2NhbEluZGV4ID0gbG9jYWxfaWQueDsKCiAgICAvLyBpbml0aWFsaXplIHdvcmtncm91cCBtZW1vcnkKICAgIHZhciBpbml0aWFsID0gJHt4fSgwKTsKICAgIGZvciAodmFyIGggPSBsb2NhbEluZGV4OyBoIDwgdW5pZm9ybXMubm9ybVBhY2tlZFNpemU7IGggKz0gd29ya2dyb3VwU2l6ZSkgewogICAgICBpbml0aWFsID0gaW5pdGlhbCArICR7eH0oJHtnLmdldCgiYmF0Y2giLCJjaGFubmVsIiwiaCIpfSk7CiAgICB9CiAgICB3b3JrZ3JvdXBTaGFyZWRbbG9jYWxJbmRleF0gPSBpbml0aWFsOwogICAgd29ya2dyb3VwQmFycmllcigpOwoKICAgIC8vIENhbGN1bGF0ZSB0aGUgbWVhbiBvZiBjdXJyZW50IGNoYW5uZWwgZGF0YS4KICAgIGZvciAodmFyIGN1cnJTaXplID0gd29ya2dyb3VwU2l6ZSA+PiAxOyAgY3VyclNpemUgPiAwOyBjdXJyU2l6ZSA9IGN1cnJTaXplID4+IDEpIHsKICAgICAgaWYgKGxvY2FsSW5kZXggPCBjdXJyU2l6ZSkgewogICAgICAgIHdvcmtncm91cFNoYXJlZFtsb2NhbEluZGV4XSA9IHdvcmtncm91cFNoYXJlZFtsb2NhbEluZGV4XSArIHdvcmtncm91cFNoYXJlZFtsb2NhbEluZGV4ICsgY3VyclNpemVdOwogICAgICB9CiAgICAgIHdvcmtncm91cEJhcnJpZXIoKTsKICAgIH0KICAgIGlmIChsb2NhbEluZGV4ID09IDApIHsKICAgICAgbWVhblNoYXJlZCA9ICR7S3QoIndvcmtncm91cFNoYXJlZFswXSIsbyl9IC8gZjMyKHVuaWZvcm1zLm5vcm1TaXplKTsKICAgIH0KICAgIHdvcmtncm91cEJhcnJpZXIoKTsKCiAgICAvLyByZWluaXRpYWxpemUgd29ya2dyb3VwIG1lbW9yeS4KICAgIGluaXRpYWwgPSAke3h9KDApOwogICAgZm9yICh2YXIgaCA9IGxvY2FsSW5kZXg7IGggPCB1bmlmb3Jtcy5ub3JtUGFja2VkU2l6ZTsgaCArPSB3b3JrZ3JvdXBTaXplKSB7CiAgICAgIGxldCBkZXZpYXRpb24gPSAgJHt4fSgke2cuZ2V0KCJiYXRjaCIsImNoYW5uZWwiLCJoIil9KSAtICR7eH0obWVhblNoYXJlZCk7CiAgICAgIGluaXRpYWwgPSBpbml0aWFsICsgZGV2aWF0aW9uICogZGV2aWF0aW9uOwogICAgfQogICAgd29ya2dyb3VwU2hhcmVkW2xvY2FsSW5kZXhdID0gaW5pdGlhbDsKICAgIHdvcmtncm91cEJhcnJpZXIoKTsKCiAgICAvLyBDYWxjdWxhdGUgdGhlIHN1bSBvZiBzcXVhcmUgb2YgZGV2aWF0aW9uIG9mIGN1cnJlbnQgY2hhbm5lbCBkYXRhLgogICAgZm9yICh2YXIgY3VyclNpemUgPSB3b3JrZ3JvdXBTaXplID4+IDE7ICBjdXJyU2l6ZSA+IDA7IGN1cnJTaXplID0gY3VyclNpemUgPj4gMSkgewogICAgICBpZiAobG9jYWxJbmRleCA8IGN1cnJTaXplKSB7CiAgICAgICAgd29ya2dyb3VwU2hhcmVkW2xvY2FsSW5kZXhdID0gd29ya2dyb3VwU2hhcmVkW2xvY2FsSW5kZXhdICsgd29ya2dyb3VwU2hhcmVkW2xvY2FsSW5kZXggKyBjdXJyU2l6ZV07CiAgICAgIH0KICAgICAgd29ya2dyb3VwQmFycmllcigpOwogICAgfQogICAgaWYgKGxvY2FsSW5kZXggPT0gMCkgewogICAgICBzcXVhcmVkTm9ybVNoYXJlZCA9ICR7S3QoIndvcmtncm91cFNoYXJlZFswXSIsbyl9OwogICAgfQogICAgd29ya2dyb3VwQmFycmllcigpOwoKICAgIGxldCBpbnZTdGREZXYgPSBpbnZlcnNlU3FydChzcXVhcmVkTm9ybVNoYXJlZCAvIGYzMih1bmlmb3Jtcy5ub3JtU2l6ZSkgKyBmMzIoJHtlLmVwc2lsb259KSk7CiAgICBsZXQgY2hhbm5lbFNjYWxlID0gaW52U3RkRGV2ICogZjMyKCR7eS5nZXRCeU9mZnNldCgiY2hhbm5lbCIpfSk7CiAgICBsZXQgY2hhbm5lbFNoaWZ0ID0gZjMyKCR7dy5nZXRCeU9mZnNldCgiY2hhbm5lbCIpfSkgLSBtZWFuU2hhcmVkICogY2hhbm5lbFNjYWxlOwogICAgZm9yICh2YXIgaCA9IGxvY2FsSW5kZXg7IGggPCB1bmlmb3Jtcy5ub3JtUGFja2VkU2l6ZTsgaCArPSB3b3JrZ3JvdXBTaXplKSB7CiAgICAgIGxldCB2YWx1ZSA9ICR7Zy5nZXQoImJhdGNoIiwiY2hhbm5lbCIsImgiKX0gKiAke0V9KCR7eH0oY2hhbm5lbFNjYWxlKSkgKyAke0V9KCR7eH0oY2hhbm5lbFNoaWZ0KSk7CiAgICAgICR7di5zZXQoImJhdGNoIiwiY2hhbm5lbCIsImgiLCJ2YWx1ZSIpfTsKICAgIH0KICB9YH07cmV0dXJue25hbWU6Ikluc3RhbmNlTm9ybWFsaXphdGlvbiIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7ZS5lcHNpbG9ufTske299YCxpbnB1dERlcGVuZGVuY2llczpjfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOm4sZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6aX0scHJvZ3JhbVVuaWZvcm1zOnV9KSxnZXRTaGFkZXJTb3VyY2U6aH19LEJjPSh0LGUscixuLGEsaSxzLG8pPT57bGV0IGw9dnQocyksZD02NCxjPWw9PT0xPyJ2ZWMyZiI6YG1hdDJ4JHtsfWZgLHU9bD09PTE/ImYzMiI6YHZlYyR7bH1mYCxoPShULEIpPT5gJHtjfSgke1R9LCAke0J9KWAsZj1hKnMvbCxnPU1hdGguY2VpbChpL2QpLHk9WyJ0eXBlIl0sdz1be3R5cGU6InVpbnQzMiIsZGF0YTpnfSx7dHlwZToidWludDMyIixkYXRhOml9LHt0eXBlOiJ1aW50MzIiLGRhdGE6TWF0aC5mbG9vcihzL2wpfSx7dHlwZToidWludDMyIixkYXRhOk1hdGguZmxvb3IoaSpzL2wpfV0sdj1UPT57bGV0IEI9SigiaW5wdXQiLGUuZGF0YVR5cGUsZS5kaW1zLGwpO3JldHVybmAKICAke1QuZGVjbGFyZVZhcmlhYmxlcyhCKX0KICBAZ3JvdXAoMCkgQGJpbmRpbmcoMSkgdmFyPHN0b3JhZ2UsIHJlYWRfd3JpdGU+IG91dHB1dCA6IGFycmF5PCR7Y30+OwogIHN0cnVjdCBVbmlmb3JtcyB7d2dfc2l6ZTp1MzIsIEg6dTMyLCBDOnUzMiwgaW1hZ2Vfc2l6ZTp1MzJ9OwogIEBncm91cCgwKSBAYmluZGluZygyKSB2YXI8dW5pZm9ybT4gdW5pZm9ybXM6IFVuaWZvcm1zOwoKICAke1QubWFpblN0YXJ0KGQpfQogICAgbGV0IGN1cnJlbnRJbWFnZU51bWJlciA9IGdsb2JhbF9pZHggLyAke2R9IC8gdW5pZm9ybXMuQzsKICAgIGxldCBjdXJyZW50Q2hhbm5lbE51bWJlciA9IChnbG9iYWxfaWR4IC8gJHtkfSkgJSB1bmlmb3Jtcy5DOwogICAgbGV0IHdnSWQgPSBnbG9iYWxfaWR4ICUgJHtkfTsKICAgIGxldCB3Z09mZnNldCA9IHdnSWQgKiB1bmlmb3Jtcy53Z19zaXplOwogICAgaWYgKHdnT2Zmc2V0ID49IHVuaWZvcm1zLkgpIHsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBsZXQgd2dNYXggPSBtaW4od2dPZmZzZXQgKyB1bmlmb3Jtcy53Z19zaXplLCB1bmlmb3Jtcy5IKTsKCiAgICBsZXQgb2Zmc2V0ID0gY3VycmVudEltYWdlTnVtYmVyICogdW5pZm9ybXMuaW1hZ2Vfc2l6ZSArIGN1cnJlbnRDaGFubmVsTnVtYmVyOwogICAgdmFyIHN1bSA9ICR7YnQoImYzMiIsbCl9OwogICAgdmFyIHNxdWFyZWRTdW0gPSAke2J0KCJmMzIiLGwpfTsKICAgIGZvciAodmFyIGk6IHUzMiA9IHdnT2Zmc2V0OyBpIDwgd2dNYXg7IGkrKykgewogICAgICAgIGxldCB2YWx1ZSA9ICR7dX0oaW5wdXRbb2Zmc2V0ICsgaSAqIHVuaWZvcm1zLkNdKTsKICAgICAgICBzdW0gKz0gdmFsdWU7CiAgICAgICAgc3F1YXJlZFN1bSArPSB2YWx1ZSAqIHZhbHVlOwogICAgfQogICAgb3V0cHV0W2dsb2JhbF9pZHhdID0gJHtoKCJzdW0iLCJzcXVhcmVkU3VtIil9OwogIH1gfSxrPXQuY29tcHV0ZSh7bmFtZToiSW5zdGFuY2VOb3JtQ29tcHV0ZU1lYW4iLHNoYWRlckNhY2hlOntoaW50OmAke2x9YCxpbnB1dERlcGVuZGVuY2llczp5fSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOlthLHMsZCwyXSxkYXRhVHlwZToxfV0sZGlzcGF0Y2hHcm91cDp7eDphKnMvbH0scHJvZ3JhbVVuaWZvcm1zOnd9KSxnZXRTaGFkZXJTb3VyY2U6dn0se2lucHV0czpbZV0sb3V0cHV0czpbLTFdfSlbMF0sRT1be3R5cGU6InVpbnQzMiIsZGF0YTpmfSx7dHlwZToidWludDMyIixkYXRhOml9LHt0eXBlOiJ1aW50MzIiLGRhdGE6TWF0aC5mbG9vcihzL2wpfSx7dHlwZToidWludDMyIixkYXRhOk1hdGguZmxvb3IoZCpzL2wpfV0seD1bInR5cGUiLCJ0eXBlIiwidHlwZSJdLEk9VD0+e2xldCBCPUooInNjYWxlIixyLmRhdGFUeXBlLHIuZGltcyxsKSxVPUooImJpYXMiLG4uZGF0YVR5cGUsbi5kaW1zLGwpO3JldHVybmAKICBAZ3JvdXAoMCkgQGJpbmRpbmcoMCkgdmFyPHN0b3JhZ2UsIHJlYWQ+IGlucHV0IDogYXJyYXk8JHtjfT47CiAgQGdyb3VwKDApIEBiaW5kaW5nKDEpIHZhcjxzdG9yYWdlLCByZWFkPiBzY2FsZSA6IGFycmF5PCR7Qi50eXBlLnN0b3JhZ2V9PjsKICBAZ3JvdXAoMCkgQGJpbmRpbmcoMikgdmFyPHN0b3JhZ2UsIHJlYWQ+IGJpYXMgOiBhcnJheTwke1UudHlwZS5zdG9yYWdlfT47CiAgQGdyb3VwKDApIEBiaW5kaW5nKDMpIHZhcjxzdG9yYWdlLCByZWFkX3dyaXRlPiBvdXRwdXQgOiBhcnJheTwke2N9PjsKICBzdHJ1Y3QgVW5pZm9ybXMge3VuaXRzX29mX3dvcmsgOiB1MzIsIEg6IHUzMiwgQyA6IHUzMiwgaW1hZ2Vfc2l6ZSA6IHUzMn07CiAgQGdyb3VwKDApIEBiaW5kaW5nKDQpIHZhcjx1bmlmb3JtPiB1bmlmb3JtczogVW5pZm9ybXM7CgogICR7VC5tYWluU3RhcnQoKX0KICAgICR7VC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy51bml0c19vZl93b3JrIil9CiAgICBsZXQgY3VycmVudEltYWdlTnVtYmVyID0gZ2xvYmFsX2lkeCAvIHVuaWZvcm1zLkM7CiAgICBsZXQgY3VycmVudENoYW5uZWxOdW1iZXIgPSBnbG9iYWxfaWR4ICUgdW5pZm9ybXMuQzsKCiAgICBsZXQgb2Zmc2V0ID0gY3VycmVudEltYWdlTnVtYmVyICogdW5pZm9ybXMuaW1hZ2Vfc2l6ZTsKICAgIHZhciBzdW0gPSAke2J0KCJmMzIiLGwpfTsKICAgIHZhciBzcXVhcmVkU3VtID0gJHtidCgiZjMyIixsKX07CiAgICBmb3IgKHZhciBpOiB1MzIgPSAwOyBpIDwgJHtkfTsgaSsrKSB7CiAgICAgICAgbGV0IHZhbHVlID0gaW5wdXRbb2Zmc2V0ICsgaSArIGN1cnJlbnRDaGFubmVsTnVtYmVyICogJHtkfV07CiAgICAgICAgc3VtICs9IHZhbHVlWzBdOwogICAgICAgIHNxdWFyZWRTdW0gKz0gdmFsdWVbMV07CiAgICB9CiAgICBzdW0gPSBzdW0gLyBmMzIodW5pZm9ybXMuSCk7CiAgICBzcXVhcmVkU3VtID0gc3F1YXJlZFN1bSAvIGYzMih1bmlmb3Jtcy5IKTsKICAgIGxldCBpbnZTdGREZXYgPSBpbnZlcnNlU3FydChzcXVhcmVkU3VtIC0gc3VtICogc3VtICsgZjMyKCR7b30pKTsKICAgIGxldCBjaGFubmVsU2NhbGUgPSBpbnZTdGREZXYgKiAke3V9KHNjYWxlW2N1cnJlbnRDaGFubmVsTnVtYmVyXSk7CiAgICBsZXQgY2hhbm5lbFNoaWZ0ID0gJHt1fShiaWFzW2N1cnJlbnRDaGFubmVsTnVtYmVyXSkgLSBzdW0gKiBjaGFubmVsU2NhbGU7CgogICAgb3V0cHV0W2dsb2JhbF9pZHhdID0gJHtoKCJjaGFubmVsU2NhbGUiLCJjaGFubmVsU2hpZnQiKX07CiAgfWB9O3JldHVybiB0LmNvbXB1dGUoe25hbWU6Ikluc3RhbmNlTm9ybUNvbXB1dGVDaGFubmVsU2NhbGVTaGlmdCIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7bH07JHtvfWAsaW5wdXREZXBlbmRlbmNpZXM6eH0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpbYSxzLDJdLGRhdGFUeXBlOjF9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChmLzY0KX0scHJvZ3JhbVVuaWZvcm1zOkV9KSxnZXRTaGFkZXJTb3VyY2U6SX0se2lucHV0czpbayxyLG5dLG91dHB1dHM6Wy0xXX0pWzBdfSxSYz0odCxlLHIpPT57bGV0IG49ZVswXS5kaW1zLGE9bixpPW5bMF0scz1uW24ubGVuZ3RoLTFdLG89ZWUuc2l6ZUZyb21EaW1lbnNpb24obiwxKS9zLGw9dnQocyksZD1lZS5zaXplKGEpL2wsYz1be3R5cGU6InVpbnQzMiIsZGF0YTpvfSx7dHlwZToidWludDMyIixkYXRhOk1hdGguZmxvb3Iocy9sKX1dLHU9WyJ0eXBlIiwidHlwZSJdLGg9QmModCxlWzBdLGVbMV0sZVsyXSxpLG8scyxyLmVwc2lsb24pLGY9Zz0+e2xldCB5PUl0KGVbMF0uZGF0YVR5cGUpLHc9bD09PTE/InZlYzJmIjpgbWF0Mngke2x9ZmAsdj1sPT09MT95OmB2ZWMke2x9PCR7eX0+YCxrPUooImlucHV0IixlWzBdLmRhdGFUeXBlLGVbMF0uZGltcyxsKSxFPXZlKCJvdXRwdXQiLGVbMF0uZGF0YVR5cGUsYSxsKTtyZXR1cm5gCiAgQGdyb3VwKDApIEBiaW5kaW5nKDApIHZhcjxzdG9yYWdlLCByZWFkPiBpbnB1dCA6IGFycmF5PCR7ay50eXBlLnN0b3JhZ2V9PjsKICBAZ3JvdXAoMCkgQGJpbmRpbmcoMSkgdmFyPHN0b3JhZ2UsIHJlYWQ+IHNjYWxlSW5wdXQgOiBhcnJheTwke3d9PjsKICBAZ3JvdXAoMCkgQGJpbmRpbmcoMikgdmFyPHN0b3JhZ2UsIHJlYWRfd3JpdGU+IG91dHB1dCA6IGFycmF5PCR7RS50eXBlLnN0b3JhZ2V9PjsKICBzdHJ1Y3QgVW5pZm9ybXMge0g6IHUzMiwgQyA6IHUzMn07CiAgQGdyb3VwKDApIEBiaW5kaW5nKDMpIHZhcjx1bmlmb3JtPiB1bmlmb3JtczogVW5pZm9ybXM7CgogICR7Zy5tYWluU3RhcnQoKX0KICAgIGxldCBjdXJyZW50SW1hZ2VOdW1iZXIgPSBnbG9iYWxfaWR4IC8gKHVuaWZvcm1zLkMgKiB1bmlmb3Jtcy5IKTsKICAgIGxldCBjdXJyZW50Q2hhbm5lbE51bWJlciA9IGdsb2JhbF9pZHggJSB1bmlmb3Jtcy5DOwoKICAgIGxldCBzY2FsZU9mZnNldCA9IGN1cnJlbnRJbWFnZU51bWJlciAqIHVuaWZvcm1zLkMgKyBjdXJyZW50Q2hhbm5lbE51bWJlcjsKICAgIGxldCBzY2FsZSA9IHNjYWxlSW5wdXRbc2NhbGVPZmZzZXRdOwogICAgb3V0cHV0W2dsb2JhbF9pZHhdID0gZm1hKGlucHV0W2dsb2JhbF9pZHhdLCAke3Z9KHNjYWxlWzBdKSwgJHt2fShzY2FsZVsxXSkpOwogIH1gfTt0LmNvbXB1dGUoe25hbWU6Ikluc3RhbmNlTm9ybWFsaXphdGlvbk5IV0MiLHNoYWRlckNhY2hlOntoaW50OmAke2x9YCxpbnB1dERlcGVuZGVuY2llczp1fSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmEsZGF0YVR5cGU6ZVswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGQvNjQpfSxwcm9ncmFtVW5pZm9ybXM6Y30pLGdldFNoYWRlclNvdXJjZTpmfSx7aW5wdXRzOltlWzBdLGhdfSl9LFBjPSh0LGUpPT57ZS5mb3JtYXQ9PT0iTkhXQyI/UmModCx0LmlucHV0cyxlKTp0LmNvbXB1dGUoemModC5pbnB1dHMsZSkpfX0pLERjLE5jLFVjLGtfPVEoKCk9PntZZSgpLEllKCksQ2UoKSxEYz10PT57aWYoIXR8fHQubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKCJsYXllck5vcm0gcmVxdWlyZXMgYXQgbGVhc3QgMiBpbnB1dHMuIil9LE5jPSh0LGUscik9PntsZXQgbj10WzBdLmRpbXMsYT10WzFdLGk9dFsyXSxzPW4sbz1lZS5ub3JtYWxpemVBeGlzKGUuYXhpcyxuLmxlbmd0aCksbD1lZS5zaXplVG9EaW1lbnNpb24obixvKSxkPWVlLnNpemVGcm9tRGltZW5zaW9uKG4sbyksYz1lZS5zaXplKGEuZGltcyksdT1pP2VlLnNpemUoaS5kaW1zKTowO2lmKGMhPT1kfHxpJiZ1IT09ZCl0aHJvdyBuZXcgRXJyb3IoYFNpemUgb2YgWC5zaGFwZSgpW2F4aXM6XSA9PSAke2R9LgogICAgICAgU2l6ZSBvZiBzY2FsZSBhbmQgYmlhcyAoaWYgcHJvdmlkZWQpIG11c3QgbWF0Y2ggdGhpcy4KICAgICAgIEdvdCBzY2FsZSBzaXplIG9mICR7Y30gYW5kIGJpYXMgc2l6ZSBvZiAke3V9YCk7bGV0IGg9W107Zm9yKGxldCB4PTA7eDxuLmxlbmd0aDsrK3gpeDxvP2gucHVzaChuW3hdKTpoLnB1c2goMSk7bGV0IGY9dnQoZCksZz1bInR5cGUiLCJ0eXBlIl0seT1be3R5cGU6InVpbnQzMiIsZGF0YTpsfSx7dHlwZToiZmxvYXQzMiIsZGF0YTpkfSx7dHlwZToidWludDMyIixkYXRhOk1hdGguZmxvb3IoZC9mKX0se3R5cGU6ImZsb2F0MzIiLGRhdGE6ZS5lcHNpbG9ufV07aSYmZy5wdXNoKCJ0eXBlIik7bGV0IHc9cj4xLHY9cj4yLGs9eD0+e2xldCBJPUl0KHRbMF0uZGF0YVR5cGUpLFQ9W0ooIngiLHRbMF0uZGF0YVR5cGUsdFswXS5kaW1zLGYpLEooInNjYWxlIixhLmRhdGFUeXBlLGEuZGltcyxmKV07aSYmVC5wdXNoKEooImJpYXMiLGkuZGF0YVR5cGUsaS5kaW1zLGYpKSxULnB1c2godmUoIm91dHB1dCIsdFswXS5kYXRhVHlwZSxzLGYpKSx3JiZULnB1c2godmUoIm1lYW5fZGF0YV9vdXRwdXQiLDEsaCkpLHYmJlQucHVzaCh2ZSgiaW52X3N0ZF9vdXRwdXQiLDEsaCkpO2xldCBCPVt7bmFtZToibm9ybV9jb3VudCIsdHlwZToidTMyIn0se25hbWU6Im5vcm1fc2l6ZSIsdHlwZToiZjMyIn0se25hbWU6Im5vcm1fc2l6ZV92ZWN0b3JpemVkIix0eXBlOiJ1MzIifSx7bmFtZToiZXBzaWxvbiIsdHlwZToiZjMyIn1dO3JldHVybmAKICAke3gucmVnaXN0ZXJVbmlmb3JtcyhCKS5kZWNsYXJlVmFyaWFibGVzKC4uLlQpfQogICR7eC5tYWluU3RhcnQoKX0KICAgICR7eC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5ub3JtX2NvdW50Iil9CiAgICBsZXQgb2Zmc2V0ID0gZ2xvYmFsX2lkeCAqIHVuaWZvcm1zLm5vcm1fc2l6ZV92ZWN0b3JpemVkOwogICAgdmFyIG1lYW5WZWN0b3IgPSAke2J0KCJmMzIiLGYpfTsKICAgIHZhciBtZWFuU3F1YXJlVmVjdG9yID0gJHtidCgiZjMyIixmKX07CgogICAgZm9yICh2YXIgaDogdTMyID0gMHU7IGggPCB1bmlmb3Jtcy5ub3JtX3NpemVfdmVjdG9yaXplZDsgaCsrKSB7CiAgICAgIGxldCB2YWx1ZSA9ICR7YXIoSSxmLCJ4W2ggKyBvZmZzZXRdIil9OwogICAgICBtZWFuVmVjdG9yICs9IHZhbHVlOwogICAgICBtZWFuU3F1YXJlVmVjdG9yICs9IHZhbHVlICogdmFsdWU7CiAgICB9CiAgICBsZXQgbWVhbiA9ICR7S3QoIm1lYW5WZWN0b3IiLGYpfSAvIHVuaWZvcm1zLm5vcm1fc2l6ZTsKICAgIGxldCBpbnZTdGREZXYgPQogICAgICAgIGludmVyc2VTcXJ0KCR7S3QoIm1lYW5TcXVhcmVWZWN0b3IiLGYpfSAvIHVuaWZvcm1zLm5vcm1fc2l6ZSAtIG1lYW4gKiBtZWFuICsgdW5pZm9ybXMuZXBzaWxvbik7CgogICAgZm9yICh2YXIgajogdTMyID0gMDsgaiA8IHVuaWZvcm1zLm5vcm1fc2l6ZV92ZWN0b3JpemVkOyBqKyspIHsKICAgICAgbGV0IGYzMmlucHV0ID0gJHthcihJLGYsInhbaiArIG9mZnNldF0iKX07CiAgICAgIGxldCBmMzJzY2FsZSA9ICR7YXIoSSxmLCJzY2FsZVtqXSIpfTsKICAgICAgb3V0cHV0W2ogKyBvZmZzZXRdID0gJHtUWzBdLnR5cGUudmFsdWV9KChmMzJpbnB1dCAtIG1lYW4pICogaW52U3RkRGV2ICogZjMyc2NhbGUKICAgICAgICAke2k/YCsgJHthcihJLGYsImJpYXNbal0iKX1gOiIifQogICAgICApOwogICAgfQoKICAgICR7dz8ibWVhbl9kYXRhX291dHB1dFtnbG9iYWxfaWR4XSA9IG1lYW4iOiIifTsKICAgICR7dj8iaW52X3N0ZF9vdXRwdXRbZ2xvYmFsX2lkeF0gPSBpbnZTdGREZXYiOiIifTsKICB9YH0sRT1be2RpbXM6cyxkYXRhVHlwZTp0WzBdLmRhdGFUeXBlfV07cmV0dXJuIHcmJkUucHVzaCh7ZGltczpoLGRhdGFUeXBlOjF9KSx2JiZFLnB1c2goe2RpbXM6aCxkYXRhVHlwZToxfSkse25hbWU6IkxheWVyTm9ybWFsaXphdGlvbiIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7Zn07JHtyfWAsaW5wdXREZXBlbmRlbmNpZXM6Z30sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOkUsZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwobC82NCl9LHByb2dyYW1Vbmlmb3Jtczp5fSksZ2V0U2hhZGVyU291cmNlOmt9fSxVYz0odCxlKT0+e0RjKHQuaW5wdXRzKSx0LmNvbXB1dGUoTmModC5pbnB1dHMsZSx0Lm91dHB1dENvdW50KSl9fSksV2MsTGMsJHMsRmMsTWEsVmMsU189USgoKT0+e0llKCksaXQoKSxqaSgpLEV1KCksQ2UoKSxobigpLFdjPSh0LGUpPT57bGV0IHI9dFswXSxuPXRbMV0sYT10WzJdLGk9dFszXSxzPXRbNF0sbz10WzVdLGw9dFs2XSxkPXRbN107aWYoci5kaW1zLmxlbmd0aCE9PTMmJnIuZGltcy5sZW5ndGghPT01KXRocm93IG5ldyBFcnJvcigiSW5wdXQgcXVlcnkgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAzIG9yIDUgZGltZW5zaW9ucyIpO2xldCBjPSExLHU9ci5kaW1zWzBdLGg9ci5kaW1zWzFdLGY9ci5kaW1zLmxlbmd0aD09PTM/Yz9yLmRpbXNbMl0vMzpyLmRpbXNbMl06ZS5udW1IZWFkcypyLmRpbXNbNF0sZz1oLHk9MCx3PTAsdj1NYXRoLmZsb29yKGYvZS5udW1IZWFkcyk7aWYobCYmZCl7aWYobC5kaW1zLmxlbmd0aCE9PTQpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAicGFzdF9rZXkiIGlzIGV4cGVjdGVkIHRvIGhhdmUgNCBkaW1lbnNpb25zJyk7aWYoZC5kaW1zLmxlbmd0aCE9PTQpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAicGFzdF92YWx1ZSIgaXMgZXhwZWN0ZWQgdG8gaGF2ZSA0IGRpbWVuc2lvbnMnKTt5PWwuZGltc1syXSx3PWwuZGltc1syXX1lbHNlIGlmKGx8fGQpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAicGFzdF9rZXkiIGFuZCAicGFzdF92YWx1ZSIgc2hhbGwgYmUgYm90aCBwcmVzZW50IG9yIGJvdGggYWJzZW50Jyk7bGV0IGs7aWYobil7aWYoci5kaW1zLmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAicXVlcnkiIGlzIGV4cGVjdGVkIHRvIGhhdmUgMyBkaW1lbnNpb25zIHdoZW4ga2V5IGlzIGdpdmVuJyk7aWYobi5kaW1zLmxlbmd0aDwzfHxuLmRpbXMubGVuZ3RoPjUpdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAia2V5IiBpcyBleHBlY3RlZCB0byBoYXZlIDMsIDQsIG9yIDUgZGltZW5zaW9ucycpO2lmKHIuZGltc1swXSE9PW4uZGltc1swXSl0aHJvdyBuZXcgRXJyb3IoJ0lucHV0ICJxdWVyeSIgYW5kICJrZXkiIHNoYWxsIGhhdmUgc2FtZSBkaW0gMCAoYmF0Y2ggc2l6ZSknKTtpZihuLmRpbXMubGVuZ3RoPT09Myl7aWYobi5kaW1zWzJdIT09ci5kaW1zWzJdKXRocm93IG5ldyBFcnJvcignSW5wdXQgInF1ZXJ5IiBhbmQgImtleSIgc2hhbGwgaGF2ZSBzYW1lIGRpbSAyIChoaWRkZW5fc2l6ZSknKTtrPTIsZz1uLmRpbXNbMV19ZWxzZSBpZihuLmRpbXMubGVuZ3RoPT09NSl7aWYobi5kaW1zWzJdIT09ZS5udW1IZWFkc3x8bi5kaW1zWzNdIT09Mnx8bi5kaW1zWzRdIT09dil0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdCAia2V5IiBzaGFwZSAoYmF0Y2hfc2l6ZSwga3Zfc2VxdWVuY2VfbGVuZ3RoLCBudW1faGVhZHMsIDIsIGhlYWRfc2l6ZSkgZm9yIHBhY2tlZCBrdicpO2lmKGEpdGhyb3cgbmV3IEVycm9yKCdFeHBlY3QgInZhbHVlIiBiZSBub25lIHdoZW4gImtleSIgaGFzIHBhY2tlZCBrdiBmb3JtYXQuJyk7az01LGc9bi5kaW1zWzFdfWVsc2V7aWYobi5kaW1zWzFdIT09ZS5udW1IZWFkc3x8bi5kaW1zWzNdIT09dil0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdCAia2V5IiBzaGFwZSAoYmF0Y2hfc2l6ZSwgbnVtX2hlYWRzLCBrdl9zZXF1ZW5jZV9sZW5ndGgsIGhlYWRfc2l6ZSkgZm9yIHBhc3Rfa2V5Jyk7az0wLGc9bi5kaW1zWzJdfX1lbHNle2lmKHIuZGltcy5sZW5ndGghPT0zJiZyLmRpbXMubGVuZ3RoIT09NSl0aHJvdyBuZXcgRXJyb3IoJ0lucHV0ICJxdWVyeSIgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAzIG9yIDUgZGltZW5zaW9ucyB3aGVuIGtleSBpcyBlbXB0eScpO2lmKHIuZGltcy5sZW5ndGg9PT01JiYoci5kaW1zWzJdIT09ZS5udW1IZWFkc3x8ci5kaW1zWzNdIT09MykpdGhyb3cgbmV3IEVycm9yKCdFeHBlY3QgInF1ZXJ5IiBzaGFwZSAoYmF0Y2hfc2l6ZSwga3Zfc2VxdWVuY2VfbGVuZ3RoLCBudW1faGVhZHMsIDMsIGhlYWRfc2l6ZSkgZm9yIHBhY2tlZCBrdicpO2s9M31pZihpKXtpZihpLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoJ0lucHV0ICJiaWFzIiBpcyBleHBlY3RlZCB0byBoYXZlIDEgZGltZW5zaW9uJyk7aWYoYSYmci5kaW1zLmxlbmd0aD09PTUmJnIuZGltc1szXT09PTIpdGhyb3cgbmV3IEVycm9yKCJiaWFzIGlzIG5vdCBhbGxvd2VkIGZvciBwYWNrZWQga3YuIil9bGV0IEU9MDtpZihzKXtFPTg7bGV0IFU9cy5kaW1zO3Rocm93IFUubGVuZ3RoPT09MT9VWzBdPT09dT9FPTE6VVswXT09PTMqdSsyJiYoRT0zKTpVLmxlbmd0aD09PTImJlVbMF09PT11JiZVWzFdPT09ZyYmKEU9NSksRT09PTg/bmV3IEVycm9yKCdJbnB1dCAia2V5X3BhZGRpbmdfbWFzayIgc2hhcGUgc2hhbGwgYmUgKGJhdGNoX3NpemUpIG9yIChiYXRjaF9zaXplLCBrdl9zZXF1ZW5jZV9sZW5ndGgpJyk6bmV3IEVycm9yKCJNYXNrIG5vdCBzdXBwb3J0ZWQiKX1sZXQgeD0hMSxJPWY7aWYoYSl7aWYoYS5kaW1zLmxlbmd0aCE9PTMmJmEuZGltcy5sZW5ndGghPT00KXRocm93IG5ldyBFcnJvcignSW5wdXQgInZhbHVlIiBpcyBleHBlY3RlZCB0byBoYXZlIDMgb3IgNCBkaW1lbnNpb25zJyk7aWYoci5kaW1zWzBdIT09YS5kaW1zWzBdKXRocm93IG5ldyBFcnJvcignSW5wdXQgInF1ZXJ5IiBhbmQgInZhbHVlIiBzaGFsbCBoYXZlIHNhbWUgZGltIDAgKGJhdGNoX3NpemUpJyk7aWYoYS5kaW1zLmxlbmd0aD09PTMpe2lmKGchPT1hLmRpbXNbMV0pdGhyb3cgbmV3IEVycm9yKCdJbnB1dCAia2V5IiBhbmQgInZhbHVlIiBzaGFsbCBoYXZlIHRoZSBzYW1lIGRpbSAxIChrdl9zZXF1ZW5jZV9sZW5ndGgpJyk7ST1hLmRpbXNbMl19ZWxzZXtpZihnIT09YS5kaW1zWzJdKXRocm93IG5ldyBFcnJvcignSW5wdXQgInBhc3Rfa2V5IiBhbmQgInBhc3RfdmFsdWUiIHNoYWxsIGhhdmUgdGhlIHNhbWUgZGltIDIgKGt2X3NlcXVlbmNlX2xlbmd0aCknKTtJPWEuZGltc1sxXSphLmRpbXNbM10seD0hMH19bGV0IFQ9eStnLEI9ITE7aWYocyl0aHJvdyBuZXcgRXJyb3IoIktleSBwYWRkaW5nIG1hc2sgaXMgbm90IHN1cHBvcnRlZCIpO2lmKG8pdGhyb3cgbmV3IEVycm9yKCJleHRyYUFkZFFrIGlzIG5vdCBzdXBwb3J0ZWQiKTtpZihsKXRocm93IG5ldyBFcnJvcigicGFzdEtleSBpcyBub3Qgc3VwcG9ydGVkIik7aWYoZCl0aHJvdyBuZXcgRXJyb3IoInBhc3RWYWx1ZSBpcyBub3Qgc3VwcG9ydGVkIik7cmV0dXJue2JhdGNoU2l6ZTp1LHNlcXVlbmNlTGVuZ3RoOmgscGFzdFNlcXVlbmNlTGVuZ3RoOnksa3ZTZXF1ZW5jZUxlbmd0aDpnLHRvdGFsU2VxdWVuY2VMZW5ndGg6VCxtYXhTZXF1ZW5jZUxlbmd0aDp3LGlucHV0SGlkZGVuU2l6ZTowLGhpZGRlblNpemU6Zix2SGlkZGVuU2l6ZTpJLGhlYWRTaXplOnYsdkhlYWRTaXplOk1hdGguZmxvb3IoSS9lLm51bUhlYWRzKSxudW1IZWFkczplLm51bUhlYWRzLGlzVW5pZGlyZWN0aW9uYWw6ITEscGFzdFByZXNlbnRTaGFyZUJ1ZmZlcjohMSxtYXNrRmlsdGVyVmFsdWU6ZS5tYXNrRmlsdGVyVmFsdWUsbWFza1R5cGU6RSxzY2FsZTplLnNjYWxlLGJyb2FkY2FzdFJlc1Bvc0JpYXM6QixwYXNzUGFzdEluS3Y6eCxxa3ZGb3JtYXQ6a319LExjPXQ9PnFlKHsuLi50fSksJHM9cWUoe3Blcm06WzAsMiwxLDNdfSksRmM9KHQsZSxyLG4sYSxpLHMpPT57bGV0IG89W24sYSxpXSxsPWVlLnNpemUobyksZD1be3R5cGU6InVpbnQzMiIsZGF0YTpsfSx7dHlwZToidWludDMyIixkYXRhOnN9LHt0eXBlOiJ1aW50MzIiLGRhdGE6aX1dLGM9dT0+e2xldCBoPXZlKCJxa3Zfd2l0aF9iaWFzIixlLmRhdGFUeXBlLG8pLGY9SigicWt2IixlLmRhdGFUeXBlLG8pLGc9SigiYmlhcyIsci5kYXRhVHlwZSxvKSx5PVt7bmFtZToib3V0cHV0X3NpemUiLHR5cGU6InUzMiJ9LHtuYW1lOiJiaWFzX29mZnNldCIsdHlwZToidTMyIn0se25hbWU6ImhpZGRlbl9zaXplIix0eXBlOiJ1MzIifV07cmV0dXJuYAogICR7dS5yZWdpc3RlclVuaWZvcm1zKHkpLmRlY2xhcmVWYXJpYWJsZXMoZixnLGgpfQogICR7dS5tYWluU3RhcnQoKX0KICAgICR7dS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRfc2l6ZSIpfQogICAgbGV0IGJpYXNfb2Zmc2V0X2lkeCA9IChnbG9iYWxfaWR4ICUgdW5pZm9ybXMuaGlkZGVuX3NpemUpICsgdW5pZm9ybXMuYmlhc19vZmZzZXQ7CgogICAgcWt2X3dpdGhfYmlhc1tnbG9iYWxfaWR4XSA9IHFrdltnbG9iYWxfaWR4XSArIGJpYXNbYmlhc19vZmZzZXRfaWR4XTsKICB9YH07cmV0dXJuIHQuY29tcHV0ZSh7bmFtZToiTXVsdGlIZWFkQXR0ZW50aW9uQWRkQmlhcyIsc2hhZGVyQ2FjaGU6e2lucHV0RGVwZW5kZW5jaWVzOlsidHlwZSIsInR5cGUiXX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpvLGRhdGFUeXBlOmUuZGF0YVR5cGUsZ3B1RGF0YVR5cGU6MH1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGwvNjQpfSxwcm9ncmFtVW5pZm9ybXM6ZH0pLGdldFNoYWRlclNvdXJjZTpjfSx7aW5wdXRzOltlLHJdLG91dHB1dHM6Wy0xXX0pWzBdfSxNYT0odCxlLHIsbixhLGkscyxvKT0+e2xldCBsPWk7aWYocyl7aWYobj09PTEpdGhyb3cgbmV3IEVycm9yKCJBZGRCaWFzUmVzaGFwZSBpcyBub3QgaW1wbGVtZW50ZWQuIFBsZWFzZSBleHBvcnQgeW91ciBtb2RlbCB3aXRoIHBhY2tlZCBRS1Ygb3IgS1YiKTtyZXR1cm4gbD1GYyh0LGkscyxlLG4sciphLG8pLGw9bC5yZXNoYXBlKFtlLG4scixhXSksdC5jb21wdXRlKGRyKGwsJHMucGVybSkse2lucHV0czpbbF0sb3V0cHV0czpbLTFdfSlbMF19ZWxzZSByZXR1cm4gaS5kaW1zLmxlbmd0aD09PTMmJihsPWkucmVzaGFwZShbZSxuLHIsYV0pKSx0LmNvbXB1dGUoZHIobCwkcy5wZXJtKSx7aW5wdXRzOltsXSxvdXRwdXRzOlstMV19KVswXX0sVmM9KHQsZSk9PntsZXQgcj1XYyh0LmlucHV0cyxlKTtpZih0LmlucHV0c1swXS5kaW1zLmxlbmd0aD09PTUpdGhyb3cgbmV3IEVycm9yKCJQYWNrZWQgUUtWIGlzIG5vdCBpbXBsZW1lbnRlZCIpO2lmKHQuaW5wdXRzWzFdPy5kaW1zLmxlbmd0aD09PTUpdGhyb3cgbmV3IEVycm9yKCJQYWNrZWQgS1YgaXMgbm90IGltcGxlbWVudGVkIik7bGV0IG49dC5pbnB1dHNbMV0mJnQuaW5wdXRzWzJdJiZ0LmlucHV0c1sxXS5kaW1zLmxlbmd0aD09PTQmJnQuaW5wdXRzWzJdLmRpbXMubGVuZ3RoPT09NCxhPU1hKHQsci5iYXRjaFNpemUsci5udW1IZWFkcyxyLnNlcXVlbmNlTGVuZ3RoLHIuaGVhZFNpemUsdC5pbnB1dHNbMF0sdC5pbnB1dHNbM10sMCk7aWYobilyZXR1cm4gU2EodCxhLHQuaW5wdXRzWzFdLHQuaW5wdXRzWzJdLHQuaW5wdXRzWzRdLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHQuaW5wdXRzWzVdLHIsZSk7bGV0IGk9TWEodCxyLmJhdGNoU2l6ZSxyLm51bUhlYWRzLHIua3ZTZXF1ZW5jZUxlbmd0aCxyLmhlYWRTaXplLHQuaW5wdXRzWzFdLHQuaW5wdXRzWzNdLHIuaGlkZGVuU2l6ZSkscz1NYSh0LHIuYmF0Y2hTaXplLHIubnVtSGVhZHMsci5rdlNlcXVlbmNlTGVuZ3RoLHIudkhlYWRTaXplLHQuaW5wdXRzWzJdLHQuaW5wdXRzWzNdLDIqci5oaWRkZW5TaXplKTtTYSh0LGEsaSxzLHQuaW5wdXRzWzRdLHZvaWQgMCx0LmlucHV0c1s2XSx0LmlucHV0c1s3XSx0LmlucHV0c1s1XSxyLGUpfX0pLEhjLEdjLHFjLGpjLEtjLFljLFhjLFFjLFpjLEVfPVEoKCk9PntZZSgpLEllKCksQ2UoKSxIYz10PT57aWYoIXR8fHQubGVuZ3RoPDEpdGhyb3cgbmV3IEVycm9yKCJUb28gZmV3IGlucHV0cyIpO2lmKHRbMF0uZGF0YVR5cGUhPT0xKXRocm93IG5ldyBFcnJvcigiSW5wdXQgdHlwZSBtdXN0IGJlIGZsb2F0LiIpO2lmKHQubGVuZ3RoPj0yKXtsZXQgZT10WzBdLmRpbXMubGVuZ3RoKjI9PT10WzFdLmRpbXNbMF07aWYodC5sZW5ndGg9PT00JiYoZT10WzNdLmRpbXNbMF0qMj09PXRbMV0uZGltc1swXSksIWUpdGhyb3cgbmV3IEVycm9yKCJUaGUgcGFkcyBzaG91bGQgYmUgYSAxRCB0ZW5zb3Igb2Ygc2hhcGUgWzIgKiBpbnB1dF9yYW5rXSBvciBbMiAqIG51bV9heGVzXS4iKX19LEdjPSh0LGUscik9PntsZXQgbj0iIjtmb3IobGV0IGE9ZS0xO2E+PTA7LS1hKW4rPWAKICAgICAgICAgICAgayA9IGkzMigke3QuaW5kaWNlc0dldCgiaW5kaWNlcyIsYSl9KSAtICR7eGUoInVuaWZvcm1zLnBhZHMiLGEscil9OwogICAgICAgICAgICBpZiAoayA8IDApIHsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoayA+PSBpMzIoJHt4ZSgidW5pZm9ybXMueF9zaGFwZSIsYSxlKX0pKSB7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb2Zmc2V0ICs9IGsgKiBpMzIoJHt4ZSgidW5pZm9ybXMueF9zdHJpZGVzIixhLGUpfSk7CiAgICAgICAgYDtyZXR1cm5gCiAgICAgICAgICB2YWx1ZSA9ICR7dC50eXBlLnZhbHVlfSh1bmlmb3Jtcy5jb25zdGFudF92YWx1ZSk7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE7IGkrKykgewogICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKICAgICAgICAgICAgdmFyIGsgPSAwOwogICAgICAgICAgICAke259CiAgICAgICAgICAgIHZhbHVlID0geFtvZmZzZXRdOwogICAgICAgICAgfQogICAgICBgfSxxYz0odCxlLHIpPT57bGV0IG49IiI7Zm9yKGxldCBhPWUtMTthPj0wOy0tYSluKz1gCiAgICAgICAgICAgICAgICBrID0gaTMyKCR7dC5pbmRpY2VzR2V0KCJpbmRpY2VzIixhKX0pIC0gJHt4ZSgidW5pZm9ybXMucGFkcyIsYSxyKX07CiAgICAgICAgICAgICAgICBpZiAoayA8IDApIHsKICAgICAgICAgICAgICAgICAgayA9IC1rOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBsZXQgXzJuXzEgPSAyICogKGkzMigke3hlKCJ1bmlmb3Jtcy54X3NoYXBlIixhLGUpfSkgLSAxKTsKICAgICAgICAgICAgICAgICAgayA9IGsgJSBfMm5fMTsKICAgICAgICAgICAgICAgICAgaWYoayA+PSBpMzIoJHt4ZSgidW5pZm9ybXMueF9zaGFwZSIsYSxlKX0pKSB7CiAgICAgICAgICAgICAgICAgICAgayA9IF8ybl8xIC0gazsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGsgKiBpMzIoJHt4ZSgidW5pZm9ybXMueF9zdHJpZGVzIixhLGUpfSk7CiAgICAgICAgICAgIGA7cmV0dXJuYAogICAgICAgICAgICAgIHZhciBvZmZzZXQgPSAwOwogICAgICAgICAgICAgIHZhciBrID0gMDsKICAgICAgICAgICAgICAke259CiAgICAgICAgICAgICAgdmFsdWUgPSB4W29mZnNldF07CiAgICAgICAgICBgfSxqYz0odCxlLHIpPT57bGV0IG49IiI7Zm9yKGxldCBhPWUtMTthPj0wOy0tYSluKz1gCiAgICAgICAgICAgICAgICBrID0gaTMyKCR7dC5pbmRpY2VzR2V0KCJpbmRpY2VzIixhKX0pIC0gJHt4ZSgidW5pZm9ybXMucGFkcyIsYSxyKX07CiAgICAgICAgICAgICAgICBpZiAoayA8IDApIHsKICAgICAgICAgICAgICAgICAgayA9IDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoayA+PSBpMzIoJHt4ZSgidW5pZm9ybXMueF9zaGFwZSIsYSxlKX0pKSB7CiAgICAgICAgICAgICAgICAgIGsgPSBpMzIoJHt4ZSgidW5pZm9ybXMueF9zaGFwZSIsYSxlKX0pIC0gMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG9mZnNldCArPSBrICogaTMyKCR7eGUoInVuaWZvcm1zLnhfc3RyaWRlcyIsYSxlKX0pOwogICAgICAgICAgICBgO3JldHVybmAKICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKICAgICAgICAgICAgICB2YXIgayA9IDA7CiAgICAgICAgICAgICAgJHtufQogICAgICAgICAgICAgIHZhbHVlID0geFtvZmZzZXRdOwogICAgICAgICAgYH0sS2M9KHQsZSxyKT0+e2xldCBuPSIiO2ZvcihsZXQgYT1lLTE7YT49MDstLWEpbis9YAogICAgICAgICAgICAgICAgayA9IGkzMigke3QuaW5kaWNlc0dldCgiaW5kaWNlcyIsYSl9KSAtICR7eGUoInVuaWZvcm1zLnBhZHMiLGEscil9OwogICAgICAgICAgICAgICAgaWYgKGsgPCAwKSAgewogICAgICAgICAgICAgICAgICBrICs9IGkzMigke3hlKCJ1bmlmb3Jtcy54X3NoYXBlIixhLGUpfV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGsgPj0gaTMyKCR7eGUoInVuaWZvcm1zLnhfc2hhcGUiLGEsZSl9KSkgewogICAgICAgICAgICAgICAgICBrIC09IGkzMigke3hlKCJ1bmlmb3Jtcy54X3NoYXBlIixhLGUpfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gayAqIGkzMigke3hlKCJ1bmlmb3Jtcy54X3N0cmlkZXMiLGEsZSl9KTsKICAgICAgICAgICAgYDtyZXR1cm5gCiAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IDA7CiAgICAgICAgICAgICAgdmFyIGsgPSAwOwogICAgICAgICAgICAgICR7bn0KICAgICAgICAgICAgICB2YWx1ZSA9IHhbb2Zmc2V0XTsKICAgICAgICAgIGB9LFljPSh0LGUscik9Pntzd2l0Y2goci5tb2RlKXtjYXNlIDA6cmV0dXJuIEdjKHQsZSxyLnBhZHMubGVuZ3RoKTtjYXNlIDE6cmV0dXJuIHFjKHQsZSxyLnBhZHMubGVuZ3RoKTtjYXNlIDI6cmV0dXJuIGpjKHQsZSxyLnBhZHMubGVuZ3RoKTtjYXNlIDM6cmV0dXJuIEtjKHQsZSxyLnBhZHMubGVuZ3RoKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSW52YWxpZCBtb2RlIil9fSxYYz0odCxlKT0+e2xldCByPWVlLnBhZFNoYXBlKHRbMF0uZGltcy5zbGljZSgpLGUucGFkcyksbj10WzBdLmRpbXMsYT1be3R5cGU6InVpbnQzMiIsZGF0YTplZS5zaXplKHIpfSx7dHlwZToidWludDMyIixkYXRhOmUucGFkc31dO2lmKGUubW9kZT09PTApe2xldCBvPWp0KHRbMF0uZGF0YVR5cGUpO2EucHVzaCh7dHlwZTpvLGRhdGE6ZS52YWx1ZX0pfWEucHVzaCguLi5pZSh0WzBdLmRpbXMpLC4uLmllKHIpKTtsZXQgaT1bInJhbmsiXSxzPW89PntsZXQgbD12ZSgib3V0cHV0Iix0WzBdLmRhdGFUeXBlLHIubGVuZ3RoKSxkPUooIngiLHRbMF0uZGF0YVR5cGUsbi5sZW5ndGgpLGM9ZC50eXBlLnZhbHVlLHU9WWMobCxuLmxlbmd0aCxlKSxoPVt7bmFtZToib3V0cHV0X3NpemUiLHR5cGU6InUzMiJ9LHtuYW1lOiJwYWRzIix0eXBlOiJpMzIiLGxlbmd0aDplLnBhZHMubGVuZ3RofV07cmV0dXJuIGUubW9kZT09PTAmJmgucHVzaCh7bmFtZToiY29uc3RhbnRfdmFsdWUiLHR5cGU6Y30pLGAKICAgICAgICAgICAgJHtvLnJlZ2lzdGVyVW5pZm9ybXMoaCkuZGVjbGFyZVZhcmlhYmxlcyhkLGwpfQogICAgICAgICAgICAke28ubWFpblN0YXJ0KCl9CiAgICAgICAgICAgICR7by5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRfc2l6ZSIpfQoKICAgICAgICAgICAgbGV0IGluZGljZXMgPSAke2wub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9OwoKICAgICAgICAgICAgdmFyIHZhbHVlID0gJHtjfSgwKTsKICAgICAgICAgICAgJHt1fQogICAgICAgICAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSB2YWx1ZTsKICAgICAgICB9YH07cmV0dXJue25hbWU6IlBhZCIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7ZS5tb2RlfWAsaW5wdXREZXBlbmRlbmNpZXM6aX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpyLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChlZS5zaXplKHIpLzY0KX0scHJvZ3JhbVVuaWZvcm1zOmF9KSxnZXRTaGFkZXJTb3VyY2U6c319LFFjPSh0LGUpPT57aWYodC5sZW5ndGg+MSl7bGV0IHI9dFsxXS5nZXRCaWdJbnQ2NEFycmF5KCksbj10Lmxlbmd0aD49MyYmdFsyXS5kYXRhP3RbMl0uZ2V0RmxvYXQzMkFycmF5KClbMF06MCxhPXRbMF0uZGltcy5sZW5ndGgsaT1uZXcgSW50MzJBcnJheSgyKmEpLmZpbGwoMCk7aWYodC5sZW5ndGg+PTQpe2xldCBvPXRbM10uZ2V0QmlnSW50NjRBcnJheSgpO2ZvcihsZXQgbD0wO2w8by5sZW5ndGg7bCsrKWlbTnVtYmVyKG9bbF0pXT1OdW1iZXIocltsXSksaVtOdW1iZXIob1tsXSkrYV09TnVtYmVyKHJbbCtvLmxlbmd0aF0pfWVsc2Ugci5mb3JFYWNoKChvLGwpPT5pW051bWJlcihsKV09TnVtYmVyKG8pKTtsZXQgcz1bXTtyZXR1cm4gaS5mb3JFYWNoKG89PnMucHVzaChvKSkse21vZGU6ZS5tb2RlLHZhbHVlOm4scGFkczpzfX1lbHNlIHJldHVybiBlfSxaYz0odCxlKT0+e0hjKHQuaW5wdXRzKTtsZXQgcj1RYyh0LmlucHV0cyxlKTt0LmNvbXB1dGUoWGModC5pbnB1dHMscikse2lucHV0czpbMF19KX19KSxtbix4cyxrcyxTcyxFcyxKYyxlcCxDcyxJcyx0cCxycCxBcyxucCxhcCxUcyxpcCxzcCxvcCxscCxDXz1RKCgpPT57RHQoKSxJZSgpLENlKCksbW49dD0+e2lmKERlLndlYmdwdS52YWxpZGF0ZUlucHV0Q29udGVudCYmKCF0fHx0Lmxlbmd0aCE9PTEpKXRocm93IG5ldyBFcnJvcigiUG9vbCBvcHMgcmVxdWlyZXMgMSBpbnB1dC4iKX0seHM9KHQsZSxyKT0+e2xldCBuPWUuZm9ybWF0PT09Ik5IV0MiLGE9dC5kaW1zLnNsaWNlKCk7biYmYS5zcGxpY2UoMSwwLGEucG9wKCkpO2xldCBpPU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsImRpbGF0aW9ucyIpLHM9ZS5rZXJuZWxTaGFwZS5zbGljZSgpLG89ZS5zdHJpZGVzLnNsaWNlKCksbD1pP2UuZGlsYXRpb25zLnNsaWNlKCk6W10sZD1lLnBhZHMuc2xpY2UoKTtiYS5hZGp1c3RQb29sQXR0cmlidXRlcyhyLGEscyxvLGwsZCk7bGV0IGM9YmEuY29tcHV0ZVBvb2xPdXRwdXRTaGFwZShyLGEsbyxsLHMsZCxlLmF1dG9QYWQpLHU9T2JqZWN0LmFzc2lnbih7fSxlKTtpP09iamVjdC5hc3NpZ24odSx7a2VybmVsU2hhcGU6cyxzdHJpZGVzOm8scGFkczpkLGRpbGF0aW9uczpsLGNhY2hlS2V5OmUuY2FjaGVLZXl9KTpPYmplY3QuYXNzaWduKHUse2tlcm5lbFNoYXBlOnMsc3RyaWRlczpvLHBhZHM6ZCxjYWNoZUtleTplLmNhY2hlS2V5fSk7bGV0IGg9Yy5zbGljZSgpO3JldHVybiBoLnB1c2goaC5zcGxpY2UoMSwxKVswXSksW3Usbj9oOmNdfSxrcz0odCxlKT0+e2xldCByPWUuZm9ybWF0PT09Ik5IV0MiLG49ZWUuc2l6ZSh0KSxhPWVlLnNpemUoZS5rZXJuZWxTaGFwZSksaT1be3R5cGU6InVpbnQzMiIsZGF0YTpufSx7dHlwZToidWludDMyIixkYXRhOmF9XSxzPVt7bmFtZToib3V0cHV0U2l6ZSIsdHlwZToidTMyIn0se25hbWU6Imtlcm5lbFNpemUiLHR5cGU6InUzMiJ9XTtpZihlLmtlcm5lbFNoYXBlLmxlbmd0aDw9Mil7bGV0IG89ZS5rZXJuZWxTaGFwZVtlLmtlcm5lbFNoYXBlLmxlbmd0aC0xXSxsPWUuc3RyaWRlc1tlLnN0cmlkZXMubGVuZ3RoLTFdLGQ9ZS5wYWRzW2UucGFkcy5sZW5ndGgvMi0xXSxjPWUucGFkc1tlLnBhZHMubGVuZ3RoLTFdLHU9ISEoZCtjKTtpLnB1c2goe3R5cGU6InVpbnQzMiIsZGF0YTpvfSx7dHlwZToidWludDMyIixkYXRhOmx9LHt0eXBlOiJ1aW50MzIiLGRhdGE6ZH0se3R5cGU6InVpbnQzMiIsZGF0YTpjfSkscy5wdXNoKHtuYW1lOiJrdyIsdHlwZToidTMyIn0se25hbWU6InN3Iix0eXBlOiJ1MzIifSx7bmFtZToicHdTdGFydCIsdHlwZToidTMyIn0se25hbWU6InB3RW5kIix0eXBlOiJ1MzIifSk7bGV0IGg9ITE7aWYoZS5rZXJuZWxTaGFwZS5sZW5ndGg9PT0yKXtsZXQgZj1lLmtlcm5lbFNoYXBlW2Uua2VybmVsU2hhcGUubGVuZ3RoLTJdLGc9ZS5zdHJpZGVzW2Uuc3RyaWRlcy5sZW5ndGgtMl0seT1lLnBhZHNbZS5wYWRzLmxlbmd0aC8yLTJdLHc9ZS5wYWRzW2UucGFkcy5sZW5ndGgtMl07aD0hISh5K3cpLGkucHVzaCh7dHlwZToidWludDMyIixkYXRhOmZ9LHt0eXBlOiJ1aW50MzIiLGRhdGE6Z30se3R5cGU6InVpbnQzMiIsZGF0YTp5fSx7dHlwZToidWludDMyIixkYXRhOnd9KSxzLnB1c2goe25hbWU6ImtoIix0eXBlOiJ1MzIifSx7bmFtZToic2giLHR5cGU6InUzMiJ9LHtuYW1lOiJwaFN0YXJ0Iix0eXBlOiJ1MzIifSx7bmFtZToicGhFbmQiLHR5cGU6InUzMiJ9KX1yZXR1cm5baSxzLCEwLHUsaF19ZWxzZXtpZihyKXRocm93IG5ldyBFcnJvcigiUG9vbGluZyB3aXRoIGtlcm5lbFNoYXBlLmxlbmd0aCA+IDIgaXMgbm90IHN1cHBvcnRlZCBmb3IgTkhXQyBmb3JtYXQuIik7bGV0IG89ZWUuY29tcHV0ZVN0cmlkZXMoZS5rZXJuZWxTaGFwZSk7aS5wdXNoKHt0eXBlOiJ1aW50MzIiLGRhdGE6b30se3R5cGU6InVpbnQzMiIsZGF0YTplLnBhZHN9LHt0eXBlOiJ1aW50MzIiLGRhdGE6ZS5zdHJpZGVzfSkscy5wdXNoKHtuYW1lOiJrZXJuZWxTdHJpZGVzIix0eXBlOiJ1MzIiLGxlbmd0aDpvLmxlbmd0aH0se25hbWU6InBhZHMiLHR5cGU6InUzMiIsbGVuZ3RoOmUucGFkcy5sZW5ndGh9LHtuYW1lOiJzdHJpZGVzIix0eXBlOiJ1MzIiLGxlbmd0aDplLnN0cmlkZXMubGVuZ3RofSk7bGV0IGw9ZS5wYWRzLnJlZHVjZSgoZCxjKT0+ZCtjKTtyZXR1cm5baSxzLCEhbCwhMSwhMV19fSxTcz0odCxlLHIsbixhLGkscyxvLGwsZCxjLHUpPT57bGV0IGg9YS5mb3JtYXQ9PT0iTkhXQyIsZj1lLnR5cGUudmFsdWUsZz12ZSgib3V0cHV0IixlLnR5cGUudGVuc29yLG4pO2lmKGEua2VybmVsU2hhcGUubGVuZ3RoPD0yKXtsZXQgeT0iIix3PSIiLHY9IiIsaz1yLShoPzI6MSk7aWYoYz95PWAKICAgICAgICAgICAgICAgIGZvciAodmFyIGk6IHUzMiA9IDB1OyBpIDwgdW5pZm9ybXMua3c7IGkrKykgewogICAgICAgICAgICAgICAgICB4SW5kaWNlc1ske2t9XSA9IGluZGljZXNbJHtrfV0gKiB1bmlmb3Jtcy5zdyAtIHVuaWZvcm1zLnB3U3RhcnQgKyBpOwogICAgICAgICAgICAgICAgICBpZiAoeEluZGljZXNbJHtrfV0gPCAwIHx8IHhJbmRpY2VzWyR7a31dCiAgICAgICAgICAgICAgICAgICAgICA+PSB1bmlmb3Jtcy54X3NoYXBlWyR7a31dKSB7CiAgICAgICAgICAgICAgICAgICAgcGFkKys7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgbGV0IHhfdmFsID0geFske2UuaW5kaWNlc1RvT2Zmc2V0KCJ4SW5kaWNlcyIpfV07CiAgICAgICAgICAgICAgICAgICR7aX0KICAgICAgICAgICAgICAgIH1gOnk9YAogICAgICAgICAgICAgICAgZm9yICh2YXIgaTogdTMyID0gMHU7IGkgPCB1bmlmb3Jtcy5rdzsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHhJbmRpY2VzWyR7a31dID0gaW5kaWNlc1ske2t9XSAqIHVuaWZvcm1zLnN3IC0gdW5pZm9ybXMucHdTdGFydCArIGk7CiAgICAgICAgICAgICAgICAgIGxldCB4X3ZhbCA9IHhbJHtlLmluZGljZXNUb09mZnNldCgieEluZGljZXMiKX1dOwogICAgICAgICAgICAgICAgICAke2l9CiAgICAgICAgICAgICAgICB9YCxhLmtlcm5lbFNoYXBlLmxlbmd0aD09PTIpe2xldCBFPXItKGg/MzoyKTt1P3c9YAogICAgICAgICAgICAgICAgZm9yICh2YXIgajogdTMyID0gMHU7IGogPCB1bmlmb3Jtcy5raDsgaisrKSB7CiAgICAgICAgICAgICAgICAgIHhJbmRpY2VzWyR7RX1dID0gaW5kaWNlc1ske0V9XSAqIHVuaWZvcm1zLnNoIC0gdW5pZm9ybXMucGhTdGFydCArIGo7CiAgICAgICAgICAgICAgICAgIGlmICh4SW5kaWNlc1ske0V9XSA8IDAgfHwgeEluZGljZXNbJHtFfV0gPj0gdW5pZm9ybXMueF9zaGFwZVske0V9XSkgewogICAgICAgICAgICAgICAgICAgIHBhZCArPSBpMzIodW5pZm9ybXMua3cpOwogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYDp3PWAKICAgICAgICAgICAgICAgIGZvciAodmFyIGo6IHUzMiA9IDB1OyBqIDwgdW5pZm9ybXMua2g7IGorKykgewogICAgICAgICAgICAgICAgICB4SW5kaWNlc1ske0V9XSA9IGluZGljZXNbJHtFfV0gKiB1bmlmb3Jtcy5zaCAtIHVuaWZvcm1zLnBoU3RhcnQgKyBqOwogICAgICAgICAgICAgICAgYCx2PWAKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGB9cmV0dXJuYAogICAgICAgICAgICAke3QucmVnaXN0ZXJVbmlmb3JtcyhsKS5kZWNsYXJlVmFyaWFibGVzKGUsZyl9CgogICAgICAgICAgICAke3QubWFpblN0YXJ0KCl9CiAgICAgICAgICAgICAgJHt0Lmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dFNpemUiKX0KCiAgICAgICAgICAgICAgbGV0IGluZGljZXMgPSAke2cub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9OwogICAgICAgICAgICAgIHZhciB4SW5kaWNlcyA9ICR7Zy5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07CgogICAgICAgICAgICAgIHZhciB2YWx1ZSA9ICR7Zn0oJHtvfSk7CiAgICAgICAgICAgICAgdmFyIHBhZCA9IDA7CiAgICAgICAgICAgICAgJHt3fQogICAgICAgICAgICAgICR7eX0KICAgICAgICAgICAgICAke3Z9CiAgICAgICAgICAgICAgJHtzfQoKICAgICAgICAgICAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSB2YWx1ZTsKICAgICAgICAgICAgfWB9ZWxzZXtpZihoKXRocm93IG5ldyBFcnJvcigiUG9vbGluZyB3aXRoIGtlcm5lbFNoYXBlLmxlbmd0aCA+IDIgaXMgbm90IHN1cHBvcnRlZCBmb3IgTkhXQyBmb3JtYXQuIik7bGV0IHk9YS5rZXJuZWxTaGFwZS5sZW5ndGgsdz1hLnBhZHMubGVuZ3RoLHY9IiI7cmV0dXJuIGQ/dj1gCiAgICAgICAgICAgICAgICBpZiAoeEluZGljZXNbal0gPj0gdW5pZm9ybXMueF9zaGFwZVtqXSkgewogICAgICAgICAgICAgICAgICBwYWQrKzsKICAgICAgICAgICAgICAgICAgaXNQYWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKCFpc1BhZCkgewogICAgICAgICAgICAgICAgbGV0IHhfdmFsID0geFske2UuaW5kaWNlc1RvT2Zmc2V0KCJ4SW5kaWNlcyIpfV07CiAgICAgICAgICAgICAgICAke2l9CiAgICAgICAgICAgICAgfWA6dj1gCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGxldCB4X3ZhbCA9IHhbJHtlLmluZGljZXNUb09mZnNldCgieEluZGljZXMiKX1dOwogICAgICAgICAgICAgICR7aX0KICAgICAgICAgICAgYCxgCiAgICAgICAgICAgICR7dC5yZWdpc3RlclVuaWZvcm1zKGwpLmRlY2xhcmVWYXJpYWJsZXMoZSxnKX0KCiAgICAgICAgICAgICR7dC5tYWluU3RhcnQoKX0KICAgICAgICAgICAgICAke3QuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0U2l6ZSIpfQogICAgICAgICAgICAgIGxldCBpbmRpY2VzID0gJHtnLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTsKICAgICAgICAgICAgICB2YXIgeEluZGljZXMgPSAke2cub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9OwoKICAgICAgICAgICAgICB2YXIgb2Zmc2V0czogYXJyYXk8dTMyLCAke3l9PjsKCiAgICAgICAgICAgICAgdmFyIHZhbHVlID0gJHtmfSgke299KTsKICAgICAgICAgICAgICB2YXIgcGFkID0gMDsKICAgICAgICAgICAgICB2YXIgaXNQYWQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgZm9yICh2YXIgaTogdTMyID0gMHU7IGkgPCB1bmlmb3Jtcy5rZXJuZWxTaXplOyBpKyspIHsKICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBpOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDB1OyBqIDwgJHt5LTF9dTsgaisrKSB7CiAgICAgICAgICAgICAgICAgIG9mZnNldHNbal0gPSBvZmZzZXQgLyAke3hlKCJ1bmlmb3Jtcy5rZXJuZWxTdHJpZGVzIiwiaiIseSl9OwogICAgICAgICAgICAgICAgICBvZmZzZXQgLT0gb2Zmc2V0c1tqXSAqICR7eGUoInVuaWZvcm1zLmtlcm5lbFN0cmlkZXMiLCJqIix5KX07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBvZmZzZXRzWyR7eS0xfV0gPSBvZmZzZXQ7CgogICAgICAgICAgICAgICAgaXNQYWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAke3IteX11OyBqIDwgJHtyfXU7IGorKykgewogICAgICAgICAgICAgICAgICB4SW5kaWNlc1tqXSA9IGluZGljZXNbal0gKiAke3hlKCJ1bmlmb3Jtcy5zdHJpZGVzIixgaiAtICR7ci15fXVgLHkpfQogICAgICAgICAgICAgICAgICAgICsgb2Zmc2V0c1tqIC0gJHtyLXl9dV0gLSAke3hlKCJ1bmlmb3Jtcy5wYWRzIiwiaiAtIDJ1Iix3KX07CiAgICAgICAgICAgICAgICAgICR7dn0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgJHtzfQoKICAgICAgICAgICAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSB2YWx1ZTsKICAgICAgICAgICAgfWB9fSxFcz10PT5gJHt0LmZvcm1hdH07JHt0LmNlaWxNb2RlfTske3QuYXV0b1BhZH07JHt0Lmtlcm5lbFNoYXBlLmxlbmd0aH1gLEpjPXQ9PmAke0VzKHQpfTske3QuY291bnRJbmNsdWRlUGFkfWAsZXA9dD0+YCR7RXModCl9OyR7dC5zdG9yYWdlT3JkZXJ9OyR7dC5kaWxhdGlvbnN9YCxDcz10PT4oe2Zvcm1hdDp0LmZvcm1hdCxhdXRvUGFkOlsiTk9UU0VUIiwiVkFMSUQiLCJTQU1FX1VQUEVSIiwiU0FNRV9MT1dFUiJdW3QuYXV0b19wYWRdLGNlaWxNb2RlOnQuY2VpbF9tb2RlLGtlcm5lbFNoYXBlOnQua2VybmVsX3NoYXBlLHN0cmlkZXM6dC5zdHJpZGVzLHBhZHM6dC5wYWRzfSksSXM9KHQsZSxyLG4pPT57bGV0W2EsaV09eHMoZSxuLHIpLHM9SigieCIsZS5kYXRhVHlwZSxlLmRpbXMubGVuZ3RoKSxvPXMudHlwZS52YWx1ZSxsPSJ2YWx1ZSArPSB4X3ZhbDsiLGQ9IiI7YS5jb3VudEluY2x1ZGVQYWQ/ZCs9YHZhbHVlIC89ICR7b30odW5pZm9ybXMua2VybmVsU2l6ZSk7YDpkKz1gdmFsdWUgLz0gJHtvfShpMzIodW5pZm9ybXMua2VybmVsU2l6ZSkgLSBwYWQpO2A7bGV0W2MsdSxoLGYsZ109a3MoaSxhKTtjLnB1c2goLi4uaWUoZS5kaW1zKSwuLi5pZShpKSk7bGV0IHk9WyJyYW5rIl07cmV0dXJue25hbWU6dCxzaGFkZXJDYWNoZTp7aGludDpgJHtuLmNhY2hlS2V5fTske2h9OyR7Zn07JHtnfWAsaW5wdXREZXBlbmRlbmNpZXM6eX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczppLGRhdGFUeXBlOmUuZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChlZS5zaXplKGkpLzY0KX0scHJvZ3JhbVVuaWZvcm1zOmN9KSxnZXRTaGFkZXJTb3VyY2U6dz0+U3ModyxzLGUuZGltcy5sZW5ndGgsaS5sZW5ndGgsYSxsLGQsMCx1LGgsZixnKX19LHRwPXQ9PntsZXQgZT10LmNvdW50X2luY2x1ZGVfcGFkIT09MCxyPUNzKHQpO2lmKHIuY2VpbE1vZGUhPT0wKXRocm93IG5ldyBFcnJvcigidXNpbmcgY2VpbCgpIGluIHNoYXBlIGNvbXB1dGF0aW9uIGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGZvciBBdmVyYWdlUG9vbCIpO2xldCBuPXtjb3VudEluY2x1ZGVQYWQ6ZSwuLi5yLGNhY2hlS2V5OiIifTtyZXR1cm57Li4ubixjYWNoZUtleTpKYyhuKX19LHJwPSh0LGUpPT57bW4odC5pbnB1dHMpLHQuY29tcHV0ZShJcygiQXZlcmFnZVBvb2wiLHQuaW5wdXRzWzBdLCExLGUpKX0sQXM9e2F1dG9QYWQ6IiIsY2VpbE1vZGU6MCxjb3VudEluY2x1ZGVQYWQ6ITEsa2VybmVsU2hhcGU6W10sc3RyaWRlczpbXSxwYWRzOltdLHN0b3JhZ2VPcmRlcjowLGRpbGF0aW9uczpbXX0sbnA9dD0+e2xldCBlPXQuZm9ybWF0O3JldHVybntmb3JtYXQ6ZSwuLi5BcyxjYWNoZUtleTplfX0sYXA9KHQsZSk9Pnttbih0LmlucHV0cyksdC5jb21wdXRlKElzKCJHbG9iYWxBdmVyYWdlUG9vbCIsdC5pbnB1dHNbMF0sITAsZSkpfSxUcz0odCxlLHIsbik9PntsZXRbYSxpXT14cyhlLG4scikscz1gCiAgICAgIHZhbHVlID0gbWF4KHhfdmFsLCB2YWx1ZSk7CiAgICBgLG89IiIsbD1KKCJ4IixlLmRhdGFUeXBlLGUuZGltcy5sZW5ndGgpLGQ9WyJyYW5rIl0sW2MsdSxoLGYsZ109a3MoaSxhKTtyZXR1cm4gYy5wdXNoKC4uLmllKGUuZGltcyksLi4uaWUoaSkpLHtuYW1lOnQsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7bi5jYWNoZUtleX07JHtofTske2Z9OyR7Z31gLGlucHV0RGVwZW5kZW5jaWVzOmR9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6aSxkYXRhVHlwZTplLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoZWUuc2l6ZShpKS82NCl9LHByb2dyYW1Vbmlmb3JtczpjfSksZ2V0U2hhZGVyU291cmNlOnk9PlNzKHksbCxlLmRpbXMubGVuZ3RoLGkubGVuZ3RoLGEscyxvLC0xZTUsdSxoLGYsZyl9fSxpcD0odCxlKT0+e21uKHQuaW5wdXRzKSx0LmNvbXB1dGUoVHMoIk1heFBvb2wiLHQuaW5wdXRzWzBdLCExLGUpKX0sc3A9dD0+e2xldCBlPXQuc3RvcmFnZV9vcmRlcixyPXQuZGlsYXRpb25zLG49Q3ModCk7aWYoZSE9PTApdGhyb3cgbmV3IEVycm9yKCJjb2x1bW4gbWFqb3Igc3RvcmFnZSBvcmRlciBpcyBub3QgeWV0IHN1cHBvcnRlZCBmb3IgTWF4UG9vbCIpO2lmKG4uY2VpbE1vZGUhPT0wKXRocm93IG5ldyBFcnJvcigidXNpbmcgY2VpbCgpIGluIHNoYXBlIGNvbXB1dGF0aW9uIGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGZvciBNYXhQb29sIik7bGV0IGE9e3N0b3JhZ2VPcmRlcjplLGRpbGF0aW9uczpyLC4uLm4sY2FjaGVLZXk6IiJ9O3JldHVybnsuLi5hLGNhY2hlS2V5OmVwKGEpfX0sb3A9dD0+e2xldCBlPXQuZm9ybWF0O3JldHVybntmb3JtYXQ6ZSwuLi5BcyxjYWNoZUtleTplfX0sbHA9KHQsZSk9Pnttbih0LmlucHV0cyksdC5jb21wdXRlKFRzKCJHbG9iYWxNYXhQb29sIix0LmlucHV0c1swXSwhMCxlKSl9fSksdXAsZHAsY3AsSV89USgoKT0+e0R0KCksWWUoKSxDZSgpLHVwPSh0LGUscik9PntsZXQgbj10PT09ZSxhPXQ8ZSYmcjwwLGk9dD5lJiZyPjA7aWYobnx8YXx8aSl0aHJvdyBuZXcgRXJyb3IoIlJhbmdlIHRoZXNlIGlucHV0cycgY29udGVudHMgYXJlIGludmFsaWQuIil9LGRwPSh0LGUscixuKT0+e2xldCBhPU1hdGguYWJzKE1hdGguY2VpbCgoZS10KS9yKSksaT1bYV0scz1hLG89anQobiksbD1be3R5cGU6InVpbnQzMiIsZGF0YTpzfSx7dHlwZTpvLGRhdGE6dH0se3R5cGU6byxkYXRhOnJ9LC4uLmllKGkpXSxkPWM9PntsZXQgdT12ZSgib3V0cHV0IixuLGkubGVuZ3RoKSxoPXUudHlwZS52YWx1ZSxmPVt7bmFtZToib3V0cHV0U2l6ZSIsdHlwZToidTMyIn0se25hbWU6InN0YXJ0Iix0eXBlOmh9LHtuYW1lOiJkZWx0YSIsdHlwZTpofV07cmV0dXJuYAogICAgICAgICR7Yy5yZWdpc3RlclVuaWZvcm1zKGYpLmRlY2xhcmVWYXJpYWJsZXModSl9CiAgICAgICAgJHtjLm1haW5TdGFydCgpfQogICAgICAgICR7Yy5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9CiAgICAgICAgb3V0cHV0W2dsb2JhbF9pZHhdID0gdW5pZm9ybXMuc3RhcnQgKyAke2h9KGdsb2JhbF9pZHgpICogdW5pZm9ybXMuZGVsdGE7CiAgICAgIH1gfTtyZXR1cm57bmFtZToiUmFuZ2UiLHNoYWRlckNhY2hlOntoaW50OmAke259YH0sZ2V0U2hhZGVyU291cmNlOmQsZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczppLGRhdGFUeXBlOm59XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChzLzY0KX0scHJvZ3JhbVVuaWZvcm1zOmx9KX19LGNwPXQ9PntsZXQgZT0wLHI9MCxuPTA7dC5pbnB1dHNbMF0uZGF0YVR5cGU9PT02PyhlPXQuaW5wdXRzWzBdLmdldEludDMyQXJyYXkoKVswXSxyPXQuaW5wdXRzWzFdLmdldEludDMyQXJyYXkoKVswXSxuPXQuaW5wdXRzWzJdLmdldEludDMyQXJyYXkoKVswXSk6dC5pbnB1dHNbMF0uZGF0YVR5cGU9PT0xJiYoZT10LmlucHV0c1swXS5nZXRGbG9hdDMyQXJyYXkoKVswXSxyPXQuaW5wdXRzWzFdLmdldEZsb2F0MzJBcnJheSgpWzBdLG49dC5pbnB1dHNbMl0uZ2V0RmxvYXQzMkFycmF5KClbMF0pLERlLndlYmdwdS52YWxpZGF0ZUlucHV0Q29udGVudCYmdXAoZSxyLG4pLHQuY29tcHV0ZShkcChlLHIsbix0LmlucHV0c1swXS5kYXRhVHlwZSkse2lucHV0czpbXX0pfX0pLHBwLGhwLGZwLG1wLGdwLF9wLHlwLHdwLHZwLGJwLCRwLE9zLHhwLGtwLFNwLEVwLENwLElwLEFwLEFfPVEoKCk9PntJZSgpLGl0KCksQ2UoKSxwcD0odCxlKT0+e2lmKHQuZXZlcnkocj0+cj4wfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIlJlc2l6ZSByZXF1aXJlcyBzY2FsZXMgaW5wdXQgdmFsdWVzIHRvIGJlIHBvc2l0aXZlIil9KSksdC5sZW5ndGg+MCl7aWYoZS5tb2RlPT09ImxpbmVhciIpe2lmKCEodC5sZW5ndGg9PT0yfHx0Lmxlbmd0aD09PTN8fHQubGVuZ3RoPT09NCYmdFswXT09PTEmJnRbMV09PT0xfHx0Lmxlbmd0aD09PTQmJnRbMF09PT0xJiZ0WzNdPT09MXx8dC5sZW5ndGg9PT01JiZ0WzBdPT09MSYmdFsxXT09PTEpKXRocm93IG5ldyBFcnJvcihgRm9yIGxpbmVhciBtb2RlLCBSZXNpemUgcmVxdWlyZXMgc2NhbGVzIHRvIGJlIDJELCAzRCwgNEQgd2l0aCBlaXRoZXIgdHdvIG91dGVybW9zdCBvciBvbmUgaW5uZXJtb3N0IGFuZAogICAgICAgICAgICBvbmUgb3V0ZXJtb3N0IHNjYWxlIHZhbHVlcyBlcXVhbCB0byAxLCBvciA1RCB3aXRoIHR3byBvdXRlcm1vc3Qgc2NhbGUgdmFsdWVzIGVxdWFsIHRvIDFgKX1lbHNlIGlmKGUubW9kZT09PSJjdWJpYyImJiEodC5sZW5ndGg9PT0yfHx0Lmxlbmd0aD09PTQmJnRbMF09PT0xJiZ0WzFdPT09MXx8dC5sZW5ndGg9PT00JiZ0WzBdPT09MSYmdFszXT09PTEpKXRocm93IG5ldyBFcnJvcigiUmVzaXplIHJlcXVpcmVzIHNjYWxlcyBpbnB1dCBzaXplIHRvIGJlIDIgb3IgNCBmb3IgY3ViaWMgbW9kZSIpfX0saHA9KHQsZSxyKT0+e2UuZXZlcnkoYT0+YT49MCYmYTxyfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIlJlc2l6ZSByZXF1aXJlcyBheGVzIGlucHV0IHZhbHVlcyB0byBiZSBwb3NpdGl2ZSBhbmQgbGVzcyB0aGFuIHJhbmsiKX0pKTtsZXQgbj1uZXcgQXJyYXkocikuZmlsbCgxKTtyZXR1cm4gZS5mb3JFYWNoKChhLGkpPT5uW2FdPXRbaV0pLG59LGZwPSh0LGUscixuLGEsaSk9PntsZXRbcyxvLGxdPXI+MTA/WzEsMiwzXTpbLTEsdC5sZW5ndGg+MT8xOi0xLC0xXSxkPXRbMF0uZGltcy5sZW5ndGg7aWYocz4wJiZ0Lmxlbmd0aD5zJiZ0W3NdLmRpbXMubGVuZ3RoPjApdFtzXS5nZXRGbG9hdDMyQXJyYXkoKS5mb3JFYWNoKGM9PmkucHVzaChjKSk7ZWxzZSBpZihlLmNvb3JkaW5hdGVUcmFuc2Zvcm1Nb2RlPT09InRmX2Nyb3BfYW5kX3Jlc2l6ZSIpdGhyb3cgbmV3IEVycm9yKCJSZXNpemUgcmVxdWlyZXMgUm9JIGlucHV0IHRvIGJlIHNwZWNpZmllZCB3aGVuIGNvb3JkaW5hdGVUcmFuc2Zvcm1Nb2RlIGlzIHRmQ3JvcEFuZFJlc2l6ZSIpO2lmKG8+MCYmdC5sZW5ndGg+byYmdFtvXS5kaW1zLmxlbmd0aD4wKXtpZih0W29dLmdldEZsb2F0MzJBcnJheSgpLmZvckVhY2goYz0+bi5wdXNoKGMpKSxuLmxlbmd0aCE9PTAmJm4ubGVuZ3RoIT09ZCYmcj49MTgmJm4ubGVuZ3RoIT09ZS5heGVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIlJlc2l6ZSByZXF1aXJlcyBzY2FsZXMgaW5wdXQgc2l6ZSB0byBiZSBzYW1lIGFzIGlucHV0IHJhbmsgb3IgYXhlcyBzaXplIGZvciBvcHNldCAxOCBhbmQgdXAiKTtwcChuLGUpLGUuYXhlcy5sZW5ndGg+MCYmaHAobixlLmF4ZXMsZCkuZm9yRWFjaCgoYyx1KT0+blt1XT1jKX1pZihsPjAmJnQubGVuZ3RoPmwmJih0W2xdLmdldEJpZ0ludDY0QXJyYXkoKS5mb3JFYWNoKGM9PmEucHVzaChOdW1iZXIoYykpKSxhLmxlbmd0aCE9PWR8fHI+PTE4JiZhLmxlbmd0aD09PWUuYXhlcy5sZW5ndGgpKXRocm93IG5ldyBFcnJvcigiUmVzaXplIHJlcXVpcmVzIHNpemVzIGlucHV0IHNpemUgdG8gYmUgc2FtZSBhcyBpbnB1dCByYW5rIG9yIGF4ZXMgc2l6ZSBmb3Igb3BzZXQgMTggYW5kIHVwIik7aWYoZS5heGVzLmxlbmd0aD4wKXtpZihuLmxlbmd0aCE9PWUuYXhlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCdSZXNpemUgcmVxdWlyZXMgInNjYWxlcyIgaW5wdXQgc2l6ZSB0byBiZSBvZiBheGVzIHJhbmsgd2hlbiBheGVzIGF0dHJpYnV0ZXMgaXMgc3BlY2lmaWVkJyk7aWYoYS5sZW5ndGghPT1lLmF4ZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcignUmVzaXplIHJlcXVpcmVzICJzaXplcyIgaW5wdXQgc2l6ZSB0byBiZSBvZiByYW5rIGF4ZXMgcmFuayB3aGVuIGF4ZXMgYXR0cmlidXRlcyBpcyBzcGVjaWZpZWQnKX1pZih0eXBlb2YgbjwidSImJnR5cGVvZiBhPCJ1IiYmbi5sZW5ndGg+MCYmYS5sZW5ndGg+ZCl0aHJvdyBuZXcgRXJyb3IoIlJlc2l6ZSByZXF1aXJlcyBvbmx5IG9mIHNjYWxlcyBvciBzaXplcyB0byBiZSBzcGVjaWZpZWQiKX0sbXA9KHQsZSk9PmBmbiBnZXRPcmlnaW5hbENvb3JkaW5hdGVGcm9tUmVzaXplZENvb3JkaW5hdGUoeFJlc2l6ZWQ6IHUzMiwgeFNjYWxlOiBmMzIsIGxlbmd0aFJlc2l6ZWQ6IHUzMiwKICAgICBsZW5ndGhPcmlnaW5hbDogdTMyLCByb2lTdGFydDogZjMyLCByb2lFbmQ6IGYzMikgLT4gJHtlfSB7IGArKCgpPT57c3dpdGNoKHQpe2Nhc2UiYXN5bW1ldHJpYyI6cmV0dXJuYHJldHVybiAke2V9KHhSZXNpemVkKSAvICR7ZX0oeFNjYWxlKTtgO2Nhc2UicHl0b3JjaF9oYWxmX3BpeGVsIjpyZXR1cm5gaWYgKGxlbmd0aFJlc2l6ZWQgPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgke2V9KHhSZXNpemVkKSArIDAuNSkgLyAke2V9KHhTY2FsZSkgLSAwLjU7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDAuMDsKICAgICAgICAgICAgICAgICAgfWA7Y2FzZSJ0Zl9oYWxmX3BpeGVsX2Zvcl9ubiI6cmV0dXJuYHJldHVybiAoJHtlfSh4UmVzaXplZCkgKyAwLjUpIC8gJHtlfSh4U2NhbGUpO2A7Y2FzZSJhbGlnbl9jb3JuZXJzIjpyZXR1cm5gaWYgKGxlbmd0aFJlc2l6ZWQgPT0gMSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjA7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHdob2xlIHBhcnQgYW5kIHRoZSBmcmFjdGlvbmFsIHBhcnQgYXJlIGNhbGN1bGF0ZWQgc2VwYXJhdGVseSBkdWUgdG8gaW5hY2N1cmFjeSBvZiBmbG9hdGluZwogICAgICAgICAgICAgICAgICAgIC8vIHBvaW50IGRpdmlzaW9uLiBBcyBhbiBleGFtcGxlLCBmMzIoMjEpIC8gZjMyKDcpIG1heSBldmFsdWF0ZSB0byAyLjk5Li4uIGluc3RlYWQgb2YgMywgY2F1c2luZyBhbgogICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldC1ieS1vbmUgZXJyb3IgbGF0ZXIgaW4gZmxvb3IoKS4KICAgICAgICAgICAgICAgICAgICBsZXQgd2hvbGUgPSAke2V9KHhSZXNpemVkICogKGxlbmd0aE9yaWdpbmFsIC0gMSkgLyAobGVuZ3RoUmVzaXplZCAtIDEpKTsKICAgICAgICAgICAgICAgICAgICBsZXQgZnJhY3QgPQogICAgICAgICAgICAgICAgICAgICAgICAke2V9KHhSZXNpemVkICogKGxlbmd0aE9yaWdpbmFsIC0gMSkgJSAobGVuZ3RoUmVzaXplZCAtIDEpKSAvICR7ZX0obGVuZ3RoUmVzaXplZCAtIDEpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB3aG9sZSArIGZyYWN0OwogICAgICAgICAgICAgICAgICB9YDtjYXNlInRmX2Nyb3BfYW5kX3Jlc2l6ZSI6cmV0dXJuYGlmIChsZW5ndGhSZXNpemVkID4gMSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAke2V9KHJvaVN0YXJ0KSAqICR7ZX0obGVuZ3RoT3JpZ2luYWwgLSAxKSArCiAgICAgICAgICAgICAgICAgICAgICAgICgke2V9KHhSZXNpemVkKSAqICR7ZX0ocm9pRW5kIC0gcm9pU3RhcnQpICogJHtlfShsZW5ndGhPcmlnaW5hbCAtIDEpKSAvCiAgICAgICAgICAgICAgICAgICAgICAgICR7ZX0obGVuZ3RoUmVzaXplZCAtIDEpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjUgKiAke2V9KHJvaVN0YXJ0ICsgcm9pRW5kKSAqICR7ZX0obGVuZ3RoT3JpZ2luYWwgLSAxKTsKICAgICAgICAgICAgICAgICAgfWA7Y2FzZSJoYWxmX3BpeGVsX3N5bW1ldHJpYyI6cmV0dXJuYGNvbnN0IG91dHB1dFdpZHRoID0gJHtlfXhTY2FsZSAqICR7ZX0obGVuZ3RoUmVzaXplZCk7CiAgICAgICAgICAgICAgICAgIGNvbnN0IGFkanVzdG1lbnQgPSAke2V9KGxlbmd0aFJlc2l6ZWQpIC8gb3V0cHV0V2lkdGg7CiAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9ICR7ZX0obGVuZ3RoT3JpZ2luYWwpIC8gMjsKICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gY2VudGVyICogKDEgLSBhZGp1c3RtZW50KTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG9mZnNldCArICgoJHtlfSh4UmVzaXplZCkgKyAwLjUpIC8gJHtlfSh4U2NhbGUpKSAtIDAuNTtgO2Nhc2UiaGFsZl9waXhlbCI6cmV0dXJuYHJldHVybiAoKCR7ZX0oeFJlc2l6ZWQpICsgMC41KSAvICR7ZX0oeFNjYWxlKSkgLSAwLjU7YDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgQ29vcmRpbmF0ZSB0cmFuc2Zvcm0gbW9kZSAke3R9IGlzIG5vdCBzdXBwb3J0ZWRgKX19KSgpKyJ9IixncD0odCxlLHIpPT5gZm4gZ2V0TmVhcmVzdFBpeGVsRnJvbU9yaWdpbmFsKHhPcmlnaW5hbDogJHtyfSwgaXNEb3duU2FtcGxlOiBib29sKSAtPiAke3J9IHtgKygoKT0+e3N3aXRjaCh0KXtjYXNlInJvdW5kX3ByZWZlcl9jZWlsIjpyZXR1cm4iaWYgKGZyYWN0KHhPcmlnaW5hbCkgPT0gMC41KSB7ICAgICAgICAgICAgIHJldHVybiBjZWlsKHhPcmlnaW5hbCk7ICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICByZXR1cm4gcm91bmQoeE9yaWdpbmFsKTsgICAgICAgICAgIH0iO2Nhc2UiZmxvb3IiOnJldHVybiJyZXR1cm4gZmxvb3IoeE9yaWdpbmFsKTsiO2Nhc2UiY2VpbCI6cmV0dXJuInJldHVybiBjZWlsKHhPcmlnaW5hbCk7IjtjYXNlInJvdW5kX3ByZWZlcl9mbG9vciI6cmV0dXJuImlmIChmcmFjdCh4T3JpZ2luYWwpID09IDAuNSkgeyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmbG9vcih4T3JpZ2luYWwpOyAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgIHJldHVybiByb3VuZCh4T3JpZ2luYWwpOyAgICAgICAgICAgICAgICAgICB9IjtjYXNlInNpbXBsZSI6ZGVmYXVsdDppZihlPDExKXJldHVybiJpZiAoaXNEb3duU2FtcGxlKSAgICAgICAgICAgICAgICAgICAgIHsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZWlsKHhPcmlnaW5hbCk7ICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB4T3JpZ2luYWw7ICAgICAgICAgICAgICAgICAgICAgfSI7dGhyb3cgbmV3IEVycm9yKGBOZWFyZXN0IG1vZGUgJHt0fSBpcyBub3Qgc3VwcG9ydGVkYCl9fSkoKSsifSIsX3A9KHQsZSxyKT0+e2xldCBuPW5ldyBBcnJheShyKS5maWxsKDApLmNvbmNhdChuZXcgQXJyYXkocikuZmlsbCgxKSksYT10Lmxlbmd0aD09PTA/bjp0LnNsaWNlKCk7cmV0dXJuIGUubGVuZ3RoPjA/KGUuZm9yRWFjaCgoaSxzKT0+e25baV09YVtzXSxuW3Mrcl09YVtlLmxlbmd0aCtzXX0pLG4pOmF9LHlwPSh0LGUscixuKT0+e2xldCBhPVtdO2lmKHIubGVuZ3RoPjApaWYobi5sZW5ndGg+MCl7aWYodC5mb3JFYWNoKGk9PmEucHVzaChpKSksTWF0aC5tYXgoLi4ubik+dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJheGVzIGlzIG91dCBvZiBib3VuZCIpO24uZm9yRWFjaCgoaSxzKT0+YVtpXT1yW3NdKX1lbHNlIHIuZm9yRWFjaChpPT5hLnB1c2goaSkpO2Vsc2V7aWYoZS5sZW5ndGg9PT0wKXRocm93IG5ldyBFcnJvcigiUmVzaXplIHJlcXVpcmVzIGVpdGhlciBzY2FsZXMgb3Igc2l6ZXMuIik7YT10Lm1hcCgoaSxzKT0+TWF0aC5yb3VuZChpKmVbc10pKX1yZXR1cm4gYX0sd3A9KHQsZSxyKT0+e2xldCBuPSgoKT0+e3N3aXRjaChyLmtlZXBBc3BlY3RSYXRpb1BvbGljeSl7Y2FzZSJub3RfbGFyZ2VyIjpyZXR1cm4gci5heGVzLmxlbmd0aD4wP01hdGgubWluKC4uLnIuYXhlcy5tYXAoaT0+ZVtpXSksTnVtYmVyLk1BWF9WQUxVRSk6TWF0aC5taW4oLi4uZSxOdW1iZXIuTUFYX1ZBTFVFKTtjYXNlIm5vdF9zbWFsbGVyIjpyZXR1cm4gci5heGVzLmxlbmd0aD4wP01hdGgubWF4KC4uLnIuYXhlcy5tYXAoaT0+ZVtpXSksTnVtYmVyLk1JTl9WQUxVRSk6TWF0aC5tYXgoLi4uZSxOdW1iZXIuTUlOX1ZBTFVFKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgS2VlcCBhc3BlY3QgcmF0aW8gcG9saWN5ICR7ci5rZWVwQXNwZWN0UmF0aW9Qb2xpY3l9IGlzIG5vdCBzdXBwb3J0ZWRgKX19KSgpO2UuZmlsbCgxLDAsZS5sZW5ndGgpO2xldCBhPXQuc2xpY2UoKTtyZXR1cm4gci5heGVzLmxlbmd0aD4wPyhyLmF4ZXMuZm9yRWFjaChpPT5lW2ldPW4pLHIuYXhlcy5mb3JFYWNoKGk9PmFbaV09TWF0aC5yb3VuZCh0W2ldKmVbaV0pKSk6KGUuZmlsbChuLDAsZS5sZW5ndGgpLGEuZm9yRWFjaCgoaSxzKT0+YVtzXT1NYXRoLnJvdW5kKGkqZVtzXSkpKSxhfSx2cD0odCxlLHIsbixhKT0+YAogICAgZm4gY2FsY3VsYXRlT3JpZ2luYWxJbmRpY2VzRnJvbU91dHB1dEluZGljZXMob3V0cHV0X2luZGljZXM6ICR7dC50eXBlLmluZGljZXN9KSAtPiBhcnJheTwke3QudHlwZS52YWx1ZX0sICR7ci5sZW5ndGh9PiB7CiAgICAgIHZhciBvcmlnaW5hbF9pbmRpY2VzOiBhcnJheTwke3QudHlwZS52YWx1ZX0sICR7ci5sZW5ndGh9PjsKICAgICAgZm9yICh2YXIgaTp1MzIgPSAwOyBpIDwgJHtyLmxlbmd0aH07IGkrKykgewogICAgICAgIHZhciBvdXRwdXRfaW5kZXggPSAke3QuaW5kaWNlc0dldCgib3V0cHV0X2luZGljZXMiLCJpIil9OwogICAgICAgIHZhciBzY2FsZSA9ICR7eGUoInVuaWZvcm1zLnNjYWxlcyIsImkiLG4pfTsKICAgICAgICB2YXIgcm9pX2xvdyA9ICR7eGUoInVuaWZvcm1zLnJvaSIsImkiLGEpfTsKICAgICAgICB2YXIgcm9pX2hpID0gJHt4ZSgidW5pZm9ybXMucm9pIixgaSArICR7ZS5sZW5ndGh9YCxhKX07CiAgICAgICAgaWYgKHNjYWxlID09IDEuMCkgewogICAgICAgICAgb3JpZ2luYWxfaW5kaWNlc1tpXSA9ICR7dC50eXBlLnZhbHVlfShvdXRwdXRfaW5kZXgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgaW5wdXRfc2hhcGVfaSA9ICR7eGUoInVuaWZvcm1zLmlucHV0X3NoYXBlIiwiaSIsZS5sZW5ndGgpfTsKICAgICAgICAgIHZhciBvdXRwdXRfc2hhcGVfaSA9ICR7eGUoInVuaWZvcm1zLm91dHB1dF9zaGFwZSIsImkiLHIubGVuZ3RoKX07CiAgICAgICAgICBvcmlnaW5hbF9pbmRpY2VzW2ldID0gZ2V0T3JpZ2luYWxDb29yZGluYXRlRnJvbVJlc2l6ZWRDb29yZGluYXRlKG91dHB1dF9pbmRleCwgc2NhbGUsIG91dHB1dF9zaGFwZV9pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dF9zaGFwZV9pLCByb2lfbG93LCByb2lfaGkpOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gb3JpZ2luYWxfaW5kaWNlczsKICAgIH1gLGJwPSh0LGUscixuLGEsaSxzKT0+YAogICAgZm4gY2FsY3VsYXRlSW5wdXRJbmRpY2VzRnJvbU91dHB1dEluZGljZXMob3V0cHV0X2luZGljZXM6ICR7ZS50eXBlLmluZGljZXN9KSAtPiAke3QudHlwZS5pbmRpY2VzfSB7CiAgICAgIHZhciBpbnB1dF9pbmRpY2VzOiAke3QudHlwZS5pbmRpY2VzfTsKICAgICAgZm9yICh2YXIgaTp1MzIgPSAwOyBpIDwgJHtuLmxlbmd0aH07IGkrKykgewogICAgICAgIHZhciBvdXRwdXRfaW5kZXggPSAke2UuaW5kaWNlc0dldCgib3V0cHV0X2luZGljZXMiLCJpIil9OwogICAgICAgIHZhciBpbnB1dF9pbmRleDogdTMyOwogICAgICAgIHZhciBzY2FsZSA9ICR7eGUoInVuaWZvcm1zLnNjYWxlcyIsImkiLGEpfTsKICAgICAgICBpZiAoc2NhbGUgPT0gMS4wKSB7CiAgICAgICAgICBpbnB1dF9pbmRleCA9IG91dHB1dF9pbmRleDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHJvaV9sb3cgPSAke3hlKCJ1bmlmb3Jtcy5yb2kiLCJpIixpKX07CiAgICAgICAgICB2YXIgcm9pX2hpID0gJHt4ZSgidW5pZm9ybXMucm9pIixgaSArICR7ci5sZW5ndGh9YCxpKX07CiAgICAgICAgICB2YXIgaW5wdXRfc2hhcGVfaSA9ICR7eGUoInVuaWZvcm1zLmlucHV0X3NoYXBlIiwiaSIsci5sZW5ndGgpfTsKICAgICAgICAgIHZhciBvdXRwdXRfc2hhcGVfaSA9ICR7eGUoInVuaWZvcm1zLm91dHB1dF9zaGFwZSIsImkiLG4ubGVuZ3RoKX07CiAgICAgICAgICB2YXIgb3JpZ2luYWxfaWR4ID0gZ2V0T3JpZ2luYWxDb29yZGluYXRlRnJvbVJlc2l6ZWRDb29yZGluYXRlKG91dHB1dF9pbmRleCwgc2NhbGUsIG91dHB1dF9zaGFwZV9pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dF9zaGFwZV9pLCByb2lfbG93LCByb2lfaGkpOwogICAgICAgICAgaWYgKCEke3N9IHx8IChvcmlnaW5hbF9pZHggPj0gMCAmJiBvcmlnaW5hbF9pZHggPCAke2UudHlwZS52YWx1ZX0oaW5wdXRfc2hhcGVfaSkpKSB7CiAgICAgICAgICAgIGlmIChvcmlnaW5hbF9pZHggPCAwKSB7CiAgICAgICAgICAgICAgaW5wdXRfaW5kZXggPSAwOwogICAgICAgICAgICB9IGVsc2UgaWYgKG9yaWdpbmFsX2lkeCA+ICR7ZS50eXBlLnZhbHVlfShpbnB1dF9zaGFwZV9pIC0gMSkpIHsKICAgICAgICAgICAgICBpbnB1dF9pbmRleCA9IGlucHV0X3NoYXBlX2kgLSAxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGlucHV0X2luZGV4ID0gdTMyKGdldE5lYXJlc3RQaXhlbEZyb21PcmlnaW5hbChvcmlnaW5hbF9pZHgsIHNjYWxlIDwgMSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpbnB1dF9pbmRleCA9IHUzMihvcmlnaW5hbF9pZHgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAke3QuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIsImkiLCIgaW5wdXRfaW5kZXgiKX0KICAgICAgfQogICAgICByZXR1cm4gaW5wdXRfaW5kaWNlczsKICAgIH1gLCRwPSh0LGUpPT5gCiAgICBmbiBjaGVja0lucHV0SW5kaWNlcyhpbnB1dF9pbmRpY2VzOiAke3QudHlwZS5pbmRpY2VzfSkgLT4gYm9vbCB7CiAgICAgIGZvciAodmFyIGk6dTMyID0gMDsgaSA8ICR7ZS5sZW5ndGh9OyBpKyspIHsKICAgICAgICB2YXIgaW5wdXRfaW5kZXggPSAke3QuaW5kaWNlc0dldCgiaW5wdXRfaW5kaWNlcyIsImkiKX07CiAgICAgICAgaWYgKGlucHV0X2luZGV4IDwgMCB8fCBpbnB1dF9pbmRleCA+PSAke3hlKCJ1bmlmb3Jtcy5pbnB1dF9zaGFwZSIsImkiLGUubGVuZ3RoKX0pIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9YCxPcz0odCxlLHIsbik9PnQucmFuaz5uP2AKICAgICR7dC5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIixlLCJjaGFubmVsIil9OwogICAgJHt0LmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLHIsImJhdGNoIil9OwpgOiIiLHhwPSh0LGUscixuLGEpPT57bGV0W2kscyxvLGxdPXIubGVuZ3RoPT09Mj9bLTEsMCwxLC0xXTpbMCwyLDMsMV0sZD10LnR5cGUudmFsdWU7cmV0dXJuYAogICAgZm4gZ2V0SW5wdXRWYWx1ZShiYXRjaDogdTMyLCBjaGFubmVsOiB1MzIsIHJvdzogdTMyLCBjb2w6IHUzMikgLT4gJHtkfSB7CiAgICAgIHZhciBpbnB1dF9pbmRpY2VzOiAke3QudHlwZS5pbmRpY2VzfTsKICAgICAgJHt0LmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLHMsYG1heCgwLCBtaW4ocm93LCAke3Jbc119IC0gMSkpYCl9OwogICAgICAke3QuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIsbyxgbWF4KDAsIG1pbihjb2wsICR7cltvXX0gLSAxKSlgKX07CiAgICAgICR7T3ModCxsLGksMil9CiAgICAgIHJldHVybiAke3QuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9OwogICAgfQoKICAgIGZuIGJpbGluZWFySW50ZXJwb2xhdGlvbihvdXRwdXRfaW5kaWNlczogJHtlLnR5cGUuaW5kaWNlc30pIC0+ICR7ZH0gewogICAgICB2YXIgb3JpZ2luYWxJbmRpY2VzID0gY2FsY3VsYXRlT3JpZ2luYWxJbmRpY2VzRnJvbU91dHB1dEluZGljZXMob3V0cHV0X2luZGljZXMpOwogICAgICB2YXIgcm93OiR7ZH0gPSBvcmlnaW5hbEluZGljZXNbJHtzfV07CiAgICAgIHZhciBjb2w6JHtkfSA9IG9yaWdpbmFsSW5kaWNlc1ske299XTsKICAgICAgJHtuP2BpZiAocm93IDwgMCB8fCByb3cgPiAoJHtyW3NdfSAtIDEpIHx8IGNvbCA8IDAgfHwgY29sID4gKCR7cltvXX0gLSAxKSkgewogICAgICAgIHJldHVybiAke2F9OwogICAgICB9YDoiIn07CiAgICAgIHJvdyA9IG1heCgwLCBtaW4ocm93LCAke3Jbc119IC0gMSkpOwogICAgICBjb2wgPSBtYXgoMCwgbWluKGNvbCwgJHtyW29dfSAtIDEpKTsKICAgICAgdmFyIHJvdzE6IHUzMiA9IHUzMihyb3cpOwogICAgICB2YXIgY29sMTogdTMyID0gdTMyKGNvbCk7CiAgICAgIHZhciByb3cyOiB1MzIgPSB1MzIocm93ICsgMSk7CiAgICAgIHZhciBjb2wyOiB1MzIgPSB1MzIoY29sICsgMSk7CiAgICAgIHZhciBjaGFubmVsOiB1MzIgPSAke3IubGVuZ3RoPjI/YHUzMihvcmlnaW5hbEluZGljZXNbJHtsfV0pYDoiMCJ9OwogICAgICB2YXIgYmF0Y2g6IHUzMiA9ICAke3IubGVuZ3RoPjI/YHUzMihvcmlnaW5hbEluZGljZXNbJHtpfV0pYDoiMCJ9OwogICAgICB2YXIgeDExOiAke2R9ID0gZ2V0SW5wdXRWYWx1ZShiYXRjaCwgY2hhbm5lbCwgcm93MSwgY29sMSk7CiAgICAgIHZhciB4MTI6ICR7ZH0gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCByb3cxLCBjb2wyKTsKICAgICAgdmFyIHgyMTogJHtkfSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIHJvdzIsIGNvbDEpOwogICAgICB2YXIgeDIyOiAke2R9ID0gZ2V0SW5wdXRWYWx1ZShiYXRjaCwgY2hhbm5lbCwgcm93MiwgY29sMik7CiAgICAgIHZhciBkeDE6ICR7ZH0gPSBhYnMocm93IC0gJHtkfShyb3cxKSk7CiAgICAgIHZhciBkeDI6ICR7ZH0gPSBhYnMoJHtkfShyb3cyKSAtIHJvdyk7CiAgICAgIHZhciBkeTE6ICR7ZH0gPSBhYnMoY29sIC0gJHtkfShjb2wxKSk7CiAgICAgIHZhciBkeTI6ICR7ZH0gPSBhYnMoJHtkfShjb2wyKSAtIGNvbCk7CiAgICAgIGlmIChyb3cxID09IHJvdzIpIHsKICAgICAgICBkeDEgPSAwLjU7CiAgICAgICAgZHgyID0gMC41OwogICAgICB9CiAgICAgIGlmIChjb2wxID09IGNvbDIpIHsKICAgICAgICBkeTEgPSAwLjU7CiAgICAgICAgZHkyID0gMC41OwogICAgICB9CiAgICAgIHJldHVybiAoeDExICogZHgyICogZHkyICsgeDEyICogZHgyICogZHkxICsgeDIxICogZHgxICogZHkyICsgeDIyICogZHgxICogZHkxKTsKICAgIH1gfSxrcD0odCxlLHIsbixhLGkscyxvLGwsZCk9PntsZXQgYz1yLmxlbmd0aD09PTIsW3UsaF09Yz9bMCwxXTpbMiwzXSxmPXQudHlwZS52YWx1ZSxnPXk9PntsZXQgdz15PT09dT8icm93IjoiY29sIjtyZXR1cm5gCiAgICAgIGZuICR7d31DdWJpY0ludGVycG9sYXRpb24oaW5wdXRfaW5kaWNlczogJHt0LnR5cGUuaW5kaWNlc30sIG91dHB1dF9pbmRpY2VzOiAke2UudHlwZS5pbmRpY2VzfSkgLT4gJHtmfSB7CiAgICAgICAgdmFyIG91dHB1dF9pbmRleCA9ICR7ZS5pbmRpY2VzR2V0KCJvdXRwdXRfaW5kaWNlcyIseSl9OwogICAgICAgIHZhciBvcmlnaW5hbElkeDogJHtmfSA9IGdldE9yaWdpbmFsQ29vcmRpbmF0ZUZyb21SZXNpemVkQ29vcmRpbmF0ZShvdXRwdXRfaW5kZXgsICR7YVt5XX0sCiAgICAgICAgJHtuW3ldfSwgJHtyW3ldfSwgJHtpW3ldfSwgJHtpW3ldfSArICR7ci5sZW5ndGh9KTsKICAgICAgICB2YXIgZnJhY3RPcmlnaW5hbElkeDogJHtmfSA9IG9yaWdpbmFsSWR4IC0gZmxvb3Iob3JpZ2luYWxJZHgpOwogICAgICAgIHZhciBjb2VmcyA9IGdldEN1YmljSW50ZXJwb2xhdGlvbkNvZWZzKGZyYWN0T3JpZ2luYWxJZHgpOwoKICAgICAgICBpZiAoJHtvfSAmJiAob3JpZ2luYWxJZHggPCAwIHx8IG9yaWdpbmFsSWR4ID4gKCR7clt5XX0gLSAxKSkpIHsKICAgICAgICAgIHJldHVybiAke2x9OwogICAgICAgIH0KICAgICAgICB2YXIgZGF0YTogYXJyYXk8JHtmfSwgND4gPSBhcnJheTwke2Z9LCA0PigwLjAsIDAuMCwgMC4wLCAwLjApOwogICAgICAgIGZvciAodmFyIGk6IGkzMiA9IC0xOyBpIDwgMzsgaSsrKSB7CiAgICAgICAgICB2YXIgJHt3fTogJHtmfSA9IG9yaWdpbmFsSWR4ICsgJHtmfShpKTsKICAgICAgICAgIGlmICgke3d9IDwgMCB8fCAke3d9ID49ICR7clt5XX0pIHsKICAgICAgICAgICAgJHtkP2Bjb2Vmc1tpICsgMV0gPSAwLjA7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO2A6bz9gcmV0dXJuICR7bH07YDpgJHt3fSA9IG1heCgwLCBtaW4oJHt3fSwgJHtyW3ldfSAtIDEpKTtgfTsKICAgICAgICAgIH0KICAgICAgICB2YXIgaW5wdXRfaW5kaWNlc19jb3B5OiAke3QudHlwZS5pbmRpY2VzfSA9IGlucHV0X2luZGljZXM7CiAgICAgICAgICAke3QuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlc19jb3B5Iix5LGB1MzIoJHt3fSlgKX07CiAgICAgICAgICBkYXRhW2kgKyAxXSA9ICR7eT09PXU/dC5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXNfY29weSIpOiJyb3dDdWJpY0ludGVycG9sYXRpb24oaW5wdXRfaW5kaWNlc19jb3B5LCBvdXRwdXRfaW5kaWNlcykifTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGN1YmljSW50ZXJwb2xhdGlvbjFEKGRhdGEsIGNvZWZzKTsKICAgICAgfWB9O3JldHVybmAKICAgICR7Zyh1KX07CiAgICAke2coaCl9OwogIGZuIGdldEN1YmljSW50ZXJwb2xhdGlvbkNvZWZzKHM6ICR7Zn0pIC0+IGFycmF5PCR7Zn0sIDQ+IHsKICAgIHZhciBhYnNTID0gYWJzKHMpOwogICAgdmFyIGNvZWZmczogYXJyYXk8JHtmfSwgND4gPSBhcnJheTwke2Z9LCA0PigwLjAsIDAuMCwgMC4wLCAwLjApOwogICAgdmFyIG9uZU1pbnVzQWJzUzogJHtmfSA9IDEuMCAtIGFic1M7CiAgICB2YXIgdHdvTWludXNBYnNTOiAke2Z9ID0gMi4wIC0gYWJzUzsKICAgIHZhciBvbmVQbHVzQWJzUzogJHtmfSA9IDEuMCArIGFic1M7CiAgICBjb2VmZnNbMF0gPSAoKCR7c30gKiBvbmVQbHVzQWJzUyAtIDUgKiAke3N9KSAqIG9uZVBsdXNBYnNTICsgOCAqICR7c30pICogb25lUGx1c0Fic1MgLSA0ICogJHtzfTsKICAgIGNvZWZmc1sxXSA9ICgoJHtzfSArIDIpICogYWJzUyAtICgke3N9ICsgMykpICogYWJzUyAqIGFic1MgKyAxOwogICAgY29lZmZzWzJdID0gKCgke3N9ICsgMikgKiBvbmVNaW51c0Fic1MgLSAoJHtzfSArIDMpKSAqIG9uZU1pbnVzQWJzUyAqIG9uZU1pbnVzQWJzUyArIDE7CiAgICBjb2VmZnNbM10gPSAoKCR7c30gKiB0d29NaW51c0Fic1MgLSA1ICogJHtzfSkgKiB0d29NaW51c0Fic1MgKyA4ICogJHtzfSkgKiB0d29NaW51c0Fic1MgLSA0ICogJHtzfTsKICAgIHJldHVybiBjb2VmZnM7CiAgfQoKICBmbiBjdWJpY0ludGVycG9sYXRpb24xRCh4OiBhcnJheTwke2Z9LCA0PiwgY29lZnM6IGFycmF5PCR7Zn0sIDQ+KSAtPiAke2Z9IHsKICAgIHZhciBjb2Vmc1N1bTogJHtmfSA9IGNvZWZzWzBdICsgY29lZnNbMV0gKyBjb2Vmc1syXSArIGNvZWZzWzNdOwogICAgcmV0dXJuICh4WzBdICogY29lZnNbMF0gKyB4WzFdICogY29lZnNbMV0rIHhbMl0gKiBjb2Vmc1syXSsgeFszXSAqIGNvZWZzWzNdKSAvIGNvZWZzU3VtOwogIH0KCiAgZm4gYmljdWJpY0ludGVycG9sYXRpb24ob3V0cHV0X2luZGljZXM6ICR7ZS50eXBlLmluZGljZXN9KSAtPiAke2Z9IHsKICAgIHZhciBpbnB1dF9pbmRpY2VzOiAke3QudHlwZS5pbmRpY2VzfSA9IG91dHB1dF9pbmRpY2VzOwogICAgcmV0dXJuIGNvbEN1YmljSW50ZXJwb2xhdGlvbihpbnB1dF9pbmRpY2VzLCBvdXRwdXRfaW5kaWNlcyk7CiAgfQogICAgYH0sU3A9KHQsZSxyLG4sYSk9PntsZXRbaSxzLG8sbCxkXT1yLmxlbmd0aD09PTM/Wy0xLDAsMSwyLC0xXTpbMCwyLDMsNCwxXSxjPXQudHlwZS52YWx1ZTtyZXR1cm5gCiAgICBmbiBnZXRJbnB1dFZhbHVlKGJhdGNoOiB1MzIsIGNoYW5uZWw6IHUzMiwgZGVwdGg6dTMyLCBoZWlnaHQ6IHUzMiwgd2lkdGg6IHUzMikgLT4gJHtjfSB7CiAgICAgIHZhciBpbnB1dF9pbmRpY2VzOiAke3QudHlwZS5pbmRpY2VzfTsKICAgICAgJHt0LmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLHMsYG1heCgwLCBtaW4oZGVwdGgsICR7cltzXX0gLSAxKSlgKX07CiAgICAgICR7dC5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIixvLGBtYXgoMCwgbWluKGhlaWdodCwgJHtyW29dfSAtIDEpKWApfTsKICAgICAgJHt0LmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLGwsYG1heCgwLCBtaW4od2lkdGgsICR7cltsXX0gLSAxKSlgKX07CiAgICAgICR7T3ModCxkLGksMyl9CiAgICAgIHJldHVybiAke3QuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9OwogICAgfQoKICAgIGZuIHRyaWxpbmVhckludGVycG9sYXRpb24ob3V0cHV0X2luZGljZXM6ICR7ZS50eXBlLmluZGljZXN9KSAtPiAke2N9IHsKICAgICAgdmFyIG9yaWdpbmFsSW5kaWNlcyA9IGNhbGN1bGF0ZU9yaWdpbmFsSW5kaWNlc0Zyb21PdXRwdXRJbmRpY2VzKG91dHB1dF9pbmRpY2VzKTsKICAgICAgdmFyIGRlcHRoOiR7Y30gPSBvcmlnaW5hbEluZGljZXNbJHtzfV07CiAgICAgIHZhciBoZWlnaHQ6JHtjfSA9IG9yaWdpbmFsSW5kaWNlc1ske299XTsKICAgICAgdmFyIHdpZHRoOiR7Y30gPSBvcmlnaW5hbEluZGljZXNbJHtsfV07CiAgICAgICR7bj9gaWYgKGRlcHRoIDwgMCB8fCBkZXB0aCA+ICgke3Jbc119IC0gMSkgfHwgaGVpZ2h0IDwgMCB8fCBoZWlnaHQgPiAoJHtyW29dfSAtIDEpIHx8IHdpZHRoIDwgMCB8fCAod2lkdGggPiAke3JbbF19IC0gMSkpIHsKICAgICAgcmV0dXJuICR7YX07CiAgICAgICAgfWA6IiJ9OwoKICAgIGRlcHRoID0gbWF4KDAsIG1pbihkZXB0aCwgJHtyW3NdfSAtIDEpKTsKICAgICAgaGVpZ2h0ID0gbWF4KDAsIG1pbihoZWlnaHQsICR7cltvXX0gLSAxKSk7CiAgICAgIHdpZHRoID0gbWF4KDAsIG1pbih3aWR0aCwgJHtyW2xdfSAtIDEpKTsKICAgICAgdmFyIGRlcHRoMTogdTMyID0gdTMyKGRlcHRoKTsKICAgICAgdmFyIGhlaWdodDE6IHUzMiA9IHUzMihoZWlnaHQpOwogICAgICB2YXIgd2lkdGgxOiB1MzIgPSB1MzIod2lkdGgpOwogICAgICB2YXIgZGVwdGgyOiB1MzIgPSB1MzIoZGVwdGggKyAxKTsKICAgICAgdmFyIGhlaWdodDI6IHUzMiA9IHUzMihoZWlnaHQgKyAxKTsKICAgICAgdmFyIHdpZHRoMjogdTMyID0gdTMyKHdpZHRoICsgMSk7CiAgICAgIHZhciBjaGFubmVsOiB1MzIgPSAke3IubGVuZ3RoPjM/YHUzMihvcmlnaW5hbEluZGljZXNbJHtkfV0pYDoiMCJ9OwogICAgICB2YXIgYmF0Y2g6IHUzMiA9ICAke3IubGVuZ3RoPjM/YHUzMihvcmlnaW5hbEluZGljZXNbJHtpfV0pYDoiMCJ9OwoKICAgICAgdmFyIHgxMTE6ICR7Y30gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCBkZXB0aDEsIGhlaWdodDEsIHdpZHRoMSk7CiAgICAgIHZhciB4MTEyOiAke2N9ID0gZ2V0SW5wdXRWYWx1ZShiYXRjaCwgY2hhbm5lbCwgZGVwdGgxLCBoZWlnaHQxLCB3aWR0aDIpOwogICAgICB2YXIgeDEyMTogJHtjfSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIGRlcHRoMSwgaGVpZ2h0Miwgd2lkdGgxKTsKICAgICAgdmFyIHgxMjI6ICR7Y30gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCBkZXB0aDEsIGhlaWdodDIsIHdpZHRoMik7CiAgICAgIHZhciB4MjExOiAke2N9ID0gZ2V0SW5wdXRWYWx1ZShiYXRjaCwgY2hhbm5lbCwgZGVwdGgyLCBoZWlnaHQxLCB3aWR0aDEpOwogICAgICB2YXIgeDIxMjogJHtjfSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIGRlcHRoMiwgaGVpZ2h0MSwgd2lkdGgyKTsKICAgICAgdmFyIHgyMjE6ICR7Y30gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCBkZXB0aDIsIGhlaWdodDIsIHdpZHRoMSk7CiAgICAgIHZhciB4MjIyOiAke2N9ID0gZ2V0SW5wdXRWYWx1ZShiYXRjaCwgY2hhbm5lbCwgZGVwdGgyLCBoZWlnaHQyLCB3aWR0aDIpOwogICAgICB2YXIgZHgxOiAke2N9ID0gYWJzKGRlcHRoIC0gJHtjfShkZXB0aDEpKTsKICAgICAgdmFyIGR4MjogJHtjfSA9IGFicygke2N9KGRlcHRoMikgLSBkZXB0aCk7CiAgICAgIHZhciBkeTE6ICR7Y30gPSBhYnMoaGVpZ2h0IC0gJHtjfShoZWlnaHQxKSk7CiAgICAgIHZhciBkeTI6ICR7Y30gPSBhYnMoJHtjfShoZWlnaHQyKSAtIGhlaWdodCk7CiAgICAgIHZhciBkejE6ICR7Y30gPSBhYnMod2lkdGggLSAke2N9KHdpZHRoMSkpOwogICAgICB2YXIgZHoyOiAke2N9ID0gYWJzKCR7Y30od2lkdGgyKSAtIHdpZHRoKTsKICAgICAgaWYgKGRlcHRoMSA9PSBkZXB0aDIpIHsKICAgICAgICBkeDEgPSAwLjU7CiAgICAgICAgZHgyID0gMC41OwogICAgICB9CiAgICAgIGlmIChoZWlnaHQxID09IGhlaWdodDIpIHsKICAgICAgICBkeTEgPSAwLjU7CiAgICAgICAgZHkyID0gMC41OwogICAgICB9CiAgICAgIGlmICh3aWR0aDEgPT0gd2lkdGgyKSB7CiAgICAgICAgZHoxID0gMC41OwogICAgICAgIGR6MiA9IDAuNTsKICAgICAgfQogICAgICByZXR1cm4gKHgxMTEgKiBkeDIgKiBkeTIgKiBkejIgKyB4MTEyICogZHgyICogZHkyICogZHoxICsgeDEyMSAqIGR4MiAqIGR5MSAqZHoyICsgeDEyMiAqIGR4MiAqIGR5MSAqIGR6MSArCiAgICAgICAgICAgICAgeDIxMSAqIGR4MSAqIGR5MiAqIGR6MiArIHgyMTIgKiBkeDEgKiBkeTIgKiBkejEgKyB4MjIxICogZHgxICogZHkxICpkejIgKyB4MjIyICogZHgxICogZHkxICogZHoxKTsKICAgIH1gfSxFcD0odCxlLHIsbixhLGkpPT57bGV0IHM9dC5kaW1zLG89X3AoaSxlLmF4ZXMscy5sZW5ndGgpLGw9eXAocyxuLGEsZS5heGVzKSxkPW4uc2xpY2UoKTtuLmxlbmd0aD09PTAmJihkPXMubWFwKChrLEUpPT5rPT09MD8xOmxbRV0vayksZS5rZWVwQXNwZWN0UmF0aW9Qb2xpY3khPT0ic3RyZXRjaCImJihsPXdwKHMsZCxlKSkpO2xldCBjPXZlKCJvdXRwdXQiLHQuZGF0YVR5cGUsbC5sZW5ndGgpLHU9SigiaW5wdXQiLHQuZGF0YVR5cGUscy5sZW5ndGgpLGg9ZWUuc2l6ZShsKSxmPXMubGVuZ3RoPT09bC5sZW5ndGgmJnMuZXZlcnkoKGssRSk9Pms9PT1sW0VdKSxnPWUuY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGU9PT0idGZfY3JvcF9hbmRfcmVzaXplIix5PWUuZXh0cmFwb2xhdGlvblZhbHVlLHc9dS50eXBlLnZhbHVlLHY9az0+YAogICAgICAke2Y/IiI6YAogICAgICAke21wKGUuY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGUsdyl9OwogICAgICAkeygoKT0+e3N3aXRjaChlLm1vZGUpe2Nhc2UibmVhcmVzdCI6cmV0dXJuYAogICAgICAgICAgICAgICR7JHAodSxzKX07CiAgICAgICAgICAgICAgJHtncChlLm5lYXJlc3RNb2RlLHIsdyl9OwogICAgICAgICAgICAgICR7YnAodSxjLHMsbCxkLmxlbmd0aCxvLmxlbmd0aCxnKX07CiAgICAgICAgICAgICAgYDtjYXNlImxpbmVhciI6cmV0dXJuYAogICAgICAgICAgICAgICR7dnAoYyxzLGwsZC5sZW5ndGgsby5sZW5ndGgpfTsKICAgICAgICAgICAgICAkeygoKT0+e2lmKHMubGVuZ3RoPT09Mnx8cy5sZW5ndGg9PT00KXJldHVybmAke3hwKHUsYyxzLGcseSl9YDtpZihzLmxlbmd0aD09PTN8fHMubGVuZ3RoPT09NSlyZXR1cm5gJHtTcCh1LGMscyxnLHkpfWA7dGhyb3cgRXJyb3IoIkxpbmVhciBtb2RlIG9ubHkgc3VwcG9ydHMgaW5wdXQgZGltcyAyLCAzLCA0IGFuZCA1IGFyZSBzdXBwb3J0ZWQgaW4gbGluZWFyIG1vZGUuIil9KSgpfTsKICAgICAgICAgICAgYDtjYXNlImN1YmljIjpyZXR1cm5gCiAgICAgICAgICAgICR7KCgpPT57aWYocy5sZW5ndGg9PT0yfHxzLmxlbmd0aD09PTQpcmV0dXJuYCR7a3AodSxjLHMsbCxkLG8sZS5jdWJpY0NvZWZmQSxnLGUuZXh0cmFwb2xhdGlvblZhbHVlLGUuZXhjbHVkZU91dHNpZGUpfWA7dGhyb3cgRXJyb3IoIkN1YmljIG1vZGUgb25seSBzdXBwb3J0cyBpbnB1dCBkaW1zIDIgYW5kIDQgYXJlIHN1cHBvcnRlZCBpbiBsaW5lYXIgbW9kZS4iKX0pKCl9OwogICAgICAgICAgICBgO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIkludmFsaWQgcmVzaXplIG1vZGUiKX19KSgpfTsKICAgICAgYH0KICAgICAgJHtrLnJlZ2lzdGVyVW5pZm9ybSgib3V0cHV0X3NpemUiLCJ1MzIiKS5yZWdpc3RlclVuaWZvcm0oInNjYWxlcyIsImYzMiIsZC5sZW5ndGgpLnJlZ2lzdGVyVW5pZm9ybSgicm9pIiwiZjMyIixvLmxlbmd0aCkuZGVjbGFyZVZhcmlhYmxlcyh1LGMpfQogICAgICAke2subWFpblN0YXJ0KCl9CiAgICAgICAgJHtrLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dF9zaXplIil9CiAgICAgICAgJHtmPyJvdXRwdXRbZ2xvYmFsX2lkeF0gPSBpbnB1dFtnbG9iYWxfaWR4XTsiOmAKICAgICAgICBsZXQgb3V0cHV0X2luZGljZXMgPSAke2Mub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9OwogICAgICAgIHZhciBpbnB1dF9pbmRpY2VzOiAke3UudHlwZS5pbmRpY2VzfTsKICAgICAgICAkeygoKT0+e3N3aXRjaChlLm1vZGUpe2Nhc2UibmVhcmVzdCI6cmV0dXJuYGlucHV0X2luZGljZXMgPSBjYWxjdWxhdGVJbnB1dEluZGljZXNGcm9tT3V0cHV0SW5kaWNlcyhvdXRwdXRfaW5kaWNlcyk7CiAgICAgICAgICAgICAgICBpZiAoY2hlY2tJbnB1dEluZGljZXMoaW5wdXRfaW5kaWNlcykpIHsKICAgICAgICAgICAgICAgICAgb3V0cHV0W2dsb2JhbF9pZHhdID0gJHt1LmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIG91dHB1dFtnbG9iYWxfaWR4XSA9ICR7ZS5leHRyYXBvbGF0aW9uVmFsdWV9OwogICAgICAgICAgICAgICAgfWA7Y2FzZSJsaW5lYXIiOnJldHVybmBvdXRwdXRbZ2xvYmFsX2lkeF0gPSAke3MubGVuZ3RoPT09Mnx8cy5sZW5ndGg9PT00PyJiaWxpbmVhckludGVycG9sYXRpb24iOiJ0cmlsaW5lYXJJbnRlcnBvbGF0aW9uIn0ob3V0cHV0X2luZGljZXMpO2A7Y2FzZSJjdWJpYyI6cmV0dXJuIm91dHB1dFtnbG9iYWxfaWR4XSA9IGJpY3ViaWNJbnRlcnBvbGF0aW9uKG91dHB1dF9pbmRpY2VzKTsiO2RlZmF1bHQ6dGhyb3cgRXJyb3IoYFVuc3VwcG9ydGVkIHJlc2l6ZSBtb2RlOiAke2UubW9kZX1gKX19KSgpfTsKYH0KICAgICAgfWA7cmV0dXJue25hbWU6IlJlc2l6ZSIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7ZS5jYWNoZUtleX18JHtyfXwke2QubGVuZ3RoPjA/ZDoiIn18JHthLmxlbmd0aD4wP2E6IiJ9fCR7by5sZW5ndGg+MD9vOiIifXwke2Z9fCR7c31gLGlucHV0RGVwZW5kZW5jaWVzOlsicmFuayJdfSxnZXRTaGFkZXJTb3VyY2U6dixnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmwsZGF0YVR5cGU6dC5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGgvNjQpfSxwcm9ncmFtVW5pZm9ybXM6W3t0eXBlOiJ1aW50MzIiLGRhdGE6aH0se3R5cGU6ImZsb2F0MzIiLGRhdGE6ZH0se3R5cGU6ImZsb2F0MzIiLGRhdGE6b30sLi4uaWUocyksLi4uaWUobCldfSl9fSxDcD10PT57bGV0IGU9dC5jdXN0b21EYXRhQnVmZmVyO3JldHVybiBuZXcgVWludDMyQXJyYXkoZSxlLmJ5dGVPZmZzZXQsMSlbMF19LElwPSh0LGUpPT57bGV0IHI9W10sbj1bXSxhPVtdLGk9Q3AodCk7aWYoZS5hbnRpYWxpYXMhPT0wKXRocm93IEVycm9yKCJPbmx5IGRlZmF1bHQgdmFsdWUgKDApIGZvciBBbnRpYWxpYXMgYXR0cmlidXRlIGlzIHN1cHBvcnRlZCIpO2ZwKHQuaW5wdXRzLGUsaSxyLG4sYSksdC5jb21wdXRlKEVwKHQuaW5wdXRzWzBdLGUsaSxyLG4sYSkse2lucHV0czpbMF19KX0sQXA9dD0+e2xldCBlPXQuYW50aWFsaWFzLHI9dC5heGVzLG49dC5jb29yZGluYXRlVHJhbnNmb3JtTW9kZSxhPXQuY3ViaWNDb2VmZkEsaT10LmV4Y2x1ZGVPdXRzaWRlIT09MCxzPXQuZXh0cmFwb2xhdGlvblZhbHVlLG89dC5rZWVwQXNwZWN0UmF0aW9Qb2xpY3ksbD10Lm1vZGUsZD10Lm5lYXJlc3RNb2RlPT09IiI/InNpbXBsZSI6dC5uZWFyZXN0TW9kZTtyZXR1cm4gcWUoe2FudGlhbGlhczplLGF4ZXM6cixjb29yZGluYXRlVHJhbnNmb3JtTW9kZTpuLGN1YmljQ29lZmZBOmEsZXhjbHVkZU91dHNpZGU6aSxleHRyYXBvbGF0aW9uVmFsdWU6cyxrZWVwQXNwZWN0UmF0aW9Qb2xpY3k6byxtb2RlOmwsbmVhcmVzdE1vZGU6ZH0pfX0pLFRwLE9wLE1wLHpwLFRfPVEoKCk9PntZZSgpLEllKCksaXQoKSxDZSgpLFRwPXQ9PntpZighdHx8dC5sZW5ndGg8Myl0aHJvdyBuZXcgRXJyb3IoImxheWVyTm9ybSByZXF1aXJlcyBhdCBsZWFzdCAzIGlucHV0cy4iKTtsZXQgZT10WzBdLHI9dFsxXSxuPXRbMl07aWYoZS5kYXRhVHlwZSE9PXIuZGF0YVR5cGV8fGUuZGF0YVR5cGUhPT1uLmRhdGFUeXBlKXRocm93IG5ldyBFcnJvcigiQWxsIGlucHV0cyBtdXN0IGhhdmUgdGhlIHNhbWUgZGF0YSB0eXBlIik7aWYoZS5kaW1zLmxlbmd0aCE9PTMmJmUuZGltcy5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcigiSW5wdXQgbXVzdCBiZSAyRCBvciAzRCIpO2lmKHIuZGltcy5sZW5ndGghPT0zJiZyLmRpbXMubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoIlNraXAgbXVzdCBiZSAyRCBvciAzRCIpO2xldCBhPWUuZGltc1tlLmRpbXMubGVuZ3RoLTFdLGk9ZS5kaW1zW2UuZGltcy5sZW5ndGgtMl07aWYoci5kaW1zW3IuZGltcy5sZW5ndGgtMV0hPT1hKXRocm93IG5ldyBFcnJvcigiU2tpcCBtdXN0IGhhdmUgdGhlIHNhbWUgaGlkZGVuIHNpemUgYXMgaW5wdXQiKTtpZihyLmRpbXNbci5kaW1zLmxlbmd0aC0yXSE9PWkpdGhyb3cgbmV3IEVycm9yKCJTa2lwIG11c3QgaGF2ZSB0aGUgc2FtZSBzZXF1ZW5jZSBsZW5ndGggYXMgaW5wdXQiKTtpZihuLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIkdhbW1hIG11c3QgYmUgMUQiKTtpZihuLmRpbXNbbi5kaW1zLmxlbmd0aC0xXSE9PWEpdGhyb3cgbmV3IEVycm9yKCJHYW1tYSBtdXN0IGhhdmUgdGhlIHNhbWUgaGlkZGVuIHNpemUgYXMgaW5wdXQiKTtpZih0Lmxlbmd0aD4zKXtsZXQgcz10WzNdO2lmKHMuZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiQmV0YSBtdXN0IGJlIDFEIik7aWYocy5kaW1zW3MuZGltcy5sZW5ndGgtMV0hPT1hKXRocm93IG5ldyBFcnJvcigiQmV0YSBtdXN0IGhhdmUgdGhlIHNhbWUgaGlkZGVuIHNpemUgYXMgaW5wdXQiKX1pZih0Lmxlbmd0aD40KXtsZXQgcz10WzRdO2lmKHMuZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiQmlhcyBtdXN0IGJlIDFEIik7aWYocy5kaW1zW3MuZGltcy5sZW5ndGgtMV0hPT1hKXRocm93IG5ldyBFcnJvcigiQmlhcyBtdXN0IGhhdmUgdGhlIHNhbWUgaGlkZGVuIHNpemUgYXMgaW5wdXQiKX19LE9wPSh0LGUscixuKT0+e2xldCBhPXRbMF0uZGltcyxpPWVlLnNpemUoYSkscz1hLG89aSxsPWEuc2xpY2UoLTEpWzBdLGQ9bj9hLnNsaWNlKDAsLTEpLmNvbmNhdCgxKTpbXSxjPXQubGVuZ3RoPjMsdT10Lmxlbmd0aD40LGg9biYmcj4xLGY9biYmcj4yLGc9cj4zLHk9dnQobCksdz1bSigieCIsdFswXS5kYXRhVHlwZSx0WzBdLmRpbXMseSksSigic2tpcCIsdFsxXS5kYXRhVHlwZSx0WzFdLmRpbXMseSksSigiZ2FtbWEiLHRbMl0uZGF0YVR5cGUsdFsyXS5kaW1zLHkpXTtjJiZ3LnB1c2goSigiYmV0YSIsdFszXS5kYXRhVHlwZSx0WzNdLmRpbXMseSkpLHUmJncucHVzaChKKCJiaWFzIix0WzRdLmRhdGFUeXBlLHRbNF0uZGltcyx5KSksdy5wdXNoKHZlKCJvdXRwdXQiLHRbMF0uZGF0YVR5cGUscyx5KSksaCYmdy5wdXNoKHZlKCJtZWFuT3V0cHV0IiwxLGQpKSxmJiZ3LnB1c2godmUoImludlN0ZE91dHB1dCIsMSxkKSksZyYmdy5wdXNoKHZlKCJpbnB1dFNraXBCaWFzU3VtIix0WzBdLmRhdGFUeXBlLHMseSkpO2xldCB2PUl0KHRbMF0uZGF0YVR5cGUpLGs9eD0+YAogICAgICBjb25zdCBoaWRkZW5TaXplOiBmMzIgPSAke2x9OwogICAgICBjb25zdCBoaWRkZW5TaXplVmVjdG9yaXplZDogdTMyID0gJHtsL3l9OwogICAgICBjb25zdCBlcHNpbG9uOiBmMzIgPSAke2UuZXBzaWxvbn07CgogICAgICAke3guZGVjbGFyZVZhcmlhYmxlcyguLi53KX0KCiAgICAgICR7eC5tYWluU3RhcnQoKX0KICAgICAgICAke3guZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcyhvL2wpfQogICAgICAgIGxldCBvZmZzZXQgPSBnbG9iYWxfaWR4ICogaGlkZGVuU2l6ZVZlY3Rvcml6ZWQ7CiAgICAgICAgdmFyIHN1bSA9ICR7YnQoImYzMiIseSl9OwogICAgICAgIHZhciBzcXVhcmVTdW0gPSAke2J0KCJmMzIiLHkpfTsKICAgICAgICBmb3IgKHZhciBpOiB1MzIgPSAwOyBpIDwgaGlkZGVuU2l6ZVZlY3Rvcml6ZWQ7IGkrKykgewogICAgICAgICAgbGV0IHNraXBWYWx1ZSA9IHNraXBbb2Zmc2V0ICsgaV07CiAgICAgICAgICBsZXQgYmlhc1ZhbHVlID0gJHt1PyJiaWFzW2ldIjoiMC4wIn07CiAgICAgICAgICBsZXQgaW5wdXRWYWx1ZSA9IHhbb2Zmc2V0ICsgaV07CiAgICAgICAgICBsZXQgdmFsdWUgPSBpbnB1dFZhbHVlICsgc2tpcFZhbHVlICsgYmlhc1ZhbHVlOwogICAgICAgICAgJHtnPyJpbnB1dFNraXBCaWFzU3VtW29mZnNldCArIGldID0gdmFsdWU7IjoiIn0KICAgICAgICAgIG91dHB1dFtvZmZzZXQgKyBpXSA9IHZhbHVlOwogICAgICAgICAgbGV0IGYzMlZhbHVlID0gJHthcih2LHksInZhbHVlIil9OwogICAgICAgICAgc3VtICs9IGYzMlZhbHVlOwogICAgICAgICAgc3F1YXJlU3VtICs9IGYzMlZhbHVlICogZjMyVmFsdWU7CiAgICAgICAgfQogICAgICAgIGxldCBtZWFuID0gJHtLdCgic3VtIix5KX0gLyBoaWRkZW5TaXplOwogICAgICAgIGxldCBpbnZTdGREZXYgPSBpbnZlcnNlU3FydCgke0t0KCJzcXVhcmVTdW0iLHkpfSAvIGhpZGRlblNpemUgLSBtZWFuICogbWVhbiArIGVwc2lsb24pOwogICAgICAgICR7aD8ibWVhbk91dHB1dFtnbG9iYWxfaWR4XSA9IG1lYW47IjoiIn0KICAgICAgICAke2Y/ImludlN0ZE91dHB1dFtnbG9iYWxfaWR4XSA9IGludlN0ZERldjsiOiIifQogICAgICAgIGZvciAodmFyIGk6IHUzMiA9IDA7IGkgPCBoaWRkZW5TaXplVmVjdG9yaXplZDsgaSsrKSB7CiAgICAgICAgICBvdXRwdXRbb2Zmc2V0ICsgaV0gPSAob3V0cHV0W29mZnNldCArIGldIC0gJHt2fShtZWFuKSkgKiAke3Z9KGludlN0ZERldikgKiBnYW1tYVtpXQogICAgICAgICAgICsgJHtjPyJiZXRhW2ldIjoiMC4wIn07CiAgICAgICAgfQogICAgICB9YCxFPVt7ZGltczpzLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9XTtyZXR1cm4gcj4xJiZFLnB1c2goe2RpbXM6ZCxkYXRhVHlwZToxfSkscj4yJiZFLnB1c2goe2RpbXM6ZCxkYXRhVHlwZToxfSkscj4zJiZFLnB1c2goe2RpbXM6YSxkYXRhVHlwZTp0WzBdLmRhdGFUeXBlfSkse25hbWU6IlNraXBMYXllck5vcm1hbGl6YXRpb24iLHNoYWRlckNhY2hlOntoaW50OmUuY2FjaGVLZXl9LGdldFNoYWRlclNvdXJjZTprLGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpFLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKG8vbC82NCl9fSl9fSxNcD0odCxlKT0+e1RwKHQuaW5wdXRzKTtsZXQgcj1bMF07dC5vdXRwdXRDb3VudD4xJiZyLnB1c2goLTMpLHQub3V0cHV0Q291bnQ+MiYmci5wdXNoKC0zKSx0Lm91dHB1dENvdW50PjMmJnIucHVzaCgzKSx0LmNvbXB1dGUoT3AodC5pbnB1dHMsZSx0Lm91dHB1dENvdW50LCExKSx7b3V0cHV0czpyfSl9LHpwPXQ9PntsZXQgZT10LmVwc2lsb247cmV0dXJuIHFlKHtlcHNpbG9uOmV9KX19KSxCcCxnbixScCxNcyxQcCxEcCxOcCxVcCxPXz1RKCgpPT57WWUoKSxJZSgpLGl0KCksQ2UoKSxCcD0odCxlKT0+e2lmKCF0fHx0Lmxlbmd0aDwxKXRocm93IG5ldyBFcnJvcigidG9vIGZldyBpbnB1dHMiKTtpZihlLmF4ZXMubGVuZ3RoIT09MCl7aWYoZS5heGVzLmxlbmd0aCE9PWUuc3RhcnRzLmxlbmd0aHx8ZS5heGVzLmxlbmd0aCE9PWUuZW5kcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJheGVzLCBzdGFydHMgYW5kIGVuZHMgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aCIpfWVsc2UgaWYoZS5zdGFydHMubGVuZ3RoIT09ZS5lbmRzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoInN0YXJ0cyBhbmQgZW5kcyBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoIik7dC5zbGljZSgxKS5mb3JFYWNoKChyLG4pPT57aWYodFtuKzFdLmRhdGFUeXBlIT09NiYmdFtuKzFdLmRhdGFUeXBlIT09Nyl0aHJvdyBuZXcgRXJyb3IoYElucHV0ICR7bn0gbXVzdCBiZSBhbiBhcnJheSBvZiBpbnQzMiBvciBpbnQ2NGApfSl9LGduPSh0LGUpPT57bGV0IHI9W107aWYodC5sZW5ndGg+ZSlpZih0W2VdLmRhdGFUeXBlPT09Nyl0W2VdLmdldEJpZ0ludDY0QXJyYXkoKS5mb3JFYWNoKG49PnIucHVzaChOdW1iZXIobikpKTtlbHNlIGlmKHRbZV0uZGF0YVR5cGU9PT02KXRbZV0uZ2V0SW50MzJBcnJheSgpLmZvckVhY2gobj0+ci5wdXNoKE51bWJlcihuKSkpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCAke2V9IG11c3QgYmUgYW4gYXJyYXkgb2YgaW50MzIgb3IgaW50NjRgKTtyZXR1cm4gcn0sUnA9KHQsZSk9PntpZih0Lmxlbmd0aD4xKXtsZXQgcj1nbih0LDEpLG49Z24odCwyKSxhPWduKHQsMyk7cmV0dXJuIGEubGVuZ3RoPT09MCYmKGE9Wy4uLkFycmF5KHRbMF0uZGltcy5sZW5ndGgpLmtleXMoKV0pLHFlKHtzdGFydHM6cixlbmRzOm4sYXhlczphfSl9ZWxzZSByZXR1cm4gZX0sTXM9KHQsZSxyLG4sYSk9PntsZXQgaT10O3JldHVybiB0PDAmJihpKz1yW25bZV1dKSxhW2VdPDA/TWF0aC5tYXgoMCxNYXRoLm1pbihpLHJbbltlXV0tMSkpOk1hdGgubWF4KDAsTWF0aC5taW4oaSxyW25bZV1dKSl9LFBwPSh0LGUscik9PmBmbiBjYWxjdWxhdGVJbnB1dEluZGljZXMob3V0cHV0X2luZGljZXM6ICR7ZS50eXBlLmluZGljZXN9KSAtPiAke3QudHlwZS5pbmRpY2VzfSB7CiAgICAgICAgICB2YXIgaW5wdXRfaW5kaWNlczogJHt0LnR5cGUuaW5kaWNlc307CiAgICAgICAgICB2YXIgY2FycnkgPSAwdTsKICAgICAgICAgIGZvciAodmFyIGkgPSAke3IubGVuZ3RofTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgbGV0IGlucHV0X3NoYXBlX2kgPSAke3hlKCJ1bmlmb3Jtcy5pbnB1dF9zaGFwZSIsImkiLHIubGVuZ3RoKX07CiAgICAgICAgICAgIGxldCBzdGVwc19pID0gJHt4ZSgidW5pZm9ybXMuc3RlcHMiLCJpIixyLmxlbmd0aCl9OwogICAgICAgICAgICBsZXQgc2lnbnNfaSA9ICR7eGUoInVuaWZvcm1zLnNpZ25zIiwiaSIsci5sZW5ndGgpfTsKICAgICAgICAgICAgbGV0IHN0YXJ0c19pID0gJHt4ZSgidW5pZm9ybXMuc3RhcnRzIiwiaSIsci5sZW5ndGgpfTsKICAgICAgICAgICAgdmFyIG91dHB1dF9pbmRleCA9ICR7ZS5pbmRpY2VzR2V0KCJvdXRwdXRfaW5kaWNlcyIsImkiKX07CiAgICAgICAgICAgIHZhciBpbnB1dF9pbmRleCA9IG91dHB1dF9pbmRleCAqIHN0ZXBzX2kgKyBzdGFydHNfaSArIGNhcnJ5OwogICAgICAgICAgICBjYXJyeSA9IGlucHV0X2luZGV4IC8gaW5wdXRfc2hhcGVfaTsKICAgICAgICAgICAgaW5wdXRfaW5kZXggPSBpbnB1dF9pbmRleCAlIGlucHV0X3NoYXBlX2k7CiAgICAgICAgICAgIGlmIChzaWduc19pIDwgMCkgewogICAgICAgICAgICAgIGlucHV0X2luZGV4ID0gaW5wdXRfc2hhcGVfaSAtIGlucHV0X2luZGV4IC0gMXUgKyBzdGFydHNfaTsKICAgICAgICAgICAgfQogICAgICAgICAgICAke3QuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIsImkiLCJpbnB1dF9pbmRleCIpfTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBpbnB1dF9pbmRpY2VzOwogICAgICB9YCxEcD0odCxlKT0+e2xldCByPXRbMF0uZGltcyxuPWVlLnNpemUociksYT1lLmF4ZXMubGVuZ3RoPjA/ZWUubm9ybWFsaXplQXhlcyhlLmF4ZXMsci5sZW5ndGgpOlsuLi5BcnJheShyLmxlbmd0aCkua2V5cygpXSxpPWduKHQsNCk7aS5mb3JFYWNoKHY9PnYhPT0wfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoInN0ZXAgY2Fubm90IGJlIDAiKX0pKSxpLmxlbmd0aD09PTAmJihpPUFycmF5KGEubGVuZ3RoKS5maWxsKDEpKTtsZXQgcz1lLnN0YXJ0cy5tYXAoKHYsayk9Pk1zKHYsayxyLGEsaSkpLG89ZS5lbmRzLm1hcCgodixrKT0+TXModixrLHIsYSxpKSk7aWYoYS5sZW5ndGghPT1zLmxlbmd0aHx8YS5sZW5ndGghPT1vLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoInN0YXJ0LCBlbmRzIGFuZCBheGVzIHNob3VsZCBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBlbGVtZW50cyIpO2lmKGEubGVuZ3RoIT09ci5sZW5ndGgpZm9yKGxldCB2PTA7djxyLmxlbmd0aDsrK3YpYS5pbmNsdWRlcyh2KXx8KHMuc3BsaWNlKHYsMCwwKSxvLnNwbGljZSh2LDAsclt2XSksaS5zcGxpY2UodiwwLDEpKTtsZXQgbD1pLm1hcCh2PT5NYXRoLnNpZ24odikpO2kuZm9yRWFjaCgodixrLEUpPT57aWYodjwwKXtsZXQgeD0ob1trXS1zW2tdKS92LEk9c1trXSxUPUkreCppW2tdO3Nba109VCxvW2tdPUksRVtrXT0tdn19KTtsZXQgZD1yLnNsaWNlKDApO2EuZm9yRWFjaCgodixrKT0+e2Rbdl09TWF0aC5jZWlsKChvW3ZdLXNbdl0pL2lbdl0pfSk7bGV0IGM9e2RpbXM6ZCxkYXRhVHlwZTp0WzBdLmRhdGFUeXBlfSx1PXZlKCJvdXRwdXQiLHRbMF0uZGF0YVR5cGUsZC5sZW5ndGgpLGg9SigiaW5wdXQiLHRbMF0uZGF0YVR5cGUsdFswXS5kaW1zLmxlbmd0aCksZj1lZS5zaXplKGQpLGc9W3tuYW1lOiJvdXRwdXRTaXplIix0eXBlOiJ1MzIifSx7bmFtZToic3RhcnRzIix0eXBlOiJ1MzIiLGxlbmd0aDpzLmxlbmd0aH0se25hbWU6InNpZ25zIix0eXBlOiJpMzIiLGxlbmd0aDpsLmxlbmd0aH0se25hbWU6InN0ZXBzIix0eXBlOiJ1MzIiLGxlbmd0aDppLmxlbmd0aH1dLHk9W3t0eXBlOiJ1aW50MzIiLGRhdGE6Zn0se3R5cGU6InVpbnQzMiIsZGF0YTpzfSx7dHlwZToiaW50MzIiLGRhdGE6bH0se3R5cGU6InVpbnQzMiIsZGF0YTppfSwuLi5pZSh0WzBdLmRpbXMpLC4uLmllKGQpXSx3PXY9PmAKICAgICAgJHt2LnJlZ2lzdGVyVW5pZm9ybXMoZykuZGVjbGFyZVZhcmlhYmxlcyhoLHUpfQogICAgICAgICR7UHAoaCx1LHIpfQogICAgICAgICR7di5tYWluU3RhcnQoKX0KICAgICAgICAgICR7di5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9CiAgICAgICAgICBsZXQgb3V0cHV0X2luZGljZXMgPSAke3Uub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9OwogICAgICAgICAgbGV0IGlucHV0X2luZGljZXMgPSBjYWxjdWxhdGVJbnB1dEluZGljZXMob3V0cHV0X2luZGljZXMpOwogICAgICAgICAgJHt1LnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IixoLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpKX0KICAgICAgfWA7cmV0dXJue25hbWU6IlNsaWNlIixzaGFkZXJDYWNoZTp7aGludDpgJHtsLmxlbmd0aH1fJHtzLmxlbmd0aH1fJHtpLmxlbmd0aH1gLGlucHV0RGVwZW5kZW5jaWVzOlsicmFuayJdfSxnZXRTaGFkZXJTb3VyY2U6dyxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W2NdLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKG4vNjQpfSxwcm9ncmFtVW5pZm9ybXM6eX0pfX0sTnA9KHQsZSk9PntCcCh0LmlucHV0cyxlKTtsZXQgcj1ScCh0LmlucHV0cyxlKTt0LmNvbXB1dGUoRHAodC5pbnB1dHMscikse2lucHV0czpbMF19KX0sVXA9dD0+e2xldCBlPXQuc3RhcnRzLHI9dC5lbmRzLG49dC5heGVzO3JldHVybiBxZSh7c3RhcnRzOmUsZW5kczpyLGF4ZXM6bn0pfX0pLFdwLExwLEZwLFZwLE1fPVEoKCk9PntJZSgpLGl0KCksQ2UoKSxXcD10PT57aWYoIXR8fHQubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIlNvZnRtYXggb3AgcmVxdWlyZXMgMSBpbnB1dC4iKX0sTHA9KHQsZSk9PntsZXQgcj10LmRpbXMsbj1lZS5zaXplKHIpLGE9NjQsaT1lLmF4aXM7aWYoaTwwJiYoaT1yLmxlbmd0aCtpKSxpPHIubGVuZ3RoLTEpdGhyb3cgbmV3IEVycm9yKCJzb2Z0bWF4IG9ubHkgc3VwcG9ydHMgbGFzdCBheGlzIGZvciBub3cuIik7bGV0IHM9cltpXSxvPW4vcyxsPXZ0KHMpLGQ9cy9sLGM9KHcsdik9PnY9PT00P2BtYXgobWF4KCR7d30ueCwgJHt3fS55KSwgbWF4KCR7d30ueiwgJHt3fS53KSlgOnY9PT0yP2BtYXgoJHt3fS54LCAke3d9LnkpYDp2PT09Mz9gbWF4KG1heCgke3d9LngsICR7d30ueSksICR7d30ueilgOncsdT1KKCJ4Iix0LmRhdGFUeXBlLHQuZGltcyxsKSxoPXZlKCJyZXN1bHQiLHQuZGF0YVR5cGUsdC5kaW1zLGwpLGY9dS50eXBlLnZhbHVlLGc9SXQodC5kYXRhVHlwZSk9PT0iZjMyIj9gdmFyIHRocmVhZE1heCA9ICR7Zn0oLTMuNDAyODIzZSszOGYpO2A6YHZhciB0aHJlYWRNYXggPSAke2Z9KC02NTUwNC4waCk7YCx5PXc9PmAKICAgICAgdmFyPHdvcmtncm91cD4gcm93TWF4U2hhcmVkIDogJHtmfTsKICAgICAgdmFyPHdvcmtncm91cD4gcm93U3VtU2hhcmVkIDogJHtmfTsKICAgICAgdmFyPHdvcmtncm91cD4gdGhyZWFkU2hhcmVkIDogYXJyYXk8JHtmfSwgJHthfT47CgogICAgICBmbiBnZXRWYWx1ZShyb3c6IGkzMiwgY29sOiBpMzIsIHJvd19zdHJpZGU6IGkzMikgLT4gJHtmfSB7CiAgICAgICAgbGV0IGluZGV4ID0gcm93ICogcm93X3N0cmlkZSArIGNvbDsKICAgICAgICByZXR1cm4geFtpbmRleF07CiAgICAgIH0KCiAgICAgIGZuIHNldFZhbHVlKHJvdzogaTMyLCBjb2w6IGkzMiwgcm93X3N0cmlkZTogaTMyLCB2YWx1ZTogJHtmfSkgewogICAgICAgIGxldCBpbmRleCA9IHJvdyAqIHJvd19zdHJpZGUgKyBjb2w7CiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHZhbHVlOwogICAgICB9CiAgICAgICR7dy5yZWdpc3RlclVuaWZvcm0oInBhY2tlZENvbHMiLCJpMzIiKS5kZWNsYXJlVmFyaWFibGVzKHUsaCl9CiAgICAgICR7dy5tYWluU3RhcnQoKX0KICAgICAgICBsZXQgZ2luZGV4ID0gaTMyKGdsb2JhbF9pZHgpOwogICAgICAgIGxldCBsaW5kZXggPSBpMzIobG9jYWxfaWR4KTsKICAgICAgICBjb25zdCB3ZyA9ICR7YX07CiAgICAgICAgbGV0IHJvdyA9IGdpbmRleCAvIHdnOwogICAgICAgIGxldCBjb2xzID0gdW5pZm9ybXMucGFja2VkQ29sczsKICAgICAgICBsZXQgcm93X3N0cmlkZSA6IGkzMiA9IHVuaWZvcm1zLnBhY2tlZENvbHM7CgogICAgICAgIC8vIGZpbmQgdGhlIHJvd3MgbWF4CiAgICAgICAgJHtnfQogICAgICAgIGZvciAodmFyIGNvbCA9IGxpbmRleDsgY29sIDwgY29sczsgY29sICs9IHdnKSB7CiAgICAgICAgICBsZXQgdmFsdWUgPSBnZXRWYWx1ZShyb3csIGNvbCwgcm93X3N0cmlkZSk7CiAgICAgICAgICB0aHJlYWRNYXggPSBtYXgodGhyZWFkTWF4LCB2YWx1ZSk7CiAgICAgICAgfQogICAgICAgIGlmIChsaW5kZXggPCBjb2xzKSB7CiAgICAgICAgICB0aHJlYWRTaGFyZWRbbGluZGV4XSA9IHRocmVhZE1heDsKICAgICAgICB9CiAgICAgICAgd29ya2dyb3VwQmFycmllcigpOwoKICAgICAgICB2YXIgcmVkdWNlU2l6ZSA9IG1pbihjb2xzLCB3Zyk7CiAgICAgICAgZm9yICh2YXIgY3VyclNpemUgPSByZWR1Y2VTaXplID4+IDE7ICBjdXJyU2l6ZSA+IDA7IGN1cnJTaXplID0gcmVkdWNlU2l6ZSA+PiAxKSB7CiAgICAgICAgICByZWR1Y2VTaXplID0gY3VyclNpemUgKyAocmVkdWNlU2l6ZSAmIDEpOwogICAgICAgICAgaWYgKGxpbmRleCA8IGN1cnJTaXplKSB7CiAgICAgICAgICAgIHRocmVhZFNoYXJlZFtsaW5kZXhdID0gbWF4KHRocmVhZFNoYXJlZFtsaW5kZXhdLCB0aHJlYWRTaGFyZWRbbGluZGV4ICsgcmVkdWNlU2l6ZV0pOwogICAgICAgICAgfQogICAgICAgICAgd29ya2dyb3VwQmFycmllcigpOwogICAgICAgIH0KICAgICAgICBpZiAobGluZGV4ID09IDApIHsKICAgICAgICAgIHJvd01heFNoYXJlZCA9ICR7Zn0oJHtjKCJ0aHJlYWRTaGFyZWRbMF0iLGwpfSk7CiAgICAgICAgfQogICAgICAgIHdvcmtncm91cEJhcnJpZXIoKTsKCiAgICAgICAgLy8gZmluZCB0aGUgcm93cyBzdW0KICAgICAgICB2YXIgdGhyZWFkU3VtID0gJHtmfSgwLjApOwogICAgICAgIGZvciAodmFyIGNvbCA9IGxpbmRleDsgY29sIDwgY29sczsgY29sICs9IHdnKSB7CiAgICAgICAgICBsZXQgc3ViRXhwID0gZXhwKGdldFZhbHVlKHJvdywgY29sLCByb3dfc3RyaWRlKSAtIHJvd01heFNoYXJlZCk7CiAgICAgICAgICB0aHJlYWRTdW0gKz0gc3ViRXhwOwogICAgICAgIH0KICAgICAgICB0aHJlYWRTaGFyZWRbbGluZGV4XSA9IHRocmVhZFN1bTsKICAgICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CgogICAgICAgIGZvciAodmFyIGN1cnJTaXplID0gd2cgPj4gMTsgIGN1cnJTaXplID4gMDsgY3VyclNpemUgPSBjdXJyU2l6ZSA+PiAxKSB7CiAgICAgICAgICBpZiAobGluZGV4IDwgY3VyclNpemUpIHsKICAgICAgICAgICAgdGhyZWFkU2hhcmVkW2xpbmRleF0gPSB0aHJlYWRTaGFyZWRbbGluZGV4XSArIHRocmVhZFNoYXJlZFtsaW5kZXggKyBjdXJyU2l6ZV07CiAgICAgICAgICB9CiAgICAgICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7CiAgICAgICAgfQogICAgICAgIGlmIChsaW5kZXggPT0gMCkgewogICAgICAgICAgcm93U3VtU2hhcmVkID0gJHtmfSgke0t0KCJ0aHJlYWRTaGFyZWRbMF0iLGwpfSk7CiAgICAgICAgfQogICAgICAgIHdvcmtncm91cEJhcnJpZXIoKTsKCiAgICAgICAgLy8gY2FsY3VsYXRlIGZpbmFsIHZhbHVlIGZvciBlYWNoIGVsZW1lbnQgaW4gdGhlIHJvdwogICAgICAgIGZvciAodmFyIGNvbCA9IGxpbmRleDsgY29sIDwgY29sczsgY29sICs9IHdnKSB7CiAgICAgICAgICBsZXQgdmFsdWUgPSBleHAoZ2V0VmFsdWUocm93LCBjb2wsIHJvd19zdHJpZGUpIC0gcm93TWF4U2hhcmVkKSAvIHJvd1N1bVNoYXJlZDsKICAgICAgICAgIHNldFZhbHVlKHJvdywgY29sLCByb3dfc3RyaWRlLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICB9YDtyZXR1cm57bmFtZToiU29mdG1heCIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7bH1gLGlucHV0RGVwZW5kZW5jaWVzOlsidHlwZSJdfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnIsZGF0YVR5cGU6dC5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6b30scHJvZ3JhbVVuaWZvcm1zOlt7dHlwZToidWludDMyIixkYXRhOmR9XX0pLGdldFNoYWRlclNvdXJjZTp5fX0sRnA9KHQsZSk9PntXcCh0LmlucHV0cyksdC5jb21wdXRlKExwKHQuaW5wdXRzWzBdLGUpKX0sVnA9dD0+cWUoe2F4aXM6dC5heGlzfSl9KSxIcCxHcCxxcCxqcCxLcCxZcCxYcCx6Xz1RKCgpPT57SWUoKSxpdCgpLENlKCksSHA9dD0+e2lmKCF0fHx0Lmxlbmd0aDwxKXRocm93IG5ldyBFcnJvcigidG9vIGZldyBpbnB1dHMiKX0sR3A9KHQsZSk9PntsZXQgcj1bXSxuPWUubnVtT3V0cHV0cztyZXR1cm4gdFsxXS5kaW1zWzBdPjAmJih0WzFdLmdldEJpZ0ludDY0QXJyYXkoKS5mb3JFYWNoKGE9PnIucHVzaChOdW1iZXIoYSkpKSxuPXIubGVuZ3RoKSxxZSh7bnVtT3V0cHV0czpuLGF4aXM6ZS5heGlzLHNwbGl0U2l6ZXM6cn0pfSxxcD10PT5gCmZuIGNhbGN1bGF0ZU91dHB1dEluZGV4KGluZGV4OiB1MzIpIC0+IHUzMiB7CiAgICBmb3IgKHZhciBpOiB1MzIgPSAwdTsgaSA8ICR7dH11OyBpICs9IDF1ICkgewogICAgaWYgKGluZGV4IDwgJHt4ZSgidW5pZm9ybXMuc2l6ZV9pbl9zcGxpdF9heGlzIiwiaSIsdCl9KSB7CiAgICAgICAgcmV0dXJuIGk7CiAgICB9CiAgICB9CiAgICByZXR1cm4gJHt0fXU7Cn1gLGpwPXQ9PntsZXQgZT10Lmxlbmd0aCxyPVtdO2ZvcihsZXQgbj0wO248ZTsrK24pe2xldCBhPXRbbl0uc2V0QnlJbmRpY2VzKCJpbmRpY2VzIiwiaW5wdXRbZ2xvYmFsX2lkeF0iKTtlPT09MT9yLnB1c2goYSk6bj09PTA/ci5wdXNoKGBpZiAob3V0cHV0X251bWJlciA9PSAke259dSkgeyAke2F9IH1gKTpuPT09ZS0xP3IucHVzaChgZWxzZSB7ICR7YX0gfWApOnIucHVzaChgZWxzZSBpZiAob3V0cHV0X251bWJlciA9PSAke259KSB7ICR7YX0gfWApfXJldHVybmAKICAgICAgZm4gd3JpdGVCdWZmZXJEYXRhKG91dHB1dF9udW1iZXI6IHUzMiwgaW5kaWNlczogJHt0WzBdLnR5cGUuaW5kaWNlc30sIGdsb2JhbF9pZHg6IHUzMikgewogICAgICAgICR7ci5qb2luKGAKYCl9CiAgICAgIH1gfSxLcD0odCxlKT0+e2xldCByPXRbMF0uZGltcyxuPWVlLnNpemUociksYT10WzBdLmRhdGFUeXBlLGk9ZWUubm9ybWFsaXplQXhpcyhlLmF4aXMsci5sZW5ndGgpLHM9bmV3IEFycmF5KGUubnVtT3V0cHV0cyksbz1KKCJpbnB1dCIsYSxyKSxsPW5ldyBBcnJheShlLm51bU91dHB1dHMpLGQ9W10sYz1bXSx1PTAsaD1be3R5cGU6InVpbnQzMiIsZGF0YTpufV07Zm9yKGxldCBnPTA7ZzxlLm51bU91dHB1dHM7ZysrKXt1Kz1lLnNwbGl0U2l6ZXNbZ10sbFtnXT11O2xldCB5PXIuc2xpY2UoKTt5W2UuYXhpc109ZS5zcGxpdFNpemVzW2ddLGMucHVzaCh5KSxzW2ddPXZlKGBvdXRwdXQke2d9YCxhLHkpLGQucHVzaCh7ZGltczpjW2ddLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9KX1oLnB1c2goe3R5cGU6InVpbnQzMiIsZGF0YTpsfSksaC5wdXNoKC4uLmllKHIpKSxjLmZvckVhY2goZz0+aC5wdXNoKC4uLmllKGcpKSk7bGV0IGY9Zz0+YAogICR7Zy5yZWdpc3RlclVuaWZvcm0oImlucHV0X3NpemUiLCJ1MzIiKS5yZWdpc3RlclVuaWZvcm0oInNpemVfaW5fc3BsaXRfYXhpcyIsInUzMiIsbC5sZW5ndGgpLmRlY2xhcmVWYXJpYWJsZXMobywuLi5zKX0KICAke3FwKGwubGVuZ3RoKX0KICAke2pwKHMpfQoKICAke2cubWFpblN0YXJ0KCl9CiAgICAke2cuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMuaW5wdXRfc2l6ZSIpfQoKICAgIHZhciBpbmRpY2VzID0gJHtvLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTsKICAgIHZhciBpbmRleCA9ICR7by5pbmRpY2VzR2V0KCJpbmRpY2VzIixpKX07CiAgICBsZXQgb3V0cHV0X251bWJlciA9IGNhbGN1bGF0ZU91dHB1dEluZGV4KGluZGV4KTsKICAgIGlmIChvdXRwdXRfbnVtYmVyICE9IDApIHsKICAgICAgaW5kZXggLT0gJHt4ZSgidW5pZm9ybXMuc2l6ZV9pbl9zcGxpdF9heGlzIiwib3V0cHV0X251bWJlciAtIDF1IixsLmxlbmd0aCl9OwogICAgICAke28uaW5kaWNlc1NldCgiaW5kaWNlcyIsaSwiaW5kZXgiKX07CiAgICB9CiAgICB3cml0ZUJ1ZmZlckRhdGEob3V0cHV0X251bWJlciwgaW5kaWNlcywgZ2xvYmFsX2lkeCk7CiAgfWA7cmV0dXJue25hbWU6IlNwbGl0IixzaGFkZXJDYWNoZTp7aGludDplLmNhY2hlS2V5LGlucHV0RGVwZW5kZW5jaWVzOlsicmFuayJdfSxnZXRTaGFkZXJTb3VyY2U6ZixnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6ZCxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChuLzY0KX0scHJvZ3JhbVVuaWZvcm1zOmh9KX19LFlwPSh0LGUpPT57SHAodC5pbnB1dHMpO2xldCByPXQuaW5wdXRzLmxlbmd0aD09PTE/ZTpHcCh0LmlucHV0cyxlKTt0LmNvbXB1dGUoS3AodC5pbnB1dHMscikse2lucHV0czpbMF19KX0sWHA9dD0+e2xldCBlPXQuYXhpcyxyPXQuc3BsaXRTaXplcyxuPXQubnVtT3V0cHV0czwwP3IubGVuZ3RoOnQubnVtT3V0cHV0cztpZihuIT09ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJudW1PdXRwdXRzIGFuZCBzcGxpdFNpemVzIGxlbmdoIG11c3QgYmUgZXF1YWwiKTtyZXR1cm4gcWUoe2F4aXM6ZSxudW1PdXRwdXRzOm4sc3BsaXRTaXplczpyfSl9fSksenMsUXAsWnAsSnAsZWgsQl89USgoKT0+e1llKCksSWUoKSxDZSgpLHpzPXQ9PkFycmF5LmZyb20odC5nZXRCaWdJbnQ2NEFycmF5KCksTnVtYmVyKSxRcD10PT57aWYoIXR8fHQubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoIlRpbGUgcmVxdWlyZXMgMiBpbnB1dHMuIik7aWYodFswXS5kYXRhVHlwZSE9PTEmJnRbMF0uZGF0YVR5cGUhPT02JiZ0WzBdLmRhdGFUeXBlIT09MTIpdGhyb3cgbmV3IEVycm9yKCJUaWxlIG9ubHkgc3VwcG9ydCBmbG9hdCwgaW50MzIsIGFuZCB1aW50MzIgZGF0YSB0eXBlcyIpO2lmKHRbMV0uZGF0YVR5cGUhPT03KXRocm93IG5ldyBFcnJvcigiVGlsZSBgcmVwZWF0c2AgaW5wdXQgc2hvdWxkIGJlIG9mIGludDY0IGRhdGEgdHlwZSIpO2lmKHRbMV0uZGltcy5sZW5ndGghPT0xKXRocm93IG5ldyBFcnJvcigiVGlsZSBgcmVwZWF0c2AgaW5wdXQgc2hvdWxkIGJlIDEtRCIpO2lmKHpzKHRbMV0pLmxlbmd0aCE9PXRbMF0uZGltcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJUaWxlIGByZXBlYXRzYCBpbnB1dCBzaG91bGQgaGF2ZSBzYW1lIG51bWJlciBvZiBlbGVtZW50cyBhcyByYW5rIG9mIGlucHV0IGRhdGEgdGVuc29yIil9LFpwPSh0LGUpPT57bGV0IHI9W107Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDsrK24pci5wdXNoKHRbbl0qZVtuXSk7cmV0dXJuIHJ9LEpwPXQ9PntsZXQgZT10WzBdLmRpbXMscj16cyh0WzFdKSxuPVpwKGUsciksYT1lZS5zaXplKG4pLGk9dFswXS5kYXRhVHlwZSxzPUooImlucHV0IixpLGUubGVuZ3RoKSxvPXZlKCJvdXRwdXQiLGksbi5sZW5ndGgpLGw9ZD0+YAogICAgICBjb25zdCBpbnB1dFNoYXBlID0gJHtzLmluZGljZXMoLi4uZSl9OwogICAgICAke2QucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRfc2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMocyxvKX0KICAgICAgJHtkLm1haW5TdGFydCgpfQogICAgICAke2QuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0X3NpemUiKX0KICAgICAgbGV0IG91dHB1dF9pbmRpY2VzID0gJHtvLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTsKICAgICAgdmFyIGlucHV0X2luZGljZXM6ICR7cy50eXBlLmluZGljZXN9OwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICR7ZS5sZW5ndGh9OyBpKyspIHsKICAgICAgICBsZXQgaW5wdXRfZGltX2kgPSAke3MuaW5kaWNlc0dldCgidW5pZm9ybXMuaW5wdXRfc2hhcGUiLCJpIil9OwogICAgICAgIGxldCBpbnB1dF9kaW1fdmFsdWUgPSAke28uaW5kaWNlc0dldCgib3V0cHV0X2luZGljZXMiLCJpIil9ICAlIGlucHV0X2RpbV9pOwoKICAgICAgICAke3MuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIsImkiLCJpbnB1dF9kaW1fdmFsdWUiKX0KICAgICAgfQogICAgICAke28uc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLHMuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIikpfQogICAgfWA7cmV0dXJue25hbWU6IlRpbGUiLHNoYWRlckNhY2hlOntoaW50OmAke3J9YCxpbnB1dERlcGVuZGVuY2llczpbInJhbmsiXX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpuLGRhdGFUeXBlOnRbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChhLzY0KX0scHJvZ3JhbVVuaWZvcm1zOlt7dHlwZToidWludDMyIixkYXRhOmF9LC4uLmllKHRbMF0uZGltcyksLi4uaWUobildfSksZ2V0U2hhZGVyU291cmNlOmx9fSxlaD10PT57UXAodC5pbnB1dHMpLHQuY29tcHV0ZShKcCh0LmlucHV0cykse2lucHV0czpbMF19KX19KSx0aCxyaCxuaCxSXz1RKCgpPT57WWUoKSxJZSgpLENlKCksdGg9KHQsZSxyLG4sYSk9PntsZXQgaT12ZSgib3V0cHV0X2RhdGEiLGEsci5sZW5ndGgsNCkscz1KKCJhX2RhdGEiLGVbMV0uZGF0YVR5cGUsZVsxXS5kaW1zLmxlbmd0aCw0KSxvPUooImJfZGF0YSIsZVsyXS5kYXRhVHlwZSxlWzJdLmRpbXMubGVuZ3RoLDQpLGw9SigiY19kYXRhIixlWzBdLmRhdGFUeXBlLGVbMF0uZGltcy5sZW5ndGgsNCksZCxjPSh1LGgsZik9PmBzZWxlY3QoJHtofSwgJHt1fSwgJHtmfSlgO2lmKCFuKWQ9aS5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsYyhzLmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4Iiksby5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpLGwuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKSkpO2Vsc2V7bGV0IHU9KGgsZixnPSIiKT0+e2xldCB5PWBhX2RhdGFbaW5kZXhfYSR7Zn1dW2NvbXBvbmVudF9hJHtmfV1gLHc9YGJfZGF0YVtpbmRleF9iJHtmfV1bY29tcG9uZW50X2Ike2Z9XWAsdj1gYm9vbChjX2RhdGFbaW5kZXhfYyR7Zn1dICYgJHs0Mjc4MTkwMDgwPj4+KDMtZikqOH11KWA7cmV0dXJuYAogICAgICAgICAgICBsZXQgb3V0cHV0X2luZGljZXMke2Z9ID0gJHtpLm9mZnNldFRvSW5kaWNlcyhgZ2xvYmFsX2lkeCAqIDR1ICsgJHtmfXVgKX07CiAgICAgICAgICAgIGxldCBvZmZzZXRfYSR7Zn0gPSAke3MuYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQoYG91dHB1dF9pbmRpY2VzJHtmfWAsaSl9OwogICAgICAgICAgICBsZXQgb2Zmc2V0X2Ike2Z9ID0gJHtvLmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KGBvdXRwdXRfaW5kaWNlcyR7Zn1gLGkpfTsKICAgICAgICAgICAgbGV0IG9mZnNldF9jJHtmfSA9ICR7bC5icm9hZGNhc3RlZEluZGljZXNUb09mZnNldChgb3V0cHV0X2luZGljZXMke2Z9YCxpKX07CiAgICAgICAgICAgIGxldCBpbmRleF9hJHtmfSA9IG9mZnNldF9hJHtmfSAvIDR1OwogICAgICAgICAgICBsZXQgaW5kZXhfYiR7Zn0gPSBvZmZzZXRfYiR7Zn0gLyA0dTsKICAgICAgICAgICAgbGV0IGluZGV4X2Mke2Z9ID0gb2Zmc2V0X2Mke2Z9IC8gNHU7CiAgICAgICAgICAgIGxldCBjb21wb25lbnRfYSR7Zn0gPSBvZmZzZXRfYSR7Zn0gJSA0dTsKICAgICAgICAgICAgbGV0IGNvbXBvbmVudF9iJHtmfSA9IG9mZnNldF9iJHtmfSAlIDR1OwogICAgICAgICAgICAke2h9WyR7Zn1dID0gJHtnfSgke2MoeSx3LHYpfSk7CiAgICAgICAgICBgfTthPT09OT9kPWAKICAgICAgICAgICAgdmFyIGRhdGEgPSB2ZWM0PHUzMj4oMCk7CiAgICAgICAgICAgICR7dSgiZGF0YSIsMCwidTMyIil9CiAgICAgICAgICAgICR7dSgiZGF0YSIsMSwidTMyIil9CiAgICAgICAgICAgICR7dSgiZGF0YSIsMiwidTMyIil9CiAgICAgICAgICAgICR7dSgiZGF0YSIsMywidTMyIil9CiAgICAgICAgICAgIG91dHB1dF9kYXRhW2dsb2JhbF9pZHhdID0gZG90KHZlYzQ8dTMyPigweDEsIDB4MTAwLCAweDEwMDAwLCAweDEwMDAwMDApLCB2ZWM0PHUzMj4oZGF0YSkpO2A6ZD1gCiAgICAgICAgICAgICR7dSgib3V0cHV0X2RhdGFbZ2xvYmFsX2lkeF0iLDApfQogICAgICAgICAgICAke3UoIm91dHB1dF9kYXRhW2dsb2JhbF9pZHhdIiwxKX0KICAgICAgICAgICAgJHt1KCJvdXRwdXRfZGF0YVtnbG9iYWxfaWR4XSIsMil9CiAgICAgICAgICAgICR7dSgib3V0cHV0X2RhdGFbZ2xvYmFsX2lkeF0iLDMpfQogICAgICAgICAgYH1yZXR1cm5gCiAgICAgICAgJHt0LnJlZ2lzdGVyVW5pZm9ybSgidmVjX3NpemUiLCJ1MzIiKS5kZWNsYXJlVmFyaWFibGVzKGwscyxvLGkpfQogICAgICAgICR7dC5tYWluU3RhcnQoKX0KICAgICAgICAke3QuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMudmVjX3NpemUiKX0KICAgICAgICAke2R9CiAgICAgIH1gfSxyaD10PT57bGV0IGU9dFsxXS5kaW1zLHI9dFsyXS5kaW1zLG49dFswXS5kaW1zLGE9dFsxXS5kYXRhVHlwZSxpPSEoZWUuYXJlRXF1YWwoZSxyKSYmZWUuYXJlRXF1YWwocixuKSkscz1lLG89ZWUuc2l6ZShlKTtpZihpKXtsZXQgZD1Mci5jYWxjU2hhcGUoTHIuY2FsY1NoYXBlKGUsciwhMSksbiwhMSk7aWYoIWQpdGhyb3cgbmV3IEVycm9yKCJDYW4ndCBwZXJmb3JtIHdoZXJlIG9wIG9uIHRoZSBnaXZlbiB0ZW5zb3JzIik7cz1kLG89ZWUuc2l6ZShzKX1sZXQgbD1NYXRoLmNlaWwoby80KTtyZXR1cm57bmFtZToiV2hlcmUiLHNoYWRlckNhY2hlOntpbnB1dERlcGVuZGVuY2llczpbInJhbmsiLCJyYW5rIiwicmFuayJdfSxnZXRTaGFkZXJTb3VyY2U6ZD0+dGgoZCx0LHMsaSxhKSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnMsZGF0YVR5cGU6YX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKG8vNjQvNCl9LHByb2dyYW1Vbmlmb3Jtczpbe3R5cGU6InVpbnQzMiIsZGF0YTpsfSwuLi5pZShuKSwuLi5pZShlKSwuLi5pZShyKSwuLi5pZShzKV19KX19LG5oPXQ9Pnt0LmNvbXB1dGUocmgodC5pbnB1dHMpKX19KSxhaCxQXz1RKCgpPT57c18oKSxFdSgpLG9fKCksbF8oKSx1XygpLGRfKCksY18oKSxLZCgpLGdfKCksX18oKSx5XygpLHdfKCksdl8oKSxiXygpLCRfKCkseF8oKSxrXygpLEhkKCksU18oKSxFXygpLENfKCksSV8oKSx0cygpLEFfKCksVF8oKSxPXygpLE1fKCksel8oKSxCXygpLGhuKCksaGQoKSxSXygpLGFoPW5ldyBNYXAoW1siQWJzIixbUnVdXSxbIkFjb3MiLFtQdV1dLFsiQWNvc2giLFtEdV1dLFsiQWRkIixbd2RdXSxbIkFyZ01heCIsW3d1LG5zXV0sWyJBcmdNaW4iLFt5dSxuc11dLFsiQXNpbiIsW051XV0sWyJBc2luaCIsW1V1XV0sWyJBdGFuIixbV3VdXSxbIkF0YW5oIixbTHVdXSxbIkF0dGVudGlvbiIsW1N1XV0sWyJBdmVyYWdlUG9vbCIsW3JwLHRwXV0sWyJCYXRjaE5vcm1hbGl6YXRpb24iLFtUdV1dLFsiQmlhc0FkZCIsW3p1XV0sWyJCaWFzU3BsaXRHZWx1IixbZ2RdXSxbIkNhc3QiLFtWdSxGdV1dLFsiQ2VpbCIsW3F1XV0sWyJDbGlwIixbR3VdXSxbIkNvbmNhdCIsW3pkLEJkXV0sWyJDb252IixbZ3MsbXNdXSxbIkNvbnZUcmFuc3Bvc2UiLFtzYyx0Y11dLFsiQ29zIixbanVdXSxbIkNvc2giLFtLdV1dLFsiQ3VtU3VtIixbbGMsdWNdXSxbIkRpdiIsW3ZkXV0sWyJFaW5zdW0iLFttYyxnY11dLFsiRWx1IixbWXUsRWFdXSxbIkVxdWFsIixbYmRdXSxbIkVyZiIsW1h1XV0sWyJFeHAiLFtRdV1dLFsiRXhwYW5kIixbdmNdXSxbIkZsb29yIixbWnVdXSxbIkZ1c2VkQ29udiIsW2dzLG1zXV0sWyJHYXRoZXIiLFtrYyx4Y11dLFsiR2F0aGVyRWxlbWVudHMiLFtJYyxDY11dLFsiR2VsdSIsW0p1XV0sWyJHZW1tIixbTWMsT2NdXSxbIkdsb2JhbEF2ZXJhZ2VQb29sIixbYXAsbnBdXSxbIkdsb2JhbE1heFBvb2wiLFtscCxvcF1dLFsiR3JlYXRlciIsW1NkXV0sWyJHcmVhdGVyT3JFcXVhbCIsW0NkXV0sWyJJbnN0YW5jZU5vcm1hbGl6YXRpb24iLFtQY11dLFsiTGF5ZXJOb3JtYWxpemF0aW9uIixbVWNdXSxbIkxlYWt5UmVsdSIsW2VkLEVhXV0sWyJMZXNzIixbRWRdXSxbIkxlc3NPckVxdWFsIixbSWRdXSxbIkxvZyIsW3BkXV0sWyJNYXRNdWwiLFtWZF1dLFsiTWF4UG9vbCIsW2lwLHNwXV0sWyJNdWwiLFskZF1dLFsiTXVsdGlIZWFkQXR0ZW50aW9uIixbVmMsTGNdXSxbIk5lZyIsW3JkXV0sWyJOb3QiLFt0ZF1dLFsiUGFkIixbWmNdXSxbIlBvdyIsW3hkXV0sWyJSYW5nZSIsW2NwXV0sWyJSZWNpcHJvY2FsIixbbmRdXSxbIlJlZHVjZU1pbiIsW2h1XV0sWyJSZWR1Y2VNZWFuIixbbHVdXSxbIlJlZHVjZU1heCIsW3B1XV0sWyJSZWR1Y2VTdW0iLFttdV1dLFsiUmVkdWNlUHJvZCIsW2Z1XV0sWyJSZWR1Y2VMMSIsW3V1XV0sWyJSZWR1Y2VMMiIsW2R1XV0sWyJSZWR1Y2VMb2dTdW0iLFtfdV1dLFsiUmVkdWNlTG9nU3VtRXhwIixbY3VdXSxbIlJlZHVjZVN1bVNxdWFyZSIsW2d1XV0sWyJSZWx1IixbYWRdXSxbIlJlc2l6ZSIsW0lwLEFwXV0sWyJTaWdtb2lkIixbaWRdXSxbIlNpbiIsW3NkXV0sWyJTaW5oIixbb2RdXSxbIlNsaWNlIixbTnAsVXBdXSxbIlNraXBMYXllck5vcm1hbGl6YXRpb24iLFtNcCx6cF1dLFsiU3BsaXQiLFtZcCxYcF1dLFsiU3FydCIsW2xkXV0sWyJTb2Z0bWF4IixbRnAsVnBdXSxbIlN1YiIsW2tkXV0sWyJUYW4iLFt1ZF1dLFsiVGFuaCIsW2RkXV0sWyJUaHJlc2hvbGRlZFJlbHUiLFtjZCxFYV1dLFsiVGlsZSIsW2VoXV0sWyJUcmFuc3Bvc2UiLFtBbCxUbF1dLFsiV2hlcmUiLFtuaF1dXSl9KSxpaCxEXz1RKCgpPT57RHQoKSx2cigpLENlKCksaWg9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5iYWNrZW5kPXQsdGhpcy5yZXBvPW5ldyBNYXAsdGhpcy5hdHRyaWJ1dGVzQm91bmQ9ITF9Z2V0QXJ0aWZhY3QodCl7cmV0dXJuIHRoaXMucmVwby5nZXQodCl9c2V0QXJ0aWZhY3QodCxlKXt0aGlzLnJlcG8uc2V0KHQsZSl9cnVuKHQsZSxyLG4sYSl7UnQodC5wcm9ncmFtSW5mby5uYW1lKTtsZXQgaT10aGlzLmJhY2tlbmQuZGV2aWNlLHM9dGhpcy5iYWNrZW5kLmdldENvbXB1dGVQYXNzRW5jb2RlcigpO3RoaXMuYmFja2VuZC53cml0ZVRpbWVzdGFtcCh0aGlzLmJhY2tlbmQucGVuZGluZ0Rpc3BhdGNoTnVtYmVyKjIpLHMuc2V0UGlwZWxpbmUodC5jb21wdXRlUGlwZWxpbmUpO2xldCBvPVtdO2ZvcihsZXQgZCBvZiBlKW8ucHVzaCh7YmluZGluZzpvLmxlbmd0aCxyZXNvdXJjZTp7YnVmZmVyOmQuYnVmZmVyfX0pO2ZvcihsZXQgZCBvZiByKW8ucHVzaCh7YmluZGluZzpvLmxlbmd0aCxyZXNvdXJjZTp7YnVmZmVyOmQuYnVmZmVyfX0pO2EmJm8ucHVzaCh7YmluZGluZzpvLmxlbmd0aCxyZXNvdXJjZTphfSk7bGV0IGw9aS5jcmVhdGVCaW5kR3JvdXAoe2xheW91dDp0LmNvbXB1dGVQaXBlbGluZS5nZXRCaW5kR3JvdXBMYXlvdXQoMCksZW50cmllczpvLGxhYmVsOnQucHJvZ3JhbUluZm8ubmFtZX0pO3Muc2V0QmluZEdyb3VwKDAsbCkscy5kaXNwYXRjaFdvcmtncm91cHMoLi4ubiksdGhpcy5iYWNrZW5kLndyaXRlVGltZXN0YW1wKHRoaXMuYmFja2VuZC5wZW5kaW5nRGlzcGF0Y2hOdW1iZXIqMisxKSx0aGlzLmJhY2tlbmQucGVuZGluZ0Rpc3BhdGNoTnVtYmVyKyssKHRoaXMuYmFja2VuZC5wZW5kaW5nRGlzcGF0Y2hOdW1iZXI+PXRoaXMuYmFja2VuZC5tYXhEaXNwYXRjaE51bWJlcnx8dGhpcy5iYWNrZW5kLnF1ZXJ5VHlwZT09PSJhdC1wYXNzZXMiKSYmdGhpcy5iYWNrZW5kLmVuZENvbXB1dGVQYXNzKCksdGhpcy5iYWNrZW5kLnBlbmRpbmdEaXNwYXRjaE51bWJlcj49dGhpcy5iYWNrZW5kLm1heERpc3BhdGNoTnVtYmVyJiZ0aGlzLmJhY2tlbmQuZmx1c2goKSxQdCh0LnByb2dyYW1JbmZvLm5hbWUpfWRpc3Bvc2UoKXt9YnVpbGQodCxlKXtSdCh0Lm5hbWUpO2xldCByPXRoaXMuYmFja2VuZC5kZXZpY2Usbj1bXTtyLmZlYXR1cmVzLmhhcygic2hhZGVyLWYxNiIpJiZuLnB1c2goImVuYWJsZSBmMTY7Iik7bGV0IGE9U2woZSksaT10LmdldFNoYWRlclNvdXJjZShhKSxzPWAke24uam9pbihgCmApfQoke2EuYWRkaXRpb25hbEltcGxlbWVudGF0aW9uc30KJHtpfWAsbz1yLmNyZWF0ZVNoYWRlck1vZHVsZSh7Y29kZTpzLGxhYmVsOnQubmFtZX0pO2F0KCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdICR7dC5uYW1lfSBzaGFkZXIgY29kZTogJHtzfWApO2xldCBsPXIuY3JlYXRlQ29tcHV0ZVBpcGVsaW5lKHtjb21wdXRlOnttb2R1bGU6byxlbnRyeVBvaW50OiJtYWluIn0sbGF5b3V0OiJhdXRvIixsYWJlbDp0Lm5hbWV9KTtyZXR1cm4gUHQodC5uYW1lKSx7cHJvZ3JhbUluZm86dCxjb21wdXRlUGlwZWxpbmU6bH19bm9ybWFsaXplRGlzcGF0Y2hHcm91cFNpemUodCl7bGV0IGU9dHlwZW9mIHQ9PSJudW1iZXIiP3Q6dC54LHI9dHlwZW9mIHQ9PSJudW1iZXIiPzE6dC55fHwxLG49dHlwZW9mIHQ9PSJudW1iZXIiPzE6dC56fHwxLGE9dGhpcy5iYWNrZW5kLmRldmljZS5saW1pdHMubWF4Q29tcHV0ZVdvcmtncm91cHNQZXJEaW1lbnNpb247aWYoZTw9YSYmcjw9YSYmbjw9YSlyZXR1cm5bZSxyLG5dO2xldCBpPWUqcipuLHM9TWF0aC5jZWlsKE1hdGguc3FydChpKSk7aWYocz5hKXtpZihzPU1hdGguY2VpbChNYXRoLmNicnQoaSkpLHM+YSl0aHJvdyBuZXcgRXJyb3IoIlRvdGFsIGRpc3BhdGNoIHNpemUgZXhjZWVkcyBXZWJHUFUgbWF4aW11bS4iKTtyZXR1cm5bcyxzLHNdfWVsc2UgcmV0dXJuW3MscywxXX19fSksc2gsb2gsbGgsTl89USgoKT0+e0R0KCksWWUoKSx2cigpLG5fKCksYV8oKSxQXygpLERfKCksc2g9KHQsZSk9PntpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgaW5wdXREZXBlbmRlbmNpZXMgbGVuZ3RoICR7ZS5sZW5ndGh9IGlzIG5vdCBlcXVhbCB0byBpbnB1dFRlbnNvcnMgbGVuZ3RoICR7dC5sZW5ndGh9LmApO2xldCByPVtdO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7KytuKXtsZXQgYT10W25dLmRhdGFUeXBlO3N3aXRjaChlW25dKXtjYXNlIm5vbmUiOntyLnB1c2goIiIpO2JyZWFrfWNhc2UidHlwZSI6e3IucHVzaChgJHthfWApO2JyZWFrfWNhc2UicmFuayI6e2xldCBpPXRbbl0uZGltcy5sZW5ndGg7ci5wdXNoKGAke2F9OyR7aX1gKTticmVha31jYXNlImRpbXMiOntsZXQgaT10W25dLmRpbXMuam9pbigiLCIpO3IucHVzaChgJHthfTske2l9YCk7YnJlYWt9ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGlucHV0IGRlcGVuZGVuY3k6ICR7ZVtuXX1gKX19cmV0dXJuIHIuam9pbigifCIpfSxvaD0odCxlLHIpPT57bGV0IG49dC5uYW1lO3JldHVybiB0LnNoYWRlckNhY2hlPy5oaW50JiYobis9IlsiK3Quc2hhZGVyQ2FjaGUuaGludCsiXSIpLG4rPSI6IityK2A6JHtzaChlLHQuc2hhZGVyQ2FjaGU/LmlucHV0RGVwZW5kZW5jaWVzPz9uZXcgQXJyYXkoZS5sZW5ndGgpLmZpbGwoImRpbXMiKSl9YCxufSxsaD1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuY3VycmVudEtlcm5lbElkPW51bGwsdGhpcy5jb21tYW5kRW5jb2Rlcj1udWxsLHRoaXMuY29tcHV0ZVBhc3NFbmNvZGVyPW51bGwsdGhpcy5tYXhEaXNwYXRjaE51bWJlcj0xNix0aGlzLnBlbmRpbmdEaXNwYXRjaE51bWJlcj0wLHRoaXMucGVuZGluZ0tlcm5lbHM9W10sdGhpcy5wZW5kaW5nUXVlcmllcz1uZXcgTWFwLHRoaXMuc2Vzc2lvbkV4dGVybmFsRGF0YU1hcHBpbmc9bmV3IE1hcH1nZXQgY3VycmVudEtlcm5lbEN1c3RvbURhdGEoKXtpZih0aGlzLmN1cnJlbnRLZXJuZWxJZD09PW51bGwpdGhyb3cgbmV3IEVycm9yKCJjdXJyZW50S2VybmVsQ3VzdG9tRGF0YSgpOiBjdXJyZW50S2VybmVsSWQgaXMgbnVsbC4gKHNob3VsZCBub3QgaGFwcGVuKSIpO2xldCB0PXRoaXMua2VybmVsQ3VzdG9tRGF0YS5nZXQodGhpcy5jdXJyZW50S2VybmVsSWQpO3JldHVybiB0fHwodD17fSx0aGlzLmtlcm5lbEN1c3RvbURhdGEuc2V0KHRoaXMuY3VycmVudEtlcm5lbElkLHQpKSx0fWFzeW5jIGluaXRpYWxpemUodCxlKXt0aGlzLmVudj10O2xldCByPVtdLG49e3JlcXVpcmVkTGltaXRzOnttYXhDb21wdXRlV29ya2dyb3VwU3RvcmFnZVNpemU6ZS5saW1pdHMubWF4Q29tcHV0ZVdvcmtncm91cFN0b3JhZ2VTaXplLG1heENvbXB1dGVXb3JrZ3JvdXBzUGVyRGltZW5zaW9uOmUubGltaXRzLm1heENvbXB1dGVXb3JrZ3JvdXBzUGVyRGltZW5zaW9uLG1heFN0b3JhZ2VCdWZmZXJCaW5kaW5nU2l6ZTplLmxpbWl0cy5tYXhTdG9yYWdlQnVmZmVyQmluZGluZ1NpemUsbWF4QnVmZmVyU2l6ZTplLmxpbWl0cy5tYXhCdWZmZXJTaXplLG1heENvbXB1dGVJbnZvY2F0aW9uc1Blcldvcmtncm91cDplLmxpbWl0cy5tYXhDb21wdXRlSW52b2NhdGlvbnNQZXJXb3JrZ3JvdXAsbWF4Q29tcHV0ZVdvcmtncm91cFNpemVYOmUubGltaXRzLm1heENvbXB1dGVXb3JrZ3JvdXBTaXplWCxtYXhDb21wdXRlV29ya2dyb3VwU2l6ZVk6ZS5saW1pdHMubWF4Q29tcHV0ZVdvcmtncm91cFNpemVZLG1heENvbXB1dGVXb3JrZ3JvdXBTaXplWjplLmxpbWl0cy5tYXhDb21wdXRlV29ya2dyb3VwU2l6ZVp9LHJlcXVpcmVkRmVhdHVyZXM6cn07ZS5mZWF0dXJlcy5oYXMoImNocm9taXVtLWV4cGVyaW1lbnRhbC10aW1lc3RhbXAtcXVlcnktaW5zaWRlLXBhc3NlcyIpP3IucHVzaCgiY2hyb21pdW0tZXhwZXJpbWVudGFsLXRpbWVzdGFtcC1xdWVyeS1pbnNpZGUtcGFzc2VzIik6ZS5mZWF0dXJlcy5oYXMoInRpbWVzdGFtcC1xdWVyeSIpJiZyLnB1c2goInRpbWVzdGFtcC1xdWVyeSIpLGUuZmVhdHVyZXMuaGFzKCJzaGFkZXItZjE2IikmJnIucHVzaCgic2hhZGVyLWYxNiIpLHRoaXMuZGV2aWNlPWF3YWl0IGUucmVxdWVzdERldmljZShuKSx0aGlzLmdwdURhdGFNYW5hZ2VyPXdsKHRoaXMpLHRoaXMucHJvZ3JhbU1hbmFnZXI9bmV3IGloKHRoaXMpLHRoaXMua2VybmVscz1uZXcgTWFwLHRoaXMua2VybmVsUGVyc2lzdGVudERhdGE9bmV3IE1hcCx0aGlzLmtlcm5lbEN1c3RvbURhdGE9bmV3IE1hcCxmbCh0LmxvZ0xldmVsLCEhdC5kZWJ1ZyksdGhpcy5kZXZpY2Uub251bmNhcHR1cmVkZXJyb3I9YT0+e2EuZXJyb3IgaW5zdGFuY2VvZiBHUFVWYWxpZGF0aW9uRXJyb3ImJmNvbnNvbGUuZXJyb3IoYEFuIHVuY2F1Z2h0IFdlYkdQVSB2YWxpZGF0aW9uIGVycm9yIHdhcyByYWlzZWQ6ICR7YS5lcnJvci5tZXNzYWdlfWApfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5lbnYud2ViZ3B1LCJkZXZpY2UiLHt2YWx1ZTp0aGlzLmRldmljZX0pLHRoaXMuc2V0UXVlcnlUeXBlKCl9ZGlzcG9zZSgpe3R5cGVvZiB0aGlzLnF1ZXJ5U2V0PCJ1IiYmdGhpcy5xdWVyeVNldC5kZXN0cm95KCksdGhpcy5ncHVEYXRhTWFuYWdlci5kaXNwb3NlKCl9Z2V0Q29tbWFuZEVuY29kZXIoKXtyZXR1cm4gdGhpcy5jb21tYW5kRW5jb2Rlcnx8KHRoaXMuY29tbWFuZEVuY29kZXI9dGhpcy5kZXZpY2UuY3JlYXRlQ29tbWFuZEVuY29kZXIoKSx0aGlzLnNldFF1ZXJ5VHlwZSgpLHRoaXMucXVlcnlUeXBlIT09Im5vbmUiJiZ0eXBlb2YgdGhpcy5xdWVyeVNldD4idSImJih0aGlzLnF1ZXJ5U2V0PXRoaXMuZGV2aWNlLmNyZWF0ZVF1ZXJ5U2V0KHt0eXBlOiJ0aW1lc3RhbXAiLGNvdW50OnRoaXMubWF4RGlzcGF0Y2hOdW1iZXIqMn0pLHRoaXMucXVlcnlSZXNvbHZlQnVmZmVyPXRoaXMuZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7c2l6ZTp0aGlzLm1heERpc3BhdGNoTnVtYmVyKjIqOCx1c2FnZTpHUFVCdWZmZXJVc2FnZS5DT1BZX1NSQ3xHUFVCdWZmZXJVc2FnZS5RVUVSWV9SRVNPTFZFfSkpKSx0aGlzLmNvbW1hbmRFbmNvZGVyfWdldENvbXB1dGVQYXNzRW5jb2Rlcigpe2lmKCF0aGlzLmNvbXB1dGVQYXNzRW5jb2Rlcil7bGV0IHQ9e307dGhpcy5xdWVyeVR5cGU9PT0iYXQtcGFzc2VzIiYmKHQudGltZXN0YW1wV3JpdGVzPXtxdWVyeVNldDp0aGlzLnF1ZXJ5U2V0LGJlZ2lubmluZ09mUGFzc1dyaXRlSW5kZXg6dGhpcy5wZW5kaW5nRGlzcGF0Y2hOdW1iZXIqMixlbmRPZlBhc3NXcml0ZUluZGV4OnRoaXMucGVuZGluZ0Rpc3BhdGNoTnVtYmVyKjIrMX0pLHRoaXMuY29tcHV0ZVBhc3NFbmNvZGVyPXRoaXMuZ2V0Q29tbWFuZEVuY29kZXIoKS5iZWdpbkNvbXB1dGVQYXNzKHQpfXJldHVybiB0aGlzLmNvbXB1dGVQYXNzRW5jb2Rlcn1lbmRDb21wdXRlUGFzcygpe3RoaXMuY29tcHV0ZVBhc3NFbmNvZGVyJiYodGhpcy5jb21wdXRlUGFzc0VuY29kZXIuZW5kKCksdGhpcy5jb21wdXRlUGFzc0VuY29kZXI9bnVsbCl9Zmx1c2goKXtpZighdGhpcy5jb21tYW5kRW5jb2RlcilyZXR1cm47UnQoKSx0aGlzLmVuZENvbXB1dGVQYXNzKCk7bGV0IHQ7dGhpcy5xdWVyeVR5cGUhPT0ibm9uZSImJih0aGlzLmNvbW1hbmRFbmNvZGVyLnJlc29sdmVRdWVyeVNldCh0aGlzLnF1ZXJ5U2V0LDAsdGhpcy5wZW5kaW5nRGlzcGF0Y2hOdW1iZXIqMix0aGlzLnF1ZXJ5UmVzb2x2ZUJ1ZmZlciwwKSx0PXRoaXMuZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7c2l6ZTp0aGlzLnBlbmRpbmdEaXNwYXRjaE51bWJlcioyKjgsdXNhZ2U6R1BVQnVmZmVyVXNhZ2UuTUFQX1JFQUR8R1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1R9KSx0aGlzLnBlbmRpbmdRdWVyaWVzLnNldCh0LHRoaXMucGVuZGluZ0tlcm5lbHMpLHRoaXMucGVuZGluZ0tlcm5lbHM9W10sdGhpcy5jb21tYW5kRW5jb2Rlci5jb3B5QnVmZmVyVG9CdWZmZXIodGhpcy5xdWVyeVJlc29sdmVCdWZmZXIsMCx0LDAsdGhpcy5wZW5kaW5nRGlzcGF0Y2hOdW1iZXIqMio4KSksdGhpcy5kZXZpY2UucXVldWUuc3VibWl0KFt0aGlzLmNvbW1hbmRFbmNvZGVyLmZpbmlzaCgpXSksdGhpcy5ncHVEYXRhTWFuYWdlci5yZWZyZXNoUGVuZGluZ0J1ZmZlcnMoKSx0aGlzLmNvbW1hbmRFbmNvZGVyPW51bGwsdGhpcy5wZW5kaW5nRGlzcGF0Y2hOdW1iZXI9MCx0aGlzLnF1ZXJ5VHlwZSE9PSJub25lIiYmdC5tYXBBc3luYyhHUFVNYXBNb2RlLlJFQUQpLnRoZW4oKCk9PntsZXQgZT1uZXcgQmlnVWludDY0QXJyYXkodC5nZXRNYXBwZWRSYW5nZSgpKSxyPXRoaXMucGVuZGluZ1F1ZXJpZXMuZ2V0KHQpO2ZvcihsZXQgbj0wO248ZS5sZW5ndGgvMjtuKyspe2xldCBhPXJbbl0saT1hLmtlcm5lbElkLHM9dGhpcy5rZXJuZWxzLmdldChpKSxvPXMua2VybmVsVHlwZSxsPXMua2VybmVsTmFtZSxkPWEucHJvZ3JhbU5hbWUsYz1hLmlucHV0VGVuc29yVmlld3MsdT1hLm91dHB1dFRlbnNvclZpZXdzLGg9ZVtuKjJdLGY9ZVtuKjIrMV07dHlwZW9mIHRoaXMucXVlcnlUaW1lQmFzZT4idSImJih0aGlzLnF1ZXJ5VGltZUJhc2U9aCk7bGV0IGc9TnVtYmVyKGgtdGhpcy5xdWVyeVRpbWVCYXNlKSx5PU51bWJlcihmLXRoaXMucXVlcnlUaW1lQmFzZSk7aWYoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGcpfHwhTnVtYmVyLmlzU2FmZUludGVnZXIoeSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoImluY29ycmVjdCB0aW1lc3RhbXAgcmFuZ2UiKTtpZih0aGlzLmVudi53ZWJncHUucHJvZmlsaW5nPy5vbmRhdGEpdGhpcy5lbnYud2ViZ3B1LnByb2ZpbGluZy5vbmRhdGEoe3ZlcnNpb246MSxpbnB1dHNNZXRhZGF0YTpjLm1hcCh3PT4oe2RpbXM6dy5kaW1zLGRhdGFUeXBlOmp0KHcuZGF0YVR5cGUpfSkpLG91dHB1dHNNZXRhZGF0YTp1Lm1hcCh3PT4oe2RpbXM6dy5kaW1zLGRhdGFUeXBlOmp0KHcuZGF0YVR5cGUpfSkpLGtlcm5lbElkOmksa2VybmVsVHlwZTpvLGtlcm5lbE5hbWU6bCxwcm9ncmFtTmFtZTpkLHN0YXJ0VGltZTpnLGVuZFRpbWU6eX0pO2Vsc2V7bGV0IHc9IiI7Yy5mb3JFYWNoKChrLEUpPT57dys9YGlucHV0WyR7RX1dOiBbJHtrLmRpbXN9XSB8ICR7anQoay5kYXRhVHlwZSl9LCBgfSk7bGV0IHY9IiI7dS5mb3JFYWNoKChrLEUpPT57dis9YG91dHB1dFske0V9XTogWyR7ay5kaW1zfV0gfCAke2p0KGsuZGF0YVR5cGUpfSwgYH0pLGNvbnNvbGUubG9nKGBbcHJvZmlsaW5nXSBrZXJuZWwgIiR7aX18JHtvfXwke2x9fCR7ZH0iICR7d30ke3Z9ZXhlY3V0aW9uIHRpbWU6ICR7eS1nfSBuc2ApfWxuKCJHUFUiLGAke2R9Ojoke2h9Ojoke2Z9YCl9dC51bm1hcCgpLHRoaXMucGVuZGluZ1F1ZXJpZXMuZGVsZXRlKHQpfSksUHQoKX1ydW4odCxlLHIsbixhKXtSdCh0Lm5hbWUpO2xldCBpPVtdO2ZvcihsZXQgdj0wO3Y8ZS5sZW5ndGg7Kyt2KXtsZXQgaz10aGlzLmdwdURhdGFNYW5hZ2VyLmdldChlW3ZdLmRhdGEpO2lmKCFrKXRocm93IG5ldyBFcnJvcihgbm8gR1BVIGRhdGEgZm9yIGlucHV0OiAke2Vbdl0uZGF0YX1gKTtpW3ZdPWt9bGV0e291dHB1dHM6cyxkaXNwYXRjaEdyb3VwOm8scHJvZ3JhbVVuaWZvcm1zOmx9PXQuZ2V0UnVuRGF0YShlKSxkPXIubGVuZ3RoPT09MD9zLm1hcCgodixrKT0+ayk6cjtpZihkLmxlbmd0aCE9PXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgT3V0cHV0IHNpemUgJHtkLmxlbmd0aH0gbXVzdCBiZSBlcXVhbCB0byAke3MubGVuZ3RofS5gKTtsZXQgYz1bXSx1PVtdO2ZvcihsZXQgdj0wO3Y8cy5sZW5ndGg7Kyt2KXtpZighTnVtYmVyLmlzSW50ZWdlcihkW3ZdKXx8ZFt2XTwtM3x8ZFt2XT49cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG91dHB1dCBpbmRleDogJHtkW3ZdfWApO2lmKGRbdl09PT0tMyljb250aW51ZTtsZXQgaz1kW3ZdPT09LTEsRT1kW3ZdPT09LTIseD1rfHxFP2Eoc1t2XS5kYXRhVHlwZSxzW3ZdLmRpbXMpOm4oZFt2XSxzW3ZdLmRhdGFUeXBlLHNbdl0uZGltcyksST10aGlzLmdwdURhdGFNYW5hZ2VyLmdldCh4LmRhdGEpO2lmKCFJKXRocm93IG5ldyBFcnJvcihgbm8gR1BVIGRhdGEgZm9yIG91dHB1dDogJHt4LmRhdGF9YCk7aWYoayYmdGhpcy50ZW1wb3JhcnlEYXRhLnB1c2goSSksRSl7bGV0IFQ9dGhpcy5rZXJuZWxQZXJzaXN0ZW50RGF0YS5nZXQodGhpcy5jdXJyZW50S2VybmVsSWQpO1R8fChUPVtdLHRoaXMua2VybmVsUGVyc2lzdGVudERhdGEuc2V0KHRoaXMuY3VycmVudEtlcm5lbElkLFQpKSxULnB1c2goSSl9Yy5wdXNoKHgpLHUucHVzaChJKX1sZXQgaDtpZihsKXtsZXQgdj0wLGs9W107bC5mb3JFYWNoKFQ9PntsZXQgQj10eXBlb2YgVC5kYXRhPT0ibnVtYmVyIj9bVC5kYXRhXTpULmRhdGE7aWYoQi5sZW5ndGg9PT0wKXJldHVybjtsZXQgVT1CLmxlbmd0aDw9Mj9CLmxlbmd0aCo0OjE2O3Y9TWF0aC5jZWlsKHYvVSkqVSxrLnB1c2godiksdis9Qi5sZW5ndGg+ND9NYXRoLmNlaWwoQi5sZW5ndGgvNCkqMTY6Qi5sZW5ndGgqNH0pO2xldCBFPTE2O3Y9TWF0aC5jZWlsKHYvRSkqRTtsZXQgeD1uZXcgQXJyYXlCdWZmZXIodik7bC5mb3JFYWNoKChULEIpPT57bGV0IFU9a1tCXSxIPXR5cGVvZiBULmRhdGE9PSJudW1iZXIiP1tULmRhdGFdOlQuZGF0YTtULnR5cGU9PT0iaW50MzIiP25ldyBJbnQzMkFycmF5KHgsVSxILmxlbmd0aCkuc2V0KEgpOlQudHlwZT09PSJ1aW50MzIiP25ldyBVaW50MzJBcnJheSh4LFUsSC5sZW5ndGgpLnNldChIKTpuZXcgRmxvYXQzMkFycmF5KHgsVSxILmxlbmd0aCkuc2V0KEgpfSk7bGV0IEk9dGhpcy5ncHVEYXRhTWFuYWdlci5jcmVhdGUodixHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVHxHUFVCdWZmZXJVc2FnZS5VTklGT1JNKTt0aGlzLmRldmljZS5xdWV1ZS53cml0ZUJ1ZmZlcihJLmJ1ZmZlciwwLHgsMCx2KSx0aGlzLmdwdURhdGFNYW5hZ2VyLnJlbGVhc2UoSS5pZCksaD17b2Zmc2V0OjAsc2l6ZTp2LGJ1ZmZlcjpJLmJ1ZmZlcn19bGV0IGY9dGhpcy5wcm9ncmFtTWFuYWdlci5ub3JtYWxpemVEaXNwYXRjaEdyb3VwU2l6ZShvKSxnPWZbMV09PT0xJiZmWzJdPT09MSx5PW9oKHQsZSxnKSx3PXRoaXMucHJvZ3JhbU1hbmFnZXIuZ2V0QXJ0aWZhY3QoeSk7aWYod3x8KHc9dGhpcy5wcm9ncmFtTWFuYWdlci5idWlsZCh0LGYpLHRoaXMucHJvZ3JhbU1hbmFnZXIuc2V0QXJ0aWZhY3QoeSx3KSxhdCgiaW5mbyIsKCk9PmBbYXJ0aWZhY3RdIGtleTogJHt5fSwgcHJvZ3JhbU5hbWU6ICR7dC5uYW1lfWApKSxhdCgiaW5mbyIsKCk9PmBbUHJvZ3JhbU1hbmFnZXJdIHJ1biAiJHt0Lm5hbWV9IiAoa2V5PSR7eX0pIHdpdGggJHtmWzBdfXgke2ZbMV19eCR7ZlsyXX1gKSx0aGlzLnF1ZXJ5VHlwZSE9PSJub25lIil7bGV0IHY9e2tlcm5lbElkOnRoaXMuY3VycmVudEtlcm5lbElkLHByb2dyYW1OYW1lOncucHJvZ3JhbUluZm8ubmFtZSxpbnB1dFRlbnNvclZpZXdzOmUsb3V0cHV0VGVuc29yVmlld3M6Y307dGhpcy5wZW5kaW5nS2VybmVscy5wdXNoKHYpfXJldHVybiB0aGlzLnByb2dyYW1NYW5hZ2VyLnJ1bih3LGksdSxmLGgpLFB0KHQubmFtZSksY311cGxvYWQodCxlKXt0aGlzLmdwdURhdGFNYW5hZ2VyLnVwbG9hZCh0LGUpfW1lbWNweSh0LGUpe3RoaXMuZ3B1RGF0YU1hbmFnZXIubWVtY3B5KHQsZSl9YXN5bmMgZG93bmxvYWQodCxlKXthd2FpdCB0aGlzLmdwdURhdGFNYW5hZ2VyLmRvd25sb2FkKHQsZSl9YWxsb2ModCl7cmV0dXJuIHRoaXMuZ3B1RGF0YU1hbmFnZXIuY3JlYXRlKHQpLmlkfWZyZWUodCl7cmV0dXJuIHRoaXMuZ3B1RGF0YU1hbmFnZXIucmVsZWFzZSh0KX1jcmVhdGVLZXJuZWwodCxlLHIsbil7bGV0IGE9YWguZ2V0KHQpO2lmKCFhKXRocm93IG5ldyBFcnJvcihga2VybmVsIG5vdCBpbXBsZW1lbnRlZDogJHt0fWApO2xldCBpPXtrZXJuZWxUeXBlOnQsa2VybmVsTmFtZTpuLGtlcm5lbEVudHJ5OmFbMF0sYXR0cmlidXRlczpbYVsxXSxyXX07dGhpcy5rZXJuZWxzLnNldChlLGkpfXJlbGVhc2VLZXJuZWwodCl7bGV0IGU9dGhpcy5rZXJuZWxQZXJzaXN0ZW50RGF0YS5nZXQodCk7aWYoZSl7Zm9yKGxldCByIG9mIGUpdGhpcy5ncHVEYXRhTWFuYWdlci5yZWxlYXNlKHIuaWQpO3RoaXMua2VybmVsUGVyc2lzdGVudERhdGEuZGVsZXRlKHQpfXRoaXMua2VybmVsQ3VzdG9tRGF0YS5kZWxldGUodCksdGhpcy5rZXJuZWxzLmRlbGV0ZSh0KX1jb21wdXRlS2VybmVsKHQsZSxyKXtsZXQgbj10aGlzLmtlcm5lbHMuZ2V0KHQpO2lmKCFuKXRocm93IG5ldyBFcnJvcihga2VybmVsIG5vdCBjcmVhdGVkOiAke3R9YCk7bGV0IGE9bi5rZXJuZWxUeXBlLGk9bi5rZXJuZWxOYW1lLHM9bi5rZXJuZWxFbnRyeSxvPW4uYXR0cmlidXRlcztpZih0aGlzLmN1cnJlbnRLZXJuZWxJZCE9PW51bGwpdGhyb3cgbmV3IEVycm9yKGBrZXJuZWwgIlske2F9XSAke2l9IiBpcyBub3QgYWxsb3dlZCB0byBiZSBjYWxsZWQgcmVjdXJzaXZlbHlgKTt0aGlzLmN1cnJlbnRLZXJuZWxJZD10LG9bMF0mJihvWzFdPW9bMF0ob1sxXSksb1swXT12b2lkIDApLGF0KCJpbmZvIiwoKT0+YFtXZWJHUFVdIFN0YXJ0IHRvIHJ1biBrZXJuZWwgIlske2F9XSAke2l9Ii4uLmApO2xldCBsPXRoaXMuZW52LmRlYnVnO3RoaXMudGVtcG9yYXJ5RGF0YT1bXTt0cnl7cmV0dXJuIGwmJnRoaXMuZGV2aWNlLnB1c2hFcnJvclNjb3BlKCJ2YWxpZGF0aW9uIikscyhlLG9bMV0pLDB9Y2F0Y2goZCl7cmV0dXJuIHIucHVzaChQcm9taXNlLnJlc29sdmUoYFtXZWJHUFVdIEtlcm5lbCAiWyR7YX1dICR7aX0iIGZhaWxlZC4gJHtkfWApKSwxfWZpbmFsbHl7bCYmci5wdXNoKHRoaXMuZGV2aWNlLnBvcEVycm9yU2NvcGUoKS50aGVuKGQ9PmQ/YEdQVSB2YWxpZGF0aW9uIGVycm9yIGZvciBrZXJuZWwgIlske2F9XSAke2l9IjogJHtkLm1lc3NhZ2V9YDpudWxsKSk7Zm9yKGxldCBkIG9mIHRoaXMudGVtcG9yYXJ5RGF0YSl0aGlzLmdwdURhdGFNYW5hZ2VyLnJlbGVhc2UoZC5pZCk7dGhpcy50ZW1wb3JhcnlEYXRhPVtdLHRoaXMuY3VycmVudEtlcm5lbElkPW51bGx9fXJlZ2lzdGVyQnVmZmVyKHQsZSxyLG4pe2xldCBhPXRoaXMuc2Vzc2lvbkV4dGVybmFsRGF0YU1hcHBpbmcuZ2V0KHQpO2F8fChhPW5ldyBNYXAsdGhpcy5zZXNzaW9uRXh0ZXJuYWxEYXRhTWFwcGluZy5zZXQodCxhKSk7bGV0IGk9YS5nZXQoZSkscz10aGlzLmdwdURhdGFNYW5hZ2VyLnJlZ2lzdGVyRXh0ZXJuYWxCdWZmZXIocixuLGk/LlsxXSk7cmV0dXJuIGEuc2V0KGUsW3Mscl0pLHN9dW5yZWdpc3RlckJ1ZmZlcnModCl7bGV0IGU9dGhpcy5zZXNzaW9uRXh0ZXJuYWxEYXRhTWFwcGluZy5nZXQodCk7ZSYmKGUuZm9yRWFjaChyPT50aGlzLmdwdURhdGFNYW5hZ2VyLnVucmVnaXN0ZXJFeHRlcm5hbEJ1ZmZlcihyWzFdKSksdGhpcy5zZXNzaW9uRXh0ZXJuYWxEYXRhTWFwcGluZy5kZWxldGUodCkpfWdldEJ1ZmZlcih0KXtsZXQgZT10aGlzLmdwdURhdGFNYW5hZ2VyLmdldCh0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IoYG5vIEdQVSBkYXRhIGZvciBidWZmZXI6ICR7dH1gKTtyZXR1cm4gZS5idWZmZXJ9Y3JlYXRlRG93bmxvYWRlcih0LGUscil7cmV0dXJuIGFzeW5jKCk9PntsZXQgbj1hd2FpdCBZaSh0aGlzLHQsZSk7cmV0dXJuIGdsKG4uYnVmZmVyLHIpfX13cml0ZVRpbWVzdGFtcCh0KXt0aGlzLnF1ZXJ5VHlwZT09PSJpbnNpZGUtcGFzc2VzIiYmdGhpcy5jb21wdXRlUGFzc0VuY29kZXIud3JpdGVUaW1lc3RhbXAodGhpcy5xdWVyeVNldCx0KX1zZXRRdWVyeVR5cGUoKXt0aGlzLnF1ZXJ5VHlwZT0ibm9uZSIsKHRoaXMuZW52LndlYmdwdS5wcm9maWxpbmc/Lm1vZGU9PT0iZGVmYXVsdCJ8fHRoaXMuZW52Lndhc20udHJhY2UpJiYodGhpcy5kZXZpY2UuZmVhdHVyZXMuaGFzKCJjaHJvbWl1bS1leHBlcmltZW50YWwtdGltZXN0YW1wLXF1ZXJ5LWluc2lkZS1wYXNzZXMiKT90aGlzLnF1ZXJ5VHlwZT0iaW5zaWRlLXBhc3NlcyI6dGhpcy5kZXZpY2UuZmVhdHVyZXMuaGFzKCJ0aW1lc3RhbXAtcXVlcnkiKSYmKHRoaXMucXVlcnlUeXBlPSJhdC1wYXNzZXMiKSl9fX0pLHVoPXt9O05yKHVoLHtpbml0OigpPT5jaH0pO3ZhciB6YSxkaCxjaCxVXz1RKCgpPT57WWUoKSxOXygpLHZyKCksSWUoKSx6YT1jbGFzcyBjZ3tjb25zdHJ1Y3RvcihlLHIsbixhKXt0aGlzLm1vZHVsZT1lLHRoaXMuZGF0YVR5cGU9cix0aGlzLmRhdGE9bix0aGlzLmRpbXM9YX1nZXRGbG9hdDMyQXJyYXkoKXtpZih0aGlzLmRhdGFUeXBlIT09MSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZGF0YSB0eXBlIik7bGV0IGU9ZWUuc2l6ZSh0aGlzLmRpbXMpO3JldHVybiBlPT09MD9uZXcgRmxvYXQzMkFycmF5Om5ldyBGbG9hdDMyQXJyYXkodGhpcy5tb2R1bGUuSEVBUDguYnVmZmVyLHRoaXMuZGF0YSxlKX1nZXRCaWdJbnQ2NEFycmF5KCl7aWYodGhpcy5kYXRhVHlwZSE9PTcpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGRhdGEgdHlwZSIpO2xldCBlPWVlLnNpemUodGhpcy5kaW1zKTtyZXR1cm4gZT09PTA/bmV3IEJpZ0ludDY0QXJyYXk6bmV3IEJpZ0ludDY0QXJyYXkodGhpcy5tb2R1bGUuSEVBUDguYnVmZmVyLHRoaXMuZGF0YSxlKX1nZXRJbnQzMkFycmF5KCl7aWYodGhpcy5kYXRhVHlwZSE9PTYpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGRhdGEgdHlwZSIpO2xldCBlPWVlLnNpemUodGhpcy5kaW1zKTtyZXR1cm4gZT09PTA/bmV3IEludDMyQXJyYXk6bmV3IEludDMyQXJyYXkodGhpcy5tb2R1bGUuSEVBUDguYnVmZmVyLHRoaXMuZGF0YSxlKX1yZXNoYXBlKGUpe2lmKGVlLnNpemUoZSkhPT1lZS5zaXplKHRoaXMuZGltcykpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIG5ldyBzaGFwZSIpO3JldHVybiBuZXcgY2codGhpcy5tb2R1bGUsdGhpcy5kYXRhVHlwZSx0aGlzLmRhdGEsZSl9fSxkaD1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy5tb2R1bGU9dCx0aGlzLmJhY2tlbmQ9ZSx0aGlzLmN1c3RvbURhdGFPZmZzZXQ9MCx0aGlzLmN1c3RvbURhdGFTaXplPTA7bGV0IG49dC5IRUFQVTMyLGE9cj4+PjI7dGhpcy5vcEtlcm5lbENvbnRleHQ9blthKytdO2xldCBpPW5bYSsrXTt0aGlzLm91dHB1dENvdW50PW5bYSsrXSx0aGlzLmN1c3RvbURhdGFPZmZzZXQ9blthKytdLHRoaXMuY3VzdG9tRGF0YVNpemU9blthKytdO2xldCBzPVtdO2ZvcihsZXQgbz0wO288aTtvKyspe2xldCBsPW5bYSsrXSxkPW5bYSsrXSxjPW5bYSsrXSx1PVtdO2ZvcihsZXQgaD0wO2g8YztoKyspdS5wdXNoKG5bYSsrXSk7cy5wdXNoKG5ldyB6YSh0LGwsZCx1KSl9dGhpcy5pbnB1dHM9c31nZXQga2VybmVsQ3VzdG9tRGF0YSgpe3JldHVybiB0aGlzLmJhY2tlbmQuY3VycmVudEtlcm5lbEN1c3RvbURhdGF9Z2V0IGN1c3RvbURhdGFCdWZmZXIoKXtyZXR1cm4gdGhpcy5tb2R1bGUuSEVBUFU4LnN1YmFycmF5KHRoaXMuY3VzdG9tRGF0YU9mZnNldCx0aGlzLmN1c3RvbURhdGFPZmZzZXQrdGhpcy5jdXN0b21EYXRhU2l6ZSl9Y29tcHV0ZSh0LGUpe2xldCByPWU/LmlucHV0cz8ubWFwKHM9PnR5cGVvZiBzPT0ibnVtYmVyIj90aGlzLmlucHV0c1tzXTpzKT8/dGhpcy5pbnB1dHMsbj1lPy5vdXRwdXRzPz9bXSxhPShzLG8sbCk9Pm5ldyB6YSh0aGlzLm1vZHVsZSxvLHRoaXMub3V0cHV0KHMsbCksbCksaT0ocyxvKT0+e2xldCBsPXlhKHMpO2lmKCFsKXRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZGF0YSB0eXBlOiAke3N9YCk7bGV0IGQ9bCplZS5zaXplKG8pO3JldHVybiBuZXcgemEodGhpcy5tb2R1bGUscyx0aGlzLmJhY2tlbmQuZ3B1RGF0YU1hbmFnZXIuY3JlYXRlKGQpLmlkLG8pfTtyZXR1cm4gdGhpcy5iYWNrZW5kLnJ1bih0LHIsbixhLGkpfW91dHB1dCh0LGUpe2xldCByPXRoaXMubW9kdWxlLnN0YWNrU2F2ZSgpO3RyeXtsZXQgbj10aGlzLm1vZHVsZS5zdGFja0FsbG9jKCgxK2UubGVuZ3RoKSo0KSxhPW4+PjI7dGhpcy5tb2R1bGUuSEVBUFUzMlthKytdPWUubGVuZ3RoO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXRoaXMubW9kdWxlLkhFQVBVMzJbYSsrXT1lW2ldO3JldHVybiB0aGlzLm1vZHVsZS5fSnNlcE91dHB1dCh0aGlzLm9wS2VybmVsQ29udGV4dCx0LG4pfWNhdGNoKG4pe3Rocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdlbmVyYXRlIGtlcm5lbCdzIG91dHB1dFske3R9XSB3aXRoIGRpbXMgWyR7ZX1dLiBJZiB5b3UgYXJlIHJ1bm5pbmcgd2l0aCBwcmUtYWxsb2NhdGVkIG91dHB1dCwgcGxlYXNlIG1ha2Ugc3VyZSB0aGUgb3V0cHV0IHR5cGUvZGltcyBhcmUgY29ycmVjdC4gRXJyb3I6ICR7bn1gKX1maW5hbGx5e3RoaXMubW9kdWxlLnN0YWNrUmVzdG9yZShyKX19fSxjaD1hc3luYyh0LGUscik9PntsZXQgbj10LmpzZXBJbml0O2lmKCFuKXRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGluaXRpYWxpemUgSlNFUC4gVGhlIFdlYkFzc2VtYmx5IG1vZHVsZSBpcyBub3QgYnVpbHQgd2l0aCBKU0VQIHN1cHBvcnQuIik7bGV0IGE9bmV3IGxoO2F3YWl0IGEuaW5pdGlhbGl6ZShlLHIpLG4oYSxpPT5hLmFsbG9jKGkpLGk9PmEuZnJlZShpKSwoaSxzLG8sbD0hMSk9PntpZihsKWF0KCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIGpzZXBDb3B5R3B1VG9HcHU6IHNyYz0ke2l9LCBkc3Q9JHtzfSwgc2l6ZT0ke299YCksYS5tZW1jcHkoaSxzKTtlbHNle2F0KCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIGpzZXBDb3B5Q3B1VG9HcHU6IGRhdGFPZmZzZXQ9JHtpfSwgZ3B1RGF0YUlkPSR7c30sIHNpemU9JHtvfWApO2xldCBkPXQuSEVBUFU4LnN1YmFycmF5KGk+Pj4wLChpPj4+MCkrbyk7YS51cGxvYWQocyxkKX19LGFzeW5jKGkscyxvKT0+e2F0KCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIGpzZXBDb3B5R3B1VG9DcHU6IGdwdURhdGFJZD0ke2l9LCBkYXRhT2Zmc2V0PSR7c30sIHNpemU9JHtvfWApLGF3YWl0IGEuZG93bmxvYWQoaSwoKT0+dC5IRUFQVTguc3ViYXJyYXkocz4+PjAsKHM+Pj4wKStvKSl9LChpLHMsbyk9PmEuY3JlYXRlS2VybmVsKGkscyxvLHQuVVRGOFRvU3RyaW5nKHQuX0pzZXBHZXROb2RlTmFtZShzKSkpLGk9PmEucmVsZWFzZUtlcm5lbChpKSwoaSxzLG8sbCk9PnthdCgidmVyYm9zZSIsKCk9PmBbV2ViR1BVXSBqc2VwUnVuOiBzZXNzaW9uSGFuZGxlPSR7b30sIGtlcm5lbD0ke2l9LCBjb250ZXh0RGF0YU9mZnNldD0ke3N9YCk7bGV0IGQ9bmV3IGRoKHQsYSxzKTtyZXR1cm4gYS5jb21wdXRlS2VybmVsKGksZCxsKX0pfX0pLHBoLGhoLGZoLFZyLG1oLEJzLGdoLF9oLFJzLHloLHdoLHZoLFdfPVEoKCk9Pnt0XygpLHJfKCksWWUoKSxkbigpLEZpKCksdWwoKSxwaD0odCxlKT0+e3J0KCkuX09ydEluaXQodCxlKSE9PTAmJkdlKCJDYW4ndCBpbml0aWFsaXplIG9ubnhydW50aW1lLiIpfSxoaD1hc3luYyB0PT57cGgodC53YXNtLm51bVRocmVhZHMsd2EodC5sb2dMZXZlbCkpfSxmaD1hc3luYyh0LGUpPT57aWYoZT09PSJ3ZWJncHUiKXtpZih0eXBlb2YgbmF2aWdhdG9yPiJ1Inx8IW5hdmlnYXRvci5ncHUpdGhyb3cgbmV3IEVycm9yKCJXZWJHUFUgaXMgbm90IHN1cHBvcnRlZCBpbiBjdXJyZW50IGVudmlyb25tZW50Iik7bGV0IHI9YXdhaXQgbmF2aWdhdG9yLmdwdS5yZXF1ZXN0QWRhcHRlcigpO2lmKCFyKXRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdldCBHUFUgYWRhcHRlci4gWW91IG1heSBuZWVkIHRvIGVuYWJsZSBmbGFnICItLWVuYWJsZS11bnNhZmUtd2ViZ3B1IiBpZiB5b3UgYXJlIHVzaW5nIENocm9tZS4nKTtpZighdC53YXNtLnNpbWQpdGhyb3cgbmV3IEVycm9yKCJOb3Qgc3VwcG9ydGVkIGZvciBXZWJHUFU9T04gYW5kIFNJTUQ9T0ZGLiBQbGVhc2Ugc2V0IGBlbnYud2FzbS5zaW1kYCB0byB0cnVlIHdoZW4gdXNpbmcgYHdlYmdwdWAgRVAiKTtsZXQgbj0oVV8oKSx3cih1aCkpLmluaXQ7YXdhaXQgbihydCgpLHQscil9fSxWcj1uZXcgTWFwLG1oPXQ9PntsZXQgZT1ydCgpLHI9ZS5zdGFja1NhdmUoKTt0cnl7bGV0IG49ZS5zdGFja0FsbG9jKDgpO3JldHVybiBlLl9PcnRHZXRJbnB1dE91dHB1dENvdW50KHQsbixuKzQpIT09MCYmR2UoIkNhbid0IGdldCBzZXNzaW9uIGlucHV0L291dHB1dCBjb3VudC4iKSxbZS5IRUFQMzJbbi80XSxlLkhFQVAzMltuLzQrMV1dfWZpbmFsbHl7ZS5zdGFja1Jlc3RvcmUocil9fSxCcz10PT57bGV0IGU9cnQoKSxyPWUuX21hbGxvYyh0LmJ5dGVMZW5ndGgpO2lmKHI9PT0wKXRocm93IG5ldyBFcnJvcihgQ2FuJ3QgY3JlYXRlIGEgc2Vzc2lvbi4gZmFpbGVkIHRvIGFsbG9jYXRlIGEgYnVmZmVyIG9mIHNpemUgJHt0LmJ5dGVMZW5ndGh9LmApO3JldHVybiBlLkhFQVBVOC5zZXQodCxyKSxbcix0LmJ5dGVMZW5ndGhdfSxnaD1hc3luYyh0LGUpPT57bGV0IHIsbixhPXJ0KCk7QXJyYXkuaXNBcnJheSh0KT9bcixuXT10OnQuYnVmZmVyPT09YS5IRUFQVTguYnVmZmVyP1tyLG5dPVt0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoXTpbcixuXT1Ccyh0KTtsZXQgaT0wLHM9MCxvPTAsbD1bXSxkPVtdLGM9W107dHJ5e2lmKFtzLGxdPWxsKGUpLGU/LmV4dGVybmFsRGF0YSYmYS5tb3VudEV4dGVybmFsRGF0YSl7bGV0IHY9W107Zm9yKGxldCBrIG9mIGUuZXh0ZXJuYWxEYXRhKXtsZXQgRT10eXBlb2Ygaz09InN0cmluZyI/azprLnBhdGg7di5wdXNoKHZhKHR5cGVvZiBrPT0ic3RyaW5nIj9rOmsuZGF0YSkudGhlbih4PT57YS5tb3VudEV4dGVybmFsRGF0YShFLHgpfSkpfWF3YWl0IFByb21pc2UuYWxsKHYpfWk9YS5fT3J0Q3JlYXRlU2Vzc2lvbihyLG4scyksaT09PTAmJkdlKCJDYW4ndCBjcmVhdGUgYSBzZXNzaW9uLiIpO2xldFt1LGhdPW1oKGkpLGY9W10sZz1bXSx5PVtdO2ZvcihsZXQgdj0wO3Y8dTt2Kyspe2xldCBrPWEuX09ydEdldElucHV0TmFtZShpLHYpO2s9PT0wJiZHZSgiQ2FuJ3QgZ2V0IGFuIGlucHV0IG5hbWUuIiksZC5wdXNoKGspLGYucHVzaChhLlVURjhUb1N0cmluZyhrKSl9Zm9yKGxldCB2PTA7djxoO3YrKyl7bGV0IGs9YS5fT3J0R2V0T3V0cHV0TmFtZShpLHYpO2s9PT0wJiZHZSgiQ2FuJ3QgZ2V0IGFuIG91dHB1dCBuYW1lLiIpLGMucHVzaChrKTtsZXQgRT1hLlVURjhUb1N0cmluZyhrKTtnLnB1c2goRSk7e2xldCB4PXR5cGVvZiBlPy5wcmVmZXJyZWRPdXRwdXRMb2NhdGlvbj09InN0cmluZyI/ZS5wcmVmZXJyZWRPdXRwdXRMb2NhdGlvbjplPy5wcmVmZXJyZWRPdXRwdXRMb2NhdGlvbj8uW0VdPz8iY3B1IjtpZih4IT09ImNwdSImJnghPT0iY3B1LXBpbm5lZCImJnghPT0iZ3B1LWJ1ZmZlciIpdGhyb3cgbmV3IEVycm9yKGBOb3Qgc3VwcG9ydGVkIHByZWZlcnJlZCBvdXRwdXQgbG9jYXRpb246ICR7eH0uYCk7eS5wdXNoKHgpfX1sZXQgdz1udWxsO3JldHVybiB5LnNvbWUodj0+dj09PSJncHUtYnVmZmVyIikmJihvPWEuX09ydENyZWF0ZUJpbmRpbmcoaSksbz09PTAmJkdlKCJDYW4ndCBjcmVhdGUgSU8gYmluZGluZy4iKSx3PXtoYW5kbGU6byxvdXRwdXRQcmVmZXJyZWRMb2NhdGlvbnM6eSxvdXRwdXRQcmVmZXJyZWRMb2NhdGlvbnNFbmNvZGVkOnkubWFwKHY9PnFpKHYpKX0pLFZyLnNldChpLFtpLGQsYyx3XSksW2ksZixnXX1jYXRjaCh1KXt0aHJvdyBkLmZvckVhY2goaD0+YS5fT3J0RnJlZShoKSksYy5mb3JFYWNoKGg9PmEuX09ydEZyZWUoaCkpLG8hPT0wJiZhLl9PcnRSZWxlYXNlQmluZGluZyhvKSxpIT09MCYmYS5fT3J0UmVsZWFzZVNlc3Npb24oaSksdX1maW5hbGx5e2EuX2ZyZWUocikscyE9PTAmJmEuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucyhzKSxsLmZvckVhY2godT0+YS5fZnJlZSh1KSksYS51bm1vdW50RXh0ZXJuYWxEYXRhPy4oKX19LF9oPXQ9PntsZXQgZT1ydCgpLHI9VnIuZ2V0KHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcihgY2Fubm90IHJlbGVhc2Ugc2Vzc2lvbi4gaW52YWxpZCBzZXNzaW9uIGlkOiAke3R9YCk7bGV0W24sYSxpLHNdPXI7cyYmZS5fT3J0UmVsZWFzZUJpbmRpbmcocy5oYW5kbGUpLGUuanNlcFVucmVnaXN0ZXJCdWZmZXJzPy4odCksYS5mb3JFYWNoKG89PmUuX09ydEZyZWUobykpLGkuZm9yRWFjaChvPT5lLl9PcnRGcmVlKG8pKSxlLl9PcnRSZWxlYXNlU2Vzc2lvbihuKSxWci5kZWxldGUodCl9LFJzPSh0LGUscixuLGEpPT57aWYoIXQpe2UucHVzaCgwKTtyZXR1cm59bGV0IGk9cnQoKSxzPXRbMF0sbz10WzFdLGw9dFszXSxkLGM7aWYocz09PSJzdHJpbmciJiZsPT09ImdwdS1idWZmZXIiKXRocm93IG5ldyBFcnJvcigiU3RyaW5nIHRlbnNvciBpcyBub3Qgc3VwcG9ydGVkIG9uIEdQVS4iKTtpZihsPT09ImdwdS1idWZmZXIiKXtsZXQgZj10WzJdLmdwdUJ1ZmZlcixnPXlhKFZpKHMpKTtjPW8ucmVkdWNlKCh5LHcpPT55KncsMSkqZyxkPWkuanNlcFJlZ2lzdGVyQnVmZmVyKG4sYSxmLGMpfWVsc2V7bGV0IGY9dFsyXTtpZihBcnJheS5pc0FycmF5KGYpKXtjPTQqZi5sZW5ndGgsZD1pLl9tYWxsb2MoYyksci5wdXNoKGQpO2xldCBnPWQvNDtmb3IobGV0IHk9MDt5PGYubGVuZ3RoO3krKyl7aWYodHlwZW9mIGZbeV0hPSJzdHJpbmciKXRocm93IG5ldyBUeXBlRXJyb3IoYHRlbnNvciBkYXRhIGF0IGluZGV4ICR7eX0gaXMgbm90IGEgc3RyaW5nYCk7aS5IRUFQVTMyW2crK109bnQoZlt5XSxyKX19ZWxzZSBjPWYuYnl0ZUxlbmd0aCxkPWkuX21hbGxvYyhjKSxyLnB1c2goZCksaS5IRUFQVTguc2V0KG5ldyBVaW50OEFycmF5KGYuYnVmZmVyLGYuYnl0ZU9mZnNldCxjKSxkKX1sZXQgdT1pLnN0YWNrU2F2ZSgpLGg9aS5zdGFja0FsbG9jKDQqby5sZW5ndGgpO3RyeXtsZXQgZj1oLzQ7by5mb3JFYWNoKHk9PmkuSEVBUDMyW2YrK109eSk7bGV0IGc9aS5fT3J0Q3JlYXRlVGVuc29yKFZpKHMpLGQsYyxoLG8ubGVuZ3RoLHFpKGwpKTtnPT09MCYmR2UoYENhbid0IGNyZWF0ZSB0ZW5zb3IgZm9yIGlucHV0L291dHB1dC4gc2Vzc2lvbj0ke259LCBpbmRleD0ke2F9LmApLGUucHVzaChnKX1maW5hbGx5e2kuc3RhY2tSZXN0b3JlKHUpfX0seWg9YXN5bmModCxlLHIsbixhLGkpPT57bGV0IHM9cnQoKSxvPVZyLmdldCh0KTtpZighbyl0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBydW4gaW5mZXJlbmNlLiBpbnZhbGlkIHNlc3Npb24gaWQ6ICR7dH1gKTtsZXRbbCxkLGMsdV09byxoPWUubGVuZ3RoLGY9bi5sZW5ndGgsZz0wLHk9W10sdz1bXSx2PVtdLGs9W10sRT1zLnN0YWNrU2F2ZSgpLHg9cy5zdGFja0FsbG9jKGgqNCksST1zLnN0YWNrQWxsb2MoaCo0KSxUPXMuc3RhY2tBbGxvYyhmKjQpLEI9cy5zdGFja0FsbG9jKGYqNCk7dHJ5e1tnLHldPW5sKGkpO2ZvcihsZXQgcT0wO3E8aDtxKyspUnMocltxXSx3LGssdCxlW3FdKTtmb3IobGV0IHE9MDtxPGY7cSsrKVJzKGFbcV0sdixrLHQsaCtuW3FdKTtsZXQgVT14LzQsSD1JLzQsSz1ULzQsTz1CLzQ7Zm9yKGxldCBxPTA7cTxoO3ErKylzLkhFQVBVMzJbVSsrXT13W3FdLHMuSEVBUFUzMltIKytdPWRbZVtxXV07Zm9yKGxldCBxPTA7cTxmO3ErKylzLkhFQVBVMzJbSysrXT12W3FdLHMuSEVBUFUzMltPKytdPWNbbltxXV07aWYodSl7bGV0e2hhbmRsZTpxLG91dHB1dFByZWZlcnJlZExvY2F0aW9uczpQLG91dHB1dFByZWZlcnJlZExvY2F0aW9uc0VuY29kZWQ6TH09dTtpZihkLmxlbmd0aCE9PWgpdGhyb3cgbmV3IEVycm9yKGBpbnB1dCBjb3VudCBmcm9tIGZlZWRzICgke2h9KSBpcyBleHBlY3RlZCB0byBiZSBhbHdheXMgZXF1YWwgdG8gbW9kZWwncyBpbnB1dCBjb3VudCAoJHtkLmxlbmd0aH0pLmApO2ZvcihsZXQgVj0wO1Y8aDtWKyspe2xldCB0ZT1lW1ZdO2F3YWl0IHMuX09ydEJpbmRJbnB1dChxLGRbdGVdLHdbVl0pIT09MCYmR2UoYENhbid0IGJpbmQgaW5wdXRbJHtWfV0gZm9yIHNlc3Npb249JHt0fS5gKX1mb3IobGV0IFY9MDtWPGY7VisrKXtsZXQgdGU9bltWXTthW1ZdPy5bM10/cy5fT3J0QmluZE91dHB1dChxLGNbdGVdLHZbVl0sMCkhPT0wJiZHZShgQ2FuJ3QgYmluZCBwcmUtYWxsb2NhdGVkIG91dHB1dFske1Z9XSBmb3Igc2Vzc2lvbj0ke3R9LmApOnMuX09ydEJpbmRPdXRwdXQocSxjW3RlXSwwLExbdGVdKSE9PTAmJkdlKGBDYW4ndCBiaW5kIG91dHB1dFske1Z9XSB0byAke1BbVl19IGZvciBzZXNzaW9uPSR7dH0uYCl9fWxldCBHO3U/Rz1hd2FpdCBzLl9PcnRSdW5XaXRoQmluZGluZyhsLHUuaGFuZGxlLGYsVCxnKTpHPWF3YWl0IHMuX09ydFJ1bihsLEkseCxoLEIsZixULGcpLEchPT0wJiZHZSgiZmFpbGVkIHRvIGNhbGwgT3J0UnVuKCkuIik7bGV0IG5lPVtdO2ZvcihsZXQgcT0wO3E8ZjtxKyspe2xldCBQPXMuSEVBUFUzMltULzQrcV07aWYoUD09PXZbcV0pe25lLnB1c2goYVtxXSk7Y29udGludWV9bGV0IEw9cy5zdGFja1NhdmUoKSxWPXMuc3RhY2tBbGxvYyg0KjQpLHRlPSExLFgsdWU9MDt0cnl7cy5fT3J0R2V0VGVuc29yRGF0YShQLFYsVis0LFYrOCxWKzEyKSE9PTAmJkdlKGBDYW4ndCBhY2Nlc3Mgb3V0cHV0IHRlbnNvciBkYXRhIG9uIGluZGV4ICR7cX0uYCk7bGV0IEY9Vi80LG9lPXMuSEVBUFUzMltGKytdO3VlPXMuSEVBUFUzMltGKytdO2xldCAkZT1zLkhFQVBVMzJbRisrXSxVZT1zLkhFQVBVMzJbRisrXSxQZT1bXTtmb3IobGV0IFdlPTA7V2U8VWU7V2UrKylQZS5wdXNoKHMuSEVBUFUzMlskZS80K1dlXSk7cy5fT3J0RnJlZSgkZSk7bGV0IFZlPVBlLnJlZHVjZSgoV2UsSGUpPT5XZSpIZSwxKTtYPWp0KG9lKTtsZXQgU3Q9dT8ub3V0cHV0UHJlZmVycmVkTG9jYXRpb25zW25bcV1dO2lmKFg9PT0ic3RyaW5nIil7aWYoU3Q9PT0iZ3B1LWJ1ZmZlciIpdGhyb3cgbmV3IEVycm9yKCJTdHJpbmcgdGVuc29yIGlzIG5vdCBzdXBwb3J0ZWQgb24gR1BVLiIpO2xldCBXZT1bXSxIZT11ZS80O2ZvcihsZXQgTXQ9MDtNdDxWZTtNdCsrKXtsZXQgenQ9cy5IRUFQVTMyW0hlKytdLHF0PU10PT09VmUtMT92b2lkIDA6cy5IRUFQVTMyW0hlXS16dDtXZS5wdXNoKHMuVVRGOFRvU3RyaW5nKHp0LHF0KSl9bmUucHVzaChbWCxQZSxXZSwiY3B1Il0pfWVsc2UgaWYoU3Q9PT0iZ3B1LWJ1ZmZlciImJlZlPjApe2xldCBXZT1zLmpzZXBHZXRCdWZmZXIodWUpLEhlPXlhKG9lKTtpZihIZT09PXZvaWQgMHx8IUdpKFgpKXRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZGF0YSB0eXBlOiAke1h9YCk7dGU9ITAsbmUucHVzaChbWCxQZSx7Z3B1QnVmZmVyOldlLGRvd25sb2FkOnMuanNlcENyZWF0ZURvd25sb2FkZXIoV2UsVmUqSGUsWCksZGlzcG9zZTooKT0+e3MuX09ydFJlbGVhc2VUZW5zb3IoUCl9fSwiZ3B1LWJ1ZmZlciJdKX1lbHNle2xldCBXZT1IaShYKSxIZT1uZXcgV2UoVmUpO25ldyBVaW50OEFycmF5KEhlLmJ1ZmZlcixIZS5ieXRlT2Zmc2V0LEhlLmJ5dGVMZW5ndGgpLnNldChzLkhFQVBVOC5zdWJhcnJheSh1ZSx1ZStIZS5ieXRlTGVuZ3RoKSksbmUucHVzaChbWCxQZSxIZSwiY3B1Il0pfX1maW5hbGx5e3Muc3RhY2tSZXN0b3JlKEwpLFg9PT0ic3RyaW5nIiYmdWUmJnMuX2ZyZWUodWUpLHRlfHxzLl9PcnRSZWxlYXNlVGVuc29yKFApfX1yZXR1cm4gdSYmcy5fT3J0Q2xlYXJCb3VuZE91dHB1dHModS5oYW5kbGUpLG5lfWZpbmFsbHl7cy5zdGFja1Jlc3RvcmUoRSksdy5mb3JFYWNoKFU9PnMuX09ydFJlbGVhc2VUZW5zb3IoVSkpLHYuZm9yRWFjaChVPT5zLl9PcnRSZWxlYXNlVGVuc29yKFUpKSxrLmZvckVhY2goVT0+cy5fZnJlZShVKSksZyE9PTAmJnMuX09ydFJlbGVhc2VSdW5PcHRpb25zKGcpLHkuZm9yRWFjaChVPT5zLl9mcmVlKFUpKX19LHdoPXQ9PntsZXQgZT1ydCgpLHI9VnIuZ2V0KHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBzZXNzaW9uIGlkIik7bGV0IG49clswXSxhPWUuX09ydEVuZFByb2ZpbGluZyhuKTthPT09MCYmR2UoIkNhbid0IGdldCBhbiBwcm9maWxlIGZpbGUgbmFtZS4iKSxlLl9PcnRGcmVlKGEpfSx2aD10PT57bGV0IGU9W107Zm9yKGxldCByIG9mIHQpe2xldCBuPXJbMl07IUFycmF5LmlzQXJyYXkobikmJiJidWZmZXIiaW4gbiYmZS5wdXNoKG4uYnVmZmVyKX1yZXR1cm4gZX19KSxMXz1EcigodCxlKT0+e2UuZXhwb3J0cz0nLyohXG4gKiBPTk5YIFJ1bnRpbWUgV2ViIHYxLjE3LjFcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG4idXNlIHN0cmljdCI7KCgpPT57dmFyIGhuPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgTHU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjt2YXIgRnU9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7dmFyIGp1PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIGo9KGUsdCk9PigpPT4oZSYmKHQ9ZShlPTApKSx0KTt2YXIgZHI9KGUsdCk9PigpPT4odHx8ZSgodD17ZXhwb3J0czp7fX0pLmV4cG9ydHMsdCksdC5leHBvcnRzKSxCcj0oZSx0KT0+e2Zvcih2YXIgciBpbiB0KWhuKGUscix7Z2V0OnRbcl0sZW51bWVyYWJsZTohMH0pfSxxdT0oZSx0LHIsbyk9PntpZih0JiZ0eXBlb2YgdD09Im9iamVjdCJ8fHR5cGVvZiB0PT0iZnVuY3Rpb24iKWZvcihsZXQgbiBvZiBGdSh0KSkhanUuY2FsbChlLG4pJiZuIT09ciYmaG4oZSxuLHtnZXQ6KCk9PnRbbl0sZW51bWVyYWJsZTohKG89THUodCxuKSl8fG8uZW51bWVyYWJsZX0pO3JldHVybiBlfTt2YXIgSHQ9ZT0+cXUoaG4oe30sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUpO3ZhciBnbj17fTtCcihnbix7Y3JlYXRlUmVhZFN0cmVhbTooKT0+eG8scmVhZEZpbGU6KCk9Pkt1LHJlYWRGaWxlU3luYzooKT0+WXV9KTt2YXIgS3UsWXUseG8seW49aigoKT0+e0t1PXZvaWQgMCxZdT12b2lkIDAseG89dm9pZCAwfSk7dmFyIGJuPXt9O0JyKGJuLHtqb2luOigpPT5adX0pO3ZhciBadSx3bj1qKCgpPT57WnU9dm9pZCAwfSk7dmFyIElvPWRyKChDbyx2bik9PnsidXNlIHN0cmljdCI7dmFyIF9vPSgoKT0+e3ZhciBlPXR5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQ/ZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM6dm9pZCAwO3JldHVybiB0eXBlb2YgX19maWxlbmFtZTwidSImJihlPWV8fF9fZmlsZW5hbWUpLGZ1bmN0aW9uKHQ9e30pe3ZhciByPXQsbyxuO3IucmVhZHk9bmV3IFByb21pc2UoKGQsbSk9PntvPWQsbj1tfSksci5tb3VudEV4dGVybmFsRGF0YT0oZCxtKT0+eyhyLkZhfHwoci5GYT1uZXcgTWFwKSkuc2V0KGQsbSl9LHIudW5tb3VudEV4dGVybmFsRGF0YT0oKT0+e2RlbGV0ZSByLkZhfSxyLmpzZXBJbml0PShkLG0sdixDLEIsSCxxLGxlKT0+e3IuYWI9ZCxyLlFhPW0sci5TYT12LHIuTGE9QyxyLlJhPUIsci5zYT1ILHIuVGE9cSxyLlVhPWxlLG09KEoscmUsc2UpPT4oLi4ud2UpPT57bGV0IF9lPXR0LFA9cmU/LigpO3dlPUooLi4ud2UpO2xldCB1ZT1yZT8uKCk7cmV0dXJuIFAhPT11ZSYmKEo9dWUsc2UoUCkscmU9c2U9bnVsbCksdHQhPV9lP3hyKCk6d2V9LHY9Sj0+YXN5bmMoLi4ucmUpPT57dHJ5e2lmKHIuRWEpdGhyb3cgRXJyb3IoIlNlc3Npb24gYWxyZWFkeSBzdGFydGVkIik7bGV0IHNlPXIuRWE9e1ZhOnJlWzBdLGVycm9yczpbXX0sd2U9YXdhaXQgSiguLi5yZSk7aWYoci5FYSE9PXNlKXRocm93IEVycm9yKCJTZXNzaW9uIG1pc21hdGNoIik7ZC5mbHVzaCgpO2xldCBfZT1zZS5lcnJvcnM7aWYoMDxfZS5sZW5ndGgpe2xldCBQPWF3YWl0IFByb21pc2UuYWxsKF9lKTtpZihQPVAuZmlsdGVyKHVlPT51ZSksMDxQLmxlbmd0aCl0aHJvdyBFcnJvcihQLmpvaW4oYFxuYCkpfXJldHVybiB3ZX1maW5hbGx5e3IuRWE9bnVsbH19LHIuX09ydFJ1bj12KG0oci5fT3J0UnVuLCgpPT5yLl9PcnRSdW4sSj0+ci5fT3J0UnVuPUopKSxyLl9PcnRSdW5XaXRoQmluZGluZz12KG0oci5fT3J0UnVuV2l0aEJpbmRpbmcsKCk9PnIuX09ydFJ1bldpdGhCaW5kaW5nLEo9PnIuX09ydFJ1bldpdGhCaW5kaW5nPUopKSxyLl9PcnRCaW5kSW5wdXQ9bShyLl9PcnRCaW5kSW5wdXQsKCk9PnIuX09ydEJpbmRJbnB1dCxKPT5yLl9PcnRCaW5kSW5wdXQ9Siksci5qc2VwUmVnaXN0ZXJCdWZmZXI9KEoscmUsc2Usd2UpPT5kLnJlZ2lzdGVyQnVmZmVyKEoscmUsc2Usd2UpLHIuanNlcFVucmVnaXN0ZXJCdWZmZXJzPUo9PntkLnVucmVnaXN0ZXJCdWZmZXJzKEopfSxyLmpzZXBHZXRCdWZmZXI9Sj0+ZC5nZXRCdWZmZXIoSiksci5qc2VwQ3JlYXRlRG93bmxvYWRlcj0oSixyZSxzZSk9PmQuY3JlYXRlRG93bmxvYWRlcihKLHJlLHNlKX07dmFyIHM9T2JqZWN0LmFzc2lnbih7fSxyKSx1PSIuL3RoaXMucHJvZ3JhbSIsbD0oZCxtKT0+e3Rocm93IG19LGE9dHlwZW9mIHdpbmRvdz09Im9iamVjdCIscD10eXBlb2YgaW1wb3J0U2NyaXB0cz09ImZ1bmN0aW9uIixoPXR5cGVvZiBwcm9jZXNzPT0ib2JqZWN0IiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnM9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlPT0ic3RyaW5nIixnPSIiLGIsdyx5O2lmKGgpe3ZhciBfPSh5bigpLEh0KGduKSksST0od24oKSxIdChibikpO2c9cD9JLmRpcm5hbWUoZykrIi8iOl9fZGlybmFtZSsiLyIsYj0oZCxtKT0+KGQ9V2UoZCk/bmV3IFVSTChkKTpJLm5vcm1hbGl6ZShkKSxfLnJlYWRGaWxlU3luYyhkLG0/dm9pZCAwOiJ1dGY4IikpLHk9ZD0+KGQ9YihkLCEwKSxkLmJ1ZmZlcnx8KGQ9bmV3IFVpbnQ4QXJyYXkoZCkpLGQpLHc9KGQsbSx2LEM9ITApPT57ZD1XZShkKT9uZXcgVVJMKGQpOkkubm9ybWFsaXplKGQpLF8ucmVhZEZpbGUoZCxDP3ZvaWQgMDoidXRmOCIsKEIsSCk9PntCP3YoQik6bShDP0guYnVmZmVyOkgpfSl9LCFyLnRoaXNQcm9ncmFtJiYxPHByb2Nlc3MuYXJndi5sZW5ndGgmJih1PXByb2Nlc3MuYXJndlsxXS5yZXBsYWNlKC9cXFxcL2csIi8iKSkscHJvY2Vzcy5hcmd2LnNsaWNlKDIpLGw9KGQsbSk9Pnt0aHJvdyBwcm9jZXNzLmV4aXRDb2RlPWQsbX0sci5pbnNwZWN0PSgpPT4iW0Vtc2NyaXB0ZW4gTW9kdWxlIG9iamVjdF0ifWVsc2UoYXx8cCkmJihwP2c9c2VsZi5sb2NhdGlvbi5ocmVmOnR5cGVvZiBkb2N1bWVudDwidSImJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQmJihnPWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjKSxlJiYoZz1lKSxnLmluZGV4T2YoImJsb2I6IikhPT0wP2c9Zy5zdWJzdHIoMCxnLnJlcGxhY2UoL1s/I10uKi8sIiIpLmxhc3RJbmRleE9mKCIvIikrMSk6Zz0iIixiPWQ9Pnt2YXIgbT1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIG0ub3BlbigiR0VUIixkLCExKSxtLnNlbmQobnVsbCksbS5yZXNwb25zZVRleHR9LHAmJih5PWQ9Pnt2YXIgbT1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIG0ub3BlbigiR0VUIixkLCExKSxtLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLG0uc2VuZChudWxsKSxuZXcgVWludDhBcnJheShtLnJlc3BvbnNlKX0pLHc9KGQsbSx2KT0+e3ZhciBDPW5ldyBYTUxIdHRwUmVxdWVzdDtDLm9wZW4oIkdFVCIsZCwhMCksQy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixDLm9ubG9hZD0oKT0+e0Muc3RhdHVzPT0yMDB8fEMuc3RhdHVzPT0wJiZDLnJlc3BvbnNlP20oQy5yZXNwb25zZSk6digpfSxDLm9uZXJyb3I9dixDLnNlbmQobnVsbCl9KTt2YXIgJD1jb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLHg9Y29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpO09iamVjdC5hc3NpZ24ocixzKSxzPW51bGwsdHlwZW9mIFdlYkFzc2VtYmx5IT0ib2JqZWN0IiYmaGUoIm5vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWQiKTt2YXIgRSxBPSExLHosUixWLFQsTix0ZSxZO2Z1bmN0aW9uIEsoKXt2YXIgZD1FLmJ1ZmZlcjtyLkhFQVA4PVI9bmV3IEludDhBcnJheShkKSxyLkhFQVAxNj1uZXcgSW50MTZBcnJheShkKSxyLkhFQVBVOD1WPW5ldyBVaW50OEFycmF5KGQpLHIuSEVBUFUxNj1uZXcgVWludDE2QXJyYXkoZCksci5IRUFQMzI9VD1uZXcgSW50MzJBcnJheShkKSxyLkhFQVBVMzI9Tj1uZXcgVWludDMyQXJyYXkoZCksci5IRUFQRjMyPXRlPW5ldyBGbG9hdDMyQXJyYXkoZCksci5IRUFQRjY0PVk9bmV3IEZsb2F0NjRBcnJheShkKX12YXIgUT1bXSxaPVtdLEVlPVtdLFBlPTAsZmU9bnVsbCxJZT1udWxsO2Z1bmN0aW9uIGhlKGQpe3Rocm93IGQ9IkFib3J0ZWQoIitkKyIpIix4KGQpLEE9ITAsej0xLGQ9bmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcihkKyIuIEJ1aWxkIHdpdGggLXNBU1NFUlRJT05TIGZvciBtb3JlIGluZm8uIiksbihkKSxkfXZhciB5ZT1kPT5kLnN0YXJ0c1dpdGgoImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwiKSxXZT1kPT5kLnN0YXJ0c1dpdGgoImZpbGU6Ly8iKSxEZTtpZihEZT0ib3J0LXdhc20tc2ltZC53YXNtIiwheWUoRGUpKXt2YXIgR2U9RGU7RGU9ci5sb2NhdGVGaWxlP3IubG9jYXRlRmlsZShHZSxnKTpnK0dlfWZ1bmN0aW9uIEcoZCl7aWYoeSlyZXR1cm4geShkKTt0aHJvdyJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCJ9ZnVuY3Rpb24gZWUoZCl7aWYoYXx8cCl7aWYodHlwZW9mIGZldGNoPT0iZnVuY3Rpb24iJiYhV2UoZCkpcmV0dXJuIGZldGNoKGQse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKG09PntpZighbS5vayl0aHJvdyJmYWlsZWQgdG8gbG9hZCB3YXNtIGJpbmFyeSBmaWxlIGF0IFwnIitkKyJcJyI7cmV0dXJuIG0uYXJyYXlCdWZmZXIoKX0pLmNhdGNoKCgpPT5HKGQpKTtpZih3KXJldHVybiBuZXcgUHJvbWlzZSgobSx2KT0+e3coZCxDPT5tKG5ldyBVaW50OEFycmF5KEMpKSx2KX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpPT5HKGQpKX1mdW5jdGlvbiBiZShkLG0sdil7cmV0dXJuIGVlKGQpLnRoZW4oQz0+V2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoQyxtKSkudGhlbihDPT5DKS50aGVuKHYsQz0+e3goYGZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICR7Q31gKSxoZShDKX0pfWZ1bmN0aW9uIGV0KGQsbSl7dmFyIHY9RGU7cmV0dXJuIHR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyE9ImZ1bmN0aW9uInx8eWUodil8fFdlKHYpfHxofHx0eXBlb2YgZmV0Y2ghPSJmdW5jdGlvbiI/YmUodixkLG0pOmZldGNoKHYse2NyZWRlbnRpYWxzOiJzYW1lLW9yaWdpbiJ9KS50aGVuKEM9PldlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKEMsZCkudGhlbihtLGZ1bmN0aW9uKEIpe3JldHVybiB4KGB3YXNtIHN0cmVhbWluZyBjb21waWxlIGZhaWxlZDogJHtCfWApLHgoImZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uIiksYmUodixkLG0pfSkpfXZhciB6ZSxVZT17OTMxMDU2OihkLG0sdixDKT0+e2lmKHR5cGVvZiByPiJ1Inx8IXIuRmEpcmV0dXJuIDE7aWYoZD1xZShkPj4+MCksZC5zdGFydHNXaXRoKCIuLyIpJiYoZD1kLnN1YnN0cmluZygyKSksZD1yLkZhLmdldChkKSwhZClyZXR1cm4gMjtpZihtPj4+PTAsdj4+Pj0wLG0rdj5kLmJ5dGVMZW5ndGgpcmV0dXJuIDM7dHJ5e3JldHVybiBWLnNldChkLnN1YmFycmF5KG0sbSt2KSxDPj4+MD4+PjApLDB9Y2F0Y2h7cmV0dXJuIDR9fSw5MzE1NTc6ZD0+ci5RYShkKSw5MzE1OTA6ZD0+ci5TYShkKSw5MzE2MjI6KGQsbSx2KT0+e3IuTGEoZCxtLHYsITApfSw5MzE2NjE6KGQsbSx2KT0+e3IuTGEoZCxtLHYpfSw5MzE2OTQ6ZD0+e3Iuc2EoIkFicyIsZCx2b2lkIDApfSw5MzE3NDU6ZD0+e3Iuc2EoIk5lZyIsZCx2b2lkIDApfSw5MzE3OTY6ZD0+e3Iuc2EoIkZsb29yIixkLHZvaWQgMCl9LDkzMTg0OTpkPT57ci5zYSgiQ2VpbCIsZCx2b2lkIDApfSw5MzE5MDE6ZD0+e3Iuc2EoIlJlY2lwcm9jYWwiLGQsdm9pZCAwKX0sOTMxOTU5OmQ9PntyLnNhKCJTcXJ0IixkLHZvaWQgMCl9LDkzMjAxMTpkPT57ci5zYSgiRXhwIixkLHZvaWQgMCl9LDkzMjA2MjpkPT57ci5zYSgiRXJmIixkLHZvaWQgMCl9LDkzMjExMzpkPT57ci5zYSgiU2lnbW9pZCIsZCx2b2lkIDApfSw5MzIxNjg6ZD0+e3Iuc2EoIkxvZyIsZCx2b2lkIDApfSw5MzIyMTk6ZD0+e3Iuc2EoIlNpbiIsZCx2b2lkIDApfSw5MzIyNzA6ZD0+e3Iuc2EoIkNvcyIsZCx2b2lkIDApfSw5MzIzMjE6ZD0+e3Iuc2EoIlRhbiIsZCx2b2lkIDApfSw5MzIzNzI6ZD0+e3Iuc2EoIkFzaW4iLGQsdm9pZCAwKX0sOTMyNDI0OmQ9PntyLnNhKCJBY29zIixkLHZvaWQgMCl9LDkzMjQ3NjpkPT57ci5zYSgiQXRhbiIsZCx2b2lkIDApfSw5MzI1Mjg6ZD0+e3Iuc2EoIlNpbmgiLGQsdm9pZCAwKX0sOTMyNTgwOmQ9PntyLnNhKCJDb3NoIixkLHZvaWQgMCl9LDkzMjYzMjpkPT57ci5zYSgiQXNpbmgiLGQsdm9pZCAwKX0sOTMyNjg1OmQ9PntyLnNhKCJBY29zaCIsZCx2b2lkIDApfSw5MzI3Mzg6ZD0+e3Iuc2EoIkF0YW5oIixkLHZvaWQgMCl9LDkzMjc5MTpkPT57ci5zYSgiVGFuaCIsZCx2b2lkIDApfSw5MzI4NDM6ZD0+e3Iuc2EoIk5vdCIsZCx2b2lkIDApfSw5MzI4OTQ6KGQsbSx2KT0+e3Iuc2EoIkNsaXAiLGQse21pbjptLG1heDp2fSl9LDkzMjk2MzpkPT57ci5zYSgiQ2xpcCIsZCx2b2lkIDApfSw5MzMwMTU6KGQsbSk9PntyLnNhKCJFbHUiLGQse2FscGhhOm19KX0sOTMzMDczOmQ9PntyLnNhKCJSZWx1IixkLHZvaWQgMCl9LDkzMzEyNTooZCxtKT0+e3Iuc2EoIkxlYWt5UmVsdSIsZCx7YWxwaGE6bX0pfSw5MzMxODk6KGQsbSk9PntyLnNhKCJUaHJlc2hvbGRlZFJlbHUiLGQse2FscGhhOm19KX0sOTMzMjU5OihkLG0pPT57ci5zYSgiQ2FzdCIsZCx7dG86bX0pfSw5MzMzMTc6ZD0+e3Iuc2EoIkFkZCIsZCx2b2lkIDApfSw5MzMzNjg6ZD0+e3Iuc2EoIlN1YiIsZCx2b2lkIDApfSw5MzM0MTk6ZD0+e3Iuc2EoIk11bCIsZCx2b2lkIDApfSw5MzM0NzA6ZD0+e3Iuc2EoIkRpdiIsZCx2b2lkIDApfSw5MzM1MjE6ZD0+e3Iuc2EoIlBvdyIsZCx2b2lkIDApfSw5MzM1NzI6ZD0+e3Iuc2EoIkVxdWFsIixkLHZvaWQgMCl9LDkzMzYyNTpkPT57ci5zYSgiR3JlYXRlciIsZCx2b2lkIDApfSw5MzM2ODA6ZD0+e3Iuc2EoIkdyZWF0ZXJPckVxdWFsIixkLHZvaWQgMCl9LDkzMzc0MjpkPT57ci5zYSgiTGVzcyIsZCx2b2lkIDApfSw5MzM3OTQ6ZD0+e3Iuc2EoIkxlc3NPckVxdWFsIixkLHZvaWQgMCl9LDkzMzg1MzooZCxtLHYsQyxCKT0+e3Iuc2EoIlJlZHVjZU1lYW4iLGQse2tlZXBEaW1zOiEhbSxub29wV2l0aEVtcHR5QXhlczohIXYsYXhlczpDP0FycmF5LmZyb20oVC5zdWJhcnJheShDPj4+MCxCPj4+MCkpOltdfSl9LDkzNDAxMjooZCxtLHYsQyxCKT0+e3Iuc2EoIlJlZHVjZU1heCIsZCx7a2VlcERpbXM6ISFtLG5vb3BXaXRoRW1wdHlBeGVzOiEhdixheGVzOkM/QXJyYXkuZnJvbShULnN1YmFycmF5KEM+Pj4wLEI+Pj4wKSk6W119KX0sOTM0MTcwOihkLG0sdixDLEIpPT57ci5zYSgiUmVkdWNlTWluIixkLHtrZWVwRGltczohIW0sbm9vcFdpdGhFbXB0eUF4ZXM6ISF2LGF4ZXM6Qz9BcnJheS5mcm9tKFQuc3ViYXJyYXkoQz4+PjAsQj4+PjApKTpbXX0pfSw5MzQzMjg6KGQsbSx2LEMsQik9PntyLnNhKCJSZWR1Y2VQcm9kIixkLHtrZWVwRGltczohIW0sbm9vcFdpdGhFbXB0eUF4ZXM6ISF2LGF4ZXM6Qz9BcnJheS5mcm9tKFQuc3ViYXJyYXkoQz4+PjAsQj4+PjApKTpbXX0pfSw5MzQ0ODc6KGQsbSx2LEMsQik9PntyLnNhKCJSZWR1Y2VTdW0iLGQse2tlZXBEaW1zOiEhbSxub29wV2l0aEVtcHR5QXhlczohIXYsYXhlczpDP0FycmF5LmZyb20oVC5zdWJhcnJheShDPj4+MCxCPj4+MCkpOltdfSl9LDkzNDY0NTooZCxtLHYsQyxCKT0+e3Iuc2EoIlJlZHVjZUwxIixkLHtrZWVwRGltczohIW0sbm9vcFdpdGhFbXB0eUF4ZXM6ISF2LGF4ZXM6Qz9BcnJheS5mcm9tKFQuc3ViYXJyYXkoQz4+PjAsQj4+PjApKTpbXX0pfSw5MzQ4MDI6KGQsbSx2LEMsQik9PntyLnNhKCJSZWR1Y2VMMiIsZCx7a2VlcERpbXM6ISFtLG5vb3BXaXRoRW1wdHlBeGVzOiEhdixheGVzOkM/QXJyYXkuZnJvbShULnN1YmFycmF5KEM+Pj4wLEI+Pj4wKSk6W119KX0sOTM0OTU5OihkLG0sdixDLEIpPT57ci5zYSgiUmVkdWNlTG9nU3VtIixkLHtrZWVwRGltczohIW0sbm9vcFdpdGhFbXB0eUF4ZXM6ISF2LGF4ZXM6Qz9BcnJheS5mcm9tKFQuc3ViYXJyYXkoQz4+PjAsQj4+PjApKTpbXX0pfSw5MzUxMjA6KGQsbSx2LEMsQik9PntyLnNhKCJSZWR1Y2VTdW1TcXVhcmUiLGQse2tlZXBEaW1zOiEhbSxub29wV2l0aEVtcHR5QXhlczohIXYsYXhlczpDP0FycmF5LmZyb20oVC5zdWJhcnJheShDPj4+MCxCPj4+MCkpOltdfSl9LDkzNTI4NDooZCxtLHYsQyxCKT0+e3Iuc2EoIlJlZHVjZUxvZ1N1bUV4cCIsZCx7a2VlcERpbXM6ISFtLG5vb3BXaXRoRW1wdHlBeGVzOiEhdixheGVzOkM/QXJyYXkuZnJvbShULnN1YmFycmF5KEM+Pj4wLEI+Pj4wKSk6W119KX0sOTM1NDQ4OmQ9PntyLnNhKCJXaGVyZSIsZCx2b2lkIDApfSw5MzU1MDE6KGQsbSx2KT0+e3Iuc2EoIlRyYW5zcG9zZSIsZCx7cGVybTptP0FycmF5LmZyb20oVC5zdWJhcnJheShtPj4+MCx2Pj4+MCkpOltdfSl9LDkzNTYwOTooZCxtLHYsQyxCLEgscSxsZSxKLHJlLHNlLHdlLF9lLFAsdWUpPT57ci5zYSgiQ29udlRyYW5zcG9zZSIsZCx7Zm9ybWF0Oko/Ik5IV0MiOiJOQ0hXIixhdXRvUGFkOm0sZGlsYXRpb25zOlt2XSxncm91cDpDLGtlcm5lbF9zaGFwZTpbQl0scGFkczpbSCxxXSxzdHJpZGVzOltsZV0sd0lzQ29uc3Q6KCk9PiEhUltyZT4+PjBdLG91dHB1dFBhZGRpbmc6c2U/QXJyYXkuZnJvbShULnN1YmFycmF5KHNlPj4+MCx3ZT4+PjApKTpbXSxvdXRwdXRTaGFwZTpfZT9BcnJheS5mcm9tKFQuc3ViYXJyYXkoX2U+Pj4wLFA+Pj4wKSk6W10sYWN0aXZhdGlvbjpxZSh1ZSl9KX0sOTM2MDExOihkLG0sdixDLEIsSCxxLGxlLEoscmUsc2Usd2UsX2UsUCk9PntyLnNhKCJDb252VHJhbnNwb3NlIixkLHtmb3JtYXQ6bGU/Ik5IV0MiOiJOQ0hXIixhdXRvUGFkOm0sZGlsYXRpb25zOkFycmF5LmZyb20oVC5zdWJhcnJheSh2Pj4+MCwodj4+PjApKzI+Pj4wKSksZ3JvdXA6QyxrZXJuZWxTaGFwZTpBcnJheS5mcm9tKFQuc3ViYXJyYXkoQj4+PjAsKEI+Pj4wKSsyPj4+MCkpLHBhZHM6QXJyYXkuZnJvbShULnN1YmFycmF5KEg+Pj4wLChIPj4+MCkrND4+PjApKSxzdHJpZGVzOkFycmF5LmZyb20oVC5zdWJhcnJheShxPj4+MCwocT4+PjApKzI+Pj4wKSksd0lzQ29uc3Q6KCk9PiEhUltKPj4+MF0sb3V0cHV0UGFkZGluZzpyZT9BcnJheS5mcm9tKFQuc3ViYXJyYXkocmU+Pj4wLHNlPj4+MCkpOltdLG91dHB1dFNoYXBlOndlP0FycmF5LmZyb20oVC5zdWJhcnJheSh3ZT4+PjAsX2U+Pj4wKSk6W10sYWN0aXZhdGlvbjpxZShQKX0pfSw5MzY1NzY6KGQsbSx2LEMsQixILHEsbGUsSixyZSxzZSx3ZSxfZSxQLHVlKT0+e3Iuc2EoIkNvbnZUcmFuc3Bvc2UiLGQse2Zvcm1hdDpKPyJOSFdDIjoiTkNIVyIsYXV0b1BhZDptLGRpbGF0aW9uczpbdl0sZ3JvdXA6QyxrZXJuZWxfc2hhcGU6W0JdLHBhZHM6W0gscV0sc3RyaWRlczpbbGVdLHdJc0NvbnN0OigpPT4hIVJbcmU+Pj4wXSxvdXRwdXRQYWRkaW5nOnNlP0FycmF5LmZyb20oVC5zdWJhcnJheShzZT4+PjAsd2U+Pj4wKSk6W10sb3V0cHV0U2hhcGU6X2U/QXJyYXkuZnJvbShULnN1YmFycmF5KF9lPj4+MCxQPj4+MCkpOltdLGFjdGl2YXRpb246cWUodWUpfSl9LDkzNjk3ODooZCxtLHYsQyxCLEgscSxsZSxKLHJlLHNlLHdlLF9lLFApPT57ci5zYSgiQ29udlRyYW5zcG9zZSIsZCx7Zm9ybWF0OmxlPyJOSFdDIjoiTkNIVyIsYXV0b1BhZDptLGRpbGF0aW9uczpBcnJheS5mcm9tKFQuc3ViYXJyYXkodj4+PjAsKHY+Pj4wKSsyPj4+MCkpLGdyb3VwOkMsa2VybmVsU2hhcGU6QXJyYXkuZnJvbShULnN1YmFycmF5KEI+Pj4wLChCPj4+MCkrMj4+PjApKSxwYWRzOkFycmF5LmZyb20oVC5zdWJhcnJheShIPj4+MCwoSD4+PjApKzQ+Pj4wKSksc3RyaWRlczpBcnJheS5mcm9tKFQuc3ViYXJyYXkocT4+PjAsKHE+Pj4wKSsyPj4+MCkpLHdJc0NvbnN0OigpPT4hIVJbSj4+PjBdLG91dHB1dFBhZGRpbmc6cmU/QXJyYXkuZnJvbShULnN1YmFycmF5KHJlPj4+MCxzZT4+PjApKTpbXSxvdXRwdXRTaGFwZTp3ZT9BcnJheS5mcm9tKFQuc3ViYXJyYXkod2U+Pj4wLF9lPj4+MCkpOltdLGFjdGl2YXRpb246cWUoUCl9KX0sOTM3NTQzOihkLG0pPT57ci5zYSgiR2xvYmFsQXZlcmFnZVBvb2wiLGQse2Zvcm1hdDptPyJOSFdDIjoiTkNIVyJ9KX0sOTM3NjM0OihkLG0sdixDLEIsSCxxLGxlLEoscmUsc2Usd2UsX2UsUCx1ZSxTZSk9PntyLnNhKCJBdmVyYWdlUG9vbCIsZCx7Zm9ybWF0OlNlPyJOSFdDIjoiTkNIVyIsYXV0b19wYWQ6bSxjZWlsX21vZGU6dixjb3VudF9pbmNsdWRlX3BhZDpDLHN0b3JhZ2Vfb3JkZXI6QixkaWxhdGlvbnM6W0gscV0sa2VybmVsX3NoYXBlOltsZSxKXSxwYWRzOltyZSxzZSx3ZSxfZV0sc3RyaWRlczpbUCx1ZV19KX0sOTM3OTE4OihkLG0pPT57ci5zYSgiR2xvYmFsQXZlcmFnZVBvb2wiLGQse2Zvcm1hdDptPyJOSFdDIjoiTkNIVyJ9KX0sOTM4MDA5OihkLG0sdixDLEIsSCxxLGxlLEoscmUsc2Usd2UsX2UsUCx1ZSxTZSk9PntyLnNhKCJBdmVyYWdlUG9vbCIsZCx7Zm9ybWF0OlNlPyJOSFdDIjoiTkNIVyIsYXV0b19wYWQ6bSxjZWlsX21vZGU6dixjb3VudF9pbmNsdWRlX3BhZDpDLHN0b3JhZ2Vfb3JkZXI6QixkaWxhdGlvbnM6W0gscV0sa2VybmVsX3NoYXBlOltsZSxKXSxwYWRzOltyZSxzZSx3ZSxfZV0sc3RyaWRlczpbUCx1ZV19KX0sOTM4MjkzOihkLG0pPT57ci5zYSgiR2xvYmFsTWF4UG9vbCIsZCx7Zm9ybWF0Om0/Ik5IV0MiOiJOQ0hXIn0pfSw5MzgzODA6KGQsbSx2LEMsQixILHEsbGUsSixyZSxzZSx3ZSxfZSxQLHVlLFNlKT0+e3Iuc2EoIk1heFBvb2wiLGQse2Zvcm1hdDpTZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOm0sY2VpbF9tb2RlOnYsY291bnRfaW5jbHVkZV9wYWQ6QyxzdG9yYWdlX29yZGVyOkIsZGlsYXRpb25zOltILHFdLGtlcm5lbF9zaGFwZTpbbGUsSl0scGFkczpbcmUsc2Usd2UsX2VdLHN0cmlkZXM6W1AsdWVdfSl9LDkzODY2MDooZCxtKT0+e3Iuc2EoIkdsb2JhbE1heFBvb2wiLGQse2Zvcm1hdDptPyJOSFdDIjoiTkNIVyJ9KX0sOTM4NzQ3OihkLG0sdixDLEIsSCxxLGxlLEoscmUsc2Usd2UsX2UsUCx1ZSxTZSk9PntyLnNhKCJNYXhQb29sIixkLHtmb3JtYXQ6U2U/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDptLGNlaWxfbW9kZTp2LGNvdW50X2luY2x1ZGVfcGFkOkMsc3RvcmFnZV9vcmRlcjpCLGRpbGF0aW9uczpbSCxxXSxrZXJuZWxfc2hhcGU6W2xlLEpdLHBhZHM6W3JlLHNlLHdlLF9lXSxzdHJpZGVzOltQLHVlXX0pfSw5MzkwMjc6KGQsbSx2LEMsQik9PntyLnNhKCJHZW1tIixkLHthbHBoYTptLGJldGE6dix0cmFuc0E6Qyx0cmFuc0I6Qn0pfSw5MzkxMzE6ZD0+e3Iuc2EoIk1hdE11bCIsZCx2b2lkIDApfSw5MzkxODU6KGQsbSx2LEMpPT57ci5zYSgiQXJnTWF4IixkLHtrZWVwRGltczohIW0sc2VsZWN0TGFzdEluZGV4OiEhdixheGlzOkN9KX0sOTM5MjkzOihkLG0sdixDKT0+e3Iuc2EoIkFyZ01pbiIsZCx7a2VlcERpbXM6ISFtLHNlbGVjdExhc3RJbmRleDohIXYsYXhpczpDfSl9LDkzOTQwMTooZCxtKT0+e3Iuc2EoIlNvZnRtYXgiLGQse2F4aXM6bX0pfSw5Mzk0NjQ6KGQsbSk9PntyLnNhKCJDb25jYXQiLGQse2F4aXM6bX0pfSw5Mzk1MjQ6KGQsbSx2LEMsQik9PntyLnNhKCJTcGxpdCIsZCx7YXhpczptLG51bU91dHB1dHM6dixzcGxpdFNpemVzOkM/QXJyYXkuZnJvbShULnN1YmFycmF5KEM+Pj4wLEI+Pj4wKSk6W119KX0sOTM5NjY0OmQ9PntyLnNhKCJFeHBhbmQiLGQsdm9pZCAwKX0sOTM5NzE4OihkLG0pPT57ci5zYSgiR2F0aGVyIixkLHtheGlzOk51bWJlcihtKX0pfSw5Mzk3ODk6KGQsbSk9PntyLnNhKCJHYXRoZXJFbGVtZW50cyIsZCx7YXhpczpOdW1iZXIobSl9KX0sOTM5ODY4OihkLG0sdixDLEIsSCxxLGxlLEoscmUsc2UpPT57ci5zYSgiUmVzaXplIixkLHthbnRpYWxpYXM6bSxheGVzOnY/QXJyYXkuZnJvbShULnN1YmFycmF5KHY+Pj4wLEM+Pj4wKSk6W10sY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGU6cWUoQiksY3ViaWNDb2VmZkE6SCxleGNsdWRlT3V0c2lkZTpxLGV4dHJhcG9sYXRpb25WYWx1ZTpsZSxrZWVwQXNwZWN0UmF0aW9Qb2xpY3k6cWUoSiksbW9kZTpxZShyZSksbmVhcmVzdE1vZGU6cWUoc2UpfSl9LDk0MDIxNDooZCxtLHYsQyxCLEgscSk9PntyLnNhKCJTbGljZSIsZCx7c3RhcnRzOm0/QXJyYXkuZnJvbShULnN1YmFycmF5KG0+Pj4wLHY+Pj4wKSk6W10sZW5kczpDP0FycmF5LmZyb20oVC5zdWJhcnJheShDPj4+MCxCPj4+MCkpOltdLGF4ZXM6SD9BcnJheS5mcm9tKFQuc3ViYXJyYXkoSD4+PjAscT4+PjApKTpbXX0pfSw5NDA0MzA6ZD0+e3Iuc2EoIlRpbGUiLGQsdm9pZCAwKX0sOTQwNDgyOihkLG0sdik9PntyLnNhKCJMYXllck5vcm1hbGl6YXRpb24iLGQse2F4aXM6TnVtYmVyKG0pLGVwc2lsb246TnVtYmVyKHYpfSl9LDk0MDU4OTooZCxtLHYpPT57ci5zYSgiSW5zdGFuY2VOb3JtYWxpemF0aW9uIixkLHtlcHNpbG9uOm0sZm9ybWF0OnY/Ik5IV0MiOiJOQ0hXIn0pfSw5NDA3MDM6KGQsbSx2KT0+e3Iuc2EoIkluc3RhbmNlTm9ybWFsaXphdGlvbiIsZCx7ZXBzaWxvbjptLGZvcm1hdDp2PyJOSFdDIjoiTkNIVyJ9KX0sOTQwODE3OmQ9PntyLnNhKCJSYW5nZSIsZCx2b2lkIDApfSw5NDA4NzA6KGQsbSk9PntyLnNhKCJFaW5zdW0iLGQse2VxdWF0aW9uOnFlKG0pfSl9LDk0MDk1MTooZCxtLHYsQyxCKT0+e3Iuc2EoIlBhZCIsZCx7bW9kZTptLHZhbHVlOnYscGFkczpDP0FycmF5LmZyb20oVC5zdWJhcnJheShDPj4+MCxCPj4+MCkpOltdfSl9LDk0MTA3ODooZCxtLHYsQyxCLEgpPT57ci5zYSgiQmF0Y2hOb3JtYWxpemF0aW9uIixkLHtlcHNpbG9uOm0sbW9tZW50dW06dixzcGF0aWFsOiEhQix0cmFpbmluZ01vZGU6ISFDLGZvcm1hdDpIPyJOSFdDIjoiTkNIVyJ9KX0sOTQxMjQ3OihkLG0sdixDLEIsSCk9PntyLnNhKCJCYXRjaE5vcm1hbGl6YXRpb24iLGQse2Vwc2lsb246bSxtb21lbnR1bTp2LHNwYXRpYWw6ISFCLHRyYWluaW5nTW9kZTohIUMsZm9ybWF0Okg/Ik5IV0MiOiJOQ0hXIn0pfSw5NDE0MTY6KGQsbSx2KT0+e3Iuc2EoIkN1bVN1bSIsZCx7ZXhjbHVzaXZlOk51bWJlcihtKSxyZXZlcnNlOk51bWJlcih2KX0pfSw5NDE1MTM6KGQsbSx2LEMsQixILHEsbGUsSik9PntyLnNhKCJBdHRlbnRpb24iLGQse251bUhlYWRzOm0saXNVbmlkaXJlY3Rpb25hbDp2LG1hc2tGaWx0ZXJWYWx1ZTpDLHNjYWxlOkIsZG9Sb3Rhcnk6SCxxa3ZIaWRkZW5TaXplczpxP0FycmF5LmZyb20oVC5zdWJhcnJheShOdW1iZXIobGUpPj4+MCxOdW1iZXIobGUpK3E+Pj4wKSk6W10scGFzdFByZXNlbnRTaGFyZUJ1ZmZlcjohIUp9KX0sOTQxNzg1OmQ9PntyLnNhKCJHZWx1IixkLHZvaWQgMCl9LDk0MTgzNzooZCxtLHYsQyxCLEgpPT57ci5zYSgiTXVsdGlIZWFkQXR0ZW50aW9uIixkLHtudW1IZWFkczptLGlzVW5pZGlyZWN0aW9uYWw6dixtYXNrRmlsdGVyVmFsdWU6QyxzY2FsZTpCLGRvUm90YXJ5Okh9KX0sOTQxOTk2OmQ9PntyLnNhKCJCaWFzQWRkIixkLHZvaWQgMCl9LDk0MjA1MTpkPT57ci5zYSgiQmlhc1NwbGl0R2VsdSIsZCx2b2lkIDApfSw5NDIxMTI6KGQsbSk9PntyLnNhKCJTa2lwTGF5ZXJOb3JtYWxpemF0aW9uIixkLHtlcHNpbG9uOm19KX0sOTQyMTkzOihkLG0sdixDLEIsSCxxLGxlLEoscmUsc2Usd2UsX2UpPT57ci5zYSgiQ29udiIsZCx7Zm9ybWF0Oko/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDptLGRpbGF0aW9uczpbdl0sZ3JvdXA6QyxrZXJuZWxfc2hhcGU6W0JdLHBhZHM6SD9BcnJheS5mcm9tKFQuc3ViYXJyYXkoSD4+PjAscT4+PjApKTpbXSxzdHJpZGVzOltsZV0sd19pc19jb25zdDooKT0+ISFSW3JlPj4+MF0sYWN0aXZhdGlvbjpxZShzZSksYWN0aXZhdGlvbl9wYXJhbXM6d2U/QXJyYXkuZnJvbSh0ZS5zdWJhcnJheSh3ZT4+PjAsX2U+Pj4wKSk6W119KX0sOTQyNTYzOihkLG0sdixDLEIsSCxxLGxlLEoscmUsc2Usd2UsX2UsUCx1ZSxTZSk9PntyLnNhKCJDb252IixkLHtmb3JtYXQ6d2U/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDptLGRpbGF0aW9uczpbdixDXSxncm91cDpCLGtlcm5lbF9zaGFwZTpbSCxxXSxwYWRzOmxlP0FycmF5LmZyb20oVC5zdWJhcnJheShsZT4+PjAsSj4+PjApKTpbXSxzdHJpZGVzOltyZSxzZV0sd19pc19jb25zdDooKT0+ISFSW19lPj4+MF0sYWN0aXZhdGlvbjpxZShQKSxhY3RpdmF0aW9uX3BhcmFtczp1ZT9BcnJheS5mcm9tKHRlLnN1YmFycmF5KHVlPj4+MCxTZT4+PjApKTpbXX0pfSw5NDI5NTQ6ZD0+e3IuVGEoZCl9LDk0Mjk4ODooZCxtKT0+ci5VYShkLG0sci5FYS5WYSxyLkVhLmVycm9ycyl9O2Z1bmN0aW9uIE1lKGQpe3RoaXMubmFtZT0iRXhpdFN0YXR1cyIsdGhpcy5tZXNzYWdlPWBQcm9ncmFtIHRlcm1pbmF0ZWQgd2l0aCBleGl0KCR7ZH0pYCx0aGlzLnN0YXR1cz1kfWZ1bmN0aW9uIHd0KGQpe3RoaXMuSmE9ZC0yNCx0aGlzLk9hPWZ1bmN0aW9uKG0pe05bdGhpcy5KYSs0Pj4+Mj4+PjBdPW19LHRoaXMuTmE9ZnVuY3Rpb24obSl7Tlt0aGlzLkphKzg+Pj4yPj4+MF09bX0sdGhpcy4kYT1mdW5jdGlvbihtLHYpe3RoaXMuTWEoKSx0aGlzLk9hKG0pLHRoaXMuTmEodil9LHRoaXMuTWE9ZnVuY3Rpb24oKXtOW3RoaXMuSmErMTY+Pj4yPj4+MF09MH19dmFyIHJ0PTAsRHQ9MCxBdD10eXBlb2YgVGV4dERlY29kZXI8InUiP25ldyBUZXh0RGVjb2RlcigidXRmOCIpOnZvaWQgMCx2dD0oZCxtLHYpPT57bT4+Pj0wO3ZhciBDPW0rdjtmb3Iodj1tO2Rbdl0mJiEodj49Qyk7KSsrdjtpZigxNjx2LW0mJmQuYnVmZmVyJiZBdClyZXR1cm4gQXQuZGVjb2RlKGQuc3ViYXJyYXkobSx2KSk7Zm9yKEM9IiI7bTx2Oyl7dmFyIEI9ZFttKytdO2lmKEImMTI4KXt2YXIgSD1kW20rK10mNjM7aWYoKEImMjI0KT09MTkyKUMrPVN0cmluZy5mcm9tQ2hhckNvZGUoKEImMzEpPDw2fEgpO2Vsc2V7dmFyIHE9ZFttKytdJjYzO0I9KEImMjQwKT09MjI0PyhCJjE1KTw8MTJ8SDw8NnxxOihCJjcpPDwxOHxIPDwxMnxxPDw2fGRbbSsrXSY2Myw2NTUzNj5CP0MrPVN0cmluZy5mcm9tQ2hhckNvZGUoQik6KEItPTY1NTM2LEMrPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8Qj4+MTAsNTYzMjB8QiYxMDIzKSl9fWVsc2UgQys9U3RyaW5nLmZyb21DaGFyQ29kZShCKX1yZXR1cm4gQ30scWU9KGQsbSk9PihkPj4+PTApP3Z0KFYsZCxtKToiIixxdD1kPT57Zm9yKHZhciBtPTAsdj0wO3Y8ZC5sZW5ndGg7Kyt2KXt2YXIgQz1kLmNoYXJDb2RlQXQodik7MTI3Pj1DP20rKzoyMDQ3Pj1DP20rPTI6NTUyOTY8PUMmJjU3MzQzPj1DPyhtKz00LCsrdik6bSs9M31yZXR1cm4gbX0sTXQ9KGQsbSx2LEMpPT57aWYodj4+Pj0wLCEoMDxDKSlyZXR1cm4gMDt2YXIgQj12O0M9ditDLTE7Zm9yKHZhciBIPTA7SDxkLmxlbmd0aDsrK0gpe3ZhciBxPWQuY2hhckNvZGVBdChIKTtpZig1NTI5Njw9cSYmNTczNDM+PXEpe3ZhciBsZT1kLmNoYXJDb2RlQXQoKytIKTtxPTY1NTM2KygocSYxMDIzKTw8MTApfGxlJjEwMjN9aWYoMTI3Pj1xKXtpZih2Pj1DKWJyZWFrO21bdisrPj4+MF09cX1lbHNle2lmKDIwNDc+PXEpe2lmKHYrMT49QylicmVhazttW3YrKz4+PjBdPTE5MnxxPj42fWVsc2V7aWYoNjU1MzU+PXEpe2lmKHYrMj49QylicmVhazttW3YrKz4+PjBdPTIyNHxxPj4xMn1lbHNle2lmKHYrMz49QylicmVhazttW3YrKz4+PjBdPTI0MHxxPj4xOCxtW3YrKz4+PjBdPTEyOHxxPj4xMiY2M31tW3YrKz4+PjBdPTEyOHxxPj42JjYzfW1bdisrPj4+MF09MTI4fHEmNjN9fXJldHVybiBtW3Y+Pj4wXT0wLHYtQn0sJHQ9ZD0+ZCU0PT09MCYmKGQlMTAwIT09MHx8ZCU0MDA9PT0wKSx5dD1bMCwzMSw2MCw5MSwxMjEsMTUyLDE4MiwyMTMsMjQ0LDI3NCwzMDUsMzM1XSx6dD1bMCwzMSw1OSw5MCwxMjAsMTUxLDE4MSwyMTIsMjQzLDI3MywzMDQsMzM0XSxVdD1kPT57dmFyIG09cXQoZCkrMSx2PVd0KG0pO3JldHVybiB2JiZNdChkLFYsdixtKSx2fSxUdD1bXSxLdD0oZCxtKT0+e1R0Lmxlbmd0aD0wO2Zvcih2YXIgdjt2PVZbZCsrPj4+MF07KXt2YXIgQz12IT0xMDU7QyY9diE9MTEyLG0rPUMmJm0lOD80OjAsVHQucHVzaCh2PT0xMTI/TlttPj4+Mj4+PjBdOnY9PTEwNT9UW20+Pj4yPj4+MF06WVttPj4+Mz4+PjBdKSxtKz1DPzg6NH1yZXR1cm4gVHR9LG50PXt9LFl0PSgpPT57aWYoIVZ0KXt2YXIgZD17VVNFUjoid2ViX3VzZXIiLExPR05BTUU6IndlYl91c2VyIixQQVRIOiIvIixQV0Q6Ii8iLEhPTUU6Ii9ob21lL3dlYl91c2VyIixMQU5HOih0eXBlb2YgbmF2aWdhdG9yPT0ib2JqZWN0IiYmbmF2aWdhdG9yLmxhbmd1YWdlcyYmbmF2aWdhdG9yLmxhbmd1YWdlc1swXXx8IkMiKS5yZXBsYWNlKCItIiwiXyIpKyIuVVRGLTgiLF86dXx8Ii4vdGhpcy5wcm9ncmFtIn0sbTtmb3IobSBpbiBudCludFttXT09PXZvaWQgMD9kZWxldGUgZFttXTpkW21dPW50W21dO3ZhciB2PVtdO2ZvcihtIGluIGQpdi5wdXNoKGAke219PSR7ZFttXX1gKTtWdD12fXJldHVybiBWdH0sVnQsWWU9W251bGwsW10sW11dLGJyPVszMSwyOSwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV0sT2U9WzMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTtmdW5jdGlvbiB3cihkKXt2YXIgbT1BcnJheShxdChkKSsxKTtyZXR1cm4gTXQoZCxtLDAsbS5sZW5ndGgpLG19ZnVuY3Rpb24gTnQoZCxtLHYsQyl7ZnVuY3Rpb24gQihQLHVlLFNlKXtmb3IoUD10eXBlb2YgUD09Im51bWJlciI/UC50b1N0cmluZygpOlB8fCIiO1AubGVuZ3RoPHVlOylQPVNlWzBdK1A7cmV0dXJuIFB9ZnVuY3Rpb24gSChQLHVlKXtyZXR1cm4gQihQLHVlLCIwIil9ZnVuY3Rpb24gcShQLHVlKXtmdW5jdGlvbiBTZShUcil7cmV0dXJuIDA+VHI/LTE6MDxUcj8xOjB9dmFyIHN0O3JldHVybihzdD1TZShQLmdldEZ1bGxZZWFyKCktdWUuZ2V0RnVsbFllYXIoKSkpPT09MCYmKHN0PVNlKFAuZ2V0TW9udGgoKS11ZS5nZXRNb250aCgpKSk9PT0wJiYoc3Q9U2UoUC5nZXREYXRlKCktdWUuZ2V0RGF0ZSgpKSksc3R9ZnVuY3Rpb24gbGUoUCl7c3dpdGNoKFAuZ2V0RGF5KCkpe2Nhc2UgMDpyZXR1cm4gbmV3IERhdGUoUC5nZXRGdWxsWWVhcigpLTEsMTEsMjkpO2Nhc2UgMTpyZXR1cm4gUDtjYXNlIDI6cmV0dXJuIG5ldyBEYXRlKFAuZ2V0RnVsbFllYXIoKSwwLDMpO2Nhc2UgMzpyZXR1cm4gbmV3IERhdGUoUC5nZXRGdWxsWWVhcigpLDAsMik7Y2FzZSA0OnJldHVybiBuZXcgRGF0ZShQLmdldEZ1bGxZZWFyKCksMCwxKTtjYXNlIDU6cmV0dXJuIG5ldyBEYXRlKFAuZ2V0RnVsbFllYXIoKS0xLDExLDMxKTtjYXNlIDY6cmV0dXJuIG5ldyBEYXRlKFAuZ2V0RnVsbFllYXIoKS0xLDExLDMwKX19ZnVuY3Rpb24gSihQKXt2YXIgdWU9UC5DYTtmb3IoUD1uZXcgRGF0ZShuZXcgRGF0ZShQLkRhKzE5MDAsMCwxKS5nZXRUaW1lKCkpOzA8dWU7KXt2YXIgU2U9UC5nZXRNb250aCgpLHN0PSgkdChQLmdldEZ1bGxZZWFyKCkpP2JyOk9lKVtTZV07aWYodWU+c3QtUC5nZXREYXRlKCkpdWUtPXN0LVAuZ2V0RGF0ZSgpKzEsUC5zZXREYXRlKDEpLDExPlNlP1Auc2V0TW9udGgoU2UrMSk6KFAuc2V0TW9udGgoMCksUC5zZXRGdWxsWWVhcihQLmdldEZ1bGxZZWFyKCkrMSkpO2Vsc2V7UC5zZXREYXRlKFAuZ2V0RGF0ZSgpK3VlKTticmVha319cmV0dXJuIFNlPW5ldyBEYXRlKFAuZ2V0RnVsbFllYXIoKSsxLDAsNCksdWU9bGUobmV3IERhdGUoUC5nZXRGdWxsWWVhcigpLDAsNCkpLFNlPWxlKFNlKSwwPj1xKHVlLFApPzA+PXEoU2UsUCk/UC5nZXRGdWxsWWVhcigpKzE6UC5nZXRGdWxsWWVhcigpOlAuZ2V0RnVsbFllYXIoKS0xfWQ+Pj49MCxtPj4+PTAsdj4+Pj0wLEM+Pj49MDt2YXIgcmU9TltDKzQwPj4+Mj4+PjBdO0M9e1lhOlRbQz4+PjI+Pj4wXSxYYTpUW0MrND4+PjI+Pj4wXSxHYTpUW0MrOD4+PjI+Pj4wXSxLYTpUW0MrMTI+Pj4yPj4+MF0sSGE6VFtDKzE2Pj4+Mj4+PjBdLERhOlRbQysyMD4+PjI+Pj4wXSx4YTpUW0MrMjQ+Pj4yPj4+MF0sQ2E6VFtDKzI4Pj4+Mj4+PjBdLGJiOlRbQyszMj4+PjI+Pj4wXSxXYTpUW0MrMzY+Pj4yPj4+MF0sWmE6cmU/cWUocmUpOiIifSx2PXFlKHYpLHJlPXsiJWMiOiIlYSAlYiAlZCAlSDolTTolUyAlWSIsIiVEIjoiJW0vJWQvJXkiLCIlRiI6IiVZLSVtLSVkIiwiJWgiOiIlYiIsIiVyIjoiJUk6JU06JVMgJXAiLCIlUiI6IiVIOiVNIiwiJVQiOiIlSDolTTolUyIsIiV4IjoiJW0vJWQvJXkiLCIlWCI6IiVIOiVNOiVTIiwiJUVjIjoiJWMiLCIlRUMiOiIlQyIsIiVFeCI6IiVtLyVkLyV5IiwiJUVYIjoiJUg6JU06JVMiLCIlRXkiOiIleSIsIiVFWSI6IiVZIiwiJU9kIjoiJWQiLCIlT2UiOiIlZSIsIiVPSCI6IiVIIiwiJU9JIjoiJUkiLCIlT20iOiIlbSIsIiVPTSI6IiVNIiwiJU9TIjoiJVMiLCIlT3UiOiIldSIsIiVPVSI6IiVVIiwiJU9WIjoiJVYiLCIlT3ciOiIldyIsIiVPVyI6IiVXIiwiJU95IjoiJXkifTtmb3IodmFyIHNlIGluIHJlKXY9di5yZXBsYWNlKG5ldyBSZWdFeHAoc2UsImciKSxyZVtzZV0pO3ZhciB3ZT0iU3VuZGF5IE1vbmRheSBUdWVzZGF5IFdlZG5lc2RheSBUaHVyc2RheSBGcmlkYXkgU2F0dXJkYXkiLnNwbGl0KCIgIiksX2U9IkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXIiLnNwbGl0KCIgIik7cmU9eyIlYSI6UD0+d2VbUC54YV0uc3Vic3RyaW5nKDAsMyksIiVBIjpQPT53ZVtQLnhhXSwiJWIiOlA9Pl9lW1AuSGFdLnN1YnN0cmluZygwLDMpLCIlQiI6UD0+X2VbUC5IYV0sIiVDIjpQPT5IKChQLkRhKzE5MDApLzEwMHwwLDIpLCIlZCI6UD0+SChQLkthLDIpLCIlZSI6UD0+QihQLkthLDIsIiAiKSwiJWciOlA9PkooUCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMiksIiVHIjpQPT5KKFApLCIlSCI6UD0+SChQLkdhLDIpLCIlSSI6UD0+KFA9UC5HYSxQPT0wP1A9MTI6MTI8UCYmKFAtPTEyKSxIKFAsMikpLCIlaiI6UD0+e2Zvcih2YXIgdWU9MCxTZT0wO1NlPD1QLkhhLTE7dWUrPSgkdChQLkRhKzE5MDApP2JyOk9lKVtTZSsrXSk7cmV0dXJuIEgoUC5LYSt1ZSwzKX0sIiVtIjpQPT5IKFAuSGErMSwyKSwiJU0iOlA9PkgoUC5YYSwyKSwiJW4iOigpPT5gXG5gLCIlcCI6UD0+MDw9UC5HYSYmMTI+UC5HYT8iQU0iOiJQTSIsIiVTIjpQPT5IKFAuWWEsMiksIiV0IjooKT0+IgkiLCIldSI6UD0+UC54YXx8NywiJVUiOlA9PkgoTWF0aC5mbG9vcigoUC5DYSs3LVAueGEpLzcpLDIpLCIlViI6UD0+e3ZhciB1ZT1NYXRoLmZsb29yKChQLkNhKzctKFAueGErNiklNykvNyk7aWYoMj49KFAueGErMzcxLVAuQ2EtMiklNyYmdWUrKyx1ZSl1ZT09NTMmJihTZT0oUC54YSszNzEtUC5DYSklNyxTZT09NHx8U2U9PTMmJiR0KFAuRGEpfHwodWU9MSkpO2Vsc2V7dWU9NTI7dmFyIFNlPShQLnhhKzctUC5DYS0xKSU3OyhTZT09NHx8U2U9PTUmJiR0KFAuRGElNDAwLTEpKSYmdWUrK31yZXR1cm4gSCh1ZSwyKX0sIiV3IjpQPT5QLnhhLCIlVyI6UD0+SChNYXRoLmZsb29yKChQLkNhKzctKFAueGErNiklNykvNyksMiksIiV5IjpQPT4oUC5EYSsxOTAwKS50b1N0cmluZygpLnN1YnN0cmluZygyKSwiJVkiOlA9PlAuRGErMTkwMCwiJXoiOlA9PntQPVAuV2E7dmFyIHVlPTA8PVA7cmV0dXJuIFA9TWF0aC5hYnMoUCkvNjAsKHVlPyIrIjoiLSIpKygiMDAwMCIrKFAvNjAqMTAwK1AlNjApKS5zbGljZSgtNCl9LCIlWiI6UD0+UC5aYSwiJSUiOigpPT4iJSJ9LHY9di5yZXBsYWNlKC8lJS9nLCJcXDBcXDAiKTtmb3Ioc2UgaW4gcmUpdi5pbmNsdWRlcyhzZSkmJih2PXYucmVwbGFjZShuZXcgUmVnRXhwKHNlLCJnIikscmVbc2VdKEMpKSk7cmV0dXJuIHY9di5yZXBsYWNlKC9cXDBcXDAvZywiJSIpLHNlPXdyKHYpLHNlLmxlbmd0aD5tPzA6KFIuc2V0KHNlLGQ+Pj4wKSxzZS5sZW5ndGgtMSl9dmFyIFN0PWQ9Pnt0cnl7ZCgpfWNhdGNoKG0pe2hlKG0pfX07ZnVuY3Rpb24gdW4oKXt2YXIgZD1hZSxtPXt9O2ZvcihsZXRbdixDXW9mIE9iamVjdC5lbnRyaWVzKGQpKW1bdl09dHlwZW9mIEM9PSJmdW5jdGlvbiI/ZnVuY3Rpb24oKXtidC5wdXNoKHYpO3RyeXtyZXR1cm4gQy5hcHBseShudWxsLGFyZ3VtZW50cyl9ZmluYWxseXtBfHwoYnQucG9wKCksdHQmJm90PT09MSYmYnQubGVuZ3RoPT09MCYmKG90PTAsU3QoaXIpLHR5cGVvZiBGaWJlcnM8InUiJiZGaWJlcnMuY2IoKSkpfX06QztyZXR1cm4gbX12YXIgb3Q9MCx0dD1udWxsLGRlPTAsYnQ9W10sWnQ9e30sdnI9e30sJHI9MCxRdD1udWxsLFNyPVtdO2Z1bmN0aW9uIHhyKCl7cmV0dXJuIG5ldyBQcm9taXNlKChkLG0pPT57UXQ9e3Jlc29sdmU6ZCxyZWplY3Q6bX19KX1mdW5jdGlvbiBfcigpe3ZhciBkPVd0KDY1NTQ4KSxtPWQrMTI7TltkPj4+Mj4+PjBdPW0sTltkKzQ+Pj4yPj4+MF09bSs2NTUzNixtPWJ0WzBdO3ZhciB2PVp0W21dO3JldHVybiB2PT09dm9pZCAwJiYodj0kcisrLFp0W21dPXYsdnJbdl09bSksVFtkKzg+Pj4yPj4+MF09dixkfWZ1bmN0aW9uIENyKGQpe2lmKCFBKXtpZihvdD09PTApe3ZhciBtPSExLHY9ITE7ZCgoQz0wKT0+e2lmKCFBJiYoZGU9QyxtPSEwLHYpKXtvdD0yLFN0KCgpPT5zcih0dCkpLHR5cGVvZiBCcm93c2VyPCJ1IiYmQnJvd3Nlci5JYS5QYSYmQnJvd3Nlci5JYS5yZXN1bWUoKSxDPSExO3RyeXt2YXIgQj0oMCxhZVt2cltUW3R0Kzg+Pj4yPj4+MF1dXSkoKX1jYXRjaChsZSl7Qj1sZSxDPSEwfXZhciBIPSExO2lmKCF0dCl7dmFyIHE9UXQ7cSYmKFF0PW51bGwsKEM/cS5yZWplY3Q6cS5yZXNvbHZlKShCKSxIPSEwKX1pZihDJiYhSCl0aHJvdyBCfX0pLHY9ITAsbXx8KG90PTEsdHQ9X3IoKSx0eXBlb2YgQnJvd3NlcjwidSImJkJyb3dzZXIuSWEuUGEmJkJyb3dzZXIuSWEucGF1c2UoKSxTdCgoKT0+YXIodHQpKSl9ZWxzZSBvdD09PTI/KG90PTAsU3QodXIpLGVyKHR0KSx0dD1udWxsLFNyLmZvckVhY2goQz0+e2lmKCFBKXRyeXtDKCk7dHJ5e3o9ej1DPXosci5vbkV4aXQ/LihDKSxBPSEwLGwoQyxuZXcgTWUoQykpfWNhdGNoKEIpe0IgaW5zdGFuY2VvZiBNZXx8Qj09InVud2luZCJ8fGwoMSxCKX19Y2F0Y2goQil7QiBpbnN0YW5jZW9mIE1lfHxCPT0idW53aW5kInx8bCgxLEIpfX0pKTpoZShgaW52YWxpZCBzdGF0ZTogJHtvdH1gKTtyZXR1cm4gZGV9fWZ1bmN0aW9uIFh0KGQpe3JldHVybiBDcihtPT57ZCgpLnRoZW4obSl9KX12YXIgSXI9e246ZnVuY3Rpb24oZCxtLHYpe3JldHVybiBYdChhc3luYygpPT57YXdhaXQgci5SYShkLG0sdil9KX0sYTpmdW5jdGlvbihkLG0sdil7dGhyb3cgZD4+Pj0wLG5ldyB3dChkKS4kYShtPj4+MCx2Pj4+MCkscnQ9ZCxEdCsrLHJ0fSxnOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LEo6ZnVuY3Rpb24oKXt9LEE6ZnVuY3Rpb24oKXt9LEM6ZnVuY3Rpb24oKXt9LEw6ZnVuY3Rpb24oKXtyZXR1cm4gMH0sSDpmdW5jdGlvbigpe30sRDpmdW5jdGlvbigpe30sRzpmdW5jdGlvbigpe30sbDpmdW5jdGlvbigpe30sQjpmdW5jdGlvbigpe30seTpmdW5jdGlvbigpe30sSTpmdW5jdGlvbigpe30sejpmdW5jdGlvbigpe30sbTooKT0+MSxxOmZ1bmN0aW9uKGQsbSx2KXtkPW0rMjA5NzE1Mj4+PjA8NDE5NDMwNS0hIWQ/KGQ+Pj4wKSs0Mjk0OTY3Mjk2Km06TmFOLHY+Pj49MCxkPW5ldyBEYXRlKDFlMypkKSxUW3Y+Pj4yPj4+MF09ZC5nZXRVVENTZWNvbmRzKCksVFt2KzQ+Pj4yPj4+MF09ZC5nZXRVVENNaW51dGVzKCksVFt2Kzg+Pj4yPj4+MF09ZC5nZXRVVENIb3VycygpLFRbdisxMj4+PjI+Pj4wXT1kLmdldFVUQ0RhdGUoKSxUW3YrMTY+Pj4yPj4+MF09ZC5nZXRVVENNb250aCgpLFRbdisyMD4+PjI+Pj4wXT1kLmdldFVUQ0Z1bGxZZWFyKCktMTkwMCxUW3YrMjQ+Pj4yPj4+MF09ZC5nZXRVVENEYXkoKSxUW3YrMjg+Pj4yPj4+MF09KGQuZ2V0VGltZSgpLURhdGUuVVRDKGQuZ2V0VVRDRnVsbFllYXIoKSwwLDEsMCwwLDAsMCkpLzg2NGU1fDB9LHI6ZnVuY3Rpb24oZCxtLHYpe2Q9bSsyMDk3MTUyPj4+MDw0MTk0MzA1LSEhZD8oZD4+PjApKzQyOTQ5NjcyOTYqbTpOYU4sdj4+Pj0wLGQ9bmV3IERhdGUoMWUzKmQpLFRbdj4+PjI+Pj4wXT1kLmdldFNlY29uZHMoKSxUW3YrND4+PjI+Pj4wXT1kLmdldE1pbnV0ZXMoKSxUW3YrOD4+PjI+Pj4wXT1kLmdldEhvdXJzKCksVFt2KzEyPj4+Mj4+PjBdPWQuZ2V0RGF0ZSgpLFRbdisxNj4+PjI+Pj4wXT1kLmdldE1vbnRoKCksVFt2KzIwPj4+Mj4+PjBdPWQuZ2V0RnVsbFllYXIoKS0xOTAwLFRbdisyND4+PjI+Pj4wXT1kLmdldERheSgpLFRbdisyOD4+PjI+Pj4wXT0oJHQoZC5nZXRGdWxsWWVhcigpKT95dDp6dClbZC5nZXRNb250aCgpXStkLmdldERhdGUoKS0xfDAsVFt2KzM2Pj4+Mj4+PjBdPS0oNjAqZC5nZXRUaW1lem9uZU9mZnNldCgpKSxtPW5ldyBEYXRlKGQuZ2V0RnVsbFllYXIoKSw2LDEpLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIEM9bmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLDAsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtUW3YrMzI+Pj4yPj4+MF09KG0hPUMmJmQuZ2V0VGltZXpvbmVPZmZzZXQoKT09TWF0aC5taW4oQyxtKSl8MH0sczpmdW5jdGlvbihkKXtkPj4+PTA7dmFyIG09bmV3IERhdGUoVFtkKzIwPj4+Mj4+PjBdKzE5MDAsVFtkKzE2Pj4+Mj4+PjBdLFRbZCsxMj4+PjI+Pj4wXSxUW2QrOD4+PjI+Pj4wXSxUW2QrND4+PjI+Pj4wXSxUW2Q+Pj4yPj4+MF0sMCksdj1UW2QrMzI+Pj4yPj4+MF0sQz1tLmdldFRpbWV6b25lT2Zmc2V0KCksQj1uZXcgRGF0ZShtLmdldEZ1bGxZZWFyKCksNiwxKS5nZXRUaW1lem9uZU9mZnNldCgpLEg9bmV3IERhdGUobS5nZXRGdWxsWWVhcigpLDAsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxxPU1hdGgubWluKEgsQik7cmV0dXJuIDA+dj9UW2QrMzI+Pj4yPj4+MF09KyhCIT1IJiZxPT1DKTowPHYhPShxPT1DKSYmKEI9TWF0aC5tYXgoSCxCKSxtLnNldFRpbWUobS5nZXRUaW1lKCkrNmU0KigoMDx2P3E6QiktQykpKSxUW2QrMjQ+Pj4yPj4+MF09bS5nZXREYXkoKSxUW2QrMjg+Pj4yPj4+MF09KCR0KG0uZ2V0RnVsbFllYXIoKSk/eXQ6enQpW20uZ2V0TW9udGgoKV0rbS5nZXREYXRlKCktMXwwLFRbZD4+PjI+Pj4wXT1tLmdldFNlY29uZHMoKSxUW2QrND4+PjI+Pj4wXT1tLmdldE1pbnV0ZXMoKSxUW2QrOD4+PjI+Pj4wXT1tLmdldEhvdXJzKCksVFtkKzEyPj4+Mj4+PjBdPW0uZ2V0RGF0ZSgpLFRbZCsxNj4+PjI+Pj4wXT1tLmdldE1vbnRoKCksVFtkKzIwPj4+Mj4+PjBdPW0uZ2V0WWVhcigpLGQ9bS5nZXRUaW1lKCksaXNOYU4oZCk/KFRbSnQoKT4+PjI+Pj4wXT02MSxkPS0xKTpkLz0xZTMsdHIoKHplPWQsMTw9K01hdGguYWJzKHplKT8wPHplPytNYXRoLmZsb29yKHplLzQyOTQ5NjcyOTYpPj4+MDp+fitNYXRoLmNlaWwoKHplLSsofn56ZT4+PjApKS80Mjk0OTY3Mjk2KT4+PjA6MCkpLGQ+Pj4wfSxvOmZ1bmN0aW9uKCl7cmV0dXJuLTUyfSxwOmZ1bmN0aW9uKCl7fSx3OmZ1bmN0aW9uKGQsbSx2KXtmdW5jdGlvbiBDKEope3JldHVybihKPUoudG9UaW1lU3RyaW5nKCkubWF0Y2goL1xcKChbQS1aYS16IF0rKVxcKSQvKSk/SlsxXToiR01UIn12Pj4+PTA7dmFyIEI9bmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLEg9bmV3IERhdGUoQiwwLDEpLHE9bmV3IERhdGUoQiw2LDEpO0I9SC5nZXRUaW1lem9uZU9mZnNldCgpO3ZhciBsZT1xLmdldFRpbWV6b25lT2Zmc2V0KCk7TltkPj4+MD4+PjI+Pj4wXT02MCpNYXRoLm1heChCLGxlKSxUW20+Pj4wPj4+Mj4+PjBdPSsoQiE9bGUpLGQ9QyhIKSxtPUMocSksZD1VdChkKSxtPVV0KG0pLGxlPEI/KE5bdj4+PjI+Pj4wXT1kLE5bdis0Pj4+Mj4+PjBdPW0pOihOW3Y+Pj4yPj4+MF09bSxOW3YrND4+PjI+Pj4wXT1kKX0sZTooKT0+e2hlKCIiKX0sYjpmdW5jdGlvbihkLG0sdil7cmV0dXJuIGQ+Pj49MCxtPUt0KG0+Pj4wLHY+Pj4wKSxVZVtkXS5hcHBseShudWxsLG0pfSxpOmZ1bmN0aW9uKGQsbSx2KXtyZXR1cm4gZD4+Pj0wLG09S3QobT4+PjAsdj4+PjApLFVlW2RdLmFwcGx5KG51bGwsbSl9LGg6KCk9PkRhdGUubm93KCkseDpmdW5jdGlvbigpe3JldHVybiA0Mjk0OTAxNzYwfSxjOigpPT5wZXJmb3JtYW5jZS5ub3coKSxLOmZ1bmN0aW9uKGQsbSx2KXtyZXR1cm4gbT4+Pj0wLFYuY29weVdpdGhpbihkPj4+MD4+PjAsbT4+PjAsbSsodj4+PjApPj4+MCl9LHU6ZnVuY3Rpb24oZCl7ZD4+Pj0wO3ZhciBtPVYubGVuZ3RoO2lmKDQyOTQ5MDE3NjA8ZClyZXR1cm4hMTtmb3IodmFyIHY9MTs0Pj12O3YqPTIpe3ZhciBDPW0qKDErLjIvdik7Qz1NYXRoLm1pbihDLGQrMTAwNjYzMjk2KTt2YXIgQj1NYXRoO0M9TWF0aC5tYXgoZCxDKTtlOntCPShCLm1pbi5jYWxsKEIsNDI5NDkwMTc2MCxDKyg2NTUzNi1DJTY1NTM2KSU2NTUzNiktRS5idWZmZXIuYnl0ZUxlbmd0aCs2NTUzNSkvNjU1MzY7dHJ5e0UuZ3JvdyhCKSxLKCk7dmFyIEg9MTticmVhayBlfWNhdGNoe31IPXZvaWQgMH1pZihIKXJldHVybiEwfXJldHVybiExfSxFOmZ1bmN0aW9uKGQsbSl7ZD4+Pj0wLG0+Pj49MDt2YXIgdj0wO3JldHVybiBZdCgpLmZvckVhY2goKEMsQik9Pnt2YXIgSD1tK3Y7Zm9yKEI9TltkKzQqQj4+PjI+Pj4wXT1ILEg9MDtIPEMubGVuZ3RoOysrSClSW0IrKz4+PjA+Pj4wXT1DLmNoYXJDb2RlQXQoSCk7UltCPj4+MD4+PjBdPTAsdis9Qy5sZW5ndGgrMX0pLDB9LEY6ZnVuY3Rpb24oZCxtKXtkPj4+PTAsbT4+Pj0wO3ZhciB2PVl0KCk7TltkPj4+Mj4+PjBdPXYubGVuZ3RoO3ZhciBDPTA7cmV0dXJuIHYuZm9yRWFjaChCPT5DKz1CLmxlbmd0aCsxKSxOW20+Pj4yPj4+MF09QywwfSxmOigpPT41MixrOmZ1bmN0aW9uKCl7cmV0dXJuIDUyfSx0OmZ1bmN0aW9uKCl7cmV0dXJuIDcwfSxqOmZ1bmN0aW9uKGQsbSx2LEMpe20+Pj49MCx2Pj4+PTAsQz4+Pj0wO2Zvcih2YXIgQj0wLEg9MDtIPHY7SCsrKXt2YXIgcT1OW20+Pj4yPj4+MF0sbGU9TlttKzQ+Pj4yPj4+MF07bSs9ODtmb3IodmFyIEo9MDtKPGxlO0orKyl7dmFyIHJlPVZbcStKPj4+MF0sc2U9WWVbZF07cmU9PT0wfHxyZT09PTEwPygoZD09PTE/JDp4KSh2dChzZSwwKSksc2UubGVuZ3RoPTApOnNlLnB1c2gocmUpfUIrPWxlfXJldHVybiBOW0M+Pj4yPj4+MF09QiwwfSx2Ok50LGQ6ZnVuY3Rpb24oZCxtLHYsQyl7cmV0dXJuIE50KGQ+Pj4wLG0+Pj4wLHY+Pj4wLEM+Pj4wKX19LGFlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZCh2KXtyZXR1cm4gYWU9di5leHBvcnRzLGFlPXVuKCksYWU9QXIoKSxFPWFlLk0sSygpLFoudW5zaGlmdChhZS5OKSxQZS0tLFBlPT0wJiYoZmUhPT1udWxsJiYoY2xlYXJJbnRlcnZhbChmZSksZmU9bnVsbCksSWUmJih2PUllLEllPW51bGwsdigpKSksYWV9dmFyIG09e2E6SXJ9O2lmKFBlKyssci5pbnN0YW50aWF0ZVdhc20pdHJ5e3JldHVybiByLmluc3RhbnRpYXRlV2FzbShtLGQpfWNhdGNoKHYpe3goYE1vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6ICR7dn1gKSxuKHYpfXJldHVybiBldChtLGZ1bmN0aW9uKHYpe2Qodi5pbnN0YW5jZSl9KS5jYXRjaChuKSx7fX0oKTtyLl9PcnRJbml0PShkLG0pPT4oci5fT3J0SW5pdD1hZS5PKShkLG0pLHIuX09ydEdldExhc3RFcnJvcj0oZCxtKT0+KHIuX09ydEdldExhc3RFcnJvcj1hZS5QKShkLG0pLHIuX09ydENyZWF0ZVNlc3Npb25PcHRpb25zPShkLG0sdixDLEIsSCxxLGxlLEoscmUpPT4oci5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9YWUuUSkoZCxtLHYsQyxCLEgscSxsZSxKLHJlKSxyLl9PcnRBcHBlbmRFeGVjdXRpb25Qcm92aWRlcj0oZCxtKT0+KHIuX09ydEFwcGVuZEV4ZWN1dGlvblByb3ZpZGVyPWFlLlIpKGQsbSksci5fT3J0QWRkRnJlZURpbWVuc2lvbk92ZXJyaWRlPShkLG0sdik9PihyLl9PcnRBZGRGcmVlRGltZW5zaW9uT3ZlcnJpZGU9YWUuUykoZCxtLHYpLHIuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeT0oZCxtLHYpPT4oci5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5PWFlLlQpKGQsbSx2KSxyLl9PcnRSZWxlYXNlU2Vzc2lvbk9wdGlvbnM9ZD0+KHIuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucz1hZS5VKShkKSxyLl9PcnRDcmVhdGVTZXNzaW9uPShkLG0sdik9PihyLl9PcnRDcmVhdGVTZXNzaW9uPWFlLlYpKGQsbSx2KSxyLl9PcnRSZWxlYXNlU2Vzc2lvbj1kPT4oci5fT3J0UmVsZWFzZVNlc3Npb249YWUuVykoZCksci5fT3J0R2V0SW5wdXRPdXRwdXRDb3VudD0oZCxtLHYpPT4oci5fT3J0R2V0SW5wdXRPdXRwdXRDb3VudD1hZS5YKShkLG0sdiksci5fT3J0R2V0SW5wdXROYW1lPShkLG0pPT4oci5fT3J0R2V0SW5wdXROYW1lPWFlLlkpKGQsbSksci5fT3J0R2V0T3V0cHV0TmFtZT0oZCxtKT0+KHIuX09ydEdldE91dHB1dE5hbWU9YWUuWikoZCxtKSxyLl9PcnRGcmVlPWQ9PihyLl9PcnRGcmVlPWFlLl8pKGQpLHIuX09ydENyZWF0ZVRlbnNvcj0oZCxtLHYsQyxCLEgpPT4oci5fT3J0Q3JlYXRlVGVuc29yPWFlLiQpKGQsbSx2LEMsQixIKSxyLl9PcnRHZXRUZW5zb3JEYXRhPShkLG0sdixDLEIpPT4oci5fT3J0R2V0VGVuc29yRGF0YT1hZS5hYSkoZCxtLHYsQyxCKSxyLl9PcnRSZWxlYXNlVGVuc29yPWQ9PihyLl9PcnRSZWxlYXNlVGVuc29yPWFlLmJhKShkKSxyLl9PcnRDcmVhdGVSdW5PcHRpb25zPShkLG0sdixDKT0+KHIuX09ydENyZWF0ZVJ1bk9wdGlvbnM9YWUuY2EpKGQsbSx2LEMpLHIuX09ydEFkZFJ1bkNvbmZpZ0VudHJ5PShkLG0sdik9PihyLl9PcnRBZGRSdW5Db25maWdFbnRyeT1hZS5kYSkoZCxtLHYpLHIuX09ydFJlbGVhc2VSdW5PcHRpb25zPWQ9PihyLl9PcnRSZWxlYXNlUnVuT3B0aW9ucz1hZS5lYSkoZCksci5fT3J0Q3JlYXRlQmluZGluZz1kPT4oci5fT3J0Q3JlYXRlQmluZGluZz1hZS5mYSkoZCksci5fT3J0QmluZElucHV0PShkLG0sdik9PihyLl9PcnRCaW5kSW5wdXQ9YWUuZ2EpKGQsbSx2KSxyLl9PcnRCaW5kT3V0cHV0PShkLG0sdixDKT0+KHIuX09ydEJpbmRPdXRwdXQ9YWUuaGEpKGQsbSx2LEMpLHIuX09ydENsZWFyQm91bmRPdXRwdXRzPWQ9PihyLl9PcnRDbGVhckJvdW5kT3V0cHV0cz1hZS5pYSkoZCksci5fT3J0UmVsZWFzZUJpbmRpbmc9ZD0+KHIuX09ydFJlbGVhc2VCaW5kaW5nPWFlLmphKShkKSxyLl9PcnRSdW5XaXRoQmluZGluZz0oZCxtLHYsQyxCKT0+KHIuX09ydFJ1bldpdGhCaW5kaW5nPWFlLmthKShkLG0sdixDLEIpLHIuX09ydFJ1bj0oZCxtLHYsQyxCLEgscSxsZSk9PihyLl9PcnRSdW49YWUubGEpKGQsbSx2LEMsQixILHEsbGUpLHIuX09ydEVuZFByb2ZpbGluZz1kPT4oci5fT3J0RW5kUHJvZmlsaW5nPWFlLm1hKShkKSxyLl9Kc2VwT3V0cHV0PShkLG0sdik9PihyLl9Kc2VwT3V0cHV0PWFlLm5hKShkLG0sdiksci5fSnNlcEdldE5vZGVOYW1lPWQ9PihyLl9Kc2VwR2V0Tm9kZU5hbWU9YWUub2EpKGQpO3ZhciBKdD0oKT0+KEp0PWFlLnBhKSgpLFd0PXIuX21hbGxvYz1kPT4oV3Q9ci5fbWFsbG9jPWFlLnFhKShkKSxlcj1yLl9mcmVlPWQ9Pihlcj1yLl9mcmVlPWFlLnJhKShkKSx0cj1kPT4odHI9YWUudGEpKGQpLHJyPSgpPT4ocnI9YWUudWEpKCksbnI9ZD0+KG5yPWFlLnZhKShkKSxvcj1kPT4ob3I9YWUud2EpKGQpLGFyPWQ9Pihhcj1hZS55YSkoZCksaXI9KCk9Pihpcj1hZS56YSkoKSxzcj1kPT4oc3I9YWUuQWEpKGQpLHVyPSgpPT4odXI9YWUuQmEpKCk7ci5fX19zdGFydF9lbV9qcz05NDMxMDAsci5fX19zdG9wX2VtX2pzPTk0MzI2MTtmdW5jdGlvbiBBcigpe3ZhciBkPWFlO2Q9T2JqZWN0LmFzc2lnbih7fSxkKTt2YXIgbT1DPT4oKT0+QygpPj4+MCx2PUM9PkI9PkMoQik+Pj4wO3JldHVybiBkLnBhPW0oZC5wYSksZC5xYT12KGQucWEpLGQudWE9bShkLnVhKSxkLndhPXYoZC53YSksZH1yLnN0YWNrQWxsb2M9b3Isci5zdGFja1NhdmU9cnIsci5zdGFja1Jlc3RvcmU9bnIsci5VVEY4VG9TdHJpbmc9cWUsci5zdHJpbmdUb1VURjg9KGQsbSx2KT0+TXQoZCxWLG0sdiksci5sZW5ndGhCeXRlc1VURjg9cXQ7dmFyIHh0O0llPWZ1bmN0aW9uIGQoKXt4dHx8RXQoKSx4dHx8KEllPWQpfTtmdW5jdGlvbiBFdCgpe2lmKCEoMDxQZSkpe2lmKHIucHJlUnVuKWZvcih0eXBlb2Ygci5wcmVSdW49PSJmdW5jdGlvbiImJihyLnByZVJ1bj1bci5wcmVSdW5dKTtyLnByZVJ1bi5sZW5ndGg7KXt2YXIgZD1yLnByZVJ1bi5zaGlmdCgpO1EudW5zaGlmdChkKX1mb3IoOzA8US5sZW5ndGg7KVEuc2hpZnQoKShyKTtpZighKDA8UGV8fHh0fHwoeHQ9ITAsci5jYWxsZWRSdW49ITAsQSkpKXtmb3IoOzA8Wi5sZW5ndGg7KVouc2hpZnQoKShyKTtmb3IobyhyKTswPEVlLmxlbmd0aDspRWUuc2hpZnQoKShyKX19fXJldHVybiBFdCgpLHQucmVhZHl9fSkoKTt0eXBlb2YgQ289PSJvYmplY3QiJiZ0eXBlb2Ygdm49PSJvYmplY3QiP3ZuLmV4cG9ydHM9X286dHlwZW9mIGRlZmluZT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZCYmZGVmaW5lKFtdLCgpPT5fbyl9KTt2YXIgQW89ZHIoKCk9Pnt9KTt2YXIgVG89ZHIoKCk9Pnt9KTt2YXIgRW89e307QnIoRW8se2NwdXM6KCk9PlF1fSk7dmFyIFF1LE9vPWooKCk9PntRdT12b2lkIDB9KTt2YXIgUm89ZHIoKGtvLCRuKT0+eyJ1c2Ugc3RyaWN0Ijt2YXIgUG89KCgpPT57dmFyIGU9dHlwZW9mIGRvY3VtZW50PCJ1IiYmZG9jdW1lbnQuY3VycmVudFNjcmlwdD9kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYzp2b2lkIDA7cmV0dXJuIHR5cGVvZiBfX2ZpbGVuYW1lPCJ1IiYmKGU9ZXx8X19maWxlbmFtZSksZnVuY3Rpb24odD17fSl7ZnVuY3Rpb24gcigpe3JldHVybiBRLmJ1ZmZlciE9ZmUuYnVmZmVyJiZHZSgpLGZlfWZ1bmN0aW9uIG8oKXtyZXR1cm4gUS5idWZmZXIhPWZlLmJ1ZmZlciYmR2UoKSxJZX1mdW5jdGlvbiBuKCl7cmV0dXJuIFEuYnVmZmVyIT1mZS5idWZmZXImJkdlKCksaGV9ZnVuY3Rpb24gcygpe3JldHVybiBRLmJ1ZmZlciE9ZmUuYnVmZmVyJiZHZSgpLHllfWZ1bmN0aW9uIHUoKXtyZXR1cm4gUS5idWZmZXIhPWZlLmJ1ZmZlciYmR2UoKSxXZX1mdW5jdGlvbiBsKCl7cmV0dXJuIFEuYnVmZmVyIT1mZS5idWZmZXImJkdlKCksRGV9dmFyIGE9dCxwLGg7YS5yZWFkeT1uZXcgUHJvbWlzZSgoaSxjKT0+e3A9aSxoPWN9KSxhLm1vdW50RXh0ZXJuYWxEYXRhPShpLGMpPT57KGEuY2J8fChhLmNiPW5ldyBNYXApKS5zZXQoaSxjKX0sYS51bm1vdW50RXh0ZXJuYWxEYXRhPSgpPT57ZGVsZXRlIGEuY2J9LGEuanNlcEluaXQ9KGksYyxmLFMsTyxELFcsaWUpPT57YS5NYj1pLGEud2I9YyxhLnliPWYsYS5rYj1TLGEueGI9TyxhLkVhPUQsYS56Yj1XLGEuQWI9aWUsYz0obmUsb2UscGUpPT4oLi4ueGUpPT57bGV0IFRlPXV0LGs9b2U/LigpO3hlPW5lKC4uLnhlKTtsZXQgbWU9b2U/LigpO3JldHVybiBrIT09bWUmJihuZT1tZSxwZShrKSxvZT1wZT1udWxsKSx1dCE9VGU/TXUoKTp4ZX0sZj1uZT0+YXN5bmMoLi4ub2UpPT57dHJ5e2lmKGEuYmIpdGhyb3cgRXJyb3IoIlNlc3Npb24gYWxyZWFkeSBzdGFydGVkIik7bGV0IHBlPWEuYmI9e0NiOm9lWzBdLGVycm9yczpbXX0seGU9YXdhaXQgbmUoLi4ub2UpO2lmKGEuYmIhPT1wZSl0aHJvdyBFcnJvcigiU2Vzc2lvbiBtaXNtYXRjaCIpO2kuZmx1c2goKTtsZXQgVGU9cGUuZXJyb3JzO2lmKDA8VGUubGVuZ3RoKXtsZXQgaz1hd2FpdCBQcm9taXNlLmFsbChUZSk7aWYoaz1rLmZpbHRlcihtZT0+bWUpLDA8ay5sZW5ndGgpdGhyb3cgRXJyb3Ioay5qb2luKGBcbmApKX1yZXR1cm4geGV9ZmluYWxseXthLmJiPW51bGx9fSxhLl9PcnRSdW49ZihjKGEuX09ydFJ1biwoKT0+YS5fT3J0UnVuLG5lPT5hLl9PcnRSdW49bmUpKSxhLl9PcnRSdW5XaXRoQmluZGluZz1mKGMoYS5fT3J0UnVuV2l0aEJpbmRpbmcsKCk9PmEuX09ydFJ1bldpdGhCaW5kaW5nLG5lPT5hLl9PcnRSdW5XaXRoQmluZGluZz1uZSkpLGEuX09ydEJpbmRJbnB1dD1jKGEuX09ydEJpbmRJbnB1dCwoKT0+YS5fT3J0QmluZElucHV0LG5lPT5hLl9PcnRCaW5kSW5wdXQ9bmUpLGEuanNlcFJlZ2lzdGVyQnVmZmVyPShuZSxvZSxwZSx4ZSk9PmkucmVnaXN0ZXJCdWZmZXIobmUsb2UscGUseGUpLGEuanNlcFVucmVnaXN0ZXJCdWZmZXJzPW5lPT57aS51bnJlZ2lzdGVyQnVmZmVycyhuZSl9LGEuanNlcEdldEJ1ZmZlcj1uZT0+aS5nZXRCdWZmZXIobmUpLGEuanNlcENyZWF0ZURvd25sb2FkZXI9KG5lLG9lLHBlKT0+aS5jcmVhdGVEb3dubG9hZGVyKG5lLG9lLHBlKX07dmFyIGc9T2JqZWN0LmFzc2lnbih7fSxhKSxiPSIuL3RoaXMucHJvZ3JhbSIsdz0oaSxjKT0+e3Rocm93IGN9LHk9dHlwZW9mIHdpbmRvdz09Im9iamVjdCIsXz10eXBlb2YgaW1wb3J0U2NyaXB0cz09ImZ1bmN0aW9uIixJPXR5cGVvZiBwcm9jZXNzPT0ib2JqZWN0IiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnM9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlPT0ic3RyaW5nIiwkPWEuRU5WSVJPTk1FTlRfSVNfUFRIUkVBRHx8ITEseD0iIjtmdW5jdGlvbiBFKGkpe3JldHVybiBhLmxvY2F0ZUZpbGU/YS5sb2NhdGVGaWxlKGkseCk6eCtpfXZhciBBLHosUjtpZihJKXt2YXIgVj0oeW4oKSxIdChnbikpLFQ9KHduKCksSHQoYm4pKTt4PV8/VC5kaXJuYW1lKHgpKyIvIjpfX2Rpcm5hbWUrIi8iLEE9KGMsZik9PihjPUF0KGMpP25ldyBVUkwoYyk6VC5ub3JtYWxpemUoYyksVi5yZWFkRmlsZVN5bmMoYyxmP3ZvaWQgMDoidXRmOCIpKSxSPWM9PihjPUEoYywhMCksYy5idWZmZXJ8fChjPW5ldyBVaW50OEFycmF5KGMpKSxjKSx6PShjLGYsUyxPPSEwKT0+e2M9QXQoYyk/bmV3IFVSTChjKTpULm5vcm1hbGl6ZShjKSxWLnJlYWRGaWxlKGMsTz92b2lkIDA6InV0ZjgiLChELFcpPT57RD9TKEQpOmYoTz9XLmJ1ZmZlcjpXKX0pfSwhYS50aGlzUHJvZ3JhbSYmMTxwcm9jZXNzLmFyZ3YubGVuZ3RoJiYoYj1wcm9jZXNzLmFyZ3ZbMV0ucmVwbGFjZSgvXFxcXC9nLCIvIikpLHByb2Nlc3MuYXJndi5zbGljZSgyKSx3PShjLGYpPT57dGhyb3cgcHJvY2Vzcy5leGl0Q29kZT1jLGZ9LGEuaW5zcGVjdD0oKT0+IltFbXNjcmlwdGVuIE1vZHVsZSBvYmplY3RdIjtsZXQgaTt0cnl7aT1BbygpfWNhdGNoKGMpe3Rocm93IGNvbnNvbGUuZXJyb3IoXCdUaGUgIndvcmtlcl90aHJlYWRzIiBtb2R1bGUgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIG5vZGUuanMgYnVpbGQgLSBwZXJoYXBzIGEgbmV3ZXIgdmVyc2lvbiBpcyBuZWVkZWQ/XCcpLGN9Z2xvYmFsLldvcmtlcj1pLldvcmtlcn1lbHNlKHl8fF8pJiYoXz94PXNlbGYubG9jYXRpb24uaHJlZjp0eXBlb2YgZG9jdW1lbnQ8InUiJiZkb2N1bWVudC5jdXJyZW50U2NyaXB0JiYoeD1kb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYyksdHlwZW9mIGU8InUiJiZlJiYoeD1lKSx4LmluZGV4T2YoImJsb2I6IikhPT0wP3g9eC5zdWJzdHIoMCx4LnJlcGxhY2UoL1s/I10uKi8sIiIpLmxhc3RJbmRleE9mKCIvIikrMSk6eD0iIixJfHwoQT1pPT57dmFyIGM9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBjLm9wZW4oIkdFVCIsaSwhMSksYy5zZW5kKG51bGwpLGMucmVzcG9uc2VUZXh0fSxfJiYoUj1pPT57dmFyIGM9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBjLm9wZW4oIkdFVCIsaSwhMSksYy5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIixjLnNlbmQobnVsbCksbmV3IFVpbnQ4QXJyYXkoYy5yZXNwb25zZSl9KSx6PShpLGMsZik9Pnt2YXIgUz1uZXcgWE1MSHR0cFJlcXVlc3Q7Uy5vcGVuKCJHRVQiLGksITApLFMucmVzcG9uc2VUeXBlPSJhcnJheWJ1ZmZlciIsUy5vbmxvYWQ9KCk9PntTLnN0YXR1cz09MjAwfHxTLnN0YXR1cz09MCYmUy5yZXNwb25zZT9jKFMucmVzcG9uc2UpOmYoKX0sUy5vbmVycm9yPWYsUy5zZW5kKG51bGwpfSkpO0kmJnR5cGVvZiBwZXJmb3JtYW5jZT4idSImJihnbG9iYWwucGVyZm9ybWFuY2U9VG8oKS5wZXJmb3JtYW5jZSk7dmFyIE49Y29uc29sZS5sb2cuYmluZChjb25zb2xlKSx0ZT1jb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSk7SSYmKE49KC4uLmkpPT5WLndyaXRlU3luYygxLGkuam9pbigiICIpK2BcbmApLHRlPSguLi5pKT0+Vi53cml0ZVN5bmMoMixpLmpvaW4oIiAiKStgXG5gKSk7dmFyIFk9TixLPXRlO09iamVjdC5hc3NpZ24oYSxnKSxnPW51bGwsdHlwZW9mIFdlYkFzc2VtYmx5IT0ib2JqZWN0IiYmcnQoIm5vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWQiKTt2YXIgUSxaLEVlPSExLFBlLGZlLEllLGhlLHllLFdlLERlO2Z1bmN0aW9uIEdlKCl7dmFyIGk9US5idWZmZXI7YS5IRUFQOD1mZT1uZXcgSW50OEFycmF5KGkpLGEuSEVBUDE2PW5ldyBJbnQxNkFycmF5KGkpLGEuSEVBUFU4PUllPW5ldyBVaW50OEFycmF5KGkpLGEuSEVBUFUxNj1uZXcgVWludDE2QXJyYXkoaSksYS5IRUFQMzI9aGU9bmV3IEludDMyQXJyYXkoaSksYS5IRUFQVTMyPXllPW5ldyBVaW50MzJBcnJheShpKSxhLkhFQVBGMzI9V2U9bmV3IEZsb2F0MzJBcnJheShpKSxhLkhFQVBGNjQ9RGU9bmV3IEZsb2F0NjRBcnJheShpKX12YXIgRz0xNjc3NzIxNjtpZigkKVE9YS53YXNtTWVtb3J5O2Vsc2UgaWYoYS53YXNtTWVtb3J5KVE9YS53YXNtTWVtb3J5O2Vsc2UgaWYoUT1uZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtpbml0aWFsOkcvNjU1MzYsbWF4aW11bTo2NTUzNixzaGFyZWQ6ITB9KSwhKFEuYnVmZmVyIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXIpKXRocm93IEsoInJlcXVlc3RlZCBhIHNoYXJlZCBXZWJBc3NlbWJseS5NZW1vcnkgYnV0IHRoZSByZXR1cm5lZCBidWZmZXIgaXMgbm90IGEgU2hhcmVkQXJyYXlCdWZmZXIsIGluZGljYXRpbmcgdGhhdCB3aGlsZSB0aGUgYnJvd3NlciBoYXMgU2hhcmVkQXJyYXlCdWZmZXIgaXQgZG9lcyBub3QgaGF2ZSBXZWJBc3NlbWJseSB0aHJlYWRzIHN1cHBvcnQgLSB5b3UgbWF5IG5lZWQgdG8gc2V0IGEgZmxhZyIpLEkmJksoIihvbiBub2RlIHlvdSBtYXkgbmVlZDogLS1leHBlcmltZW50YWwtd2FzbS10aHJlYWRzIC0tZXhwZXJpbWVudGFsLXdhc20tYnVsay1tZW1vcnkgYW5kL29yIHJlY2VudCB2ZXJzaW9uKSIpLEVycm9yKCJiYWQgbWVtb3J5Iik7R2UoKSxHPVEuYnVmZmVyLmJ5dGVMZW5ndGg7dmFyIGVlPVtdLGJlPVtdLGV0PVtdLHplPTAsVWU9bnVsbCxNZT1udWxsO2Z1bmN0aW9uIHd0KCl7aWYoemUtLSx6ZT09MCYmKFVlIT09bnVsbCYmKGNsZWFySW50ZXJ2YWwoVWUpLFVlPW51bGwpLE1lKSl7dmFyIGk9TWU7TWU9bnVsbCxpKCl9fWZ1bmN0aW9uIHJ0KGkpe3Rocm93IGk9IkFib3J0ZWQoIitpKyIpIixLKGkpLEVlPSEwLFBlPTEsaT1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKGkrIi4gQnVpbGQgd2l0aCAtc0FTU0VSVElPTlMgZm9yIG1vcmUgaW5mby4iKSxoKGkpLGl9dmFyIER0PWk9Pmkuc3RhcnRzV2l0aCgiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCIpLEF0PWk9Pmkuc3RhcnRzV2l0aCgiZmlsZTovLyIpLHZ0O3Z0PSJvcnQtd2FzbS1zaW1kLXRocmVhZGVkLndhc20iLER0KHZ0KXx8KHZ0PUUodnQpKTtmdW5jdGlvbiBxZShpKXtpZihSKXJldHVybiBSKGkpO3Rocm93ImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkIn1mdW5jdGlvbiBxdChpKXtpZih5fHxfKXtpZih0eXBlb2YgZmV0Y2g9PSJmdW5jdGlvbiImJiFBdChpKSlyZXR1cm4gZmV0Y2goaSx7Y3JlZGVudGlhbHM6InNhbWUtb3JpZ2luIn0pLnRoZW4oYz0+e2lmKCFjLm9rKXRocm93ImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgXCciK2krIlwnIjtyZXR1cm4gYy5hcnJheUJ1ZmZlcigpfSkuY2F0Y2goKCk9PnFlKGkpKTtpZih6KXJldHVybiBuZXcgUHJvbWlzZSgoYyxmKT0+e3ooaSxTPT5jKG5ldyBVaW50OEFycmF5KFMpKSxmKX0pfXJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpPT5xZShpKSl9ZnVuY3Rpb24gTXQoaSxjLGYpe3JldHVybiBxdChpKS50aGVuKFM9PldlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKFMsYykpLnRoZW4oUz0+UykudGhlbihmLFM9PntLKGBmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAke1N9YCkscnQoUyl9KX1mdW5jdGlvbiAkdChpLGMpe3ZhciBmPXZ0O3JldHVybiB0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmchPSJmdW5jdGlvbiJ8fER0KGYpfHxBdChmKXx8SXx8dHlwZW9mIGZldGNoIT0iZnVuY3Rpb24iP010KGYsaSxjKTpmZXRjaChmLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSkudGhlbihTPT5XZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhTLGkpLnRoZW4oYyxmdW5jdGlvbihPKXtyZXR1cm4gSyhgd2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICR7T31gKSxLKCJmYWxsaW5nIGJhY2sgdG8gQXJyYXlCdWZmZXIgaW5zdGFudGlhdGlvbiIpLE10KGYsaSxjKX0pKX12YXIgeXQsenQ9ezkzMjQyODooaSxjLGYsUyk9PntpZih0eXBlb2YgYT4idSJ8fCFhLmNiKXJldHVybiAxO2lmKGk9WWUoaT4+PjApLGkuc3RhcnRzV2l0aCgiLi8iKSYmKGk9aS5zdWJzdHJpbmcoMikpLGk9YS5jYi5nZXQoaSksIWkpcmV0dXJuIDI7aWYoYz4+Pj0wLGY+Pj49MCxTPj4+PTAsYytmPmkuYnl0ZUxlbmd0aClyZXR1cm4gMzt0cnl7cmV0dXJuIG8oKS5zZXQoaS5zdWJhcnJheShjLGMrZiksUz4+PjApLDB9Y2F0Y2h7cmV0dXJuIDR9fSw5MzI5Mjk6aT0+YS53YihpKSw5MzI5NjI6aT0+YS55YihpKSw5MzI5OTQ6KGksYyxmKT0+e2Eua2IoaSxjLGYsITApfSw5MzMwMzM6KGksYyxmKT0+e2Eua2IoaSxjLGYpfSw5MzMwNjY6aT0+e2EuRWEoIkFicyIsaSx2b2lkIDApfSw5MzMxMTc6aT0+e2EuRWEoIk5lZyIsaSx2b2lkIDApfSw5MzMxNjg6aT0+e2EuRWEoIkZsb29yIixpLHZvaWQgMCl9LDkzMzIyMTppPT57YS5FYSgiQ2VpbCIsaSx2b2lkIDApfSw5MzMyNzM6aT0+e2EuRWEoIlJlY2lwcm9jYWwiLGksdm9pZCAwKX0sOTMzMzMxOmk9PnthLkVhKCJTcXJ0IixpLHZvaWQgMCl9LDkzMzM4MzppPT57YS5FYSgiRXhwIixpLHZvaWQgMCl9LDkzMzQzNDppPT57YS5FYSgiRXJmIixpLHZvaWQgMCl9LDkzMzQ4NTppPT57YS5FYSgiU2lnbW9pZCIsaSx2b2lkIDApfSw5MzM1NDA6aT0+e2EuRWEoIkxvZyIsaSx2b2lkIDApfSw5MzM1OTE6aT0+e2EuRWEoIlNpbiIsaSx2b2lkIDApfSw5MzM2NDI6aT0+e2EuRWEoIkNvcyIsaSx2b2lkIDApfSw5MzM2OTM6aT0+e2EuRWEoIlRhbiIsaSx2b2lkIDApfSw5MzM3NDQ6aT0+e2EuRWEoIkFzaW4iLGksdm9pZCAwKX0sOTMzNzk2Omk9PnthLkVhKCJBY29zIixpLHZvaWQgMCl9LDkzMzg0ODppPT57YS5FYSgiQXRhbiIsaSx2b2lkIDApfSw5MzM5MDA6aT0+e2EuRWEoIlNpbmgiLGksdm9pZCAwKX0sOTMzOTUyOmk9PnthLkVhKCJDb3NoIixpLHZvaWQgMCl9LDkzNDAwNDppPT57YS5FYSgiQXNpbmgiLGksdm9pZCAwKX0sOTM0MDU3Omk9PnthLkVhKCJBY29zaCIsaSx2b2lkIDApfSw5MzQxMTA6aT0+e2EuRWEoIkF0YW5oIixpLHZvaWQgMCl9LDkzNDE2MzppPT57YS5FYSgiVGFuaCIsaSx2b2lkIDApfSw5MzQyMTU6aT0+e2EuRWEoIk5vdCIsaSx2b2lkIDApfSw5MzQyNjY6KGksYyxmKT0+e2EuRWEoIkNsaXAiLGkse21pbjpjLG1heDpmfSl9LDkzNDMzNTppPT57YS5FYSgiQ2xpcCIsaSx2b2lkIDApfSw5MzQzODc6KGksYyk9PnthLkVhKCJFbHUiLGkse2FscGhhOmN9KX0sOTM0NDQ1Omk9PnthLkVhKCJSZWx1IixpLHZvaWQgMCl9LDkzNDQ5NzooaSxjKT0+e2EuRWEoIkxlYWt5UmVsdSIsaSx7YWxwaGE6Y30pfSw5MzQ1NjE6KGksYyk9PnthLkVhKCJUaHJlc2hvbGRlZFJlbHUiLGkse2FscGhhOmN9KX0sOTM0NjMxOihpLGMpPT57YS5FYSgiQ2FzdCIsaSx7dG86Y30pfSw5MzQ2ODk6aT0+e2EuRWEoIkFkZCIsaSx2b2lkIDApfSw5MzQ3NDA6aT0+e2EuRWEoIlN1YiIsaSx2b2lkIDApfSw5MzQ3OTE6aT0+e2EuRWEoIk11bCIsaSx2b2lkIDApfSw5MzQ4NDI6aT0+e2EuRWEoIkRpdiIsaSx2b2lkIDApfSw5MzQ4OTM6aT0+e2EuRWEoIlBvdyIsaSx2b2lkIDApfSw5MzQ5NDQ6aT0+e2EuRWEoIkVxdWFsIixpLHZvaWQgMCl9LDkzNDk5NzppPT57YS5FYSgiR3JlYXRlciIsaSx2b2lkIDApfSw5MzUwNTI6aT0+e2EuRWEoIkdyZWF0ZXJPckVxdWFsIixpLHZvaWQgMCl9LDkzNTExNDppPT57YS5FYSgiTGVzcyIsaSx2b2lkIDApfSw5MzUxNjY6aT0+e2EuRWEoIkxlc3NPckVxdWFsIixpLHZvaWQgMCl9LDkzNTIyNTooaSxjLGYsUyxPKT0+e2EuRWEoIlJlZHVjZU1lYW4iLGkse2tlZXBEaW1zOiEhYyxub29wV2l0aEVtcHR5QXhlczohIWYsYXhlczpTP0FycmF5LmZyb20obigpLnN1YmFycmF5KFM+Pj4wLE8+Pj4wKSk6W119KX0sOTM1Mzg0OihpLGMsZixTLE8pPT57YS5FYSgiUmVkdWNlTWF4IixpLHtrZWVwRGltczohIWMsbm9vcFdpdGhFbXB0eUF4ZXM6ISFmLGF4ZXM6Uz9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShTPj4+MCxPPj4+MCkpOltdfSl9LDkzNTU0MjooaSxjLGYsUyxPKT0+e2EuRWEoIlJlZHVjZU1pbiIsaSx7a2VlcERpbXM6ISFjLG5vb3BXaXRoRW1wdHlBeGVzOiEhZixheGVzOlM/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoUz4+PjAsTz4+PjApKTpbXX0pfSw5MzU3MDA6KGksYyxmLFMsTyk9PnthLkVhKCJSZWR1Y2VQcm9kIixpLHtrZWVwRGltczohIWMsbm9vcFdpdGhFbXB0eUF4ZXM6ISFmLGF4ZXM6Uz9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShTPj4+MCxPPj4+MCkpOltdfSl9LDkzNTg1OTooaSxjLGYsUyxPKT0+e2EuRWEoIlJlZHVjZVN1bSIsaSx7a2VlcERpbXM6ISFjLG5vb3BXaXRoRW1wdHlBeGVzOiEhZixheGVzOlM/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoUz4+PjAsTz4+PjApKTpbXX0pfSw5MzYwMTc6KGksYyxmLFMsTyk9PnthLkVhKCJSZWR1Y2VMMSIsaSx7a2VlcERpbXM6ISFjLG5vb3BXaXRoRW1wdHlBeGVzOiEhZixheGVzOlM/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoUz4+PjAsTz4+PjApKTpbXX0pfSw5MzYxNzQ6KGksYyxmLFMsTyk9PnthLkVhKCJSZWR1Y2VMMiIsaSx7a2VlcERpbXM6ISFjLG5vb3BXaXRoRW1wdHlBeGVzOiEhZixheGVzOlM/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoUz4+PjAsTz4+PjApKTpbXX0pfSw5MzYzMzE6KGksYyxmLFMsTyk9PnthLkVhKCJSZWR1Y2VMb2dTdW0iLGkse2tlZXBEaW1zOiEhYyxub29wV2l0aEVtcHR5QXhlczohIWYsYXhlczpTP0FycmF5LmZyb20obigpLnN1YmFycmF5KFM+Pj4wLE8+Pj4wKSk6W119KX0sOTM2NDkyOihpLGMsZixTLE8pPT57YS5FYSgiUmVkdWNlU3VtU3F1YXJlIixpLHtrZWVwRGltczohIWMsbm9vcFdpdGhFbXB0eUF4ZXM6ISFmLGF4ZXM6Uz9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShTPj4+MCxPPj4+MCkpOltdfSl9LDkzNjY1NjooaSxjLGYsUyxPKT0+e2EuRWEoIlJlZHVjZUxvZ1N1bUV4cCIsaSx7a2VlcERpbXM6ISFjLG5vb3BXaXRoRW1wdHlBeGVzOiEhZixheGVzOlM/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoUz4+PjAsTz4+PjApKTpbXX0pfSw5MzY4MjA6aT0+e2EuRWEoIldoZXJlIixpLHZvaWQgMCl9LDkzNjg3MzooaSxjLGYpPT57YS5FYSgiVHJhbnNwb3NlIixpLHtwZXJtOmM/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoYz4+PjAsZj4+PjApKTpbXX0pfSw5MzY5ODE6KGksYyxmLFMsTyxELFcsaWUsbmUsb2UscGUseGUsVGUsayxtZSk9PnthLkVhKCJDb252VHJhbnNwb3NlIixpLHtmb3JtYXQ6bmU/Ik5IV0MiOiJOQ0hXIixhdXRvUGFkOmMsZGlsYXRpb25zOltmXSxncm91cDpTLGtlcm5lbF9zaGFwZTpbT10scGFkczpbRCxXXSxzdHJpZGVzOltpZV0sd0lzQ29uc3Q6KCk9PiEhcigpW29lPj4+MF0sb3V0cHV0UGFkZGluZzpwZT9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShwZT4+PjAseGU+Pj4wKSk6W10sb3V0cHV0U2hhcGU6VGU/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoVGU+Pj4wLGs+Pj4wKSk6W10sYWN0aXZhdGlvbjpZZShtZSl9KX0sOTM3MzgzOihpLGMsZixTLE8sRCxXLGllLG5lLG9lLHBlLHhlLFRlLGspPT57YS5FYSgiQ29udlRyYW5zcG9zZSIsaSx7Zm9ybWF0OmllPyJOSFdDIjoiTkNIVyIsYXV0b1BhZDpjLGRpbGF0aW9uczpBcnJheS5mcm9tKG4oKS5zdWJhcnJheShmPj4+MCwoZj4+PjApKzI+Pj4wKSksZ3JvdXA6UyxrZXJuZWxTaGFwZTpBcnJheS5mcm9tKG4oKS5zdWJhcnJheShPPj4+MCwoTz4+PjApKzI+Pj4wKSkscGFkczpBcnJheS5mcm9tKG4oKS5zdWJhcnJheShEPj4+MCwoRD4+PjApKzQ+Pj4wKSksc3RyaWRlczpBcnJheS5mcm9tKG4oKS5zdWJhcnJheShXPj4+MCwoVz4+PjApKzI+Pj4wKSksd0lzQ29uc3Q6KCk9PiEhcigpW25lPj4+MF0sb3V0cHV0UGFkZGluZzpvZT9BcnJheS5mcm9tKG4oKS5zdWJhcnJheShvZT4+PjAscGU+Pj4wKSk6W10sb3V0cHV0U2hhcGU6eGU/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoeGU+Pj4wLFRlPj4+MCkpOltdLGFjdGl2YXRpb246WWUoayl9KX0sOTM3OTQ4OihpLGMsZixTLE8sRCxXLGllLG5lLG9lLHBlLHhlLFRlLGssbWUpPT57YS5FYSgiQ29udlRyYW5zcG9zZSIsaSx7Zm9ybWF0Om5lPyJOSFdDIjoiTkNIVyIsYXV0b1BhZDpjLGRpbGF0aW9uczpbZl0sZ3JvdXA6UyxrZXJuZWxfc2hhcGU6W09dLHBhZHM6W0QsV10sc3RyaWRlczpbaWVdLHdJc0NvbnN0OigpPT4hIXIoKVtvZT4+PjBdLG91dHB1dFBhZGRpbmc6cGU/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkocGU+Pj4wLHhlPj4+MCkpOltdLG91dHB1dFNoYXBlOlRlP0FycmF5LmZyb20obigpLnN1YmFycmF5KFRlPj4+MCxrPj4+MCkpOltdLGFjdGl2YXRpb246WWUobWUpfSl9LDkzODM1MDooaSxjLGYsUyxPLEQsVyxpZSxuZSxvZSxwZSx4ZSxUZSxrKT0+e2EuRWEoIkNvbnZUcmFuc3Bvc2UiLGkse2Zvcm1hdDppZT8iTkhXQyI6Ik5DSFciLGF1dG9QYWQ6YyxkaWxhdGlvbnM6QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoZj4+PjAsKGY+Pj4wKSsyPj4+MCkpLGdyb3VwOlMsa2VybmVsU2hhcGU6QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoTz4+PjAsKE8+Pj4wKSsyPj4+MCkpLHBhZHM6QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoRD4+PjAsKEQ+Pj4wKSs0Pj4+MCkpLHN0cmlkZXM6QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoVz4+PjAsKFc+Pj4wKSsyPj4+MCkpLHdJc0NvbnN0OigpPT4hIXIoKVtuZT4+PjBdLG91dHB1dFBhZGRpbmc6b2U/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkob2U+Pj4wLHBlPj4+MCkpOltdLG91dHB1dFNoYXBlOnhlP0FycmF5LmZyb20obigpLnN1YmFycmF5KHhlPj4+MCxUZT4+PjApKTpbXSxhY3RpdmF0aW9uOlllKGspfSl9LDkzODkxNTooaSxjKT0+e2EuRWEoIkdsb2JhbEF2ZXJhZ2VQb29sIixpLHtmb3JtYXQ6Yz8iTkhXQyI6Ik5DSFcifSl9LDkzOTAwNjooaSxjLGYsUyxPLEQsVyxpZSxuZSxvZSxwZSx4ZSxUZSxrLG1lLENlKT0+e2EuRWEoIkF2ZXJhZ2VQb29sIixpLHtmb3JtYXQ6Q2U/Ik5IV0MiOiJOQ0hXIixhdXRvX3BhZDpjLGNlaWxfbW9kZTpmLGNvdW50X2luY2x1ZGVfcGFkOlMsc3RvcmFnZV9vcmRlcjpPLGRpbGF0aW9uczpbRCxXXSxrZXJuZWxfc2hhcGU6W2llLG5lXSxwYWRzOltvZSxwZSx4ZSxUZV0sc3RyaWRlczpbayxtZV19KX0sOTM5MjkwOihpLGMpPT57YS5FYSgiR2xvYmFsQXZlcmFnZVBvb2wiLGkse2Zvcm1hdDpjPyJOSFdDIjoiTkNIVyJ9KX0sOTM5MzgxOihpLGMsZixTLE8sRCxXLGllLG5lLG9lLHBlLHhlLFRlLGssbWUsQ2UpPT57YS5FYSgiQXZlcmFnZVBvb2wiLGkse2Zvcm1hdDpDZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOmMsY2VpbF9tb2RlOmYsY291bnRfaW5jbHVkZV9wYWQ6UyxzdG9yYWdlX29yZGVyOk8sZGlsYXRpb25zOltELFddLGtlcm5lbF9zaGFwZTpbaWUsbmVdLHBhZHM6W29lLHBlLHhlLFRlXSxzdHJpZGVzOltrLG1lXX0pfSw5Mzk2NjU6KGksYyk9PnthLkVhKCJHbG9iYWxNYXhQb29sIixpLHtmb3JtYXQ6Yz8iTkhXQyI6Ik5DSFcifSl9LDkzOTc1MjooaSxjLGYsUyxPLEQsVyxpZSxuZSxvZSxwZSx4ZSxUZSxrLG1lLENlKT0+e2EuRWEoIk1heFBvb2wiLGkse2Zvcm1hdDpDZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOmMsY2VpbF9tb2RlOmYsY291bnRfaW5jbHVkZV9wYWQ6UyxzdG9yYWdlX29yZGVyOk8sZGlsYXRpb25zOltELFddLGtlcm5lbF9zaGFwZTpbaWUsbmVdLHBhZHM6W29lLHBlLHhlLFRlXSxzdHJpZGVzOltrLG1lXX0pfSw5NDAwMzI6KGksYyk9PnthLkVhKCJHbG9iYWxNYXhQb29sIixpLHtmb3JtYXQ6Yz8iTkhXQyI6Ik5DSFcifSl9LDk0MDExOTooaSxjLGYsUyxPLEQsVyxpZSxuZSxvZSxwZSx4ZSxUZSxrLG1lLENlKT0+e2EuRWEoIk1heFBvb2wiLGkse2Zvcm1hdDpDZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOmMsY2VpbF9tb2RlOmYsY291bnRfaW5jbHVkZV9wYWQ6UyxzdG9yYWdlX29yZGVyOk8sZGlsYXRpb25zOltELFddLGtlcm5lbF9zaGFwZTpbaWUsbmVdLHBhZHM6W29lLHBlLHhlLFRlXSxzdHJpZGVzOltrLG1lXX0pfSw5NDAzOTk6KGksYyxmLFMsTyk9PnthLkVhKCJHZW1tIixpLHthbHBoYTpjLGJldGE6Zix0cmFuc0E6Uyx0cmFuc0I6T30pfSw5NDA1MDM6aT0+e2EuRWEoIk1hdE11bCIsaSx2b2lkIDApfSw5NDA1NTc6KGksYyxmLFMpPT57YS5FYSgiQXJnTWF4IixpLHtrZWVwRGltczohIWMsc2VsZWN0TGFzdEluZGV4OiEhZixheGlzOlN9KX0sOTQwNjY1OihpLGMsZixTKT0+e2EuRWEoIkFyZ01pbiIsaSx7a2VlcERpbXM6ISFjLHNlbGVjdExhc3RJbmRleDohIWYsYXhpczpTfSl9LDk0MDc3MzooaSxjKT0+e2EuRWEoIlNvZnRtYXgiLGkse2F4aXM6Y30pfSw5NDA4MzY6KGksYyk9PnthLkVhKCJDb25jYXQiLGkse2F4aXM6Y30pfSw5NDA4OTY6KGksYyxmLFMsTyk9PnthLkVhKCJTcGxpdCIsaSx7YXhpczpjLG51bU91dHB1dHM6ZixzcGxpdFNpemVzOlM/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoUz4+PjAsTz4+PjApKTpbXX0pfSw5NDEwMzY6aT0+e2EuRWEoIkV4cGFuZCIsaSx2b2lkIDApfSw5NDEwOTA6KGksYyk9PnthLkVhKCJHYXRoZXIiLGkse2F4aXM6TnVtYmVyKGMpfSl9LDk0MTE2MTooaSxjKT0+e2EuRWEoIkdhdGhlckVsZW1lbnRzIixpLHtheGlzOk51bWJlcihjKX0pfSw5NDEyNDA6KGksYyxmLFMsTyxELFcsaWUsbmUsb2UscGUpPT57YS5FYSgiUmVzaXplIixpLHthbnRpYWxpYXM6YyxheGVzOmY/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoZj4+PjAsUz4+PjApKTpbXSxjb29yZGluYXRlVHJhbnNmb3JtTW9kZTpZZShPKSxjdWJpY0NvZWZmQTpELGV4Y2x1ZGVPdXRzaWRlOlcsZXh0cmFwb2xhdGlvblZhbHVlOmllLGtlZXBBc3BlY3RSYXRpb1BvbGljeTpZZShuZSksbW9kZTpZZShvZSksbmVhcmVzdE1vZGU6WWUocGUpfSl9LDk0MTU4NjooaSxjLGYsUyxPLEQsVyk9PnthLkVhKCJTbGljZSIsaSx7c3RhcnRzOmM/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoYz4+PjAsZj4+PjApKTpbXSxlbmRzOlM/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoUz4+PjAsTz4+PjApKTpbXSxheGVzOkQ/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoRD4+PjAsVz4+PjApKTpbXX0pfSw5NDE4MDI6aT0+e2EuRWEoIlRpbGUiLGksdm9pZCAwKX0sOTQxODU0OihpLGMsZik9PnthLkVhKCJMYXllck5vcm1hbGl6YXRpb24iLGkse2F4aXM6TnVtYmVyKGMpLGVwc2lsb246TnVtYmVyKGYpfSl9LDk0MTk2MTooaSxjLGYpPT57YS5FYSgiSW5zdGFuY2VOb3JtYWxpemF0aW9uIixpLHtlcHNpbG9uOmMsZm9ybWF0OmY/Ik5IV0MiOiJOQ0hXIn0pfSw5NDIwNzU6KGksYyxmKT0+e2EuRWEoIkluc3RhbmNlTm9ybWFsaXphdGlvbiIsaSx7ZXBzaWxvbjpjLGZvcm1hdDpmPyJOSFdDIjoiTkNIVyJ9KX0sOTQyMTg5Omk9PnthLkVhKCJSYW5nZSIsaSx2b2lkIDApfSw5NDIyNDI6KGksYyk9PnthLkVhKCJFaW5zdW0iLGkse2VxdWF0aW9uOlllKGMpfSl9LDk0MjMyMzooaSxjLGYsUyxPKT0+e2EuRWEoIlBhZCIsaSx7bW9kZTpjLHZhbHVlOmYscGFkczpTP0FycmF5LmZyb20obigpLnN1YmFycmF5KFM+Pj4wLE8+Pj4wKSk6W119KX0sOTQyNDUwOihpLGMsZixTLE8sRCk9PnthLkVhKCJCYXRjaE5vcm1hbGl6YXRpb24iLGkse2Vwc2lsb246Yyxtb21lbnR1bTpmLHNwYXRpYWw6ISFPLHRyYWluaW5nTW9kZTohIVMsZm9ybWF0OkQ/Ik5IV0MiOiJOQ0hXIn0pfSw5NDI2MTk6KGksYyxmLFMsTyxEKT0+e2EuRWEoIkJhdGNoTm9ybWFsaXphdGlvbiIsaSx7ZXBzaWxvbjpjLG1vbWVudHVtOmYsc3BhdGlhbDohIU8sdHJhaW5pbmdNb2RlOiEhUyxmb3JtYXQ6RD8iTkhXQyI6Ik5DSFcifSl9LDk0Mjc4ODooaSxjLGYpPT57YS5FYSgiQ3VtU3VtIixpLHtleGNsdXNpdmU6TnVtYmVyKGMpLHJldmVyc2U6TnVtYmVyKGYpfSl9LDk0Mjg4NTooaSxjLGYsUyxPLEQsVyxpZSxuZSk9PnthLkVhKCJBdHRlbnRpb24iLGkse251bUhlYWRzOmMsaXNVbmlkaXJlY3Rpb25hbDpmLG1hc2tGaWx0ZXJWYWx1ZTpTLHNjYWxlOk8sZG9Sb3Rhcnk6RCxxa3ZIaWRkZW5TaXplczpXP0FycmF5LmZyb20obigpLnN1YmFycmF5KE51bWJlcihpZSk+Pj4wLE51bWJlcihpZSkrVz4+PjApKTpbXSxwYXN0UHJlc2VudFNoYXJlQnVmZmVyOiEhbmV9KX0sOTQzMTU3Omk9PnthLkVhKCJHZWx1IixpLHZvaWQgMCl9LDk0MzIwOTooaSxjLGYsUyxPLEQpPT57YS5FYSgiTXVsdGlIZWFkQXR0ZW50aW9uIixpLHtudW1IZWFkczpjLGlzVW5pZGlyZWN0aW9uYWw6ZixtYXNrRmlsdGVyVmFsdWU6UyxzY2FsZTpPLGRvUm90YXJ5OkR9KX0sOTQzMzY4Omk9PnthLkVhKCJCaWFzQWRkIixpLHZvaWQgMCl9LDk0MzQyMzppPT57YS5FYSgiQmlhc1NwbGl0R2VsdSIsaSx2b2lkIDApfSw5NDM0ODQ6KGksYyk9PnthLkVhKCJTa2lwTGF5ZXJOb3JtYWxpemF0aW9uIixpLHtlcHNpbG9uOmN9KX0sOTQzNTY1OihpLGMsZixTLE8sRCxXLGllLG5lLG9lLHBlLHhlLFRlKT0+e2EuRWEoIkNvbnYiLGkse2Zvcm1hdDpuZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOmMsZGlsYXRpb25zOltmXSxncm91cDpTLGtlcm5lbF9zaGFwZTpbT10scGFkczpEP0FycmF5LmZyb20obigpLnN1YmFycmF5KEQ+Pj4wLFc+Pj4wKSk6W10sc3RyaWRlczpbaWVdLHdfaXNfY29uc3Q6KCk9PiEhcigpW29lPj4+MF0sYWN0aXZhdGlvbjpZZShwZSksYWN0aXZhdGlvbl9wYXJhbXM6eGU/QXJyYXkuZnJvbSh1KCkuc3ViYXJyYXkoeGU+Pj4wLFRlPj4+MCkpOltdfSl9LDk0MzkzNTooaSxjLGYsUyxPLEQsVyxpZSxuZSxvZSxwZSx4ZSxUZSxrLG1lLENlKT0+e2EuRWEoIkNvbnYiLGkse2Zvcm1hdDp4ZT8iTkhXQyI6Ik5DSFciLGF1dG9fcGFkOmMsZGlsYXRpb25zOltmLFNdLGdyb3VwOk8sa2VybmVsX3NoYXBlOltELFddLHBhZHM6aWU/QXJyYXkuZnJvbShuKCkuc3ViYXJyYXkoaWU+Pj4wLG5lPj4+MCkpOltdLHN0cmlkZXM6W29lLHBlXSx3X2lzX2NvbnN0OigpPT4hIXIoKVtUZT4+PjBdLGFjdGl2YXRpb246WWUoayksYWN0aXZhdGlvbl9wYXJhbXM6bWU/QXJyYXkuZnJvbSh1KCkuc3ViYXJyYXkobWU+Pj4wLENlPj4+MCkpOltdfSl9LDk0NDMyNjppPT57YS56YihpKX0sOTQ0MzYwOihpLGMpPT5hLkFiKGksYyxhLmJiLkNiLGEuYmIuZXJyb3JzKX07ZnVuY3Rpb24gVXQoaSl7dGhpcy5uYW1lPSJFeGl0U3RhdHVzIix0aGlzLm1lc3NhZ2U9YFByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoJHtpfSlgLHRoaXMuc3RhdHVzPWl9dmFyIFR0PWk9PntpLnRlcm1pbmF0ZSgpLGkub25tZXNzYWdlPSgpPT57fX0sS3Q9aT0+e2RlLllhLmxlbmd0aD09MCYmKG90KCksZGUubGIoZGUuWWFbMF0pKTt2YXIgYz1kZS5ZYS5wb3AoKTtpZighYylyZXR1cm4gNjtkZS5aYS5wdXNoKGMpLGRlLlFhW2kuWGFdPWMsYy5YYT1pLlhhO3ZhciBmPXtjbWQ6InJ1biIsc3RhcnRfcm91dGluZTppLkRiLGFyZzppLnRiLHB0aHJlYWRfcHRyOmkuWGF9O3JldHVybiBJJiZjLnVucmVmKCksYy5wb3N0TWVzc2FnZShmLGkuSmIpLDB9LG50PTAsWXQ9dHlwZW9mIFRleHREZWNvZGVyPCJ1Ij9uZXcgVGV4dERlY29kZXIoInV0ZjgiKTp2b2lkIDAsVnQ9KGksYyxmKT0+e2M+Pj49MDt2YXIgUz1jK2Y7Zm9yKGY9YztpW2ZdJiYhKGY+PVMpOykrK2Y7aWYoMTY8Zi1jJiZpLmJ1ZmZlciYmWXQpcmV0dXJuIFl0LmRlY29kZShpLmJ1ZmZlciBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyP2kuc2xpY2UoYyxmKTppLnN1YmFycmF5KGMsZikpO2ZvcihTPSIiO2M8Zjspe3ZhciBPPWlbYysrXTtpZihPJjEyOCl7dmFyIEQ9aVtjKytdJjYzO2lmKChPJjIyNCk9PTE5MilTKz1TdHJpbmcuZnJvbUNoYXJDb2RlKChPJjMxKTw8NnxEKTtlbHNle3ZhciBXPWlbYysrXSY2MztPPShPJjI0MCk9PTIyND8oTyYxNSk8PDEyfEQ8PDZ8VzooTyY3KTw8MTh8RDw8MTJ8Vzw8NnxpW2MrK10mNjMsNjU1MzY+Tz9TKz1TdHJpbmcuZnJvbUNoYXJDb2RlKE8pOihPLT02NTUzNixTKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fE8+PjEwLDU2MzIwfE8mMTAyMykpfX1lbHNlIFMrPVN0cmluZy5mcm9tQ2hhckNvZGUoTyl9cmV0dXJuIFN9LFllPShpLGMpPT4oaT4+Pj0wKT9WdChvKCksaSxjKToiIixicj1pPT57dmFyIGM9bW4oKTtyZXR1cm4gaT1pKCksa3IoYyksaX07ZnVuY3Rpb24gT2UoaSxjKXt2YXIgZj1hcmd1bWVudHMubGVuZ3RoLTIsUz1hcmd1bWVudHM7cmV0dXJuIGJyKCgpPT57Zm9yKHZhciBPPWZuKDgqZiksRD1PPj4+MyxXPTA7VzxmO1crKyl7dmFyIGllPVNbMitXXTtsKClbRCtXPj4+MF09aWV9cmV0dXJuIHBvKGksZixPLGMpfSl9ZnVuY3Rpb24gd3IoaSl7aWYoJClyZXR1cm4gT2UoMCwxLGkpO1BlPWksMDxudHx8KGRlLkViKCksYS5vbkV4aXQ/LihpKSxFZT0hMCksdyhpLG5ldyBVdChpKSl9dmFyIE50PWk9PntpZihQZT1pLCQpdGhyb3cgWnQoaSksInVud2luZCI7d3IoaSl9LFN0PWk9PntpIGluc3RhbmNlb2YgVXR8fGk9PSJ1bndpbmQifHx3KDEsaSl9O2Z1bmN0aW9uIHVuKCl7Zm9yKHZhciBpPWEubnVtVGhyZWFkcztpLS07KW90KCk7ZWUudW5zaGlmdCgoKT0+e3plKyssdHQoKCk9Pnd0KCkpfSl9ZnVuY3Rpb24gb3QoKXt2YXIgaT1FKCJvcnQtd2FzbS1zaW1kLXRocmVhZGVkLndvcmtlci5qcyIpO2k9bmV3IFdvcmtlcihpKSxkZS5ZYS5wdXNoKGkpfWZ1bmN0aW9uIHR0KGkpeyQ/aSgpOlByb21pc2UuYWxsKGRlLllhLm1hcChkZS5sYikpLnRoZW4oaSl9dmFyIGRlPXtZYTpbXSxaYTpbXSxwYjpbXSxRYTp7fSxoYigpeyQ/KGRlLnJlY2VpdmVPYmplY3RUcmFuc2Zlcj1kZS5CYixkZS50aHJlYWRJbml0VExTPWRlLm9iLGRlLnNldEV4aXRTdGF0dXM9ZGUubmIpOnVuKCl9LG5iOmk9PlBlPWksTmI6WyIkdGVybWluYXRlV29ya2VyIl0sRWI6KCk9Pntmb3IodmFyIGkgb2YgZGUuWmEpVHQoaSk7Zm9yKGkgb2YgZGUuWWEpVHQoaSk7ZGUuWWE9W10sZGUuWmE9W10sZGUuUWE9W119LG1iOmk9Pnt2YXIgYz1pLlhhO2RlbGV0ZSBkZS5RYVtjXSxkZS5ZYS5wdXNoKGkpLGRlLlphLnNwbGljZShkZS5aYS5pbmRleE9mKGkpLDEpLGkuWGE9MCxjbihjKX0sQmIoKXt9LG9iKCl7ZGUucGIuZm9yRWFjaChpPT5pKCkpfSxsYjppPT5uZXcgUHJvbWlzZShjPT57aS5vbm1lc3NhZ2U9RD0+e0Q9RC5kYXRhO3ZhciBXPUQuY21kO2lmKEQudGFyZ2V0VGhyZWFkJiZELnRhcmdldFRocmVhZCE9UHIoKSl7dmFyIGllPWRlLlFhW0QudGFyZ2V0VGhyZWFkXTtpZT9pZS5wb3N0TWVzc2FnZShELEQudHJhbnNmZXJMaXN0KTpLKGBJbnRlcm5hbCBlcnJvciEgV29ya2VyIHNlbnQgYSBtZXNzYWdlICIke1d9IiB0byB0YXJnZXQgcHRocmVhZCAke0QudGFyZ2V0VGhyZWFkfSwgYnV0IHRoYXQgdGhyZWFkIG5vIGxvbmdlciBleGlzdHMhYCl9ZWxzZSBXPT09ImNoZWNrTWFpbGJveCI/RXQoKTpXPT09InNwYXduVGhyZWFkIj9LdChEKTpXPT09ImNsZWFudXBUaHJlYWQiP2RlLm1iKGRlLlFhW0QudGhyZWFkXSk6Vz09PSJraWxsVGhyZWFkIj8oRD1ELnRocmVhZCxXPWRlLlFhW0RdLGRlbGV0ZSBkZS5RYVtEXSxUdChXKSxjbihEKSxkZS5aYS5zcGxpY2UoZGUuWmEuaW5kZXhPZihXKSwxKSxXLlhhPTApOlc9PT0iY2FuY2VsVGhyZWFkIj9kZS5RYVtELnRocmVhZF0ucG9zdE1lc3NhZ2Uoe2NtZDoiY2FuY2VsIn0pOlc9PT0ibG9hZGVkIj8oaS5sb2FkZWQ9ITAsSSYmIWkuWGEmJmkudW5yZWYoKSxjKGkpKTpXPT09ImFsZXJ0Ij9hbGVydChgVGhyZWFkICR7RC50aHJlYWRJZH06ICR7RC50ZXh0fWApOkQudGFyZ2V0PT09InNldGltbWVkaWF0ZSI/aS5wb3N0TWVzc2FnZShEKTpXPT09ImNhbGxIYW5kbGVyIj9hW0QuaGFuZGxlcl0oLi4uRC5hcmdzKTpXJiZLKGB3b3JrZXIgc2VudCBhbiB1bmtub3duIGNvbW1hbmQgJHtXfWApfSxpLm9uZXJyb3I9RD0+e3Rocm93IEsoYHdvcmtlciBzZW50IGFuIGVycm9yISAke0QuZmlsZW5hbWV9OiR7RC5saW5lbm99OiAke0QubWVzc2FnZX1gKSxEfSxJJiYoaS5vbigibWVzc2FnZSIsRD0+aS5vbm1lc3NhZ2Uoe2RhdGE6RH0pKSxpLm9uKCJlcnJvciIsRD0+aS5vbmVycm9yKEQpKSk7dmFyIGY9W10sUz1bIm9uRXhpdCJdLE87Zm9yKE8gb2YgUylhLmhhc093blByb3BlcnR5KE8pJiZmLnB1c2goTyk7aS5wb3N0TWVzc2FnZSh7Y21kOiJsb2FkIixoYW5kbGVyczpmLHVybE9yQmxvYjphLm1haW5TY3JpcHRVcmxPckJsb2J8fGUsd2FzbU1lbW9yeTpRLHdhc21Nb2R1bGU6Wn0pfSl9O2EuUFRocmVhZD1kZTt2YXIgYnQ9aT0+e2Zvcig7MDxpLmxlbmd0aDspaS5zaGlmdCgpKGEpfTthLmVzdGFibGlzaFN0YWNrU3BhY2U9KCk9Pnt2YXIgaT1QcigpLGM9cygpW2krNTI+Pj4yPj4+MF07aT1zKClbaSs1Nj4+PjI+Pj4wXSxobyhjLGMtaSksa3IoYyl9O2Z1bmN0aW9uIFp0KGkpe2lmKCQpcmV0dXJuIE9lKDEsMCxpKTtOdChpKX1hLmludm9rZUVudHJ5UG9pbnQ9KGksYyk9PntpPWdvLmFwcGx5KG51bGwsW2ksY10pLDA8bnQ/ZGUubmIoaSk6cG4oaSl9O2Z1bmN0aW9uIHZyKGkpe3RoaXMuZ2I9aS0yNCx0aGlzLnNiPWZ1bmN0aW9uKGMpe3MoKVt0aGlzLmdiKzQ+Pj4yPj4+MF09Y30sdGhpcy5yYj1mdW5jdGlvbihjKXtzKClbdGhpcy5nYis4Pj4+Mj4+PjBdPWN9LHRoaXMuaGI9ZnVuY3Rpb24oYyxmKXt0aGlzLnFiKCksdGhpcy5zYihjKSx0aGlzLnJiKGYpfSx0aGlzLnFiPWZ1bmN0aW9uKCl7cygpW3RoaXMuZ2IrMTY+Pj4yPj4+MF09MH19dmFyICRyPTAsUXQ9MDtmdW5jdGlvbiBTcihpLGMsZixTKXtyZXR1cm4gJD9PZSgyLDEsaSxjLGYsUyk6eHIoaSxjLGYsUyl9ZnVuY3Rpb24geHIoaSxjLGYsUyl7aWYoaT4+Pj0wLGM+Pj49MCxmPj4+PTAsUz4+Pj0wLHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcj4idSIpcmV0dXJuIEsoIkN1cnJlbnQgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBTaGFyZWRBcnJheUJ1ZmZlciwgcHRocmVhZHMgYXJlIG5vdCBhdmFpbGFibGUhIiksNjt2YXIgTz1bXTtyZXR1cm4gJCYmTy5sZW5ndGg9PT0wP1NyKGksYyxmLFMpOihpPXtEYjpmLFhhOmksdGI6UyxKYjpPfSwkPyhpLkxiPSJzcGF3blRocmVhZCIscG9zdE1lc3NhZ2UoaSxPKSwwKTpLdChpKSl9ZnVuY3Rpb24gX3IoaSxjLGYpe3JldHVybiAkP09lKDMsMSxpLGMsZik6MH1mdW5jdGlvbiBDcihpLGMpe2lmKCQpcmV0dXJuIE9lKDQsMSxpLGMpfXZhciBYdD1pPT57Zm9yKHZhciBjPTAsZj0wO2Y8aS5sZW5ndGg7KytmKXt2YXIgUz1pLmNoYXJDb2RlQXQoZik7MTI3Pj1TP2MrKzoyMDQ3Pj1TP2MrPTI6NTUyOTY8PVMmJjU3MzQzPj1TPyhjKz00LCsrZik6Yys9M31yZXR1cm4gY30sSXI9KGksYyxmLFMpPT57aWYoZj4+Pj0wLCEoMDxTKSlyZXR1cm4gMDt2YXIgTz1mO1M9ZitTLTE7Zm9yKHZhciBEPTA7RDxpLmxlbmd0aDsrK0Qpe3ZhciBXPWkuY2hhckNvZGVBdChEKTtpZig1NTI5Njw9VyYmNTczNDM+PVcpe3ZhciBpZT1pLmNoYXJDb2RlQXQoKytEKTtXPTY1NTM2KygoVyYxMDIzKTw8MTApfGllJjEwMjN9aWYoMTI3Pj1XKXtpZihmPj1TKWJyZWFrO2NbZisrPj4+MF09V31lbHNle2lmKDIwNDc+PVcpe2lmKGYrMT49UylicmVhaztjW2YrKz4+PjBdPTE5MnxXPj42fWVsc2V7aWYoNjU1MzU+PVcpe2lmKGYrMj49UylicmVhaztjW2YrKz4+PjBdPTIyNHxXPj4xMn1lbHNle2lmKGYrMz49UylicmVhaztjW2YrKz4+PjBdPTI0MHxXPj4xOCxjW2YrKz4+PjBdPTEyOHxXPj4xMiY2M31jW2YrKz4+PjBdPTEyOHxXPj42JjYzfWNbZisrPj4+MF09MTI4fFcmNjN9fXJldHVybiBjW2Y+Pj4wXT0wLGYtT30sYWU9KGksYyxmKT0+SXIoaSxvKCksYyxmKTtmdW5jdGlvbiBKdChpLGMpe2lmKCQpcmV0dXJuIE9lKDUsMSxpLGMpfWZ1bmN0aW9uIFd0KGksYyxmKXtpZigkKXJldHVybiBPZSg2LDEsaSxjLGYpfWZ1bmN0aW9uIGVyKGksYyxmKXtyZXR1cm4gJD9PZSg3LDEsaSxjLGYpOjB9ZnVuY3Rpb24gdHIoaSxjKXtpZigkKXJldHVybiBPZSg4LDEsaSxjKX1mdW5jdGlvbiBycihpLGMsZil7aWYoJClyZXR1cm4gT2UoOSwxLGksYyxmKX1mdW5jdGlvbiBucihpLGMsZixTKXtpZigkKXJldHVybiBPZSgxMCwxLGksYyxmLFMpfWZ1bmN0aW9uIG9yKGksYyxmLFMpe2lmKCQpcmV0dXJuIE9lKDExLDEsaSxjLGYsUyl9ZnVuY3Rpb24gYXIoaSxjLGYsUyl7aWYoJClyZXR1cm4gT2UoMTIsMSxpLGMsZixTKX1mdW5jdGlvbiBpcihpKXtpZigkKXJldHVybiBPZSgxMywxLGkpfWZ1bmN0aW9uIHNyKGksYyl7aWYoJClyZXR1cm4gT2UoMTQsMSxpLGMpfWZ1bmN0aW9uIHVyKGksYyxmKXtpZigkKXJldHVybiBPZSgxNSwxLGksYyxmKX12YXIgQXI9KCk9PntpZighKDA8bnQpKXRyeXskP3BuKFBlKTpOdChQZSl9Y2F0Y2goaSl7U3QoaSl9fTtmdW5jdGlvbiB4dChpKXtpPj4+PTAsdHlwZW9mIEF0b21pY3MuS2I9PSJmdW5jdGlvbiImJihBdG9taWNzLktiKG4oKSxpPj4+MixpKS52YWx1ZS50aGVuKEV0KSxpKz0xMjgsQXRvbWljcy5zdG9yZShuKCksaT4+PjIsMSkpfWEuX19lbXNjcmlwdGVuX3RocmVhZF9tYWlsYm94X2F3YWl0PXh0O3ZhciBFdD0oKT0+e3ZhciBpPVByKCk7aWYoaSYmKHh0KGkpLCFFZSkpdHJ5e21vKCksQXIoKX1jYXRjaChjKXtTdChjKX19O2EuY2hlY2tNYWlsYm94PUV0O3ZhciBkPVtdLG09aT0+aSU0PT09MCYmKGklMTAwIT09MHx8aSU0MDA9PT0wKSx2PVswLDMxLDYwLDkxLDEyMSwxNTIsMTgyLDIxMywyNDQsMjc0LDMwNSwzMzVdLEM9WzAsMzEsNTksOTAsMTIwLDE1MSwxODEsMjEyLDI0MywyNzMsMzA0LDMzNF07ZnVuY3Rpb24gQihpLGMsZixTLE8sRCxXLGllKXtyZXR1cm4gJD9PZSgxNiwxLGksYyxmLFMsTyxELFcsaWUpOi01Mn1mdW5jdGlvbiBIKGksYyxmLFMsTyxELFcpe2lmKCQpcmV0dXJuIE9lKDE3LDEsaSxjLGYsUyxPLEQsVyl9dmFyIHE9aT0+e3ZhciBjPVh0KGkpKzEsZj1sbihjKTtyZXR1cm4gZiYmYWUoaSxmLGMpLGZ9LGxlPVtdLEo9KGksYyk9PntsZS5sZW5ndGg9MDtmb3IodmFyIGY7Zj1vKClbaSsrPj4+MF07KXt2YXIgUz1mIT0xMDU7UyY9ZiE9MTEyLGMrPVMmJmMlOD80OjAsbGUucHVzaChmPT0xMTI/cygpW2M+Pj4yPj4+MF06Zj09MTA1P24oKVtjPj4+Mj4+PjBdOmwoKVtjPj4+Mz4+PjBdKSxjKz1TPzg6NH1yZXR1cm4gbGV9LHJlPXt9LHNlPSgpPT57aWYoIXdlKXt2YXIgaT17VVNFUjoid2ViX3VzZXIiLExPR05BTUU6IndlYl91c2VyIixQQVRIOiIvIixQV0Q6Ii8iLEhPTUU6Ii9ob21lL3dlYl91c2VyIixMQU5HOih0eXBlb2YgbmF2aWdhdG9yPT0ib2JqZWN0IiYmbmF2aWdhdG9yLmxhbmd1YWdlcyYmbmF2aWdhdG9yLmxhbmd1YWdlc1swXXx8IkMiKS5yZXBsYWNlKCItIiwiXyIpKyIuVVRGLTgiLF86Ynx8Ii4vdGhpcy5wcm9ncmFtIn0sYztmb3IoYyBpbiByZSlyZVtjXT09PXZvaWQgMD9kZWxldGUgaVtjXTppW2NdPXJlW2NdO3ZhciBmPVtdO2ZvcihjIGluIGkpZi5wdXNoKGAke2N9PSR7aVtjXX1gKTt3ZT1mfXJldHVybiB3ZX0sd2U7ZnVuY3Rpb24gX2UoaSxjKXtpZigkKXJldHVybiBPZSgxOCwxLGksYyk7aT4+Pj0wLGM+Pj49MDt2YXIgZj0wO3JldHVybiBzZSgpLmZvckVhY2goKFMsTyk9Pnt2YXIgRD1jK2Y7Zm9yKE89cygpW2krNCpPPj4+Mj4+PjBdPUQsRD0wO0Q8Uy5sZW5ndGg7KytEKXIoKVtPKys+Pj4wPj4+MF09Uy5jaGFyQ29kZUF0KEQpO3IoKVtPPj4+MD4+PjBdPTAsZis9Uy5sZW5ndGgrMX0pLDB9ZnVuY3Rpb24gUChpLGMpe2lmKCQpcmV0dXJuIE9lKDE5LDEsaSxjKTtpPj4+PTAsYz4+Pj0wO3ZhciBmPXNlKCk7cygpW2k+Pj4yPj4+MF09Zi5sZW5ndGg7dmFyIFM9MDtyZXR1cm4gZi5mb3JFYWNoKE89PlMrPU8ubGVuZ3RoKzEpLHMoKVtjPj4+Mj4+PjBdPVMsMH1mdW5jdGlvbiB1ZShpKXtyZXR1cm4gJD9PZSgyMCwxLGkpOjUyfWZ1bmN0aW9uIFNlKGksYyxmLFMpe3JldHVybiAkP09lKDIxLDEsaSxjLGYsUyk6NTJ9ZnVuY3Rpb24gc3QoaSxjLGYsUyxPKXtyZXR1cm4gJD9PZSgyMiwxLGksYyxmLFMsTyk6NzB9dmFyIFRyPVtudWxsLFtdLFtdXTtmdW5jdGlvbiB0byhpLGMsZixTKXtpZigkKXJldHVybiBPZSgyMywxLGksYyxmLFMpO2M+Pj49MCxmPj4+PTAsUz4+Pj0wO2Zvcih2YXIgTz0wLEQ9MDtEPGY7RCsrKXt2YXIgVz1zKClbYz4+PjI+Pj4wXSxpZT1zKClbYys0Pj4+Mj4+PjBdO2MrPTg7Zm9yKHZhciBuZT0wO25lPGllO25lKyspe3ZhciBvZT1vKClbVytuZT4+PjBdLHBlPVRyW2ldO29lPT09MHx8b2U9PT0xMD8oKGk9PT0xP1k6SykoVnQocGUsMCkpLHBlLmxlbmd0aD0wKTpwZS5wdXNoKG9lKX1PKz1pZX1yZXR1cm4gcygpW1M+Pj4yPj4+MF09TywwfXZhciBybz1bMzEsMjksMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdLG5vPVszMSwyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV07ZnVuY3Rpb24gUHUoaSl7dmFyIGM9QXJyYXkoWHQoaSkrMSk7cmV0dXJuIElyKGksYywwLGMubGVuZ3RoKSxjfXZhciBrdT0oaSxjKT0+e3IoKS5zZXQoaSxjPj4+MCl9O2Z1bmN0aW9uIG9vKGksYyxmLFMpe2Z1bmN0aW9uIE8oayxtZSxDZSl7Zm9yKGs9dHlwZW9mIGs9PSJudW1iZXIiP2sudG9TdHJpbmcoKTprfHwiIjtrLmxlbmd0aDxtZTspaz1DZVswXStrO3JldHVybiBrfWZ1bmN0aW9uIEQoayxtZSl7cmV0dXJuIE8oayxtZSwiMCIpfWZ1bmN0aW9uIFcoayxtZSl7ZnVuY3Rpb24gQ2UoU28pe3JldHVybiAwPlNvPy0xOjA8U28/MTowfXZhciBPdDtyZXR1cm4oT3Q9Q2Uoay5nZXRGdWxsWWVhcigpLW1lLmdldEZ1bGxZZWFyKCkpKT09PTAmJihPdD1DZShrLmdldE1vbnRoKCktbWUuZ2V0TW9udGgoKSkpPT09MCYmKE90PUNlKGsuZ2V0RGF0ZSgpLW1lLmdldERhdGUoKSkpLE90fWZ1bmN0aW9uIGllKGspe3N3aXRjaChrLmdldERheSgpKXtjYXNlIDA6cmV0dXJuIG5ldyBEYXRlKGsuZ2V0RnVsbFllYXIoKS0xLDExLDI5KTtjYXNlIDE6cmV0dXJuIGs7Y2FzZSAyOnJldHVybiBuZXcgRGF0ZShrLmdldEZ1bGxZZWFyKCksMCwzKTtjYXNlIDM6cmV0dXJuIG5ldyBEYXRlKGsuZ2V0RnVsbFllYXIoKSwwLDIpO2Nhc2UgNDpyZXR1cm4gbmV3IERhdGUoay5nZXRGdWxsWWVhcigpLDAsMSk7Y2FzZSA1OnJldHVybiBuZXcgRGF0ZShrLmdldEZ1bGxZZWFyKCktMSwxMSwzMSk7Y2FzZSA2OnJldHVybiBuZXcgRGF0ZShrLmdldEZ1bGxZZWFyKCktMSwxMSwzMCl9fWZ1bmN0aW9uIG5lKGspe3ZhciBtZT1rLiRhO2ZvcihrPW5ldyBEYXRlKG5ldyBEYXRlKGsuYWIrMTkwMCwwLDEpLmdldFRpbWUoKSk7MDxtZTspe3ZhciBDZT1rLmdldE1vbnRoKCksT3Q9KG0oay5nZXRGdWxsWWVhcigpKT9ybzpubylbQ2VdO2lmKG1lPk90LWsuZ2V0RGF0ZSgpKW1lLT1PdC1rLmdldERhdGUoKSsxLGsuc2V0RGF0ZSgxKSwxMT5DZT9rLnNldE1vbnRoKENlKzEpOihrLnNldE1vbnRoKDApLGsuc2V0RnVsbFllYXIoay5nZXRGdWxsWWVhcigpKzEpKTtlbHNle2suc2V0RGF0ZShrLmdldERhdGUoKSttZSk7YnJlYWt9fXJldHVybiBDZT1uZXcgRGF0ZShrLmdldEZ1bGxZZWFyKCkrMSwwLDQpLG1lPWllKG5ldyBEYXRlKGsuZ2V0RnVsbFllYXIoKSwwLDQpKSxDZT1pZShDZSksMD49VyhtZSxrKT8wPj1XKENlLGspP2suZ2V0RnVsbFllYXIoKSsxOmsuZ2V0RnVsbFllYXIoKTprLmdldEZ1bGxZZWFyKCktMX1pPj4+PTAsYz4+Pj0wLGY+Pj49MCxTPj4+PTA7dmFyIG9lPXMoKVtTKzQwPj4+Mj4+PjBdO1M9e0hiOm4oKVtTPj4+Mj4+PjBdLEdiOm4oKVtTKzQ+Pj4yPj4+MF0sZWI6bigpW1MrOD4+PjI+Pj4wXSxqYjpuKClbUysxMj4+PjI+Pj4wXSxmYjpuKClbUysxNj4+PjI+Pj4wXSxhYjpuKClbUysyMD4+PjI+Pj4wXSxXYTpuKClbUysyND4+PjI+Pj4wXSwkYTpuKClbUysyOD4+PjI+Pj4wXSxPYjpuKClbUyszMj4+PjI+Pj4wXSxGYjpuKClbUyszNj4+PjI+Pj4wXSxJYjpvZT9ZZShvZSk6IiJ9LGY9WWUoZiksb2U9eyIlYyI6IiVhICViICVkICVIOiVNOiVTICVZIiwiJUQiOiIlbS8lZC8leSIsIiVGIjoiJVktJW0tJWQiLCIlaCI6IiViIiwiJXIiOiIlSTolTTolUyAlcCIsIiVSIjoiJUg6JU0iLCIlVCI6IiVIOiVNOiVTIiwiJXgiOiIlbS8lZC8leSIsIiVYIjoiJUg6JU06JVMiLCIlRWMiOiIlYyIsIiVFQyI6IiVDIiwiJUV4IjoiJW0vJWQvJXkiLCIlRVgiOiIlSDolTTolUyIsIiVFeSI6IiV5IiwiJUVZIjoiJVkiLCIlT2QiOiIlZCIsIiVPZSI6IiVlIiwiJU9IIjoiJUgiLCIlT0kiOiIlSSIsIiVPbSI6IiVtIiwiJU9NIjoiJU0iLCIlT1MiOiIlUyIsIiVPdSI6IiV1IiwiJU9VIjoiJVUiLCIlT1YiOiIlViIsIiVPdyI6IiV3IiwiJU9XIjoiJVciLCIlT3kiOiIleSJ9O2Zvcih2YXIgcGUgaW4gb2UpZj1mLnJlcGxhY2UobmV3IFJlZ0V4cChwZSwiZyIpLG9lW3BlXSk7dmFyIHhlPSJTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheSIuc3BsaXQoIiAiKSxUZT0iSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlciIuc3BsaXQoIiAiKTtvZT17IiVhIjprPT54ZVtrLldhXS5zdWJzdHJpbmcoMCwzKSwiJUEiOms9PnhlW2suV2FdLCIlYiI6az0+VGVbay5mYl0uc3Vic3RyaW5nKDAsMyksIiVCIjprPT5UZVtrLmZiXSwiJUMiOms9PkQoKGsuYWIrMTkwMCkvMTAwfDAsMiksIiVkIjprPT5EKGsuamIsMiksIiVlIjprPT5PKGsuamIsMiwiICIpLCIlZyI6az0+bmUoaykudG9TdHJpbmcoKS5zdWJzdHJpbmcoMiksIiVHIjprPT5uZShrKSwiJUgiOms9PkQoay5lYiwyKSwiJUkiOms9PihrPWsuZWIsaz09MD9rPTEyOjEyPGsmJihrLT0xMiksRChrLDIpKSwiJWoiOms9Pntmb3IodmFyIG1lPTAsQ2U9MDtDZTw9ay5mYi0xO21lKz0obShrLmFiKzE5MDApP3JvOm5vKVtDZSsrXSk7cmV0dXJuIEQoay5qYittZSwzKX0sIiVtIjprPT5EKGsuZmIrMSwyKSwiJU0iOms9PkQoay5HYiwyKSwiJW4iOigpPT5gXG5gLCIlcCI6az0+MDw9ay5lYiYmMTI+ay5lYj8iQU0iOiJQTSIsIiVTIjprPT5EKGsuSGIsMiksIiV0IjooKT0+IgkiLCIldSI6az0+ay5XYXx8NywiJVUiOms9PkQoTWF0aC5mbG9vcigoay4kYSs3LWsuV2EpLzcpLDIpLCIlViI6az0+e3ZhciBtZT1NYXRoLmZsb29yKChrLiRhKzctKGsuV2ErNiklNykvNyk7aWYoMj49KGsuV2ErMzcxLWsuJGEtMiklNyYmbWUrKyxtZSltZT09NTMmJihDZT0oay5XYSszNzEtay4kYSklNyxDZT09NHx8Q2U9PTMmJm0oay5hYil8fChtZT0xKSk7ZWxzZXttZT01Mjt2YXIgQ2U9KGsuV2ErNy1rLiRhLTEpJTc7KENlPT00fHxDZT09NSYmbShrLmFiJTQwMC0xKSkmJm1lKyt9cmV0dXJuIEQobWUsMil9LCIldyI6az0+ay5XYSwiJVciOms9PkQoTWF0aC5mbG9vcigoay4kYSs3LShrLldhKzYpJTcpLzcpLDIpLCIleSI6az0+KGsuYWIrMTkwMCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMiksIiVZIjprPT5rLmFiKzE5MDAsIiV6IjprPT57az1rLkZiO3ZhciBtZT0wPD1rO3JldHVybiBrPU1hdGguYWJzKGspLzYwLChtZT8iKyI6Ii0iKSsoIjAwMDAiKyhrLzYwKjEwMCtrJTYwKSkuc2xpY2UoLTQpfSwiJVoiOms9PmsuSWIsIiUlIjooKT0+IiUifSxmPWYucmVwbGFjZSgvJSUvZywiXFwwXFwwIik7Zm9yKHBlIGluIG9lKWYuaW5jbHVkZXMocGUpJiYoZj1mLnJlcGxhY2UobmV3IFJlZ0V4cChwZSwiZyIpLG9lW3BlXShTKSkpO3JldHVybiBmPWYucmVwbGFjZSgvXFwwXFwwL2csIiUiKSxwZT1QdShmKSxwZS5sZW5ndGg+Yz8wOihrdShwZSxpKSxwZS5sZW5ndGgtMSl9dmFyIEVyPWk9Pnt0cnl7aSgpfWNhdGNoKGMpe3J0KGMpfX07ZnVuY3Rpb24gUnUoKXt2YXIgaT1YLGM9e307Zm9yKGxldFtmLFNdb2YgT2JqZWN0LmVudHJpZXMoaSkpY1tmXT10eXBlb2YgUz09ImZ1bmN0aW9uIj9mdW5jdGlvbigpe09yLnB1c2goZik7dHJ5e3JldHVybiBTLmFwcGx5KG51bGwsYXJndW1lbnRzKX1maW5hbGx5e0VlfHwoT3IucG9wKCksdXQmJl90PT09MSYmT3IubGVuZ3RoPT09MCYmKF90PTAsbnQrPTEsRXIoYm8pLHR5cGVvZiBGaWJlcnM8InUiJiZGaWJlcnMuUGIoKSkpfX06UztyZXR1cm4gY312YXIgX3Q9MCx1dD1udWxsLGFvPTAsT3I9W10saW89e30sc289e30sQnU9MCxkbj1udWxsLER1PVtdO2Z1bmN0aW9uIE11KCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLGMpPT57ZG49e3Jlc29sdmU6aSxyZWplY3Q6Y319KX1mdW5jdGlvbiB6dSgpe3ZhciBpPWxuKDY1NTQ4KSxjPWkrMTI7cygpW2k+Pj4yPj4+MF09YyxzKClbaSs0Pj4+Mj4+PjBdPWMrNjU1MzYsYz1PclswXTt2YXIgZj1pb1tjXTtyZXR1cm4gZj09PXZvaWQgMCYmKGY9QnUrKyxpb1tjXT1mLHNvW2ZdPWMpLGM9ZixuKClbaSs4Pj4+Mj4+PjBdPWMsaX1mdW5jdGlvbiBVdSgpe3ZhciBpPW4oKVt1dCs4Pj4+Mj4+PjBdO3JldHVybiBpPVhbc29baV1dLC0tbnQsaSgpfWZ1bmN0aW9uIFZ1KGkpe2lmKCFFZSl7aWYoX3Q9PT0wKXt2YXIgYz0hMSxmPSExO2koKFM9MCk9PntpZighRWUmJihhbz1TLGM9ITAsZikpe190PTIsRXIoKCk9PndvKHV0KSksdHlwZW9mIEJyb3dzZXI8InUiJiZCcm93c2VyLmliLnZiJiZCcm93c2VyLmliLnJlc3VtZSgpLFM9ITE7dHJ5e3ZhciBPPVV1KCl9Y2F0Y2goaWUpe089aWUsUz0hMH12YXIgRD0hMTtpZighdXQpe3ZhciBXPWRuO1cmJihkbj1udWxsLChTP1cucmVqZWN0OlcucmVzb2x2ZSkoTyksRD0hMCl9aWYoUyYmIUQpdGhyb3cgT319KSxmPSEwLGN8fChfdD0xLHV0PXp1KCksdHlwZW9mIEJyb3dzZXI8InUiJiZCcm93c2VyLmliLnZiJiZCcm93c2VyLmliLnBhdXNlKCksRXIoKCk9PnlvKHV0KSkpfWVsc2UgX3Q9PT0yPyhfdD0wLEVyKHZvKSxsbyh1dCksdXQ9bnVsbCxEdS5mb3JFYWNoKFM9PntpZighRWUpdHJ5e1MoKSxBcigpfWNhdGNoKE8pe1N0KE8pfX0pKTpydChgaW52YWxpZCBzdGF0ZTogJHtfdH1gKTtyZXR1cm4gYW99fWZ1bmN0aW9uIE51KGkpe3JldHVybiBWdShjPT57aSgpLnRoZW4oYyl9KX1kZS5oYigpO3ZhciBXdT1bd3IsWnQsU3IsX3IsQ3IsSnQsV3QsZXIsdHIscnIsbnIsb3IsYXIsaXIsc3IsdXIsQixILF9lLFAsdWUsU2Usc3QsdG9dLEh1PXtyOmZ1bmN0aW9uKGksYyxmKXtyZXR1cm4gTnUoYXN5bmMoKT0+e2F3YWl0IGEueGIoaSxjLGYpfSl9LGI6ZnVuY3Rpb24oaSxjLGYpe3Rocm93IGk+Pj49MCxuZXcgdnIoaSkuaGIoYz4+PjAsZj4+PjApLCRyPWksUXQrKywkcn0sTjpmdW5jdGlvbihpKXtjbyhpPj4+MCwhXywxLCF5LDEzMTA3MiwhMSksZGUub2IoKX0sbDpmdW5jdGlvbihpKXtpPj4+PTAsJD9wb3N0TWVzc2FnZSh7Y21kOiJjbGVhbnVwVGhyZWFkIix0aHJlYWQ6aX0pOmRlLm1iKGRlLlFhW2ldKX0sSjp4cixpOl9yLFQ6Q3IsRjpKdCxIOld0LFU6ZXIsUjp0cixMOnJyLFE6bnIscDpvcixHOmFyLEQ6aXIsUzpzcixFOnVyLHE6KCk9PjEsQjpmdW5jdGlvbihpLGMpe2k+Pj49MCxpPT1jPj4+MD9zZXRUaW1lb3V0KCgpPT5FdCgpKTokP3Bvc3RNZXNzYWdlKHt0YXJnZXRUaHJlYWQ6aSxjbWQ6ImNoZWNrTWFpbGJveCJ9KTooaT1kZS5RYVtpXSkmJmkucG9zdE1lc3NhZ2Uoe2NtZDoiY2hlY2tNYWlsYm94In0pfSxLOmZ1bmN0aW9uKGksYyxmLFMpe2M+Pj49MCxkLmxlbmd0aD1mLFM9Uz4+PjA+Pj4zO2Zvcih2YXIgTz0wO088ZjtPKyspZFtPXT1sKClbUytPPj4+MF07cmV0dXJuIGk9MD5pP3p0Wy1pLTFdOld1W2ldLGRlLnViPWMsYz1pLmFwcGx5KG51bGwsZCksZGUudWI9MCxjfSxNOnh0LFc6ZnVuY3Rpb24oaSl7SSYmZGUuUWFbaT4+PjBdLnJlZigpfSx1OmZ1bmN0aW9uKGksYyxmKXtpPWMrMjA5NzE1Mj4+PjA8NDE5NDMwNS0hIWk/KGk+Pj4wKSs0Mjk0OTY3Mjk2KmM6TmFOLGY+Pj49MCxpPW5ldyBEYXRlKDFlMyppKSxuKClbZj4+PjI+Pj4wXT1pLmdldFVUQ1NlY29uZHMoKSxuKClbZis0Pj4+Mj4+PjBdPWkuZ2V0VVRDTWludXRlcygpLG4oKVtmKzg+Pj4yPj4+MF09aS5nZXRVVENIb3VycygpLG4oKVtmKzEyPj4+Mj4+PjBdPWkuZ2V0VVRDRGF0ZSgpLG4oKVtmKzE2Pj4+Mj4+PjBdPWkuZ2V0VVRDTW9udGgoKSxuKClbZisyMD4+PjI+Pj4wXT1pLmdldFVUQ0Z1bGxZZWFyKCktMTkwMCxuKClbZisyND4+PjI+Pj4wXT1pLmdldFVUQ0RheSgpLGk9KGkuZ2V0VGltZSgpLURhdGUuVVRDKGkuZ2V0VVRDRnVsbFllYXIoKSwwLDEsMCwwLDAsMCkpLzg2NGU1fDAsbigpW2YrMjg+Pj4yPj4+MF09aX0sdjpmdW5jdGlvbihpLGMsZil7aT1jKzIwOTcxNTI+Pj4wPDQxOTQzMDUtISFpPyhpPj4+MCkrNDI5NDk2NzI5NipjOk5hTixmPj4+PTAsaT1uZXcgRGF0ZSgxZTMqaSksbigpW2Y+Pj4yPj4+MF09aS5nZXRTZWNvbmRzKCksbigpW2YrND4+PjI+Pj4wXT1pLmdldE1pbnV0ZXMoKSxuKClbZis4Pj4+Mj4+PjBdPWkuZ2V0SG91cnMoKSxuKClbZisxMj4+PjI+Pj4wXT1pLmdldERhdGUoKSxuKClbZisxNj4+PjI+Pj4wXT1pLmdldE1vbnRoKCksbigpW2YrMjA+Pj4yPj4+MF09aS5nZXRGdWxsWWVhcigpLTE5MDAsbigpW2YrMjQ+Pj4yPj4+MF09aS5nZXREYXkoKSxjPShtKGkuZ2V0RnVsbFllYXIoKSk/djpDKVtpLmdldE1vbnRoKCldK2kuZ2V0RGF0ZSgpLTF8MCxuKClbZisyOD4+PjI+Pj4wXT1jLG4oKVtmKzM2Pj4+Mj4+PjBdPS0oNjAqaS5nZXRUaW1lem9uZU9mZnNldCgpKSxjPW5ldyBEYXRlKGkuZ2V0RnVsbFllYXIoKSw2LDEpLmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIFM9bmV3IERhdGUoaS5nZXRGdWxsWWVhcigpLDAsMSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtpPShjIT1TJiZpLmdldFRpbWV6b25lT2Zmc2V0KCk9PU1hdGgubWluKFMsYykpfDAsbigpW2YrMzI+Pj4yPj4+MF09aX0sdzpmdW5jdGlvbihpKXtpPj4+PTA7dmFyIGM9bmV3IERhdGUobigpW2krMjA+Pj4yPj4+MF0rMTkwMCxuKClbaSsxNj4+PjI+Pj4wXSxuKClbaSsxMj4+PjI+Pj4wXSxuKClbaSs4Pj4+Mj4+PjBdLG4oKVtpKzQ+Pj4yPj4+MF0sbigpW2k+Pj4yPj4+MF0sMCksZj1uKClbaSszMj4+PjI+Pj4wXSxTPWMuZ2V0VGltZXpvbmVPZmZzZXQoKSxPPW5ldyBEYXRlKGMuZ2V0RnVsbFllYXIoKSw2LDEpLmdldFRpbWV6b25lT2Zmc2V0KCksRD1uZXcgRGF0ZShjLmdldEZ1bGxZZWFyKCksMCwxKS5nZXRUaW1lem9uZU9mZnNldCgpLFc9TWF0aC5taW4oRCxPKTtyZXR1cm4gMD5mP24oKVtpKzMyPj4+Mj4+PjBdPSsoTyE9RCYmVz09Uyk6MDxmIT0oVz09UykmJihPPU1hdGgubWF4KEQsTyksYy5zZXRUaW1lKGMuZ2V0VGltZSgpKzZlNCooKDA8Zj9XOk8pLVMpKSksbigpW2krMjQ+Pj4yPj4+MF09Yy5nZXREYXkoKSxmPShtKGMuZ2V0RnVsbFllYXIoKSk/djpDKVtjLmdldE1vbnRoKCldK2MuZ2V0RGF0ZSgpLTF8MCxuKClbaSsyOD4+PjI+Pj4wXT1mLG4oKVtpPj4+Mj4+PjBdPWMuZ2V0U2Vjb25kcygpLG4oKVtpKzQ+Pj4yPj4+MF09Yy5nZXRNaW51dGVzKCksbigpW2krOD4+PjI+Pj4wXT1jLmdldEhvdXJzKCksbigpW2krMTI+Pj4yPj4+MF09Yy5nZXREYXRlKCksbigpW2krMTY+Pj4yPj4+MF09Yy5nZXRNb250aCgpLG4oKVtpKzIwPj4+Mj4+PjBdPWMuZ2V0WWVhcigpLGk9Yy5nZXRUaW1lKCksaXNOYU4oaSk/KG4oKVt1bygpPj4+Mj4+PjBdPTYxLGk9LTEpOmkvPTFlMyxmbygoeXQ9aSwxPD0rTWF0aC5hYnMoeXQpPzA8eXQ/K01hdGguZmxvb3IoeXQvNDI5NDk2NzI5Nik+Pj4wOn5+K01hdGguY2VpbCgoeXQtKyh+fnl0Pj4+MCkpLzQyOTQ5NjcyOTYpPj4+MDowKSksaT4+PjB9LHM6Qix0OkgsQTpmdW5jdGlvbihpLGMsZil7ZnVuY3Rpb24gUyhvZSl7cmV0dXJuKG9lPW9lLnRvVGltZVN0cmluZygpLm1hdGNoKC9cXCgoW0EtWmEteiBdKylcXCkkLykpP29lWzFdOiJHTVQifWk+Pj49MCxjPj4+PTAsZj4+Pj0wO3ZhciBPPW5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSxEPW5ldyBEYXRlKE8sMCwxKSxXPW5ldyBEYXRlKE8sNiwxKTtPPUQuZ2V0VGltZXpvbmVPZmZzZXQoKTt2YXIgaWU9Vy5nZXRUaW1lem9uZU9mZnNldCgpLG5lPU1hdGgubWF4KE8saWUpO3MoKVtpPj4+Mj4+PjBdPTYwKm5lLG4oKVtjPj4+Mj4+PjBdPSsoTyE9aWUpLGk9UyhEKSxjPVMoVyksaT1xKGkpLGM9cShjKSxpZTxPPyhzKClbZj4+PjI+Pj4wXT1pLHMoKVtmKzQ+Pj4yPj4+MF09Yyk6KHMoKVtmPj4+Mj4+PjBdPWMscygpW2YrND4+PjI+Pj4wXT1pKX0sZDooKT0+e3J0KCIiKX0sYzpmdW5jdGlvbihpLGMsZil7cmV0dXJuIGk+Pj49MCxjPUooYz4+PjAsZj4+PjApLHp0W2ldLmFwcGx5KG51bGwsYyl9LGs6ZnVuY3Rpb24oaSxjLGYpe3JldHVybiBpPj4+PTAsYz1KKGM+Pj4wLGY+Pj4wKSx6dFtpXS5hcHBseShudWxsLGMpfSxtOigpPT57fSxqOigpPT5EYXRlLm5vdygpLFY6KCk9Pnt0aHJvdyBudCs9MSwidW53aW5kIn0sQzpmdW5jdGlvbigpe3JldHVybiA0Mjk0OTAxNzYwfSxmOigpPT5wZXJmb3JtYW5jZS50aW1lT3JpZ2luK3BlcmZvcm1hbmNlLm5vdygpLGc6KCk9Pkk/KE9vKCksSHQoRW8pKS5jcHVzKCkubGVuZ3RoOm5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5LHk6ZnVuY3Rpb24oaSl7aT4+Pj0wO3ZhciBjPW8oKS5sZW5ndGg7aWYoaTw9Y3x8NDI5NDkwMTc2MDxpKXJldHVybiExO2Zvcih2YXIgZj0xOzQ+PWY7Zio9Mil7dmFyIFM9YyooMSsuMi9mKTtTPU1hdGgubWluKFMsaSsxMDA2NjMyOTYpO3ZhciBPPU1hdGg7Uz1NYXRoLm1heChpLFMpO2U6e089KE8ubWluLmNhbGwoTyw0Mjk0OTAxNzYwLFMrKDY1NTM2LVMlNjU1MzYpJTY1NTM2KS1RLmJ1ZmZlci5ieXRlTGVuZ3RoKzY1NTM1KS82NTUzNjt0cnl7US5ncm93KE8pLEdlKCk7dmFyIEQ9MTticmVhayBlfWNhdGNoe31EPXZvaWQgMH1pZihEKXJldHVybiEwfXJldHVybiExfSxPOl9lLFAsSTpOdCxoOnVlLG86U2UseDpzdCxuOnRvLGE6UXx8YS53YXNtTWVtb3J5LHo6b28sZTpmdW5jdGlvbihpLGMsZixTKXtyZXR1cm4gb28oaT4+PjAsYz4+PjAsZj4+PjAsUz4+PjApfX0sWD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZixTKXtyZXR1cm4gWD1mLmV4cG9ydHMsWD1SdSgpLFg9R3UoKSxkZS5wYi5wdXNoKFguRGEpLGJlLnVuc2hpZnQoWC5YKSxaPVMsd3QoKSxYfXZhciBjPXthOkh1fTtpZih6ZSsrLGEuaW5zdGFudGlhdGVXYXNtKXRyeXtyZXR1cm4gYS5pbnN0YW50aWF0ZVdhc20oYyxpKX1jYXRjaChmKXtLKGBNb2R1bGUuaW5zdGFudGlhdGVXYXNtIGNhbGxiYWNrIGZhaWxlZCB3aXRoIGVycm9yOiAke2Z9YCksaChmKX1yZXR1cm4gJHQoYyxmdW5jdGlvbihmKXtpKGYuaW5zdGFuY2UsZi5tb2R1bGUpfSkuY2F0Y2goaCkse319KCk7YS5fT3J0SW5pdD0oaSxjKT0+KGEuX09ydEluaXQ9WC5ZKShpLGMpLGEuX09ydEdldExhc3RFcnJvcj0oaSxjKT0+KGEuX09ydEdldExhc3RFcnJvcj1YLlopKGksYyksYS5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9KGksYyxmLFMsTyxELFcsaWUsbmUsb2UpPT4oYS5fT3J0Q3JlYXRlU2Vzc2lvbk9wdGlvbnM9WC5fKShpLGMsZixTLE8sRCxXLGllLG5lLG9lKSxhLl9PcnRBcHBlbmRFeGVjdXRpb25Qcm92aWRlcj0oaSxjKT0+KGEuX09ydEFwcGVuZEV4ZWN1dGlvblByb3ZpZGVyPVguJCkoaSxjKSxhLl9PcnRBZGRGcmVlRGltZW5zaW9uT3ZlcnJpZGU9KGksYyxmKT0+KGEuX09ydEFkZEZyZWVEaW1lbnNpb25PdmVycmlkZT1YLmFhKShpLGMsZiksYS5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5PShpLGMsZik9PihhLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnk9WC5iYSkoaSxjLGYpLGEuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucz1pPT4oYS5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zPVguY2EpKGkpLGEuX09ydENyZWF0ZVNlc3Npb249KGksYyxmKT0+KGEuX09ydENyZWF0ZVNlc3Npb249WC5kYSkoaSxjLGYpLGEuX09ydFJlbGVhc2VTZXNzaW9uPWk9PihhLl9PcnRSZWxlYXNlU2Vzc2lvbj1YLmVhKShpKSxhLl9PcnRHZXRJbnB1dE91dHB1dENvdW50PShpLGMsZik9PihhLl9PcnRHZXRJbnB1dE91dHB1dENvdW50PVguZmEpKGksYyxmKSxhLl9PcnRHZXRJbnB1dE5hbWU9KGksYyk9PihhLl9PcnRHZXRJbnB1dE5hbWU9WC5nYSkoaSxjKSxhLl9PcnRHZXRPdXRwdXROYW1lPShpLGMpPT4oYS5fT3J0R2V0T3V0cHV0TmFtZT1YLmhhKShpLGMpLGEuX09ydEZyZWU9aT0+KGEuX09ydEZyZWU9WC5pYSkoaSksYS5fT3J0Q3JlYXRlVGVuc29yPShpLGMsZixTLE8sRCk9PihhLl9PcnRDcmVhdGVUZW5zb3I9WC5qYSkoaSxjLGYsUyxPLEQpLGEuX09ydEdldFRlbnNvckRhdGE9KGksYyxmLFMsTyk9PihhLl9PcnRHZXRUZW5zb3JEYXRhPVgua2EpKGksYyxmLFMsTyksYS5fT3J0UmVsZWFzZVRlbnNvcj1pPT4oYS5fT3J0UmVsZWFzZVRlbnNvcj1YLmxhKShpKSxhLl9PcnRDcmVhdGVSdW5PcHRpb25zPShpLGMsZixTKT0+KGEuX09ydENyZWF0ZVJ1bk9wdGlvbnM9WC5tYSkoaSxjLGYsUyksYS5fT3J0QWRkUnVuQ29uZmlnRW50cnk9KGksYyxmKT0+KGEuX09ydEFkZFJ1bkNvbmZpZ0VudHJ5PVgubmEpKGksYyxmKSxhLl9PcnRSZWxlYXNlUnVuT3B0aW9ucz1pPT4oYS5fT3J0UmVsZWFzZVJ1bk9wdGlvbnM9WC5vYSkoaSksYS5fT3J0Q3JlYXRlQmluZGluZz1pPT4oYS5fT3J0Q3JlYXRlQmluZGluZz1YLnBhKShpKSxhLl9PcnRCaW5kSW5wdXQ9KGksYyxmKT0+KGEuX09ydEJpbmRJbnB1dD1YLnFhKShpLGMsZiksYS5fT3J0QmluZE91dHB1dD0oaSxjLGYsUyk9PihhLl9PcnRCaW5kT3V0cHV0PVgucmEpKGksYyxmLFMpLGEuX09ydENsZWFyQm91bmRPdXRwdXRzPWk9PihhLl9PcnRDbGVhckJvdW5kT3V0cHV0cz1YLnNhKShpKSxhLl9PcnRSZWxlYXNlQmluZGluZz1pPT4oYS5fT3J0UmVsZWFzZUJpbmRpbmc9WC50YSkoaSksYS5fT3J0UnVuV2l0aEJpbmRpbmc9KGksYyxmLFMsTyk9PihhLl9PcnRSdW5XaXRoQmluZGluZz1YLnVhKShpLGMsZixTLE8pLGEuX09ydFJ1bj0oaSxjLGYsUyxPLEQsVyxpZSk9PihhLl9PcnRSdW49WC52YSkoaSxjLGYsUyxPLEQsVyxpZSksYS5fT3J0RW5kUHJvZmlsaW5nPWk9PihhLl9PcnRFbmRQcm9maWxpbmc9WC53YSkoaSksYS5fSnNlcE91dHB1dD0oaSxjLGYpPT4oYS5fSnNlcE91dHB1dD1YLnhhKShpLGMsZiksYS5fSnNlcEdldE5vZGVOYW1lPWk9PihhLl9Kc2VwR2V0Tm9kZU5hbWU9WC55YSkoaSk7dmFyIHVvPSgpPT4odW89WC56YSkoKSxQcj1hLl9wdGhyZWFkX3NlbGY9KCk9PihQcj1hLl9wdGhyZWFkX3NlbGY9WC5BYSkoKSxsbj1hLl9tYWxsb2M9aT0+KGxuPWEuX21hbGxvYz1YLkJhKShpKSxsbz1hLl9mcmVlPWk9Pihsbz1hLl9mcmVlPVguQ2EpKGkpO2EuX19lbXNjcmlwdGVuX3Rsc19pbml0PSgpPT4oYS5fX2Vtc2NyaXB0ZW5fdGxzX2luaXQ9WC5EYSkoKTt2YXIgY289YS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQ9KGksYyxmLFMsTyxEKT0+KGNvPWEuX19lbXNjcmlwdGVuX3RocmVhZF9pbml0PVguRmEpKGksYyxmLFMsTyxEKTthLl9fZW1zY3JpcHRlbl90aHJlYWRfY3Jhc2hlZD0oKT0+KGEuX19lbXNjcmlwdGVuX3RocmVhZF9jcmFzaGVkPVguR2EpKCk7dmFyIHBvPShpLGMsZixTKT0+KHBvPVguSGEpKGksYyxmLFMpLGNuPWk9Pihjbj1YLklhKShpKSxwbj1hLl9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdD1pPT4ocG49YS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2V4aXQ9WC5KYSkoaSksbW89KCk9Pihtbz1YLkthKSgpLGZvPWk9Pihmbz1YLkxhKShpKSxobz0oaSxjKT0+KGhvPVguTWEpKGksYyksbW49KCk9Pihtbj1YLk5hKSgpLGtyPWk9Pihrcj1YLk9hKShpKSxmbj1pPT4oZm49WC5QYSkoaSksZ289YS5keW5DYWxsX2lpPShpLGMpPT4oZ289YS5keW5DYWxsX2lpPVguUmEpKGksYykseW89aT0+KHlvPVguU2EpKGkpLGJvPSgpPT4oYm89WC5UYSkoKSx3bz1pPT4od289WC5VYSkoaSksdm89KCk9Pih2bz1YLlZhKSgpO2EuX19fc3RhcnRfZW1fanM9OTQ0NDcyLGEuX19fc3RvcF9lbV9qcz05NDQ2MzM7ZnVuY3Rpb24gR3UoKXt2YXIgaT1YO2k9T2JqZWN0LmFzc2lnbih7fSxpKTt2YXIgYz1TPT4oKT0+UygpPj4+MCxmPVM9Pk89PlMoTyk+Pj4wO3JldHVybiBpLnphPWMoaS56YSksaS5BYT1jKGkuQWEpLGkuQmE9ZihpLkJhKSxpLmVtc2NyaXB0ZW5fbWFpbl9ydW50aW1lX3RocmVhZF9pZD1jKGkuZW1zY3JpcHRlbl9tYWluX3J1bnRpbWVfdGhyZWFkX2lkKSxpLk5hPWMoaS5OYSksaS5QYT1mKGkuUGEpLGl9YS53YXNtTWVtb3J5PVEsYS5zdGFja0FsbG9jPWZuLGEuc3RhY2tTYXZlPW1uLGEuc3RhY2tSZXN0b3JlPWtyLGEua2VlcFJ1bnRpbWVBbGl2ZT0oKT0+MDxudCxhLlVURjhUb1N0cmluZz1ZZSxhLnN0cmluZ1RvVVRGOD1hZSxhLmxlbmd0aEJ5dGVzVVRGOD1YdCxhLkV4aXRTdGF0dXM9VXQsYS5QVGhyZWFkPWRlO3ZhciBScjtNZT1mdW5jdGlvbiBpKCl7UnJ8fCRvKCksUnJ8fChNZT1pKX07ZnVuY3Rpb24gJG8oKXtpZighKDA8emUpKWlmKCQpcChhKSwkfHxidChiZSksc3RhcnRXb3JrZXIoYSk7ZWxzZXtpZihhLnByZVJ1bilmb3IodHlwZW9mIGEucHJlUnVuPT0iZnVuY3Rpb24iJiYoYS5wcmVSdW49W2EucHJlUnVuXSk7YS5wcmVSdW4ubGVuZ3RoOyllZS51bnNoaWZ0KGEucHJlUnVuLnNoaWZ0KCkpO2J0KGVlKSwwPHplfHxScnx8KFJyPSEwLGEuY2FsbGVkUnVuPSEwLEVlfHwoJHx8YnQoYmUpLHAoYSksJHx8YnQoZXQpKSl9fXJldHVybiAkbygpLHQucmVhZHl9fSkoKTt0eXBlb2Yga289PSJvYmplY3QiJiZ0eXBlb2YgJG49PSJvYmplY3QiPyRuLmV4cG9ydHM9UG86dHlwZW9mIGRlZmluZT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZCYmZGVmaW5lKFtdLCgpPT5Qbyl9KTt2YXIgQm89ZHIoKHFjLFh1KT0+e1h1LmV4cG9ydHM9XCcidXNlIHN0cmljdCI7dmFyIE1vZHVsZT17fSxFTlZJUk9OTUVOVF9JU19OT0RFPXR5cGVvZiBwcm9jZXNzPT0ib2JqZWN0IiYmdHlwZW9mIHByb2Nlc3MudmVyc2lvbnM9PSJvYmplY3QiJiZ0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlPT0ic3RyaW5nIjtpZihFTlZJUk9OTUVOVF9JU19OT0RFKXt2YXIgbm9kZVdvcmtlclRocmVhZHM9cmVxdWlyZSgid29ya2VyX3RocmVhZHMiKSxwYXJlbnRQb3J0PW5vZGVXb3JrZXJUaHJlYWRzLnBhcmVudFBvcnQ7cGFyZW50UG9ydC5vbigibWVzc2FnZSIsZT0+b25tZXNzYWdlKHtkYXRhOmV9KSk7dmFyIGZzPXJlcXVpcmUoImZzIiksdm09cmVxdWlyZSgidm0iKTtPYmplY3QuYXNzaWduKGdsb2JhbCx7c2VsZjpnbG9iYWwscmVxdWlyZSxNb2R1bGUsbG9jYXRpb246e2hyZWY6X19maWxlbmFtZX0sV29ya2VyOm5vZGVXb3JrZXJUaHJlYWRzLldvcmtlcixpbXBvcnRTY3JpcHRzOmU9PnZtLnJ1bkluVGhpc0NvbnRleHQoZnMucmVhZEZpbGVTeW5jKGUsInV0ZjgiKSx7ZmlsZW5hbWU6ZX0pLHBvc3RNZXNzYWdlOmU9PnBhcmVudFBvcnQucG9zdE1lc3NhZ2UoZSkscGVyZm9ybWFuY2U6Z2xvYmFsLnBlcmZvcm1hbmNlfHx7bm93OkRhdGUubm93fX0pfXZhciBpbml0aWFsaXplZEpTPSExO2Z1bmN0aW9uIHRocmVhZFByaW50RXJyKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5qb2luKCIgIik7aWYoRU5WSVJPTk1FTlRfSVNfTk9ERSl7ZnMud3JpdGVTeW5jKDIsZStgXFxuYCk7cmV0dXJufWNvbnNvbGUuZXJyb3IoZSl9ZnVuY3Rpb24gdGhyZWFkQWxlcnQoKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oIiAiKTtwb3N0TWVzc2FnZSh7Y21kOiJhbGVydCIsdGV4dDplLHRocmVhZElkOk1vZHVsZS5fcHRocmVhZF9zZWxmKCl9KX12YXIgZXJyPXRocmVhZFByaW50RXJyO3NlbGYuYWxlcnQ9dGhyZWFkQWxlcnQsTW9kdWxlLmluc3RhbnRpYXRlV2FzbT0oZSx0KT0+e3ZhciBhPU1vZHVsZS53YXNtTW9kdWxlO01vZHVsZS53YXNtTW9kdWxlPW51bGw7dmFyIHI9bmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKGEsZSk7cmV0dXJuIHQocil9LHNlbGYub251bmhhbmRsZWRyZWplY3Rpb249ZT0+e3Rocm93IGUucmVhc29ufHxlfTtmdW5jdGlvbiBoYW5kbGVNZXNzYWdlKGUpe3RyeXtpZihlLmRhdGEuY21kPT09ImxvYWQiKXtsZXQgYT1bXTtzZWxmLm9ubWVzc2FnZT1yPT5hLnB1c2gociksc2VsZi5zdGFydFdvcmtlcj1yPT57TW9kdWxlPXIscG9zdE1lc3NhZ2Uoe2NtZDoibG9hZGVkIn0pO2ZvcihsZXQgcyBvZiBhKWhhbmRsZU1lc3NhZ2Uocyk7c2VsZi5vbm1lc3NhZ2U9aGFuZGxlTWVzc2FnZX0sTW9kdWxlLndhc21Nb2R1bGU9ZS5kYXRhLndhc21Nb2R1bGU7Zm9yKGNvbnN0IHIgb2YgZS5kYXRhLmhhbmRsZXJzKU1vZHVsZVtyXT0oLi4ucyk9Pntwb3N0TWVzc2FnZSh7Y21kOiJjYWxsSGFuZGxlciIsaGFuZGxlcjpyLGFyZ3M6c30pfTtpZihNb2R1bGUud2FzbU1lbW9yeT1lLmRhdGEud2FzbU1lbW9yeSxNb2R1bGUuYnVmZmVyPU1vZHVsZS53YXNtTWVtb3J5LmJ1ZmZlcixNb2R1bGUuRU5WSVJPTk1FTlRfSVNfUFRIUkVBRD0hMCx0eXBlb2YgZS5kYXRhLnVybE9yQmxvYj09InN0cmluZyIpaW1wb3J0U2NyaXB0cyhlLmRhdGEudXJsT3JCbG9iKTtlbHNle3ZhciB0PVVSTC5jcmVhdGVPYmplY3RVUkwoZS5kYXRhLnVybE9yQmxvYik7aW1wb3J0U2NyaXB0cyh0KSxVUkwucmV2b2tlT2JqZWN0VVJMKHQpfW9ydFdhc21UaHJlYWRlZChNb2R1bGUpfWVsc2UgaWYoZS5kYXRhLmNtZD09PSJydW4iKXtNb2R1bGUuX19lbXNjcmlwdGVuX3RocmVhZF9pbml0KGUuZGF0YS5wdGhyZWFkX3B0ciwwLDAsMSksTW9kdWxlLl9fZW1zY3JpcHRlbl90aHJlYWRfbWFpbGJveF9hd2FpdChlLmRhdGEucHRocmVhZF9wdHIpLE1vZHVsZS5lc3RhYmxpc2hTdGFja1NwYWNlKCksTW9kdWxlLlBUaHJlYWQucmVjZWl2ZU9iamVjdFRyYW5zZmVyKGUuZGF0YSksTW9kdWxlLlBUaHJlYWQudGhyZWFkSW5pdFRMUygpLGluaXRpYWxpemVkSlN8fChpbml0aWFsaXplZEpTPSEwKTt0cnl7TW9kdWxlLmludm9rZUVudHJ5UG9pbnQoZS5kYXRhLnN0YXJ0X3JvdXRpbmUsZS5kYXRhLmFyZyl9Y2F0Y2goYSl7aWYoYSE9InVud2luZCIpdGhyb3cgYX19ZWxzZSBlLmRhdGEuY21kPT09ImNhbmNlbCI/TW9kdWxlLl9wdGhyZWFkX3NlbGYoKSYmTW9kdWxlLl9fZW1zY3JpcHRlbl90aHJlYWRfZXhpdCgtMSk6ZS5kYXRhLnRhcmdldD09PSJzZXRpbW1lZGlhdGUifHwoZS5kYXRhLmNtZD09PSJjaGVja01haWxib3giP2luaXRpYWxpemVkSlMmJk1vZHVsZS5jaGVja01haWxib3goKTplLmRhdGEuY21kJiYoZXJyKGB3b3JrZXIuanMgcmVjZWl2ZWQgdW5rbm93biBjb21tYW5kICR7ZS5kYXRhLmNtZH1gKSxlcnIoZS5kYXRhKSkpfWNhdGNoKGEpe3Rocm93IE1vZHVsZS5fX2Vtc2NyaXB0ZW5fdGhyZWFkX2NyYXNoZWQ/LigpLGF9fXNlbGYub25tZXNzYWdlPWhhbmRsZU1lc3NhZ2U7XFxuXCd9KTt2YXIgX24sWGUsY3IsTXIscHIsTm8sQ24sTmU9aigoKT0+eyJ1c2Ugc3RyaWN0Ijtfbj1lPT57c3dpdGNoKGUpe2Nhc2UiaW50OCI6cmV0dXJuIDM7Y2FzZSJ1aW50OCI6cmV0dXJuIDI7Y2FzZSJib29sIjpyZXR1cm4gOTtjYXNlImludDE2IjpyZXR1cm4gNTtjYXNlInVpbnQxNiI6cmV0dXJuIDQ7Y2FzZSJpbnQzMiI6cmV0dXJuIDY7Y2FzZSJ1aW50MzIiOnJldHVybiAxMjtjYXNlImZsb2F0MTYiOnJldHVybiAxMDtjYXNlImZsb2F0MzIiOnJldHVybiAxO2Nhc2UiZmxvYXQ2NCI6cmV0dXJuIDExO2Nhc2Uic3RyaW5nIjpyZXR1cm4gODtjYXNlImludDY0IjpyZXR1cm4gNztjYXNlInVpbnQ2NCI6cmV0dXJuIDEzO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBkYXRhIHR5cGU6ICR7ZX1gKX19LFhlPWU9Pntzd2l0Y2goZSl7Y2FzZSAzOnJldHVybiJpbnQ4IjtjYXNlIDI6cmV0dXJuInVpbnQ4IjtjYXNlIDk6cmV0dXJuImJvb2wiO2Nhc2UgNTpyZXR1cm4iaW50MTYiO2Nhc2UgNDpyZXR1cm4idWludDE2IjtjYXNlIDY6cmV0dXJuImludDMyIjtjYXNlIDEyOnJldHVybiJ1aW50MzIiO2Nhc2UgMTA6cmV0dXJuImZsb2F0MTYiO2Nhc2UgMTpyZXR1cm4iZmxvYXQzMiI7Y2FzZSAxMTpyZXR1cm4iZmxvYXQ2NCI7Y2FzZSA4OnJldHVybiJzdHJpbmciO2Nhc2UgNzpyZXR1cm4iaW50NjQiO2Nhc2UgMTM6cmV0dXJuInVpbnQ2NCI7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGRhdGEgdHlwZTogJHtlfWApfX0sY3I9ZT0+W3ZvaWQgMCw0LDEsMSwyLDIsNCw4LHZvaWQgMCwxLDIsOCw0LDgsdm9pZCAwLHZvaWQgMCx2b2lkIDBdW2VdLE1yPWU9Pntzd2l0Y2goZSl7Y2FzZSJmbG9hdDE2IjpyZXR1cm4gVWludDE2QXJyYXk7Y2FzZSJmbG9hdDMyIjpyZXR1cm4gRmxvYXQzMkFycmF5O2Nhc2UidWludDgiOnJldHVybiBVaW50OEFycmF5O2Nhc2UiaW50OCI6cmV0dXJuIEludDhBcnJheTtjYXNlInVpbnQxNiI6cmV0dXJuIFVpbnQxNkFycmF5O2Nhc2UiaW50MTYiOnJldHVybiBJbnQxNkFycmF5O2Nhc2UiaW50MzIiOnJldHVybiBJbnQzMkFycmF5O2Nhc2UiYm9vbCI6cmV0dXJuIFVpbnQ4QXJyYXk7Y2FzZSJmbG9hdDY0IjpyZXR1cm4gRmxvYXQ2NEFycmF5O2Nhc2UidWludDMyIjpyZXR1cm4gVWludDMyQXJyYXk7Y2FzZSJpbnQ2NCI6cmV0dXJuIEJpZ0ludDY0QXJyYXk7Y2FzZSJ1aW50NjQiOnJldHVybiBCaWdVaW50NjRBcnJheTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgdHlwZTogJHtlfWApfX0scHI9ZT0+e3N3aXRjaChlKXtjYXNlInZlcmJvc2UiOnJldHVybiAwO2Nhc2UiaW5mbyI6cmV0dXJuIDE7Y2FzZSJ3YXJuaW5nIjpyZXR1cm4gMjtjYXNlImVycm9yIjpyZXR1cm4gMztjYXNlImZhdGFsIjpyZXR1cm4gNDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgbG9nZ2luZyBsZXZlbDogJHtlfWApfX0sTm89ZT0+ZT09PSJmbG9hdDMyInx8ZT09PSJpbnQzMiJ8fGU9PT0iaW50NjQifHxlPT09ImJvb2wifHxlPT09ImZsb2F0MTYifHxlPT09InVpbnQzMiIsQ249ZT0+e3N3aXRjaChlKXtjYXNlIm5vbmUiOnJldHVybiAwO2Nhc2UiY3B1IjpyZXR1cm4gMTtjYXNlImNwdS1waW5uZWQiOnJldHVybiAyO2Nhc2UidGV4dHVyZSI6cmV0dXJuIDM7Y2FzZSJncHUtYnVmZmVyIjpyZXR1cm4gNDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZGF0YSBsb2NhdGlvbjogJHtlfWApfX19KTt2YXIgenI9aigoKT0+eyJ1c2Ugc3RyaWN0In0pO3ZhciBIbz1qKCgpPT57InVzZSBzdHJpY3QiO3pyKCl9KTt2YXIgR28sTG89aigoKT0+eyJ1c2Ugc3RyaWN0IjtHbz0iMS4xNy4xIn0pO3ZhciBGbyxQdCxJbj1qKCgpPT57InVzZSBzdHJpY3QiO0xvKCk7Rm89Indhcm5pbmciLFB0PXt3YXNtOnt9LHdlYmdsOnt9LHdlYmdwdTp7fSx2ZXJzaW9uczp7Y29tbW9uOkdvfSxzZXQgbG9nTGV2ZWwoZSl7aWYoZSE9PXZvaWQgMCl7aWYodHlwZW9mIGUhPSJzdHJpbmcifHxbInZlcmJvc2UiLCJpbmZvIiwid2FybmluZyIsImVycm9yIiwiZmF0YWwiXS5pbmRleE9mKGUpPT09LTEpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBsb2dnaW5nIGxldmVsOiAke2V9YCk7Rm89ZX19LGdldCBsb2dMZXZlbCgpe3JldHVybiBGb319O09iamVjdC5kZWZpbmVQcm9wZXJ0eShQdCwibG9nTGV2ZWwiLHtlbnVtZXJhYmxlOiEwfSl9KTt2YXIgR3Qsam89aigoKT0+eyJ1c2Ugc3RyaWN0IjtJbigpO0d0PVB0fSk7dmFyIHFvPWooKCk9PnsidXNlIHN0cmljdCJ9KTt2YXIgS289aigoKT0+eyJ1c2Ugc3RyaWN0IjtVcigpfSk7dmFyIFpvPWooKCk9PnsidXNlIHN0cmljdCJ9KTt2YXIgUW89aigoKT0+eyJ1c2Ugc3RyaWN0IjtVcigpfSk7dmFyIFVyPWooKCk9PnsidXNlIHN0cmljdCI7cW8oKTtLbygpO1pvKCk7UW8oKX0pO3ZhciBWcj1qKCgpPT57InVzZSBzdHJpY3QiO1VyKCl9KTt2YXIgQW4sWG8sa3QsUnQsVG49aigoKT0+eyJ1c2Ugc3RyaWN0IjtJbigpO0FuPShlLHQpPT57UHQud2FzbS50cmFjZSYmY29uc29sZS50aW1lU3RhbXAoYCR7ZX06Ok9SVDo6JHt0fWApfSxYbz0oZSx0KT0+e2xldCByPW5ldyBFcnJvcigpLnN0YWNrPy5zcGxpdCgvXFxyXFxufFxccnxcXG4vZyl8fFtdLG89ITE7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspe2lmKG8mJiFyW25dLmluY2x1ZGVzKCJUUkFDRV9GVU5DIikpe2xldCBzPWBGVU5DXyR7ZX06OiR7cltuXS50cmltKCkuc3BsaXQoIiAiKVsxXX1gO3QmJihzKz1gOjoke3R9YCksQW4oIkNQVSIscyk7cmV0dXJufXJbbl0uaW5jbHVkZXMoIlRSQUNFX0ZVTkMiKSYmKG89ITApfX0sa3Q9ZT0+e1B0Lndhc20udHJhY2UmJlhvKCJCRUdJTiIsZSl9LFJ0PWU9PntQdC53YXNtLnRyYWNlJiZYbygiRU5EIixlKX19KTt2YXIgSm89aigoKT0+eyJ1c2Ugc3RyaWN0Ijt6cigpO1ZyKCk7VG4oKX0pO3ZhciBlYT1qKCgpPT57InVzZSBzdHJpY3QiO0pvKCl9KTt2YXIgdGE9aigoKT0+eyJ1c2Ugc3RyaWN0In0pO3ZhciByYT1qKCgpPT57InVzZSBzdHJpY3QiO3pyKCk7VnIoKX0pO3ZhciBuYT1qKCgpPT57InVzZSBzdHJpY3QiO3JhKCl9KTt2YXIgTHQ9aigoKT0+eyJ1c2Ugc3RyaWN0IjtIbygpO2pvKCk7ZWEoKTtWcigpO1RuKCk7dGEoKTtuYSgpfSk7dmFyIGRkLGxkLG9hLGFhLGlhLGNkLEJlLEN0PWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTtkZD1bIlYiLCJJIiwiVyIsIkUiLCJGIl0sbGQ9KGUsdCk9Pntjb25zb2xlLmxvZyhgWyR7ZGRbZV19LCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfV0ke3R9YCl9LGlhPShlLHQpPT57b2E9ZSxhYT10fSxjZD0oZSx0KT0+e2xldCByPXByKGUpLG89cHIob2EpO3I+PW8mJmxkKHIsdHlwZW9mIHQ9PSJmdW5jdGlvbiI/dCgpOnQpfSxCZT0oLi4uZSk9PnthYSYmY2QoLi4uZSl9fSk7dmFyIHNhLHVhPWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTtzYT0oZSx0KT0+bmV3KE1yKHQpKShlKX0pO3ZhciBOcj1qKCgpPT57InVzZSBzdHJpY3QifSk7dmFyIFdyLHBkLGRhLE9uLEVuLGNhLHBhPWooKCk9PnsidXNlIHN0cmljdCI7Q3QoKTtOcigpO1dyPWU9Pk1hdGguY2VpbChlLzE2KSoxNixwZD0xLGRhPSgpPT5wZCsrLE9uPWFzeW5jKGUsdCxyLG8pPT57bGV0IG49V3Iocikscz1lLmRldmljZS5jcmVhdGVCdWZmZXIoe3NpemU6bix1c2FnZTpHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVHxHUFVCdWZmZXJVc2FnZS5NQVBfUkVBRH0pO3RyeXtsZXQgdT1lLmdldENvbW1hbmRFbmNvZGVyKCk7ZS5lbmRDb21wdXRlUGFzcygpLHUuY29weUJ1ZmZlclRvQnVmZmVyKHQsMCxzLDAsbiksZS5mbHVzaCgpLGF3YWl0IHMubWFwQXN5bmMoR1BVTWFwTW9kZS5SRUFEKTtsZXQgbD1zLmdldE1hcHBlZFJhbmdlKCk7aWYobyl7bGV0IGE9bygpO3JldHVybiBhLnNldChuZXcgVWludDhBcnJheShsLDAscikpLGF9ZWxzZSByZXR1cm4gbmV3IFVpbnQ4QXJyYXkobC5zbGljZSgwLHIpKX1maW5hbGx5e3MuZGVzdHJveSgpfX0sRW49Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5iYWNrZW5kPXQ7dGhpcy5zdG9yYWdlQ2FjaGU9bmV3IE1hcCx0aGlzLmZyZWVCdWZmZXJzPW5ldyBNYXAsdGhpcy5mcmVlVW5pZm9ybUJ1ZmZlcnM9bmV3IE1hcCx0aGlzLmJ1ZmZlcnNGb3JVcGxvYWRpbmdQZW5kaW5nPVtdLHRoaXMuYnVmZmVyc1BlbmRpbmc9W10sdGhpcy5leHRlcm5hbEJ1ZmZlcnM9bmV3IE1hcH11cGxvYWQodCxyKXtsZXQgbz1yLmJ1ZmZlcixuPXIuYnl0ZU9mZnNldCxzPXIuYnl0ZUxlbmd0aCx1PVdyKHMpLGw9dGhpcy5zdG9yYWdlQ2FjaGUuZ2V0KHQpO2lmKCFsKXRocm93IG5ldyBFcnJvcigiZ3B1IGRhdGEgZm9yIHVwbG9hZGluZyBkb2VzIG5vdCBleGlzdCIpO2lmKGwub3JpZ2luYWxTaXplIT09cyl0aHJvdyBuZXcgRXJyb3IoYGluY29uc2lzdGVudCBkYXRhIHNpemUuIGdwdSBkYXRhIHNpemU9JHtsLm9yaWdpbmFsU2l6ZX0sIGRhdGEgc2l6ZT0ke3N9YCk7bGV0IGE9dGhpcy5iYWNrZW5kLmRldmljZS5jcmVhdGVCdWZmZXIoe21hcHBlZEF0Q3JlYXRpb246ITAsc2l6ZTp1LHVzYWdlOkdQVUJ1ZmZlclVzYWdlLk1BUF9XUklURXxHUFVCdWZmZXJVc2FnZS5DT1BZX1NSQ30pLHA9YS5nZXRNYXBwZWRSYW5nZSgpO25ldyBVaW50OEFycmF5KHApLnNldChuZXcgVWludDhBcnJheShvLG4scykpLGEudW5tYXAoKTtsZXQgaD10aGlzLmJhY2tlbmQuZ2V0Q29tbWFuZEVuY29kZXIoKTt0aGlzLmJhY2tlbmQuZW5kQ29tcHV0ZVBhc3MoKSxoLmNvcHlCdWZmZXJUb0J1ZmZlcihhLDAsbC5ncHVEYXRhLmJ1ZmZlciwwLHUpLEJlKCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIEdwdURhdGFNYW5hZ2VyLnVwbG9hZChpZD0ke3R9KWApLHRoaXMuYnVmZmVyc0ZvclVwbG9hZGluZ1BlbmRpbmcucHVzaChhKX1tZW1jcHkodCxyKXtsZXQgbz10aGlzLnN0b3JhZ2VDYWNoZS5nZXQodCk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJzb3VyY2UgZ3B1IGRhdGEgZm9yIG1lbWNweSBkb2VzIG5vdCBleGlzdCIpO2xldCBuPXRoaXMuc3RvcmFnZUNhY2hlLmdldChyKTtpZighbil0aHJvdyBuZXcgRXJyb3IoImRlc3RpbmF0aW9uIGdwdSBkYXRhIGZvciBtZW1jcHkgZG9lcyBub3QgZXhpc3QiKTtpZihvLm9yaWdpbmFsU2l6ZSE9PW4ub3JpZ2luYWxTaXplKXRocm93IG5ldyBFcnJvcigiaW5jb25zaXN0ZW50IHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZ3B1IGRhdGEgc2l6ZSIpO2xldCBzPVdyKG8ub3JpZ2luYWxTaXplKSx1PXRoaXMuYmFja2VuZC5nZXRDb21tYW5kRW5jb2RlcigpO3RoaXMuYmFja2VuZC5lbmRDb21wdXRlUGFzcygpLHUuY29weUJ1ZmZlclRvQnVmZmVyKG8uZ3B1RGF0YS5idWZmZXIsMCxuLmdwdURhdGEuYnVmZmVyLDAscyl9cmVnaXN0ZXJFeHRlcm5hbEJ1ZmZlcih0LHIsbyl7bGV0IG47aWYobyl7aWYobj10aGlzLmV4dGVybmFsQnVmZmVycy5nZXQobyksbj09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoInByZXZpb3VzIGJ1ZmZlciBpcyBub3QgcmVnaXN0ZXJlZCIpO2lmKHQ9PT1vKXJldHVybiBCZSgidmVyYm9zZSIsKCk9PmBbV2ViR1BVXSBHcHVEYXRhTWFuYWdlci5yZWdpc3RlckV4dGVybmFsQnVmZmVyKHNpemU9JHtyfSkgPT4gaWQ9JHtufSwgYnVmZmVyIGlzIHRoZSBzYW1lLCBza2lwLmApLG47dGhpcy5leHRlcm5hbEJ1ZmZlcnMuZGVsZXRlKG8pfWVsc2Ugbj1kYSgpO3JldHVybiB0aGlzLnN0b3JhZ2VDYWNoZS5zZXQobix7Z3B1RGF0YTp7aWQ6bix0eXBlOjAsYnVmZmVyOnR9LG9yaWdpbmFsU2l6ZTpyfSksdGhpcy5leHRlcm5hbEJ1ZmZlcnMuc2V0KHQsbiksQmUoInZlcmJvc2UiLCgpPT5gW1dlYkdQVV0gR3B1RGF0YU1hbmFnZXIucmVnaXN0ZXJFeHRlcm5hbEJ1ZmZlcihzaXplPSR7cn0pID0+IGlkPSR7bn0sIHJlZ2lzdGVyZWQuYCksbn11bnJlZ2lzdGVyRXh0ZXJuYWxCdWZmZXIodCl7bGV0IHI9dGhpcy5leHRlcm5hbEJ1ZmZlcnMuZ2V0KHQpO3IhPT12b2lkIDAmJih0aGlzLnN0b3JhZ2VDYWNoZS5kZWxldGUociksdGhpcy5leHRlcm5hbEJ1ZmZlcnMuZGVsZXRlKHQpLEJlKCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIEdwdURhdGFNYW5hZ2VyLnVucmVnaXN0ZXJFeHRlcm5hbEJ1ZmZlcigpID0+IGlkPSR7cn1gKSl9Y3JlYXRlKHQscj1HUFVCdWZmZXJVc2FnZS5TVE9SQUdFfEdQVUJ1ZmZlclVzYWdlLkNPUFlfU1JDfEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUKXtsZXQgbz1Xcih0KSxuLHM9KHImR1BVQnVmZmVyVXNhZ2UuU1RPUkFHRSk9PT1HUFVCdWZmZXJVc2FnZS5TVE9SQUdFLHU9KHImR1BVQnVmZmVyVXNhZ2UuVU5JRk9STSk9PT1HUFVCdWZmZXJVc2FnZS5VTklGT1JNO2lmKHN8fHUpe2xldCBhPXM/dGhpcy5mcmVlQnVmZmVyczp0aGlzLmZyZWVVbmlmb3JtQnVmZmVycyxwPWEuZ2V0KG8pO3B8fChwPVtdLGEuc2V0KG8scCkpLHAubGVuZ3RoPjA/bj1wLnBvcCgpOm49dGhpcy5iYWNrZW5kLmRldmljZS5jcmVhdGVCdWZmZXIoe3NpemU6byx1c2FnZTpyfSl9ZWxzZSBuPXRoaXMuYmFja2VuZC5kZXZpY2UuY3JlYXRlQnVmZmVyKHtzaXplOm8sdXNhZ2U6cn0pO2xldCBsPXtpZDpkYSgpLHR5cGU6MCxidWZmZXI6bn07cmV0dXJuIHRoaXMuc3RvcmFnZUNhY2hlLnNldChsLmlkLHtncHVEYXRhOmwsb3JpZ2luYWxTaXplOnR9KSxCZSgidmVyYm9zZSIsKCk9PmBbV2ViR1BVXSBHcHVEYXRhTWFuYWdlci5jcmVhdGUoc2l6ZT0ke3R9KSA9PiBpZD0ke2wuaWR9YCksbH1nZXQodCl7cmV0dXJuIHRoaXMuc3RvcmFnZUNhY2hlLmdldCh0KT8uZ3B1RGF0YX1yZWxlYXNlKHQpe2xldCByPXRoaXMuc3RvcmFnZUNhY2hlLmdldCh0KTtpZighcil0aHJvdyBuZXcgRXJyb3IoInJlbGVhc2luZyBkYXRhIGRvZXMgbm90IGV4aXN0Iik7cmV0dXJuIEJlKCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdIEdwdURhdGFNYW5hZ2VyLnJlbGVhc2UoaWQ9JHt0fSksIGdwdURhdGFJZD0ke3IuZ3B1RGF0YS5pZH1gKSx0aGlzLnN0b3JhZ2VDYWNoZS5kZWxldGUodCksdGhpcy5idWZmZXJzUGVuZGluZy5wdXNoKHIuZ3B1RGF0YS5idWZmZXIpLHIub3JpZ2luYWxTaXplfWFzeW5jIGRvd25sb2FkKHQscil7bGV0IG89dGhpcy5zdG9yYWdlQ2FjaGUuZ2V0KHQpO2lmKCFvKXRocm93IG5ldyBFcnJvcigiZGF0YSBkb2VzIG5vdCBleGlzdCIpO2F3YWl0IE9uKHRoaXMuYmFja2VuZCxvLmdwdURhdGEuYnVmZmVyLG8ub3JpZ2luYWxTaXplLHIpfXJlZnJlc2hQZW5kaW5nQnVmZmVycygpe2ZvcihsZXQgdCBvZiB0aGlzLmJ1ZmZlcnNGb3JVcGxvYWRpbmdQZW5kaW5nKXQuZGVzdHJveSgpO3RoaXMuYnVmZmVyc0ZvclVwbG9hZGluZ1BlbmRpbmc9W107Zm9yKGxldCB0IG9mIHRoaXMuYnVmZmVyc1BlbmRpbmcpKHQudXNhZ2UmR1BVQnVmZmVyVXNhZ2UuU1RPUkFHRSk9PT1HUFVCdWZmZXJVc2FnZS5TVE9SQUdFP3RoaXMuZnJlZUJ1ZmZlcnMuZ2V0KHQuc2l6ZSkucHVzaCh0KToodC51c2FnZSZHUFVCdWZmZXJVc2FnZS5VTklGT1JNKT09PUdQVUJ1ZmZlclVzYWdlLlVOSUZPUk0/dGhpcy5mcmVlVW5pZm9ybUJ1ZmZlcnMuZ2V0KHQuc2l6ZSkucHVzaCh0KTp0LmRlc3Ryb3koKTt0aGlzLmJ1ZmZlcnNQZW5kaW5nPVtdfWRpc3Bvc2UoKXt0aGlzLmZyZWVCdWZmZXJzLmZvckVhY2godD0+e3QuZm9yRWFjaChyPT57ci5kZXN0cm95KCl9KX0pLHRoaXMuZnJlZVVuaWZvcm1CdWZmZXJzLmZvckVhY2godD0+e3QuZm9yRWFjaChyPT57ci5kZXN0cm95KCl9KX0pLHRoaXMuc3RvcmFnZUNhY2hlLmZvckVhY2godD0+e3QuZ3B1RGF0YS5idWZmZXIuZGVzdHJveSgpfSksdGhpcy5zdG9yYWdlQ2FjaGU9bmV3IE1hcCx0aGlzLmZyZWVCdWZmZXJzPW5ldyBNYXAsdGhpcy5mcmVlVW5pZm9ybUJ1ZmZlcnM9bmV3IE1hcH19LGNhPSguLi5lKT0+bmV3IEVuKC4uLmUpfSk7dmFyIFBuLGdlLGplPWooKCk9PnsidXNlIHN0cmljdCI7UG49Y2xhc3N7Y29uc3RydWN0b3IodCl7T2JqZWN0LmFzc2lnbih0aGlzLHQpfWdldCBjYWNoZUtleSgpe3JldHVybiB0aGlzLmtleXx8KHRoaXMua2V5PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpLnNvcnQoKS5tYXAodD0+YCR7dGhpc1t0XX1gKS5qb2luKCI7IikpLHRoaXMua2V5fX0sZ2U9ZT0+bmV3IFBuKGUpfSk7dmFyIGtuLGR0LFUsQnQsSHIsR3IsTHIsJGU9aigoKT0+eyJ1c2Ugc3RyaWN0Ijtrbj1jbGFzc3tzdGF0aWMgY2FsY01hdE11bFNoYXBlKHQscil7cmV0dXJuIHRbMV0hPT1yWzBdP3ZvaWQgMDpbdFswXSxyWzFdXX19LGR0PWNsYXNze3N0YXRpYyBjYWxjU2hhcGUodCxyLG89ITEpe2xldCBuPXQubGVuZ3RoLHM9ci5sZW5ndGg7aWYobj09PTApcmV0dXJuIHI7aWYocz09PTApcmV0dXJuIHQ7bGV0IHU9TWF0aC5tYXgodC5sZW5ndGgsci5sZW5ndGgpLGw9bmV3IEFycmF5KHUpO2lmKG8pe2lmKG48Mnx8czwyKXJldHVybjtsZXQgYT1rbi5jYWxjTWF0TXVsU2hhcGUoW3Rbbi0yXSx0W24tMV1dLFtyW3MtMl0scltzLTFdXSk7aWYoYT09PXZvaWQgMClyZXR1cm47W2xbdS0yXSxsW3UtMV1dPWF9Zm9yKGxldCBhPW8/MzoxO2E8PXU7YSsrKXtsZXQgcD1uLWE8MD8xOnRbbi1hXSxoPXMtYTwwPzE6cltzLWFdO2lmKHAhPT1oJiZwPjEmJmg+MSlyZXR1cm47bFt1LWFdPU1hdGgubWF4KHAsaCl9cmV0dXJuIGx9c3RhdGljIGlzVmFsaWRCcm9hZGNhc3QodCxyKXtsZXQgbz10Lmxlbmd0aCxuPXIubGVuZ3RoO2lmKG8+bilyZXR1cm4hMTtmb3IobGV0IHM9MTtzPD1vO3MrKylpZih0W28tc10hPT0xJiZ0W28tc10hPT1yW24tc10pcmV0dXJuITE7cmV0dXJuITB9fSxVPWNsYXNzIGV7c3RhdGljIHNpemUodCl7cmV0dXJuIGUuZ2V0U2l6ZUZyb21EaW1lbnNpb25SYW5nZSh0LDAsdC5sZW5ndGgpfXN0YXRpYyBzaXplRnJvbURpbWVuc2lvbih0LHIpe2lmKHI8MHx8cj50Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgZGltZW5zaW9uIG9mICR7cn0gZm9yIHNpemVGcm9tRGltZW5zaW9uIGFzIFRlbnNvciBoYXMgJHt0Lmxlbmd0aH0gZGltZW5zaW9ucy5gKTtyZXR1cm4gZS5nZXRTaXplRnJvbURpbWVuc2lvblJhbmdlKHQscix0Lmxlbmd0aCl9c3RhdGljIHNpemVUb0RpbWVuc2lvbih0LHIpe2lmKHI8MHx8cj50Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgZGltZW5zaW9uIG9mICR7cn0gZm9yIHNpemVUb0RpbWVuc2lvbiBhcyBUZW5zb3IgaGFzICR7dC5sZW5ndGh9IGRpbWVuc2lvbnMuYCk7cmV0dXJuIGUuZ2V0U2l6ZUZyb21EaW1lbnNpb25SYW5nZSh0LDAscil9c3RhdGljIGdldFNpemVGcm9tRGltZW5zaW9uUmFuZ2UodCxyLG8pe2xldCBuPTE7Zm9yKGxldCBzPXI7czxvO3MrKyl7aWYodFtzXTwwKXRocm93IG5ldyBFcnJvcigiY2Fubm90IGdldCB2YWxpZCBzaXplIGZyb20gc3BlY2lmaWVkIGRpbWVuc2lvbiByYW5nZS4gTW9zdCBsaWtlbHkgdGhlIHJhbmdlIGNvbnRhaW5zIG5lZ2F0aXZlIHZhbHVlcyBpbiB0aGVtLiIpO24qPXRbc119cmV0dXJuIG59c3RhdGljIGNvbXB1dGVTdHJpZGVzKHQpe2xldCByPXQubGVuZ3RoO2lmKHI9PT0wKXJldHVybltdO2lmKHI9PT0xKXJldHVyblsxXTtsZXQgbz1uZXcgQXJyYXkocik7b1tyLTFdPTEsb1tyLTJdPXRbci0xXTtmb3IobGV0IG49ci0zO24+PTA7LS1uKW9bbl09b1tuKzFdKnRbbisxXTtyZXR1cm4gb31zdGF0aWMgbm9ybWFsaXplQXhpcyh0LHIpe2lmKHQ8LXImJnQ+PXIpdGhyb3cgbmV3IEVycm9yKCJ1bnN1cHBvcnRlZCBheGlzIGZvciB0aGlzIG9wZXJhdGlvbi4iKTtyZXR1cm4gdDwwP3Qrcjp0fXN0YXRpYyBub3JtYWxpemVBeGVzKHQscil7cmV0dXJuIHQubWFwKG89PnRoaXMubm9ybWFsaXplQXhpcyhvLHI/P3QubGVuZ3RoKSl9c3RhdGljIHNvcnRCYXNlZE9uUGVybSh0LHIpe3JldHVybiByP3IubWFwKG89PnRbb10pOnQuc2xpY2UoKS5yZXZlcnNlKCl9c3RhdGljIHBhZFNoYXBlKHQscil7bGV0IG89dC5sZW5ndGg7cmV0dXJuIHQubWFwKChuLHMpPT5uK3Jbc10rcltzK29dKX1zdGF0aWMgYXJlRXF1YWwodCxyKXtyZXR1cm4gdC5sZW5ndGghPT1yLmxlbmd0aD8hMTp0LmV2ZXJ5KChvLG4pPT5vPT09cltuXSl9fSxCdD1jbGFzcyBle3N0YXRpYyBhZGp1c3RQb29sQXR0cmlidXRlcyh0LHIsbyxuLHMsdSl7aWYoIXQmJm8ubGVuZ3RoIT09ci5sZW5ndGgtMil0aHJvdyBuZXcgRXJyb3IoImxlbmd0aCBvZiBzcGVjaWZpZWQga2VybmVsIHNoYXBlcyBzaG91bGQgYmUgMiBsZXNzIHRoYW4gbGVuZ3RoIG9mIGlucHV0IGRpbWVuc2lvbnMiKTtpZih0KWZvcihsZXQgbD0wO2w8ci5sZW5ndGgtMjtsKyspbD49by5sZW5ndGg/by5wdXNoKHJbbCsyXSk6b1tsXT1yW2wrMl07Zm9yKGxldCBsPTA7bDxvLmxlbmd0aDtsKyspaWYobDxuLmxlbmd0aCl7aWYobltsXTwwKXRocm93IG5ldyBFcnJvcigic3RyaWRlcyBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDEiKX1lbHNlIG4ucHVzaCgxKTtmb3IobGV0IGw9MDtsPG8ubGVuZ3RoO2wrKylpZihsPHMubGVuZ3RoKXtpZihzW2xdPDApdGhyb3cgbmV3IEVycm9yKCJkaWxhdGlvbnMgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxIil9ZWxzZSBzLnB1c2goMSk7Zm9yKGxldCBsPTA7bDxvLmxlbmd0aCoyO2wrKylpZihsPHUubGVuZ3RoKXtpZih1W2xdPDApdGhyb3cgbmV3IEVycm9yKCJwYWQgc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxIil9ZWxzZSB1LnB1c2goMCk7Zm9yKGxldCBsPTA7bDxvLmxlbmd0aDtsKyspe2lmKG9bbF08PTApdGhyb3cgbmV3IEVycm9yKCJrZXJuZWwgc2hhcGVzIG5lZWQgdG8gYmUgZ3JlYXRlciB0aGFuIDAiKTtpZih1W2xdPj1vW2xdfHx1W2wrby5sZW5ndGhdPj1vW2xdKXRocm93IG5ldyBFcnJvcigicGFkcyBzaG91bGQgYmUgc21hbGxlciB0aGFuIGtlcm5lbCIpfX1zdGF0aWMgYWRqdXN0UGFkc0Jhc2VkT25BdXRvUGFkKHQscixvLG4scyx1LGwpe2lmKGwpe2lmKHMubGVuZ3RoIT09MioodC5sZW5ndGgtMikpdGhyb3cgbmV3IEVycm9yKCJsZW5ndGggb2YgcGFkcyBzaG91bGQgYmUgdHdpY2UgdGhlIGxlbmd0aCBvZiBkYXRhIGRpbWVuc2lvbnMiKTtpZihyLmxlbmd0aCE9PXQubGVuZ3RoLTIpdGhyb3cgbmV3IEVycm9yKCJsZW5ndGggb2Ygc3RyaWRlcyBzaG91bGQgYmUgdGhlIGxlbmd0aCBvZiBkYXRhIGRpbWVuc2lvbnMiKTtpZihuLmxlbmd0aCE9PXQubGVuZ3RoLTIpdGhyb3cgbmV3IEVycm9yKCJsZW5ndGggb2Yga2VybmVsIHNoYXBlcyBzaG91bGQgYmUgdGhlIGxlbmd0aCBvZiBkYXRhIGRpbWVuc2lvbnMiKTtmb3IobGV0IGE9MDthPHQubGVuZ3RoLTI7YSsrKWUuYWRqdXN0UGFkQW5kUmV0dXJuU2hhcGUodFthKyh1PzE6MildLHJbYV0sb1thXSxuW2FdLHMsYSxhK3QubGVuZ3RoLTIsbCl9fXN0YXRpYyBjb21wdXRlUG9vbE91dHB1dFNoYXBlKHQscixvLG4scyx1LGwpe2lmKHIubGVuZ3RoPD0wKXRocm93IG5ldyBFcnJvcigiaW5wdXQgc2hhcGUgbXVzdCBiZSBvZiBzaXplIGdyZWF0ZXIgdGhhbiAwIik7bGV0IGE9W3JbMF0sclsxXV07cmV0dXJuIGUuY29tcHV0ZVNoYXBlSGVscGVyKHQscixhLG8sbixzLHUsbCksYX1zdGF0aWMgY29tcHV0ZUNvbnZPdXRwdXRTaGFwZSh0LHIsbyxuLHMsdSxsKXtpZih0Lmxlbmd0aDw9MHx8ci5sZW5ndGg8PTApdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGlucHV0IHRlbnNvciBkaW1zIG9yIGludmFsaWQgZmlsdGVyIHRlbnNvciBkaW1zIik7bGV0IGE9W3RbMF0sclswXV07cmV0dXJuIGUuY29tcHV0ZVNoYXBlSGVscGVyKCExLHQsYSxvLG4scyx1LGwpLGF9c3RhdGljIGNvbXB1dGVTaGFwZUhlbHBlcih0LHIsbyxuLHMsdSxsLGEpe2lmKHQpZm9yKGxldCBwPTA7cDxyLmxlbmd0aC0yO3ArKylvLnB1c2goMSk7ZWxzZSBmb3IobGV0IHA9MDtwPHIubGVuZ3RoLTI7cCsrKW8ucHVzaChlLmFkanVzdFBhZEFuZFJldHVyblNoYXBlKHJbcCsyXSxuW3BdLHNbcF0sdVtwXSxsLHAscCtyLmxlbmd0aC0yLGEpKX1zdGF0aWMgYWRqdXN0UGFkQW5kUmV0dXJuU2hhcGUodCxyLG8sbixzLHUsbCxhKXtsZXQgcD1vKihuLTEpKzE7aWYoYSYmYSE9PSJOT1RTRVQiKXN3aXRjaChhKXtjYXNlIlZBTElEIjpyZXR1cm4gc1t1XT0wLHNbbF09MCxNYXRoLmZsb29yKCh0LXApL3IrMSk7Y2FzZSJTQU1FX0xPV0VSIjpjYXNlIlNBTUVfVVBQRVIiOmlmKG8hPT0xKXRocm93IG5ldyBFcnJvcigiRGlsYXRpb24gbm90IHN1cHBvcnRlZCBmb3IgU0FNRV9VUFBFUiBvciBTQU1FX0xPV0VSIik7e2xldCBnPSgodCtyLTEpL3ItMSkqcituLXQ7cmV0dXJuIHNbdV09TWF0aC5mbG9vcihhPT09IlNBTUVfTE9XRVIiPyhnKzEpLzI6Zy8yKSxzW2xdPWctc1t1XSxNYXRoLmZsb29yKCh0K2ctbikvcisxKX1kZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgQXV0b1BhZCB0eXBlIil9ZWxzZSByZXR1cm4gTWF0aC5mbG9vcigodCtzW3VdK3NbbF0tcCkvcisxKX19LEhyPWNsYXNze3N0YXRpYyBnZXRTaGFwZU9mR2VtbVJlc3VsdCh0LHIsbyxuLHMpe2lmKHQubGVuZ3RoIT09Mnx8by5sZW5ndGghPT0yKXRocm93IG5ldyBFcnJvcigic2hhcGUgbmVlZCB0byBiZSBvZiBzaXplIDIiKTtsZXQgdSxsLGE7cj8odT10WzFdLGw9dFswXSk6KHU9dFswXSxsPXRbMV0pO2xldCBwPS0xO2lmKG4/KGE9b1swXSxwPTEpOihhPW9bMV0scD0wKSxvW3BdIT09bCl0aHJvdyBuZXcgRXJyb3IoImRpbWVuc2lvbiBtaXNtYXRjaCIpO2lmKHU8PTB8fGE8PTB8fGw8PTApdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHNoYXBlIHNwZWNpZmllZCIpO2lmKHMmJiFkdC5pc1ZhbGlkQnJvYWRjYXN0KHMsW3UsYV0pKXRocm93IG5ldyBFcnJvcigiZ2VtbTogaW52YWxpZCBiaWFzIHNoYXBlIGZvciBicm9hZGNhc3QiKTtyZXR1cm5bdSxhLGxdfX0sR3I9LTM0MDI4MjM0NjYzODUyODg2ZTIyLExyPTM0MDI4MjM0NjYzODUyODg2ZTIyfSk7dmFyIG1kLEJuLExlLGx0LEwsRmUsWmUsYXQsSmUsY2UsRG4sTSxGLEZyLFJuLG1hLEZ0LFJlLHZlPWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTskZSgpO21kPTY0LEJuPShlLHQpPT57aWYodD09PTMpdGhyb3cgbmV3IEVycm9yKCJ2ZWMzIGhhcyBzYW1lIGFsaWdubWVudCBhcyB2ZWM0LCB1c2UgdmVjNCBpbnN0ZWFkIik7c3dpdGNoKGUpe2Nhc2UgMTA6cmV0dXJuIHQ+MT9gdmVjJHt0fTxmMTY+YDoiZjE2IjtjYXNlIDE6cmV0dXJuIHQ+MT9gdmVjJHt0fTxmMzI+YDoiZjMyIjtjYXNlIDY6cmV0dXJuIHQ+MT9gdmVjJHt0fTxpMzI+YDoiaTMyIjtjYXNlIDEyOnJldHVybiB0PjE/YHZlYyR7dH08dTMyPmA6InUzMiI7Y2FzZSA3OmlmKHQ+MSl0aHJvdyBuZXcgRXJyb3IoImN1cnJlbnRseSBub3Qgc3VwcG9ydGVkIHZlY1ggb2YgdWludDY0IHlldCIpO3JldHVyblsidmVjMjx1MzI+IiwiaTMyIl07Y2FzZSAxMzppZih0PjEpdGhyb3cgbmV3IEVycm9yKCJjdXJyZW50bHkgbm90IHN1cHBvcnRlZCB2ZWNYIG9mIHVpbnQ2NCB5ZXQiKTtyZXR1cm5bInZlYzI8dTMyPiIsInUzMiJdO2Nhc2UgOTppZih0IT09NCl0aHJvdyBuZXcgRXJyb3IoImJvb2wgbXVzdCBiZSB2ZWM0Iik7cmV0dXJuWyJ1MzIiLCJ2ZWM0PGJvb2w+Il07ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZGF0YSB0eXBlOiAke2V9YCl9fSxMZT0oZSx0PTEpPT57bGV0IHI9Qm4oZSx0KTtyZXR1cm4gdHlwZW9mIHI9PSJzdHJpbmciP3I6clswXX0sbHQ9KGUsdD0xKT0+e2xldCByPUJuKGUsdCk7cmV0dXJuIHR5cGVvZiByPT0ic3RyaW5nIj9yOnJbMV19LEw9ZT0+ZS5sZW5ndGg9PT0wP1tdOlt7dHlwZToidWludDMyIixkYXRhOmV9LHt0eXBlOiJ1aW50MzIiLGRhdGE6VS5jb21wdXRlU3RyaWRlcyhlKX1dLEZlPWU9PmUlND09PTA/NDplJTI9PT0wPzI6MSxaZT0oZT0iZjMyIix0LHI9IjAiKT0+IXR8fHQ9PT0xP2Ake2V9KCR7cn0pYDpgdmVjJHt0fTwke2V9Pigke3J9KWAsYXQ9KGUsdCxyKT0+ZT09PSJmMzIiP3I6dD09PTE/YGYzMigke3J9KWA6YHZlYyR7dH1mKCR7cn0pYCxKZT0oZSx0KT0+dD09PTQ/YCgke2V9LnggKyAke2V9LnkgKyAke2V9LnogKyAke2V9LncpYDp0PT09Mj9gKCR7ZX0ueCArICR7ZX0ueSlgOnQ9PT0zP2AoJHtlfS54ICsgJHtlfS55ICsgJHtlfS56KWA6ZSxjZT0oZSx0LHIpPT5lLnN0YXJ0c1dpdGgoInVuaWZvcm1zLiIpJiZyPjQ/dHlwZW9mIHQ9PSJzdHJpbmciP2Ake2V9Wygke3R9KSAvIDRdWygke3R9KSAlIDRdYDpgJHtlfVske01hdGguZmxvb3IodC80KX1dWyR7dCU0fV1gOnI+MT9gJHtlfVske3R9XWA6ZSxEbj0oZSx0LHIsbyxuKT0+e2xldCBzPXR5cGVvZiByPT0ibnVtYmVyIix1PXM/cjpyLmxlbmd0aCxsPVsuLi5uZXcgQXJyYXkodSkua2V5cygpXSxhPXU8Mj8idTMyIjp1PD00P2B2ZWMke3V9PHUzMj5gOmBhcnJheTx1MzIsICR7dX0+YCxwPUJuKHQsbiksaD10eXBlb2YgcD09InN0cmluZyI/cDpwWzFdLGc9dHlwZW9mIHA9PSJzdHJpbmciP3A6cFswXSxiPXtpbmRpY2VzOmEsdmFsdWU6aCxzdG9yYWdlOmcsdGVuc29yOnR9LHc9Rz0+dHlwZW9mIEc9PSJzdHJpbmciP0c6YCR7R311YCx5PXtvZmZzZXRUb0luZGljZXM6ITEsaW5kaWNlc1RvT2Zmc2V0OiExLGJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0OiExLHNldDohMSxzZXRCeUluZGljZXM6ITEsZ2V0OiExLGdldEJ5SW5kaWNlczohMX0sXz1zPyJ1bmlmb3Jtcy4iOiIiLEk9YCR7X30ke2V9X3NoYXBlYCwkPWAke199JHtlfV9zdHJpZGVzYCx4PSIiO2ZvcihsZXQgRz0wO0c8dS0xO0crKyl4Kz1gXG4gICAgbGV0IGRpbSR7R30gPSBjdXJyZW50IC8gJHtjZSgkLEcsdSl9O1xuICAgIGxldCByZXN0JHtHfSA9IGN1cnJlbnQgJSAke2NlKCQsRyx1KX07XG4gICAgaW5kaWNlc1ske0d9XSA9IGRpbSR7R307XG4gICAgY3VycmVudCA9IHJlc3Qke0d9O1xuICAgIGA7eCs9YGluZGljZXNbJHt1LTF9XSA9IGN1cnJlbnQ7YDtsZXQgRT11PDI/IiI6YFxuICBmbiBvMmlfJHtlfShvZmZzZXQ6IHUzMikgLT4gJHtiLmluZGljZXN9IHtcbiAgICB2YXIgaW5kaWNlczogJHtiLmluZGljZXN9O1xuICAgIHZhciBjdXJyZW50ID0gb2Zmc2V0O1xuICAgICR7eH1cbiAgICByZXR1cm4gaW5kaWNlcztcbiAgfWAsQT1HPT4oeS5vZmZzZXRUb0luZGljZXM9ITAsdTwyP0c6YG8yaV8ke2V9KCR7R30pYCksej1bXTtpZih1Pj0yKWZvcihsZXQgRz11LTE7Rz49MDtHLS0pei5wdXNoKGAke2NlKCQsRyx1KX0gKiAoaW5kaWNlc1ske0d9XSlgKTtsZXQgUj11PDI/IiI6YFxuICBmbiBpMm9fJHtlfShpbmRpY2VzOiAke2IuaW5kaWNlc30pIC0+IHUzMiB7XG4gICAgcmV0dXJuICR7ei5qb2luKCIrIil9O1xuICB9YCxWPUc9Pih5LmluZGljZXNUb09mZnNldD0hMCx1PDI/RzpgaTJvXyR7ZX0oJHtHfSlgKSxUPSguLi5HKT0+dT09PTA/IjB1IjpgJHtiLmluZGljZXN9KCR7Ry5tYXAodykuam9pbigiLCIpfSlgLE49KEcsZWUpPT51PDI/YCR7R31gOmAke2NlKEcsZWUsdSl9YCx0ZT0oRyxlZSxiZSk9PnU8Mj9gJHtHfT0ke2JlfTtgOmAke2NlKEcsZWUsdSl9PSR7YmV9O2AsWT17fSxLPShHLGVlKT0+e3kuYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQ9ITA7bGV0IGJlPWAke2VlLm5hbWV9YnJvYWRjYXN0ZWRJbmRpY2VzVG8ke2V9T2Zmc2V0YDtpZihiZSBpbiBZKXJldHVybmAke2JlfSgke0d9KWA7bGV0IGV0PVtdO2ZvcihsZXQgemU9dS0xO3plPj0wO3plLS0pe2xldCBVZT1lZS5pbmRpY2VzR2V0KCJvdXRwdXRJbmRpY2VzIix6ZStlZS5yYW5rLXUpO2V0LnB1c2goYCR7TigkLHplKX0gKiAoJHtVZX0gJSAke04oSSx6ZSl9KWApfXJldHVybiBZW2JlXT1gZm4gJHtiZX0ob3V0cHV0SW5kaWNlczogJHtlZS50eXBlLmluZGljZXN9KSAtPiB1MzIge1xuICAgICAgICAgICAgIHJldHVybiAke2V0Lmxlbmd0aD4wP2V0LmpvaW4oIisiKToiMHUifTtcbiAgICAgICAgICAgfWAsYCR7YmV9KCR7R30pYH0sUT0oRyxlZSk9PigoKT0+e2lmKGIuc3RvcmFnZT09PWIudmFsdWUpcmV0dXJuYCR7ZX1bJHtHfV09JHtlZX07YDtpZihiLnN0b3JhZ2U9PT0idmVjMjx1MzI+IiYmYi52YWx1ZT09PSJpMzIiKXJldHVybmAke2V9WyR7R31dPXZlYzI8dTMyPih1MzIoJHtlZX0pLCBzZWxlY3QoMHUsIDB4RkZGRkZGRkZ1LCAke2VlfSA8IDApKTtgO2lmKGIuc3RvcmFnZT09PSJ2ZWMyPHUzMj4iJiZiLnZhbHVlPT09InUzMiIpcmV0dXJuYCR7ZX1bJHtHfV09dmVjMjx1MzI+KHUzMigke2VlfSksIDB1KTtgO2lmKGIuc3RvcmFnZT09PSJ1MzIiJiZiLnZhbHVlPT09InZlYzQ8Ym9vbD4iKXJldHVybmAke2V9WyR7R31dPWRvdCh2ZWM0PHUzMj4oMHgxLCAweDEwMCwgMHgxMDAwMCwgMHgxMDAwMDAwKSwgdmVjNDx1MzI+KCR7ZWV9KSk7YDt0aHJvdyBuZXcgRXJyb3IoYG5vdCBzdXBwb3J0ZWQgY29tYmluYXRpb24gb2Ygc3RvcmFnZSB0eXBlICR7Yi5zdG9yYWdlfSBhbmQgdmFsdWUgdHlwZSAke2IudmFsdWV9IHlldGApfSkoKSxaPUc9PigoKT0+e2lmKGIuc3RvcmFnZT09PWIudmFsdWUpcmV0dXJuYCR7ZX1bJHtHfV1gO2lmKGIuc3RvcmFnZT09PSJ2ZWMyPHUzMj4iJiZiLnZhbHVlPT09ImkzMiIpcmV0dXJuYGkzMigke2V9WyR7R31dLngpYDtpZihiLnN0b3JhZ2U9PT0idmVjMjx1MzI+IiYmYi52YWx1ZT09PSJ1MzIiKXJldHVybmB1MzIoJHtlfVske0d9XS54KWA7aWYoYi5zdG9yYWdlPT09InUzMiImJmIudmFsdWU9PT0idmVjNDxib29sPiIpcmV0dXJuYHZlYzQ8Ym9vbD4oYm9vbCgke2V9WyR7R31dICYgMHhGRnUpLCBib29sKCR7ZX1bJHtHfV0gJiAweEZGMDB1KSwgYm9vbCgke2V9WyR7R31dICYgMHhGRjAwMDB1KSwgYm9vbCgke2V9WyR7R31dICYgMHhGRjAwMDAwMHUpKWA7dGhyb3cgbmV3IEVycm9yKGBub3Qgc3VwcG9ydGVkIGNvbWJpbmF0aW9uIG9mIHN0b3JhZ2UgdHlwZSAke2Iuc3RvcmFnZX0gYW5kIHZhbHVlIHR5cGUgJHtiLnZhbHVlfSB5ZXRgKX0pKCksRWU9dTwyPyIiOmBcbiAgZm4gZ2V0XyR7ZX1CeUluZGljZXMoaW5kaWNlczogJHtiLmluZGljZXN9KSAtPiAke2h9IHtcbiAgICByZXR1cm4gJHtaKGBpMm9fJHtlfShpbmRpY2VzKWApfTtcbiAgfWAsUGU9dTwyPyIiOigoKT0+e2xldCBHPWwubWFwKGJlPT5gZCR7YmV9OiB1MzJgKS5qb2luKCIsICIpLGVlPWwubWFwKGJlPT5gZCR7YmV9YCkuam9pbigiLCAiKTtyZXR1cm5gXG4gIGZuIGdldF8ke2V9KCR7R30pIC0+ICR7aH0ge1xuICAgIHJldHVybiBnZXRfJHtlfUJ5SW5kaWNlcygke1QoZWUpfSk7XG4gIH1gfSkoKSxmZT0oLi4uRyk9PntpZihHLmxlbmd0aCE9PXUpdGhyb3cgbmV3IEVycm9yKGBpbmRpY2VzIGxlbmd0aCBtdXN0IGJlICR7dX1gKTtsZXQgZWU9Ry5tYXAodykuam9pbigiLCIpO3JldHVybiB1PT09MD9aKCIwdSIpOnU9PT0xP1ooZWVbMF0pOih5LmdldD0hMCx5LmdldEJ5SW5kaWNlcz0hMCx5LmluZGljZXNUb09mZnNldD0hMCxgZ2V0XyR7ZX0oJHtlZX0pYCl9LEllPUc9PnU8Mj9aKEcpOih5LmdldEJ5SW5kaWNlcz0hMCx5LmluZGljZXNUb09mZnNldD0hMCxgZ2V0XyR7ZX1CeUluZGljZXMoJHtHfSlgKSxoZT11PDI/IiI6YFxuICBmbiBzZXRfJHtlfUJ5SW5kaWNlcyhpbmRpY2VzOiAke2IuaW5kaWNlc30sIHZhbHVlOiAke2h9KSB7XG4gICAgJHtRKGBpMm9fJHtlfShpbmRpY2VzKWAsInZhbHVlIil9XG4gIH1gLHllPXU8Mj8iIjooKCk9PntsZXQgRz1sLm1hcChiZT0+YGQke2JlfTogdTMyYCkuam9pbigiLCAiKSxlZT1sLm1hcChiZT0+YGQke2JlfWApLmpvaW4oIiwgIik7cmV0dXJuYFxuICBmbiBzZXRfJHtlfSgke0d9LCB2YWx1ZTogJHtofSkge1xuICAgIHNldF8ke2V9QnlJbmRpY2VzKCR7VChlZSl9LCB2YWx1ZSk7XG4gIH1gfSkoKTtyZXR1cm57aW1wbDooKT0+e2xldCBHPVtdLGVlPSExO3JldHVybiB5Lm9mZnNldFRvSW5kaWNlcyYmKEcucHVzaChFKSxlZT0hMCkseS5pbmRpY2VzVG9PZmZzZXQmJihHLnB1c2goUiksZWU9ITApLHkuYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQmJihPYmplY3QudmFsdWVzKFkpLmZvckVhY2goYmU9PkcucHVzaChiZSkpLGVlPSEwKSx5LnNldCYmKEcucHVzaCh5ZSksZWU9ITApLHkuc2V0QnlJbmRpY2VzJiYoRy5wdXNoKGhlKSxlZT0hMCkseS5nZXQmJihHLnB1c2goUGUpLGVlPSEwKSx5LmdldEJ5SW5kaWNlcyYmKEcucHVzaChFZSksZWU9ITApLCFzJiZlZSYmRy51bnNoaWZ0KGBjb25zdCAke0l9ID0gJHtiLmluZGljZXN9KCR7ci5qb2luKCIsIil9KTtgLGBjb25zdCAkeyR9ID0gJHtiLmluZGljZXN9KCR7VS5jb21wdXRlU3RyaWRlcyhyKS5qb2luKCIsIil9KTtgKSxHLmpvaW4oYFxuYCl9LHR5cGU6YixvZmZzZXRUb0luZGljZXM6QSxpbmRpY2VzVG9PZmZzZXQ6Vixicm9hZGNhc3RlZEluZGljZXNUb09mZnNldDpLLGluZGljZXM6VCxpbmRpY2VzR2V0Ok4saW5kaWNlc1NldDp0ZSxzZXQ6KC4uLkcpPT57aWYoRy5sZW5ndGghPT11KzEpdGhyb3cgbmV3IEVycm9yKGBpbmRpY2VzIGxlbmd0aCBtdXN0IGJlICR7dX1gKTtsZXQgZWU9R1t1XTtpZih0eXBlb2YgZWUhPSJzdHJpbmciKXRocm93IG5ldyBFcnJvcigidmFsdWUgbXVzdCBiZSBzdHJpbmciKTtsZXQgYmU9Ry5zbGljZSgwLHUpLm1hcCh3KS5qb2luKCIsIik7cmV0dXJuIHU9PT0wP1EoIjB1IixlZSk6dT09PTE/UShiZVswXSxlZSk6KHkuc2V0PSEwLHkuc2V0QnlJbmRpY2VzPSEwLHkuaW5kaWNlc1RvT2Zmc2V0PSEwLGBzZXRfJHtlfSgke2JlfSwgJHtlZX0pYCl9LHNldEJ5T2Zmc2V0OlEsc2V0QnlJbmRpY2VzOihHLGVlKT0+dTwyP1EoRyxlZSk6KHkuc2V0QnlJbmRpY2VzPSEwLHkuaW5kaWNlc1RvT2Zmc2V0PSEwLGBzZXRfJHtlfUJ5SW5kaWNlcygke0d9LCAke2VlfSk7YCksZ2V0OmZlLGdldEJ5T2Zmc2V0OlosZ2V0QnlJbmRpY2VzOkllLHVzYWdlOm8sbmFtZTplLHN0cmlkZXM6JCxzaGFwZTpJLHJhbms6dX19LE09KGUsdCxyLG89MSk9PkRuKGUsdCxyLCJpbnB1dCIsbyksRj0oZSx0LHIsbz0xKT0+RG4oZSx0LHIsIm91dHB1dCIsbyksRnI9KGUsdCxyLG89MSk9PkRuKGUsdCxyLCJpbnRlcm5hbCIsbyksUm49Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5ub3JtYWxpemVkRGlzcGF0Y2hHcm91cD10O3RoaXMuaW50ZXJuYWxWYXJpYWJsZXM9W107dGhpcy52YXJpYWJsZXM9W107dGhpcy51bmlmb3Jtcz1bXTt0aGlzLnZhcmlhYmxlSW5kZXg9MH1ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKHQpe3JldHVybmBpZiAoZ2xvYmFsX2lkeCA+PSAke3R5cGVvZiB0PT0ibnVtYmVyIj9gJHt0fXVgOnR9KSB7IHJldHVybjsgfWB9bWFpblN0YXJ0KHQ9bWQpe2xldCByPXR5cGVvZiB0PT0ibnVtYmVyIj90OnRbMF0sbz10eXBlb2YgdD09Im51bWJlciI/MTp0WzFdLG49dHlwZW9mIHQ9PSJudW1iZXIiPzE6dFsyXSxzPXRoaXMubm9ybWFsaXplZERpc3BhdGNoR3JvdXBbMV09PT0xJiZ0aGlzLm5vcm1hbGl6ZWREaXNwYXRjaEdyb3VwWzJdPT09MSx1PXM/YEBidWlsdGluKGdsb2JhbF9pbnZvY2F0aW9uX2lkKSBnbG9iYWxfaWQgOiB2ZWMzPHUzMj4sXG4gICAgQGJ1aWx0aW4od29ya2dyb3VwX2lkKSB3b3JrZ3JvdXBfaWQgOiB2ZWMzPHUzMj4sXG4gICAgQGJ1aWx0aW4obG9jYWxfaW52b2NhdGlvbl9pZCkgbG9jYWxfaWQgOiB2ZWMzPHUzMj5gOmBAYnVpbHRpbihsb2NhbF9pbnZvY2F0aW9uX2lkKSBsb2NhbF9pZCA6IHZlYzM8dTMyPixcbiAgICBAYnVpbHRpbihsb2NhbF9pbnZvY2F0aW9uX2luZGV4KSBsb2NhbF9pZHggOiB1MzIsXG4gICAgQGJ1aWx0aW4od29ya2dyb3VwX2lkKSB3b3JrZ3JvdXBfaWQgOiB2ZWMzPHUzMj4sXG4gICAgQGJ1aWx0aW4obnVtX3dvcmtncm91cHMpIG51bV93b3JrZ3JvdXBzIDogdmVjMzx1MzI+YCxsPXM/ImxldCBnbG9iYWxfaWR4ID0gZ2xvYmFsX2lkLng7IGxldCBsb2NhbF9pZHggPSBsb2NhbF9pZC54OyI6YGxldCBnbG9iYWxfaWR4ID0gKHdvcmtncm91cF9pZC56ICogbnVtX3dvcmtncm91cHNbMF0gKiBudW1fd29ya2dyb3Vwc1sxXSArXG4gICAgICAgICAgd29ya2dyb3VwX2lkLnkgKiBudW1fd29ya2dyb3Vwc1swXSArIHdvcmtncm91cF9pZC54KSAqICR7cipvKm59dSArIGxvY2FsX2lkeDtgO3JldHVybmBAY29tcHV0ZSBAd29ya2dyb3VwX3NpemUoJHtyfSwgJHtvfSwgJHtufSlcbiAgZm4gbWFpbigke3V9KSB7XG4gICAgJHtsfVxuICBgfWFwcGVuZFZhcmlhYmxlVW5pZm9ybXModCl7dC5yYW5rIT09MCYmKHQuc2hhcGUuc3RhcnRzV2l0aCgidW5pZm9ybXMuIikmJnRoaXMudW5pZm9ybXMucHVzaCh7bmFtZTp0LnNoYXBlLnJlcGxhY2UoInVuaWZvcm1zLiIsIiIpLHR5cGU6InUzMiIsbGVuZ3RoOnQucmFua30pLHQuc3RyaWRlcy5zdGFydHNXaXRoKCJ1bmlmb3Jtcy4iKSYmdGhpcy51bmlmb3Jtcy5wdXNoKHtuYW1lOnQuc3RyaWRlcy5yZXBsYWNlKCJ1bmlmb3Jtcy4iLCIiKSx0eXBlOiJ1MzIiLGxlbmd0aDp0LnJhbmt9KSl9ZGVjbGFyZVZhcmlhYmxlKHQscil7aWYodC51c2FnZT09PSJpbnRlcm5hbCIpdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgdXNlIGludGVybmFsIHZhcmlhYmxlIHdpdGggZGVjbGFyZVZhcmlhYmxlKCkuIHVzZSByZWdpc3RlckludGVybmFsVmFyaWFibGVzKCkgaW5zdGVhZC4iKTt0aGlzLnZhcmlhYmxlcy5wdXNoKHQpLHRoaXMuYXBwZW5kVmFyaWFibGVVbmlmb3Jtcyh0KTtsZXQgbz10LnVzYWdlPT09ImlucHV0Ij8icmVhZCI6InJlYWRfd3JpdGUiLG49dC50eXBlLnN0b3JhZ2U7cmV0dXJuYEBncm91cCgwKSBAYmluZGluZygke3J9KSB2YXI8c3RvcmFnZSwgJHtvfT4gJHt0Lm5hbWV9OiBhcnJheTwke259PjtgfWRlY2xhcmVWYXJpYWJsZXMoLi4udCl7cmV0dXJuIHQubWFwKHI9PnRoaXMuZGVjbGFyZVZhcmlhYmxlKHIsdGhpcy52YXJpYWJsZUluZGV4KyspKS5qb2luKGBcbmApfXJlZ2lzdGVySW50ZXJuYWxWYXJpYWJsZSh0KXtpZih0LnVzYWdlIT09ImludGVybmFsIil0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCB1c2UgaW5wdXQgb3Igb3V0cHV0IHZhcmlhYmxlIHdpdGggcmVnaXN0ZXJJbnRlcm5hbFZhcmlhYmxlKCkuIHVzZSBkZWNsYXJlVmFyaWFibGVzKCkgaW5zdGVhZC4iKTt0aGlzLmludGVybmFsVmFyaWFibGVzLnB1c2godCksdGhpcy5hcHBlbmRWYXJpYWJsZVVuaWZvcm1zKHQpfXJlZ2lzdGVySW50ZXJuYWxWYXJpYWJsZXMoLi4udCl7cmV0dXJuIHQuZm9yRWFjaChyPT50aGlzLnJlZ2lzdGVySW50ZXJuYWxWYXJpYWJsZShyKSksdGhpc31yZWdpc3RlclVuaWZvcm0odCxyLG89MSl7cmV0dXJuIHRoaXMudW5pZm9ybXMucHVzaCh7bmFtZTp0LHR5cGU6cixsZW5ndGg6b30pLHRoaXN9cmVnaXN0ZXJVbmlmb3Jtcyh0KXtyZXR1cm4gdGhpcy51bmlmb3Jtcz10aGlzLnVuaWZvcm1zLmNvbmNhdCh0KSx0aGlzfXVuaWZvcm1EZWNsYXJhdGlvbigpe2lmKHRoaXMudW5pZm9ybXMubGVuZ3RoPT09MClyZXR1cm4iIjtsZXQgdD1bXTtmb3IobGV0e25hbWU6cix0eXBlOm8sbGVuZ3RoOm59b2YgdGhpcy51bmlmb3JtcylpZihuJiZuPjQpdC5wdXNoKGAke3J9OmFycmF5PHZlYzQ8JHtvfT4sICR7TWF0aC5jZWlsKG4vNCl9PmApO2Vsc2V7bGV0IHM9bj09bnVsbHx8bj09PTE/bzpgdmVjJHtufTwke299PmA7dC5wdXNoKGAke3J9OiR7c31gKX1yZXR1cm5gXG4gICAgICBzdHJ1Y3QgVW5pZm9ybXMgeyAke3Quam9pbigiLCAiKX0gfTtcbiAgICAgIEBncm91cCgwKSBAYmluZGluZygke3RoaXMudmFyaWFibGVJbmRleH0pIHZhcjx1bmlmb3JtPiB1bmlmb3JtczogVW5pZm9ybXM7YH1nZXQgYWRkaXRpb25hbEltcGxlbWVudGF0aW9ucygpe3JldHVybiB0aGlzLnVuaWZvcm1EZWNsYXJhdGlvbigpK3RoaXMudmFyaWFibGVzLm1hcCh0PT50LmltcGwoKSkuam9pbihgXG5gKSt0aGlzLmludGVybmFsVmFyaWFibGVzLm1hcCh0PT50LmltcGwoKSkuam9pbihgXG5gKX19LG1hPWU9Pm5ldyBSbihlKSxGdD0oZSx0KT0+e2xldCByPWUubGVuZ3RoLG89W107Zm9yKGxldCBuPTA7bjxyO24rKyl7bGV0IHM9ci0xLW4sdT1lW3NdfHwxOyh0W3QubGVuZ3RoLTEtbl18fDEpPjEmJnU9PT0xJiZvLnVuc2hpZnQocyl9cmV0dXJuIG99LFJlPWU9PiEwfSk7dmFyIGZkLGZhLGhkLGdkLGl0LGhhLGdhLGp0PWooKCk9PnsidXNlIHN0cmljdCI7JGUoKTtqZSgpO3ZlKCk7ZmQ9ZT0+e2lmKCFlfHxlLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCJUcmFuc3Bvc2UgcmVxdWlyZXMgMSBpbnB1dC4iKX0sZmE9KGUsdCk9PnQmJnQubGVuZ3RoIT09ZT9bLi4ubmV3IEFycmF5KGUpLmtleXMoKV0ucmV2ZXJzZSgpOnQsaGQ9KGUsdCk9PlUuc29ydEJhc2VkT25QZXJtKGUsZmEoZS5sZW5ndGgsdCkpLGdkPShlLHQscixvKT0+e2xldCBuPVtdO24ucHVzaChgZm4gcGVybShpOiAke28udHlwZS5pbmRpY2VzfSkgLT4gJHtyLnR5cGUuaW5kaWNlc30ge1xuICAgIHZhciBhOiAke3IudHlwZS5pbmRpY2VzfTtgKTtmb3IobGV0IHM9MDtzPHQ7KytzKW4ucHVzaChyLmluZGljZXNTZXQoImEiLGVbc10sYGlbJHtzfV1gKSk7cmV0dXJuIG4ucHVzaCgicmV0dXJuIGE7fSIpLG4uam9pbihgXG5gKX0saXQ9KGUsdCk9PntsZXQgcj1lLmRhdGFUeXBlLG89ZS5kaW1zLmxlbmd0aCxuPWZhKG8sdCkscz1SZShvKSx1PWhkKGUuZGltcyxuKSxsPXM/dS5sZW5ndGg6dSxhPXM/bzplLmRpbXMscD1GKCJvdXRwdXQiLHIsbCksaD1NKCJhIixyLGEpLGc9Yj0+YFxuICAke2IucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRfc2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMoaCxwKX1cblxuICAke2dkKG4sbyxoLHApfVxuXG4gICR7Yi5tYWluU3RhcnQoKX1cbiAgICAke2IuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0X3NpemUiKX1cblxuICAgIGxldCBpbmRpY2VzID0gJHtwLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcbiAgICBsZXQgYUluZGljZXMgPSBwZXJtKGluZGljZXMpO1xuXG4gICAgJHtwLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IixoLmdldEJ5SW5kaWNlcygiYUluZGljZXMiKSl9XG4gIH1gO3JldHVybntuYW1lOiJUcmFuc3Bvc2UiLHNoYWRlckNhY2hlOntoaW50OmAke3R9YCxpbnB1dERlcGVuZGVuY2llczpzP1sicmFuayJdOlsiZGltcyJdfSxnZXRSdW5EYXRhOmI9PntsZXQgdz1VLnNpemUodSk7cmV0dXJue291dHB1dHM6W3tkaW1zOnUsZGF0YVR5cGU6YlswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKHcvNjQpfSxwcm9ncmFtVW5pZm9ybXM6cz9be3R5cGU6InVpbnQzMiIsZGF0YTp3fSwuLi5MKGJbMF0uZGltcyksLi4uTCh1KV06W3t0eXBlOiJ1aW50MzIiLGRhdGE6d31dfX0sZ2V0U2hhZGVyU291cmNlOmd9fSxoYT0oZSx0KT0+e2ZkKGUuaW5wdXRzKSxlLmNvbXB1dGUoaXQoZS5pbnB1dHNbMF0sdC5wZXJtKSl9LGdhPWU9PmdlKHtwZXJtOmUucGVybX0pfSk7dmFyIHlkLGJkLHdkLHZkLCRkLFNkLHhkLF9kLENkLElkLGN0LHlhLGJhLHdhLHZhLCRhLFNhLHhhLF9hLENhLElhLEFhPWooKCk9PnsidXNlIHN0cmljdCI7JGUoKTt2ZSgpO2pyKCk7anQoKTt5ZD17bWF4OiJzZWxlY3QoYmVzdFZhbHVlLCBjYW5kaWRhdGUsIGNhbmRpZGF0ZSA+IGJlc3RWYWx1ZSkiLG1pbjoic2VsZWN0KGJlc3RWYWx1ZSwgY2FuZGlkYXRlLCBjYW5kaWRhdGUgPCBiZXN0VmFsdWUpIixtZWFuOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUiLHN1bToiYmVzdFZhbHVlICsgY2FuZGlkYXRlIixwcm9kOiJiZXN0VmFsdWUgKiBjYW5kaWRhdGUiLHN1bVNxdWFyZToiYmVzdFZhbHVlICsgY2FuZGlkYXRlICogY2FuZGlkYXRlIixsb2dTdW1FeHA6ImJlc3RWYWx1ZSArIGV4cChjYW5kaWRhdGUpIixsMToiYmVzdFZhbHVlICsgYWJzKGNhbmRpZGF0ZSkiLGwyOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUgKiBjYW5kaWRhdGUiLGxvZ1N1bToiYmVzdFZhbHVlICsgY2FuZGlkYXRlIn0sYmQ9e21heDoic2VsZWN0KGJlc3RWYWx1ZSwgY2FuZGlkYXRlLCBjYW5kaWRhdGUgPiBiZXN0VmFsdWUpIixtaW46InNlbGVjdChiZXN0VmFsdWUsIGNhbmRpZGF0ZSwgY2FuZGlkYXRlIDwgYmVzdFZhbHVlKSIsbWVhbjoiYmVzdFZhbHVlICsgY2FuZGlkYXRlIixzdW06ImJlc3RWYWx1ZSArIGNhbmRpZGF0ZSIscHJvZDoiYmVzdFZhbHVlICogY2FuZGlkYXRlIixzdW1TcXVhcmU6ImJlc3RWYWx1ZSArIGNhbmRpZGF0ZSIsbG9nU3VtRXhwOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUiLGwxOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUiLGwyOiJiZXN0VmFsdWUgKyBjYW5kaWRhdGUiLGxvZ1N1bToiYmVzdFZhbHVlICsgY2FuZGlkYXRlIn0sd2Q9e21heDoiX0Fbb2Zmc2V0XSIsbWluOiJfQVtvZmZzZXRdIixtZWFuOiIwIixzdW06IjAiLHByb2Q6IjEiLHN1bVNxdWFyZToiMCIsbG9nU3VtRXhwOiIwIixsMToiMCIsbDI6IjAiLGxvZ1N1bToiMCJ9LHZkPXttYXg6ImJlc3RWYWx1ZSIsbWluOiJiZXN0VmFsdWUiLHN1bToiYmVzdFZhbHVlIixwcm9kOiJiZXN0VmFsdWUiLHN1bVNxdWFyZToiYmVzdFZhbHVlIixsb2dTdW1FeHA6ImxvZyhiZXN0VmFsdWUpIixsMToiYmVzdFZhbHVlIixsMjoic3FydChiZXN0VmFsdWUpIixsb2dTdW06ImxvZyhiZXN0VmFsdWUpIn0sJGQ9KGUsdCk9PntsZXQgcj1bXTtmb3IobGV0IG89dC1lO288dDsrK28pci5wdXNoKG8pO3JldHVybiByfSxTZD0oZSx0KT0+e2xldCByPVtdLG89ZS5sZW5ndGg7Zm9yKGxldCBzPTA7czxvO3MrKyl0LmluZGV4T2Yocyk9PT0tMSYmci5wdXNoKGVbc10pO2xldCBuPXQubWFwKHM9PmVbc10pO3JldHVybltyLG5dfSx4ZD0oZSx0KT0+e2xldCByPWUubGVuZ3RoK3QubGVuZ3RoLG89W10sbj0wO2ZvcihsZXQgcz0wO3M8cjtzKyspdC5pbmRleE9mKHMpPT09LTE/by5wdXNoKGVbbisrXSk6by5wdXNoKDEpO3JldHVybiBvfSxfZD0oZSx0KT0+e2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7KytyKWlmKGVbZS5sZW5ndGgtci0xXSE9PXQtMS1yKXJldHVybiExO3JldHVybiEwfSxDZD0oZSx0KT0+e2xldCByPVtdO2lmKCFfZChlLHQpKXtmb3IobGV0IG89MDtvPHQ7KytvKWUuaW5kZXhPZihvKT09PS0xJiZyLnB1c2gobyk7ZS5mb3JFYWNoKG89PnIucHVzaChvKSl9cmV0dXJuIHJ9LElkPShlLHQscixvLG4scyx1KT0+e2xldCBsPXJbMF0uZGltcyxhPVUuc2l6ZShzKSxwPVUuc2l6ZSh1KSxoPU0oIl9BIixyWzBdLmRhdGFUeXBlLGwpLGc9Rigib3V0cHV0IixuLHMpLGI9MzIsdz1gXG4gICAgICAgICAgdmFyPHdvcmtncm91cD4gYUJlc3RWYWx1ZXMgOiBhcnJheTwke2cudHlwZS5zdG9yYWdlfSwgJHtifT47XG4gICAgICAgYDtyZXR1cm57bmFtZTplLHNoYWRlckNhY2hlOnQsZ2V0U2hhZGVyU291cmNlOl89PmBcbiAgICAgICAgJHtfLnJlZ2lzdGVyVW5pZm9ybSgicmVkdWNlU2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMoaCxnKX1cbiAgICAgICAgJHt3fVxuICAgICAgICBmbiBESVZfQ0VJTChhIDogdTMyLCBiIDogdTMyKSAtPiB1MzIge1xuICAgICAgICAgIHJldHVybiAoKGEgLSAxdSkgLyBiICsgMXUpO1xuICAgICAgICAgfVxuICAgICAgICAgJHtfLm1haW5TdGFydChiKX1cblxuICAgICAgICAgIGxldCBvdXRwdXRJbmRleCA9IGdsb2JhbF9pZHggLyAke2J9O1xuICAgICAgICAgIGxldCBvZmZzZXQgPSBvdXRwdXRJbmRleCAqIHVuaWZvcm1zLnJlZHVjZVNpemU7XG5cbiAgICAgICAgICB2YXIgYmVzdFZhbHVlID0gJHtnLnR5cGUuc3RvcmFnZX0oJHt3ZFtvXX0pO1xuICAgICAgICAgIGxldCBMZW5ndGggPSB1bmlmb3Jtcy5yZWR1Y2VTaXplO1xuICAgICAgICAgIGZvciAodmFyIGsgPSBsb2NhbF9pZHg7IGsgPCBMZW5ndGg7IGsgPSBrICsgJHtifSkge1xuICAgICAgICAgICBsZXQgY2FuZGlkYXRlID0gJHtnLnR5cGUuc3RvcmFnZX0oJHtoLmdldEJ5T2Zmc2V0KCJvZmZzZXQgKyBrIil9KTtcbiAgICAgICAgICAgYmVzdFZhbHVlID0gJHt5ZFtvXX07XG4gICAgICAgICAgfVxuICAgICAgICAgIGFCZXN0VmFsdWVzW2xvY2FsX2lkeF0gPSBiZXN0VmFsdWU7XG4gICAgICAgICAgd29ya2dyb3VwQmFycmllcigpO1xuXG4gICAgICAgICB2YXIgcmVkdWNlU2l6ZSA9IG1pbihMZW5ndGgsICR7Yn11KTtcbiAgICAgICAgIGZvciAodmFyIGN1cnJlbnRTaXplID0gcmVkdWNlU2l6ZSAvIDJ1OyByZWR1Y2VTaXplID4gMXU7XG4gICAgICAgICAgICAgY3VycmVudFNpemUgPSByZWR1Y2VTaXplIC8gMnUpIHtcbiAgICAgICAgICAgbGV0IGludGVydmFsID0gRElWX0NFSUwocmVkdWNlU2l6ZSwgMnUpO1xuICAgICAgICAgICBpZiAobG9jYWxfaWR4IDwgY3VycmVudFNpemUpIHtcbiAgICAgICAgICAgIGxldCBjYW5kaWRhdGUgPSBhQmVzdFZhbHVlc1tsb2NhbF9pZHggKyBpbnRlcnZhbF07XG4gICAgICAgICAgICBiZXN0VmFsdWUgPSAke2JkW29dfTtcbiAgICAgICAgICAgIGFCZXN0VmFsdWVzW2xvY2FsX2lkeF0gPSBiZXN0VmFsdWU7XG4gICAgICAgICAgIH1cbiAgICAgICAgICAgcmVkdWNlU2l6ZSA9IGludGVydmFsO1xuICAgICAgICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG4gICAgICAgICB9XG5cbiAgICAgICAgIGlmIChsb2NhbF9pZHggPT0gMHUpIHtcbiAgICAgICAgICAke2cuc2V0QnlPZmZzZXQoIm91dHB1dEluZGV4IixgJHtvPT09Im1lYW4iP2BiZXN0VmFsdWUgLyAke2cudHlwZS5zdG9yYWdlfSh1bmlmb3Jtcy5yZWR1Y2VTaXplKWA6YCR7dmRbb119YH1gKX07XG4gICAgICAgICB9XG4gICAgICAgIH1gLGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cyxkYXRhVHlwZTpufV0sZGlzcGF0Y2hHcm91cDp7eDphfSxwcm9ncmFtVW5pZm9ybXM6W3t0eXBlOiJ1aW50MzIiLGRhdGE6cH1dfSl9fSxjdD0oZSx0LHIsbyk9PntsZXQgbj1lLmlucHV0cy5sZW5ndGg9PT0xP3I6TW4oZS5pbnB1dHMscikscz1uLmF4ZXM7cy5sZW5ndGg9PT0wJiYhbi5ub29wV2l0aEVtcHR5QXhlcyYmKHM9ZS5pbnB1dHNbMF0uZGltcy5tYXAoKHcseSk9PnkpKTtsZXQgdT1VLm5vcm1hbGl6ZUF4ZXMocyxlLmlucHV0c1swXS5kaW1zLmxlbmd0aCksbD11LGE9ZS5pbnB1dHNbMF0scD1DZChsLGUuaW5wdXRzWzBdLmRpbXMubGVuZ3RoKTtwLmxlbmd0aD4wJiYoYT1lLmNvbXB1dGUoaXQoZS5pbnB1dHNbMF0scCkse2lucHV0czpbMF0sb3V0cHV0czpbLTFdfSlbMF0sbD0kZChsLmxlbmd0aCxhLmRpbXMubGVuZ3RoKSk7bGV0W2gsZ109U2QoYS5kaW1zLGwpLGI9aDtuLmtlZXBEaW1zJiYoYj14ZChoLHUpKSxlLmNvbXB1dGUoSWQodCx7aGludDpuLmNhY2hlS2V5LGlucHV0RGVwZW5kZW5jaWVzOlsidHlwZSJdfSxbYV0sbyxlLmlucHV0c1swXS5kYXRhVHlwZSxiLGcpLHtpbnB1dHM6W2FdfSl9LHlhPShlLHQpPT57Y3QoZSwiUmVkdWNlTWVhblNoYXJlZCIsdCwibWVhbiIpfSxiYT0oZSx0KT0+e2N0KGUsIlJlZHVjZUwxU2hhcmVkIix0LCJsMSIpfSx3YT0oZSx0KT0+e2N0KGUsIlJlZHVjZUwyU2hhcmVkIix0LCJsMiIpfSx2YT0oZSx0KT0+e2N0KGUsIlJlZHVjZUxvZ1N1bUV4cFNoYXJlZCIsdCwibG9nU3VtRXhwIil9LCRhPShlLHQpPT57Y3QoZSwiUmVkdWNlTWF4U2hhcmVkIix0LCJtYXgiKX0sU2E9KGUsdCk9PntjdChlLCJSZWR1Y2VNaW5TaGFyZWQiLHQsIm1pbiIpfSx4YT0oZSx0KT0+e2N0KGUsIlJlZHVjZVByb2RTaGFyZWQiLHQsInByb2QiKX0sX2E9KGUsdCk9PntjdChlLCJSZWR1Y2VTdW1TaGFyZWQiLHQsInN1bSIpfSxDYT0oZSx0KT0+e2N0KGUsIlJlZHVjZVN1bVNxdWFyZVNoYXJlZCIsdCwic3VtU3F1YXJlIil9LElhPShlLHQpPT57Y3QoZSwiUmVkdWNlTG9nU3VtU2hhcmVkIix0LCJsb2dTdW0iKX19KTt2YXIgcHQsQWQscXIsTW4sbXQsVGQsRWQsT2QsUGQsa2QsUmQsQmQsRGQsTWQsemQsZnQsVGEsRWEsT2EsUGEsa2EsUmEsQmEsRGEsTWEsemEsanI9aigoKT0+eyJ1c2Ugc3RyaWN0IjskZSgpO2plKCk7dmUoKTtBYSgpO3B0PWU9PntpZighZXx8ZS5sZW5ndGg9PT0wfHxlLmxlbmd0aD4yKXRocm93IG5ldyBFcnJvcigiUmVkdWNlIG9wIHJlcXVpcmVzIDEgb3IgMiBpbnB1dHMuIik7aWYoZS5sZW5ndGg9PT0yJiZlWzFdLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgYXhlcyBpbnB1dCBkaW1zLiIpfSxBZD1lPT5bIiIsIiIsYHZhciB2YWx1ZSA9ICR7ZS5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07YCwiIl0scXI9KGUsdCxyLG8sbixzLHU9ITEsbD0hMSk9PntsZXQgYT1bXSxwPXJbMF0uZGltcyxoPXAubGVuZ3RoLGc9VS5ub3JtYWxpemVBeGVzKG4saCksYj0hbCYmZy5sZW5ndGg9PT0wO3AuZm9yRWFjaCgoSSwkKT0+e2J8fGcuaW5kZXhPZigkKT49MD91JiZhLnB1c2goMSk6YS5wdXNoKEkpfSk7bGV0IHc9YS5sZW5ndGgseT1VLnNpemUoYSk7cmV0dXJue25hbWU6ZSxzaGFkZXJDYWNoZTp0LGdldFNoYWRlclNvdXJjZTpJPT57bGV0ICQ9W10seD1NKCJfQSIsclswXS5kYXRhVHlwZSxoKSxFPUYoIm91dHB1dCIscyx3KSxBPW8oeCxFLGcpLHo9QVsyXTtmb3IobGV0IFI9MCxWPTA7UjxoO1IrKylifHxnLmluZGV4T2YoUik+PTA/KHUmJlYrKyx6PWBmb3IodmFyIGoke1J9OiB1MzIgPSAwOyBqJHtSfSA8ICR7cFtSXX07IGoke1J9KyspIHtcbiAgICAgICAgICAgICAgICAgICR7QVsyXS5pbmNsdWRlcygibGFzdF9pbmRleCIpP2BsZXQgbGFzdF9pbmRleCA9IGoke1J9O2A6IiJ9XG4gICAgICAgICAgICAgICAgICAke3guaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIsUixgaiR7Un1gKX1cbiAgICAgICAgICAgICAgICAgICR7en1cbiAgICAgICAgICAgICAgICB9YCk6KCQucHVzaChgJHt4LmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLFIsRS5pbmRpY2VzR2V0KCJvdXRwdXRfaW5kaWNlcyIsVikpfTtgKSxWKyspO3JldHVybmBcblxuICAgICAgICAke0kucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRfc2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMoeCxFKX1cblxuICAgICAgICAke0kubWFpblN0YXJ0KCl9XG4gICAgICAgICAgJHtJLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dF9zaXplIil9XG4gICAgICAgICAgdmFyIGlucHV0X2luZGljZXM6ICR7eC50eXBlLmluZGljZXN9O1xuICAgICAgICAgIGxldCBvdXRwdXRfaW5kaWNlcyA9ICR7RS5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07XG5cbiAgICAgICAgICAkeyQuam9pbihgXG5gKX1cbiAgICAgICAgICAke0FbMF19ICAgICAgIC8vIGluaXQgb3BzIGZvciByZWR1Y2UgbWF4L21pblxuICAgICAgICAgICR7QVsxXX1cbiAgICAgICAgICAke3p9XG4gICAgICAgICAgJHtBWzNdfVxuICAgICAgICAgICR7QS5sZW5ndGg9PT00P0Uuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJ2YWx1ZSIpOkEuc2xpY2UoNCkuam9pbihgXG5gKX1cbiAgICAgICAgfWB9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6YSxkYXRhVHlwZTpzfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoeS82NCl9LHByb2dyYW1Vbmlmb3Jtczpbe3R5cGU6InVpbnQzMiIsZGF0YTp5fSwuLi5MKHApLC4uLkwoYSldfSl9fSxNbj0oZSx0KT0+e2xldCByPVtdO3JldHVybiBlWzFdLmRpbXNbMF0+MCYmZVsxXS5nZXRCaWdJbnQ2NEFycmF5KCkuZm9yRWFjaChvPT5yLnB1c2goTnVtYmVyKG8pKSksZ2Uoe2F4ZXM6cixrZWVwRGltczp0LmtlZXBEaW1zLG5vb3BXaXRoRW1wdHlBeGVzOnQubm9vcFdpdGhFbXB0eUF4ZXN9KX0sbXQ9KGUsdCxyLG8pPT57bGV0IG49ZS5pbnB1dHMscz1uLmxlbmd0aD09PTE/cjpNbihuLHIpO2UuY29tcHV0ZShxcih0LHtoaW50OnMuY2FjaGVLZXksaW5wdXREZXBlbmRlbmNpZXM6WyJyYW5rIl19LFtuWzBdXSxzLm5vb3BXaXRoRW1wdHlBeGVzJiZzLmF4ZXMubGVuZ3RoPT09MD9BZDpvLHMuYXhlcyxuWzBdLmRhdGFUeXBlLHMua2VlcERpbXMscy5ub29wV2l0aEVtcHR5QXhlcykse2lucHV0czpbMF19KX0sVGQ9KGUsdCk9PntwdChlLmlucHV0cyksbXQoZSwiUmVkdWNlTG9nU3VtIix0LChvLG4pPT5bYHZhciB2YWx1ZSA9ICR7bi50eXBlLnN0b3JhZ2V9KDApO2AsIiIsYHZhbHVlICs9ICR7by5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07YCwidmFsdWUgPSBsb2codmFsdWUpOyJdKX0sRWQ9KGUsdCk9PntwdChlLmlucHV0cyksbXQoZSwiUmVkdWNlTDEiLHQsKG8sbik9PltgdmFyIHZhbHVlID0gJHtuLnR5cGUuc3RvcmFnZX0oMCk7YCwiIixgdmFsdWUgKz0gYWJzKCR7by5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX0pO2AsIiJdKX0sT2Q9KGUsdCk9PntwdChlLmlucHV0cyksbXQoZSwiUmVkdWNlTDIiLHQsKG8sbik9PltgdmFyIHQgPSAke24udHlwZS52YWx1ZX0oMCk7IHZhciB2YWx1ZSA9ICR7bi50eXBlLnZhbHVlfSgwKTtgLCIiLGB0ID0gJHtvLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTsgdmFsdWUgKz0gKHQgKiB0KTtgLCJ2YWx1ZSA9IHNxcnQodmFsdWUpOyJdKX0sUGQ9KGUsdCk9PntwdChlLmlucHV0cyksbXQoZSwiUmVkdWNlTG9nU3VtRXhwIix0LChvLG4pPT5bYHZhciB2YWx1ZSA9ICR7bi50eXBlLnN0b3JhZ2V9KDApO2AsIiIsYHZhbHVlICs9IGV4cCgke28uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9KTtgLCJ2YWx1ZSA9IGxvZyh2YWx1ZSk7Il0pfSxrZD0oZSx0KT0+e3B0KGUuaW5wdXRzKSxtdChlLCJSZWR1Y2VNYXgiLHQsKG8sbixzKT0+e2xldCB1PVtdO2ZvcihsZXQgbD0wO2w8by5yYW5rO2wrKykocy5pbmRleE9mKGwpPj0wfHxzLmxlbmd0aD09PTApJiZ1LnB1c2goby5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIixsLDApKTtyZXR1cm5bYCR7dS5qb2luKGBcbmApfWAsYHZhciB2YWx1ZSA9ICR7by5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07YCxgdmFsdWUgPSBtYXgodmFsdWUsICR7by5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX0pO2AsIiJdfSl9LFJkPShlLHQpPT57cHQoZS5pbnB1dHMpLG10KGUsIlJlZHVjZU1lYW4iLHQsKG8sbixzKT0+e2xldCB1PTE7Zm9yKGxldCBsPTA7bDxvLnJhbms7bCsrKShzLmluZGV4T2YobCk+PTB8fHMubGVuZ3RoPT09MCkmJih1Kj1lLmlucHV0c1swXS5kaW1zW2xdKTtyZXR1cm5bInZhciBzdW0gPSBmMzIoMCk7IiwiIixgc3VtICs9IGYzMigke28uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9KTtgLGBsZXQgdmFsdWUgPSAke24udHlwZS52YWx1ZX0oc3VtIC8gJHt1fSk7YF19KX0sQmQ9KGUsdCk9PntwdChlLmlucHV0cyksbXQoZSwiUmVkdWNlTWluIix0LChvLG4scyk9PntsZXQgdT1bXTtmb3IobGV0IGw9MDtsPG8ucmFuaztsKyspKHMuaW5kZXhPZihsKT49MHx8cy5sZW5ndGg9PT0wKSYmdS5wdXNoKGBpbnB1dF9pbmRpY2VzWyR7bH1dID0gMDtgKTtyZXR1cm5bYCR7dS5qb2luKGBcbmApfWAsYHZhciB2YWx1ZSA9ICR7by5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07YCxgdmFsdWUgPSBtaW4odmFsdWUsICR7by5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX0pO2AsIiJdfSl9LERkPShlLHQpPT57cHQoZS5pbnB1dHMpLG10KGUsIlJlZHVjZVByb2QiLHQsKG8sbik9PltgdmFyIHZhbHVlID0gJHtuLnR5cGUuc3RvcmFnZX0oMSk7YCwiIixgdmFsdWUgKj0gJHtvLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTtgLCIiXSl9LE1kPShlLHQpPT57cHQoZS5pbnB1dHMpLG10KGUsIlJlZHVjZVN1bSIsdCwobyxuKT0+W2B2YXIgdmFsdWUgPSAke24udHlwZS5zdG9yYWdlfSgwKTtgLCIiLGB2YWx1ZSArPSAke28uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9O2AsIiJdKX0semQ9KGUsdCk9PntwdChlLmlucHV0cyksbXQoZSwiUmVkdWNlU3VtU3F1YXJlIix0LChvLG4pPT5bYHZhciB0ID0gJHtuLnR5cGUudmFsdWV9KDApOyB2YXIgdmFsdWUgPSAke24udHlwZS52YWx1ZX0oMCk7YCwiIixgdCA9ICR7by5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07IHZhbHVlICs9IHQgKiB0O2AsIiJdKX0sZnQ9KGUsdCxyKT0+e2lmKHQubGVuZ3RoPT09MClyZXR1cm4gcjtsZXQgbz0xLG49MTtmb3IobGV0IHM9MDtzPHQubGVuZ3RoO3MrKyl0LmluZGV4T2Yocyk9PT0tMT9vKj1lW3NdOm4qPWVbc107cmV0dXJuIG48MzImJm8+MTAyNH0sVGE9KGUsdCk9PntmdChlLmlucHV0c1swXS5kaW1zLHQuYXhlcyx0Lm5vb3BXaXRoRW1wdHlBeGVzKT9SZChlLHQpOnlhKGUsdCl9LEVhPShlLHQpPT57ZnQoZS5pbnB1dHNbMF0uZGltcyx0LmF4ZXMsdC5ub29wV2l0aEVtcHR5QXhlcyk/RWQoZSx0KTpiYShlLHQpfSxPYT0oZSx0KT0+e2Z0KGUuaW5wdXRzWzBdLmRpbXMsdC5heGVzLHQubm9vcFdpdGhFbXB0eUF4ZXMpP09kKGUsdCk6d2EoZSx0KX0sUGE9KGUsdCk9PntmdChlLmlucHV0c1swXS5kaW1zLHQuYXhlcyx0Lm5vb3BXaXRoRW1wdHlBeGVzKT9QZChlLHQpOnZhKGUsdCl9LGthPShlLHQpPT57ZnQoZS5pbnB1dHNbMF0uZGltcyx0LmF4ZXMsdC5ub29wV2l0aEVtcHR5QXhlcyk/a2QoZSx0KTokYShlLHQpfSxSYT0oZSx0KT0+e2Z0KGUuaW5wdXRzWzBdLmRpbXMsdC5heGVzLHQubm9vcFdpdGhFbXB0eUF4ZXMpP0JkKGUsdCk6U2EoZSx0KX0sQmE9KGUsdCk9PntmdChlLmlucHV0c1swXS5kaW1zLHQuYXhlcyx0Lm5vb3BXaXRoRW1wdHlBeGVzKT9EZChlLHQpOnhhKGUsdCl9LERhPShlLHQpPT57ZnQoZS5pbnB1dHNbMF0uZGltcyx0LmF4ZXMsdC5ub29wV2l0aEVtcHR5QXhlcyk/TWQoZSx0KTpfYShlLHQpfSxNYT0oZSx0KT0+e2Z0KGUuaW5wdXRzWzBdLmRpbXMsdC5heGVzLHQubm9vcFdpdGhFbXB0eUF4ZXMpP3pkKGUsdCk6Q2EoZSx0KX0semE9KGUsdCk9PntmdChlLmlucHV0c1swXS5kaW1zLHQuYXhlcyx0Lm5vb3BXaXRoRW1wdHlBeGVzKT9UZChlLHQpOklhKGUsdCl9fSk7dmFyIFVhLFZhLE5hLHpuLFdhPWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTtqZSgpO2pyKCk7VWE9ZT0+e2lmKCFlfHxlLmxlbmd0aD09PTB8fGUubGVuZ3RoPjIpdGhyb3cgbmV3IEVycm9yKCJBcmdNaW5NYXhPcCBvcCByZXF1aXJlcyAxIG9yIDIgaW5wdXRzLiIpO2lmKGVbMF0uZGF0YVR5cGUhPT0xKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCB0eXBlLiIpfSxWYT0oZSx0KT0+e1VhKGUuaW5wdXRzKTtsZXQgcj0obyxuLHMpPT57bGV0IHU9W107Zm9yKGxldCBsPTA7bDxvLnJhbms7bCsrKShzLmluZGV4T2YobCk+PTB8fHMubGVuZ3RoPT09MCkmJnUucHVzaChgaW5wdXRfaW5kaWNlc1ske2x9XSA9IDA7YCk7cmV0dXJuW2Ake3Uuam9pbihgXG5gKX1gLGB2YXIgdmFsdWUgPSAke28uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9O1xudmFyIGJlc3RfaW5kZXggOiBpMzIgPSAwO2AsYGlmICgke28uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9ICR7dC5zZWxlY3RMYXN0SW5kZXg+MD8iPD0iOiI8In0gdmFsdWUpIHtcbiAgICAgICAgIHZhbHVlID0gJHtvLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTtcbiAgICAgICAgIGJlc3RfaW5kZXggPSBpMzIobGFzdF9pbmRleCk7XG4gICAgICAgfWAsIiIsbi5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsImJlc3RfaW5kZXgiKV19O2UuY29tcHV0ZShxcigiQXJnTWluIix7aGludDp0LmNhY2hlS2V5LGlucHV0RGVwZW5kZW5jaWVzOlsicmFuayJdfSxbZS5pbnB1dHNbMF1dLHIsW3QuYXhpc10sNyx0LmtlZXBEaW1zKSx7aW5wdXRzOlswXX0pfSxOYT0oZSx0KT0+e1VhKGUuaW5wdXRzKTtsZXQgcj0obyxuLHMpPT57bGV0IHU9W107Zm9yKGxldCBsPTA7bDxvLnJhbms7bCsrKShzLmluZGV4T2YobCk+PTB8fHMubGVuZ3RoPT09MCkmJnUucHVzaChgaW5wdXRfaW5kaWNlc1ske2x9XSA9IDA7YCk7cmV0dXJuW2Ake3Uuam9pbihgXG5gKX1gLGB2YXIgdmFsdWUgPSAke28uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9O1xudmFyIGJlc3RfaW5kZXggOiBpMzIgPSAwO2AsYGlmICgke28uZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9ICR7dC5zZWxlY3RMYXN0SW5kZXg+MD8iPj0iOiI+In0gdmFsdWUpIHtcbiAgICAgICAgIHZhbHVlID0gJHtvLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpfTtcbiAgICAgICAgIGJlc3RfaW5kZXggPSBpMzIobGFzdF9pbmRleCk7XG4gICAgICAgfWAsIiIsbi5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsImJlc3RfaW5kZXgiKV19O2UuY29tcHV0ZShxcigiYXJnTWF4Iix7aGludDp0LmNhY2hlS2V5LGlucHV0RGVwZW5kZW5jaWVzOlsicmFuayJdfSxbZS5pbnB1dHNbMF1dLHIsW3QuYXhpc10sNyx0LmtlZXBEaW1zKSx7aW5wdXRzOlswXX0pfSx6bj1lPT5nZShlKX0pO3ZhciBVZCxWZCxOZCxXZCxLcixIZCxIYSxVbj1qKCgpPT57InVzZSBzdHJpY3QiO05lKCk7TnIoKTt2ZSgpO1VkPShlLHQpPT57bGV0IHI9ZVswXSxvPWVbMV0sbj1lWzJdLHM9ZVszXSx1PWVbNF0sbD1lWzVdO2lmKHUmJmwpdGhyb3cgbmV3IEVycm9yKCJBdHRlbnRpb24gY2Fubm90IGhhdmUgYm90aCBwYXN0IGFuZCByZWxhdGl2ZV9wb3NpdGlvbl9iaWFzIik7aWYoci5kaW1zLmxlbmd0aCE9PTMpdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgImlucHV0IiBtdXN0IGhhdmUgMyBkaW1lbnNpb25zXCcpO2xldCBhPXIuZGltc1swXSxwPXIuZGltc1sxXSxoPXIuZGltc1syXTtpZihuLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAiYmlhcyIgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAxIGRpbWVuc2lvbnNcJyk7aWYoby5kaW1zLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgIndlaWdodHMiIGlzIGV4cGVjdGVkIHRvIGhhdmUgMiBkaW1lbnNpb25zXCcpO2lmKG8uZGltc1swXSE9PWgpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCAxIGRpbWVuc2lvbiAwIHNob3VsZCBoYXZlIHNhbWUgbGVuZ3RoIGFzIGRpbWVuc2lvbiAyIG9mIGlucHV0IDAiKTtpZihuLmRpbXNbMF0hPT1vLmRpbXNbMV0pdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgImJpYXMiIGRpbWVuc2lvbiAwIHNob3VsZCBoYXZlIHNhbWUgbGVuZ3RoIGFzIGRpbWVuc2lvbiAxIG9mIGlucHV0ICJ3ZWlnaHRzIlwnKTtsZXQgZz1uLmRpbXNbMF0vMyxiPWcsdz1iO2lmKHQucWt2SGlkZGVuU2l6ZXMubGVuZ3RoPjApe2lmKHQucWt2SGlkZGVuU2l6ZXMubGVuZ3RoIT09Myl0aHJvdyBuZXcgRXJyb3IoInFrdl9oaWRkZW5fc2l6ZXMgYXR0cmlidXRlIHNob3VsZCBoYXZlIDMgZWxlbWVudHMiKTtmb3IobGV0IEUgb2YgdC5xa3ZIaWRkZW5TaXplcylpZihFJXQubnVtSGVhZHMhPT0wKXRocm93IG5ldyBFcnJvcigicWt2X2hpZGRlbl9zaXplcyBzaG91bGQgYmUgZGl2aXNpYmxlIGJ5IG51bV9oZWFkcyIpO2c9dC5xa3ZIaWRkZW5TaXplc1swXSxiPXQucWt2SGlkZGVuU2l6ZXNbMV0sdz10LnFrdkhpZGRlblNpemVzWzJdfWxldCB5PXA7aWYoZyE9PWIpdGhyb3cgbmV3IEVycm9yKCJxa3ZfaGlkZGVuX3NpemVzIGZpcnN0IGVsZW1lbnQgc2hvdWxkIGJlIHNhbWUgYXMgdGhlIHNlY29uZCIpO2lmKG4uZGltc1swXSE9PWcrYit3KXRocm93IG5ldyBFcnJvcihcJ0lucHV0ICJiaWFzIiBkaW1lbnNpb24gMCBzaG91bGQgaGF2ZSBzYW1lIGxlbmd0aCBhcyBzdW0gb2YgUS9LL1YgaGlkZGVuIHNpemVzXCcpO2xldCBfPTA7aWYodSl7aWYoYiE9PXcpdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgInBhc3QiIGV4cGVjdCBrX2hpZGRlbl9zaXplID09IHZfaGlkZGVuX3NpemVcJyk7aWYodS5kaW1zLmxlbmd0aCE9PTUpdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgInBhc3QiIG11c3QgaGF2ZSA1IGRpbWVuc2lvbnNcJyk7aWYodS5kaW1zWzBdIT09Mil0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAicGFzdCIgZmlyc3QgZGltZW5zaW9uIG11c3QgYmUgMlwnKTtpZih1LmRpbXNbMV0hPT1hKXRocm93IG5ldyBFcnJvcihcJ0lucHV0ICJwYXN0IiBzZWNvbmQgZGltZW5zaW9uIG11c3QgYmUgYmF0Y2hfc2l6ZVwnKTtpZih1LmRpbXNbMl0hPT10Lm51bUhlYWRzKXRocm93IG5ldyBFcnJvcihcJ0lucHV0ICJwYXN0IiB0aGlyZCBkaW1lbnNpb24gbXVzdCBiZSBudW1faGVhZHNcJyk7aWYodS5kaW1zWzRdIT09Yi90Lm51bUhlYWRzKXRocm93IG5ldyBFcnJvcihcJ0lucHV0ICJwYXN0IiBmaWZ0aCBkaW1lbnNpb24gbXVzdCBiZSBrX2hpZGRlbl9zaXplIC8gbnVtX2hlYWRzXCcpO3QucGFzdFByZXNlbnRTaGFyZUJ1ZmZlcnx8KF89dS5kaW1zWzNdKX1sZXQgST15K18sJD0tMSx4PTA7aWYocyl0aHJvdyBuZXcgRXJyb3IoIk1hc2sgbm90IHN1cHBvcnRlZCIpO2lmKHUpdGhyb3cgbmV3IEVycm9yKCJwYXN0IGlzIG5vdCBzdXBwb3J0ZWQiKTtpZihsKXRocm93IG5ldyBFcnJvcigicmVsYXRpdmVQb3NpdGlvbkJpYXMgaXMgbm90IHN1cHBvcnRlZCIpO3JldHVybntiYXRjaFNpemU6YSxzZXF1ZW5jZUxlbmd0aDpwLHBhc3RTZXF1ZW5jZUxlbmd0aDpfLGt2U2VxdWVuY2VMZW5ndGg6eSx0b3RhbFNlcXVlbmNlTGVuZ3RoOkksbWF4U2VxdWVuY2VMZW5ndGg6JCxpbnB1dEhpZGRlblNpemU6aCxoaWRkZW5TaXplOmcsdkhpZGRlblNpemU6dyxoZWFkU2l6ZTpNYXRoLmZsb29yKGcvdC5udW1IZWFkcyksdkhlYWRTaXplOk1hdGguZmxvb3Iody90Lm51bUhlYWRzKSxudW1IZWFkczp0Lm51bUhlYWRzLGlzVW5pZGlyZWN0aW9uYWw6ITEscGFzdFByZXNlbnRTaGFyZUJ1ZmZlcjohMSxtYXNrRmlsdGVyVmFsdWU6dC5tYXNrRmlsdGVyVmFsdWUsbWFza1R5cGU6eCxzY2FsZTp0LnNjYWxlLGJyb2FkY2FzdFJlc1Bvc0JpYXM6ITEscGFzc1Bhc3RJbkt2OiExLHFrdkZvcm1hdDoxfX0sVmQ9KGUsdCxyLG8pPT57bGV0IG49RmUobykscz02NCx1PW8vbjt1PHM/cz0xOnUvODw2NCYmKHM9TWF0aC5jZWlsKHUvOCkpO2xldCBsPU1hdGguY2VpbChvL24vcykscD1be3R5cGU6WGUodC5kYXRhVHlwZSksZGF0YToxL299LHt0eXBlOiJ1aW50MzIiLGRhdGE6dX0se3R5cGU6InVpbnQzMiIsZGF0YTpsfV0saD1MZSh0LmRhdGFUeXBlLG4pLGc9Yj0+e2xldCB3PUYoIngiLHQuZGF0YVR5cGUsdC5kaW1zLG4pLHk9InRocmVhZF9tYXhfdmVjdG9yIjtuPT09Mj95PSJtYXgodGhyZWFkX21heF92ZWN0b3IueCwgdGhyZWFkX21heF92ZWN0b3IueSkiOm49PT00JiYoeT0ibWF4KG1heCh0aHJlYWRfbWF4X3ZlY3Rvci54LCB0aHJlYWRfbWF4X3ZlY3Rvci55KSwgbWF4KHRocmVhZF9tYXhfdmVjdG9yLnosIHRocmVhZF9tYXhfdmVjdG9yLncpKSIpO2xldCBfPWx0KHQuZGF0YVR5cGUpLEk9W3tuYW1lOiJkX2ludiIsdHlwZTpffSx7bmFtZToiZF9jb21wIix0eXBlOiJ1MzIifSx7bmFtZToiZWxlbWVudHNfcGVyX3dnIix0eXBlOiJ1MzIifV07cmV0dXJuYFxuICB2YXI8d29ya2dyb3VwPiB3Z01heDogYXJyYXk8ZjMyLCAke3N9PjtcbiAgdmFyPHdvcmtncm91cD4gd2dTdW06IGFycmF5PGYzMiwgJHtzfT47XG4gICR7Yi5yZWdpc3RlclVuaWZvcm1zKEkpLmRlY2xhcmVWYXJpYWJsZXModyl9XG4gICR7Yi5tYWluU3RhcnQoW3MsMSwxXSl9XG4gICAgbGV0IGxvY2FsT2Zmc2V0ID0gbG9jYWxfaWR4ICogdW5pZm9ybXMuZWxlbWVudHNfcGVyX3dnO1xuICAgIGxldCBvZmZzZXQ6IHUzMiA9IHdvcmtncm91cF9pZC54ICogdW5pZm9ybXMuZF9jb21wICsgbG9jYWxPZmZzZXQ7XG5cbiAgICB2YXIgdGhyZWFkX21heF92ZWN0b3IgPSAke1plKCJmMzIiLG4sIi0zLjQwMjgyM2UrMzhmIil9O1xuICAgIGZvciAodmFyIGk6IHUzMiA9IDA7IGkgPCB1bmlmb3Jtcy5lbGVtZW50c19wZXJfd2cgJiYgaSArIGxvY2FsT2Zmc2V0IDwgdW5pZm9ybXMuZF9jb21wOyBpKyspIHtcbiAgICAgIHRocmVhZF9tYXhfdmVjdG9yID0gbWF4KCR7YXQoXyxuLCJ4W29mZnNldCArIGldIil9LCB0aHJlYWRfbWF4X3ZlY3Rvcik7XG4gICAgfVxuICAgIHdnTWF4W2xvY2FsX2lkeF0gPSAke3l9O1xuICAgIHdvcmtncm91cEJhcnJpZXIoKTtcblxuICAgIHZhciBtYXhWYWx1ZSA9IC0zLjQwMjgyM2UrMzhmO1xuICAgIGZvciAodmFyIGkgPSAwdTsgaSA8ICR7c307IGkrKykge1xuICAgICAgbWF4VmFsdWUgPSBtYXgod2dNYXhbaV0sIG1heFZhbHVlKTtcbiAgICB9XG5cbiAgICB2YXIgc3VtVmVjdG9yID0gJHtaZSgiZjMyIixuLCIwIil9O1xuICAgIGZvciAodmFyIGk6IHUzMiA9IDA7IGkgPCB1bmlmb3Jtcy5lbGVtZW50c19wZXJfd2cgJiYgaSArIGxvY2FsT2Zmc2V0IDwgdW5pZm9ybXMuZF9jb21wOyBpKyspIHtcbiAgICAgIHN1bVZlY3RvciArPSBleHAoJHthdChfLG4sInhbb2Zmc2V0ICsgaV0iKX0gLSBtYXhWYWx1ZSk7XG4gICAgfVxuICAgIHdnU3VtW2xvY2FsX2lkeF0gPSAke0plKCJzdW1WZWN0b3IiLG4pfTtcbiAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG5cbiAgICB2YXIgc3VtOiBmMzIgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwdTsgaSA8ICR7c307IGkrKykge1xuICAgICAgc3VtICs9IHdnU3VtW2ldO1xuICAgIH1cblxuICAgIGlmIChzdW0gPT0gMCkge1xuICAgICAgZm9yICh2YXIgaTogdTMyID0gMDsgaSA8IHVuaWZvcm1zLmVsZW1lbnRzX3Blcl93ZyAmJiBpICsgbG9jYWxPZmZzZXQgPCB1bmlmb3Jtcy5kX2NvbXA7IGkrKykge1xuICAgICAgICB4W29mZnNldCArIGldID0gJHtaZSgiZjMyIixuLCJ1bmlmb3Jtcy5kX2ludiIpfTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaTogdTMyID0gMDsgaSA8IHVuaWZvcm1zLmVsZW1lbnRzX3Blcl93ZyAmJiBpICsgbG9jYWxPZmZzZXQgPCB1bmlmb3Jtcy5kX2NvbXA7IGkrKykge1xuICAgICAgICBsZXQgZjMyaW5wdXQgPSAke2F0KF8sbiwieFtvZmZzZXQgKyBpXSIpfTtcbiAgICAgICAgeFtvZmZzZXQgKyBpXSA9ICR7dy50eXBlLnZhbHVlfShleHAoZjMyaW5wdXQgLSBtYXhWYWx1ZSkgLyBzdW0pO1xuICAgICAgfVxuICAgIH1cbiAgfWB9O2UuY29tcHV0ZSh7bmFtZToiQXR0ZW50aW9uUHJvYnNTb2Z0bWF4IixzaGFkZXJDYWNoZTp7aGludDpgJHtzfTske2h9OyR7bn1gfSxnZXRTaGFkZXJTb3VyY2U6ZyxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W10sZGlzcGF0Y2hHcm91cDp7eDpyfSxwcm9ncmFtVW5pZm9ybXM6cH0pfSx7aW5wdXRzOlt0XSxvdXRwdXRzOltdfSl9LE5kPShlLHQscixvLG4scyk9PntsZXQgdT1bbi5iYXRjaFNpemUsbi5udW1IZWFkcyxuLnNlcXVlbmNlTGVuZ3RoLG4ua3ZTZXF1ZW5jZUxlbmd0aCtuLnBhc3RTZXF1ZW5jZUxlbmd0aF0sbD1zLnNjYWxlPT09MD8xL01hdGguc3FydChuLmhlYWRTaXplKTpzLnNjYWxlLGE9RmUobi5oZWFkU2l6ZSkscD1uLmhlYWRTaXplL2EsaD0xMixnPXt4Ok1hdGguY2VpbChuLnRvdGFsU2VxdWVuY2VMZW5ndGgvaCkseTpNYXRoLmNlaWwobi5zZXF1ZW5jZUxlbmd0aC9oKSx6Om4uYmF0Y2hTaXplKm4ubnVtSGVhZHN9LGI9WGUodC5kYXRhVHlwZSksdz1be3R5cGU6InVpbnQzMiIsZGF0YTpuLnNlcXVlbmNlTGVuZ3RofSx7dHlwZToidWludDMyIixkYXRhOnB9LHt0eXBlOiJ1aW50MzIiLGRhdGE6bi50b3RhbFNlcXVlbmNlTGVuZ3RofSx7dHlwZToidWludDMyIixkYXRhOm4ua3ZTZXF1ZW5jZUxlbmd0aH0se3R5cGU6YixkYXRhOmx9XSx5PVt0LHJdLF89JD0+e2xldCB4PU0oInEiLHQuZGF0YVR5cGUsdC5kaW1zLGEpLEU9TSgia2V5IixyLmRhdGFUeXBlLHIuZGltcyxhKSxBPUYoIm91dHB1dCIsdC5kYXRhVHlwZSx1KSx6PUxlKHQuZGF0YVR5cGUpLFI9W3tuYW1lOiJNIix0eXBlOiJ1MzIifSx7bmFtZToiSyIsdHlwZToidTMyIn0se25hbWU6Ik4iLHR5cGU6InUzMiJ9LHtuYW1lOiJrdl9zZXF1ZW5jZV9sZW5ndGgiLHR5cGU6InUzMiJ9LHtuYW1lOiJhbHBoYSIsdHlwZTp6fV07cmV0dXJuYFxuICBjb25zdCBiZXRhOiAke3p9ID0gMS4wO1xuICBjb25zdCBUSUxFX1NJWkUgPSAke2h9dTtcblxuICB2YXI8d29ya2dyb3VwPiB0aWxlUTogYXJyYXk8JHt4LnR5cGUuc3RvcmFnZX0sICR7aCpofT47XG4gIHZhcjx3b3JrZ3JvdXA+IHRpbGVLOiBhcnJheTwke3gudHlwZS5zdG9yYWdlfSwgJHtoKmh9PjtcbiAgJHskLnJlZ2lzdGVyVW5pZm9ybXMoUikuZGVjbGFyZVZhcmlhYmxlcyh4LEUsQSl9XG4gICR7JC5tYWluU3RhcnQoW2gsaCwxXSl9XG4gICAgLy8geCBob2xkcyB0aGUgTiBhbmQgeSBob2xkcyB0aGUgTVxuICAgIGxldCBoZWFkSWR4ID0gd29ya2dyb3VwX2lkLno7XG4gICAgbGV0IG0gPSB3b3JrZ3JvdXBfaWQueSAqIFRJTEVfU0laRTtcbiAgICBsZXQgbiA9IHdvcmtncm91cF9pZC54ICogVElMRV9TSVpFO1xuICAgIGxldCBsbSA9IG0gKyBsb2NhbF9pZC55O1xuICAgIGxldCBsbiA9IG4gKyBsb2NhbF9pZC54O1xuXG4gICAgbGV0IHFPZmZzZXQgPSB1bmlmb3Jtcy5NICogdW5pZm9ybXMuSyAqIGhlYWRJZHggKyBtICogdW5pZm9ybXMuSztcbiAgICBsZXQga09mZnNldCA9IHVuaWZvcm1zLmt2X3NlcXVlbmNlX2xlbmd0aCAqIHVuaWZvcm1zLksgKiBoZWFkSWR4ICsgbiAqIHVuaWZvcm1zLks7XG5cbiAgICB2YXIgdmFsdWUgPSAke1plKHosYSl9O1xuICAgIGZvciAodmFyIHc6IHUzMiA9IDB1OyB3IDwgdW5pZm9ybXMuSzsgdyArPSBUSUxFX1NJWkUpIHtcbiAgICAgIGlmIChtICsgbG9jYWxfaWQueSA8IHVuaWZvcm1zLk0gJiYgdyArIGxvY2FsX2lkLnggPCB1bmlmb3Jtcy5LKSB7XG4gICAgICAgIHRpbGVRW1RJTEVfU0laRSAqIGxvY2FsX2lkLnkgKyBsb2NhbF9pZC54XSA9IHFbcU9mZnNldCArIGxvY2FsX2lkLnkgKiB1bmlmb3Jtcy5LICsgdyArIGxvY2FsX2lkLnhdO1xuICAgICAgfVxuICAgICAgaWYgKG4gKyBsb2NhbF9pZC55IDwgdW5pZm9ybXMuTiAmJiB3ICsgbG9jYWxfaWQueCA8IHVuaWZvcm1zLkspIHtcbiAgICAgICAgdGlsZUtbVElMRV9TSVpFICogbG9jYWxfaWQueSArIGxvY2FsX2lkLnhdID0ga2V5W2tPZmZzZXQgKyBsb2NhbF9pZC55ICogdW5pZm9ybXMuSyArIHcgKyBsb2NhbF9pZC54XTtcbiAgICAgIH1cbiAgICAgIHdvcmtncm91cEJhcnJpZXIoKTtcblxuICAgICAgZm9yICh2YXIgazogdTMyID0gMHU7IGs8VElMRV9TSVpFICYmIHcrayA8IHVuaWZvcm1zLks7IGsrKykge1xuICAgICAgICB2YWx1ZSArPSB0aWxlUVtUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsga10gKiB0aWxlS1tUSUxFX1NJWkUgKiBsb2NhbF9pZC54ICsga107XG4gICAgICB9XG5cbiAgICAgIHdvcmtncm91cEJhcnJpZXIoKTtcbiAgICB9XG5cbiAgICBsZXQgaGVhZE9mZnNldCA9IGhlYWRJZHggKiB1bmlmb3Jtcy5NICogdW5pZm9ybXMuTjtcbiAgICBpZiAobG0gPCB1bmlmb3Jtcy5NICYmIGxuIDwgdW5pZm9ybXMuTikge1xuICAgICAgbGV0IG91dHB1dElkeCA9IGhlYWRPZmZzZXQgKyBsbSAqIHVuaWZvcm1zLk4gKyBsbjtcbiAgICAgIG91dHB1dFtvdXRwdXRJZHhdID0gJHtKZSgidmFsdWUiLGEpfSAqIHVuaWZvcm1zLmFscGhhO1xuICAgIH1cbiAgfWB9LEk9ZS5jb21wdXRlKHtuYW1lOiJBdHRlbnRpb25Qcm9icyIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7YX1gLGlucHV0RGVwZW5kZW5jaWVzOlsidHlwZSIsInR5cGUiXX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczp1LGRhdGFUeXBlOnQuZGF0YVR5cGUsZ3B1RGF0YVR5cGU6MH1dLGRpc3BhdGNoR3JvdXA6Zyxwcm9ncmFtVW5pZm9ybXM6d30pLGdldFNoYWRlclNvdXJjZTpffSx7aW5wdXRzOnksb3V0cHV0czpbLTFdfSlbMF07cmV0dXJuIFZkKGUsSSxuLmJhdGNoU2l6ZSpuLm51bUhlYWRzKm4uc2VxdWVuY2VMZW5ndGgsbi50b3RhbFNlcXVlbmNlTGVuZ3RoKSxJfSxXZD0oZSx0LHIsbyk9PntsZXQgbj1bby5iYXRjaFNpemUsby5zZXF1ZW5jZUxlbmd0aCxvLnZIaWRkZW5TaXplXSxzPTEyLHU9e3g6TWF0aC5jZWlsKG8udkhlYWRTaXplL3MpLHk6TWF0aC5jZWlsKG8uc2VxdWVuY2VMZW5ndGgvcyksejpvLmJhdGNoU2l6ZSpvLm51bUhlYWRzfSxsPVt7dHlwZToidWludDMyIixkYXRhOm8uc2VxdWVuY2VMZW5ndGh9LHt0eXBlOiJ1aW50MzIiLGRhdGE6by50b3RhbFNlcXVlbmNlTGVuZ3RofSx7dHlwZToidWludDMyIixkYXRhOm8udkhlYWRTaXplfSx7dHlwZToidWludDMyIixkYXRhOm8ubnVtSGVhZHN9LHt0eXBlOiJ1aW50MzIiLGRhdGE6by52SGlkZGVuU2l6ZX1dLGE9cD0+e2xldCBoPU0oInByb2JzIix0LmRhdGFUeXBlLHQuZGltcyksZz1NKCJ2IixyLmRhdGFUeXBlLHIuZGltcyksYj1GKCJvdXRwdXQiLHQuZGF0YVR5cGUsbiksdz1be25hbWU6Ik0iLHR5cGU6InUzMiJ9LHtuYW1lOiJLIix0eXBlOiJ1MzIifSx7bmFtZToiTiIsdHlwZToidTMyIn0se25hbWU6Im51bV9oZWFkcyIsdHlwZToidTMyIn0se25hbWU6InZfaGlkZGVuX3NpemUiLHR5cGU6InUzMiJ9XTtyZXR1cm5gXG4gIGNvbnN0IFRJTEVfU0laRSA9ICR7c311O1xuICB2YXI8d29ya2dyb3VwPiB0aWxlUTogYXJyYXk8JHtoLnR5cGUudmFsdWV9LCAke3Mqc30+O1xuICB2YXI8d29ya2dyb3VwPiB0aWxlSzogYXJyYXk8JHtoLnR5cGUudmFsdWV9LCAke3Mqc30+O1xuICAke3AucmVnaXN0ZXJVbmlmb3Jtcyh3KS5kZWNsYXJlVmFyaWFibGVzKGgsZyxiKX1cbiAgJHtwLm1haW5TdGFydChbcyxzLDFdKX1cbiAgIGxldCBoZWFkSWR4ID0gd29ya2dyb3VwX2lkLno7XG4gICBsZXQgbSA9IHdvcmtncm91cF9pZC55ICogVElMRV9TSVpFICsgbG9jYWxfaWQueTtcbiAgIGxldCBuID0gd29ya2dyb3VwX2lkLnggKiBUSUxFX1NJWkUgKyBsb2NhbF9pZC54O1xuXG4gICBsZXQgb2Zmc2V0QSA9IGhlYWRJZHggKiAodW5pZm9ybXMuTSAqIHVuaWZvcm1zLkspICsgbSAqIHVuaWZvcm1zLks7XG4gICBsZXQgb2Zmc2V0QiA9IGhlYWRJZHggKiAodW5pZm9ybXMuTiAqIHVuaWZvcm1zLkspICsgbjtcblxuICAgdmFyIHZhbHVlID0gJHtoLnR5cGUuc3RvcmFnZX0oMCk7XG4gICBmb3IgKHZhciB3OiB1MzIgPSAwdTsgdyA8IHVuaWZvcm1zLks7IHcgKz0gVElMRV9TSVpFKSB7XG4gICAgIGlmIChtIDwgdW5pZm9ybXMuTSAmJiB3ICsgbG9jYWxfaWQueCA8IHVuaWZvcm1zLkspIHtcbiAgICAgICB0aWxlUVtUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgbG9jYWxfaWQueF0gPSBwcm9ic1tvZmZzZXRBICsgdyArIGxvY2FsX2lkLnhdO1xuICAgICB9XG4gICAgIGlmIChuIDwgdW5pZm9ybXMuTiAmJiB3ICsgbG9jYWxfaWQueSA8IHVuaWZvcm1zLkspIHtcbiAgICAgICB0aWxlS1tUSUxFX1NJWkUgKiBsb2NhbF9pZC55ICsgbG9jYWxfaWQueF0gPSB2W29mZnNldEIgKyAodyArIGxvY2FsX2lkLnkpICogdW5pZm9ybXMuTl07XG4gICAgIH1cbiAgICAgd29ya2dyb3VwQmFycmllcigpO1xuICAgICBmb3IgKHZhciBrOiB1MzIgPSAwdTsgazxUSUxFX1NJWkUgJiYgdytrIDwgdW5pZm9ybXMuSzsgaysrKSB7XG4gICAgICAgdmFsdWUgKz0gdGlsZVFbVElMRV9TSVpFICogbG9jYWxfaWQueSArIGtdICogdGlsZUtbVElMRV9TSVpFICogayArIGxvY2FsX2lkLnhdO1xuICAgICB9XG4gICAgIHdvcmtncm91cEJhcnJpZXIoKTtcbiAgIH1cblxuICAgLy8gd2UgbmVlZCB0byB0cmFuc3Bvc2Ugb3V0cHV0IGZyb20gQk5TSF92IHRvIEJTTkRfdlxuICAgbGV0IGJhdGNoSWR4ID0gd29ya2dyb3VwX2lkLnogLyB1bmlmb3Jtcy5udW1faGVhZHM7XG4gICBsZXQgY3VycmVudEJhdGNoSGVhZE51bWJlciA9IHdvcmtncm91cF9pZC56ICUgdW5pZm9ybXMubnVtX2hlYWRzO1xuICAgbGV0IGhlYWRPZmZzZXQgPSAoYmF0Y2hJZHggKiB1bmlmb3Jtcy5NICogdW5pZm9ybXMubnVtX2hlYWRzICsgY3VycmVudEJhdGNoSGVhZE51bWJlcikgKiB1bmlmb3Jtcy5OO1xuICAgaWYgKG0gPCB1bmlmb3Jtcy5NICYmIG4gPCB1bmlmb3Jtcy5OKSB7XG4gICAgIGxldCBvdXRwdXRJZHggPSBiYXRjaElkeCAqIHVuaWZvcm1zLk0gKnVuaWZvcm1zLnZfaGlkZGVuX3NpemUgKyBtICogdW5pZm9ybXMudl9oaWRkZW5fc2l6ZVxuICAgICAgICsgY3VycmVudEJhdGNoSGVhZE51bWJlciAqIHVuaWZvcm1zLk4gKyBuO1xuICAgICBvdXRwdXRbb3V0cHV0SWR4XSA9IHZhbHVlO1xuICAgfVxuICB9YH07cmV0dXJuIGUuY29tcHV0ZSh7bmFtZToiQXR0ZW50aW9uU2NvcmUiLHNoYWRlckNhY2hlOntpbnB1dERlcGVuZGVuY2llczpbInR5cGUiLCJ0eXBlIl19LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6bixkYXRhVHlwZTp0LmRhdGFUeXBlLGdwdURhdGFUeXBlOjB9XSxkaXNwYXRjaEdyb3VwOnUscHJvZ3JhbVVuaWZvcm1zOmx9KSxnZXRTaGFkZXJTb3VyY2U6YX0se2lucHV0czpbdCxyXSxvdXRwdXRzOlswXX0pWzBdfSxLcj0oZSx0LHIsbyxuLHMsdSxsLGEscCxoKT0+e2xldCBnPU5kKGUsdCxyLGEscCxoKTtXZChlLGcsbyxwKX0sSGQ9KGUsdCk9PntsZXQgcj1bdC5iYXRjaFNpemUsdC5udW1IZWFkcyx0LnNlcXVlbmNlTGVuZ3RoLHQuaGVhZFNpemVdLG89dC5zZXF1ZW5jZUxlbmd0aCxuPXQuaW5wdXRIaWRkZW5TaXplLHM9dC5oZWFkU2l6ZSx1PTEyLGw9e3g6TWF0aC5jZWlsKHQuaGVhZFNpemUvdSkseTpNYXRoLmNlaWwodC5zZXF1ZW5jZUxlbmd0aC91KSx6OnQuYmF0Y2hTaXplKnQubnVtSGVhZHN9LGE9W2UuaW5wdXRzWzBdLGUuaW5wdXRzWzFdLGUuaW5wdXRzWzJdXSxwPVt7dHlwZToidWludDMyIixkYXRhOm99LHt0eXBlOiJ1aW50MzIiLGRhdGE6bn0se3R5cGU6InVpbnQzMiIsZGF0YTpzfSx7dHlwZToidWludDMyIixkYXRhOnQubnVtSGVhZHN9LHt0eXBlOiJ1aW50MzIiLGRhdGE6dC5oZWFkU2l6ZX0se3R5cGU6InVpbnQzMiIsZGF0YTp0LmhpZGRlblNpemV9LHt0eXBlOiJ1aW50MzIiLGRhdGE6dC5oaWRkZW5TaXplK3QuaGlkZGVuU2l6ZSt0LnZIaWRkZW5TaXplfV0saD1nPT57bGV0IGI9Rigib3V0cHV0X3EiLGFbMF0uZGF0YVR5cGUsciksdz1GKCJvdXRwdXRfayIsYVswXS5kYXRhVHlwZSxyKSx5PUYoIm91dHB1dF92IixhWzBdLmRhdGFUeXBlLHIpLF89TSgiaW5wdXQiLGFbMF0uZGF0YVR5cGUsYVswXS5kaW1zKSxJPU0oIndlaWdodCIsYVsxXS5kYXRhVHlwZSxhWzFdLmRpbXMpLCQ9TSgiYmlhcyIsYVsyXS5kYXRhVHlwZSxhWzJdLmRpbXMpLHg9Xy50eXBlLnN0b3JhZ2UsRT1be25hbWU6Ik0iLHR5cGU6InUzMiJ9LHtuYW1lOiJLIix0eXBlOiJ1MzIifSx7bmFtZToiTiIsdHlwZToidTMyIn0se25hbWU6Im51bV9oZWFkcyIsdHlwZToidTMyIn0se25hbWU6ImhlYWRfc2l6ZSIsdHlwZToidTMyIn0se25hbWU6ImhpZGRlbl9zaXplIix0eXBlOiJ1MzIifSx7bmFtZToibGRiIix0eXBlOiJ1MzIifV07cmV0dXJuYFxuICBjb25zdCBUSUxFX1NJWkUgPSAke3V9dTtcbiAgdmFyPHdvcmtncm91cD4gdGlsZUlucHV0OiBhcnJheTwke3h9LCAke3UqdX0+O1xuICB2YXI8d29ya2dyb3VwPiB0aWxlV2VpZ2h0UTogYXJyYXk8JHt4fSwgJHt1KnV9PjtcbiAgdmFyPHdvcmtncm91cD4gdGlsZVdlaWdodEs6IGFycmF5PCR7eH0sICR7dSp1fT47XG4gIHZhcjx3b3JrZ3JvdXA+IHRpbGVXZWlnaHRWOiBhcnJheTwke3h9LCAke3UqdX0+O1xuICAke2cucmVnaXN0ZXJVbmlmb3JtcyhFKS5kZWNsYXJlVmFyaWFibGVzKF8sSSwkLGIsdyx5KX1cbiAgJHtnLm1haW5TdGFydChbdSx1LDFdKX1cbiAgICBsZXQgYmF0Y2hJbmRleCA9IHdvcmtncm91cF9pZC56IC8gdW5pZm9ybXMubnVtX2hlYWRzO1xuICAgIGxldCBoZWFkTnVtYmVyID0gd29ya2dyb3VwX2lkLnogJSB1bmlmb3Jtcy5udW1faGVhZHM7XG4gICAgbGV0IG0gPSB3b3JrZ3JvdXBfaWQueSAqIFRJTEVfU0laRSArIGxvY2FsX2lkLnk7XG4gICAgbGV0IG4gPSB3b3JrZ3JvdXBfaWQueCAqIFRJTEVfU0laRSArIGxvY2FsX2lkLng7XG5cbiAgICBsZXQgaW5wdXRPZmZzZXQgPSBiYXRjaEluZGV4ICogKHVuaWZvcm1zLk0gKiB1bmlmb3Jtcy5LKSArIG0gKiB1bmlmb3Jtcy5LO1xuICAgIGxldCBiaWFzT2Zmc2V0USA9IGhlYWROdW1iZXIgKiB1bmlmb3Jtcy5oZWFkX3NpemU7XG4gICAgbGV0IGJpYXNPZmZzZXRLID0gdW5pZm9ybXMuaGlkZGVuX3NpemUgKyBiaWFzT2Zmc2V0UTtcbiAgICBsZXQgYmlhc09mZnNldFYgPSB1bmlmb3Jtcy5oaWRkZW5fc2l6ZSArIGJpYXNPZmZzZXRLO1xuXG4gICAgdmFyIHZhbHVlUSA9ICR7eH0oMCk7XG4gICAgdmFyIHZhbHVlSyA9ICR7eH0oMCk7XG4gICAgdmFyIHZhbHVlViA9ICR7eH0oMCk7XG4gICAgZm9yICh2YXIgdzogdTMyID0gMHU7IHcgPCB1bmlmb3Jtcy5LOyB3ICs9IFRJTEVfU0laRSkge1xuICAgICAgaWYgKG0gPCB1bmlmb3Jtcy5NICYmIHcgKyBsb2NhbF9pZC54IDwgdW5pZm9ybXMuSykge1xuICAgICAgICB0aWxlSW5wdXRbVElMRV9TSVpFICogbG9jYWxfaWQueSArIGxvY2FsX2lkLnhdID0gaW5wdXRbaW5wdXRPZmZzZXQgKyB3ICsgbG9jYWxfaWQueF07XG4gICAgICB9XG4gICAgICBpZiAobiA8IHVuaWZvcm1zLk4gJiYgdyArIGxvY2FsX2lkLnkgPCB1bmlmb3Jtcy5LKSB7XG4gICAgICAgIGxldCBvZmZzZXQgPSBuICsgKHcgKyBsb2NhbF9pZC55KSAqIHVuaWZvcm1zLmxkYjtcbiAgICAgICAgdGlsZVdlaWdodFFbVElMRV9TSVpFICogbG9jYWxfaWQueSArIGxvY2FsX2lkLnhdID0gd2VpZ2h0W2JpYXNPZmZzZXRRICsgb2Zmc2V0XTtcbiAgICAgICAgdGlsZVdlaWdodEtbVElMRV9TSVpFICogbG9jYWxfaWQueSArIGxvY2FsX2lkLnhdID0gd2VpZ2h0W2JpYXNPZmZzZXRLICsgb2Zmc2V0XTtcbiAgICAgICAgdGlsZVdlaWdodFZbVElMRV9TSVpFICogbG9jYWxfaWQueSArIGxvY2FsX2lkLnhdID0gd2VpZ2h0W2JpYXNPZmZzZXRWICsgb2Zmc2V0XTtcbiAgICAgIH1cbiAgICAgIHdvcmtncm91cEJhcnJpZXIoKTtcbiAgICAgIGZvciAodmFyIGs6IHUzMiA9IDB1OyBrPFRJTEVfU0laRSAmJiB3K2sgPCB1bmlmb3Jtcy5LOyBrKyspIHtcbiAgICAgICAgbGV0IGlucHV0VGlsZU9mZnNldCA9IFRJTEVfU0laRSAqIGxvY2FsX2lkLnkgKyBrO1xuICAgICAgICBsZXQgd2VpZ2h0VGlsZU9mZnNldCA9IFRJTEVfU0laRSAqIGsgKyBsb2NhbF9pZC54O1xuICAgICAgICB2YWx1ZVEgKz0gdGlsZUlucHV0W2lucHV0VGlsZU9mZnNldF0gKiB0aWxlV2VpZ2h0UVt3ZWlnaHRUaWxlT2Zmc2V0XTtcbiAgICAgICAgdmFsdWVLICs9IHRpbGVJbnB1dFtpbnB1dFRpbGVPZmZzZXRdICogdGlsZVdlaWdodEtbd2VpZ2h0VGlsZU9mZnNldF07XG4gICAgICAgIHZhbHVlViArPSB0aWxlSW5wdXRbaW5wdXRUaWxlT2Zmc2V0XSAqIHRpbGVXZWlnaHRWW3dlaWdodFRpbGVPZmZzZXRdO1xuICAgICAgfVxuXG4gICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG4gICAgfVxuXG4gICAgbGV0IGhlYWRPZmZzZXQgPSAobSAqIHVuaWZvcm1zLk4gKyBuKSAlIHVuaWZvcm1zLmhlYWRfc2l6ZTtcbiAgICB2YWx1ZVEgKz0gYmlhc1toZWFkT2Zmc2V0ICsgYmlhc09mZnNldFFdO1xuICAgIHZhbHVlSyArPSBiaWFzW2hlYWRPZmZzZXQgKyBiaWFzT2Zmc2V0S107XG4gICAgdmFsdWVWICs9IGJpYXNbaGVhZE9mZnNldCArIGJpYXNPZmZzZXRWXTtcblxuICAgIGxldCBvZmZzZXQgPSB3b3JrZ3JvdXBfaWQueiAqIHVuaWZvcm1zLk0gKiB1bmlmb3Jtcy5OO1xuICAgIGlmIChtIDwgdW5pZm9ybXMuTSAmJiBuIDwgdW5pZm9ybXMuTikge1xuICAgICAgbGV0IG91dHB1dElkeCA9IG9mZnNldCArIG0gKiB1bmlmb3Jtcy5OICsgbjtcbiAgICAgIG91dHB1dF9xW291dHB1dElkeF0gPSB2YWx1ZVE7XG4gICAgICBvdXRwdXRfa1tvdXRwdXRJZHhdID0gdmFsdWVLO1xuICAgICAgb3V0cHV0X3Zbb3V0cHV0SWR4XSA9IHZhbHVlVjtcbiAgICB9XG4gIH1gfTtyZXR1cm4gZS5jb21wdXRlKHtuYW1lOiJBdHRlbnRpb25QcmVwYXJlIixzaGFkZXJDYWNoZTp7aW5wdXREZXBlbmRlbmNpZXM6WyJ0eXBlIiwidHlwZSIsInR5cGUiXX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpyLGRhdGFUeXBlOmUuaW5wdXRzWzBdLmRhdGFUeXBlLGdwdURhdGFUeXBlOjB9LHtkaW1zOnIsZGF0YVR5cGU6ZS5pbnB1dHNbMF0uZGF0YVR5cGUsZ3B1RGF0YVR5cGU6MH0se2RpbXM6cixkYXRhVHlwZTplLmlucHV0c1swXS5kYXRhVHlwZSxncHVEYXRhVHlwZTowfV0sZGlzcGF0Y2hHcm91cDpsLHByb2dyYW1Vbmlmb3JtczpwfSksZ2V0U2hhZGVyU291cmNlOmh9LHtpbnB1dHM6YSxvdXRwdXRzOlstMSwtMSwtMV19KX0sSGE9KGUsdCk9PntsZXQgcj1VZChlLmlucHV0cyx0KSxbbyxuLHNdPUhkKGUscik7cmV0dXJuIEtyKGUsbyxuLHMsZS5pbnB1dHNbNF0sdm9pZCAwLHZvaWQgMCx2b2lkIDAsZS5pbnB1dHNbNV0scix0KX19KTt2YXIgR2QsTGQsRmQsR2EsTGE9aigoKT0+eyJ1c2Ugc3RyaWN0IjtMdCgpOyRlKCk7amUoKTt2ZSgpO0dkPShlLHQpPT57aWYoIWV8fGUubGVuZ3RoIT09NSl0aHJvdyBuZXcgRXJyb3IoIkJhdGNoTm9ybWFsaXphdGlvbiByZXF1aXJlcyA1IGlucHV0cyIpO2xldCByPShvLG4scyk9PntsZXQgdT1uLmxlbmd0aDtpZih1IT09by5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGAke3N9OiBudW0gZGltZW5zaW9ucyAhPSAke3V9YCk7bi5mb3JFYWNoKChsLGEpPT57aWYobCE9PW9bYV0pdGhyb3cgbmV3IEVycm9yKGAke3N9OiBkaW1bJHthfV0gZG8gbm90IG1hdGNoYCl9KX07aWYoZVswXS5kaW1zLmxlbmd0aD4xKXtsZXQgbz10LmZvcm1hdD09PSJOSFdDIj90LnNwYXRpYWw/ZVswXS5kaW1zLnNsaWNlKC0xKTplWzBdLmRpbXMuc2xpY2UoLTEpLmNvbmNhdChlWzBdLmRpbXMuc2xpY2UoMSxlWzBdLmRpbXMubGVuZ3RoLTEpKTplWzBdLmRpbXMuc2xpY2UoMSx0LnNwYXRpYWw/Mjp2b2lkIDApO3IoZVsxXS5kaW1zLG8sIkludmFsaWQgaW5wdXQgc2NhbGUiKSxyKGVbMl0uZGltcyxvLCJJbnZhbGlkIGlucHV0IEIiKSxyKGVbM10uZGltcyxvLCJJbnZhbGlkIGlucHV0IG1lYW4iKSxyKGVbNF0uZGltcyxvLCJJbnZhbGlkIGlucHV0IHZhciIpfWVsc2UgcihlWzFdLmRpbXMsWzFdLCJJbnZhbGlkIGlucHV0IHNjYWxlIikscihlWzJdLmRpbXMsWzFdLCJJbnZhbGlkIGlucHV0IEIiKSxyKGVbM10uZGltcyxbMV0sIkludmFsaWQgaW5wdXQgbWVhbiIpLHIoZVs0XS5kaW1zLFsxXSwiSW52YWxpZCBpbnB1dCB2YXIiKX0sTGQ9KGUsdCk9PntsZXR7ZXBzaWxvbjpyLHNwYXRpYWw6byxmb3JtYXQ6bn09dCxzPWVbMF0uZGltcyx1PW8/RmUoc1tzLmxlbmd0aC0xXSk6MSxsPW49PT0iTkhXQyImJnMubGVuZ3RoPjE/dToxLGE9VS5zaXplKHMpL3UscD1SZShzLmxlbmd0aCkmJm8saD1wP3MubGVuZ3RoOnMsZz1NKCJ4IixlWzBdLmRhdGFUeXBlLGVbMF0uZGltcyx1KSxiPU0oInNjYWxlIixlWzFdLmRhdGFUeXBlLGVbMV0uZGltcyxsKSx3PU0oImJpYXMiLGVbMl0uZGF0YVR5cGUsZVsyXS5kaW1zLGwpLHk9TSgiaW5wdXRNZWFuIixlWzNdLmRhdGFUeXBlLGVbM10uZGltcyxsKSxfPU0oImlucHV0VmFyIixlWzRdLmRhdGFUeXBlLGVbNF0uZGltcyxsKSxJPUYoInkiLGVbMF0uZGF0YVR5cGUsaCx1KSwkPSgpPT57bGV0IEU9IiI7aWYobylFPWBsZXQgY09mZnNldCA9ICR7cy5sZW5ndGg9PT0xPyIwdSI6bj09PSJOSFdDIj9gb3V0cHV0SW5kaWNlc1ske3MubGVuZ3RoLTF9XSAvICR7dX1gOiJvdXRwdXRJbmRpY2VzWzFdIn07YDtlbHNlIGlmKG49PT0iTkNIVyIpRT1gXG4gICAgICAgICAgICAke0kuaW5kaWNlc1NldCgib3V0cHV0SW5kaWNlcyIsIjAiLCIwIil9XG4gICAgICAgICAgICBsZXQgY09mZnNldCA9ICR7SS5pbmRpY2VzVG9PZmZzZXQoIm91dHB1dEluZGljZXMiKX07YDtlbHNle0U9YHZhciBjSW5kaWNlcyA9ICR7Yi50eXBlLmluZGljZXN9KDApO1xuICAgICAgICAgICAgICAgICAgICAgICBjSW5kaWNlc1swXSA9IG91dHB1dEluZGljZXNbJHtzLmxlbmd0aC0xfV07YDtmb3IobGV0IEE9MTtBPGIucmFuaztBKyspRSs9YGNJbmRpY2VzWyR7QX1dID0gb3V0cHV0SW5kaWNlc1ske0F9XTtgO0UrPWBsZXQgY09mZnNldCA9ICR7Yi5pbmRpY2VzVG9PZmZzZXQoImNJbmRpY2VzIil9O2B9cmV0dXJuIEV9LHg9RT0+YFxuICBjb25zdCBlcHNpbG9uID0gJHtyfTtcbiAgJHtFLnJlZ2lzdGVyVW5pZm9ybSgib3V0cHV0U2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMoZyxiLHcseSxfLEkpfVxuICAke0UubWFpblN0YXJ0KCl9XG4gICR7RS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9XG4gICAgdmFyIG91dHB1dEluZGljZXMgPSAke0kub2Zmc2V0VG9JbmRpY2VzKGBnbG9iYWxfaWR4ICogJHt1fWApfTtcbiAgICAkeyQoKX1cbiAgICBsZXQgc2NhbGUgPSAke2IuZ2V0QnlPZmZzZXQoImNPZmZzZXQiKX07XG4gICAgbGV0IGJpYXMgPSAke3cuZ2V0QnlPZmZzZXQoImNPZmZzZXQiKX07XG4gICAgbGV0IGlucHV0TWVhbiA9ICR7eS5nZXRCeU9mZnNldCgiY09mZnNldCIpfTtcbiAgICBsZXQgaW5wdXRWYXIgPSAke18uZ2V0QnlPZmZzZXQoImNPZmZzZXQiKX07XG4gICAgbGV0IHggPSAke2cuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKX07XG4gICAgbGV0IHZhbHVlID0gKHggLSBpbnB1dE1lYW4pICogaW52ZXJzZVNxcnQoaW5wdXRWYXIgKyBlcHNpbG9uKSAqIHNjYWxlICsgYmlhcztcbiAgICAke0kuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJ2YWx1ZSIpfVxuICB9YDtyZXR1cm57bmFtZToiQmF0Y2hOb3JtYWxpemF0aW9uIixzaGFkZXJDYWNoZTp7aGludDpgJHt0LmVwc2lsb259XyR7dC5mb3JtYXR9XyR7b31fJHt1fWAsaW5wdXREZXBlbmRlbmNpZXM6cD9bInJhbmsiLCJ0eXBlIiwidHlwZSIsInR5cGUiLCJ0eXBlIl06dm9pZCAwfSxnZXRTaGFkZXJTb3VyY2U6eCxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOmVbMF0uZGltcyxkYXRhVHlwZTplWzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoYS82NCl9LHByb2dyYW1Vbmlmb3JtczpwP1t7dHlwZToidWludDMyIixkYXRhOmF9LC4uLkwocyldOlt7dHlwZToidWludDMyIixkYXRhOmF9XX0pfX0sRmQ9ZT0+Z2UoZSksR2E9KGUsdCk9PntsZXR7aW5wdXRzOnIsb3V0cHV0Q291bnQ6b309ZSxuPUZkKHsuLi50LG91dHB1dENvdW50Om99KTtpZihHdC53ZWJncHUudmFsaWRhdGVJbnB1dENvbnRlbnQmJkdkKHIsbiksdC50cmFpbmluZ01vZGUpdGhyb3cgbmV3IEVycm9yKCJCYXRjaE5vcm1hbGl6YXRpb24gdHJhaW5pbmdNb2RlIGlzIG5vdCBzdXBwb3J0ZWQgeWV0LiIpO2UuY29tcHV0ZShMZChyLG4pKX19KTt2YXIgamQscWQsRmEsamE9aigoKT0+eyJ1c2Ugc3RyaWN0IjskZSgpO3ZlKCk7amQ9ZT0+e2lmKGVbMF0uZGltcy5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcigiaW5wdXQgc2hvdWxkIGhhdmUgMyBkaW1lbnNpb25zIik7aWYoIVszMjAsNjQwLDEyODBdLmluY2x1ZGVzKGVbMF0uZGltc1syXSkpdGhyb3cgbmV3IEVycm9yKCJudW1iZXIgb2YgY2hhbm5lbHMgc2hvdWxkIGJlIDMyMCwgNjQwIG9yIDEyODAiKTtpZihlWzFdLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoImJpYXMgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAxIGRpbWVuc2lvbnMiKTtpZihlWzBdLmRpbXNbMl0hPT1lWzFdLmRpbXNbMF0pdGhyb3cgbmV3IEVycm9yKCJsYXN0IGRpbWVuc2lvbiBvZiBpbnB1dCBhbmQgYmlhcyBhcmUgbm90IHRoZSBzYW1lIil9LHFkPWU9PntsZXQgdD1lWzBdLmRpbXMscj1lWzBdLmRpbXNbMl0sbz1VLnNpemUodCkvNCxuPWVbMF0uZGF0YVR5cGUscz1NKCJpbnB1dCIsbix0LDQpLHU9TSgiYmlhcyIsbixbcl0sNCksbD1NKCJyZXNpZHVhbCIsbix0LDQpLGE9Rigib3V0cHV0IixuLHQsNCk7cmV0dXJue25hbWU6IkJpYXNBZGQiLGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6dCxkYXRhVHlwZTplWzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoby82NCl9fSksZ2V0U2hhZGVyU291cmNlOmg9PmBcbiAgY29uc3QgY2hhbm5lbHMgPSAke3J9dSAvIDQ7XG4gICR7aC5kZWNsYXJlVmFyaWFibGVzKHMsdSxsLGEpfVxuXG4gICR7aC5tYWluU3RhcnQoKX1cbiAgICAke2guZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcyhvKX1cbiAgICBsZXQgdmFsdWUgPSAke3MuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKX1cbiAgICAgICsgJHt1LmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4ICUgY2hhbm5lbHMiKX0gKyAke2wuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKX07XG4gICAgJHthLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiwidmFsdWUiKX1cbiAgfWB9fSxGYT1lPT57amQoZS5pbnB1dHMpLGUuY29tcHV0ZShxZChlLmlucHV0cykpfX0pO3ZhciBLZCxBZSxxYSxLYSxZYSxaYSxRYSxYYSxKYSxlaSx0aSxZZCxyaSxuaSxvaSxhaSxZcixpaSxacixzaSx1aSxkaSxsaSxjaSxwaSxtaSxmaSxoaSxnaSx5aSxiaSx3aSx2aSwkaSxTaSx4aSxWbj1qKCgpPT57InVzZSBzdHJpY3QiO05lKCk7JGUoKTtqZSgpO3ZlKCk7S2Q9KGUsdCxyLG8sbixzKT0+e2xldCB1PU1hdGguY2VpbCh0LzQpLGw9IiI7dHlwZW9mIG49PSJzdHJpbmciP2w9YCR7bn0oYSlgOmw9bigiYSIpO2xldCBhPU0oImlucHV0RGF0YSIscixbdV0sNCkscD1GKCJvdXRwdXREYXRhIixvLFt1XSw0KTtyZXR1cm5gXG4gICAgICAke2UucmVnaXN0ZXJVbmlmb3JtKCJ2ZWNfc2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMoYSxwKX1cblxuICAke3M/PyIifVxuXG4gICR7ZS5tYWluU3RhcnQoKX1cbiAgICAke2UuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMudmVjX3NpemUiKX1cblxuICAgIGxldCBhID0gJHthLmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4Iil9O1xuICAgICR7cC5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsbCl9XG4gIH1gfSxBZT0oZSx0LHIsbyxuLHM9ZS5kYXRhVHlwZSk9Pih7bmFtZTp0LHNoYWRlckNhY2hlOntoaW50Om4saW5wdXREZXBlbmRlbmNpZXM6WyJ0eXBlIl19LGdldFNoYWRlclNvdXJjZTp1PT5LZCh1LFUuc2l6ZShlLmRpbXMpLGUuZGF0YVR5cGUscyxyLG8pLGdldFJ1bkRhdGE6dT0+KHtvdXRwdXRzOlt7ZGltczplLmRpbXMsZGF0YVR5cGU6c31dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKFUuc2l6ZSh1WzBdLmRpbXMpLzY0LzQpfSxwcm9ncmFtVW5pZm9ybXM6W3t0eXBlOiJ1aW50MzIiLGRhdGE6TWF0aC5jZWlsKFUuc2l6ZShlLmRpbXMpLzQpfV19KX0pLHFhPWU9PntlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIkFicyIsImFicyIpKX0sS2E9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiQWNvcyIsImFjb3MiKSl9LFlhPWU9PntlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIkFjb3NoIiwiYWNvc2giKSl9LFphPWU9PntlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIkFzaW4iLCJhc2luIikpfSxRYT1lPT57ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJBc2luaCIsImFzaW5oIikpfSxYYT1lPT57ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJBdGFuIiwiYXRhbiIpKX0sSmE9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiQXRhbmgiLCJhdGFuaCIpKX0sZWk9ZT0+Z2UoZSksdGk9KGUsdCk9PntsZXQgcjtzd2l0Y2godC50byl7Y2FzZSAxMDpyPSJ2ZWM0PGYxNj4iO2JyZWFrO2Nhc2UgMTpyPSJ2ZWM0PGYzMj4iO2JyZWFrO2Nhc2UgMTI6cj0idmVjNDx1MzI+IjticmVhaztjYXNlIDY6cj0idmVjNDxpMzI+IjticmVhaztjYXNlIDk6cj0idmVjNDxib29sPiI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgUmFuZ2VFcnJvcihgbm90IHN1cHBvcnRlZCB0eXBlIChzcGVjaWZpZWQgaW4gYXR0cmlidXRlIFwndG9cJyBmcm9tIFwnQ2FzdFwnIG9wZXJhdG9yKTogJHt0LnRvfWApfWUuY29tcHV0ZShBZShlLmlucHV0c1swXSwiQ2FzdCIscix2b2lkIDAsdC5jYWNoZUtleSx0LnRvKSl9LFlkPWU9PntsZXQgdD1lLmxlbmd0aD49MiYmZVsxXS5kYXRhIT09MD9lWzFdLmdldEZsb2F0MzJBcnJheSgpWzBdOkdyLHI9ZS5sZW5ndGg+PTMmJmVbMl0uZGF0YSE9PTA/ZVsyXS5nZXRGbG9hdDMyQXJyYXkoKVswXTpMcjtyZXR1cm4gZ2Uoe21pbjp0LG1heDpyfSl9LHJpPShlLHQpPT57bGV0IHI9ZS5pbnB1dHMubGVuZ3RoPT09MT90OllkKGUuaW5wdXRzKSxvPWx0KGUuaW5wdXRzWzBdLmRhdGFUeXBlKTtlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIkNsaXAiLG49PmBjbGFtcCgke259LCBjbGlwX21pbl8sIGNsaXBfbWF4XylgLGBcbiAgICBjb25zdCBjbGlwX21pbl86IHZlYzQ8JHtvfT4gPSB2ZWM0KCR7b30oJHtyLm1pbn0pKTtcbiAgICBjb25zdCBjbGlwX21heF86IHZlYzQ8JHtvfT4gPSB2ZWM0KCR7b30oJHtyLm1heH0pKTtcbmAsci5jYWNoZUtleSkse2lucHV0czpbMF19KX0sbmk9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiQ2VpbCIsImNlaWwiKSl9LG9pPWU9PntlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIkNvcyIsImNvcyIpKX0sYWk9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiQ29zaCIsImNvc2giKSl9LFlyPWU9PmdlKGUpLGlpPShlLHQpPT57bGV0IHI9bHQoZS5pbnB1dHNbMF0uZGF0YVR5cGUpO2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiRWx1IixvPT5gZWx1X3ZmMzIoJHtvfSlgLGBcbiAgY29uc3QgZWx1X2FscGhhXyA9ICR7cn0oJHt0LmFscGhhfSk7XG5cbiAgZm4gZWx1X2YzMihhOiAke3J9KSAtPiAke3J9IHtcbiAgcmV0dXJuIHNlbGVjdCgoZXhwKGEpIC0gMS4wKSAqIGVsdV9hbHBoYV8sIGEsIGEgPj0gMC4wKTtcbiAgfVxuXG4gIGZuIGVsdV92ZjMyKHY6IHZlYzQ8JHtyfT4pIC0+IHZlYzQ8JHtyfT4ge1xuICByZXR1cm4gdmVjNChlbHVfZjMyKHYueCksIGVsdV9mMzIodi55KSwgZWx1X2YzMih2LnopLCBlbHVfZjMyKHYudykpO1xuICB9YCx0LmNhY2hlS2V5KSl9LFpyPShlLHQ9ImYzMiIpPT5gXG5jb25zdCByMDogJHt0fSA9IDAuMzI3NTkxMTtcbmNvbnN0IHIxOiAke3R9ID0gMC4yNTQ4Mjk1OTI7XG5jb25zdCByMjogJHt0fSA9IC0wLjI4NDQ5NjczNjtcbmNvbnN0IHIzOiAke3R9ID0gMS40MjE0MTM3NDE7XG5jb25zdCByNDogJHt0fSA9IC0xLjQ1MzE1MjAyNztcbmNvbnN0IHI1OiAke3R9ID0gMS4wNjE0MDU0Mjk7XG5cbmZuIGVyZl92ZjMyKHY6ICR7ZX0pIC0+ICR7ZX0ge1xuICBsZXQgYWJzdiA9IGFicyh2KTtcbiAgbGV0IHggPSAxLjAgLyAoMS4wICsgcjAgKiBhYnN2KTtcbiAgcmV0dXJuIHNpZ24odikgKiAoMS4wIC0gKCgoKHI1ICogeCArIHI0KSAqIHggKyByMykgKiB4ICsgcjIpICogeCArIHIxKSAqIHggKiBleHAoLWFic3YgKiBhYnN2KSk7XG59YCxzaT1lPT57bGV0IHQ9bHQoZS5pbnB1dHNbMF0uZGF0YVR5cGUpO2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiRXJmIixyPT5gZXJmX3ZmMzIoJHtyfSlgLFpyKGB2ZWM0PCR7dH0+YCx0KSkpfSx1aT1lPT57ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJFeHAiLCJleHAiKSl9LGRpPWU9PntlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIkZsb29yIiwiZmxvb3IiKSl9LGxpPWU9PntsZXQgdD1sdChlLmlucHV0c1swXS5kYXRhVHlwZSk7ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJHZWx1IixyPT5gMC41ICogJHtyfSAqICgxLjAgKyBlcmZfdmYzMigke3J9ICogMC43MDcxMDY3ODExODY1NDc1KSlgLFpyKGB2ZWM0PCR7dH0+YCx0KSkpfSxjaT0oZSx0KT0+e2xldCByPWx0KGUuaW5wdXRzWzBdLmRhdGFUeXBlKTtlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIkxlYWt5UmVsdSIsbz0+YHNlbGVjdChsZWFreV9yZWx1X2FscGhhXyAqICR7b30sICR7b30sICR7b30gPj0gdmVjNDwke3J9PigwLjApKWAsYGNvbnN0IGxlYWt5X3JlbHVfYWxwaGFfID0gJHtyfSgke3QuYWxwaGF9KTtgLHQuY2FjaGVLZXkpKX0scGk9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiTm90Iix0PT5gISR7dH1gKSl9LG1pPWU9PntlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIk5lZyIsdD0+YC0ke3R9YCkpfSxmaT1lPT57ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJSZWNpcHJvY2FsIix0PT5gMS4wLyR7dH1gKSl9LGhpPWU9PntsZXQgdD1sdChlLmlucHV0c1swXS5kYXRhVHlwZSk7ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJSZWx1IixyPT5gc2VsZWN0KHZlYzQ8JHt0fT4oMC4wKSwgJHtyfSwgJHtyfSA+IHZlYzQ8JHt0fT4oMC4wKSlgKSl9LGdpPWU9PntlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIlNpZ21vaWQiLHQ9PmAoMS4wIC8gKDEuMCArIGV4cCgtJHt0fSkpKWApKX0seWk9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiU2luIiwic2luIikpfSxiaT1lPT57ZS5jb21wdXRlKEFlKGUuaW5wdXRzWzBdLCJTaW5oIiwic2luaCIpKX0sd2k9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiU3FydCIsInNxcnQiKSl9LHZpPWU9PntlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIlRhbiIsInRhbiIpKX0sJGk9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiVGFuaCIsInRhbmgiKSl9LFNpPShlLHQpPT57bGV0IHI9bHQoZS5pbnB1dHNbMF0uZGF0YVR5cGUpO3JldHVybiBlLmNvbXB1dGUoQWUoZS5pbnB1dHNbMF0sIlRocmVzaG9sZGVkUmVsdSIsbz0+YHNlbGVjdCh2ZWM0PCR7cn0+KDAuMCksICR7b30sICR7b30gPiB0aHJlc2hvbGRlZF9yZWx1X2FscGhhXylgLGBjb25zdCB0aHJlc2hvbGRlZF9yZWx1X2FscGhhXyA9IHZlYzQ8JHtyfT4oJHt0LmFscGhhfSk7YCx0LmNhY2hlS2V5KSksMH0seGk9ZT0+e2UuY29tcHV0ZShBZShlLmlucHV0c1swXSwiTG9nIiwibG9nIikpfX0pO3ZhciBRZCxYZCxfaSxDaT1qKCgpPT57InVzZSBzdHJpY3QiOyRlKCk7dmUoKTtWbigpO1FkPWU9PntpZihlWzBdLmRpbXMubGVuZ3RoIT09Myl0aHJvdyBuZXcgRXJyb3IoImlucHV0IHNob3VsZCBoYXZlIDMgZGltZW5zaW9ucyIpO2lmKCFbMjU2MCw1MTIwLDEwMjQwXS5pbmNsdWRlcyhlWzBdLmRpbXNbMl0pKXRocm93IG5ldyBFcnJvcigiaGlkZGVuIHN0YXRlIHNob3VsZCBiZSAyNTYwLCA1MTIwIG9yIDEwMjQwIik7aWYoZVsxXS5kaW1zLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCJiaWFzIGlzIGV4cGVjdGVkIHRvIGhhdmUgMSBkaW1lbnNpb25zIik7aWYoZVswXS5kaW1zWzJdIT09ZVsxXS5kaW1zWzBdKXRocm93IG5ldyBFcnJvcigibGFzdCBkaW1lbnNpb24gb2YgaW5wdXQgYW5kIGJpYXMgYXJlIG5vdCB0aGUgc2FtZSIpfSxYZD1lPT57bGV0IHQ9ZVswXS5kaW1zLnNsaWNlKCk7dFsyXT10WzJdLzI7bGV0IHI9TSgiaW5wdXQiLGVbMF0uZGF0YVR5cGUsZVswXS5kaW1zLDQpLG89TSgiYmlhcyIsZVswXS5kYXRhVHlwZSxbZVswXS5kaW1zWzJdXSw0KSxuPUYoIm91dHB1dCIsZVswXS5kYXRhVHlwZSx0LDQpLHM9VS5zaXplKHQpLzQsdT1MZShlWzBdLmRhdGFUeXBlKTtyZXR1cm57bmFtZToiQmlhc1NwbGl0R2VsdSIsZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczp0LGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChzLzY0KX19KSxnZXRTaGFkZXJTb3VyY2U6YT0+YFxuICBjb25zdCBNX1NRUlQyID0gc3FydCgyLjApO1xuICBjb25zdCBoYWxmQ2hhbm5lbHMgPSAke2VbMF0uZGltc1syXS80LzJ9dTtcblxuICAke2EuZGVjbGFyZVZhcmlhYmxlcyhyLG8sbil9XG5cbiAgJHtacihgdmVjNDwke3V9PmAsdSl9XG5cbiAgJHthLm1haW5TdGFydCgpfVxuICAgICR7YS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKHMpfVxuICAgIGxldCBiaWFzSWR4ID0gZ2xvYmFsX2lkeCAlIGhhbGZDaGFubmVscztcbiAgICBsZXQgYmF0Y2hJbmRleCA9IGdsb2JhbF9pZHggLyBoYWxmQ2hhbm5lbHM7XG4gICAgbGV0IGlucHV0T2Zmc2V0ID0gYmlhc0lkeCArIGJhdGNoSW5kZXggKiBoYWxmQ2hhbm5lbHMgKiAyO1xuICAgIGxldCB2YWx1ZUxlZnQgPSBpbnB1dFtpbnB1dE9mZnNldF0gKyBiaWFzW2JpYXNJZHhdO1xuICAgIGxldCB2YWx1ZVJpZ2h0ID0gaW5wdXRbaW5wdXRPZmZzZXQgKyBoYWxmQ2hhbm5lbHNdICsgYmlhc1tiaWFzSWR4ICsgaGFsZkNoYW5uZWxzXTtcbiAgICBsZXQgZ2VsdVJpZ2h0ID0gdmFsdWVSaWdodCAqIDAuNSAqIChlcmZfdmYzMih2YWx1ZVJpZ2h0IC8gTV9TUVJUMikgKyAxKTtcblxuICAgICR7bi5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsInZhbHVlTGVmdCAqIGdlbHVSaWdodCIpfVxuICB9YH19LF9pPWU9PntRZChlLmlucHV0cyksZS5jb21wdXRlKFhkKGUuaW5wdXRzKSl9fSk7dmFyIEpkLGVsLGh0LElpLEFpLFRpLEVpLE9pLFBpLGtpLFJpLEJpLERpLE1pPWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTskZSgpO3ZlKCk7SmQ9KGUsdCxyLG8sbixzLHUsbCxhLHAsaCxnLGIpPT57bGV0IHcseTt0eXBlb2YgbD09InN0cmluZyI/dz15PShSLFYpPT5gJHtsfSgoJHtSfSksKCR7Vn0pKWA6dHlwZW9mIGw9PSJmdW5jdGlvbiI/dz15PWw6KHc9bC5zY2FsYXIseT1sLnZlY3Rvcik7bGV0IF89Zz90Lmxlbmd0aDp0LEk9Zz9yLmxlbmd0aDpyLCQ9Zz9vLmxlbmd0aDpvLHg9Rigib3V0cHV0RGF0YSIsaCwkLDQpLEU9TSgiYURhdGEiLGEsXyw0KSxBPU0oImJEYXRhIixwLEksNCksejtpZihuKWlmKHMpe2xldCBSPVUuc2l6ZSh0KT09PTEsVj1VLnNpemUocik9PT0xLFQ9dC5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSU0PT09MCxOPXIubGVuZ3RoPjAmJnJbci5sZW5ndGgtMV0lND09PTA7Unx8Vj96PXguc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLHkoUj9gJHtFLnR5cGUudmFsdWV9KCR7RS5nZXRCeU9mZnNldCgiMCIpfS54KWA6RS5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpLFY/YCR7QS50eXBlLnZhbHVlfSgke0EuZ2V0QnlPZmZzZXQoIjAiKX0ueClgOkEuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKSkpOno9YFxuICAgICAgICAgICAgbGV0IG91dHB1dEluZGljZXMgPSAke3gub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4ICogNHUiKX07XG4gICAgICAgICAgICBsZXQgb2Zmc2V0QSA9ICR7RS5icm9hZGNhc3RlZEluZGljZXNUb09mZnNldCgib3V0cHV0SW5kaWNlcyIseCl9O1xuICAgICAgICAgICAgbGV0IG9mZnNldEIgPSAke0EuYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQoIm91dHB1dEluZGljZXMiLHgpfTtcbiAgICAgICAgICAgICR7eC5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIseSh1fHxUP0UuZ2V0QnlPZmZzZXQoIm9mZnNldEEgLyA0dSIpOmAke0UudHlwZS52YWx1ZX0oJHtFLmdldEJ5T2Zmc2V0KCJvZmZzZXRBIC8gNHUiKX1bb2Zmc2V0QSAlIDR1XSlgLHV8fE4/QS5nZXRCeU9mZnNldCgib2Zmc2V0QiAvIDR1Iik6YCR7QS50eXBlLnZhbHVlfSgke0EuZ2V0QnlPZmZzZXQoIm9mZnNldEIgLyA0dSIpfVtvZmZzZXRCICUgNHVdKWApKX1cbiAgICAgICAgICBgfWVsc2Ugej14LnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4Iix5KEUuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKSxBLmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IikpKTtlbHNle2lmKCFzKXRocm93IG5ldyBFcnJvcigibm8gbmVjZXNzYXJ5IHRvIHVzZSBzY2FsYXIgaW1wbGVtZW50YXRpb24gZm9yIGVsZW1lbnQtd2lzZSBiaW5hcnkgb3AgaW1wbGVtZW50YXRpb24uIik7bGV0IFI9KFYsVCxOPSIiKT0+e2xldCB0ZT1gYURhdGFbaW5kZXhBJHtUfV1bY29tcG9uZW50QSR7VH1dYCxZPWBiRGF0YVtpbmRleEIke1R9XVtjb21wb25lbnRCJHtUfV1gO3JldHVybmBcbiAgICAgICAgICAgIGxldCBvdXRwdXRJbmRpY2VzJHtUfSA9ICR7eC5vZmZzZXRUb0luZGljZXMoYGdsb2JhbF9pZHggKiA0dSArICR7VH11YCl9O1xuICAgICAgICAgICAgbGV0IG9mZnNldEEke1R9ID0gJHtFLmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KGBvdXRwdXRJbmRpY2VzJHtUfWAseCl9O1xuICAgICAgICAgICAgbGV0IG9mZnNldEIke1R9ID0gJHtBLmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KGBvdXRwdXRJbmRpY2VzJHtUfWAseCl9O1xuICAgICAgICAgICAgbGV0IGluZGV4QSR7VH0gPSBvZmZzZXRBJHtUfSAvIDR1O1xuICAgICAgICAgICAgbGV0IGluZGV4QiR7VH0gPSBvZmZzZXRCJHtUfSAvIDR1O1xuICAgICAgICAgICAgbGV0IGNvbXBvbmVudEEke1R9ID0gb2Zmc2V0QSR7VH0gJSA0dTtcbiAgICAgICAgICAgIGxldCBjb21wb25lbnRCJHtUfSA9IG9mZnNldEIke1R9ICUgNHU7XG4gICAgICAgICAgICAke1Z9WyR7VH1dID0gJHtOfSgke3codGUsWSl9KTtcbiAgICAgICAgICBgfTtoPT09OT96PWBcbiAgICAgICAgICAgIHZhciBkYXRhID0gdmVjNDx1MzI+KDApO1xuICAgICAgICAgICAgJHtSKCJkYXRhIiwwLCJ1MzIiKX1cbiAgICAgICAgICAgICR7UigiZGF0YSIsMSwidTMyIil9XG4gICAgICAgICAgICAke1IoImRhdGEiLDIsInUzMiIpfVxuICAgICAgICAgICAgJHtSKCJkYXRhIiwzLCJ1MzIiKX1cbiAgICAgICAgICAgIG91dHB1dERhdGFbZ2xvYmFsX2lkeF0gPSBkb3QodmVjNDx1MzI+KDB4MSwgMHgxMDAsIDB4MTAwMDAsIDB4MTAwMDAwMCksIHZlYzQ8dTMyPihkYXRhKSk7YDp6PWBcbiAgICAgICAgICAgICR7Uigib3V0cHV0RGF0YVtnbG9iYWxfaWR4XSIsMCl9XG4gICAgICAgICAgICAke1IoIm91dHB1dERhdGFbZ2xvYmFsX2lkeF0iLDEpfVxuICAgICAgICAgICAgJHtSKCJvdXRwdXREYXRhW2dsb2JhbF9pZHhdIiwyKX1cbiAgICAgICAgICAgICR7Uigib3V0cHV0RGF0YVtnbG9iYWxfaWR4XSIsMyl9XG4gICAgICAgICAgYH1yZXR1cm5gXG4gICAgICAgICR7ZS5yZWdpc3RlclVuaWZvcm0oInZlY19zaXplIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyhFLEEseCl9XG5cbiAgICAgICAgJHtiPz8iIn1cblxuICAgICAgICAke2UubWFpblN0YXJ0KCl9XG4gICAgICAgICR7ZS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy52ZWNfc2l6ZSIpfVxuICAgICAgICAke3p9XG4gICAgICB9YH0sZWw9KGUsdCxyLG8sbixzLHU9ci5kYXRhVHlwZSk9PntsZXQgbD0hVS5hcmVFcXVhbChyLmRpbXMsby5kaW1zKSxhPXIuZGltcyxwPVUuc2l6ZShyLmRpbXMpLGg9ITEsZz0hMSxiPVtsXTtpZihsKXtsZXQgeT1kdC5jYWxjU2hhcGUoci5kaW1zLG8uZGltcywhMSk7aWYoIXkpdGhyb3cgbmV3IEVycm9yKCJDYW5cJ3QgcGVyZm9ybSBiaW5hcnkgb3Agb24gdGhlIGdpdmVuIHRlbnNvcnMiKTthPXkscD1VLnNpemUoYSk7bGV0IF89VS5zaXplKHIuZGltcyk9PT0xLEk9VS5zaXplKG8uZGltcyk9PT0xLCQ9ci5kaW1zLmxlbmd0aD4wJiZyLmRpbXNbci5kaW1zLmxlbmd0aC0xXSU0PT09MCx4PW8uZGltcy5sZW5ndGg+MCYmby5kaW1zW28uZGltcy5sZW5ndGgtMV0lND09PTA7Yi5wdXNoKF8pLGIucHVzaChJKSxiLnB1c2goJCksYi5wdXNoKHgpO2xldCBFPTE7Zm9yKGxldCBBPTE7QTxhLmxlbmd0aDtBKyspe2xldCB6PXIuZGltc1tyLmRpbXMubGVuZ3RoLUFdPz8xLFI9by5kaW1zW28uZGltcy5sZW5ndGgtQV0/PzE7aWYoej09PVIpRSo9ejtlbHNlIGJyZWFrfUUlND09PTA/KGc9ITAsaD0hMCk6KF98fEl8fCR8fHgpJiYoaD0hMCl9ZWxzZSBoPSEwO2IucHVzaChoKTtsZXQgdz1SZShyLmRpbXMubGVuZ3RoKSYmUmUoby5kaW1zLmxlbmd0aCkmJlJlKGEubGVuZ3RoKTtyZXR1cm57bmFtZTplLHNoYWRlckNhY2hlOntoaW50OnQrYi5tYXAoeT0+eS50b1N0cmluZygpKS5qb2luKCJfIiksaW5wdXREZXBlbmRlbmNpZXM6dz9bInJhbmsiLCJyYW5rIl06WyJkaW1zIiwiZGltcyJdfSxnZXRTaGFkZXJTb3VyY2U6eT0+SmQoeSxyLmRpbXMsby5kaW1zLGEsaCxsLGcsbixyLmRhdGFUeXBlLG8uZGF0YVR5cGUsdSx3LHMpLGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6YSxkYXRhVHlwZTp1fV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwocC82NC80KX0scHJvZ3JhbVVuaWZvcm1zOnc/W3t0eXBlOiJ1aW50MzIiLGRhdGE6TWF0aC5jZWlsKFUuc2l6ZShhKS80KX0sLi4uTChyLmRpbXMpLC4uLkwoby5kaW1zKSwuLi5MKGEpXTpbe3R5cGU6InVpbnQzMiIsZGF0YTpNYXRoLmNlaWwoVS5zaXplKGEpLzQpfV19KX19LGh0PShlLHQscixvLG4scyk9PntlLmNvbXB1dGUoZWwodCxuPz8iIixlLmlucHV0c1swXSxlLmlucHV0c1sxXSxyLG8scykpfSxJaT1lPT57aHQoZSwiQWRkIiwodCxyKT0+YCR7dH0rJHtyfWApfSxBaT1lPT57aHQoZSwiRGl2IiwodCxyKT0+YCR7dH0vJHtyfWApfSxUaT1lPT57aHQoZSwiRXF1YWwiLHtzY2FsYXI6KHQscik9PmB1MzIoJHt0fT09JHtyfSlgLHZlY3RvcjoodCxyKT0+YHZlYzQ8dTMyPigke3R9PT0ke3J9KWB9LHZvaWQgMCx2b2lkIDAsOSl9LEVpPWU9PntodChlLCJNdWwiLCh0LHIpPT5gJHt0fSoke3J9YCl9LE9pPWU9PntsZXQgdD1NKCJpbnB1dCIsZS5pbnB1dHNbMF0uZGF0YVR5cGUsZS5pbnB1dHNbMF0uZGltcykudHlwZS52YWx1ZTtodChlLCJQb3ciLHtzY2FsYXI6KG8sbik9PmBwb3dfY3VzdG9tKCR7b30sJHtufSlgLHZlY3RvcjoobyxuKT0+YHBvd192ZWN0b3JfY3VzdG9tKCR7b30sJHtufSlgfSxgXG4gICAgZm4gcG93X2N1c3RvbShhIDogJHt0fSwgYiA6ICR7dH0pIC0+ICR7dH0ge1xuICAgICAgaWYgKGIgPT0gJHt0fSgwLjApKSB7XG4gICAgICAgIHJldHVybiAke3R9KDEuMCk7XG4gICAgICB9IGVsc2UgaWYgKGEgPCAke3R9KDAuMCkgJiYgZjMyKGIpICE9IGZsb29yKGYzMihiKSkpIHtcbiAgICAgICAgcmV0dXJuICR7dH0ocG93KGYzMihhKSwgZjMyKGIpKSk7IC8vIE5hTlxuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbGVjdChzaWduKGEpLCAke3R9KDEuMCksIHJvdW5kKGYzMihhYnMoYikgJSAke3R9KDIuMCkpKSAhPSAxLjApICogJHt0fSgke3Q9PT0iaTMyIj8icm91bmQiOiIifShwb3coZjMyKGFicyhhKSksIGYzMihiKSkpKTtcbiAgICB9XG4gICAgZm4gcG93X3ZlY3Rvcl9jdXN0b20oYSA6IHZlYzQ8JHt0fT4sIGIgOiB2ZWM0PCR7dH0+KSAtPiB2ZWM0PCR7dH0+IHtcbiAgICAgIC8vIFRPRE86IGltcGxlbWVudCB2ZWN0b3JpemVkIHBvd1xuICAgICAgcmV0dXJuIHZlYzQ8JHt0fT4ocG93X2N1c3RvbShhLngsIGIueCksIHBvd19jdXN0b20oYS55LCBiLnkpLCBwb3dfY3VzdG9tKGEueiwgYi56KSwgcG93X2N1c3RvbShhLncsIGIudykpO1xuICAgIH1cbiAgICAgIGApfSxQaT1lPT57aHQoZSwiU3ViIiwodCxyKT0+YCR7dH0tJHtyfWApfSxraT1lPT57aHQoZSwiR3JlYXRlciIse3NjYWxhcjoodCxyKT0+YHUzMigke3R9PiR7cn0pYCx2ZWN0b3I6KHQscik9PmB2ZWM0PHUzMj4oJHt0fT4ke3J9KWB9LHZvaWQgMCx2b2lkIDAsOSl9LFJpPWU9PntodChlLCJMZXNzIix7c2NhbGFyOih0LHIpPT5gdTMyKCR7dH08JHtyfSlgLHZlY3RvcjoodCxyKT0+YHZlYzQ8dTMyPigke3R9PCR7cn0pYH0sdm9pZCAwLHZvaWQgMCw5KX0sQmk9ZT0+e2h0KGUsIkdyZWF0ZXJPckVxdWFsIix7c2NhbGFyOih0LHIpPT5gdTMyKCR7dH0+PSR7cn0pYCx2ZWN0b3I6KHQscik9PmB2ZWM0PHUzMj4oJHt0fT49JHtyfSlgfSx2b2lkIDAsdm9pZCAwLDkpfSxEaT1lPT57aHQoZSwiTGVzc09yRXF1YWwiLHtzY2FsYXI6KHQscik9PmB1MzIoJHt0fTw9JHtyfSlgLHZlY3RvcjoodCxyKT0+YHZlYzQ8dTMyPigke3R9PD0ke3J9KWB9LHZvaWQgMCx2b2lkIDAsOSl9fSk7dmFyIHJsLG5sLG9sLGFsLHppLFVpLFZpPWooKCk9PnsidXNlIHN0cmljdCI7JGUoKTtqZSgpO3ZlKCk7cmw9ZT0+e2lmKCFlfHxlLmxlbmd0aDwxKXRocm93IG5ldyBFcnJvcigidG9vIGZldyBpbnB1dHMiKTtsZXQgdD1lWzBdLmRhdGFUeXBlLHI9ZVswXS5kaW1zLmxlbmd0aDtmb3IobGV0IG8gb2YgZSl7aWYoby5kYXRhVHlwZSE9PXQpdGhyb3cgbmV3IEVycm9yKCJpbnB1dCB0ZW5zb3JzIHNob3VsZCBiZSBvbmUgdHlwZSIpO2lmKG8uZGltcy5sZW5ndGghPT1yKXRocm93IG5ldyBFcnJvcigiaW5wdXQgdGVuc29ycyBzaG91bGQgaGF2ZSB0aGUgc2FtZSBzaGFwZSIpfX0sbmw9KGUsdCk9PmBcbiAgZm4gY2FsY3VsYXRlSW5wdXRJbmRleChpbmRleDogdTMyKSAtPiB1MzIge1xuICAgIGxldCBzaXplSW5Db25jYXRBeGlzID0gYXJyYXk8dTMyLCAke2V9dT4oJHt0fSk7XG4gICAgZm9yICh2YXIgaTogdTMyID0gMHU7IGkgPCAke2V9OyBpICs9IDF1ICkge1xuICAgICAgaWYgKGluZGV4IDwgc2l6ZUluQ29uY2F0QXhpc1tpXSkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICR7ZX11O1xuICB9YCxvbD0oZSx0KT0+e2xldCByPWUubGVuZ3RoLG89W107Zm9yKGxldCBuPTA7bjxyOysrbil7bGV0IHM9dC5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsZVtuXS5nZXRCeUluZGljZXMoImluZGljZXMiKSk7cj09PTE/by5wdXNoKHMpOm49PT0wP28ucHVzaChgaWYgKGlucHV0SW5kZXggPT0gJHtufXUpIHsgJHtzfSB9YCk6bj09PXItMT9vLnB1c2goYGVsc2UgeyAke3N9IH1gKTpvLnB1c2goYGVsc2UgaWYgKGlucHV0SW5kZXggPT0gJHtufSkgeyAke3N9IH1gKX1yZXR1cm4gby5qb2luKGBcbmApfSxhbD0oZSx0KT0+e2xldCByPWVbMF0uZGltcy5zbGljZSgpO2lmKHQ+PXIubGVuZ3RofHx0PC0xKnIubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiYXhpcyBzcGVjaWZpZWQgZm9yIGNvbmNhdCBkb2VzblwndCBtYXRjaCBpbnB1dCBkaW1lbnNpb25hbGl0eSIpO2xldCBvPXQ8MD9yLmxlbmd0aCt0OnQsbj1yLnNsaWNlKDApO2ZvcihsZXQgQT0xO0E8ZS5sZW5ndGg7QSsrKXtsZXQgej1lW0FdLmRpbXMuc2xpY2UoKTtmb3IobGV0IFI9MDtSPHIubGVuZ3RoO1IrKylpZihSPT09byluW29dKz16W1JdO2Vsc2UgaWYocltSXSE9PXpbUl0pdGhyb3cgbmV3IEVycm9yKCJub24gY29uY2F0IGRpbWVuc2lvbnMgbXVzdCBtYXRjaCIpfWxldCBzPVUuc2l6ZShuKSx1PW5ldyBBcnJheShlLmxlbmd0aCksbD1uZXcgQXJyYXkoZS5sZW5ndGgpLGE9ZVswXS5kYXRhVHlwZSxwPTAsaD1bXSxnPVtdLGI9W10sdz1be3R5cGU6InVpbnQzMiIsZGF0YTpzfV07Zm9yKGxldCBBPTA7QTxlLmxlbmd0aDsrK0EpcCs9ZVtBXS5kaW1zW29dLHVbQV09cCxiLnB1c2goUmUoZVtBXS5kaW1zLmxlbmd0aCkpLGcucHVzaChiW0FdP2VbQV0uZGltcy5sZW5ndGg6ZVtBXS5kaW1zKSxsW0FdPU0oYGlucHV0JHtBfWAsYSxnW0FdKSxoLnB1c2goYltBXT8icmFuayI6ImRpbXMiKSx3LnB1c2goe3R5cGU6InVpbnQzMiIsZGF0YTp1W0FdfSk7Zm9yKGxldCBBPTA7QTxlLmxlbmd0aDsrK0EpYltBXSYmdy5wdXNoKC4uLkwoZVtBXS5kaW1zKSk7bGV0IHk9UmUobi5sZW5ndGgpO3kmJncucHVzaCguLi5MKG4pKTtsZXQgXz15P24ubGVuZ3RoOm4sST1GKCJvdXRwdXQiLGEsXyksJD1JLmluZGljZXNHZXQoImluZGljZXMiLG8pLHg9QXJyYXkuZnJvbShBcnJheSh1Lmxlbmd0aCkua2V5cygpKS5tYXAoQT0+YHVuaWZvcm1zLnNpemVJbkNvbmNhdEF4aXMke0F9YCkuam9pbigiLCIpLEU9QT0+YFxuXG4gICR7KCgpPT57QS5yZWdpc3RlclVuaWZvcm0oIm91dHB1dFNpemUiLCJ1MzIiKTtmb3IobGV0IHo9MDt6PGUubGVuZ3RoO3orKylBLnJlZ2lzdGVyVW5pZm9ybShgc2l6ZUluQ29uY2F0QXhpcyR7en1gLCJ1MzIiKTtyZXR1cm4gQS5kZWNsYXJlVmFyaWFibGVzKC4uLmwsSSl9KSgpfVxuXG4gICR7bmwodS5sZW5ndGgseCl9XG5cbiAgJHtBLm1haW5TdGFydCgpfVxuICAgICR7QS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9XG5cbiAgICB2YXIgaW5kaWNlcyA9ICR7SS5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07XG5cbiAgICBsZXQgaW5wdXRJbmRleCA9IGNhbGN1bGF0ZUlucHV0SW5kZXgoJHskfSk7XG4gICAgaWYgKGlucHV0SW5kZXggIT0gMHUpIHtcbiAgICAgIGxldCBzaXplSW5Db25jYXRBeGlzID0gYXJyYXk8dTMyLCAke3UubGVuZ3RofXU+KCR7eH0pO1xuICAgICAgJHskfSAtPSBzaXplSW5Db25jYXRBeGlzW2lucHV0SW5kZXggLSAxdV07XG4gICAgfVxuXG4gICAgJHtvbChsLEkpfVxuICB9YDtyZXR1cm57bmFtZToiQ29uY2F0IixzaGFkZXJDYWNoZTp7aGludDpgJHt0fWAsaW5wdXREZXBlbmRlbmNpZXM6aH0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpuLGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChzLzY0KX0scHJvZ3JhbVVuaWZvcm1zOnd9KSxnZXRTaGFkZXJTb3VyY2U6RX19LHppPShlLHQpPT57cmwoZS5pbnB1dHMpLGUuY29tcHV0ZShhbChlLmlucHV0cyx0LmF4aXMpKX0sVWk9ZT0+Z2Uoe2F4aXM6ZS5heGlzfSl9KTt2YXIgZ3QsUXIsSXQ9aigoKT0+eyJ1c2Ugc3RyaWN0IjskZSgpO2d0PShlLHQpPT57c3dpdGNoKGUuYWN0aXZhdGlvbil7Y2FzZSJSZWx1IjpyZXR1cm57YWN0aXZhdGlvbkZ1bmN0aW9uOiIiLGFwcGx5QWN0aXZhdGlvbjpgdmFsdWUgPSBtYXgodmFsdWUsICR7dH0oMC4wKSk7YH07Y2FzZSJTaWdtb2lkIjpyZXR1cm57YWN0aXZhdGlvbkZ1bmN0aW9uOiIiLGFwcGx5QWN0aXZhdGlvbjpgdmFsdWUgPSAoJHt0fSgxLjApIC8gKCR7dH0oMS4wKSArIGV4cCgtdmFsdWUpKSk7YH07Y2FzZSJDbGlwIjpyZXR1cm57YWN0aXZhdGlvbkZ1bmN0aW9uOmBjb25zdCBjbGlwX21pbl89JHt0fSgke2UuY2xpcE1pbn0pO2NvbnN0IGNsaXBfbWF4Xz0ke3R9KCR7ZS5jbGlwTWF4fSk7YCxhcHBseUFjdGl2YXRpb246InZhbHVlID0gY2xhbXAodmFsdWUsIGNsaXBfbWluXywgY2xpcF9tYXhfKTsifTtkZWZhdWx0OnJldHVybnthY3RpdmF0aW9uRnVuY3Rpb246IiIsYXBwbHlBY3RpdmF0aW9uOiIifX19LFFyPWU9PntsZXQgdD1lPy5hY3RpdmF0aW9ufHwiIjtpZih0PT09IkNsaXAiKXtsZXRbcixvXT1lPy5hY3RpdmF0aW9uX3BhcmFtc3x8W0dyLExyXTtyZXR1cm57YWN0aXZhdGlvbjp0LGNsaXBNYXg6byxjbGlwTWluOnIsYWN0aXZhdGlvbkNhY2hlS2V5OmAke3R9OiR7cn0sJHtvfWB9fXJldHVybnthY3RpdmF0aW9uOnQsYWN0aXZhdGlvbkNhY2hlS2V5OnR9fX0pO3ZhciBLZSxYcixKcj1qKCgpPT57InVzZSBzdHJpY3QiO0tlPShlLHQpPT57c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gdDtjYXNlIDI6cmV0dXJuYHZlYzI8JHt0fT5gO2Nhc2UgMzpyZXR1cm5gdmVjMzwke3R9PmA7Y2FzZSA0OnJldHVybmB2ZWM0PCR7dH0+YDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgJHtlfS1jb21wb25lbnQgaXMgbm90IHN1cHBvcnRlZC5gKX19LFhyPWU9PmBcbiAgICAgICR7ZT8idmFsdWUgPSB2YWx1ZSArIGdldEJpYXNCeU91dHB1dENvb3Jkcyhjb29yZHMpOyI6IiJ9XG4gICAgICBgfSk7dmFyIGVuLE5uPWooKCk9PnsidXNlIHN0cmljdCI7ZW49ZT0+YFxuZm4gZ2V0SW5kZXhGcm9tQ29vcmRzNEQoY29vcmRzIDogdmVjNDxpMzI+LCBzaGFwZSA6IHZlYzQ8aTMyPikgLT4gaTMyIHtcbiAgcmV0dXJuIGRvdChjb29yZHMsIHZlYzQ8aTMyPihcbiAgICAgIHNoYXBlLnkgKiBzaGFwZS56ICogc2hhcGUudywgc2hhcGUueiAqIHNoYXBlLncsIHNoYXBlLncsIDEpKTtcbn1cbmZuIGdldE91dHB1dEluZGV4RnJvbUNvb3Jkcyhjb29yZHMgOiB2ZWM0PGkzMj4pIC0+IGkzMiB7XG4gIHJldHVybiBkb3QoY29vcmRzLCB2ZWM0PGkzMj4oXG4gICAgaTMyKCR7ZX0ueCksIGkzMigke2V9LnkpLCBpMzIoJHtlfS56KSwgMSkpO1xufVxuYH0pO3ZhciBpbCxzbCxtcixOaSx1bCxmcixkbCx0bixocj1qKCgpPT57InVzZSBzdHJpY3QiOyRlKCk7dmUoKTtJdCgpO0pyKCk7aWw9KGUsdCk9PmU/YFxuICAgICAgICBtbV9Bc3ViW2lucHV0Um93XVtpbnB1dENvbF0gPSBtbV9yZWFkQShiYXRjaCxcbiAgICAgICAgICBrU3RhcnQgKyBpbnB1dFJvdyxcbiAgICAgICAgICBnbG9iYWxSb3dTdGFydCAvIGlubmVyRWxlbWVudFNpemUgKyBpbnB1dENvbCR7dD8iLCBiYXRjaEluZGljZXMiOiIifSk7XG4gICAgICAgIGA6YFxuICAgICAgICBtbV9Bc3ViW2lucHV0Um93XVtpbnB1dENvbF0gPSBtbV9yZWFkQShiYXRjaCxcbiAgICAgICAgICBnbG9iYWxSb3cgKyBpbm5lclJvdyxcbiAgICAgICAgICBrU3RhcnQgLyBpbm5lckVsZW1lbnRTaXplICsgaW5wdXRDb2wke3Q/IiwgYmF0Y2hJbmRpY2VzIjoiIn0pO1xuICAgICAgICBgLHNsPShlLHQpPT5lP2BcbiAgICAgICAgbGV0IEFDYWNoZWQwID0gbW1fQXN1YltrICogaW5uZXJFbGVtZW50U2l6ZV1bbG9jYWxSb3ddO1xuICAgICAgICBsZXQgQUNhY2hlZDEgPSBtbV9Bc3ViW2sgKiBpbm5lckVsZW1lbnRTaXplICsgMV1bbG9jYWxSb3ddO1xuICAgICAgICBsZXQgQUNhY2hlZDIgPSBtbV9Bc3ViW2sgKiBpbm5lckVsZW1lbnRTaXplICsgMl1bbG9jYWxSb3ddO1xuICAgICAgICAke3Q9PT0zPyIiOiJsZXQgQUNhY2hlZDMgPSBtbV9Bc3ViW2sgKiBpbm5lckVsZW1lbnRTaXplICsgM11bbG9jYWxSb3ddOyJ9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93UGVyVGhyZWFkOyBpID0gaSArIDEpIHtcbiAgICAgICAgICBhY2NbaV0gPSBCQ2FjaGVkMCAqIEFDYWNoZWQwW2ldICsgYWNjW2ldO1xuICAgICAgICAgIGFjY1tpXSA9IEJDYWNoZWQxICogQUNhY2hlZDFbaV0gKyBhY2NbaV07XG4gICAgICAgICAgYWNjW2ldID0gQkNhY2hlZDIgKiBBQ2FjaGVkMltpXSArIGFjY1tpXTtcbiAgICAgICAgICAke3Q9PT0zPyIiOiJhY2NbaV0gPSBCQ2FjaGVkMyAqIEFDYWNoZWQzW2ldICsgYWNjW2ldOyJ9XG4gICAgICAgIH1gOmBcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dQZXJUaHJlYWQ7IGkgPSBpICsgMSkge1xuICAgICAgICAgIGxldCBBQ2FjaGVkID0gbW1fQXN1Ylt0aWxlUm93ICsgaV1ba107XG4gICAgICAgICAgYWNjW2ldID0gQkNhY2hlZDAgKiBBQ2FjaGVkLnggKyBhY2NbaV07XG4gICAgICAgICAgYWNjW2ldID0gQkNhY2hlZDEgKiBBQ2FjaGVkLnkgKyBhY2NbaV07XG4gICAgICAgICAgYWNjW2ldID0gQkNhY2hlZDIgKiBBQ2FjaGVkLnogKyBhY2NbaV07XG4gICAgICAgICAgJHt0PT09Mz8iIjoiYWNjW2ldID0gQkNhY2hlZDMgKiBBQ2FjaGVkLncgKyBhY2NbaV07In1cbiAgICAgICAgfWAsbXI9KGUsdCxyPSJmMzIiLG8sbj0hMSxzPTMyLHU9ITEsbD0zMik9PntsZXQgYT10WzFdKmVbMV0scD10WzBdKmVbMF0saD1uP2E6cyxnPW4/czphLGI9aC90WzBdLHc9cy90WzFdO2lmKCEoKG4mJmI9PT00JiZlWzFdPT09NHx8IW4mJihiPT09M3x8Yj09PTQpKSYmaCV0WzBdPT09MCYmcyV0WzFdPT09MCYmZVswXT09PTQpKXRocm93IG5ldyBFcnJvcihgSWYgdHJhbnNwb3NlQSAke259IGlzIHRydWUsIGlubmVyRWxlbWVudFNpemUgJHtifSBhbmQgd29ya1BlclRocmVhZFsxXSAke2VbMV19IG11c3QgYmUgNC5cbiAgICAgIE90aGVyd2lzZSwgaW5uZXJFbGVtZW50U2l6ZSAke2J9IG11c3QgYmUgMyBvciA0LlxuICB0aWxlQVdpZHRoICR7aH0gbXVzdCBiZSBkaXZpc2libGUgYnkgd29ya2dyb3VwU2l6ZVswXSR7dFswXX0uIHRpbGVJbm5lciAke3N9IG11c3QgYmUgZGl2aXNpYmxlIGJ5IHdvcmtncm91cFNpemVbMV0gJHt0WzFdfS4gY29sUGVyVGhyZWFkICR7ZVswXX0gbXVzdCBiZSA0LmApO3JldHVybmBcbnZhcjx3b3JrZ3JvdXA+IG1tX0FzdWI6IGFycmF5PGFycmF5PHZlYyR7Yn08JHtyfT4sICR7aC9ifT4sICR7Z30+O1xudmFyPHdvcmtncm91cD4gbW1fQnN1YjogYXJyYXk8YXJyYXk8dmVjNDwke3J9PiwgJHtwL2VbMF19PiwgJHtzfT47XG5cbmNvbnN0IHJvd1BlclRocmVhZCA9ICR7ZVsxXX07XG5jb25zdCBjb2xQZXJUaHJlYWQgPSAke2VbMF19O1xuY29uc3QgaW5uZXJFbGVtZW50U2l6ZSA9ICR7Yn07XG5jb25zdCB0aWxlSW5uZXIgPSAke3N9O1xuXG5AY29tcHV0ZSBAd29ya2dyb3VwX3NpemUoJHt0WzBdfSwgJHt0WzFdfSwgJHt0WzJdfSlcbmZuIG1haW4oQGJ1aWx0aW4obG9jYWxfaW52b2NhdGlvbl9pZCkgbG9jYWxJZCA6IHZlYzM8dTMyPixcbiAgICAgICAgQGJ1aWx0aW4oZ2xvYmFsX2ludm9jYXRpb25faWQpIGdsb2JhbElkIDogdmVjMzx1MzI+LFxuICAgICAgICBAYnVpbHRpbih3b3JrZ3JvdXBfaWQpIHdvcmtncm91cElkIDogdmVjMzx1MzI+KSB7XG4gIGxldCBsb2NhbFJvdyA9IGkzMihsb2NhbElkLnkpO1xuICBsZXQgdGlsZVJvdyA9IGxvY2FsUm93ICogcm93UGVyVGhyZWFkO1xuICBsZXQgdGlsZUNvbCA9IGkzMihsb2NhbElkLngpO1xuXG4gIGxldCBnbG9iYWxSb3cgPWkzMihnbG9iYWxJZC55KSAqIHJvd1BlclRocmVhZDtcbiAgbGV0IGdsb2JhbENvbCA9IGkzMihnbG9iYWxJZC54KTtcbiAgbGV0IGJhdGNoID0gJHt1PyIwIjoiaTMyKGdsb2JhbElkLnopIn07XG4gICR7bz9gbGV0IGJhdGNoSW5kaWNlcyA9ICR7by5vZmZzZXRUb0luZGljZXMoInUzMihiYXRjaCkiKX07YDoiIn1cbiAgbGV0IGdsb2JhbFJvd1N0YXJ0ID0gaTMyKHdvcmtncm91cElkLnkpICogJHthfTtcblxuICBsZXQgbnVtVGlsZXMgPSAke3U/YCR7TWF0aC5jZWlsKGwvcyl9YDoiKHVuaWZvcm1zLmRpbUlubmVyIC0gMSkgLyB0aWxlSW5uZXIgKyAxIn07XG4gIHZhciBrU3RhcnQgPSAke3U/YGkzMihnbG9iYWxJZC56KSAqICR7bH1gOiIwIn07XG5cbiAgdmFyIGFjYzogYXJyYXk8dmVjNDwke3J9Piwgcm93UGVyVGhyZWFkPjtcblxuICAvLyBMb29wIG92ZXIgc2hhcmVkIGRpbWVuc2lvbi5cbiAgbGV0IHRpbGVSb3dCID0gbG9jYWxSb3cgKiAke3d9O1xuICBmb3IgKHZhciB0ID0gMDsgdCA8IG51bVRpbGVzOyB0ID0gdCArIDEpIHtcbiAgICAgIC8vIExvYWQgb25lIHRpbGUgb2YgQSBpbnRvIGxvY2FsIG1lbW9yeS5cbiAgICAgIGZvciAodmFyIGlubmVyUm93ID0gMDsgaW5uZXJSb3cgPCByb3dQZXJUaHJlYWQ7IGlubmVyUm93ID0gaW5uZXJSb3cgKyAxKSB7XG4gICAgICAgICAgbGV0IGlucHV0Um93ID0gdGlsZVJvdyArIGlubmVyUm93O1xuICAgICAgICAgIGxldCBpbnB1dENvbCA9IHRpbGVDb2w7XG4gICAgICAgICAgJHtpbChuLG8pfVxuICAgICAgfVxuXG4gICAgICAvLyBMb2FkIG9uZSB0aWxlIG9mIEIgaW50byBsb2NhbCBtZW1vcnkuXG4gICAgICBmb3IgKHZhciBpbm5lclJvdyA9IDA7IGlubmVyUm93IDwgJHt3fTsgaW5uZXJSb3cgPSBpbm5lclJvdyArIDEpIHtcbiAgICAgICAgICBsZXQgaW5wdXRSb3cgPSB0aWxlUm93QiArIGlubmVyUm93O1xuICAgICAgICAgIGxldCBpbnB1dENvbCA9IHRpbGVDb2w7XG4gICAgICAgICAgbW1fQnN1YltpbnB1dFJvd11baW5wdXRDb2xdID0gbW1fcmVhZEIoYmF0Y2gsIGtTdGFydCArIGlucHV0Um93LCBnbG9iYWxDb2wke28/IiwgYmF0Y2hJbmRpY2VzIjoiIn0pO1xuICAgICAgfVxuICAgICAga1N0YXJ0ID0ga1N0YXJ0ICsgdGlsZUlubmVyO1xuICAgICAgd29ya2dyb3VwQmFycmllcigpO1xuXG4gICAgICAvLyBDb21wdXRlIGFjYyB2YWx1ZXMgZm9yIGEgc2luZ2xlIHRocmVhZC5cbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGlsZUlubmVyIC8gaW5uZXJFbGVtZW50U2l6ZTsgayA9IGsgKyAxKSB7XG4gICAgICAgICAgbGV0IEJDYWNoZWQwID0gbW1fQnN1YltrICogaW5uZXJFbGVtZW50U2l6ZV1bdGlsZUNvbF07XG4gICAgICAgICAgbGV0IEJDYWNoZWQxID0gbW1fQnN1YltrICogaW5uZXJFbGVtZW50U2l6ZSArIDFdW3RpbGVDb2xdO1xuICAgICAgICAgIGxldCBCQ2FjaGVkMiA9IG1tX0JzdWJbayAqIGlubmVyRWxlbWVudFNpemUgKyAyXVt0aWxlQ29sXTtcbiAgICAgICAgICAke2I9PT0zPyIiOiJsZXQgQkNhY2hlZDMgPSBtbV9Cc3ViW2sgKiBpbm5lckVsZW1lbnRTaXplICsgM11bdGlsZUNvbF07In1cblxuICAgICAgICAgICR7c2wobixiKX1cbiAgICAgIH1cblxuICAgICAgd29ya2dyb3VwQmFycmllcigpO1xuICB9XG5cbiAgZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8IHJvd1BlclRocmVhZDsgaW5uZXJSb3cgPSBpbm5lclJvdyArIDEpIHtcbiAgICAgIG1tX3dyaXRlKGJhdGNoLCBnbG9iYWxSb3cgKyBpbm5lclJvdywgZ2xvYmFsQ29sLCBhY2NbaW5uZXJSb3ddKTtcbiAgfVxufWB9LE5pPShlLHQpPT5lP2BcbiAgICAgICAgICAgIG1tX0FzdWJbaW5wdXRSb3ddW2lucHV0Q29sXSA9IG1tX3JlYWRBKGJhdGNoLFxuICAgICAgICAgICAgICBrU3RhcnQgKyBpbnB1dFJvdyxcbiAgICAgICAgICAgICAgZ2xvYmFsUm93U3RhcnQgKyBpbnB1dENvbCR7dD8iLCBiYXRjaEluZGljZXMiOiIifSk7XG4gICAgICAgICAgICBgOmBcbiAgICAgICAgICAgIG1tX0FzdWJbaW5wdXRSb3ddW2lucHV0Q29sXSA9IG1tX3JlYWRBKGJhdGNoLFxuICAgICAgICAgICAgICBnbG9iYWxSb3dTdGFydCArIGlucHV0Um93LFxuICAgICAgICAgICAgICBrU3RhcnQgKyBpbnB1dENvbCR7dD8iLCBiYXRjaEluZGljZXMiOiIifSk7XG4gICAgICAgICAgICBgLHVsPWU9PmU/ImxldCBBQ2FjaGVkID0gbW1fQXN1YltrXVt0aWxlUm93ICsgaW5uZXJSb3ddOyI6ImxldCBBQ2FjaGVkID0gbW1fQXN1Ylt0aWxlUm93ICsgaW5uZXJSb3ddW2tdOyIsZnI9KGUsdCxyPSJmMzIiLG8sbj0hMSxzPTMyLHU9ITEsbD0zMixhPSExKT0+e2xldCBwPWVbMV0qdFsxXSxoPWVbMF0qdFswXSxnPW4/cDpzLGI9bj9zOnA7aWYoIShiJXRbMV09PT0wJiZnJXRbMF09PT0wJiZzJXRbMV09PT0wKSl0aHJvdyBuZXcgRXJyb3IoYHRpbGVBSGlnaHQgJHtifSBtdXN0IGJlIGRpdmlzaWJsZSBieSB3b3JrZ3JvdXBTaXplWzFdJHt0WzFdfSwgdGlsZUFXaWR0aCAke2d9IG11c3QgYmUgZGl2aXNpYmxlIGJ5IHdvcmtncm91cFNpemVbMF0ke3RbMF19LCB0aWxlSW5uZXIgJHtzfSBtdXN0IGJlIGRpdmlzaWJsZSBieSB3b3JrZ3JvdXBTaXplWzFdJHt0WzFdfWApO2xldCB3PWIvdFsxXSx5PWcvdFswXSxfPXMvdFsxXSxJPWE/YFxuICAgIGxldCBsb2NhbFJvdyA9IGkzMihsb2NhbElkLnkpO1xuICAgIGxldCBsb2NhbENvbCA9IGkzMihsb2NhbElkLngpO1xuICAgIGxldCBnbG9iYWxSb3dTdGFydCA9IGkzMih3b3JrZ3JvdXBJZC55KSAqICR7cH07XG4gICAgbGV0IGdsb2JhbENvbFN0YXJ0ID0gaTMyKHdvcmtncm91cElkLngpICogJHtofTtcblxuICAgIC8vIExvb3Agb3ZlciBzaGFyZWQgZGltZW5zaW9uLlxuICAgIGZvciAodmFyIHQgPSAwOyB0IDwgbnVtVGlsZXM7IHQgPSB0ICsgMSkge1xuICAgICAgLy8gTG9hZCBvbmUgdGlsZSBvZiBBIGludG8gbG9jYWwgbWVtb3J5LlxuICAgICAgZm9yICh2YXIgaW5wdXRSb3cgPSBsb2NhbFJvdzsgaW5wdXRSb3cgPCAke2J9OyBpbnB1dFJvdyA9IGlucHV0Um93ICsgJHt0WzFdfSkge1xuICAgICAgICBmb3IgKHZhciBpbnB1dENvbCA9IGxvY2FsQ29sOyBpbnB1dENvbCA8ICR7Z307IGlucHV0Q29sID0gaW5wdXRDb2wgKyAke3RbMF19KSB7XG4gICAgICAgICAgJHtOaShuLG8pfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBMb2FkIG9uZSB0aWxlIG9mIEIgaW50byBsb2NhbCBtZW1vcnkuXG4gICAgICBmb3IgKHZhciBpbnB1dFJvdyA9IGxvY2FsUm93OyBpbnB1dFJvdyA8ICR7c307IGlucHV0Um93ID0gaW5wdXRSb3cgKyAke3RbMV19KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpbnB1dENvbCA9IGxvY2FsQ29sOyBpbnB1dENvbCA8ICR7aH07IGlucHV0Q29sID0gaW5wdXRDb2wgKyAke3RbMF19KSB7XG4gICAgICAgICAgbW1fQnN1YltpbnB1dFJvd11baW5wdXRDb2xdID0gbW1fcmVhZEIoYmF0Y2gsXG4gICAgICAgICAgICBrU3RhcnQgKyBpbnB1dFJvdyxcbiAgICAgICAgICAgIGdsb2JhbENvbFN0YXJ0ICsgaW5wdXRDb2wke28/IiwgYmF0Y2hJbmRpY2VzIjoiIn0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBrU3RhcnQgPSBrU3RhcnQgKyB0aWxlSW5uZXI7XG4gICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG5cbiAgICAgIC8vIENvbXB1dGUgYWNjIHZhbHVlcyBmb3IgYSBzaW5nbGUgdGhyZWFkLlxuICAgICAgdmFyIEJDYWNoZWQgOiBhcnJheTwke3J9LCBjb2xQZXJUaHJlYWQ+O1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aWxlSW5uZXI7IGsgPSBrICsgMSkge1xuICAgICAgICBmb3IgKHZhciBpbm5lciA9IDA7IGlubmVyIDwgY29sUGVyVGhyZWFkOyBpbm5lciA9IGlubmVyICsgMSkge1xuICAgICAgICAgIEJDYWNoZWRbaW5uZXJdID0gbW1fQnN1YltrXVtsb2NhbENvbCArIGlubmVyICogJHt0WzBdfV07XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8IHJvd1BlclRocmVhZDsgaW5uZXJSb3cgPSBpbm5lclJvdyArIDEpIHtcbiAgICAgICAgICBsZXQgQUNhY2hlZCA9ICR7bj9gbW1fQXN1YltrXVtsb2NhbFJvdyArIGlubmVyUm93ICogJHt0WzFdfV07YDpgbW1fQXN1Yltsb2NhbFJvdyArIGlubmVyUm93ICogJHt0WzFdfV1ba107YH1cbiAgICAgICAgICBmb3IgKHZhciBpbm5lckNvbCA9IDA7IGlubmVyQ29sIDwgY29sUGVyVGhyZWFkOyBpbm5lckNvbCA9IGlubmVyQ29sICsgMSkge1xuICAgICAgICAgICAgYWNjW2lubmVyUm93XVtpbm5lckNvbF0gPSBhY2NbaW5uZXJSb3ddW2lubmVyQ29sXSArXG4gICAgICAgICAgICAgICAgQUNhY2hlZCAqIEJDYWNoZWRbaW5uZXJDb2xdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd29ya2dyb3VwQmFycmllcigpO1xuICAgIH1cbiAgICBmb3IgKHZhciBpbm5lclJvdyA9IDA7IGlubmVyUm93IDwgcm93UGVyVGhyZWFkOyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkge1xuICAgICAgbGV0IGdSb3cgPSBnbG9iYWxSb3dTdGFydCArIGxvY2FsUm93ICsgaW5uZXJSb3cgKiAke3RbMV19O1xuICAgICAgZm9yICh2YXIgaW5uZXJDb2wgPSAwOyBpbm5lckNvbCA8IGNvbFBlclRocmVhZDsgaW5uZXJDb2wgPSBpbm5lckNvbCArIDEpIHtcbiAgICAgICAgbGV0IGdDb2wgPSBnbG9iYWxDb2xTdGFydCArIGxvY2FsQ29sICsgaW5uZXJDb2wgKiAke3RbMF19O1xuICAgICAgICBtbV93cml0ZShiYXRjaCwgZ1JvdywgZ0NvbCwgYWNjW2lubmVyUm93XVtpbm5lckNvbF0pO1xuICAgICAgfVxuICAgIH1cbiAgICBgOmBcbmxldCB0aWxlUm93ID0gaTMyKGxvY2FsSWQueSkgKiByb3dQZXJUaHJlYWQ7XG5sZXQgdGlsZUNvbCA9IGkzMihsb2NhbElkLngpICogY29sUGVyVGhyZWFkO1xuXG5sZXQgZ2xvYmFsUm93ID0gaTMyKGdsb2JhbElkLnkpICogcm93UGVyVGhyZWFkO1xubGV0IGdsb2JhbENvbCA9IGkzMihnbG9iYWxJZC54KSAqIGNvbFBlclRocmVhZDtcbmxldCBnbG9iYWxSb3dTdGFydCA9IGkzMih3b3JrZ3JvdXBJZC55KSAqICR7cH07XG5cbmxldCB0aWxlUm93QSA9IGkzMihsb2NhbElkLnkpICogJHt3fTtcbmxldCB0aWxlQ29sQSA9IGkzMihsb2NhbElkLngpICogJHt5fTtcbmxldCB0aWxlUm93QiA9IGkzMihsb2NhbElkLnkpICogJHtffTtcbi8vIExvb3Agb3ZlciBzaGFyZWQgZGltZW5zaW9uLlxuZm9yICh2YXIgdCA9IDA7IHQgPCBudW1UaWxlczsgdCA9IHQgKyAxKSB7XG4gIC8vIExvYWQgb25lIHRpbGUgb2YgQSBpbnRvIGxvY2FsIG1lbW9yeS5cbiAgZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8ICR7d307IGlubmVyUm93ID0gaW5uZXJSb3cgKyAxKSB7XG4gICAgZm9yICh2YXIgaW5uZXJDb2wgPSAwOyBpbm5lckNvbCA8ICR7eX07IGlubmVyQ29sID0gaW5uZXJDb2wgKyAxKSB7XG4gICAgICBsZXQgaW5wdXRSb3cgPSB0aWxlUm93QSArIGlubmVyUm93O1xuICAgICAgbGV0IGlucHV0Q29sID0gdGlsZUNvbEEgKyBpbm5lckNvbDtcbiAgICAgICR7TmkobixvKX1cbiAgICB9XG4gIH1cblxuICAvLyBMb2FkIG9uZSB0aWxlIG9mIEIgaW50byBsb2NhbCBtZW1vcnkuXG4gIGZvciAodmFyIGlubmVyUm93ID0gMDsgaW5uZXJSb3cgPCAke199OyBpbm5lclJvdyA9IGlubmVyUm93ICsgMSkge1xuICAgIGZvciAodmFyIGlubmVyQ29sID0gMDsgaW5uZXJDb2wgPCBjb2xQZXJUaHJlYWQ7IGlubmVyQ29sID0gaW5uZXJDb2wgKyAxKSB7XG4gICAgICBsZXQgaW5wdXRSb3cgPSB0aWxlUm93QiArIGlubmVyUm93O1xuICAgICAgbGV0IGlucHV0Q29sID0gdGlsZUNvbCArIGlubmVyQ29sO1xuICAgICAgbW1fQnN1YltpbnB1dFJvd11baW5wdXRDb2xdID0gbW1fcmVhZEIoYmF0Y2gsXG4gICAgICAgIGtTdGFydCArIGlucHV0Um93LFxuICAgICAgICBnbG9iYWxDb2wgKyBpbm5lckNvbCR7bz8iLCBiYXRjaEluZGljZXMiOiIifSk7XG4gICAgfVxuICB9XG4gIGtTdGFydCA9IGtTdGFydCArIHRpbGVJbm5lcjtcbiAgd29ya2dyb3VwQmFycmllcigpO1xuXG4gIC8vIENvbXB1dGUgYWNjIHZhbHVlcyBmb3IgYSBzaW5nbGUgdGhyZWFkLlxuICB2YXIgQkNhY2hlZCA6IGFycmF5PCR7cn0sIGNvbFBlclRocmVhZD47XG4gIGZvciAodmFyIGsgPSAwOyBrIDwgdGlsZUlubmVyOyBrID0gayArIDEpIHtcbiAgICBmb3IgKHZhciBpbm5lciA9IDA7IGlubmVyIDwgY29sUGVyVGhyZWFkOyBpbm5lciA9IGlubmVyICsgMSkge1xuICAgICAgQkNhY2hlZFtpbm5lcl0gPSBtbV9Cc3ViW2tdW3RpbGVDb2wgKyBpbm5lcl07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8IHJvd1BlclRocmVhZDsgaW5uZXJSb3cgPSBpbm5lclJvdyArIDEpIHtcbiAgICAgICR7dWwobil9XG4gICAgICBmb3IgKHZhciBpbm5lckNvbCA9IDA7IGlubmVyQ29sIDwgY29sUGVyVGhyZWFkOyBpbm5lckNvbCA9IGlubmVyQ29sICsgMSkge1xuICAgICAgICBhY2NbaW5uZXJSb3ddW2lubmVyQ29sXSA9IGFjY1tpbm5lclJvd11baW5uZXJDb2xdICsgQUNhY2hlZCAqIEJDYWNoZWRbaW5uZXJDb2xdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHdvcmtncm91cEJhcnJpZXIoKTtcbn1cblxuZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8IHJvd1BlclRocmVhZDsgaW5uZXJSb3cgPSBpbm5lclJvdyArIDEpIHtcbiAgZm9yICh2YXIgaW5uZXJDb2wgPSAwOyBpbm5lckNvbCA8IGNvbFBlclRocmVhZDsgaW5uZXJDb2wgPSBpbm5lckNvbCArIDEpIHtcbiAgICBtbV93cml0ZShiYXRjaCwgZ2xvYmFsUm93ICsgaW5uZXJSb3csIGdsb2JhbENvbCArIGlubmVyQ29sLFxuICAgICAgICBhY2NbaW5uZXJSb3ddW2lubmVyQ29sXSk7XG4gIH1cbn1cbmA7cmV0dXJuYFxuICB2YXI8d29ya2dyb3VwPiBtbV9Bc3ViIDogYXJyYXk8YXJyYXk8JHtyfSwgJHtnfT4sICR7Yn0+O1xuICB2YXI8d29ya2dyb3VwPiBtbV9Cc3ViIDogYXJyYXk8YXJyYXk8JHtyfSwgJHtofT4sICR7c30+O1xuICBjb25zdCByb3dQZXJUaHJlYWQgPSAke2VbMV19O1xuICBjb25zdCBjb2xQZXJUaHJlYWQgPSAke2VbMF19O1xuICBjb25zdCB0aWxlSW5uZXIgPSAke3N9O1xuXG5AY29tcHV0ZSBAd29ya2dyb3VwX3NpemUoJHt0WzBdfSwgJHt0WzFdfSwgJHt0WzJdfSlcbmZuIG1haW4oQGJ1aWx0aW4obG9jYWxfaW52b2NhdGlvbl9pZCkgbG9jYWxJZCA6IHZlYzM8dTMyPixcbiAgICAgICAgQGJ1aWx0aW4oZ2xvYmFsX2ludm9jYXRpb25faWQpIGdsb2JhbElkIDogdmVjMzx1MzI+LFxuICAgICAgICBAYnVpbHRpbih3b3JrZ3JvdXBfaWQpIHdvcmtncm91cElkIDogdmVjMzx1MzI+KSB7XG4gICAgbGV0IGJhdGNoID0gJHt1PyIwIjoiaTMyKGdsb2JhbElkLnopIn07XG4gICAgJHtvP2BsZXQgYmF0Y2hJbmRpY2VzID0gJHtvLm9mZnNldFRvSW5kaWNlcygidTMyKGJhdGNoKSIpfTtgOiIifVxuICAgIGxldCBudW1UaWxlcyA9ICR7dT9gJHtNYXRoLmNlaWwobC9zKX1gOiIodW5pZm9ybXMuZGltSW5uZXIgLSAxKSAvIHRpbGVJbm5lciArIDEifTtcbiAgICB2YXIga1N0YXJ0ID0gJHt1P2BpMzIoZ2xvYmFsSWQueikgKiAke2x9YDoiMCJ9O1xuXG4gICAgdmFyIGFjYyA6IGFycmF5PGFycmF5PCR7cn0sIGNvbFBlclRocmVhZD4sIHJvd1BlclRocmVhZD47XG5cbiAgICAvLyBXaXRob3V0IHRoaXMgaW5pdGlhbGl6YXRpb24gc3RyYW5nZSB2YWx1ZXMgc2hvdyB1cCBpbiBhY2MuXG4gICAgZm9yICh2YXIgaW5uZXJSb3cgPSAwOyBpbm5lclJvdyA8IHJvd1BlclRocmVhZDsgaW5uZXJSb3cgPSBpbm5lclJvdyArIDEpIHtcbiAgICAgIGZvciAodmFyIGlubmVyQ29sID0gMDsgaW5uZXJDb2wgPCBjb2xQZXJUaHJlYWQ7IGlubmVyQ29sID0gaW5uZXJDb2wgKyAxKSB7XG4gICAgICAgIGFjY1tpbm5lclJvd11baW5uZXJDb2xdID0gMC4wO1xuICAgICAgfVxuICAgIH1cbiAgICAke0l9XG4gIH1cbmB9LGRsPShlLHQscixvLG4scz0hMSk9PntsZXRbdSxsLGFdPW4sW3AsaCxnLGJdPW8sdz1GdCh1LGEpLHk9RnQobCxhKSxfPUxlKG9bMF0udHlwZS50ZW5zb3IpLEk9KCk9PntsZXQgRT1oLnJhbmssQT1wLnJhbmssej1gdmFyIGFJbmRpY2VzOiAke2gudHlwZS5pbmRpY2VzfTtgO2ZvcihsZXQgUj1FLTItMSxWPUEtMTtSPj0wO1ItLSxWLS0peis9YFxuYUluZGljZXNbJHtSfV0gPSAke0E+MT9gYmF0Y2hJbmRpY2VzWyR7Vn1dYDoiYmF0Y2hJbmRpY2VzIn07YDtyZXR1cm4gdy5mb3JFYWNoKFI9Pnt6Kz1gXG5hSW5kaWNlc1ske1J9XSA9IDA7YH0pLHorPWBcbmFJbmRpY2VzWyR7RS0yfV0gPSB1MzIocm93KTtcbiAgICAgICAgICAgICAgICAgICBhSW5kaWNlc1ske0UtMX1dID0gdTMyKGNvbEluKTtgLHp9LCQ9KCk9PntsZXQgRT1nLnJhbmssQT1wLnJhbmssej1gdmFyIGJJbmRpY2VzOiAke2cudHlwZS5pbmRpY2VzfTtgO2ZvcihsZXQgUj1FLTItMSxWPUEtMTtSPj0wO1ItLSxWLS0peis9YFxuYkluZGljZXNbJHtSfV0gPSAke0E+MT9gYmF0Y2hJbmRpY2VzWyR7Vn1dYDoiYmF0Y2hJbmRpY2VzIn07YDtyZXR1cm4geS5mb3JFYWNoKFI9Pnt6Kz1gXG5iSW5kaWNlc1ske1J9XSA9IDA7YH0pLHorPWBcbmJJbmRpY2VzWyR7RS0yfV0gPSB1MzIocm93KTtcbiAgICAgICAgICAgICAgICAgICBiSW5kaWNlc1ske0UtMX1dID0gdTMyKGNvbEluKTtgLHp9O3JldHVybmBcbiAgICBmbiBtbV9yZWFkQShiYXRjaDogaTMyLCByb3c6IGkzMiwgY29sSW46IGkzMiwgYmF0Y2hJbmRpY2VzOiAke3AudHlwZS5pbmRpY2VzfSkgLT4gJHtLZShlLF8pfSB7XG4gICAgICB2YXIgdmFsdWUgPSAke0tlKGUsXyl9KDAuMCk7XG4gICAgICBsZXQgY29sID0gY29sSW4gKiAke2V9O1xuICAgICAgaWYocm93IDwgdW5pZm9ybXMuZGltQU91dGVyICYmIGNvbCA8IHVuaWZvcm1zLmRpbUlubmVyKVxuICAgICAge1xuICAgICAgICAke0koKX1cbiAgICAgICAgdmFsdWUgPSAke2guZ2V0QnlJbmRpY2VzKCJhSW5kaWNlcyIpfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBmbiBtbV9yZWFkQihiYXRjaDogaTMyLCByb3c6IGkzMiwgY29sSW46IGkzMiwgYmF0Y2hJbmRpY2VzOiAke3AudHlwZS5pbmRpY2VzfSkgLT4gJHtLZShlLF8pfSB7XG4gICAgICB2YXIgdmFsdWUgPSAke0tlKGUsXyl9KDAuMCk7XG4gICAgICBsZXQgY29sID0gY29sSW4gKiAke2V9O1xuICAgICAgaWYocm93IDwgdW5pZm9ybXMuZGltSW5uZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltQk91dGVyKVxuICAgICAge1xuICAgICAgICAkeyQoKX1cbiAgICAgICAgdmFsdWUgPSAke2cuZ2V0QnlJbmRpY2VzKCJiSW5kaWNlcyIpfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBmbiBtbV93cml0ZShiYXRjaDogaTMyLCByb3c6IGkzMiwgY29sSW46IGkzMiwgdmFsdWVJbjogJHtLZShlLF8pfSkge1xuICAgICAgbGV0IGNvbCA9IGNvbEluICogJHtlfTtcbiAgICAgIGlmIChyb3cgPCB1bmlmb3Jtcy5kaW1BT3V0ZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltQk91dGVyKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlSW47XG4gICAgICAgIGxldCBjb29yZHMgPSB2ZWMzPGkzMj4oYmF0Y2gsIHJvdywgY29sSW4pO1xuICAgICAgICAke3Q/YHZhbHVlID0gdmFsdWUgKyAke3M/ImJpYXNbY29sSW5dIjpgJHtLZShlLF8pfShiaWFzW3Jvd10pYH07YDoiIn1cbiAgICAgICAgJHtyfVxuICAgICAgICAke2Iuc2V0QnlJbmRpY2VzKCJ2ZWMzPHUzMj4oY29vcmRzKSIsInZhbHVlIil9XG4gICAgICB9XG4gICAgfVxuICAgIGB9LHRuPShlLHQscixvLG49ITEpPT57bGV0IHM9ZVswXS5kaW1zLHU9ZVsxXS5kaW1zLGw9cy5zbGljZSgwLC0yKSxhPXUuc2xpY2UoMCwtMikscD1vP28uc2xpY2UoMCwtMik6ci5zbGljZSgwLC0yKSxoPVJlKHAubGVuZ3RoKSxnPWg/cC5sZW5ndGg6cCxiPUZyKCJiYXRjaERpbXMiLGVbMF0uZGF0YVR5cGUsZywxKSx3PVUuc2l6ZShwKSx5PXNbcy5sZW5ndGgtMl0sXz1zW3MubGVuZ3RoLTFdLEk9dVt1Lmxlbmd0aC0xXSwkPV8lND09PTAmJkklND09PTAseD15PD04P1s0LDEsMV06WzQsNCwxXSxFPVs4LDgsMV0sQT1bTWF0aC5jZWlsKEkvRVswXS94WzBdKSxNYXRoLmNlaWwoeS9FWzFdL3hbMV0pLE1hdGguY2VpbCh3L0VbMl0veFsyXSldLHo9TGUoZVswXS5kYXRhVHlwZSksUj0kPzQ6MSxWPVsuLi5sLHksXy9SXSxUPVJlKFYubGVuZ3RoKSxOPVQ/Vi5sZW5ndGg6Vix0ZT1bLi4uYSxfLEkvUl0sWT1SZSh0ZS5sZW5ndGgpLEs9WT90ZS5sZW5ndGg6dGUsUT1bdyx5LEkvUl0sWj1NKCJhIixlWzBdLmRhdGFUeXBlLE4sUiksRWU9TSgiYiIsZVsxXS5kYXRhVHlwZSxLLFIpLFBlPUYoInJlc3VsdCIsZVswXS5kYXRhVHlwZSxRLmxlbmd0aCxSKSxmZT1bWixFZV0sSWU9W3t0eXBlOiJpbnQzMiIsZGF0YTp5fSx7dHlwZToiaW50MzIiLGRhdGE6SX0se3R5cGU6ImludDMyIixkYXRhOl99XTtoJiZJZS5wdXNoKC4uLkwocCkpLFQmJkllLnB1c2goLi4uTChWKSksWSYmSWUucHVzaCguLi5MKHRlKSk7bGV0IGhlPVtdO2hlLnB1c2goVD8icmFuayI6ImRpbXMiKSxoZS5wdXNoKFk/InJhbmsiOiJkaW1zIik7bGV0IHllPWUubGVuZ3RoPjIse2FjdGl2YXRpb25GdW5jdGlvbjpXZSxhcHBseUFjdGl2YXRpb246RGV9PWd0KHQsUGUudHlwZS52YWx1ZSksR2U9ZGwoUix5ZSxEZSxbYixaLEVlLFBlXSxbbCxhLHBdLG4pO2lmKHllKXtsZXQgZWU9bj9SOjE7ZmUucHVzaChNKCJiaWFzIixlWzJdLmRhdGFUeXBlLGVbMl0uZGltcy5sZW5ndGgsZWUpKSxJZS5wdXNoKC4uLkwoZVsyXS5kaW1zKSksaGUucHVzaCgicmFuayIpfUllLnB1c2goLi4uTChRKSk7bGV0IEc9ZWU9PmBcbiAgJHtlZS5yZWdpc3RlclVuaWZvcm0oImRpbUFPdXRlciIsImkzMiIpLnJlZ2lzdGVyVW5pZm9ybSgiZGltQk91dGVyIiwiaTMyIikucmVnaXN0ZXJVbmlmb3JtKCJkaW1Jbm5lciIsImkzMiIpLnJlZ2lzdGVySW50ZXJuYWxWYXJpYWJsZXMoYikuZGVjbGFyZVZhcmlhYmxlcyguLi5mZSxQZSl9XG4gICR7V2V9XG4gICR7R2V9XG4gICR7JD9tcih4LEUseixiKTpmcih4LEUseixiKX1cbiAgICAgICAgICAgICAgICAgICBgO3JldHVybntuYW1lOiJNYXRNdWwiLHNoYWRlckNhY2hlOntoaW50OnQuYWN0aXZhdGlvbkNhY2hlS2V5K2Ake3h9JHskfSR7bn1gLGlucHV0RGVwZW5kZW5jaWVzOmhlfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnIsZGF0YVR5cGU6ZVswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6QVswXSx5OkFbMV0sejpBWzJdfSxwcm9ncmFtVW5pZm9ybXM6SWV9KSxnZXRTaGFkZXJTb3VyY2U6R319fSk7dmFyIGxsLFdpLEhpPWooKCk9PnsidXNlIHN0cmljdCI7Q3QoKTt2ZSgpO0l0KCk7SnIoKTtObigpO2hyKCk7bGw9KGUsdCxyLG8sbj0hMSxzLHU9NCxsPTQsYT00LHA9ImYzMiIpPT57bGV0IGg9WT0+e3N3aXRjaChZKXtjYXNlIDE6cmV0dXJuInJlc0RhdGEgPSB4W3hJbmRleF07IjtjYXNlIDM6cmV0dXJuYHJlc0RhdGEgPSB2ZWMzPCR7cH0+KHhbeEluZGV4XSwgeFt4SW5kZXggKyAxXSwgeFt4SW5kZXggKyAyXSk7YDtjYXNlIDQ6cmV0dXJuInJlc0RhdGEgPSB4W3hJbmRleCAvIDRdOyI7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYGlubmVyRWxlbWVudFNpemUgJHtZfSBpcyBub3Qgc3VwcG9ydGVkLmApfX0sZz1ZPT57c3dpdGNoKFkpe2Nhc2UgMTpyZXR1cm4icmV0dXJuIHdbcm93ICogaTMyKHVuaWZvcm1zLndfc2hhcGVbM10pICsgY29sSW5dOyI7Y2FzZSA0OnJldHVybiJyZXR1cm4gd1tyb3cgKiBpMzIodW5pZm9ybXMud19zaGFwZVszXSkgLyA0ICsgY29sSW5dOyI7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYGlubmVyRWxlbWVudFNpemUgJHtZfSBpcyBub3Qgc3VwcG9ydGVkLmApfX0sYj1lP2BcbiAgICBsZXQgY29vcmQgPSB2ZWM0PGkzMj4oYmF0Y2gsIHhSb3csIHhDb2wsIHhDaCk7XG4gICAgYDpgXG4gICAgbGV0IGNvb3JkID0gdmVjNDxpMzI+KGJhdGNoLCB4Q2gsIHhSb3csIHhDb2wpO1xuICAgIGAsdz1lP2BcbiAgICBsZXQgY29vcmRzID0gdmVjNDxpMzI+KFxuICAgICAgYmF0Y2gsXG4gICAgICByb3cgLyBvdXRXaWR0aCxcbiAgICAgIHJvdyAlIG91dFdpZHRoLFxuICAgICAgY29sKTtcbiAgICBgOmBcbiAgICBsZXQgY29vcmRzID0gdmVjNDxpMzI+KFxuICAgICAgYmF0Y2gsXG4gICAgICByb3csXG4gICAgICBjb2wgLyBvdXRXaWR0aCxcbiAgICAgIGNvbCAlIG91dFdpZHRoKTtcbiAgICBgLHk9ZT8iaTMyKHVuaWZvcm1zLnhfc2hhcGVbMV0pIjoiaTMyKHVuaWZvcm1zLnhfc2hhcGVbMl0pIixfPWU/ImkzMih1bmlmb3Jtcy54X3NoYXBlWzJdKSI6ImkzMih1bmlmb3Jtcy54X3NoYXBlWzNdKSIsST1lPyJyb3ciOiJjb2wiLCQ9ZT8iY29sIjoicm93Iix4PWBcbiAgICBsZXQgaW5DaGFubmVscyA9IGkzMih1bmlmb3Jtcy53X3NoYXBlWzJdKTtcbiAgICBsZXQgb3V0V2lkdGggPSAke2U/ImkzMih1bmlmb3Jtcy5yZXN1bHRfc2hhcGVbMl0pIjoiaTMyKHVuaWZvcm1zLnJlc3VsdF9zaGFwZVszXSkifTtcbiAgICBsZXQgb3V0Um93ID0gJHtJfSAvIG91dFdpZHRoO1xuICAgIGxldCBvdXRDb2wgPSAke0l9ICUgb3V0V2lkdGg7XG5cbiAgICBsZXQgV1JvdyA9ICR7JH0gLyAoZmlsdGVyRGltc1sxXSAqIGluQ2hhbm5lbHMpO1xuICAgIGxldCBXQ29sID0gJHskfSAvIGluQ2hhbm5lbHMgJSBmaWx0ZXJEaW1zWzFdO1xuICAgIGxldCB4Um93ID0gb3V0Um93ICogc3RyaWRlWzBdICsgZGlsYXRpb25bMF0gKiBXUm93IC0gcGFkWzBdO1xuICAgIGxldCB4Q29sID0gb3V0Q29sICogc3RyaWRlWzFdICsgZGlsYXRpb25bMV0gKiBXQ29sIC0gcGFkWzFdO1xuICAgIGxldCB4Q2ggPSAkeyR9ICUgaW5DaGFubmVscztcbiAgICB2YXIgcmVzRGF0YSA9ICR7S2UodSxwKX0oMC4wKTtcbiAgICAvLyBUaGUgYm91bmRzIGNoZWNraW5nIGlzIGFsd2F5cyBuZWVkZWQgc2luY2Ugd2UgdXNlIGl0IHRvIHBhZCB6ZXJvIGZvclxuICAgIC8vIHRoZSBcJ3NhbWVcJyBwYWRkaW5nIHR5cGUuXG4gICAgaWYgKHhSb3cgPj0gMCAmJiB4Um93IDwgJHt5fSAmJiB4Q29sID49IDAgJiYgeENvbCA8ICR7X30pIHtcbiAgICAgICR7Yn1cbiAgICAgIGxldCB4SW5kZXggPSBnZXRJbmRleEZyb21Db29yZHM0RChjb29yZCwgdmVjNDxpMzI+KHVuaWZvcm1zLnhfc2hhcGUpKTtcbiAgICAgICR7aCh1KX1cbiAgICB9XG4gICAgcmV0dXJuIHJlc0RhdGE7YCxFPWU/dCYmbz9gXG4gICAgbGV0IGNvbCA9IGNvbEluICogJHt1fTtcbiAgICAke3h9YDpgXG4gICAgbGV0IGNvbCA9IGNvbEluICogJHt1fTtcbiAgICBpZiAocm93IDwgdW5pZm9ybXMuZGltQU91dGVyICYmIGNvbCA8IHVuaWZvcm1zLmRpbUlubmVyKSB7XG4gICAgICAke3h9XG4gICAgfVxuICAgIHJldHVybiAke0tlKHUscCl9KDAuMCk7YDpvJiZyP2BcbiAgICBsZXQgY29sID0gY29sSW4gKiAke3V9O1xuICAgICR7eH1gOmBcbiAgICBsZXQgY29sID0gY29sSW4gKiAke3V9O1xuICAgIGlmIChyb3cgPCB1bmlmb3Jtcy5kaW1Jbm5lciAmJiBjb2wgPCB1bmlmb3Jtcy5kaW1CT3V0ZXIpIHtcbiAgICAgICR7eH1cbiAgICB9XG4gICAgcmV0dXJuICR7S2UodSxwKX0oMC4wKTtgLEE9YCR7ZyhsKX1gLHo9S2UoYSxwKSxSPWU/S2UodSxwKTpLZShsLHApLFY9ZT9LZShsLHApOktlKHUscCkse2FjdGl2YXRpb25GdW5jdGlvbjpULGFwcGx5QWN0aXZhdGlvbjpOfT1ndChzLHopO3JldHVybmBcbiAgICAke1R9XG4gICAgZm4gbW1fcmVhZEEoYmF0Y2g6IGkzMiwgcm93IDogaTMyLCBjb2xJbiA6IGkzMikgLT4gJHtSfSB7XG4gICAgICAke2U/RTpBfVxuICAgIH1cblxuICAgIGZuIG1tX3JlYWRCKGJhdGNoOiBpMzIsIHJvdyA6IGkzMiwgY29sSW4gOiBpMzIpIC0+ICR7Vn0ge1xuICAgICAgJHtlP0E6RX1cbiAgICB9XG5cbiAgICBmbiBtbV93cml0ZShiYXRjaDogaTMyLCByb3cgOiBpMzIsIGNvbEluIDogaTMyLCB2YWx1ZUluIDogJHt6fSkge1xuICAgICAgbGV0IGNvbCA9IGNvbEluICogJHthfTtcbiAgICAgIGlmIChyb3cgPCB1bmlmb3Jtcy5kaW1BT3V0ZXIgJiYgY29sIDwgdW5pZm9ybXMuZGltQk91dGVyKVxuICAgICAge1xuICAgICAgdmFyIHZhbHVlID0gdmFsdWVJbjtcbiAgICAgIGxldCBvdXRXaWR0aCA9ICR7ZT8iaTMyKHVuaWZvcm1zLnJlc3VsdF9zaGFwZVsyXSkiOiJpMzIodW5pZm9ybXMucmVzdWx0X3NoYXBlWzNdKSJ9O1xuICAgICAgJHt3fVxuICAgICAgJHtYcihuKX1cbiAgICAgICR7Tn1cbiAgICAgIHNldE91dHB1dEF0Q29vcmRzKGNvb3Jkc1swXSwgY29vcmRzWzFdLCBjb29yZHNbMl0sIGNvb3Jkc1szXSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1gfSxXaT0oZSx0LHIsbyxuLHMsdSxsKT0+e2xldCBhPXQuZm9ybWF0PT09Ik5IV0MiLHA9YT9lWzBdLmRpbXNbM106ZVswXS5kaW1zWzFdLGg9clswXSxnPWE/clsyXTpyWzNdLGI9YT9yWzFdOnJbMl0sdz1hP3JbM106clsxXSx5PWEmJihwJTQ9PT0wfHxwJTM9PT0wKSYmdyU0PT09MCxfPWE/dzpnKmIsST1hP2cqYjp3LCQ9WzgsOCwxXSx4PW88PTg/WzQsMSwxXTpbNCw0LDFdLEU9W01hdGguY2VpbChfLyRbMF0veFswXSksTWF0aC5jZWlsKEkvJFsxXS94WzFdKSxNYXRoLmNlaWwoaC8kWzJdL3hbMl0pXTtCZSgidmVyYm9zZSIsKCk9PmBbY29udjJkX21tX3dlYmdwdV0gZGlzcGF0Y2ggPSAke0V9YCk7bGV0IEE9eT9hJiZwJTQhPT0wPzM6NDoxLHo9JFsxXSp4WzFdLFI9JFswXSp4WzBdLFY9TWF0aC5tYXgoJFswXSpBLCRbMV0pLFQ9byV6PT09MCxOPW4lUj09PTAsdGU9cyVWPT09MCxZPXk/W0EsNCw0XTpbMSwxLDFdLEs9TGUoZVswXS5kYXRhVHlwZSksUT15PzQ6MSxaPVt7dHlwZToiaW50MzIiLGRhdGE6b30se3R5cGU6ImludDMyIixkYXRhOm59LHt0eXBlOiJpbnQzMiIsZGF0YTpzfV0sRWU9TSgieCIsZVswXS5kYXRhVHlwZSxlWzBdLmRpbXMubGVuZ3RoLEE9PT0zPzE6QSksUGU9TSgidyIsZVsxXS5kYXRhVHlwZSxlWzFdLmRpbXMubGVuZ3RoLFEpLGZlPVtFZSxQZV07Wi5wdXNoKC4uLkwoZVswXS5kaW1zKSksWi5wdXNoKC4uLkwoZVsxXS5kaW1zKSk7bGV0IEllPWBcbiAgICAgIGZuIHNldE91dHB1dEF0SW5kZXgoZmxhdEluZGV4IDogaTMyLCB2YWx1ZSA6ICR7eT9gdmVjNDwke0t9PmA6S30pIHtcbiAgICAgICAgcmVzdWx0W2ZsYXRJbmRleF0gPSAke3k/YHZlYzQ8JHtLfT5gOkt9KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGZuIHNldE91dHB1dEF0Q29vcmRzKGQwIDogaTMyLCBkMSA6IGkzMiwgZDIgOiBpMzIsIGQzIDogaTMyLCB2YWx1ZSA6ICR7eT9gdmVjNDwke0t9PmA6S30pIHtcbiAgICAgICAgbGV0IGZsYXRJbmRleCA9IGdldE91dHB1dEluZGV4RnJvbUNvb3Jkcyh2ZWM0PGkzMj4oZDAsIGQxLCBkMiwgZDMpKTtcbiAgICAgICAgc2V0T3V0cHV0QXRJbmRleChmbGF0SW5kZXggJHt5PyIvIDQiOiIifSwgdmFsdWUpO1xuICAgICAgfWA7aWYodSl7bGV0IHllPU0oImJpYXMiLGVbMl0uZGF0YVR5cGUsZVsyXS5kaW1zLmxlbmd0aCxRKTtmZS5wdXNoKHllKSxaLnB1c2goLi4uTChlWzJdLmRpbXMpKSxJZSs9YFxuICAgICAgICBmbiBnZXRCaWFzQnlPdXRwdXRDb29yZHMoY29vcmRzIDogdmVjNDxpMzI+KSAtPiAke3k/YHZlYzQ8JHtLfT5gOkt9IHtcbiAgICAgICAgICByZXR1cm4gYmlhc1tjb29yZHMuJHthPyJ3IjoieSJ9JHt5PyIvIDQiOiIifV07XG4gICAgICAgIH1gfWxldCBoZT1GKCJyZXN1bHQiLGVbMF0uZGF0YVR5cGUsci5sZW5ndGgsUSk7cmV0dXJuIFoucHVzaCguLi5MKHIpKSx7bmFtZToiQ29udjJETWF0TXVsIixzaGFkZXJDYWNoZTp7aGludDp0LmNhY2hlS2V5fSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnIsZGF0YVR5cGU6ZVswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6RVswXSx5OkVbMV0sejpFWzJdfSxwcm9ncmFtVW5pZm9ybXM6Wn0pLGdldFNoYWRlclNvdXJjZTp5ZT0+YFxuICAgICAgICAke2VuKCJ1bmlmb3Jtcy5yZXN1bHRfc3RyaWRlcyIpfVxuICAgICAgICAvL3N0cnVjdCBVbmlmb3JtcyB7IHhTaGFwZSA6IHZlYzQ8aTMyPiwgd1NoYXBlIDogdmVjNDxpMzI+LCBvdXRTaGFwZSA6IHZlYzQ8aTMyPixcbiAgICAgICAgLy8gIG91dFNoYXBlU3RyaWRlczogdmVjMzxpMzI+LCBmaWx0ZXJEaW1zIDogdmVjMjxpMzI+LCBwYWQgOiB2ZWMyPGkzMj4sIHN0cmlkZSA6IHZlYzI8aTMyPixcbiAgICAgICAgLy8gIGRpbGF0aW9uIDogdmVjMjxpMzI+LCBkaW1BT3V0ZXIgOiBpMzIsIGRpbUJPdXRlciA6IGkzMiwgZGltSW5uZXIgOiBpMzIgfTtcbiAgICAgICAgJHt5ZS5yZWdpc3RlclVuaWZvcm0oImRpbUFPdXRlciIsImkzMiIpLnJlZ2lzdGVyVW5pZm9ybSgiZGltQk91dGVyIiwiaTMyIikucmVnaXN0ZXJVbmlmb3JtKCJkaW1Jbm5lciIsImkzMiIpLmRlY2xhcmVWYXJpYWJsZXMoLi4uZmUsaGUpfVxuICAgICAgICBjb25zdCBmaWx0ZXJEaW1zIDogdmVjMjxpMzI+ID0gdmVjMjxpMzI+KCR7dC5rZXJuZWxTaGFwZVswXX0sICR7dC5rZXJuZWxTaGFwZVsxXX0pO1xuICAgICAgICBjb25zdCBwYWQgOiB2ZWMyPGkzMj4gPSB2ZWMyPGkzMj4oJHt0LnBhZHNbMF19LCAke3QucGFkc1sxXX0pO1xuICAgICAgICBjb25zdCBzdHJpZGUgOiB2ZWMyPGkzMj4gPSB2ZWMyPGkzMj4oJHt0LnN0cmlkZXNbMF19LCAke3Quc3RyaWRlc1sxXX0pO1xuICAgICAgICBjb25zdCBkaWxhdGlvbiA6IHZlYzI8aTMyPiA9IHZlYzI8aTMyPigke3QuZGlsYXRpb25zWzBdfSwgJHt0LmRpbGF0aW9uc1sxXX0pO1xuICAgICAgICAke0llfVxuICAgICAgICAke2xsKGEsVCxOLHRlLHUsdCxZWzBdLFlbMV0sWVsyXSxLKX1cbiAgICAgICAgICAgICR7eT9tcih4LCQsSyx2b2lkIDAsIWEsVik6ZnIoeCwkLEssdm9pZCAwLCFhLFYsITEsdm9pZCAwLGwpfWB9fX0pO3ZhciBXbixHaT1qKCgpPT57InVzZSBzdHJpY3QiOyRlKCk7dmUoKTtHbigpO0l0KCk7V249KGUsdCxyKT0+e2xldCBvPWUubGVuZ3RoPjIsbj1vPyJ2YWx1ZSArPSBiW291dHB1dF9jaGFubmVsXTsiOiIiLHM9ZVswXS5kaW1zLHU9ZVsxXS5kaW1zLGw9dVswXS90Lmdyb3VwLGE9dC5mb3JtYXQ9PT0iTkhXQyIscD1IbihzLHUsdC5kaWxhdGlvbnMsdC5wYWRzLHQuc3RyaWRlcyxhKSxoPVUuc2l6ZShwKSxnPUYoIm91dHB1dCIsZVswXS5kYXRhVHlwZSxwKSx7YWN0aXZhdGlvbkZ1bmN0aW9uOmIsYXBwbHlBY3RpdmF0aW9uOnd9PWd0KHQsZy50eXBlLnZhbHVlKSx5PU0oIngiLGVbMF0uZGF0YVR5cGUscyksXz1NKCJ3IixlWzFdLmRhdGFUeXBlLHUpLEk9W3ksX107byYmSS5wdXNoKE0oImIiLGVbMl0uZGF0YVR5cGUsZVsyXS5kaW1zKSk7bGV0ICQ9eD0+YFxuICBjb25zdCBzdHJpZGVzOiB2ZWMyPHUzMj4gPSB2ZWMyKCR7dC5zdHJpZGVzWzBdfXUsICR7dC5zdHJpZGVzWzFdfXUpO1xuICBjb25zdCBwYWRzOiB2ZWMyPHUzMj4gPSB2ZWMyKCR7dC5wYWRzWzBdfXUsICR7dC5wYWRzWzFdfXUpO1xuXG4gICR7eC5kZWNsYXJlVmFyaWFibGVzKC4uLkksZyl9XG5cbiAgJHtifVxuXG4gICR7eC5tYWluU3RhcnQoKX1cbiAgICAke3guZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcyhoKX1cblxuICAgIGxldCBvdXRwdXRJbmRpY2VzID0gJHtnLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcbiAgICBsZXQgYmF0Y2g6IHUzMiA9IG91dHB1dEluZGljZXNbMF07XG4gICAgbGV0IG91dHB1dF9jaGFubmVsOiB1MzIgPSBvdXRwdXRJbmRpY2VzWyR7YT8zOjF9XTtcbiAgICBsZXQgeFJDQ29ybmVyOiB2ZWMyPHUzMj4gPSB2ZWMyPHUzMj4ob3V0cHV0SW5kaWNlc1ske2E/MToyfV0sIG91dHB1dEluZGljZXNbJHthPzI6M31dKSAqIHN0cmlkZXMgLSBwYWRzO1xuICAgIGxldCBncm91cF9pZDogdTMyID0gb3V0cHV0X2NoYW5uZWwgLyAke2x9dTtcblxuICAgIHZhciB2YWx1ZTogJHtnLnR5cGUudmFsdWV9ID0gJHtnLnR5cGUudmFsdWV9KDApO1xuICAgIGZvciAodmFyIHdJbkNoYW5uZWw6IHUzMiA9IDB1OyB3SW5DaGFubmVsIDwgJHt1WzFdfXU7IHdJbkNoYW5uZWwrKykge1xuICAgICAgbGV0IGlucHV0X2NoYW5uZWwgPSBncm91cF9pZCAqICR7dVsxXX11ICsgd0luQ2hhbm5lbDtcbiAgICAgIGZvciAodmFyIHdIZWlnaHQ6IHUzMiA9IDB1OyB3SGVpZ2h0IDwgJHt1WzJdfXU7IHdIZWlnaHQrKykge1xuICAgICAgICBsZXQgeEhlaWdodCA9IHhSQ0Nvcm5lci54ICsgd0hlaWdodCAqICR7dC5kaWxhdGlvbnNbMF19dTtcblxuICAgICAgICBpZiAoeEhlaWdodCA8IDB1IHx8IHhIZWlnaHQgPj0gJHtzW2E/MToyXX11KSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciB3V2lkdGg6IHUzMiA9IDB1OyB3V2lkdGggPCAke3VbM119dTsgd1dpZHRoKyspIHtcbiAgICAgICAgICBsZXQgeFdpZHRoID0geFJDQ29ybmVyLnkgKyB3V2lkdGggKiAke3QuZGlsYXRpb25zWzFdfXU7XG4gICAgICAgICAgaWYgKHhXaWR0aCA8IDB1IHx8IHhXaWR0aCA+PSAke3NbYT8yOjNdfXUpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldCB4VmFsID0gJHthP3kuZ2V0KCJiYXRjaCIsInhIZWlnaHQiLCJ4V2lkdGgiLCJpbnB1dF9jaGFubmVsIik6eS5nZXQoImJhdGNoIiwiaW5wdXRfY2hhbm5lbCIsInhIZWlnaHQiLCJ4V2lkdGgiKX07XG4gICAgICAgICAgbGV0IHdWYWwgPSAke18uZ2V0KCJvdXRwdXRfY2hhbm5lbCIsIndJbkNoYW5uZWwiLCJ3SGVpZ2h0Iiwid1dpZHRoIil9O1xuICAgICAgICAgIHZhbHVlICs9IHhWYWwqd1ZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAke259XG4gICAgJHt3fVxuICAgICR7Zy5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsInZhbHVlIil9XG4gIH1gO3JldHVybntuYW1lOiJHcm91cGVkQ29udiIsc2hhZGVyQ2FjaGU6e2hpbnQ6dC5jYWNoZUtleX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpyP3IocCk6cCxkYXRhVHlwZTplWzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoaC82NCl9fSksZ2V0U2hhZGVyU291cmNlOiR9fX0pO3ZhciBMbixjbCxMaSxGbj1qKCgpPT57InVzZSBzdHJpY3QiOyRlKCk7aHIoKTt2ZSgpO0l0KCk7TG49KGUsdCxyLG8sbj0hMSk9PntsZXQgcz1lWzBdLmRpbXMsdT1lWzFdLmRpbXMsbD1zW3MubGVuZ3RoLTJdLGE9dVt1Lmxlbmd0aC0xXSxwPXNbcy5sZW5ndGgtMV0saD1GZShhKSxnPUZlKHApLGI9RmUobCksdz1VLnNpemUocikvaC9iLHk9ZS5sZW5ndGg+MixfPW8/by5zbGljZSgwLC0yKTpyLnNsaWNlKDAsLTIpLCQ9W1Uuc2l6ZShfKSxsLGFdLHg9W3t0eXBlOiJ1aW50MzIiLGRhdGE6d30se3R5cGU6InVpbnQzMiIsZGF0YTpsfSx7dHlwZToidWludDMyIixkYXRhOmF9LHt0eXBlOiJ1aW50MzIiLGRhdGE6cH0sLi4uTChfKSwuLi5MKHMpLC4uLkwodSldO3kmJngucHVzaCguLi5MKGVbMl0uZGltcykpLHgucHVzaCguLi5MKCQpKTtsZXQgRT1BPT57bGV0IHo9RnIoImJhdGNoX2RpbXMiLGVbMF0uZGF0YVR5cGUsXy5sZW5ndGgpLFI9TSgiYSIsZVswXS5kYXRhVHlwZSxzLmxlbmd0aCxnKSxWPU0oImIiLGVbMV0uZGF0YVR5cGUsdS5sZW5ndGgsaCksVD1GKCJvdXRwdXQiLGVbMF0uZGF0YVR5cGUsJC5sZW5ndGgsaCkse2FjdGl2YXRpb25GdW5jdGlvbjpOLGFwcGx5QWN0aXZhdGlvbjp0ZX09Z3QodCxULnR5cGUudmFsdWUpLFk9W1IsVl0sSz0iIjtpZih5KXtsZXQgaGU9bj9oOjE7WS5wdXNoKE0oImJpYXMiLGVbMl0uZGF0YVR5cGUsZVsyXS5kaW1zLmxlbmd0aCxoZSkpLEs9YCR7bj9gdmFsdWUgKz0gYmlhc1tjb2wgLyAke2hlfV07YDpgdmFsdWUgKz0gJHtULnR5cGUudmFsdWV9KGJpYXNbcm93ICsgaV0pO2B9YH1sZXQgUT1zLnNsaWNlKDAsLTIpLFo9dS5zbGljZSgwLC0yKSxFZT1GdChRLF8pLFBlPUZ0KFosXyksZmU9KGhlLHllKT0+e2xldCBXZT1oZS5yYW5rLERlPWhlLm5hbWU7aWYoV2U9PT0yKXJldHVybmB2YXIgJHtEZX1faW5kaWNlcyA9ICR7aGUudHlwZS5pbmRpY2VzfSgwdSwgMHUpO2A7bGV0IEdlPXoucmFuayxHPWB2YXIgJHtEZX1faW5kaWNlczogJHtoZS50eXBlLmluZGljZXN9O2A7Zm9yKGxldCBlZT1XZS0yLTEsYmU9R2UtMTtlZT49MDtlZS0tLGJlLS0pRys9YFxuJHtEZX1faW5kaWNlc1ske2VlfV0gPSAke0dlPjE/YGJhdGNoX2luZGljZXNbJHtiZX1dYDoiYmF0Y2hfaW5kaWNlcyJ9O2A7cmV0dXJuIHllLmZvckVhY2goZWU9PntHKz1gXG4ke0RlfV9pbmRpY2VzWyR7ZWV9XSA9IDA7YH0pLEcrPWAke0RlfV9pbmRpY2VzWyR7V2UtMn1dID0gMHU7XG4gICAgICAgICAgICAgICAgICAgICAke0RlfV9pbmRpY2VzWyR7V2UtMX1dID0gMHU7YCxHfSxJZT0oKT0+e2xldCBoZT1gdmFyIGFfZGF0YTogJHtSLnR5cGUudmFsdWV9O2A7Zm9yKGxldCB5ZT0wO3llPGc7eWUrKyloZSs9YFxuICAgICAgICAgICAgICBsZXQgYl9kYXRhJHt5ZX0gPSBiWyhiX29mZnNldCArIChrICsgJHt5ZX0pICogdW5pZm9ybXMuTiArIGNvbCkgLyAke2h9XTtgO2ZvcihsZXQgeWU9MDt5ZTxiO3llKyspe2hlKz1gYV9kYXRhID0gYVsoYV9vZmZzZXQgKyAocm93ICsgJHt5ZX0pICogdW5pZm9ybXMuSyArIGspIC8gJHtnfV07YDtmb3IobGV0IFdlPTA7V2U8ZztXZSsrKWhlKz1gXG4gICAgICAgICAgICB2YWx1ZXNbJHt5ZX1dID0gZm1hKCR7Vi50eXBlLnZhbHVlfShhX2RhdGEke2c9PT0xPyIiOmBbJHtXZX1dYH0pLCBiX2RhdGEke1dlfSwgdmFsdWVzWyR7eWV9XSk7XG5gfXJldHVybiBoZX07cmV0dXJuYFxuICAke0EucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRTaXplIiwidTMyIikucmVnaXN0ZXJVbmlmb3JtKCJNIiwidTMyIikucmVnaXN0ZXJVbmlmb3JtKCJOIiwidTMyIikucmVnaXN0ZXJVbmlmb3JtKCJLIiwidTMyIikucmVnaXN0ZXJJbnRlcm5hbFZhcmlhYmxlcyh6KS5kZWNsYXJlVmFyaWFibGVzKC4uLlksVCl9XG4gICR7Tn1cbiAgJHtBLm1haW5TdGFydCgpfVxuICAgICR7QS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9XG4gICAgbGV0IGNvbCA9IChnbG9iYWxfaWR4ICUgKHVuaWZvcm1zLk4gLyAke2h9KSkgKiAke2h9O1xuICAgIHZhciBpbmRleDEgPSBnbG9iYWxfaWR4IC8gKHVuaWZvcm1zLk4gLyAke2h9KTtcbiAgICBsZXQgc3RyaWRlMSA9IHVuaWZvcm1zLk0gLyAke2J9O1xuICAgIGxldCByb3cgPSAoaW5kZXgxICUgc3RyaWRlMSkgKiAke2J9O1xuICAgIGxldCBiYXRjaCA9IGluZGV4MSAvIHN0cmlkZTE7XG5cbiAgICAke3IubGVuZ3RoPT09Mj8iIjpgbGV0IGJhdGNoX2luZGljZXMgPSAke3oub2Zmc2V0VG9JbmRpY2VzKCJiYXRjaCIpfTtgfVxuICAgICR7ZmUoUixFZSl9XG4gICAgbGV0IGFfb2Zmc2V0ID0gJHtSLmluZGljZXNUb09mZnNldCgiYV9pbmRpY2VzIil9O1xuICAgICR7ZmUoVixQZSl9XG4gICAgbGV0IGJfb2Zmc2V0ID0gJHtWLmluZGljZXNUb09mZnNldCgiYl9pbmRpY2VzIil9O1xuICAgIHZhciB2YWx1ZXM6IGFycmF5PCR7VC50eXBlLnZhbHVlfSwgJHtifT47XG4gICAgZm9yICh2YXIgazogdTMyID0gMHU7IGsgPCB1bmlmb3Jtcy5LOyBrID0gayArICR7Z30pIHtcbiAgICAgICR7SWUoKX1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDB1OyBpIDwgJHtifXU7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gdmFsdWVzW2ldO1xuICAgICAgJHtLfVxuICAgICAgJHt0ZX1cbiAgICAgIGxldCBjdXJfaW5kaWNlcyA9ICR7VC50eXBlLmluZGljZXN9KGJhdGNoLCByb3cgKyBpLCBjb2wpO1xuICAgICAgbGV0IG9mZnNldCA9ICR7VC5pbmRpY2VzVG9PZmZzZXQoImN1cl9pbmRpY2VzIil9O1xuICAgICAgJHtULnNldEJ5T2Zmc2V0KGBvZmZzZXQgLyAke2h9YCwidmFsdWUiKX07XG4gICAgfVxuICB9XG4gIGB9O3JldHVybntuYW1lOiJNYXRNdWxOYWl2ZSIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7dC5hY3RpdmF0aW9uQ2FjaGVLZXl9XyR7aH1fJHtnfV8ke2J9XyR7bn1gLGlucHV0RGVwZW5kZW5jaWVzOnk/WyJyYW5rIiwicmFuayIsInJhbmsiXTpbInJhbmsiLCJyYW5rIl19LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cixkYXRhVHlwZTplWzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwody82NCl9LHByb2dyYW1Vbmlmb3Jtczp4fSksZ2V0U2hhZGVyU291cmNlOkV9fSxjbD1lPT57aWYoIWV8fGUubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoIk1hdE11bCByZXF1aXJlcyAyIGlucHV0cy4iKTtpZihlWzBdLmRpbXNbZVswXS5kaW1zLmxlbmd0aC0xXSE9PWVbMV0uZGltc1tlWzFdLmRpbXMubGVuZ3RoLTJdKXRocm93IG5ldyBFcnJvcigic2hhcmVkIGRpbWVuc2lvbiBkb2VzIG5vdCBtYXRjaC4iKX0sTGk9ZT0+e2NsKGUuaW5wdXRzKTtsZXQgdD1kdC5jYWxjU2hhcGUoZS5pbnB1dHNbMF0uZGltcyxlLmlucHV0c1sxXS5kaW1zLCEwKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIkNhblwndCB1c2UgbWF0bXVsIG9uIHRoZSBnaXZlbiB0ZW5zb3JzIik7bGV0IHI9dFt0Lmxlbmd0aC0xXSxvPWUuaW5wdXRzWzBdLmRpbXNbZS5pbnB1dHNbMF0uZGltcy5sZW5ndGgtMV07cjw4JiZvPDg/ZS5jb21wdXRlKExuKGUuaW5wdXRzLHthY3RpdmF0aW9uOiIiLGFjdGl2YXRpb25DYWNoZUtleToiIn0sdCkpOmUuY29tcHV0ZSh0bihlLmlucHV0cyx7YWN0aXZhdGlvbjoiIixhY3RpdmF0aW9uQ2FjaGVLZXk6IiJ9LHQpKX19KTt2YXIgSG4sRmkscGwsamksam4sbWwsZmwscW4sR249aigoKT0+eyJ1c2Ugc3RyaWN0IjskZSgpO2plKCk7SGkoKTtocigpO0dpKCk7SXQoKTtGbigpO2p0KCk7SG49KGUsdCxyLG8sbixzKT0+e2xldCB1PWVbMF0sbD1lLnNsaWNlKHM/MToyLHM/Mzo0KSxhPWwubGVuZ3RoLHA9dFswXSxnPXQuc2xpY2UoMikubWFwKCh5LF8pPT55Kyh5LTEpKihyW19dLTEpKSx3PWwubWFwKCh5LF8pPT55K29bX10rb1tfK2FdKS5tYXAoKHksXyk9Pk1hdGguZmxvb3IoKHktZ1tfXStuW19dKS9uW19dKSk7cmV0dXJuIHcuc3BsaWNlKDAsMCx1KSx3LnNwbGljZShzPzM6MSwwLHApLHd9LEZpPVsyLDMsMSwwXSxwbD0oZSx0KT0+e2lmKCFlfHxlLmxlbmd0aCE9PTImJmUubGVuZ3RoIT09Myl0aHJvdyBuZXcgRXJyb3IoIkNvbnYgcmVxdWlyZXMgMiBvciAzIGlucHV0cyIpO2lmKGVbMF0uZGltcy5sZW5ndGghPT00JiZlWzBdLmRpbXMubGVuZ3RoIT09Myl0aHJvdyBuZXcgRXJyb3IoImN1cnJlbnRseSBvbmx5IHN1cHBvcnQgY29udiAxRCBhbmQgMkQiKTtpZihlWzBdLmRpbXMubGVuZ3RoIT09ZVsxXS5kaW1zLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImZpbHRlciBkb2VzIG5vdCBoYXZlIHNhbWUgZGltZW5zaW9uIGFzIGlucHV0Iik7bGV0IHI9ZVswXS5kaW1zW3QuZm9ybWF0PT09Ik5IV0MiP2VbMF0uZGltcy5sZW5ndGgtMToxXSxvPWVbMV0uZGltc1sxXSp0Lmdyb3VwO2lmKHIhPT1vKXRocm93IG5ldyBFcnJvcigiRklMVEVSX0lOX0NIQU5ORUwgc2hvdWxkIGJlIGVxdWFsIHRvIERBVEFfQ0hBTk5FTCIpO2lmKGUubGVuZ3RoPT09MyYmKGVbMl0uZGltcy5sZW5ndGghPT0xfHxlWzFdLmRpbXNbMF0hPT1lWzJdLmRpbXNbMF0pKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBiaWFzIik7bGV0IG49ZVswXS5kaW1zLmxlbmd0aC0yO2lmKHQuZGlsYXRpb25zLmxlbmd0aCE9PW4pdGhyb3cgbmV3IEVycm9yKGBkaWxhdGlvbnMgc2hvdWxkIGJlICR7bn1EYCk7aWYodC5zdHJpZGVzLmxlbmd0aCE9PW4pdGhyb3cgbmV3IEVycm9yKGBzdHJpZGVzIHNob3VsZCBiZSAke259RGApO2lmKHQucGFkcy5sZW5ndGghPT1uKjIpdGhyb3cgbmV3IEVycm9yKGBwYWRzIHNob3VsZCBiZSAke24qMn1EYCk7aWYodC5rZXJuZWxTaGFwZS5sZW5ndGghPT0wJiZ0Lmtlcm5lbFNoYXBlLmxlbmd0aCE9PWVbMV0uZGltcy5sZW5ndGgtMil0aHJvdyBuZXcgRXJyb3IoImludmFsaWQga2VybmVsIHNoYXBlIil9LGppPShlLHQpPT57bGV0IHI9ZS5rZXJuZWxTaGFwZS5zbGljZSgpO2ZvcihsZXQgcz0yO3M8dFsxXS5kaW1zLmxlbmd0aDsrK3MpcltzLTJdPT09MCYmKHJbcy0yXT10WzFdLmRpbXNbc10pO2xldCBvPWUucGFkcy5zbGljZSgpO0J0LmFkanVzdFBhZHNCYXNlZE9uQXV0b1BhZCh0WzBdLmRpbXMsZS5zdHJpZGVzLGUuZGlsYXRpb25zLHIsbyxlLmZvcm1hdD09PSJOSFdDIixlLmF1dG9QYWQpO2xldCBuPU9iamVjdC5hc3NpZ24oe30sZSk7cmV0dXJuIE9iamVjdC5hc3NpZ24obix7a2VybmVsU2hhcGU6cixwYWRzOm8sY2FjaGVLZXk6ZS5jYWNoZUtleX0pLG59LGpuPWU9PntsZXQgdD1RcihlKSxyPWUuZm9ybWF0LG89WyJOT1RTRVQiLCJWQUxJRCIsIlNBTUVfVVBQRVIiLCJTQU1FX0xPV0VSIl1bZS5hdXRvX3BhZF0sbj1lLmRpbGF0aW9ucyxzPWUuZ3JvdXAsdT1lLmtlcm5lbF9zaGFwZSxsPWUucGFkcyxhPWUuc3RyaWRlcyxwPWUud19pc19jb25zdCgpO3JldHVybiBnZSh7YXV0b1BhZDpvLGZvcm1hdDpyLGRpbGF0aW9uczpuLGdyb3VwOnMsa2VybmVsU2hhcGU6dSxwYWRzOmwsc3RyaWRlczphLHdJc0NvbnN0OnAsLi4udH0pfSxtbD0oZSx0LHIpPT57bGV0IG89amkocix0KSxuPXIuZm9ybWF0PT09Ik5IV0MiO2lmKHIuZ3JvdXAhPT0xKXtlLmNvbXB1dGUoV24odCxvKSk7cmV0dXJufWxldCBzPXQubGVuZ3RoPT09Myx1PXRbMF0uZGltc1tuPzE6Ml0sbD10WzBdLmRpbXNbbj8yOjNdLGE9dFswXS5kaW1zW24/MzoxXSxwPXRbMV0uZGltc1syXSxoPXRbMV0uZGltc1szXSxnPUhuKHRbMF0uZGltcyx0WzFdLmRpbXMsci5kaWxhdGlvbnMsby5wYWRzLHIuc3RyaWRlcyxuKSxiPWdbbj8xOjJdLHc9Z1tuPzI6M10seT1nW24/MzoxXSxfPW4mJnA9PT11JiZoPT09bCYmci5wYWRzWzBdPT09MCYmci5wYWRzWzFdPT09MDtpZihffHxwPT09MSYmaD09PTEmJnIuZGlsYXRpb25zWzBdPT09MSYmci5kaWxhdGlvbnNbMV09PT0xJiZyLnN0cmlkZXNbMF09PT0xJiZyLnN0cmlkZXNbMV09PT0xJiZyLnBhZHNbMF09PT0wJiZyLnBhZHNbMV09PT0wKXtsZXQgUj1nWzBdLFYsVCxOLHRlPVtdO2lmKG4pe2xldCBRPWUua2VybmVsQ3VzdG9tRGF0YS53VD8/ZS5jb21wdXRlKGl0KHRbMV0sRmkpLHtpbnB1dHM6WzFdLG91dHB1dHM6W3Iud0lzQ29uc3Q/LTI6LTFdfSlbMF07aWYoci53SXNDb25zdCYmIWUua2VybmVsQ3VzdG9tRGF0YS53VCYmKGUua2VybmVsQ3VzdG9tRGF0YS53VD1RKSxfKXtsZXQgWj11KmwqYTtWPXRbMF0ucmVzaGFwZShbMSxSLFpdKSxUPVEucmVzaGFwZShbMSxaLHldKSxOPVsxLFIseV19ZWxzZSBWPXRbMF0ucmVzaGFwZShbUix1KmwsYV0pLFQ9US5yZXNoYXBlKFsxLGEseV0pLE49W1IsYip3LHldO3RlLnB1c2goViksdGUucHVzaChUKX1lbHNlIFY9dFswXS5yZXNoYXBlKFtSLGEsdSpsXSksVD10WzFdLnJlc2hhcGUoWzEseSxhXSksTj1bUix5LGIqd10sdGUucHVzaChUKSx0ZS5wdXNoKFYpO3MmJnRlLnB1c2godFsyXSk7bGV0IFk9TlsyXSxLPXRlWzBdLmRpbXNbdGVbMF0uZGltcy5sZW5ndGgtMV07WTw4JiZLPDg/ZS5jb21wdXRlKExuKHRlLG8sZyxOLG4pLHtpbnB1dHM6dGV9KTplLmNvbXB1dGUodG4odGUsbyxnLE4sbikse2lucHV0czp0ZX0pO3JldHVybn1sZXQgST0hMCwkPWUua2VybmVsQ3VzdG9tRGF0YS53VD8/ZS5jb21wdXRlKGl0KHRbMV0sRmkpLHtpbnB1dHM6WzFdLG91dHB1dHM6W3Iud0lzQ29uc3Q/LTI6LTFdfSlbMF07ci53SXNDb25zdCYmIWUua2VybmVsQ3VzdG9tRGF0YS53VCYmKGUua2VybmVsQ3VzdG9tRGF0YS53VD0kKTtsZXQgeD1bdFswXSwkXTtzJiZ4LnB1c2godFsyXSk7bGV0IEU9bj9iKnc6eSxBPW4/eTpiKncsej1wKmgqYTtlLmNvbXB1dGUoV2koeCxvLGcsRSxBLHoscyxJKSx7aW5wdXRzOnh9KX0sZmw9KGUsdCk9PntsZXQgcj10LmZvcm1hdD09PSJOSFdDIixvPVtlLmlucHV0c1swXS5yZXNoYXBlKHI/W2UuaW5wdXRzWzBdLmRpbXNbMF0sMSxlLmlucHV0c1swXS5kaW1zWzFdLGUuaW5wdXRzWzBdLmRpbXNbMl1dOltlLmlucHV0c1swXS5kaW1zWzBdLGUuaW5wdXRzWzBdLmRpbXNbMV0sMSxlLmlucHV0c1swXS5kaW1zWzJdXSksZS5pbnB1dHNbMV0ucmVzaGFwZShbZS5pbnB1dHNbMV0uZGltc1swXSxlLmlucHV0c1sxXS5kaW1zWzFdLDEsZS5pbnB1dHNbMV0uZGltc1syXV0pXTtlLmlucHV0cy5sZW5ndGg9PT0zJiZvLnB1c2goZS5pbnB1dHNbMl0pO2xldCBuPVswLHQucGFkc1swXSwwLHQucGFkc1sxXV0scz1bMV0uY29uY2F0KHQuc3RyaWRlcyksdT1bMV0uY29uY2F0KHQuZGlsYXRpb25zKSxsPVsxXS5jb25jYXQodC5rZXJuZWxTaGFwZSksYT1qaSh7Li4udCxwYWRzOm4sc3RyaWRlczpzLGRpbGF0aW9uczp1LGtlcm5lbFNoYXBlOmx9LG8pO2UuY29tcHV0ZShXbihvLGEscD0+cj9bcFswXSxwWzJdLHBbM11dOltdKSl9LHFuPShlLHQpPT57cGwoZS5pbnB1dHMsdCksZS5pbnB1dHNbMF0uZGltcy5sZW5ndGg9PT0zP2ZsKGUsdCk6bWwoZSxlLmlucHV0cyx0KX19KTt2YXIgaGwscWksS2k9aigoKT0+eyJ1c2Ugc3RyaWN0IjtDdCgpO3ZlKCk7SXQoKTtKcigpO05uKCk7aHIoKTtobD0oZSx0PSExLHIsbz00KT0+e2xldCBuPUtlKG8sImYzMiIpLHM9eD0+e3N3aXRjaCh4KXtjYXNlIDE6cmV0dXJuInJldHVybiB3W2dldEluZGV4RnJvbUNvb3JkczREKGNvb3JkLCB2ZWM0PGkzMj4odW5pZm9ybXMud19zaGFwZSkpXTsiO2Nhc2UgNDpyZXR1cm5gXG4gICAgICAgICAgICBsZXQgY29vcmQxID0gdmVjNDxpMzI+KGNvb3JkWCwgY29vcmRZLCBjb2wgKyAxLCByb3dJbm5lcik7XG4gICAgICAgICAgICBsZXQgY29vcmQyID0gdmVjNDxpMzI+KGNvb3JkWCwgY29vcmRZLCBjb2wgKyAyLCByb3dJbm5lcik7XG4gICAgICAgICAgICBsZXQgY29vcmQzID0gdmVjNDxpMzI+KGNvb3JkWCwgY29vcmRZLCBjb2wgKyAzLCByb3dJbm5lcik7XG4gICAgICAgICAgICBsZXQgdjAgPSB3W2dldEluZGV4RnJvbUNvb3JkczREKGNvb3JkLCB2ZWM0PGkzMj4odW5pZm9ybXMud19zaGFwZSkpXTtcbiAgICAgICAgICAgIGxldCB2MSA9IHdbZ2V0SW5kZXhGcm9tQ29vcmRzNEQoY29vcmQxLCB2ZWM0PGkzMj4odW5pZm9ybXMud19zaGFwZSkpXTtcbiAgICAgICAgICAgIGxldCB2MiA9IHdbZ2V0SW5kZXhGcm9tQ29vcmRzNEQoY29vcmQyLCB2ZWM0PGkzMj4odW5pZm9ybXMud19zaGFwZSkpXTtcbiAgICAgICAgICAgIGxldCB2MyA9IHdbZ2V0SW5kZXhGcm9tQ29vcmRzNEQoY29vcmQzLCB2ZWM0PGkzMj4odW5pZm9ybXMud19zaGFwZSkpXTtcbiAgICAgICAgICAgIHJldHVybiB2ZWM0PGYzMj4odjAsIHYxLCB2MiwgdjMpO1xuICAgICAgICAgICAgYDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgaW5uZXJFbGVtZW50U2l6ZSAke3h9IGlzIG5vdCBzdXBwb3J0ZWQuYCl9fSx1PWU/YFxuICAgICAgbGV0IGNvb3JkID0gdmVjNDxpMzI+KGJhdGNoLCBpWFIsIGlYQywgeENoKTtcbiAgICAgIGA6YFxuICAgICAgbGV0IGNvb3JkID0gdmVjNDxpMzI+KGJhdGNoLCB4Q2gsIGlYUiwgaVhDKTtcbiAgICAgIGAsbD1lP2BcbiAgICBsZXQgY29vcmRzID0gdmVjNDxpMzI+KFxuICAgICAgYmF0Y2gsXG4gICAgICByb3cgLyBvdXRXaWR0aCxcbiAgICAgIHJvdyAlIG91dFdpZHRoLFxuICAgICAgY29sKTtcbiAgICBgOmBcbiAgICBsZXQgY29vcmRzID0gdmVjNDxpMzI+KFxuICAgICAgYmF0Y2gsXG4gICAgICByb3csXG4gICAgICBjb2wgLyBvdXRXaWR0aCxcbiAgICAgIGNvbCAlIG91dFdpZHRoKTtcbiAgICBgLGE9ZT8ib3V0QmFja3Byb3BbMV0iOiJvdXRCYWNrcHJvcFsyXSIscD1lPyJvdXRCYWNrcHJvcFsyXSI6Im91dEJhY2twcm9wWzNdIixoPWU/InJvdyI6ImNvbCIsZz1lPyJjb2wiOiJyb3ciLGI9YFxuICAgICAgbGV0IGluQ2hhbm5lbHMgPSAke2U/Im91dEJhY2twcm9wWzNdIjoib3V0QmFja3Byb3BbMV0ifTtcbiAgICAgIGxldCBvdXRXaWR0aCA9ICR7ZT8iaTMyKHVuaWZvcm1zLnJlc3VsdF9zaGFwZVsyXSkiOiJpMzIodW5pZm9ybXMucmVzdWx0X3NoYXBlWzNdKSJ9O1xuICAgICAgbGV0IG91dFJvdyA9ICR7aH0gLyBvdXRXaWR0aDtcbiAgICAgIGxldCBvdXRDb2wgPSAke2h9ICUgb3V0V2lkdGg7XG5cbiAgICAgIGxldCBXUm93ID0gJHtnfSAvIChmaWx0ZXJEaW1zWzFdICogaW5DaGFubmVscyk7XG4gICAgICBsZXQgV0NvbCA9ICR7Z30gLyBpbkNoYW5uZWxzICUgZmlsdGVyRGltc1sxXTtcbiAgICAgIGxldCB4UiA9IGYzMihvdXRSb3cgLSBwYWRzWzBdICsgZGlsYXRpb25bMF0gKiBXUm93KSAvIGYzMihzdHJpZGVzWzBdKTtcbiAgICAgIGxldCB4QyA9IGYzMihvdXRDb2wgLSBwYWRzWzFdICsgZGlsYXRpb25bMV0gKiBXQ29sKSAvIGYzMihzdHJpZGVzWzFdKTtcbiAgICAgIGlmICh4UiA8IDAuMCB8fCB4UiA+PSBmMzIoJHthfSkgfHwgZnJhY3QoeFIpID4gMC4wKSB7XG4gICAgICAgIHJldHVybiAke259KDAuMCk7XG4gICAgICB9XG4gICAgICBpZiAoeEMgPCAwLjAgfHwgeEMgPj0gZjMyKCR7cH0pIHx8IGZyYWN0KHhDKSA+IDAuMCkge1xuICAgICAgICByZXR1cm4gJHtufSgwLjApO1xuICAgICAgfVxuICAgICAgbGV0IGlYUiA9IGkzMih4Uik7XG4gICAgICBsZXQgaVhDID0gaTMyKHhDKTtcbiAgICAgIGxldCB4Q2ggPSAke2d9ICUgaW5DaGFubmVscztcbiAgICAgICR7dX1cbiAgICAgIHJldHVybiB4W2dldEluZGV4RnJvbUNvb3JkczREKGNvb3JkLCB2ZWM0PGkzMj4odW5pZm9ybXMueF9zaGFwZSkpLyR7b31dO2Asdz1lP2BcbiAgICAgIGxldCBjb2wgPSBjb2xJbiAqICR7b307XG4gICAgICBpZiAocm93IDwgdW5pZm9ybXMuZGltQU91dGVyICYmIGNvbCA8IHVuaWZvcm1zLmRpbUlubmVyKSB7XG4gICAgICAgICR7Yn1cbiAgICAgIH1cbiAgICAgIHJldHVybiAke259KDAuMCk7YDpgXG4gICAgICBsZXQgY29sID0gY29sSW4gKiAke299O1xuICAgICAgaWYgKHJvdyA8IHVuaWZvcm1zLmRpbUlubmVyICYmIGNvbCA8IHVuaWZvcm1zLmRpbUJPdXRlcikge1xuICAgICAgICAke2J9XG4gICAgICB9XG4gICAgICByZXR1cm4gJHtufSgwLjApO2AseT1gXG4gICAgICBsZXQgY29sID0gY29sSW4gKiAke299O1xuICAgICAgbGV0IGluQ2hhbm5lbHMgPSAke2U/Im91dEJhY2twcm9wWzNdIjoib3V0QmFja3Byb3BbMV0ifTtcbiAgICAgIGxldCBjb29yZFggPSBmaWx0ZXJEaW1zLnggLSAxIC0gcm93IC8gKGZpbHRlckRpbXNbMV0gKiBpbkNoYW5uZWxzKTtcbiAgICAgIGxldCBjb29yZFkgPSBmaWx0ZXJEaW1zLnkgLSAxIC0gKHJvdyAvIGluQ2hhbm5lbHMpICUgZmlsdGVyRGltc1sxXTtcbiAgICAgIGlmICgke2U/InJvdyA8IHVuaWZvcm1zLmRpbUlubmVyICYmIGNvbCA8IHVuaWZvcm1zLmRpbUJPdXRlciI6InJvdyA8IHVuaWZvcm1zLmRpbUlubmVyICYmIGNvbCA8IHVuaWZvcm1zLmRpbUFPdXRlciJ9ICAmJiBjb29yZFggPj0gMCAmJiBjb29yZFkgPj0gMCkge1xuICAgICAgICBsZXQgcm93SW5uZXIgPSByb3cgJSBpbkNoYW5uZWxzO1xuICAgICAgICBsZXQgY29vcmQgPSB2ZWM0PGkzMj4oY29vcmRYLCBjb29yZFksIGNvbCwgcm93SW5uZXIpO1xuICAgICAgICAke3Mobyl9XG4gICAgICB9XG4gICAgICByZXR1cm4gJHtufSgwLjApO1xuICAgICAgYCx7YWN0aXZhdGlvbkZ1bmN0aW9uOl8sYXBwbHlBY3RpdmF0aW9uOkl9PWd0KHIsbik7cmV0dXJuYFxuICAgICAgJHtffVxuICBmbiBtbV9yZWFkQShiYXRjaDogaTMyLCByb3cgOiBpMzIsIGNvbEluIDogaTMyKSAtPiAke259IHtcbiAgICAke2U/dzp5fVxuICB9XG5cbiAgZm4gbW1fcmVhZEIoYmF0Y2g6IGkzMiwgcm93IDogaTMyLCBjb2xJbiA6IGkzMikgLT4gJHtufSB7XG4gICAgJHtlP3k6d31cbiAgfVxuXG4gIGZuIG1tX3dyaXRlKGJhdGNoOiBpMzIsIHJvdyA6IGkzMiwgY29sSW4gOiBpMzIsIHZhbHVlSW5wdXQgOiAke259KSB7XG4gICAgbGV0IGNvbCA9IGNvbEluICogJHtvfTtcbiAgICBpZiAocm93IDwgdW5pZm9ybXMuZGltQU91dGVyICYmIGNvbCA8IHVuaWZvcm1zLmRpbUJPdXRlcikge1xuICAgICAgdmFyIHZhbHVlID0gdmFsdWVJbnB1dDtcbiAgICAgIGxldCBvdXRXaWR0aCA9ICR7ZT8iaTMyKHVuaWZvcm1zLnJlc3VsdF9zaGFwZVsyXSkiOiJpMzIodW5pZm9ybXMucmVzdWx0X3NoYXBlWzNdKSJ9O1xuICAgICAgJHtsfVxuICAgICAgJHtYcih0KX1cbiAgICAgICR7SX1cbiAgICAgIHJlc3VsdFtnZXRJbmRleEZyb21Db29yZHM0RChjb29yZHMsIHZlYzQ8aTMyPih1bmlmb3Jtcy5yZXN1bHRfc2hhcGUpKS8ke299XSA9IHZhbHVlO1xuICAgIH1cbiAgfWB9LHFpPShlLHQscixvLG4scyx1LGwpPT57bGV0IGE9dC5mb3JtYXQ9PT0iTkhXQyIscD1hP2VbMF0uZGltc1szXTplWzBdLmRpbXNbMV0saD1yWzBdLGc9YT9yWzJdOnJbM10sYj1hP3JbMV06clsyXSx3PWE/clszXTpyWzFdLHk9YT9wJTQ9PT0wJiZ3JTQ9PT0wOmclND09PTAmJnclND09PTAsXz1hP3c6ZypiLEk9YT9nKmI6dywkPXk/WzgsOCwxXTpbXzw9NHx8STw9ND80OjE2LF8+NCYmSTw9ND80OjE2LDFdLHg9eT9bNCw0LDFdOltfPD00PzE6NCxfPjQmJkk8PTQ/MTo0LDFdLEU9W01hdGguY2VpbChfLyRbMF0veFswXSksTWF0aC5jZWlsKEkvJFsxXS94WzFdKSxNYXRoLmNlaWwoaC8kWzJdL3hbMl0pXTtCZSgidmVyYm9zZSIsKCk9PmBbY29udl9iYWNrcHJvcF9tbV93ZWJncHVdIGRpc3BhdGNoID0gJHtFfWApO2xldCBBPXk/NDoxLHo9TWF0aC5tYXgoJFswXSpBLCRbMV0pLFI9eT80OjEsVj1be3R5cGU6ImludDMyIixkYXRhOm99LHt0eXBlOiJpbnQzMiIsZGF0YTpufSx7dHlwZToiaW50MzIiLGRhdGE6c31dLFQ9TSgieCIsZVswXS5kYXRhVHlwZSxlWzBdLmRpbXMubGVuZ3RoLFIpLE49TSgidyIsZVsxXS5kYXRhVHlwZSxlWzFdLmRpbXMubGVuZ3RoLDEpLHRlPUYoInJlc3VsdCIsZVswXS5kYXRhVHlwZSxyLmxlbmd0aCxSKSxZPVtULE5dO1YucHVzaCguLi5MKGVbMF0uZGltcykpLFYucHVzaCguLi5MKGVbMV0uZGltcykpO2xldCBLPSIiO2lmKHUpe2xldCBRPU0oImJpYXMiLGVbMl0uZGF0YVR5cGUsZVsyXS5kaW1zLmxlbmd0aCxSKTtZLnB1c2goUSksVi5wdXNoKC4uLkwoZVsyXS5kaW1zKSksSys9YFxuICAgICAgICBmbiBnZXRCaWFzQnlPdXRwdXRDb29yZHMoY29vcmRzIDogdmVjNDxpMzI+KSAtPiAke3k/InZlYzQ8ZjMyPiI6ImYzMiJ9IHtcbiAgICAgICAgICByZXR1cm4gYmlhc1tjb29yZHMuJHthPyJ3IjoieSJ9JHt5PyIvIDQiOiIifV07XG4gICAgICAgIH1gfXJldHVybiBWLnB1c2goLi4uTChyKSkse25hbWU6IkNvbnYyRFRyYW5zcG9zZU1hdE11bCIsc2hhZGVyQ2FjaGU6e2hpbnQ6dC5jYWNoZUtleX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpyLGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4OkVbMF0seTpFWzFdLHo6RVsyXX0scHJvZ3JhbVVuaWZvcm1zOlZ9KSxnZXRTaGFkZXJTb3VyY2U6UT0+YFxuICAgICAgICAke2VuKCJ1bmlmb3Jtcy5yZXN1bHRfc3RyaWRlcyIpfVxuICAgICAgICAke1EucmVnaXN0ZXJVbmlmb3JtKCJkaW1BT3V0ZXIiLCJpMzIiKS5yZWdpc3RlclVuaWZvcm0oImRpbUJPdXRlciIsImkzMiIpLnJlZ2lzdGVyVW5pZm9ybSgiZGltSW5uZXIiLCJpMzIiKS5kZWNsYXJlVmFyaWFibGVzKC4uLlksdGUpfTtcbiAgICAgICAgY29uc3Qgb3V0QmFja3Byb3AgOiB2ZWM0PGkzMj4gPSB2ZWM0PGkzMj4oJHtlWzBdLmRpbXMuam9pbigiLCIpfSk7XG4gICAgICAgIGNvbnN0IGZpbHRlckRpbXMgOiB2ZWMyPGkzMj4gPSB2ZWMyPGkzMj4oJHt0Lmtlcm5lbFNoYXBlW2E/MToyXX0sICR7dC5rZXJuZWxTaGFwZVthPzI6M119KTtcbiAgICAgICAgY29uc3QgZWZmZWN0aXZlRmlsdGVyRGltcyA6IHZlYzI8aTMyPiA9IGZpbHRlckRpbXMgKyB2ZWMyPGkzMj4oXG4gICAgICAgICAgICAgICR7dC5kaWxhdGlvbnNbMF08PTE/MDoodC5rZXJuZWxTaGFwZVthPzE6Ml0tMSkqKHQuZGlsYXRpb25zWzBdLTEpfSxcbiAgICAgICAgICAgICAgJHt0LmRpbGF0aW9uc1sxXTw9MT8wOih0Lmtlcm5lbFNoYXBlW2E/MjozXS0xKSoodC5kaWxhdGlvbnNbMV0tMSl9KTtcbiAgICAgICAgY29uc3QgcGFkcyA6IHZlYzI8aTMyPiA9IHZlYzI8aTMyPihpMzIoZWZmZWN0aXZlRmlsdGVyRGltc1swXSkgLSAxIC0gKCR7dC5wYWRzWzBdK3QucGFkc1syXX0pLzIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkzMihlZmZlY3RpdmVGaWx0ZXJEaW1zWzFdKSAtIDEgLSAoJHt0LnBhZHNbMV0rdC5wYWRzWzNdfSkvMik7XG4gICAgICAgIGNvbnN0IHN0cmlkZXMgOiB2ZWMyPGkzMj4gPSB2ZWMyPGkzMj4oJHt0LnN0cmlkZXNbMF19LCAke3Quc3RyaWRlc1sxXX0pO1xuICAgICAgICBjb25zdCBkaWxhdGlvbiA6IHZlYzI8aTMyPiA9IHZlYzI8aTMyPigke3QuZGlsYXRpb25zWzBdfSwgJHt0LmRpbGF0aW9uc1sxXX0pO1xuICAgICAgICBjb25zdCBkaW1BT3V0ZXIgOiBpMzIgPSAke299O1xuICAgICAgICBjb25zdCBkaW1CT3V0ZXIgOiBpMzIgPSAke259O1xuICAgICAgICBjb25zdCBkaW1Jbm5lciA6IGkzMiA9ICR7c307XG4gICAgICAgICR7S31cbiAgICAgICAgJHtobChhLHUsdCxBKX1cbiAgICAgICAgJHt5P21yKHgsJCwiZjMyIix2b2lkIDAsIWEseik6ZnIoeCwkLCJmMzIiLHZvaWQgMCwhYSx6LCExLHZvaWQgMCxsKX1gfX19KTt2YXIgZ2wsS24sWWk9aigoKT0+eyJ1c2Ugc3RyaWN0IjtDdCgpOyRlKCk7dmUoKTtnbD0oZSx0LHIsbyxuLHMsdT0hMSxsKT0+e2xldCBhPXIuZm9ybWF0PT09Ik5IV0MiLHA9YT8xOjIsaD1hPzI6MyxnPWE/MzoxLGI9VS5zaXplKG8pLHc9dT8yOjEseT1yLmdyb3VwLF89dFsxXS5kaW1zLEk9X1swXS95LCQ9X1sxXSx4PWBcbiAgZm4gc2V0T3V0cHV0QXRJbmRleChmbGF0SW5kZXggOiB1MzIsIHZhbHVlIDogJHt1P2B2ZWM0PCR7bH0+YDpsfSkge1xuICAgIHJlc3VsdFtmbGF0SW5kZXhdID0gJHt1P2B2ZWM0PCR7bH0+YDpsfSh2YWx1ZSk7XG4gIH1gO24mJih4Kz1gXG4gICAgZm4gZ2V0Qmlhc0J5T3V0cHV0Q29vcmRzKGNvb3JkcyA6IHZlYzQ8dTMyPikgLT4gJHt1P2B2ZWM0PCR7bH0+YDpsfSB7XG4gICAgICByZXR1cm4gYmlhc1tjb29yZHMuJHthPyJ3IjoieSJ9JHt1PyIvIDQiOiIifV07XG4gICAgfWApO2xldCBFPXU/NDoxLEE9TSgiVyIsdFsxXS5kYXRhVHlwZSx0WzFdLmRpbXMsRSksej1NKCJEeSIsdFswXS5kYXRhVHlwZSx0WzBdLmRpbXMsRSksUj1beixBXTtuJiZSLnB1c2goTSgiYmlhcyIsdFsyXS5kYXRhVHlwZSxbb1tnXV0sRSkpO2xldCBWPUYoInJlc3VsdCIsdFswXS5kYXRhVHlwZSxvLEUpLFQ9YHtcbiAgICAgICAgbGV0IGJhdGNoOiB1MzIgPSAke3M/Imdsb2JhbF9pZC56Ijoid29ya2dyb3VwX2lkLnoifSAvIG91dFNoYXBlWzFdO1xuICAgICAgICBsZXQgciA9ICR7cz8iZ2xvYmFsX2lkLnoiOiJ3b3JrZ3JvdXBfaWQueiJ9ICUgb3V0U2hhcGVbMV07XG4gICAgICAgIGxldCBjID0gJHtzPyJnbG9iYWxfaWQueSI6Indvcmtncm91cF9pZC55In0gKiAke3d9O1xuICAgICAgICBsZXQgZDE6IHUzMiA9ICR7cz8iZ2xvYmFsX2lkLngiOiJ3b3JrZ3JvdXBfaWQueCJ9ICogNDtcblxuICAgICAgICBsZXQgZHlDb3JuZXIgPSB2ZWMyPGkzMj4oaTMyKHIpLCBpMzIoYykpIC0gdmVjMjxpMzI+KHBhZHMpO1xuXG4gICAgICAgIC8vIENvbnZvbHZlIGR5KD8sID8sIGQyKSB3aXRoIHcoOiwgOiwgZDEsIGQyKSB0byBjb21wdXRlIGR4KHhSLCB4QywgZDEpLlxuICAgICAgICAvLyA/ID0gdG8gYmUgZGV0ZXJtaW5lZC4gOiA9IGFjcm9zcyBhbGwgdmFsdWVzIGluIHRoYXQgYXhpcy5cbiAgICAgICAgdmFyIGRvdFByb2Q6IGFycmF5PHZlYzQ8JHtsfT4sICR7d30+O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICR7d307IGkrKykge1xuICAgICAgICAgIGRvdFByb2RbaV0gPSB2ZWM0PCR7bH0+KDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgd1I6IHUzMiA9IDA7IHdSIDwgZmlsdGVyRGltc1swXTsgd1IgPSB3UiArIDEpIHtcbiAgICAgICAgICB2YXIgZHlSID0gKCR7bH0oZHlDb3JuZXIueCkgKyAke2x9KHdSKSkgLyAke2x9KHN0cmlkZXMueCk7XG4gICAgICAgICAgbGV0IHdSUGVybSA9IGZpbHRlckRpbXNbMF0gLSAxIC0gd1I7XG4gICAgICAgICAgaWYgKGR5UiA8IDAuMCB8fCBkeVIgPj0gJHtsfShvdXRCYWNrcHJvcFsxXSkgfHxcbiAgICAgICAgICAgICAgZnJhY3QoZHlSKSA+IDAuMCB8fCB3UlBlcm0gPCAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGlkeVI6IHUzMiA9IHUzMihkeVIpO1xuXG4gICAgICAgICAgZm9yICh2YXIgd0M6IHUzMiA9IDA7IHdDIDwgZmlsdGVyRGltc1sxXTsgd0MgPSB3QyArIDEpIHtcbiAgICAgICAgICAgIGxldCBkeUMgPSAoJHtsfShkeUNvcm5lci55KSArICR7bH0od0MpKSAvICR7bH0oc3RyaWRlcy55KTtcbiAgICAgICAgICAgIGxldCBkeUMyID0gKCR7bH0oZHlDb3JuZXIueSkgKyAxLjAgKyAke2x9KHdDKSkgLyAke2x9KHN0cmlkZXMueSk7XG4gICAgICAgICAgICBsZXQgd0NQZXJtID0gZmlsdGVyRGltc1sxXSAtIDEgLSB3QztcbiAgICAgICAgICAgIGlmICh3Q1Blcm0gPCAwKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJEeUNWYWwgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGJEeUNWYWwyID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChkeUMgPCAwLjAgfHwgZHlDID49ICR7bH0ob3V0QmFja3Byb3BbMl0pIHx8XG4gICAgICAgICAgICAgICAgZnJhY3QoZHlDKSA+IDAuMCkge1xuICAgICAgICAgICAgICBiRHlDVmFsID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZHlDMiA8IDAuMCB8fCBkeUMyID49ICR7bH0ob3V0QmFja3Byb3BbMl0pIHx8XG4gICAgICAgICAgICAgICAgZnJhY3QoZHlDMikgPiAwLjApIHtcbiAgICAgICAgICAgICAgYkR5Q1ZhbDIgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGlkeUM6IHUzMiA9IHUzMihkeUMpO1xuICAgICAgICAgICAgbGV0IGlkeUMyOiB1MzIgPSB1MzIoZHlDMik7XG4gICAgICAgICAgICBpZiAoYkR5Q1ZhbCAmJiBiRHlDVmFsMikge1xuICAgICAgICAgICAgICBsZXQgZDJMZW5ndGggPSBvdXRCYWNrcHJvcFszXTtcbiAgICAgICAgICAgICAgZm9yICh2YXIgZDIgOnUzMiA9IDA7IGQyIDwgZDJMZW5ndGg7IGQyID0gZDIgKyA0KSB7XG4gICAgICAgICAgICAgICAgbGV0IHdWYWx1ZTAgPSAke0EuZ2V0KCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIiwiZDEiLCJkMiIpfTtcbiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMSA9ICR7QS5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDEiLCJkMiIpfTtcbiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMiA9ICR7QS5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDIiLCJkMiIpfTtcbiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMyA9ICR7QS5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDMiLCJkMiIpfTtcblxuICAgICAgICAgICAgICAgIHZhciB4VmFsdWUgPSAke3ouZ2V0KCJiYXRjaCIsImlkeVIiLCJpZHlDIiwiZDIiKX07XG4gICAgICAgICAgICAgICAgbGV0IHRtcHZhbCA9IHZlYzQ8JHtsfT4oZG90KHhWYWx1ZSwgd1ZhbHVlMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCh4VmFsdWUsIHdWYWx1ZTEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMykpO1xuICAgICAgICAgICAgICAgIGRvdFByb2RbMF0gPSBkb3RQcm9kWzBdICsgdG1wdmFsO1xuXG4gICAgICAgICAgICAgICAgeFZhbHVlID0gICR7ei5nZXQoImJhdGNoIiwiaWR5UiIsImlkeUMyIiwiZDIiKX07XG5cbiAgICAgICAgICAgICAgICBkb3RQcm9kWzFdID0gZG90UHJvZFsxXSArIHZlYzQ8JHtsfT4oZG90KHhWYWx1ZSwgd1ZhbHVlMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJEeUNWYWwpIHtcbiAgICAgICAgICAgICAgbGV0IGQyTGVuZ3RoID0gb3V0QmFja3Byb3BbJHtnfV07XG4gICAgICAgICAgICAgIGZvciAodmFyIGQyOiB1MzIgPSAwOyBkMiA8IGQyTGVuZ3RoOyBkMiA9IGQyICsgNCkge1xuICAgICAgICAgICAgICAgIGxldCB3VmFsdWUwID0gJHtBLmdldCgidTMyKHdSUGVybSkiLCJ1MzIod0NQZXJtKSIsImQxIiwiZDIiKX07XG4gICAgICAgICAgICAgICAgbGV0IHdWYWx1ZTEgPSAke0EuZ2V0KCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIiwiZDEgKyAxIiwiZDIiKX07XG4gICAgICAgICAgICAgICAgbGV0IHdWYWx1ZTIgPSAke0EuZ2V0KCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIiwiZDEgKyAyIiwiZDIiKX07XG4gICAgICAgICAgICAgICAgbGV0IHdWYWx1ZTMgPSAke0EuZ2V0KCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIiwiZDEgKyAzIiwiZDIiKX07XG5cbiAgICAgICAgICAgICAgICB2YXIgeFZhbHVlID0gJHt6LmdldCgiYmF0Y2giLCJpZHlSIiwiaWR5QyIsImQyIil9O1xuICAgICAgICAgICAgICAgIGxldCB0bXB2YWwgPSB2ZWM0PCR7bH0+KGRvdCh4VmFsdWUsIHdWYWx1ZTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCh4VmFsdWUsIHdWYWx1ZTMpKTtcbiAgICAgICAgICAgICAgICBkb3RQcm9kWzBdID0gZG90UHJvZFswXSArIHRtcHZhbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChiRHlDVmFsMikge1xuICAgICAgICAgICAgICBsZXQgZDJMZW5ndGggPSBvdXRCYWNrcHJvcFszXTtcbiAgICAgICAgICAgICAgZm9yICh2YXIgZDI6IHUzMiA9IDA7IGQyIDwgZDJMZW5ndGg7IGQyID0gZDIgKyA0KSB7XG4gICAgICAgICAgICAgICAgbGV0IHdWYWx1ZTAgPSAke0EuZ2V0KCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIiwiZDEiLCJkMiIpfTtcbiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMSA9ICR7QS5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDEiLCJkMiIpfTtcbiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMiA9ICR7QS5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDIiLCJkMiIpfTtcbiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlMyA9ICR7QS5nZXQoInUzMih3UlBlcm0pIiwidTMyKHdDUGVybSkiLCJkMSArIDMiLCJkMiIpfTtcblxuICAgICAgICAgICAgICAgIHZhciB4VmFsdWUgPSAke3ouZ2V0KCJiYXRjaCIsImlkeVIiLCJpZHlDMiIsImQyIil9O1xuICAgICAgICAgICAgICAgIGxldCB0bXB2YWwgPSB2ZWM0PCR7bH0+KGRvdCh4VmFsdWUsIHdWYWx1ZTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3QoeFZhbHVlLCB3VmFsdWUxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG90KHhWYWx1ZSwgd1ZhbHVlMiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdCh4VmFsdWUsIHdWYWx1ZTMpKTtcbiAgICAgICAgICAgICAgICBkb3RQcm9kWzFdID0gZG90UHJvZFsxXSArIHRtcHZhbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGk6IHUzMiA9IDA7IGkgPCAke3d9OyBpID0gaSArIDEpIHtcbiAgICAgICAgICBsZXQgdmFsdWUgPSBkb3RQcm9kW2ldICsgJHtuPyJiaWFzW2MraV0iOmB2ZWM0PCR7bH0+KDAuMClgfTtcbiAgICAgICAgICAke1Yuc2V0KCJiYXRjaCIsInIiLCJjICsgaSIsImQxIiwidmFsdWUiKX07XG4gICAgICAgIH1cbiAgICAgIH1gLE49YFxuICAgICAgICAgIGxldCBvdXRwdXRJbmRpY2VzID0gJHtWLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcbiAgICAgICAgICBsZXQgYmF0Y2ggPSAke1YuaW5kaWNlc0dldCgib3V0cHV0SW5kaWNlcyIsMCl9O1xuICAgICAgICAgIGxldCBkMSA9ICR7Vi5pbmRpY2VzR2V0KCJvdXRwdXRJbmRpY2VzIixnKX07XG4gICAgICAgICAgbGV0IHIgPSAke1YuaW5kaWNlc0dldCgib3V0cHV0SW5kaWNlcyIscCl9O1xuICAgICAgICAgIGxldCBjID0gJHtWLmluZGljZXNHZXQoIm91dHB1dEluZGljZXMiLGgpfTtcbiAgICAgICAgICBsZXQgZHlDb3JuZXIgPSB2ZWMyPGkzMj4oaTMyKHIpLCBpMzIoYykpIC0gcGFkcztcbiAgICAgICAgICBsZXQgZHlSQ29ybmVyID0gZHlDb3JuZXIueDtcbiAgICAgICAgICBsZXQgZHlDQ29ybmVyID0gZHlDb3JuZXIueTtcbiAgICAgICAgICBsZXQgZ3JvdXBJZCA9IGQxIC8gJHskfTtcbiAgICAgICAgICBsZXQgd091dENoYW5uZWwgPSBkMSAtIGdyb3VwSWQgKiAkeyR9O1xuICAgICAgICAgIC8vIENvbnZvbHZlIGR5KD8sID8sIGQyKSB3aXRoIHcoOiwgOiwgZDEsIGQyKSB0byBjb21wdXRlIGR4KHhSLCB4QywgZDEpLlxuICAgICAgICAgIC8vID8gPSB0byBiZSBkZXRlcm1pbmVkLiA6ID0gYWNyb3NzIGFsbCB2YWx1ZXMgaW4gdGhhdCBheGlzLlxuICAgICAgICAgIHZhciBkb3RQcm9kID0gJHtsfSgwLjApO1xuICAgICAgICAgIGZvciAodmFyIHdSOiB1MzIgPSAwOyB3UiA8IGVmZmVjdGl2ZUZpbHRlckRpbXMueDsgd1IgPSB3UiArIDEpIHtcbiAgICAgICAgICAgIGlmICh3UiAlIGRpbGF0aW9ucy54ICE9IDApIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZHlSID0gKCR7bH0oZHlSQ29ybmVyKSArICR7bH0od1IpKSAvICR7bH0oc3RyaWRlc1swXSk7XG4gICAgICAgICAgICBsZXQgd1JQZXJtID0gZmlsdGVyRGltcy54IC0gMSAtIHdSIC8gZGlsYXRpb25zLng7XG4gICAgICAgICAgICBpZiAoZHlSIDwgMC4wIHx8IGR5UiA+PSAke2x9KG91dEJhY2twcm9wWyR7cH1dKSB8fCBmcmFjdChkeVIpID4gMC4wIHx8XG4gICAgICAgICAgICAgICAgd1JQZXJtIDwgMCkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBpZHlSOiB1MzIgPSB1MzIoZHlSKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgd0M6IHUzMiA9IDA7IHdDIDwgZWZmZWN0aXZlRmlsdGVyRGltcy55OyB3QyA9IHdDICsgMSkge1xuICAgICAgICAgICAgICBpZiAod0MgJSBkaWxhdGlvbnMueSAhPSAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGV0IGR5QyA9ICgke2x9KGR5Q0Nvcm5lcikgKyAke2x9KHdDKSkgLyAke2x9KHN0cmlkZXMueSk7XG4gICAgICAgICAgICAgIGxldCB3Q1Blcm0gPSBmaWx0ZXJEaW1zLnkgLSAxIC0gd0MgLyBkaWxhdGlvbnMueTtcbiAgICAgICAgICAgICAgaWYgKGR5QyA8IDAuMCB8fCBkeUMgPj0gJHtsfShvdXRCYWNrcHJvcFske2h9XSkgfHxcbiAgICAgICAgICAgICAgICAgIGZyYWN0KGR5QykgPiAwLjAgfHwgd0NQZXJtIDwgMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxldCBpZHlDOiB1MzIgPSB1MzIoZHlDKTtcbiAgICAgICAgICAgICAgdmFyIGlucHV0Q2hhbm5lbCA9IGdyb3VwSWQgKiAke0l9O1xuICAgICAgICAgICAgICBmb3IgKHZhciBkMjogdTMyID0gMDsgZDIgPCAke0l9OyBkMiA9IGQyICsgMSkge1xuICAgICAgICAgICAgICAgIGxldCB4VmFsdWUgPSAke2E/ei5nZXQoImJhdGNoIiwiaWR5UiIsImlkeUMiLCJpbnB1dENoYW5uZWwiKTp6LmdldCgiYmF0Y2giLCJpbnB1dENoYW5uZWwiLCJpZHlSIiwiaWR5QyIpfTtcbiAgICAgICAgICAgICAgICBsZXQgd1ZhbHVlID0gJHtBLmdldCgiaW5wdXRDaGFubmVsIiwid091dENoYW5uZWwiLCJ1MzIod1JQZXJtKSIsInUzMih3Q1Blcm0pIil9O1xuICAgICAgICAgICAgICAgIGRvdFByb2QgPSBkb3RQcm9kICsgeFZhbHVlICogd1ZhbHVlO1xuICAgICAgICAgICAgICAgIGlucHV0Q2hhbm5lbCA9IGlucHV0Q2hhbm5lbCArIDE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHZhbHVlID0gZG90UHJvZCArICR7bj8iYmlhc1tkMV0iOmAke2x9KDAuMClgfTtcbiAgICAgICAgICAke1Yuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJ2YWx1ZSIpfTtcbiAgICAgICAgYDtyZXR1cm5gXG4gICR7ZS5kZWNsYXJlVmFyaWFibGVzKC4uLlIsVil9XG4gICR7eH1cbiAgY29uc3Qgb3V0U2hhcGUgOiB2ZWM0PHUzMj4gPSB2ZWM0PHUzMj4oJHtvLmpvaW4oIiwiKX0pO1xuICBjb25zdCBvdXRCYWNrcHJvcCA6IHZlYzQ8dTMyPiA9IHZlYzQ8dTMyPigke3RbMF0uZGltcy5qb2luKCIsIil9KTtcbiAgY29uc3Qgc3RyaWRlcyA6IHZlYzI8dTMyPiA9IHZlYzI8dTMyPigke3Iuc3RyaWRlc1swXX0sICR7ci5zdHJpZGVzWzFdfSk7XG4gIGNvbnN0IGZpbHRlckRpbXMgOiB2ZWMyPHUzMj4gPSB2ZWMyPHUzMj4oJHtyLmtlcm5lbFNoYXBlW2E/MToyXX0sICR7ci5rZXJuZWxTaGFwZVthPzI6M119KTtcbiAgY29uc3QgZGlsYXRpb25zIDogdmVjMjx1MzI+ID0gdmVjMjx1MzI+KCR7ci5kaWxhdGlvbnNbMF19LCAke3IuZGlsYXRpb25zWzFdfSk7XG4gIGNvbnN0IGVmZmVjdGl2ZUZpbHRlckRpbXMgOiB2ZWMyPHUzMj4gPSBmaWx0ZXJEaW1zICsgdmVjMjx1MzI+KFxuICAgICAgICAgICR7ci5kaWxhdGlvbnNbMF08PTE/MDooci5rZXJuZWxTaGFwZVthPzE6Ml0tMSkqKHIuZGlsYXRpb25zWzBdLTEpfSxcbiAgICAgICAgICAke3IuZGlsYXRpb25zWzFdPD0xPzA6KHIua2VybmVsU2hhcGVbYT8yOjNdLTEpKihyLmRpbGF0aW9uc1sxXS0xKX0pO1xuICBjb25zdCBwYWRzIDogdmVjMjxpMzI+ID0gdmVjMjxpMzI+KGkzMihlZmZlY3RpdmVGaWx0ZXJEaW1zWzBdKSAtIDEgLSAoJHtyLnBhZHNbMF0rci5wYWRzWzJdfSkvMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpMzIoZWZmZWN0aXZlRmlsdGVyRGltc1sxXSkgLSAxIC0gKCR7ci5wYWRzWzFdK3IucGFkc1szXX0pLzIpO1xuICAgICR7ZS5tYWluU3RhcnQoKX1cbiAgICAke2UuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcyhiKX07XG4gICR7dT9UOk59fWB9LEtuPShlLHQscik9PntsZXQgbz1lLmxlbmd0aD4yLG49dC5vdXRwdXRTaGFwZSxzPVUuc2l6ZShuKSx1PVtNYXRoLmNlaWwocy82NCksMSwxXTtCZSgidmVyYm9zZSIsKCk9PmBbY29udjJkX2JhY2twcm9wX3dlYmdwdV0gZGlzcGF0Y2ggPSAke3V9YCk7bGV0IGw9TGUoZVswXS5kYXRhVHlwZSk7cmV0dXJue25hbWU6IkNvbnZUcmFuc3Bvc2UyRCIsc2hhZGVyQ2FjaGU6e2hpbnQ6dC5jYWNoZUtleX0sZ2V0UnVuRGF0YTooKT0+KHtkaXNwYXRjaEdyb3VwOnt4OnVbMF0seTp1WzFdLHo6dVsyXX0sb3V0cHV0czpbe2RpbXM6cj9yKG4pOm4sZGF0YVR5cGU6ZVswXS5kYXRhVHlwZX1dfSksZ2V0U2hhZGVyU291cmNlOmE9PmdsKGEsZSx0LG4sbyx1WzFdPT09MSYmdVsyXT09PTEsITEsbCl9fX0pO3ZhciB5bCxibCx3bCxaaSxRaSx2bCwkbCxTbCx4bCxYaSxKaT1qKCgpPT57InVzZSBzdHJpY3QiO2plKCk7S2koKTtZaSgpO0l0KCk7anQoKTt5bD0oZSx0LHIsbyxuLHMpPT4oZS0xKSp0K3IrKG8tMSkqbisxLXMsYmw9KGUsdCxyLG8sbik9PntsZXQgcz1NYXRoLmZsb29yKGUvMik7dD09PSJTQU1FX1VQUEVSIj8ocltvXT1zLHJbbl09ZS1zKTp0PT09IlNBTUVfTE9XRVIiJiYocltvXT1lLXMscltuXT1zKX0sd2w9KGUsdCxyLG8sbixzLHUsbCxhLHApPT57bGV0IGg9ZS5sZW5ndGgtMixnPXAubGVuZ3RoPT09MDtpZihhLmxlbmd0aD09PTApZm9yKGxldCB5PTA7eTxoOysreSlhLnB1c2goMCk7bGV0IGI9ZVswXSx3PXRbbD8zOjFdKm47Zm9yKGxldCB5PTAsXz1lLmxlbmd0aC1oLShsPzE6MCk7eTxoOysreSwrK18pe2xldCBJPWVbX10sJD1nP0kqdVt5XTpwW3ldLHg9eWwoSSx1W3ldLHNbeV0sdFtfXSxyW3ldLCQpO2JsKHgsbyxzLHkseStoKSxnJiZwLnB1c2godVt5XSooSS0xKSthW3ldKyh0W19dLTEpKnJbeV0rMS1zW3ldLXNbeStoXSl9cC5zcGxpY2UoMCwwLGIpLHAuc3BsaWNlKGw/MzoxLDAsdyl9LFppPShlLHQpPT57bGV0IHI9ZS5rZXJuZWxTaGFwZS5zbGljZSgpO2lmKGUua2VybmVsU2hhcGUubGVuZ3RoPT09MHx8ZS5rZXJuZWxTaGFwZS5yZWR1Y2UoKGIsdyk9PmIqdywxKT09PTApe3IubGVuZ3RoPTA7Zm9yKGxldCBiPTI7Yjx0WzFdLmRpbXMubGVuZ3RoOysrYilyLnB1c2godFsxXS5kaW1zW2JdKX1sZXQgbz1lLmZvcm1hdD09PSJOSFdDIjtyLnNwbGljZSgwLDAsdFsxXS5kaW1zWzBdKSxyLnNwbGljZShvPzM6MSwwLHRbMV0uZGltc1sxXSk7bGV0IG49ZS5wYWRzLnNsaWNlKCkscz1lLm91dHB1dFNoYXBlLnNsaWNlKCksdT1lLm91dHB1dFBhZGRpbmcuc2xpY2UoKSxsPXRbMF0uZGltcyxhPWUuZGlsYXRpb25zLnNsaWNlKCk7aWYoYS5yZWR1Y2UoKGIsdyk9PmIrdywwKT09PTApe2xldCBiPXRbMF0uZGltcy5sZW5ndGgtMjthPW5ldyBBcnJheShiKS5maWxsKDEpfWxldCBwPWUuc3RyaWRlcy5zbGljZSgpO2lmKHAucmVkdWNlKChiLHcpPT5iK3csMCk9PT0wKXtsZXQgYj10WzBdLmRpbXMubGVuZ3RoLTI7cD1uZXcgQXJyYXkoYikuZmlsbCgxKX13bChsLHIsYSxlLmF1dG9QYWQsZS5ncm91cCxuLHAsbyx1LHMpO2xldCBoPU9iamVjdC5hc3NpZ24oe30sZSksZz1lLmNhY2hlS2V5K1tyLmpvaW4oIm4sIiksbi5qb2luKCIsIikscC5qb2luKCIsIiksdS5qb2luKCIsIikscy5qb2luKCIsIiksYS5qb2luKCIsIildLmpvaW4oIl8iKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihoLHtrZXJuZWxTaGFwZTpyLHBhZHM6bixvdXRwdXRQYWRkaW5nOnUsb3V0cHV0U2hhcGU6cyxkaWxhdGlvbnM6YSxzdHJpZGVzOnAsY2FjaGVLZXk6Z30pLGh9LFFpPWU9PntsZXQgdD1RcihlKSxyPWUuZm9ybWF0LG89WyJOT1RTRVQiLCJWQUxJRCIsIlNBTUVfVVBQRVIiLCJTQU1FX0xPV0VSIl1bdHlwZW9mIGUuYXV0b1BhZD4idSI/MDplLmF1dG9QYWRdLG49ZS5kaWxhdGlvbnMscz1lLmdyb3VwLHU9ZS5rZXJuZWxTaGFwZSxsPWUucGFkcyxhPWUuc3RyaWRlcyxwPWUud0lzQ29uc3QoKSxoPWUub3V0cHV0UGFkZGluZyxnPWUub3V0cHV0U2hhcGU7cmV0dXJuIGdlKHthdXRvUGFkOm8sZm9ybWF0OnIsZGlsYXRpb25zOm4sZ3JvdXA6cyxrZXJuZWxTaGFwZTp1LG91dHB1dFBhZGRpbmc6aCxvdXRwdXRTaGFwZTpnLHBhZHM6bCxzdHJpZGVzOmEsd0lzQ29uc3Q6cCwuLi50fSl9LHZsPShlLHQpPT57aWYoIWV8fGUubGVuZ3RoIT09MiYmZS5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcigiQ29udiByZXF1aXJlcyAyIG9yIDMgaW5wdXRzIik7aWYoZVswXS5kaW1zLmxlbmd0aCE9PTQmJmVbMF0uZGltcy5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcigiY3VycmVudGx5IG9ubHkgc3VwcG9ydCAyLWRpbWVuc2lvbmFsIGNvbnYiKTtpZihlWzBdLmRpbXMubGVuZ3RoIT09ZVsxXS5kaW1zLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImZpbHRlciBkb2VzIG5vdCBoYXZlIHNhbWUgZGltZW5zaW9uIGFzIGlucHV0Iik7bGV0IHI9ZVswXS5kaW1zW3QuZm9ybWF0PT09Ik5IV0MiP2VbMF0uZGltcy5sZW5ndGgtMToxXSxvPWVbMV0uZGltc1swXTtpZihyIT09byl0aHJvdyBuZXcgRXJyb3IoIkZJTFRFUl9JTl9DSEFOTkVMIHNob3VsZCBiZSBlcXVhbCB0byBEQVRBX0NIQU5ORUwiKTtsZXQgbj1lWzFdLmRpbXNbMV0qdC5ncm91cDtpZihlLmxlbmd0aD09PTMmJihlWzJdLmRpbXMubGVuZ3RoIT09MXx8ZVsyXS5kaW1zWzBdIT09bikpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGJpYXMiKTtsZXQgcz1lWzBdLmRpbXMubGVuZ3RoLTI7aWYodC5kaWxhdGlvbnMucmVkdWNlKChoLGcpPT5oK2csMCk+MCYmdC5kaWxhdGlvbnMubGVuZ3RoIT09cyl0aHJvdyBuZXcgRXJyb3IoYGRpbGF0aW9ucyBzaG91bGQgYmUgJHtzfURgKTtpZih0LnN0cmlkZXMucmVkdWNlKChoLGcpPT5oK2csMCk+MCYmdC5zdHJpZGVzLmxlbmd0aCE9PXMpdGhyb3cgbmV3IEVycm9yKGBzdHJpZGVzIHNob3VsZCBiZSAke3N9RGApO2lmKHQucGFkcy5yZWR1Y2UoKGgsZyk9PmgrZywwKT4wJiZ0LnBhZHMubGVuZ3RoIT09cyoyKXRocm93IG5ldyBFcnJvcihgcGFkcyBzaG91bGQgYmUgJHtzKjJ9RGApO2lmKHQub3V0cHV0UGFkZGluZy5sZW5ndGghPT1zJiZ0Lm91dHB1dFBhZGRpbmcubGVuZ3RoIT09MCl0aHJvdyBuZXcgRXJyb3IoYG91dHB1dF9wYWRkaW5nIHNob3VsZCBiZSAke3N9RGApO2lmKHQua2VybmVsU2hhcGUucmVkdWNlKChoLGcpPT5oK2csMCk+MCYmdC5rZXJuZWxTaGFwZS5sZW5ndGghPT0wJiZ0Lmtlcm5lbFNoYXBlLmxlbmd0aCE9PWVbMV0uZGltcy5sZW5ndGgtMil0aHJvdyBuZXcgRXJyb3IoImludmFsaWQga2VybmVsIHNoYXBlIik7aWYodC5vdXRwdXRTaGFwZS5sZW5ndGghPT0wJiZ0Lm91dHB1dFNoYXBlLmxlbmd0aCE9PWVbMF0uZGltcy5sZW5ndGgtMil0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgb3V0cHV0IHNoYXBlIil9LCRsPVsyLDMsMSwwXSxTbD0oZSx0LHIpPT57bGV0IG89Wmkocix0KSxuPXIuZm9ybWF0PT09Ik5IV0MiLHM9by5vdXRwdXRTaGFwZSx1PXNbbj8zOjFdLGw9dFswXS5kaW1zW24/MzoxXTtpZihvLmdyb3VwIT09MXx8dT09PTEmJmw9PT0xKXtlLmNvbXB1dGUoS24odCxvKSk7cmV0dXJufWxldCBhPXNbbj8xOjJdLHA9c1tuPzI6M10saD10WzFdLmRpbXNbMl0sZz10WzFdLmRpbXNbM10sYj1uP2EqcDp1LHc9bj91OmEqcCx5PWgqZypsLF89ITAsST1lLmtlcm5lbEN1c3RvbURhdGEud1Q/P2UuY29tcHV0ZShpdCh0WzFdLCRsKSx7aW5wdXRzOlsxXSxvdXRwdXRzOltyLndJc0NvbnN0Py0yOi0xXX0pWzBdO3Iud0lzQ29uc3QmJiFlLmtlcm5lbEN1c3RvbURhdGEud1QmJihlLmtlcm5lbEN1c3RvbURhdGEud1Q9SSk7bGV0ICQ9W3RbMF0sSV0seD10Lmxlbmd0aD09PTM7eCYmKCFuJiZ0WzJdLmRpbXMubGVuZ3RoPT09MT8kLnB1c2godFsyXS5yZXNoYXBlKFt0WzJdLmRpbXNbMF0sMSwxXSkpOiQucHVzaCh0WzJdKSksZS5jb21wdXRlKHFpKCQsbyxzLGIsdyx5LHgsXykse2lucHV0czokfSl9LHhsPShlLHQpPT57bGV0IHI9dC5mb3JtYXQ9PT0iTkhXQyIsbz1bZS5pbnB1dHNbMF0ucmVzaGFwZShyP1tlLmlucHV0c1swXS5kaW1zWzBdLDEsZS5pbnB1dHNbMF0uZGltc1sxXSxlLmlucHV0c1swXS5kaW1zWzJdXTpbZS5pbnB1dHNbMF0uZGltc1swXSxlLmlucHV0c1swXS5kaW1zWzFdLDEsZS5pbnB1dHNbMF0uZGltc1syXV0pLGUuaW5wdXRzWzFdLnJlc2hhcGUoW2UuaW5wdXRzWzFdLmRpbXNbMF0sZS5pbnB1dHNbMV0uZGltc1sxXSwxLGUuaW5wdXRzWzFdLmRpbXNbMl1dKV07by5sZW5ndGg9PT0zJiZvLnB1c2goZS5pbnB1dHNbMl0pO2xldCBuPXQua2VybmVsU2hhcGU7KG4ubGVuZ3RoPT09MHx8blswXT09PTApJiYobj1bZS5pbnB1dHNbMV0uZGltc1syXV0pO2xldCBzPXQuZGlsYXRpb25zOyhzLmxlbmd0aD09PTB8fHNbMF09PT0wKSYmKHM9WzFdKTtsZXQgdT10LnN0cmlkZXM7KHUubGVuZ3RoPT09MHx8dVswXT09PTApJiYodT1bMV0pO2xldCBsPXQucGFkcztsLmxlbmd0aD09PTAmJihsPVswLDBdKSxsPVswLGxbMF0sMCxsWzFdXSx1PVsxXS5jb25jYXQodSkscz1bMV0uY29uY2F0KHMpLG49WzFdLmNvbmNhdChuKTtsZXQgYT1aaSh7Li4udCxwYWRzOmwsc3RyaWRlczp1LGRpbGF0aW9uczpzLGtlcm5lbFNoYXBlOm59LG8pO2UuY29tcHV0ZShLbihvLGEscD0+cj9bcFswXSxwWzJdLHBbM11dOltwWzBdLHBbMV0scFszXV0pKX0sWGk9KGUsdCk9Pnt2bChlLmlucHV0cyx0KSxlLmlucHV0c1swXS5kaW1zLmxlbmd0aD09PTM/eGwoZSx0KTpTbChlLGUuaW5wdXRzLHQpfX0pO3ZhciBfbCxlcyx0cyxycz1qKCgpPT57InVzZSBzdHJpY3QiO05lKCk7JGUoKTtqZSgpO3ZlKCk7X2w9KGUsdCxyLG8pPT57bGV0IG49VS5zaXplKHQpLHM9dC5sZW5ndGgsdT1NKCJpbnB1dCIsZSxzKSxsPUYoIm91dHB1dCIsZSxzKSxhPXIuZGF0YVR5cGU9PT02P3IuZ2V0SW50MzJBcnJheSgpWzBdOk51bWJlcihyLmdldEJpZ0ludDY0QXJyYXkoKVswXSkscD1VLm5vcm1hbGl6ZUF4aXMoYSxzKSxoPWc9PntsZXQgYj1gIGkzMigke3UuaW5kaWNlc0dldCgiaW5wdXRJbmRpY2VzIiwidW5pZm9ybXMuYXhpcyIpfSkgYCx3PWNlKCJ1bmlmb3Jtcy5pbnB1dF9zaGFwZSIsInVuaWZvcm1zLmF4aXMiLHMpLHk9by5yZXZlcnNlP2IrKG8uZXhjbHVzaXZlPyIgKyAxIjoiIik6IjAiLF89by5yZXZlcnNlP3c6Yisoby5leGNsdXNpdmU/IiI6IiArIDEiKTtyZXR1cm5gXG4gICAgICAgICAgICAgICAgJHtnLnJlZ2lzdGVyVW5pZm9ybSgib3V0cHV0U2l6ZSIsInUzMiIpLnJlZ2lzdGVyVW5pZm9ybSgiYXhpcyIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXModSxsKX1cbiAgICAgICAgICAgICAgICAke2cubWFpblN0YXJ0KCl9XG4gICAgICAgICAgICAgICAgICAke2cuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0U2l6ZSIpfVxuICAgICAgICAgICAgICAgICAgdmFyIGlucHV0SW5kaWNlcyA9ICR7bC5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07XG4gICAgICAgICAgICAgICAgICB2YXIgc3VtID0gJHtsLnR5cGUudmFsdWV9KDApO1xuICAgICAgICAgICAgICAgICAgbGV0IGZpcnN0IDogaTMyID0gJHt5fTtcbiAgICAgICAgICAgICAgICAgIGxldCBsYXN0IDogaTMyID0gJHtffTtcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgOiBpMzIgPSBmaXJzdDsgaSA8IGxhc3Q7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAke3UuaW5kaWNlc1NldCgiaW5wdXRJbmRpY2VzIiwidW5pZm9ybXMuYXhpcyIsInUzMihpKSIpfTtcbiAgICAgICAgICAgICAgICAgICAgc3VtID0gc3VtICsgJHt1LmdldEJ5SW5kaWNlcygiaW5wdXRJbmRpY2VzIil9O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgJHtsLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4Iiwic3VtIil9O1xuICAgICAgICAgICAgICAgIH1gfTtyZXR1cm57bmFtZToiQ3VtU3VtIixzaGFkZXJDYWNoZTp7aGludDpvLmNhY2hlS2V5LGlucHV0RGVwZW5kZW5jaWVzOlsicmFuayJdfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnQsZGF0YVR5cGU6ZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKG4vNjQpfSxwcm9ncmFtVW5pZm9ybXM6W3t0eXBlOiJ1aW50MzIiLGRhdGE6bn0se3R5cGU6ImludDMyIixkYXRhOnB9LC4uLkwodCksLi4uTCh0KV19KSxnZXRTaGFkZXJTb3VyY2U6aH19LGVzPShlLHQpPT57bGV0IHI9ZS5pbnB1dHNbMF0uZGltcyxvPWUuaW5wdXRzWzBdLmRhdGFUeXBlLG49ZS5pbnB1dHNbMV07ZS5jb21wdXRlKF9sKG8scixuLHQpLHtpbnB1dHM6WzBdfSl9LHRzPWU9PntsZXQgdD1lLmV4Y2x1c2l2ZT09PTEscj1lLnJldmVyc2U9PT0xO3JldHVybiBnZSh7ZXhjbHVzaXZlOnQscmV2ZXJzZTpyfSl9fSk7dmFyIFluLHJuLG5zLENsLElsLFpuLFFuLG9zLEFsLGFzLGlzLHNzPWooKCk9PnsidXNlIHN0cmljdCI7JGUoKTtqZSgpO3ZlKCk7WW49IlthLXpBLVpdfFxcXFwuXFxcXC5cXFxcLiIscm49IigiK1luKyIpKyIsbnM9Il4iK3JuKyIkIixDbD0iKCIrcm4rIiwpKiIrcm4sSWw9Il4iK0NsKyIkIixabj1jbGFzc3tjb25zdHJ1Y3Rvcih0PS0xKXt0aGlzLnN5bWJvbFRvSW5kaWNlcz1uZXcgTWFwLHRoaXMuaW5wdXRJbmRleD10fWFkZFN5bWJvbCh0LHIpe2xldCBvPXRoaXMuc3ltYm9sVG9JbmRpY2VzLmdldCh0KTtvPT09dm9pZCAwP289W3JdOm8ucHVzaChyKSx0aGlzLnN5bWJvbFRvSW5kaWNlcy5zZXQodCxvKX19LFFuPWNsYXNze2NvbnN0cnVjdG9yKHQscil7dGhpcy5lcXVhdGlvbj1yO3RoaXMuaGFzRWxsaXBzaXM9ITEsdGhpcy5zeW1ib2xUb0luZm89bmV3IE1hcCx0aGlzLmxocz1uZXcgQXJyYXksdGhpcy5vdXRwdXREaW1zPVtdO2xldFtvLG5dPXIuaW5jbHVkZXMoIi0+Iik/ci5zcGxpdCgiLT4iLDIpOltyLCIiXTtpZighby5tYXRjaChSZWdFeHAoSWwpKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgTEhTIHRlcm0iKTtpZihvLnNwbGl0KCIsIikuZm9yRWFjaCgobCxhKT0+e2xldCBwPXRbYV0uZGltcy5zbGljZSgpO2lmKCFsLm1hdGNoKFJlZ0V4cChucykpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBMSFMgdGVybSIpO2xldCBoPXRoaXMucHJvY2Vzc1Rlcm0obCwhMCxwLGEpO3RoaXMubGhzLnB1c2goaCl9KSxuPT09IiIpbis9Wy4uLnRoaXMuc3ltYm9sVG9JbmZvLmVudHJpZXMoKV0uZmlsdGVyKChbbCxhXSk9PmEuY291bnQ9PT0xfHxsPT09Ii4uLiIpLm1hcCgoW2xdKT0+bCkuam9pbigiIik7ZWxzZSBpZighbi5tYXRjaChSZWdFeHAocm4pKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgUkhTIik7bi5tYXRjaChSZWdFeHAoWW4sImciKSk/LmZvckVhY2gobD0+e2lmKGw9PT0iLi4uIil0aGlzLm91dHB1dERpbXM9dGhpcy5vdXRwdXREaW1zLmNvbmNhdCh0aGlzLmVsbGlwc2lzRGltcyk7ZWxzZXtsZXQgYT10aGlzLnN5bWJvbFRvSW5mby5nZXQobCk7aWYoYT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgUkhTIHN5bWJvbCIpO3RoaXMub3V0cHV0RGltcy5wdXNoKGEuZGltVmFsdWUpfX0pLHRoaXMucmhzPXRoaXMucHJvY2Vzc1Rlcm0obiwhMSx0aGlzLm91dHB1dERpbXMpfWFkZFN5bWJvbCh0LHIsbyl7bGV0IG49dGhpcy5zeW1ib2xUb0luZm8uZ2V0KHQpO2lmKG4hPT12b2lkIDApe2lmKG4uZGltVmFsdWUhPT1yJiZuLmNvdW50IT09MSl0aHJvdyBuZXcgRXJyb3IoIkRpbWVuc2lvbiBtaXNtYXRjaCIpO24uY291bnQrKyxuLmlucHV0SW5kaWNlcy5wdXNoKG8pfWVsc2Ugbj17Y291bnQ6MSxkaW1WYWx1ZTpyLGlucHV0SW5kaWNlczpbb119O3RoaXMuc3ltYm9sVG9JbmZvLnNldCh0LG4pfXByb2Nlc3NUZXJtKHQscixvLG49LTEpe2xldCBzPW8ubGVuZ3RoLHU9ITEsbD1bXSxhPTA7aWYoIXQubWF0Y2goUmVnRXhwKG5zKSkmJiFyJiZ0IT09IiIpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIExIUyB0ZXJtIik7bGV0IHA9dC5tYXRjaChSZWdFeHAoWW4sImciKSksaD1uZXcgWm4obik7cmV0dXJuIHA/LmZvckVhY2goKGcsYik9PntpZihnPT09Ii4uLiIpe2lmKHUpdGhyb3cgbmV3IEVycm9yKCJPbmx5IG9uZSBlbGxpcHNpcyBpcyBhbGxvd2VkIHBlciBpbnB1dCB0ZXJtIik7dT0hMDtsZXQgdz1zLXAubGVuZ3RoKzE7aWYodzwwKXRocm93IG5ldyBFcnJvcigiRWxsaXBzaXMgb3V0IG9mIGJvdW5kcyIpO2lmKGw9by5zbGljZShhLGErdyksdGhpcy5oYXNFbGxpcHNpcyl7aWYodGhpcy5lbGxpcHNpc0RpbXMubGVuZ3RoIT09bC5sZW5ndGh8fHRoaXMuZWxsaXBzaXNEaW1zLnRvU3RyaW5nKCkhPT1sLnRvU3RyaW5nKCkpdGhyb3cgbmV3IEVycm9yKCJFbGxpcHNpcyBkaW1lbnNpb25zIG1pc21hdGNoIil9ZWxzZSBpZihyKXRoaXMuaGFzRWxsaXBzaXM9ITAsdGhpcy5lbGxpcHNpc0RpbXM9bDtlbHNlIHRocm93IG5ldyBFcnJvcigiRWxsaXBzaXMgbXVzdCBiZSBzcGVjaWZpZWQgaW4gdGhlIExIUyIpO2ZvcihsZXQgeT0wO3k8bC5sZW5ndGg7eSsrKXtsZXQgXz1TdHJpbmcuZnJvbUNoYXJDb2RlKCIwIi5jaGFyQ29kZUF0KDApK3kpO2guYWRkU3ltYm9sKF8sYit5KSx0aGlzLmFkZFN5bWJvbChfLG9bYSsrXSxuKX19ZWxzZSBoLmFkZFN5bWJvbChnLGIrKHRoaXMuaGFzRWxsaXBzaXM/dGhpcy5lbGxpcHNpc0RpbXMubGVuZ3RoLTE6MCkpLHRoaXMuYWRkU3ltYm9sKGcsb1thKytdLG4pfSksaH19LG9zPWU9PmUrIl9tYXgiLEFsPShlLHQscixvLG4pPT57bGV0IHU9dC5tYXAoKHcseSk9PmVbeV0/dy5sZW5ndGg6dykubWFwKCh3LHkpPT5NKGBpbnB1dCR7eX1gLHIsdykpLGw9VS5zaXplKG4pLGE9UmUobi5sZW5ndGgpLHA9YT9uLmxlbmd0aDpuLGg9Rigib3V0cHV0IixyLHApLGc9Wy4uLm8uc3ltYm9sVG9JbmZvLmtleXMoKV0uZmlsdGVyKHc9PiFvLnJocy5zeW1ib2xUb0luZGljZXMuaGFzKHcpKSxiPXc9PntsZXQgeT1bXSxfPSJ2YXIgcHJvZCA9IDEuMDsiLEk9InZhciBzdW0gPSAwLjA7IiwkPSJzdW0gKz0gcHJvZDsiLHg9W10sRT1bXSxBPVtdLHo9W10sUj1vLnN5bWJvbFRvSW5mby5zaXplPT09by5yaHMuc3ltYm9sVG9JbmRpY2VzLnNpemU7by5zeW1ib2xUb0luZm8uZm9yRWFjaCgoVCxOKT0+e2lmKG8ucmhzLnN5bWJvbFRvSW5kaWNlcy5oYXMoTikpe2xldCB0ZT1vLnJocy5zeW1ib2xUb0luZGljZXMuZ2V0KE4pPy5bMF07dGUhPT12b2lkIDAmJm8ubGhzLmZvckVhY2goKFksSyk9PntpZihULmlucHV0SW5kaWNlcy5pbmNsdWRlcyhLKSl7bGV0IFE9WS5zeW1ib2xUb0luZGljZXMuZ2V0KE4pO2lmKFE9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHN5bWJvbCBlcnJvciIpO1EuZm9yRWFjaChaPT57eS5wdXNoKGAke3VbS10uaW5kaWNlc1NldChgaW5wdXQke0t9SW5kaWNlc2AsWixoLmluZGljZXNHZXQoIm91dHB1dEluZGljZXMiLHRlKSl9YCl9KX19KX1lbHNlIG8ubGhzLmZvckVhY2goKHRlLFkpPT57aWYoVC5pbnB1dEluZGljZXMuaW5jbHVkZXMoWSkpe2xldCBLPXRlLnN5bWJvbFRvSW5kaWNlcy5nZXQoTik7aWYoSz09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3ltYm9sIGVycm9yIik7Sy5mb3JFYWNoKFE9Pnt4LnB1c2goYCR7dVtZXS5pbmRpY2VzU2V0KGBpbnB1dCR7WX1JbmRpY2VzYCxRLGAke059YCl9YCl9KSx6LnB1c2goYHByb2QgKj0gJHt1W1ldLmdldEJ5SW5kaWNlcyhgaW5wdXQke1l9SW5kaWNlc2ApfTtgKX19KSxFLnB1c2goYGZvcih2YXIgJHtOfTogdTMyID0gMDsgJHtOfSA8IHVuaWZvcm1zLiR7b3MoTil9OyAke059KyspIHtgKSxBLnB1c2goIn0iKX0pO2xldCBWPVI/Wy4uLnksYGxldCBzdW0gPSAke3UubWFwKChULE4pPT5ULmdldEJ5SW5kaWNlcyhgaW5wdXQke059SW5kaWNlc2ApKS5qb2luKCIgKiAiKX07YF06Wy4uLnksSSwuLi5FLC4uLngsXywuLi56LCQsLi4uQV07cmV0dXJuYFxuICAgICAgICAgICAgJHt3LnJlZ2lzdGVyVW5pZm9ybXMoZy5tYXAoVD0+KHtuYW1lOmAke29zKFQpfWAsdHlwZToidTMyIn0pKSkucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRTaXplIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyguLi51LGgpfVxuXG4gICAgICAgICAgICAke3cubWFpblN0YXJ0KCl9XG4gICAgICAgICAgICAke3cuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0U2l6ZSIpfVxuICAgICAgICAgICAgdmFyIG91dHB1dEluZGljZXMgPSAke2gub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9O1xuICAgICAgICAgICAgJHt1Lm1hcCgoVCxOKT0+YHZhciBpbnB1dCR7Tn1JbmRpY2VzOiAke3VbTl0udHlwZS5pbmRpY2VzfTtgKS5qb2luKGBcbmApfVxuICAgICAgICAgICAgJHtWLmpvaW4oYFxuYCl9O1xuICAgICAgICAgICAgJHtoLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4Iiwic3VtIil9O1xuICAgICAgICAgIH1gfTtyZXR1cm57bmFtZToiRWluc3VtIixzaGFkZXJDYWNoZTp7aGludDpvLmVxdWF0aW9uLGlucHV0RGVwZW5kZW5jaWVzOmUubWFwKHc9Pnc/InJhbmsiOiJkaW1zIil9LGdldFJ1bkRhdGE6KCk9PntsZXQgdz1nLmZpbHRlcihfPT5vLnN5bWJvbFRvSW5mby5oYXMoXykpLm1hcChfPT4oe3R5cGU6InVpbnQzMiIsZGF0YTpvLnN5bWJvbFRvSW5mby5nZXQoXyk/LmRpbVZhbHVlfHwwfSkpO3cucHVzaCh7dHlwZToidWludDMyIixkYXRhOmx9KTtsZXQgeT10LmZpbHRlcigoXyxJKT0+ZVtJXSkubWFwKChfLEkpPT5bLi4uTChfKV0pLnJlZHVjZSgoXyxJKT0+Xy5jb25jYXQoSSksdyk7cmV0dXJuIGEmJnkucHVzaCguLi5MKG4pKSx7b3V0cHV0czpbe2RpbXM6bixkYXRhVHlwZTpyfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwobC82NCl9LHByb2dyYW1Vbmlmb3Jtczp5fX0sZ2V0U2hhZGVyU291cmNlOmJ9fSxhcz0oZSx0KT0+e2xldCByPW5ldyBRbihlLmlucHV0cyx0LmVxdWF0aW9uKSxvPWUuaW5wdXRzLm1hcCgodSxsKT0+UmUodS5kaW1zLmxlbmd0aCkpLG49ci5vdXRwdXREaW1zLHM9ZS5pbnB1dHMubWFwKCh1LGwpPT51LmRpbXMpO2UuY29tcHV0ZShBbChvLHMsZS5pbnB1dHNbMF0uZGF0YVR5cGUscixuKSl9LGlzPWU9PntsZXQgdD1lLmVxdWF0aW9uLnJlcGxhY2UoL1xccysvZywiIik7cmV0dXJuIGdlKHtlcXVhdGlvbjp0fSl9fSk7dmFyIFRsLHVzLEVsLE9sLGRzLGxzPWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTskZSgpO3ZlKCk7VGw9ZT0+e2lmKCFlfHxlLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCJFeHBhbmQgcmVxdWlyZXMgMiBpbnB1dC4iKTtsZXQgdD1lWzBdLmRpbXMscj1BcnJheS5mcm9tKGVbMV0uZ2V0QmlnSW50NjRBcnJheSgpLE51bWJlciksbz1yLmxlbmd0aDx0Lmxlbmd0aD8wOnIubGVuZ3RoLXQubGVuZ3RoLG49dC5sZW5ndGg8ci5sZW5ndGg/MDp0Lmxlbmd0aC1yLmxlbmd0aDtmb3IoO288ci5sZW5ndGgmJm48dC5sZW5ndGg7KytvLCsrbilpZihyW29dIT09dFtuXSYmcltvXSE9PTEmJnRbbl0hPT0xKXRocm93IG5ldyBFcnJvcigiRXhwYW5kIHJlcXVpcmVzIHNoYXBlIHRvIGJlIGJyb2FkY2FzdGFibGUgdG8gaW5wdXQiKX0sdXM9KGUsdCk9PntsZXQgcj1lLmxlbmd0aC10Lmxlbmd0aCxvPVtdO2ZvcihsZXQgbj0wO248cjsrK24pby5wdXNoKGVbbl0pO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7KytuKW8ucHVzaCh0W25dPT09MT9lW24rcl06dFtuXSk7cmV0dXJuIG99LEVsPShlLHQpPT5lLmxlbmd0aD50Lmxlbmd0aD91cyhlLHQpOnVzKHQsZSksT2w9ZT0+e2xldCB0PWVbMF0uZGltcyxyPUFycmF5LmZyb20oZVsxXS5nZXRCaWdJbnQ2NEFycmF5KCksTnVtYmVyKSxvPUVsKHQsciksbj1lWzBdLmRhdGFUeXBlLHM9bj09PTk/NDoxLHU9TWF0aC5jZWlsKFUuc2l6ZShvKS9zKSxsPVJlKHQubGVuZ3RoKSxhPVJlKG8ubGVuZ3RoKSxwPWc9PntsZXQgYj1sP3QubGVuZ3RoOnQsdz1hP28ubGVuZ3RoOm8seT1NKCJpbnB1dCIsbixiLHMpLF89Rigib3V0cHV0IixuLHcscyksSTtpZihuPT09OSl7bGV0ICQ9KHgsRSxBPSIiKT0+YFxuICAgICAgICAgIGxldCBvdXRwdXRJbmRpY2VzJHtFfSA9ICR7Xy5vZmZzZXRUb0luZGljZXMoYG91dHB1dE9mZnNldCArICR7RX11YCl9O1xuICAgICAgICAgIGxldCBvZmZzZXQke0V9ID0gJHt5LmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KGBvdXRwdXRJbmRpY2VzJHtFfWAsXyl9O1xuICAgICAgICAgIGxldCBpbmRleCR7RX0gPSBvZmZzZXQke0V9IC8gNHU7XG4gICAgICAgICAgbGV0IGNvbXBvbmVudCR7RX0gPSBvZmZzZXQke0V9ICUgNHU7XG4gICAgICAgICAgJHt4fVske0V9XSA9ICR7QX0oJHt5LmdldEJ5T2Zmc2V0KGBpbmRleCR7RX1gKX1bY29tcG9uZW50JHtFfV0pO1xuICAgICAgICBgO0k9YFxuICAgICAgICBsZXQgb3V0cHV0T2Zmc2V0ID0gZ2xvYmFsX2lkeCAqICR7c307XG4gICAgICAgIHZhciBkYXRhID0gdmVjNDx1MzI+KDApO1xuICAgICAgICAkeyQoImRhdGEiLDAsInUzMiIpfVxuICAgICAgICAkeyQoImRhdGEiLDEsInUzMiIpfVxuICAgICAgICAkeyQoImRhdGEiLDIsInUzMiIpfVxuICAgICAgICAkeyQoImRhdGEiLDMsInUzMiIpfVxuICAgICAgICAke18uc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJkYXRhIil9XG4gICAgICB9YH1lbHNlIEk9YFxuICAgICAgICBsZXQgb3V0cHV0SW5kaWNlcyA9ICR7Xy5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07XG4gICAgICAgIGxldCBpbnB1dE9mZnNldCA9ICR7eS5icm9hZGNhc3RlZEluZGljZXNUb09mZnNldCgib3V0cHV0SW5kaWNlcyIsXyl9O1xuICAgICAgICAke18uc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLHkuZ2V0QnlPZmZzZXQoImlucHV0T2Zmc2V0IikpfVxuICAgICAgfWA7cmV0dXJuYFxuICAgICR7Zy5yZWdpc3RlclVuaWZvcm0oInZlY19zaXplIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyh5LF8pfVxuICAgICR7Zy5tYWluU3RhcnQoKX1cbiAgICAke2cuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMudmVjX3NpemUiKX1cbiAgICAke0l9YH0saD1be3R5cGU6InVpbnQzMiIsZGF0YTp1fV07cmV0dXJuIGwmJmgucHVzaCguLi5MKHQpKSxhJiZoLnB1c2goLi4uTChvKSkse25hbWU6IkV4cGFuZCIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7by5sZW5ndGh9YCxpbnB1dERlcGVuZGVuY2llczpbbD8icmFuayI6ImRpbXMiXX0sZ2V0U2hhZGVyU291cmNlOnAsZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpvLGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbCh1LzY0KX0scHJvZ3JhbVVuaWZvcm1zOmh9KX19LGRzPWU9PntUbChlLmlucHV0cyksZS5jb21wdXRlKE9sKGUuaW5wdXRzKSx7aW5wdXRzOlswXX0pfX0pO3ZhciBQbCxrbCxjcyxwcyxtcz1qKCgpPT57InVzZSBzdHJpY3QiO05lKCk7JGUoKTtqZSgpO3ZlKCk7UGw9ZT0+e2lmKCFlfHxlLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCJHYXRoZXIgcmVxdWlyZXMgMiBpbnB1dHMuIil9LGtsPShlLHQpPT57bGV0IHI9ZVswXS5kaW1zLG89ZVsxXS5kaW1zLG49ci5sZW5ndGgscz1VLm5vcm1hbGl6ZUF4aXModC5heGlzLG4pLHU9ci5zbGljZSgwKTt1LnNwbGljZShzLDEsLi4ubyk7bGV0IGw9cltzXSxhPWVbMF0uZGF0YVR5cGU9PT05PzQ6MSxwPU1hdGguY2VpbChVLnNpemUodSkvYSksaD1SZShlWzBdLmRpbXMubGVuZ3RoKSxnPWg/ZVswXS5kaW1zLmxlbmd0aDplWzBdLmRpbXMsYj1SZShlWzFdLmRpbXMubGVuZ3RoKSx3PWI/ZVsxXS5kaW1zLmxlbmd0aDplWzFdLmRpbXMseT1SZSh1Lmxlbmd0aCksXz15P3UubGVuZ3RoOnUsST1be3R5cGU6InVpbnQzMiIsZGF0YTpwfSx7dHlwZToiaW50MzIiLGRhdGE6bH0se3R5cGU6InVpbnQzMiIsZGF0YTpzfV07aCYmSS5wdXNoKC4uLkwoZVswXS5kaW1zKSksYiYmSS5wdXNoKC4uLkwoZVsxXS5kaW1zKSkseSYmSS5wdXNoKC4uLkwodSkpO2xldCAkPVtdOyQucHVzaChoPyJyYW5rIjoiZGltcyIpLCQucHVzaChiPyJyYW5rIjoiZGltcyIpO2xldCB4PUU9PntsZXQgQT1NKCJkYXRhIixlWzBdLmRhdGFUeXBlLGcsYSksej1NKCJpbnB1dEluZGljZXMiLGVbMV0uZGF0YVR5cGUsdyksUj1GKCJvdXRwdXQiLGVbMF0uZGF0YVR5cGUsXyxhKSxWPU49PntsZXQgdGU9by5sZW5ndGgsWT1gdmFyIGluZGljZXNJbmRpY2VzJHtOfSAgPSAke3oudHlwZS5pbmRpY2VzfSgwKTtgO2ZvcihsZXQgSz0wO0s8dGU7SysrKVkrPWAke3RlPjE/YGluZGljZXNJbmRpY2VzJHtOfVske0t9XWA6YGluZGljZXNJbmRpY2VzJHtOfWB9ID0gJHt1Lmxlbmd0aD4xP2BvdXRwdXRJbmRpY2VzJHtOfVt1bmlmb3Jtcy5heGlzICsgJHtLfV1gOmBvdXRwdXRJbmRpY2VzJHtOfWB9O2A7WSs9YFxuICAgICAgICAgIHZhciBpZHgke059ID0gJHt6LmdldEJ5SW5kaWNlcyhgaW5kaWNlc0luZGljZXMke059YCl9O1xuICAgICAgICAgIGlmIChpZHgke059IDwgMCkge1xuICAgICAgICAgICAgaWR4JHtOfSA9IGlkeCR7Tn0gKyB1bmlmb3Jtcy5heGlzRGltTGltaXQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBkYXRhSW5kaWNlcyR7Tn0gPSAke0EudHlwZS5pbmRpY2VzfSgwKTtcbiAgICAgICAgYDtmb3IobGV0IEs9MCxRPTA7SzxuO0srKylLPT09cz8oWSs9YCR7bj4xP2BkYXRhSW5kaWNlcyR7Tn1bJHtLfV1gOmBkYXRhSW5kaWNlcyR7Tn1gfSA9IHUzMihpZHgke059KTtgLFErPXRlKTooWSs9YCR7bj4xP2BkYXRhSW5kaWNlcyR7Tn1bJHtLfV1gOmBkYXRhSW5kaWNlcyR7Tn1gfSA9ICR7dS5sZW5ndGg+MT9gb3V0cHV0SW5kaWNlcyR7Tn1bJHtRfV1gOmBvdXRwdXRJbmRpY2VzJHtOfWB9O2AsUSsrKTtyZXR1cm4gWX0sVDtpZihlWzBdLmRhdGFUeXBlPT09OSl7bGV0IE49KHRlLFksSz0iIik9PmBcbiAgICAgICAgICBsZXQgb3V0cHV0SW5kaWNlcyR7WX0gPSAke1Iub2Zmc2V0VG9JbmRpY2VzKGBvdXRwdXRPZmZzZXQgKyAke1l9dWApfTtcbiAgICAgICAgICAke1YoWSl9O1xuICAgICAgICAgIGxldCBvZmZzZXQke1l9ID0gJHtBLmluZGljZXNUb09mZnNldChgZGF0YUluZGljZXMke1l9YCl9O1xuICAgICAgICAgIGxldCBpbmRleCR7WX0gPSBvZmZzZXQke1l9IC8gNHU7XG4gICAgICAgICAgbGV0IGNvbXBvbmVudCR7WX0gPSBvZmZzZXQke1l9ICUgNHU7XG4gICAgICAgICAgJHt0ZX1bJHtZfV0gPSAke0t9KCR7QS5nZXRCeU9mZnNldChgaW5kZXgke1l9YCl9W2NvbXBvbmVudCR7WX1dKTtcbiAgICAgICAgYDtUPWBcbiAgICAgICAgbGV0IG91dHB1dE9mZnNldCA9IGdsb2JhbF9pZHggKiAke2F9O1xuICAgICAgICB2YXIgdmFsdWUgPSB2ZWM0PHUzMj4oMCk7XG4gICAgICAgICR7TigidmFsdWUiLDAsInUzMiIpfVxuICAgICAgICAke04oInZhbHVlIiwxLCJ1MzIiKX1cbiAgICAgICAgJHtOKCJ2YWx1ZSIsMiwidTMyIil9XG4gICAgICAgICR7TigidmFsdWUiLDMsInUzMiIpfVxuICAgICAgICAke1Iuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJ2YWx1ZSIpfVxuICAgICAgYH1lbHNlIFQ9YFxuICAgICAgbGV0IG91dHB1dEluZGljZXMgPSAke1Iub2Zmc2V0VG9JbmRpY2VzKCJnbG9iYWxfaWR4Iil9O1xuICAgICAgJHtWKCIiKX07XG4gICAgICBsZXQgdmFsdWUgPSAke0EuZ2V0QnlJbmRpY2VzKCJkYXRhSW5kaWNlcyIpfTtcbiAgICAgICR7Ui5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsInZhbHVlIil9O1xuICAgICAgYDtyZXR1cm5gXG4gICAgICAke0UucmVnaXN0ZXJVbmlmb3JtKCJvdXRwdXRTaXplIiwidTMyIikucmVnaXN0ZXJVbmlmb3JtKCJheGlzRGltTGltaXQiLCJpMzIiKS5yZWdpc3RlclVuaWZvcm0oImF4aXMiLCJ1MzIiKS5kZWNsYXJlVmFyaWFibGVzKEEseixSKX1cbiAgICAgICR7RS5tYWluU3RhcnQoKX1cbiAgICAgICAgJHtFLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dFNpemUiKX1cbiAgICAgICAgJHtUfVxuICAgICAgfWB9O3JldHVybntuYW1lOiJHYXRoZXIiLHNoYWRlckNhY2hlOntoaW50OnQuY2FjaGVLZXksaW5wdXREZXBlbmRlbmNpZXM6JH0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczp1LGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChwLzY0KX0scHJvZ3JhbVVuaWZvcm1zOkl9KSxnZXRTaGFkZXJTb3VyY2U6eH19LGNzPWU9PmdlKHtheGlzOmUuYXhpc30pLHBzPShlLHQpPT57bGV0IHI9ZS5pbnB1dHM7UGwociksZS5jb21wdXRlKGtsKGUuaW5wdXRzLHQpKX19KTt2YXIgUmwsQmwsZnMsaHMsZ3M9aigoKT0+eyJ1c2Ugc3RyaWN0IjskZSgpO2plKCk7dmUoKTtSbD1lPT57aWYoIWV8fGUubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoIkdhdGhlckVsZW1lbnRzIHJlcXVpcmVzIDIgaW5wdXRzLiIpO2lmKGVbMF0uZGltcy5sZW5ndGg8MSl0aHJvdyBuZXcgRXJyb3IoIkdhdGhlckVsZW1lbnRzIHJlcXVpcmVzIHRoYXQgdGhlIGRhdGEgaW5wdXQgYmUgcmFuayA+PSAxLiIpO2lmKGVbMF0uZGltcy5sZW5ndGghPT1lWzFdLmRpbXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgR2F0aGVyRWxlbWVudHMgcmVxdWlyZXMgdGhhdCB0aGUgZGF0YSBpbnB1dCBhbmRcbiAgICAgICAgICAgICAgICAgICAgIGluZGljZXMgaW5wdXQgdGVuc29ycyBiZSBvZiBzYW1lIHJhbmsuYCl9LEJsPShlLHQpPT57bGV0IHI9ZVswXS5kaW1zLG89ZVswXS5kYXRhVHlwZSxuPXIubGVuZ3RoLHM9ZVsxXS5kaW1zLHU9ZVsxXS5kYXRhVHlwZSxsPVUubm9ybWFsaXplQXhpcyh0LmF4aXMsbiksYT1yW2xdLHA9cy5zbGljZSgwKSxoPVUuc2l6ZShwKSxnPU0oImlucHV0IixvLG4pLGI9TSgiaW5kaWNlc0lucHV0Iix1LHMubGVuZ3RoKSx3PUYoIm91dHB1dCIsbyxwLmxlbmd0aCkseT1be3R5cGU6InVpbnQzMiIsZGF0YTpofSx7dHlwZToiaW50MzIiLGRhdGE6YX0se3R5cGU6InVpbnQzMiIsZGF0YTpsfV07cmV0dXJuIHkucHVzaCguLi5MKHIpKSx5LnB1c2goLi4uTChzKSkseS5wdXNoKC4uLkwocCkpLHtuYW1lOiJHYXRoZXJFbGVtZW50cyIsc2hhZGVyQ2FjaGU6e2lucHV0RGVwZW5kZW5jaWVzOlsicmFuayIsInJhbmsiXX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpwLGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChoLzY0KX0scHJvZ3JhbVVuaWZvcm1zOnl9KSxnZXRTaGFkZXJTb3VyY2U6JD0+YFxuICAgICAgJHskLnJlZ2lzdGVyVW5pZm9ybSgib3V0cHV0U2l6ZSIsInUzMiIpLnJlZ2lzdGVyVW5pZm9ybSgiYXhpc0RpbUxpbWl0IiwiaTMyIikucmVnaXN0ZXJVbmlmb3JtKCJheGlzIiwidTMyIikuZGVjbGFyZVZhcmlhYmxlcyhnLGIsdyl9XG4gICAgICAkeyQubWFpblN0YXJ0KCl9XG4gICAgICAkeyQuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0U2l6ZSIpfVxuXG4gICAgICBsZXQgb3V0cHV0SW5kaWNlcyA9ICR7dy5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07XG5cbiAgICAgIHZhciBpZHggPSAke2IuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKX07XG4gICAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgICBpZHggPSBpZHggKyB1bmlmb3Jtcy5heGlzRGltTGltaXQ7XG4gICAgICB9XG4gICAgICB2YXIgaW5wdXRJbmRpY2VzID0gJHtnLnR5cGUuaW5kaWNlc30ob3V0cHV0SW5kaWNlcyk7XG4gICAgICAke2cuaW5kaWNlc1NldCgiaW5wdXRJbmRpY2VzIiwidW5pZm9ybXMuYXhpcyIsInUzMihpZHgpIil9O1xuICAgICAgbGV0IHZhbHVlID0gJHtnLmdldEJ5SW5kaWNlcygiaW5wdXRJbmRpY2VzIil9O1xuXG4gICAgICAke3cuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLCJ2YWx1ZSIpfTtcbiAgfWB9fSxmcz1lPT5nZSh7YXhpczplLmF4aXN9KSxocz0oZSx0KT0+e2xldCByPWUuaW5wdXRzO1JsKHIpLGUuY29tcHV0ZShCbChlLmlucHV0cyx0KSl9fSk7dmFyIERsLE1sLHlzLGJzLHdzPWooKCk9PnsidXNlIHN0cmljdCI7JGUoKTt2ZSgpO0RsPWU9PntpZighZSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IGlzIG1pc3NpbmciKTtpZihlLmxlbmd0aDwyfHxlLmxlbmd0aD4zKXRocm93IG5ldyBFcnJvcigiSW52YWlkIGlucHV0IG51bWJlci4iKTtpZihlLmxlbmd0aD09PTMmJmVbMl0uZGltcy5sZW5ndGg+Mil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgc2hhcGUgb2YgQyIpO2lmKGVbMF0uZGF0YVR5cGUhPT1lWzFdLmRhdGFUeXBlfHxlLmxlbmd0aD09PTMmJmVbMF0uZGF0YVR5cGUhPT1lWzJdLmRhdGFUeXBlKXRocm93IG5ldyBFcnJvcigiSW5wdXQgdHlwZXMgYXJlIG1pc21hdGNoZWQiKX0sTWw9KGUsdCk9PntsZXQgcj1lWzBdLmRpbXMuc2xpY2UoKSxvPWVbMV0uZGltcy5zbGljZSgpLFtuLHMsdV09SHIuZ2V0U2hhcGVPZkdlbW1SZXN1bHQocix0LnRyYW5zQSxvLHQudHJhbnNCLGUubGVuZ3RoPT09Mz9lWzJdLmRpbXM6dm9pZCAwKSxsPVtuLHNdO2lmKCFsKXRocm93IG5ldyBFcnJvcigiQ2FuXCd0IHVzZSBnZW1tIG9uIHRoZSBnaXZlbiB0ZW5zb3JzIik7bGV0IGE9VS5zaXplKGwpLHA9W3t0eXBlOiJ1aW50MzIiLGRhdGE6YX0se3R5cGU6InVpbnQzMiIsZGF0YTpufSx7dHlwZToidWludDMyIixkYXRhOnN9LHt0eXBlOiJ1aW50MzIiLGRhdGE6dX0se3R5cGU6ImZsb2F0MzIiLGRhdGE6dC5hbHBoYX0se3R5cGU6ImZsb2F0MzIiLGRhdGE6dC5iZXRhfV0saD1bInR5cGUiLCJ0eXBlIl07ZS5sZW5ndGg9PT0zJiYocC5wdXNoKC4uLkwoZVsyXS5kaW1zKSksaC5wdXNoKCJyYW5rIikpLHAucHVzaCguLi5MKGwpKTtsZXQgZz1iPT57bGV0IHc9IiI7dC50cmFuc0EmJnQudHJhbnNCP3c9InZhbHVlICs9IGFbayAqIHVuaWZvcm1zLk0gKyBtXSAqIGJbbiAqIHVuaWZvcm1zLksgKyBrXTsiOnQudHJhbnNBJiYhdC50cmFuc0I/dz0idmFsdWUgKz0gYVtrICogdW5pZm9ybXMuTSArIG1dICogYltrICogdW5pZm9ybXMuTiArIG5dOyI6IXQudHJhbnNBJiZ0LnRyYW5zQj93PSJ2YWx1ZSArPSBhW20gKiB1bmlmb3Jtcy5LICsga10gKiBiW24gKiB1bmlmb3Jtcy5LICsga107IjohdC50cmFuc0EmJiF0LnRyYW5zQiYmKHc9InZhbHVlICs9IGFbbSAqIHVuaWZvcm1zLksgKyBrXSAqIGJbayAqIHVuaWZvcm1zLk4gKyBuXTsiKTtsZXQgeT10LmFscGhhPT09MT8iIjoidmFsdWUgKj0gdW5pZm9ybXMuYWxwaGE7IixfPU0oImEiLGVbMF0uZGF0YVR5cGUsZVswXS5kaW1zKSxJPU0oImIiLGVbMV0uZGF0YVR5cGUsZVsxXS5kaW1zKSwkPV8udHlwZS52YWx1ZSx4PW51bGwsRT1bXyxJXTtlLmxlbmd0aD09PTMmJih4PU0oImMiLGVbMl0uZGF0YVR5cGUsZVsyXS5kaW1zLmxlbmd0aCksRS5wdXNoKHgpKTtsZXQgQT1GKCJvdXRwdXQiLGVbMF0uZGF0YVR5cGUsbC5sZW5ndGgpO0UucHVzaChBKTtsZXQgej1be25hbWU6Im91dHB1dF9zaXplIix0eXBlOiJ1MzIifSx7bmFtZToiTSIsdHlwZToidTMyIn0se25hbWU6Ik4iLHR5cGU6InUzMiJ9LHtuYW1lOiJLIix0eXBlOiJ1MzIifSx7bmFtZToiYWxwaGEiLHR5cGU6ImYzMiJ9LHtuYW1lOiJiZXRhIix0eXBlOiJmMzIifV07cmV0dXJuYFxuICAke2IucmVnaXN0ZXJVbmlmb3Jtcyh6KS5kZWNsYXJlVmFyaWFibGVzKC4uLkUpfVxuXG4gICR7Yi5tYWluU3RhcnQoKX1cbiAgICAke2IuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0X3NpemUiKX1cblxuICAgIGxldCBtID0gZ2xvYmFsX2lkeCAvIHVuaWZvcm1zLk47XG4gICAgbGV0IG4gPSBnbG9iYWxfaWR4ICUgdW5pZm9ybXMuTjtcblxuICAgIHZhciB2YWx1ZSA9ICR7JH0oMCk7XG4gICAgZm9yICh2YXIgazogdTMyID0gMHU7IGsgPCB1bmlmb3Jtcy5LOyBrKyspIHtcbiAgICAgICR7d31cbiAgICB9XG5cbiAgICAke3l9XG4gICAgJHsoKCk9PnghPW51bGw/YGxldCBjT2Zmc2V0ID0gJHt4LmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KCJ2ZWMyKG0sIG4pIixBKX07IHZhbHVlICs9ICR7JH0odW5pZm9ybXMuYmV0YSkgKiAke3guZ2V0QnlPZmZzZXQoImNPZmZzZXQiKX07YDoiIikoKX1cbiAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSB2YWx1ZTtcbiAgfWB9O3JldHVybntuYW1lOiJHZW1tIixzaGFkZXJDYWNoZTp7aGludDpgJHt0LmNhY2hlS2V5fWAsaW5wdXREZXBlbmRlbmNpZXM6aH0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpsLGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChhLzY0KX0scHJvZ3JhbVVuaWZvcm1zOnB9KSxnZXRTaGFkZXJTb3VyY2U6Z319LHlzPWU9PntsZXQgdD1lLnRyYW5zQSxyPWUudHJhbnNCLG89ZS5hbHBoYSxuPWUuYmV0YTtyZXR1cm57dHJhbnNBOnQsdHJhbnNCOnIsYWxwaGE6byxiZXRhOm4sY2FjaGVLZXk6YCR7ZS50cmFuc0F9OyR7ZS50cmFuc0J9OyR7ZS5hbHBoYT09PTF9YH19LGJzPShlLHQpPT57RGwoZS5pbnB1dHMpLGUuY29tcHV0ZShNbChlLmlucHV0cyx0KSl9fSk7dmFyIHpsLFVsLFZsLHZzLCRzPWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTskZSgpO3ZlKCk7emw9KGUsdCk9PntsZXQgcj1lWzBdLmRpbXMsbz1yLG49MixzPVUuc2l6ZVRvRGltZW5zaW9uKHIsbiksdT1VLnNpemVGcm9tRGltZW5zaW9uKHIsbiksbD1GZSh1KSxhPXUvbCxwPVtyWzBdLHJbMV0sYV0saD1bInJhbmsiLCJ0eXBlIiwidHlwZSJdLGc9W3t0eXBlOiJ1aW50MzIiLGRhdGE6dX0se3R5cGU6InVpbnQzMiIsZGF0YTphfV07Zy5wdXNoKC4uLkwocCksLi4uTChwKSk7bGV0IGI9dz0+e2xldCB5PU0oIngiLGVbMF0uZGF0YVR5cGUscC5sZW5ndGgsbCksXz1NKCJzY2FsZSIsZVsxXS5kYXRhVHlwZSxlWzFdLmRpbXMpLEk9TSgiYmlhcyIsZVsyXS5kYXRhVHlwZSxlWzJdLmRpbXMpLCQ9Rigib3V0cHV0IixlWzBdLmRhdGFUeXBlLHAubGVuZ3RoLGwpLHg9W3ksXyxJLCRdLEU9eS50eXBlLnZhbHVlLEE9bD09PTE/ImYzMiI6YHZlYyR7bH08ZjMyPmAsej02NCxSPVt7bmFtZToibm9ybVNpemUiLHR5cGU6InUzMiJ9LHtuYW1lOiJub3JtUGFja2VkU2l6ZSIsdHlwZToidTMyIn1dO3JldHVybmBcbiAgdmFyPHdvcmtncm91cD4gbWVhblNoYXJlZCA6IGYzMjtcbiAgdmFyPHdvcmtncm91cD4gc3F1YXJlZE5vcm1TaGFyZWQgOiBmMzI7XG4gIHZhcjx3b3JrZ3JvdXA+IHdvcmtncm91cFNoYXJlZCA6IGFycmF5PCR7QX0sICR7en0+O1xuICBjb25zdCB3b3JrZ3JvdXBTaXplID0gJHt6fXU7XG4gICR7dy5yZWdpc3RlclVuaWZvcm1zKFIpLmRlY2xhcmVWYXJpYWJsZXMoLi4ueCl9XG4gICR7dy5tYWluU3RhcnQoeil9XG4gICAgbGV0IG5vcm0gPSBnbG9iYWxfaWR4IC8gd29ya2dyb3VwU2l6ZTtcbiAgICBsZXQgYmF0Y2ggPSBub3JtIC8gdW5pZm9ybXMueF9zaGFwZVsxXTtcbiAgICBsZXQgY2hhbm5lbCA9IG5vcm0gJSB1bmlmb3Jtcy54X3NoYXBlWzFdO1xuICAgIGxldCBsb2NhbEluZGV4ID0gbG9jYWxfaWQueDtcblxuICAgIC8vIGluaXRpYWxpemUgd29ya2dyb3VwIG1lbW9yeVxuICAgIHZhciBpbml0aWFsID0gJHtBfSgwKTtcbiAgICBmb3IgKHZhciBoID0gbG9jYWxJbmRleDsgaCA8IHVuaWZvcm1zLm5vcm1QYWNrZWRTaXplOyBoICs9IHdvcmtncm91cFNpemUpIHtcbiAgICAgIGluaXRpYWwgPSBpbml0aWFsICsgJHtBfSgke3kuZ2V0KCJiYXRjaCIsImNoYW5uZWwiLCJoIil9KTtcbiAgICB9XG4gICAgd29ya2dyb3VwU2hhcmVkW2xvY2FsSW5kZXhdID0gaW5pdGlhbDtcbiAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIG1lYW4gb2YgY3VycmVudCBjaGFubmVsIGRhdGEuXG4gICAgZm9yICh2YXIgY3VyclNpemUgPSB3b3JrZ3JvdXBTaXplID4+IDE7ICBjdXJyU2l6ZSA+IDA7IGN1cnJTaXplID0gY3VyclNpemUgPj4gMSkge1xuICAgICAgaWYgKGxvY2FsSW5kZXggPCBjdXJyU2l6ZSkge1xuICAgICAgICB3b3JrZ3JvdXBTaGFyZWRbbG9jYWxJbmRleF0gPSB3b3JrZ3JvdXBTaGFyZWRbbG9jYWxJbmRleF0gKyB3b3JrZ3JvdXBTaGFyZWRbbG9jYWxJbmRleCArIGN1cnJTaXplXTtcbiAgICAgIH1cbiAgICAgIHdvcmtncm91cEJhcnJpZXIoKTtcbiAgICB9XG4gICAgaWYgKGxvY2FsSW5kZXggPT0gMCkge1xuICAgICAgbWVhblNoYXJlZCA9ICR7SmUoIndvcmtncm91cFNoYXJlZFswXSIsbCl9IC8gZjMyKHVuaWZvcm1zLm5vcm1TaXplKTtcbiAgICB9XG4gICAgd29ya2dyb3VwQmFycmllcigpO1xuXG4gICAgLy8gcmVpbml0aWFsaXplIHdvcmtncm91cCBtZW1vcnkuXG4gICAgaW5pdGlhbCA9ICR7QX0oMCk7XG4gICAgZm9yICh2YXIgaCA9IGxvY2FsSW5kZXg7IGggPCB1bmlmb3Jtcy5ub3JtUGFja2VkU2l6ZTsgaCArPSB3b3JrZ3JvdXBTaXplKSB7XG4gICAgICBsZXQgZGV2aWF0aW9uID0gICR7QX0oJHt5LmdldCgiYmF0Y2giLCJjaGFubmVsIiwiaCIpfSkgLSAke0F9KG1lYW5TaGFyZWQpO1xuICAgICAgaW5pdGlhbCA9IGluaXRpYWwgKyBkZXZpYXRpb24gKiBkZXZpYXRpb247XG4gICAgfVxuICAgIHdvcmtncm91cFNoYXJlZFtsb2NhbEluZGV4XSA9IGluaXRpYWw7XG4gICAgd29ya2dyb3VwQmFycmllcigpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBzdW0gb2Ygc3F1YXJlIG9mIGRldmlhdGlvbiBvZiBjdXJyZW50IGNoYW5uZWwgZGF0YS5cbiAgICBmb3IgKHZhciBjdXJyU2l6ZSA9IHdvcmtncm91cFNpemUgPj4gMTsgIGN1cnJTaXplID4gMDsgY3VyclNpemUgPSBjdXJyU2l6ZSA+PiAxKSB7XG4gICAgICBpZiAobG9jYWxJbmRleCA8IGN1cnJTaXplKSB7XG4gICAgICAgIHdvcmtncm91cFNoYXJlZFtsb2NhbEluZGV4XSA9IHdvcmtncm91cFNoYXJlZFtsb2NhbEluZGV4XSArIHdvcmtncm91cFNoYXJlZFtsb2NhbEluZGV4ICsgY3VyclNpemVdO1xuICAgICAgfVxuICAgICAgd29ya2dyb3VwQmFycmllcigpO1xuICAgIH1cbiAgICBpZiAobG9jYWxJbmRleCA9PSAwKSB7XG4gICAgICBzcXVhcmVkTm9ybVNoYXJlZCA9ICR7SmUoIndvcmtncm91cFNoYXJlZFswXSIsbCl9O1xuICAgIH1cbiAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG5cbiAgICBsZXQgaW52U3RkRGV2ID0gaW52ZXJzZVNxcnQoc3F1YXJlZE5vcm1TaGFyZWQgLyBmMzIodW5pZm9ybXMubm9ybVNpemUpICsgZjMyKCR7dC5lcHNpbG9ufSkpO1xuICAgIGxldCBjaGFubmVsU2NhbGUgPSBpbnZTdGREZXYgKiBmMzIoJHtfLmdldEJ5T2Zmc2V0KCJjaGFubmVsIil9KTtcbiAgICBsZXQgY2hhbm5lbFNoaWZ0ID0gZjMyKCR7SS5nZXRCeU9mZnNldCgiY2hhbm5lbCIpfSkgLSBtZWFuU2hhcmVkICogY2hhbm5lbFNjYWxlO1xuICAgIGZvciAodmFyIGggPSBsb2NhbEluZGV4OyBoIDwgdW5pZm9ybXMubm9ybVBhY2tlZFNpemU7IGggKz0gd29ya2dyb3VwU2l6ZSkge1xuICAgICAgbGV0IHZhbHVlID0gJHt5LmdldCgiYmF0Y2giLCJjaGFubmVsIiwiaCIpfSAqICR7RX0oJHtBfShjaGFubmVsU2NhbGUpKSArICR7RX0oJHtBfShjaGFubmVsU2hpZnQpKTtcbiAgICAgICR7JC5zZXQoImJhdGNoIiwiY2hhbm5lbCIsImgiLCJ2YWx1ZSIpfTtcbiAgICB9XG4gIH1gfTtyZXR1cm57bmFtZToiSW5zdGFuY2VOb3JtYWxpemF0aW9uIixzaGFkZXJDYWNoZTp7aGludDpgJHt0LmVwc2lsb259OyR7bH1gLGlucHV0RGVwZW5kZW5jaWVzOmh9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6byxkYXRhVHlwZTplWzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpzfSxwcm9ncmFtVW5pZm9ybXM6Z30pLGdldFNoYWRlclNvdXJjZTpifX0sVWw9KGUsdCxyLG8sbixzLHUsbCk9PntsZXQgYT1GZSh1KSxwPTY0LGg9YT09PTE/InZlYzJmIjpgbWF0Mngke2F9ZmAsZz1hPT09MT8iZjMyIjpgdmVjJHthfWZgLGI9KFIsVik9PmAke2h9KCR7Un0sICR7Vn0pYCx3PW4qdS9hLHk9TWF0aC5jZWlsKHMvcCksXz1bInR5cGUiXSxJPVt7dHlwZToidWludDMyIixkYXRhOnl9LHt0eXBlOiJ1aW50MzIiLGRhdGE6c30se3R5cGU6InVpbnQzMiIsZGF0YTpNYXRoLmZsb29yKHUvYSl9LHt0eXBlOiJ1aW50MzIiLGRhdGE6TWF0aC5mbG9vcihzKnUvYSl9XSwkPVI9PntsZXQgVj1NKCJpbnB1dCIsdC5kYXRhVHlwZSx0LmRpbXMsYSk7cmV0dXJuYFxuICAke1IuZGVjbGFyZVZhcmlhYmxlcyhWKX1cbiAgQGdyb3VwKDApIEBiaW5kaW5nKDEpIHZhcjxzdG9yYWdlLCByZWFkX3dyaXRlPiBvdXRwdXQgOiBhcnJheTwke2h9PjtcbiAgc3RydWN0IFVuaWZvcm1zIHt3Z19zaXplOnUzMiwgSDp1MzIsIEM6dTMyLCBpbWFnZV9zaXplOnUzMn07XG4gIEBncm91cCgwKSBAYmluZGluZygyKSB2YXI8dW5pZm9ybT4gdW5pZm9ybXM6IFVuaWZvcm1zO1xuXG4gICR7Ui5tYWluU3RhcnQocCl9XG4gICAgbGV0IGN1cnJlbnRJbWFnZU51bWJlciA9IGdsb2JhbF9pZHggLyAke3B9IC8gdW5pZm9ybXMuQztcbiAgICBsZXQgY3VycmVudENoYW5uZWxOdW1iZXIgPSAoZ2xvYmFsX2lkeCAvICR7cH0pICUgdW5pZm9ybXMuQztcbiAgICBsZXQgd2dJZCA9IGdsb2JhbF9pZHggJSAke3B9O1xuICAgIGxldCB3Z09mZnNldCA9IHdnSWQgKiB1bmlmb3Jtcy53Z19zaXplO1xuICAgIGlmICh3Z09mZnNldCA+PSB1bmlmb3Jtcy5IKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHdnTWF4ID0gbWluKHdnT2Zmc2V0ICsgdW5pZm9ybXMud2dfc2l6ZSwgdW5pZm9ybXMuSCk7XG5cbiAgICBsZXQgb2Zmc2V0ID0gY3VycmVudEltYWdlTnVtYmVyICogdW5pZm9ybXMuaW1hZ2Vfc2l6ZSArIGN1cnJlbnRDaGFubmVsTnVtYmVyO1xuICAgIHZhciBzdW0gPSAke1plKCJmMzIiLGEpfTtcbiAgICB2YXIgc3F1YXJlZFN1bSA9ICR7WmUoImYzMiIsYSl9O1xuICAgIGZvciAodmFyIGk6IHUzMiA9IHdnT2Zmc2V0OyBpIDwgd2dNYXg7IGkrKykge1xuICAgICAgICBsZXQgdmFsdWUgPSAke2d9KGlucHV0W29mZnNldCArIGkgKiB1bmlmb3Jtcy5DXSk7XG4gICAgICAgIHN1bSArPSB2YWx1ZTtcbiAgICAgICAgc3F1YXJlZFN1bSArPSB2YWx1ZSAqIHZhbHVlO1xuICAgIH1cbiAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSAke2IoInN1bSIsInNxdWFyZWRTdW0iKX07XG4gIH1gfSx4PWUuY29tcHV0ZSh7bmFtZToiSW5zdGFuY2VOb3JtQ29tcHV0ZU1lYW4iLHNoYWRlckNhY2hlOntoaW50OmAke2F9YCxpbnB1dERlcGVuZGVuY2llczpffSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOltuLHUscCwyXSxkYXRhVHlwZToxfV0sZGlzcGF0Y2hHcm91cDp7eDpuKnUvYX0scHJvZ3JhbVVuaWZvcm1zOkl9KSxnZXRTaGFkZXJTb3VyY2U6JH0se2lucHV0czpbdF0sb3V0cHV0czpbLTFdfSlbMF0sRT1be3R5cGU6InVpbnQzMiIsZGF0YTp3fSx7dHlwZToidWludDMyIixkYXRhOnN9LHt0eXBlOiJ1aW50MzIiLGRhdGE6TWF0aC5mbG9vcih1L2EpfSx7dHlwZToidWludDMyIixkYXRhOk1hdGguZmxvb3IocCp1L2EpfV0sQT1bInR5cGUiLCJ0eXBlIiwidHlwZSJdLHo9Uj0+e2xldCBWPU0oInNjYWxlIixyLmRhdGFUeXBlLHIuZGltcyxhKSxUPU0oImJpYXMiLG8uZGF0YVR5cGUsby5kaW1zLGEpO3JldHVybmBcbiAgQGdyb3VwKDApIEBiaW5kaW5nKDApIHZhcjxzdG9yYWdlLCByZWFkPiBpbnB1dCA6IGFycmF5PCR7aH0+O1xuICBAZ3JvdXAoMCkgQGJpbmRpbmcoMSkgdmFyPHN0b3JhZ2UsIHJlYWQ+IHNjYWxlIDogYXJyYXk8JHtWLnR5cGUuc3RvcmFnZX0+O1xuICBAZ3JvdXAoMCkgQGJpbmRpbmcoMikgdmFyPHN0b3JhZ2UsIHJlYWQ+IGJpYXMgOiBhcnJheTwke1QudHlwZS5zdG9yYWdlfT47XG4gIEBncm91cCgwKSBAYmluZGluZygzKSB2YXI8c3RvcmFnZSwgcmVhZF93cml0ZT4gb3V0cHV0IDogYXJyYXk8JHtofT47XG4gIHN0cnVjdCBVbmlmb3JtcyB7dW5pdHNfb2Zfd29yayA6IHUzMiwgSDogdTMyLCBDIDogdTMyLCBpbWFnZV9zaXplIDogdTMyfTtcbiAgQGdyb3VwKDApIEBiaW5kaW5nKDQpIHZhcjx1bmlmb3JtPiB1bmlmb3JtczogVW5pZm9ybXM7XG5cbiAgJHtSLm1haW5TdGFydCgpfVxuICAgICR7Ui5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy51bml0c19vZl93b3JrIil9XG4gICAgbGV0IGN1cnJlbnRJbWFnZU51bWJlciA9IGdsb2JhbF9pZHggLyB1bmlmb3Jtcy5DO1xuICAgIGxldCBjdXJyZW50Q2hhbm5lbE51bWJlciA9IGdsb2JhbF9pZHggJSB1bmlmb3Jtcy5DO1xuXG4gICAgbGV0IG9mZnNldCA9IGN1cnJlbnRJbWFnZU51bWJlciAqIHVuaWZvcm1zLmltYWdlX3NpemU7XG4gICAgdmFyIHN1bSA9ICR7WmUoImYzMiIsYSl9O1xuICAgIHZhciBzcXVhcmVkU3VtID0gJHtaZSgiZjMyIixhKX07XG4gICAgZm9yICh2YXIgaTogdTMyID0gMDsgaSA8ICR7cH07IGkrKykge1xuICAgICAgICBsZXQgdmFsdWUgPSBpbnB1dFtvZmZzZXQgKyBpICsgY3VycmVudENoYW5uZWxOdW1iZXIgKiAke3B9XTtcbiAgICAgICAgc3VtICs9IHZhbHVlWzBdO1xuICAgICAgICBzcXVhcmVkU3VtICs9IHZhbHVlWzFdO1xuICAgIH1cbiAgICBzdW0gPSBzdW0gLyBmMzIodW5pZm9ybXMuSCk7XG4gICAgc3F1YXJlZFN1bSA9IHNxdWFyZWRTdW0gLyBmMzIodW5pZm9ybXMuSCk7XG4gICAgbGV0IGludlN0ZERldiA9IGludmVyc2VTcXJ0KHNxdWFyZWRTdW0gLSBzdW0gKiBzdW0gKyBmMzIoJHtsfSkpO1xuICAgIGxldCBjaGFubmVsU2NhbGUgPSBpbnZTdGREZXYgKiAke2d9KHNjYWxlW2N1cnJlbnRDaGFubmVsTnVtYmVyXSk7XG4gICAgbGV0IGNoYW5uZWxTaGlmdCA9ICR7Z30oYmlhc1tjdXJyZW50Q2hhbm5lbE51bWJlcl0pIC0gc3VtICogY2hhbm5lbFNjYWxlO1xuXG4gICAgb3V0cHV0W2dsb2JhbF9pZHhdID0gJHtiKCJjaGFubmVsU2NhbGUiLCJjaGFubmVsU2hpZnQiKX07XG4gIH1gfTtyZXR1cm4gZS5jb21wdXRlKHtuYW1lOiJJbnN0YW5jZU5vcm1Db21wdXRlQ2hhbm5lbFNjYWxlU2hpZnQiLHNoYWRlckNhY2hlOntoaW50OmAke2F9OyR7bH1gLGlucHV0RGVwZW5kZW5jaWVzOkF9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6W24sdSwyXSxkYXRhVHlwZToxfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwody82NCl9LHByb2dyYW1Vbmlmb3JtczpFfSksZ2V0U2hhZGVyU291cmNlOnp9LHtpbnB1dHM6W3gscixvXSxvdXRwdXRzOlstMV19KVswXX0sVmw9KGUsdCxyKT0+e2xldCBvPXRbMF0uZGltcyxuPW8scz1vWzBdLHU9b1tvLmxlbmd0aC0xXSxsPVUuc2l6ZUZyb21EaW1lbnNpb24obywxKS91LGE9RmUodSkscD1VLnNpemUobikvYSxoPVt7dHlwZToidWludDMyIixkYXRhOmx9LHt0eXBlOiJ1aW50MzIiLGRhdGE6TWF0aC5mbG9vcih1L2EpfV0sZz1bInR5cGUiLCJ0eXBlIl0sYj1VbChlLHRbMF0sdFsxXSx0WzJdLHMsbCx1LHIuZXBzaWxvbiksdz15PT57bGV0IF89TGUodFswXS5kYXRhVHlwZSksST1hPT09MT8idmVjMmYiOmBtYXQyeCR7YX1mYCwkPWE9PT0xP186YHZlYyR7YX08JHtffT5gLHg9TSgiaW5wdXQiLHRbMF0uZGF0YVR5cGUsdFswXS5kaW1zLGEpLEU9Rigib3V0cHV0Iix0WzBdLmRhdGFUeXBlLG4sYSk7cmV0dXJuYFxuICBAZ3JvdXAoMCkgQGJpbmRpbmcoMCkgdmFyPHN0b3JhZ2UsIHJlYWQ+IGlucHV0IDogYXJyYXk8JHt4LnR5cGUuc3RvcmFnZX0+O1xuICBAZ3JvdXAoMCkgQGJpbmRpbmcoMSkgdmFyPHN0b3JhZ2UsIHJlYWQ+IHNjYWxlSW5wdXQgOiBhcnJheTwke0l9PjtcbiAgQGdyb3VwKDApIEBiaW5kaW5nKDIpIHZhcjxzdG9yYWdlLCByZWFkX3dyaXRlPiBvdXRwdXQgOiBhcnJheTwke0UudHlwZS5zdG9yYWdlfT47XG4gIHN0cnVjdCBVbmlmb3JtcyB7SDogdTMyLCBDIDogdTMyfTtcbiAgQGdyb3VwKDApIEBiaW5kaW5nKDMpIHZhcjx1bmlmb3JtPiB1bmlmb3JtczogVW5pZm9ybXM7XG5cbiAgJHt5Lm1haW5TdGFydCgpfVxuICAgIGxldCBjdXJyZW50SW1hZ2VOdW1iZXIgPSBnbG9iYWxfaWR4IC8gKHVuaWZvcm1zLkMgKiB1bmlmb3Jtcy5IKTtcbiAgICBsZXQgY3VycmVudENoYW5uZWxOdW1iZXIgPSBnbG9iYWxfaWR4ICUgdW5pZm9ybXMuQztcblxuICAgIGxldCBzY2FsZU9mZnNldCA9IGN1cnJlbnRJbWFnZU51bWJlciAqIHVuaWZvcm1zLkMgKyBjdXJyZW50Q2hhbm5lbE51bWJlcjtcbiAgICBsZXQgc2NhbGUgPSBzY2FsZUlucHV0W3NjYWxlT2Zmc2V0XTtcbiAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSBmbWEoaW5wdXRbZ2xvYmFsX2lkeF0sICR7JH0oc2NhbGVbMF0pLCAkeyR9KHNjYWxlWzFdKSk7XG4gIH1gfTtlLmNvbXB1dGUoe25hbWU6Ikluc3RhbmNlTm9ybWFsaXphdGlvbk5IV0MiLHNoYWRlckNhY2hlOntoaW50OmAke2F9YCxpbnB1dERlcGVuZGVuY2llczpnfSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOm4sZGF0YVR5cGU6dFswXS5kYXRhVHlwZX1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKHAvNjQpfSxwcm9ncmFtVW5pZm9ybXM6aH0pLGdldFNoYWRlclNvdXJjZTp3fSx7aW5wdXRzOlt0WzBdLGJdfSl9LHZzPShlLHQpPT57dC5mb3JtYXQ9PT0iTkhXQyI/VmwoZSxlLmlucHV0cyx0KTplLmNvbXB1dGUoemwoZS5pbnB1dHMsdCkpfX0pO3ZhciBObCxXbCxTcyx4cz1qKCgpPT57InVzZSBzdHJpY3QiO05lKCk7JGUoKTt2ZSgpO05sPWU9PntpZighZXx8ZS5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoImxheWVyTm9ybSByZXF1aXJlcyBhdCBsZWFzdCAyIGlucHV0cy4iKX0sV2w9KGUsdCxyKT0+e2xldCBvPWVbMF0uZGltcyxuPWVbMV0scz1lWzJdLHU9byxsPVUubm9ybWFsaXplQXhpcyh0LmF4aXMsby5sZW5ndGgpLGE9VS5zaXplVG9EaW1lbnNpb24obyxsKSxwPVUuc2l6ZUZyb21EaW1lbnNpb24obyxsKSxoPVUuc2l6ZShuLmRpbXMpLGc9cz9VLnNpemUocy5kaW1zKTowO2lmKGghPT1wfHxzJiZnIT09cCl0aHJvdyBuZXcgRXJyb3IoYFNpemUgb2YgWC5zaGFwZSgpW2F4aXM6XSA9PSAke3B9LlxuICAgICAgIFNpemUgb2Ygc2NhbGUgYW5kIGJpYXMgKGlmIHByb3ZpZGVkKSBtdXN0IG1hdGNoIHRoaXMuXG4gICAgICAgR290IHNjYWxlIHNpemUgb2YgJHtofSBhbmQgYmlhcyBzaXplIG9mICR7Z31gKTtsZXQgYj1bXTtmb3IobGV0IEE9MDtBPG8ubGVuZ3RoOysrQSlBPGw/Yi5wdXNoKG9bQV0pOmIucHVzaCgxKTtsZXQgdz1GZShwKSx5PVsidHlwZSIsInR5cGUiXSxfPVt7dHlwZToidWludDMyIixkYXRhOmF9LHt0eXBlOiJmbG9hdDMyIixkYXRhOnB9LHt0eXBlOiJ1aW50MzIiLGRhdGE6TWF0aC5mbG9vcihwL3cpfSx7dHlwZToiZmxvYXQzMiIsZGF0YTp0LmVwc2lsb259XTtzJiZ5LnB1c2goInR5cGUiKTtsZXQgST1yPjEsJD1yPjIseD1BPT57bGV0IHo9TGUoZVswXS5kYXRhVHlwZSksUj1bTSgieCIsZVswXS5kYXRhVHlwZSxlWzBdLmRpbXMsdyksTSgic2NhbGUiLG4uZGF0YVR5cGUsbi5kaW1zLHcpXTtzJiZSLnB1c2goTSgiYmlhcyIscy5kYXRhVHlwZSxzLmRpbXMsdykpLFIucHVzaChGKCJvdXRwdXQiLGVbMF0uZGF0YVR5cGUsdSx3KSksSSYmUi5wdXNoKEYoIm1lYW5fZGF0YV9vdXRwdXQiLDEsYikpLCQmJlIucHVzaChGKCJpbnZfc3RkX291dHB1dCIsMSxiKSk7bGV0IFY9W3tuYW1lOiJub3JtX2NvdW50Iix0eXBlOiJ1MzIifSx7bmFtZToibm9ybV9zaXplIix0eXBlOiJmMzIifSx7bmFtZToibm9ybV9zaXplX3ZlY3Rvcml6ZWQiLHR5cGU6InUzMiJ9LHtuYW1lOiJlcHNpbG9uIix0eXBlOiJmMzIifV07cmV0dXJuYFxuICAke0EucmVnaXN0ZXJVbmlmb3JtcyhWKS5kZWNsYXJlVmFyaWFibGVzKC4uLlIpfVxuICAke0EubWFpblN0YXJ0KCl9XG4gICAgJHtBLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm5vcm1fY291bnQiKX1cbiAgICBsZXQgb2Zmc2V0ID0gZ2xvYmFsX2lkeCAqIHVuaWZvcm1zLm5vcm1fc2l6ZV92ZWN0b3JpemVkO1xuICAgIHZhciBtZWFuVmVjdG9yID0gJHtaZSgiZjMyIix3KX07XG4gICAgdmFyIG1lYW5TcXVhcmVWZWN0b3IgPSAke1plKCJmMzIiLHcpfTtcblxuICAgIGZvciAodmFyIGg6IHUzMiA9IDB1OyBoIDwgdW5pZm9ybXMubm9ybV9zaXplX3ZlY3Rvcml6ZWQ7IGgrKykge1xuICAgICAgbGV0IHZhbHVlID0gJHthdCh6LHcsInhbaCArIG9mZnNldF0iKX07XG4gICAgICBtZWFuVmVjdG9yICs9IHZhbHVlO1xuICAgICAgbWVhblNxdWFyZVZlY3RvciArPSB2YWx1ZSAqIHZhbHVlO1xuICAgIH1cbiAgICBsZXQgbWVhbiA9ICR7SmUoIm1lYW5WZWN0b3IiLHcpfSAvIHVuaWZvcm1zLm5vcm1fc2l6ZTtcbiAgICBsZXQgaW52U3RkRGV2ID1cbiAgICAgICAgaW52ZXJzZVNxcnQoJHtKZSgibWVhblNxdWFyZVZlY3RvciIsdyl9IC8gdW5pZm9ybXMubm9ybV9zaXplIC0gbWVhbiAqIG1lYW4gKyB1bmlmb3Jtcy5lcHNpbG9uKTtcblxuICAgIGZvciAodmFyIGo6IHUzMiA9IDA7IGogPCB1bmlmb3Jtcy5ub3JtX3NpemVfdmVjdG9yaXplZDsgaisrKSB7XG4gICAgICBsZXQgZjMyaW5wdXQgPSAke2F0KHosdywieFtqICsgb2Zmc2V0XSIpfTtcbiAgICAgIGxldCBmMzJzY2FsZSA9ICR7YXQoeix3LCJzY2FsZVtqXSIpfTtcbiAgICAgIG91dHB1dFtqICsgb2Zmc2V0XSA9ICR7UlswXS50eXBlLnZhbHVlfSgoZjMyaW5wdXQgLSBtZWFuKSAqIGludlN0ZERldiAqIGYzMnNjYWxlXG4gICAgICAgICR7cz9gKyAke2F0KHosdywiYmlhc1tqXSIpfWA6IiJ9XG4gICAgICApO1xuICAgIH1cblxuICAgICR7ST8ibWVhbl9kYXRhX291dHB1dFtnbG9iYWxfaWR4XSA9IG1lYW4iOiIifTtcbiAgICAkeyQ/Imludl9zdGRfb3V0cHV0W2dsb2JhbF9pZHhdID0gaW52U3RkRGV2IjoiIn07XG4gIH1gfSxFPVt7ZGltczp1LGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XTtyZXR1cm4gSSYmRS5wdXNoKHtkaW1zOmIsZGF0YVR5cGU6MX0pLCQmJkUucHVzaCh7ZGltczpiLGRhdGFUeXBlOjF9KSx7bmFtZToiTGF5ZXJOb3JtYWxpemF0aW9uIixzaGFkZXJDYWNoZTp7aGludDpgJHt3fTske3J9YCxpbnB1dERlcGVuZGVuY2llczp5fSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6RSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChhLzY0KX0scHJvZ3JhbVVuaWZvcm1zOl99KSxnZXRTaGFkZXJTb3VyY2U6eH19LFNzPShlLHQpPT57TmwoZS5pbnB1dHMpLGUuY29tcHV0ZShXbChlLmlucHV0cyx0LGUub3V0cHV0Q291bnQpKX19KTt2YXIgSGwsQ3MsX3MsR2wsWG4sSXMsQXM9aigoKT0+eyJ1c2Ugc3RyaWN0IjskZSgpO2plKCk7TnIoKTtVbigpO3ZlKCk7anQoKTtIbD0oZSx0KT0+e2xldCByPWVbMF0sbz1lWzFdLG49ZVsyXSxzPWVbM10sdT1lWzRdLGw9ZVs1XSxhPWVbNl0scD1lWzddO2lmKHIuZGltcy5sZW5ndGghPT0zJiZyLmRpbXMubGVuZ3RoIT09NSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IHF1ZXJ5IGlzIGV4cGVjdGVkIHRvIGhhdmUgMyBvciA1IGRpbWVuc2lvbnMiKTtsZXQgaD0hMSxnPXIuZGltc1swXSxiPXIuZGltc1sxXSx3PXIuZGltcy5sZW5ndGg9PT0zP2g/ci5kaW1zWzJdLzM6ci5kaW1zWzJdOnQubnVtSGVhZHMqci5kaW1zWzRdLHk9YixfPTAsST0wLCQ9TWF0aC5mbG9vcih3L3QubnVtSGVhZHMpO2lmKGEmJnApe2lmKGEuZGltcy5sZW5ndGghPT00KXRocm93IG5ldyBFcnJvcihcJ0lucHV0ICJwYXN0X2tleSIgaXMgZXhwZWN0ZWQgdG8gaGF2ZSA0IGRpbWVuc2lvbnNcJyk7aWYocC5kaW1zLmxlbmd0aCE9PTQpdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgInBhc3RfdmFsdWUiIGlzIGV4cGVjdGVkIHRvIGhhdmUgNCBkaW1lbnNpb25zXCcpO189YS5kaW1zWzJdLEk9YS5kaW1zWzJdfWVsc2UgaWYoYXx8cCl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAicGFzdF9rZXkiIGFuZCAicGFzdF92YWx1ZSIgc2hhbGwgYmUgYm90aCBwcmVzZW50IG9yIGJvdGggYWJzZW50XCcpO2xldCB4O2lmKG8pe2lmKHIuZGltcy5sZW5ndGghPT0zKXRocm93IG5ldyBFcnJvcihcJ0lucHV0ICJxdWVyeSIgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAzIGRpbWVuc2lvbnMgd2hlbiBrZXkgaXMgZ2l2ZW5cJyk7aWYoby5kaW1zLmxlbmd0aDwzfHxvLmRpbXMubGVuZ3RoPjUpdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgImtleSIgaXMgZXhwZWN0ZWQgdG8gaGF2ZSAzLCA0LCBvciA1IGRpbWVuc2lvbnNcJyk7aWYoci5kaW1zWzBdIT09by5kaW1zWzBdKXRocm93IG5ldyBFcnJvcihcJ0lucHV0ICJxdWVyeSIgYW5kICJrZXkiIHNoYWxsIGhhdmUgc2FtZSBkaW0gMCAoYmF0Y2ggc2l6ZSlcJyk7aWYoby5kaW1zLmxlbmd0aD09PTMpe2lmKG8uZGltc1syXSE9PXIuZGltc1syXSl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAicXVlcnkiIGFuZCAia2V5IiBzaGFsbCBoYXZlIHNhbWUgZGltIDIgKGhpZGRlbl9zaXplKVwnKTt4PTIseT1vLmRpbXNbMV19ZWxzZSBpZihvLmRpbXMubGVuZ3RoPT09NSl7aWYoby5kaW1zWzJdIT09dC5udW1IZWFkc3x8by5kaW1zWzNdIT09Mnx8by5kaW1zWzRdIT09JCl0aHJvdyBuZXcgRXJyb3IoXCdFeHBlY3QgImtleSIgc2hhcGUgKGJhdGNoX3NpemUsIGt2X3NlcXVlbmNlX2xlbmd0aCwgbnVtX2hlYWRzLCAyLCBoZWFkX3NpemUpIGZvciBwYWNrZWQga3ZcJyk7aWYobil0aHJvdyBuZXcgRXJyb3IoXCdFeHBlY3QgInZhbHVlIiBiZSBub25lIHdoZW4gImtleSIgaGFzIHBhY2tlZCBrdiBmb3JtYXQuXCcpO3g9NSx5PW8uZGltc1sxXX1lbHNle2lmKG8uZGltc1sxXSE9PXQubnVtSGVhZHN8fG8uZGltc1szXSE9PSQpdGhyb3cgbmV3IEVycm9yKFwnRXhwZWN0ICJrZXkiIHNoYXBlIChiYXRjaF9zaXplLCBudW1faGVhZHMsIGt2X3NlcXVlbmNlX2xlbmd0aCwgaGVhZF9zaXplKSBmb3IgcGFzdF9rZXlcJyk7eD0wLHk9by5kaW1zWzJdfX1lbHNle2lmKHIuZGltcy5sZW5ndGghPT0zJiZyLmRpbXMubGVuZ3RoIT09NSl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAicXVlcnkiIGlzIGV4cGVjdGVkIHRvIGhhdmUgMyBvciA1IGRpbWVuc2lvbnMgd2hlbiBrZXkgaXMgZW1wdHlcJyk7aWYoci5kaW1zLmxlbmd0aD09PTUmJihyLmRpbXNbMl0hPT10Lm51bUhlYWRzfHxyLmRpbXNbM10hPT0zKSl0aHJvdyBuZXcgRXJyb3IoXCdFeHBlY3QgInF1ZXJ5IiBzaGFwZSAoYmF0Y2hfc2l6ZSwga3Zfc2VxdWVuY2VfbGVuZ3RoLCBudW1faGVhZHMsIDMsIGhlYWRfc2l6ZSkgZm9yIHBhY2tlZCBrdlwnKTt4PTN9aWYocyl7aWYocy5kaW1zLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgImJpYXMiIGlzIGV4cGVjdGVkIHRvIGhhdmUgMSBkaW1lbnNpb25cJyk7aWYobiYmci5kaW1zLmxlbmd0aD09PTUmJnIuZGltc1szXT09PTIpdGhyb3cgbmV3IEVycm9yKCJiaWFzIGlzIG5vdCBhbGxvd2VkIGZvciBwYWNrZWQga3YuIil9bGV0IEU9MDtpZih1KXtFPTg7bGV0IFQ9dS5kaW1zO3Rocm93IFQubGVuZ3RoPT09MT9UWzBdPT09Zz9FPTE6VFswXT09PTMqZysyJiYoRT0zKTpULmxlbmd0aD09PTImJlRbMF09PT1nJiZUWzFdPT09eSYmKEU9NSksRT09PTg/bmV3IEVycm9yKFwnSW5wdXQgImtleV9wYWRkaW5nX21hc2siIHNoYXBlIHNoYWxsIGJlIChiYXRjaF9zaXplKSBvciAoYmF0Y2hfc2l6ZSwga3Zfc2VxdWVuY2VfbGVuZ3RoKVwnKTpuZXcgRXJyb3IoIk1hc2sgbm90IHN1cHBvcnRlZCIpfWxldCBBPSExLHo9dztpZihuKXtpZihuLmRpbXMubGVuZ3RoIT09MyYmbi5kaW1zLmxlbmd0aCE9PTQpdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgInZhbHVlIiBpcyBleHBlY3RlZCB0byBoYXZlIDMgb3IgNCBkaW1lbnNpb25zXCcpO2lmKHIuZGltc1swXSE9PW4uZGltc1swXSl0aHJvdyBuZXcgRXJyb3IoXCdJbnB1dCAicXVlcnkiIGFuZCAidmFsdWUiIHNoYWxsIGhhdmUgc2FtZSBkaW0gMCAoYmF0Y2hfc2l6ZSlcJyk7aWYobi5kaW1zLmxlbmd0aD09PTMpe2lmKHkhPT1uLmRpbXNbMV0pdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgImtleSIgYW5kICJ2YWx1ZSIgc2hhbGwgaGF2ZSB0aGUgc2FtZSBkaW0gMSAoa3Zfc2VxdWVuY2VfbGVuZ3RoKVwnKTt6PW4uZGltc1syXX1lbHNle2lmKHkhPT1uLmRpbXNbMl0pdGhyb3cgbmV3IEVycm9yKFwnSW5wdXQgInBhc3Rfa2V5IiBhbmQgInBhc3RfdmFsdWUiIHNoYWxsIGhhdmUgdGhlIHNhbWUgZGltIDIgKGt2X3NlcXVlbmNlX2xlbmd0aClcJyk7ej1uLmRpbXNbMV0qbi5kaW1zWzNdLEE9ITB9fWxldCBSPV8reSxWPSExO2lmKHUpdGhyb3cgbmV3IEVycm9yKCJLZXkgcGFkZGluZyBtYXNrIGlzIG5vdCBzdXBwb3J0ZWQiKTtpZihsKXRocm93IG5ldyBFcnJvcigiZXh0cmFBZGRRayBpcyBub3Qgc3VwcG9ydGVkIik7aWYoYSl0aHJvdyBuZXcgRXJyb3IoInBhc3RLZXkgaXMgbm90IHN1cHBvcnRlZCIpO2lmKHApdGhyb3cgbmV3IEVycm9yKCJwYXN0VmFsdWUgaXMgbm90IHN1cHBvcnRlZCIpO3JldHVybntiYXRjaFNpemU6ZyxzZXF1ZW5jZUxlbmd0aDpiLHBhc3RTZXF1ZW5jZUxlbmd0aDpfLGt2U2VxdWVuY2VMZW5ndGg6eSx0b3RhbFNlcXVlbmNlTGVuZ3RoOlIsbWF4U2VxdWVuY2VMZW5ndGg6SSxpbnB1dEhpZGRlblNpemU6MCxoaWRkZW5TaXplOncsdkhpZGRlblNpemU6eixoZWFkU2l6ZTokLHZIZWFkU2l6ZTpNYXRoLmZsb29yKHovdC5udW1IZWFkcyksbnVtSGVhZHM6dC5udW1IZWFkcyxpc1VuaWRpcmVjdGlvbmFsOiExLHBhc3RQcmVzZW50U2hhcmVCdWZmZXI6ITEsbWFza0ZpbHRlclZhbHVlOnQubWFza0ZpbHRlclZhbHVlLG1hc2tUeXBlOkUsc2NhbGU6dC5zY2FsZSxicm9hZGNhc3RSZXNQb3NCaWFzOlYscGFzc1Bhc3RJbkt2OkEscWt2Rm9ybWF0Onh9fSxDcz1lPT5nZSh7Li4uZX0pLF9zPWdlKHtwZXJtOlswLDIsMSwzXX0pLEdsPShlLHQscixvLG4scyx1KT0+e2xldCBsPVtvLG4sc10sYT1VLnNpemUobCkscD1be3R5cGU6InVpbnQzMiIsZGF0YTphfSx7dHlwZToidWludDMyIixkYXRhOnV9LHt0eXBlOiJ1aW50MzIiLGRhdGE6c31dLGg9Zz0+e2xldCBiPUYoInFrdl93aXRoX2JpYXMiLHQuZGF0YVR5cGUsbCksdz1NKCJxa3YiLHQuZGF0YVR5cGUsbCkseT1NKCJiaWFzIixyLmRhdGFUeXBlLGwpLF89W3tuYW1lOiJvdXRwdXRfc2l6ZSIsdHlwZToidTMyIn0se25hbWU6ImJpYXNfb2Zmc2V0Iix0eXBlOiJ1MzIifSx7bmFtZToiaGlkZGVuX3NpemUiLHR5cGU6InUzMiJ9XTtyZXR1cm5gXG4gICR7Zy5yZWdpc3RlclVuaWZvcm1zKF8pLmRlY2xhcmVWYXJpYWJsZXModyx5LGIpfVxuICAke2cubWFpblN0YXJ0KCl9XG4gICAgJHtnLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLm91dHB1dF9zaXplIil9XG4gICAgbGV0IGJpYXNfb2Zmc2V0X2lkeCA9IChnbG9iYWxfaWR4ICUgdW5pZm9ybXMuaGlkZGVuX3NpemUpICsgdW5pZm9ybXMuYmlhc19vZmZzZXQ7XG5cbiAgICBxa3Zfd2l0aF9iaWFzW2dsb2JhbF9pZHhdID0gcWt2W2dsb2JhbF9pZHhdICsgYmlhc1tiaWFzX29mZnNldF9pZHhdO1xuICB9YH07cmV0dXJuIGUuY29tcHV0ZSh7bmFtZToiTXVsdGlIZWFkQXR0ZW50aW9uQWRkQmlhcyIsc2hhZGVyQ2FjaGU6e2lucHV0RGVwZW5kZW5jaWVzOlsidHlwZSIsInR5cGUiXX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpsLGRhdGFUeXBlOnQuZGF0YVR5cGUsZ3B1RGF0YVR5cGU6MH1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGEvNjQpfSxwcm9ncmFtVW5pZm9ybXM6cH0pLGdldFNoYWRlclNvdXJjZTpofSx7aW5wdXRzOlt0LHJdLG91dHB1dHM6Wy0xXX0pWzBdfSxYbj0oZSx0LHIsbyxuLHMsdSxsKT0+e2xldCBhPXM7aWYodSl7aWYobz09PTEpdGhyb3cgbmV3IEVycm9yKCJBZGRCaWFzUmVzaGFwZSBpcyBub3QgaW1wbGVtZW50ZWQuIFBsZWFzZSBleHBvcnQgeW91ciBtb2RlbCB3aXRoIHBhY2tlZCBRS1Ygb3IgS1YiKTtyZXR1cm4gYT1HbChlLHMsdSx0LG8scipuLGwpLGE9YS5yZXNoYXBlKFt0LG8scixuXSksZS5jb21wdXRlKGl0KGEsX3MucGVybSkse2lucHV0czpbYV0sb3V0cHV0czpbLTFdfSlbMF19ZWxzZSByZXR1cm4gcy5kaW1zLmxlbmd0aD09PTMmJihhPXMucmVzaGFwZShbdCxvLHIsbl0pKSxlLmNvbXB1dGUoaXQoYSxfcy5wZXJtKSx7aW5wdXRzOlthXSxvdXRwdXRzOlstMV19KVswXX0sSXM9KGUsdCk9PntsZXQgcj1IbChlLmlucHV0cyx0KTtpZihlLmlucHV0c1swXS5kaW1zLmxlbmd0aD09PTUpdGhyb3cgbmV3IEVycm9yKCJQYWNrZWQgUUtWIGlzIG5vdCBpbXBsZW1lbnRlZCIpO2lmKGUuaW5wdXRzWzFdPy5kaW1zLmxlbmd0aD09PTUpdGhyb3cgbmV3IEVycm9yKCJQYWNrZWQgS1YgaXMgbm90IGltcGxlbWVudGVkIik7bGV0IG89ZS5pbnB1dHNbMV0mJmUuaW5wdXRzWzJdJiZlLmlucHV0c1sxXS5kaW1zLmxlbmd0aD09PTQmJmUuaW5wdXRzWzJdLmRpbXMubGVuZ3RoPT09NCxuPVhuKGUsci5iYXRjaFNpemUsci5udW1IZWFkcyxyLnNlcXVlbmNlTGVuZ3RoLHIuaGVhZFNpemUsZS5pbnB1dHNbMF0sZS5pbnB1dHNbM10sMCk7aWYobylyZXR1cm4gS3IoZSxuLGUuaW5wdXRzWzFdLGUuaW5wdXRzWzJdLGUuaW5wdXRzWzRdLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGUuaW5wdXRzWzVdLHIsdCk7bGV0IHM9WG4oZSxyLmJhdGNoU2l6ZSxyLm51bUhlYWRzLHIua3ZTZXF1ZW5jZUxlbmd0aCxyLmhlYWRTaXplLGUuaW5wdXRzWzFdLGUuaW5wdXRzWzNdLHIuaGlkZGVuU2l6ZSksdT1YbihlLHIuYmF0Y2hTaXplLHIubnVtSGVhZHMsci5rdlNlcXVlbmNlTGVuZ3RoLHIudkhlYWRTaXplLGUuaW5wdXRzWzJdLGUuaW5wdXRzWzNdLDIqci5oaWRkZW5TaXplKTtLcihlLG4scyx1LGUuaW5wdXRzWzRdLHZvaWQgMCxlLmlucHV0c1s2XSxlLmlucHV0c1s3XSxlLmlucHV0c1s1XSxyLHQpfX0pO3ZhciBMbCxGbCxqbCxxbCxLbCxZbCxabCxRbCxUcyxFcz1qKCgpPT57InVzZSBzdHJpY3QiO05lKCk7JGUoKTt2ZSgpO0xsPWU9PntpZighZXx8ZS5sZW5ndGg8MSl0aHJvdyBuZXcgRXJyb3IoIlRvbyBmZXcgaW5wdXRzIik7aWYoZVswXS5kYXRhVHlwZSE9PTEpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCB0eXBlIG11c3QgYmUgZmxvYXQuIik7aWYoZS5sZW5ndGg+PTIpe2xldCB0PWVbMF0uZGltcy5sZW5ndGgqMj09PWVbMV0uZGltc1swXTtpZihlLmxlbmd0aD09PTQmJih0PWVbM10uZGltc1swXSoyPT09ZVsxXS5kaW1zWzBdKSwhdCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBwYWRzIHNob3VsZCBiZSBhIDFEIHRlbnNvciBvZiBzaGFwZSBbMiAqIGlucHV0X3JhbmtdIG9yIFsyICogbnVtX2F4ZXNdLiIpfX0sRmw9KGUsdCxyKT0+e2xldCBvPSIiO2ZvcihsZXQgbj10LTE7bj49MDstLW4pbys9YFxuICAgICAgICAgICAgayA9IGkzMigke2UuaW5kaWNlc0dldCgiaW5kaWNlcyIsbil9KSAtICR7Y2UoInVuaWZvcm1zLnBhZHMiLG4scil9O1xuICAgICAgICAgICAgaWYgKGsgPCAwKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGsgPj0gaTMyKCR7Y2UoInVuaWZvcm1zLnhfc2hhcGUiLG4sdCl9KSkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZnNldCArPSBrICogaTMyKCR7Y2UoInVuaWZvcm1zLnhfc3RyaWRlcyIsbix0KX0pO1xuICAgICAgICBgO3JldHVybmBcbiAgICAgICAgICB2YWx1ZSA9ICR7ZS50eXBlLnZhbHVlfSh1bmlmb3Jtcy5jb25zdGFudF92YWx1ZSk7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgdmFyIGsgPSAwO1xuICAgICAgICAgICAgJHtvfVxuICAgICAgICAgICAgdmFsdWUgPSB4W29mZnNldF07XG4gICAgICAgICAgfVxuICAgICAgYH0samw9KGUsdCxyKT0+e2xldCBvPSIiO2ZvcihsZXQgbj10LTE7bj49MDstLW4pbys9YFxuICAgICAgICAgICAgICAgIGsgPSBpMzIoJHtlLmluZGljZXNHZXQoImluZGljZXMiLG4pfSkgLSAke2NlKCJ1bmlmb3Jtcy5wYWRzIixuLHIpfTtcbiAgICAgICAgICAgICAgICBpZiAoayA8IDApIHtcbiAgICAgICAgICAgICAgICAgIGsgPSAtaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbGV0IF8ybl8xID0gMiAqIChpMzIoJHtjZSgidW5pZm9ybXMueF9zaGFwZSIsbix0KX0pIC0gMSk7XG4gICAgICAgICAgICAgICAgICBrID0gayAlIF8ybl8xO1xuICAgICAgICAgICAgICAgICAgaWYoayA+PSBpMzIoJHtjZSgidW5pZm9ybXMueF9zaGFwZSIsbix0KX0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGsgPSBfMm5fMSAtIGs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBrICogaTMyKCR7Y2UoInVuaWZvcm1zLnhfc3RyaWRlcyIsbix0KX0pO1xuICAgICAgICAgICAgYDtyZXR1cm5gXG4gICAgICAgICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgICB2YXIgayA9IDA7XG4gICAgICAgICAgICAgICR7b31cbiAgICAgICAgICAgICAgdmFsdWUgPSB4W29mZnNldF07XG4gICAgICAgICAgYH0scWw9KGUsdCxyKT0+e2xldCBvPSIiO2ZvcihsZXQgbj10LTE7bj49MDstLW4pbys9YFxuICAgICAgICAgICAgICAgIGsgPSBpMzIoJHtlLmluZGljZXNHZXQoImluZGljZXMiLG4pfSkgLSAke2NlKCJ1bmlmb3Jtcy5wYWRzIixuLHIpfTtcbiAgICAgICAgICAgICAgICBpZiAoayA8IDApIHtcbiAgICAgICAgICAgICAgICAgIGsgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoayA+PSBpMzIoJHtjZSgidW5pZm9ybXMueF9zaGFwZSIsbix0KX0pKSB7XG4gICAgICAgICAgICAgICAgICBrID0gaTMyKCR7Y2UoInVuaWZvcm1zLnhfc2hhcGUiLG4sdCl9KSAtIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBrICogaTMyKCR7Y2UoInVuaWZvcm1zLnhfc3RyaWRlcyIsbix0KX0pO1xuICAgICAgICAgICAgYDtyZXR1cm5gXG4gICAgICAgICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgICB2YXIgayA9IDA7XG4gICAgICAgICAgICAgICR7b31cbiAgICAgICAgICAgICAgdmFsdWUgPSB4W29mZnNldF07XG4gICAgICAgICAgYH0sS2w9KGUsdCxyKT0+e2xldCBvPSIiO2ZvcihsZXQgbj10LTE7bj49MDstLW4pbys9YFxuICAgICAgICAgICAgICAgIGsgPSBpMzIoJHtlLmluZGljZXNHZXQoImluZGljZXMiLG4pfSkgLSAke2NlKCJ1bmlmb3Jtcy5wYWRzIixuLHIpfTtcbiAgICAgICAgICAgICAgICBpZiAoayA8IDApICB7XG4gICAgICAgICAgICAgICAgICBrICs9IGkzMigke2NlKCJ1bmlmb3Jtcy54X3NoYXBlIixuLHQpfV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoayA+PSBpMzIoJHtjZSgidW5pZm9ybXMueF9zaGFwZSIsbix0KX0pKSB7XG4gICAgICAgICAgICAgICAgICBrIC09IGkzMigke2NlKCJ1bmlmb3Jtcy54X3NoYXBlIixuLHQpfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBrICogaTMyKCR7Y2UoInVuaWZvcm1zLnhfc3RyaWRlcyIsbix0KX0pO1xuICAgICAgICAgICAgYDtyZXR1cm5gXG4gICAgICAgICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgICB2YXIgayA9IDA7XG4gICAgICAgICAgICAgICR7b31cbiAgICAgICAgICAgICAgdmFsdWUgPSB4W29mZnNldF07XG4gICAgICAgICAgYH0sWWw9KGUsdCxyKT0+e3N3aXRjaChyLm1vZGUpe2Nhc2UgMDpyZXR1cm4gRmwoZSx0LHIucGFkcy5sZW5ndGgpO2Nhc2UgMTpyZXR1cm4gamwoZSx0LHIucGFkcy5sZW5ndGgpO2Nhc2UgMjpyZXR1cm4gcWwoZSx0LHIucGFkcy5sZW5ndGgpO2Nhc2UgMzpyZXR1cm4gS2woZSx0LHIucGFkcy5sZW5ndGgpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIG1vZGUiKX19LFpsPShlLHQpPT57bGV0IHI9VS5wYWRTaGFwZShlWzBdLmRpbXMuc2xpY2UoKSx0LnBhZHMpLG89ZVswXS5kaW1zLHM9W3t0eXBlOiJ1aW50MzIiLGRhdGE6VS5zaXplKHIpfSx7dHlwZToidWludDMyIixkYXRhOnQucGFkc31dO2lmKHQubW9kZT09PTApe2xldCBhPVhlKGVbMF0uZGF0YVR5cGUpO3MucHVzaCh7dHlwZTphLGRhdGE6dC52YWx1ZX0pfXMucHVzaCguLi5MKGVbMF0uZGltcyksLi4uTChyKSk7bGV0IHU9WyJyYW5rIl0sbD1hPT57bGV0IHA9Rigib3V0cHV0IixlWzBdLmRhdGFUeXBlLHIubGVuZ3RoKSxoPU0oIngiLGVbMF0uZGF0YVR5cGUsby5sZW5ndGgpLGc9aC50eXBlLnZhbHVlLGI9WWwocCxvLmxlbmd0aCx0KSx3PVt7bmFtZToib3V0cHV0X3NpemUiLHR5cGU6InUzMiJ9LHtuYW1lOiJwYWRzIix0eXBlOiJpMzIiLGxlbmd0aDp0LnBhZHMubGVuZ3RofV07cmV0dXJuIHQubW9kZT09PTAmJncucHVzaCh7bmFtZToiY29uc3RhbnRfdmFsdWUiLHR5cGU6Z30pLGBcbiAgICAgICAgICAgICR7YS5yZWdpc3RlclVuaWZvcm1zKHcpLmRlY2xhcmVWYXJpYWJsZXMoaCxwKX1cbiAgICAgICAgICAgICR7YS5tYWluU3RhcnQoKX1cbiAgICAgICAgICAgICR7YS5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRfc2l6ZSIpfVxuXG4gICAgICAgICAgICBsZXQgaW5kaWNlcyA9ICR7cC5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9ICR7Z30oMCk7XG4gICAgICAgICAgICAke2J9XG4gICAgICAgICAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSB2YWx1ZTtcbiAgICAgICAgfWB9O3JldHVybntuYW1lOiJQYWQiLHNoYWRlckNhY2hlOntoaW50OmAke3QubW9kZX1gLGlucHV0RGVwZW5kZW5jaWVzOnV9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cixkYXRhVHlwZTplWzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoVS5zaXplKHIpLzY0KX0scHJvZ3JhbVVuaWZvcm1zOnN9KSxnZXRTaGFkZXJTb3VyY2U6bH19LFFsPShlLHQpPT57aWYoZS5sZW5ndGg+MSl7bGV0IHI9ZVsxXS5nZXRCaWdJbnQ2NEFycmF5KCksbz1lLmxlbmd0aD49MyYmZVsyXS5kYXRhP2VbMl0uZ2V0RmxvYXQzMkFycmF5KClbMF06MCxuPWVbMF0uZGltcy5sZW5ndGgscz1uZXcgSW50MzJBcnJheSgyKm4pLmZpbGwoMCk7aWYoZS5sZW5ndGg+PTQpe2xldCBsPWVbM10uZ2V0QmlnSW50NjRBcnJheSgpO2ZvcihsZXQgYT0wO2E8bC5sZW5ndGg7YSsrKXNbTnVtYmVyKGxbYV0pXT1OdW1iZXIoclthXSksc1tOdW1iZXIobFthXSkrbl09TnVtYmVyKHJbYStsLmxlbmd0aF0pfWVsc2Ugci5mb3JFYWNoKChsLGEpPT5zW051bWJlcihhKV09TnVtYmVyKGwpKTtsZXQgdT1bXTtyZXR1cm4gcy5mb3JFYWNoKGw9PnUucHVzaChsKSkse21vZGU6dC5tb2RlLHZhbHVlOm8scGFkczp1fX1lbHNlIHJldHVybiB0fSxUcz0oZSx0KT0+e0xsKGUuaW5wdXRzKTtsZXQgcj1RbChlLmlucHV0cyx0KTtlLmNvbXB1dGUoWmwoZS5pbnB1dHMscikse2lucHV0czpbMF19KX19KTt2YXIgbm4sT3MsUHMsa3MsUnMsWGwsSmwsQnMsRHMsTXMsenMsVXMsVnMsTnMsV3MsSHMsR3MsTHMsRnMsanM9aigoKT0+eyJ1c2Ugc3RyaWN0IjtMdCgpOyRlKCk7dmUoKTtubj1lPT57aWYoR3Qud2ViZ3B1LnZhbGlkYXRlSW5wdXRDb250ZW50JiYoIWV8fGUubGVuZ3RoIT09MSkpdGhyb3cgbmV3IEVycm9yKCJQb29sIG9wcyByZXF1aXJlcyAxIGlucHV0LiIpfSxPcz0oZSx0LHIpPT57bGV0IG89dC5mb3JtYXQ9PT0iTkhXQyIsbj1lLmRpbXMuc2xpY2UoKTtvJiZuLnNwbGljZSgxLDAsbi5wb3AoKSk7bGV0IHM9T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCwiZGlsYXRpb25zIiksdT10Lmtlcm5lbFNoYXBlLnNsaWNlKCksbD10LnN0cmlkZXMuc2xpY2UoKSxhPXM/dC5kaWxhdGlvbnMuc2xpY2UoKTpbXSxwPXQucGFkcy5zbGljZSgpO0J0LmFkanVzdFBvb2xBdHRyaWJ1dGVzKHIsbix1LGwsYSxwKTtsZXQgaD1CdC5jb21wdXRlUG9vbE91dHB1dFNoYXBlKHIsbixsLGEsdSxwLHQuYXV0b1BhZCksZz1PYmplY3QuYXNzaWduKHt9LHQpO3M/T2JqZWN0LmFzc2lnbihnLHtrZXJuZWxTaGFwZTp1LHN0cmlkZXM6bCxwYWRzOnAsZGlsYXRpb25zOmEsY2FjaGVLZXk6dC5jYWNoZUtleX0pOk9iamVjdC5hc3NpZ24oZyx7a2VybmVsU2hhcGU6dSxzdHJpZGVzOmwscGFkczpwLGNhY2hlS2V5OnQuY2FjaGVLZXl9KTtsZXQgYj1oLnNsaWNlKCk7cmV0dXJuIGIucHVzaChiLnNwbGljZSgxLDEpWzBdKSxbZyxvP2I6aF19LFBzPShlLHQpPT57bGV0IHI9dC5mb3JtYXQ9PT0iTkhXQyIsbz1VLnNpemUoZSksbj1VLnNpemUodC5rZXJuZWxTaGFwZSkscz1be3R5cGU6InVpbnQzMiIsZGF0YTpvfSx7dHlwZToidWludDMyIixkYXRhOm59XSx1PVt7bmFtZToib3V0cHV0U2l6ZSIsdHlwZToidTMyIn0se25hbWU6Imtlcm5lbFNpemUiLHR5cGU6InUzMiJ9XTtpZih0Lmtlcm5lbFNoYXBlLmxlbmd0aDw9Mil7bGV0IGw9dC5rZXJuZWxTaGFwZVt0Lmtlcm5lbFNoYXBlLmxlbmd0aC0xXSxhPXQuc3RyaWRlc1t0LnN0cmlkZXMubGVuZ3RoLTFdLHA9dC5wYWRzW3QucGFkcy5sZW5ndGgvMi0xXSxoPXQucGFkc1t0LnBhZHMubGVuZ3RoLTFdLGc9ISEocCtoKTtzLnB1c2goe3R5cGU6InVpbnQzMiIsZGF0YTpsfSx7dHlwZToidWludDMyIixkYXRhOmF9LHt0eXBlOiJ1aW50MzIiLGRhdGE6cH0se3R5cGU6InVpbnQzMiIsZGF0YTpofSksdS5wdXNoKHtuYW1lOiJrdyIsdHlwZToidTMyIn0se25hbWU6InN3Iix0eXBlOiJ1MzIifSx7bmFtZToicHdTdGFydCIsdHlwZToidTMyIn0se25hbWU6InB3RW5kIix0eXBlOiJ1MzIifSk7bGV0IGI9ITE7aWYodC5rZXJuZWxTaGFwZS5sZW5ndGg9PT0yKXtsZXQgdz10Lmtlcm5lbFNoYXBlW3Qua2VybmVsU2hhcGUubGVuZ3RoLTJdLHk9dC5zdHJpZGVzW3Quc3RyaWRlcy5sZW5ndGgtMl0sXz10LnBhZHNbdC5wYWRzLmxlbmd0aC8yLTJdLEk9dC5wYWRzW3QucGFkcy5sZW5ndGgtMl07Yj0hIShfK0kpLHMucHVzaCh7dHlwZToidWludDMyIixkYXRhOnd9LHt0eXBlOiJ1aW50MzIiLGRhdGE6eX0se3R5cGU6InVpbnQzMiIsZGF0YTpffSx7dHlwZToidWludDMyIixkYXRhOkl9KSx1LnB1c2goe25hbWU6ImtoIix0eXBlOiJ1MzIifSx7bmFtZToic2giLHR5cGU6InUzMiJ9LHtuYW1lOiJwaFN0YXJ0Iix0eXBlOiJ1MzIifSx7bmFtZToicGhFbmQiLHR5cGU6InUzMiJ9KX1yZXR1cm5bcyx1LCEwLGcsYl19ZWxzZXtpZihyKXRocm93IG5ldyBFcnJvcigiUG9vbGluZyB3aXRoIGtlcm5lbFNoYXBlLmxlbmd0aCA+IDIgaXMgbm90IHN1cHBvcnRlZCBmb3IgTkhXQyBmb3JtYXQuIik7bGV0IGw9VS5jb21wdXRlU3RyaWRlcyh0Lmtlcm5lbFNoYXBlKTtzLnB1c2goe3R5cGU6InVpbnQzMiIsZGF0YTpsfSx7dHlwZToidWludDMyIixkYXRhOnQucGFkc30se3R5cGU6InVpbnQzMiIsZGF0YTp0LnN0cmlkZXN9KSx1LnB1c2goe25hbWU6Imtlcm5lbFN0cmlkZXMiLHR5cGU6InUzMiIsbGVuZ3RoOmwubGVuZ3RofSx7bmFtZToicGFkcyIsdHlwZToidTMyIixsZW5ndGg6dC5wYWRzLmxlbmd0aH0se25hbWU6InN0cmlkZXMiLHR5cGU6InUzMiIsbGVuZ3RoOnQuc3RyaWRlcy5sZW5ndGh9KTtsZXQgYT10LnBhZHMucmVkdWNlKChwLGgpPT5wK2gpO3JldHVybltzLHUsISFhLCExLCExXX19LGtzPShlLHQscixvLG4scyx1LGwsYSxwLGgsZyk9PntsZXQgYj1uLmZvcm1hdD09PSJOSFdDIix3PXQudHlwZS52YWx1ZSx5PUYoIm91dHB1dCIsdC50eXBlLnRlbnNvcixvKTtpZihuLmtlcm5lbFNoYXBlLmxlbmd0aDw9Mil7bGV0IF89IiIsST0iIiwkPSIiLHg9ci0oYj8yOjEpO2lmKGg/Xz1gXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaTogdTMyID0gMHU7IGkgPCB1bmlmb3Jtcy5rdzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICB4SW5kaWNlc1ske3h9XSA9IGluZGljZXNbJHt4fV0gKiB1bmlmb3Jtcy5zdyAtIHVuaWZvcm1zLnB3U3RhcnQgKyBpO1xuICAgICAgICAgICAgICAgICAgaWYgKHhJbmRpY2VzWyR7eH1dIDwgMCB8fCB4SW5kaWNlc1ske3h9XVxuICAgICAgICAgICAgICAgICAgICAgID49IHVuaWZvcm1zLnhfc2hhcGVbJHt4fV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcGFkKys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgbGV0IHhfdmFsID0geFske3QuaW5kaWNlc1RvT2Zmc2V0KCJ4SW5kaWNlcyIpfV07XG4gICAgICAgICAgICAgICAgICAke3N9XG4gICAgICAgICAgICAgICAgfWA6Xz1gXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaTogdTMyID0gMHU7IGkgPCB1bmlmb3Jtcy5rdzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICB4SW5kaWNlc1ske3h9XSA9IGluZGljZXNbJHt4fV0gKiB1bmlmb3Jtcy5zdyAtIHVuaWZvcm1zLnB3U3RhcnQgKyBpO1xuICAgICAgICAgICAgICAgICAgbGV0IHhfdmFsID0geFske3QuaW5kaWNlc1RvT2Zmc2V0KCJ4SW5kaWNlcyIpfV07XG4gICAgICAgICAgICAgICAgICAke3N9XG4gICAgICAgICAgICAgICAgfWAsbi5rZXJuZWxTaGFwZS5sZW5ndGg9PT0yKXtsZXQgQT1yLShiPzM6Mik7Zz9JPWBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqOiB1MzIgPSAwdTsgaiA8IHVuaWZvcm1zLmtoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgIHhJbmRpY2VzWyR7QX1dID0gaW5kaWNlc1ske0F9XSAqIHVuaWZvcm1zLnNoIC0gdW5pZm9ybXMucGhTdGFydCArIGo7XG4gICAgICAgICAgICAgICAgICBpZiAoeEluZGljZXNbJHtBfV0gPCAwIHx8IHhJbmRpY2VzWyR7QX1dID49IHVuaWZvcm1zLnhfc2hhcGVbJHtBfV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcGFkICs9IGkzMih1bmlmb3Jtcy5rdyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBgOkk9YFxuICAgICAgICAgICAgICAgIGZvciAodmFyIGo6IHUzMiA9IDB1OyBqIDwgdW5pZm9ybXMua2g7IGorKykge1xuICAgICAgICAgICAgICAgICAgeEluZGljZXNbJHtBfV0gPSBpbmRpY2VzWyR7QX1dICogdW5pZm9ybXMuc2ggLSB1bmlmb3Jtcy5waFN0YXJ0ICsgajtcbiAgICAgICAgICAgICAgICBgLCQ9YFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgfXJldHVybmBcbiAgICAgICAgICAgICR7ZS5yZWdpc3RlclVuaWZvcm1zKGEpLmRlY2xhcmVWYXJpYWJsZXModCx5KX1cblxuICAgICAgICAgICAgJHtlLm1haW5TdGFydCgpfVxuICAgICAgICAgICAgICAke2UuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0U2l6ZSIpfVxuXG4gICAgICAgICAgICAgIGxldCBpbmRpY2VzID0gJHt5Lm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcbiAgICAgICAgICAgICAgdmFyIHhJbmRpY2VzID0gJHt5Lm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcblxuICAgICAgICAgICAgICB2YXIgdmFsdWUgPSAke3d9KCR7bH0pO1xuICAgICAgICAgICAgICB2YXIgcGFkID0gMDtcbiAgICAgICAgICAgICAgJHtJfVxuICAgICAgICAgICAgICAke199XG4gICAgICAgICAgICAgICR7JH1cbiAgICAgICAgICAgICAgJHt1fVxuXG4gICAgICAgICAgICAgIG91dHB1dFtnbG9iYWxfaWR4XSA9IHZhbHVlO1xuICAgICAgICAgICAgfWB9ZWxzZXtpZihiKXRocm93IG5ldyBFcnJvcigiUG9vbGluZyB3aXRoIGtlcm5lbFNoYXBlLmxlbmd0aCA+IDIgaXMgbm90IHN1cHBvcnRlZCBmb3IgTkhXQyBmb3JtYXQuIik7bGV0IF89bi5rZXJuZWxTaGFwZS5sZW5ndGgsST1uLnBhZHMubGVuZ3RoLCQ9IiI7cmV0dXJuIHA/JD1gXG4gICAgICAgICAgICAgICAgaWYgKHhJbmRpY2VzW2pdID49IHVuaWZvcm1zLnhfc2hhcGVbal0pIHtcbiAgICAgICAgICAgICAgICAgIHBhZCsrO1xuICAgICAgICAgICAgICAgICAgaXNQYWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghaXNQYWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgeF92YWwgPSB4WyR7dC5pbmRpY2VzVG9PZmZzZXQoInhJbmRpY2VzIil9XTtcbiAgICAgICAgICAgICAgICAke3N9XG4gICAgICAgICAgICAgIH1gOiQ9YFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxldCB4X3ZhbCA9IHhbJHt0LmluZGljZXNUb09mZnNldCgieEluZGljZXMiKX1dO1xuICAgICAgICAgICAgICAke3N9XG4gICAgICAgICAgICBgLGBcbiAgICAgICAgICAgICR7ZS5yZWdpc3RlclVuaWZvcm1zKGEpLmRlY2xhcmVWYXJpYWJsZXModCx5KX1cblxuICAgICAgICAgICAgJHtlLm1haW5TdGFydCgpfVxuICAgICAgICAgICAgICAke2UuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0U2l6ZSIpfVxuICAgICAgICAgICAgICBsZXQgaW5kaWNlcyA9ICR7eS5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07XG4gICAgICAgICAgICAgIHZhciB4SW5kaWNlcyA9ICR7eS5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07XG5cbiAgICAgICAgICAgICAgdmFyIG9mZnNldHM6IGFycmF5PHUzMiwgJHtffT47XG5cbiAgICAgICAgICAgICAgdmFyIHZhbHVlID0gJHt3fSgke2x9KTtcbiAgICAgICAgICAgICAgdmFyIHBhZCA9IDA7XG4gICAgICAgICAgICAgIHZhciBpc1BhZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIGk6IHUzMiA9IDB1OyBpIDwgdW5pZm9ybXMua2VybmVsU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IGk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDB1OyBqIDwgJHtfLTF9dTsgaisrKSB7XG4gICAgICAgICAgICAgICAgICBvZmZzZXRzW2pdID0gb2Zmc2V0IC8gJHtjZSgidW5pZm9ybXMua2VybmVsU3RyaWRlcyIsImoiLF8pfTtcbiAgICAgICAgICAgICAgICAgIG9mZnNldCAtPSBvZmZzZXRzW2pdICogJHtjZSgidW5pZm9ybXMua2VybmVsU3RyaWRlcyIsImoiLF8pfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2Zmc2V0c1ske18tMX1dID0gb2Zmc2V0O1xuXG4gICAgICAgICAgICAgICAgaXNQYWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gJHtyLV99dTsgaiA8ICR7cn11OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgIHhJbmRpY2VzW2pdID0gaW5kaWNlc1tqXSAqICR7Y2UoInVuaWZvcm1zLnN0cmlkZXMiLGBqIC0gJHtyLV99dWAsXyl9XG4gICAgICAgICAgICAgICAgICAgICsgb2Zmc2V0c1tqIC0gJHtyLV99dV0gLSAke2NlKCJ1bmlmb3Jtcy5wYWRzIiwiaiAtIDJ1IixJKX07XG4gICAgICAgICAgICAgICAgICAkeyR9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgJHt1fVxuXG4gICAgICAgICAgICAgIG91dHB1dFtnbG9iYWxfaWR4XSA9IHZhbHVlO1xuICAgICAgICAgICAgfWB9fSxScz1lPT5gJHtlLmZvcm1hdH07JHtlLmNlaWxNb2RlfTske2UuYXV0b1BhZH07JHtlLmtlcm5lbFNoYXBlLmxlbmd0aH1gLFhsPWU9PmAke1JzKGUpfTske2UuY291bnRJbmNsdWRlUGFkfWAsSmw9ZT0+YCR7UnMoZSl9OyR7ZS5zdG9yYWdlT3JkZXJ9OyR7ZS5kaWxhdGlvbnN9YCxCcz1lPT4oe2Zvcm1hdDplLmZvcm1hdCxhdXRvUGFkOlsiTk9UU0VUIiwiVkFMSUQiLCJTQU1FX1VQUEVSIiwiU0FNRV9MT1dFUiJdW2UuYXV0b19wYWRdLGNlaWxNb2RlOmUuY2VpbF9tb2RlLGtlcm5lbFNoYXBlOmUua2VybmVsX3NoYXBlLHN0cmlkZXM6ZS5zdHJpZGVzLHBhZHM6ZS5wYWRzfSksRHM9KGUsdCxyLG8pPT57bGV0W24sc109T3ModCxvLHIpLHU9TSgieCIsdC5kYXRhVHlwZSx0LmRpbXMubGVuZ3RoKSxsPXUudHlwZS52YWx1ZSxhPSJ2YWx1ZSArPSB4X3ZhbDsiLHA9IiI7bi5jb3VudEluY2x1ZGVQYWQ/cCs9YHZhbHVlIC89ICR7bH0odW5pZm9ybXMua2VybmVsU2l6ZSk7YDpwKz1gdmFsdWUgLz0gJHtsfShpMzIodW5pZm9ybXMua2VybmVsU2l6ZSkgLSBwYWQpO2A7bGV0W2gsZyxiLHcseV09UHMocyxuKTtoLnB1c2goLi4uTCh0LmRpbXMpLC4uLkwocykpO2xldCBfPVsicmFuayJdO3JldHVybntuYW1lOmUsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7by5jYWNoZUtleX07JHtifTske3d9OyR7eX1gLGlucHV0RGVwZW5kZW5jaWVzOl99LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cyxkYXRhVHlwZTp0LmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoVS5zaXplKHMpLzY0KX0scHJvZ3JhbVVuaWZvcm1zOmh9KSxnZXRTaGFkZXJTb3VyY2U6ST0+a3MoSSx1LHQuZGltcy5sZW5ndGgscy5sZW5ndGgsbixhLHAsMCxnLGIsdyx5KX19LE1zPWU9PntsZXQgdD1lLmNvdW50X2luY2x1ZGVfcGFkIT09MCxyPUJzKGUpO2lmKHIuY2VpbE1vZGUhPT0wKXRocm93IG5ldyBFcnJvcigidXNpbmcgY2VpbCgpIGluIHNoYXBlIGNvbXB1dGF0aW9uIGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGZvciBBdmVyYWdlUG9vbCIpO2xldCBvPXtjb3VudEluY2x1ZGVQYWQ6dCwuLi5yLGNhY2hlS2V5OiIifTtyZXR1cm57Li4ubyxjYWNoZUtleTpYbChvKX19LHpzPShlLHQpPT57bm4oZS5pbnB1dHMpLGUuY29tcHV0ZShEcygiQXZlcmFnZVBvb2wiLGUuaW5wdXRzWzBdLCExLHQpKX0sVXM9e2F1dG9QYWQ6IiIsY2VpbE1vZGU6MCxjb3VudEluY2x1ZGVQYWQ6ITEsa2VybmVsU2hhcGU6W10sc3RyaWRlczpbXSxwYWRzOltdLHN0b3JhZ2VPcmRlcjowLGRpbGF0aW9uczpbXX0sVnM9ZT0+e2xldCB0PWUuZm9ybWF0O3JldHVybntmb3JtYXQ6dCwuLi5VcyxjYWNoZUtleTp0fX0sTnM9KGUsdCk9PntubihlLmlucHV0cyksZS5jb21wdXRlKERzKCJHbG9iYWxBdmVyYWdlUG9vbCIsZS5pbnB1dHNbMF0sITAsdCkpfSxXcz0oZSx0LHIsbyk9PntsZXRbbixzXT1Pcyh0LG8sciksdT1gXG4gICAgICB2YWx1ZSA9IG1heCh4X3ZhbCwgdmFsdWUpO1xuICAgIGAsbD0iIixhPU0oIngiLHQuZGF0YVR5cGUsdC5kaW1zLmxlbmd0aCkscD1bInJhbmsiXSxbaCxnLGIsdyx5XT1QcyhzLG4pO3JldHVybiBoLnB1c2goLi4uTCh0LmRpbXMpLC4uLkwocykpLHtuYW1lOmUsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7by5jYWNoZUtleX07JHtifTske3d9OyR7eX1gLGlucHV0RGVwZW5kZW5jaWVzOnB9LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6cyxkYXRhVHlwZTp0LmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwoVS5zaXplKHMpLzY0KX0scHJvZ3JhbVVuaWZvcm1zOmh9KSxnZXRTaGFkZXJTb3VyY2U6Xz0+a3MoXyxhLHQuZGltcy5sZW5ndGgscy5sZW5ndGgsbix1LGwsLTFlNSxnLGIsdyx5KX19LEhzPShlLHQpPT57bm4oZS5pbnB1dHMpLGUuY29tcHV0ZShXcygiTWF4UG9vbCIsZS5pbnB1dHNbMF0sITEsdCkpfSxHcz1lPT57bGV0IHQ9ZS5zdG9yYWdlX29yZGVyLHI9ZS5kaWxhdGlvbnMsbz1CcyhlKTtpZih0IT09MCl0aHJvdyBuZXcgRXJyb3IoImNvbHVtbiBtYWpvciBzdG9yYWdlIG9yZGVyIGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGZvciBNYXhQb29sIik7aWYoby5jZWlsTW9kZSE9PTApdGhyb3cgbmV3IEVycm9yKCJ1c2luZyBjZWlsKCkgaW4gc2hhcGUgY29tcHV0YXRpb24gaXMgbm90IHlldCBzdXBwb3J0ZWQgZm9yIE1heFBvb2wiKTtsZXQgbj17c3RvcmFnZU9yZGVyOnQsZGlsYXRpb25zOnIsLi4ubyxjYWNoZUtleToiIn07cmV0dXJuey4uLm4sY2FjaGVLZXk6Smwobil9fSxMcz1lPT57bGV0IHQ9ZS5mb3JtYXQ7cmV0dXJue2Zvcm1hdDp0LC4uLlVzLGNhY2hlS2V5OnR9fSxGcz0oZSx0KT0+e25uKGUuaW5wdXRzKSxlLmNvbXB1dGUoV3MoIkdsb2JhbE1heFBvb2wiLGUuaW5wdXRzWzBdLCEwLHQpKX19KTt2YXIgdGMscmMscXMsS3M9aigoKT0+eyJ1c2Ugc3RyaWN0IjtMdCgpO05lKCk7dmUoKTt0Yz0oZSx0LHIpPT57bGV0IG89ZT09PXQsbj1lPHQmJnI8MCxzPWU+dCYmcj4wO2lmKG98fG58fHMpdGhyb3cgbmV3IEVycm9yKCJSYW5nZSB0aGVzZSBpbnB1dHNcJyBjb250ZW50cyBhcmUgaW52YWxpZC4iKX0scmM9KGUsdCxyLG8pPT57bGV0IG49TWF0aC5hYnMoTWF0aC5jZWlsKCh0LWUpL3IpKSxzPVtuXSx1PW4sbD1YZShvKSxhPVt7dHlwZToidWludDMyIixkYXRhOnV9LHt0eXBlOmwsZGF0YTplfSx7dHlwZTpsLGRhdGE6cn0sLi4uTChzKV0scD1oPT57bGV0IGc9Rigib3V0cHV0IixvLHMubGVuZ3RoKSxiPWcudHlwZS52YWx1ZSx3PVt7bmFtZToib3V0cHV0U2l6ZSIsdHlwZToidTMyIn0se25hbWU6InN0YXJ0Iix0eXBlOmJ9LHtuYW1lOiJkZWx0YSIsdHlwZTpifV07cmV0dXJuYFxuICAgICAgICAke2gucmVnaXN0ZXJVbmlmb3Jtcyh3KS5kZWNsYXJlVmFyaWFibGVzKGcpfVxuICAgICAgICAke2gubWFpblN0YXJ0KCl9XG4gICAgICAgICR7aC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9XG4gICAgICAgIG91dHB1dFtnbG9iYWxfaWR4XSA9IHVuaWZvcm1zLnN0YXJ0ICsgJHtifShnbG9iYWxfaWR4KSAqIHVuaWZvcm1zLmRlbHRhO1xuICAgICAgfWB9O3JldHVybntuYW1lOiJSYW5nZSIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7b31gfSxnZXRTaGFkZXJTb3VyY2U6cCxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnMsZGF0YVR5cGU6b31dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKHUvNjQpfSxwcm9ncmFtVW5pZm9ybXM6YX0pfX0scXM9ZT0+e2xldCB0PTAscj0wLG89MDtlLmlucHV0c1swXS5kYXRhVHlwZT09PTY/KHQ9ZS5pbnB1dHNbMF0uZ2V0SW50MzJBcnJheSgpWzBdLHI9ZS5pbnB1dHNbMV0uZ2V0SW50MzJBcnJheSgpWzBdLG89ZS5pbnB1dHNbMl0uZ2V0SW50MzJBcnJheSgpWzBdKTplLmlucHV0c1swXS5kYXRhVHlwZT09PTEmJih0PWUuaW5wdXRzWzBdLmdldEZsb2F0MzJBcnJheSgpWzBdLHI9ZS5pbnB1dHNbMV0uZ2V0RmxvYXQzMkFycmF5KClbMF0sbz1lLmlucHV0c1syXS5nZXRGbG9hdDMyQXJyYXkoKVswXSksR3Qud2ViZ3B1LnZhbGlkYXRlSW5wdXRDb250ZW50JiZ0Yyh0LHIsbyksZS5jb21wdXRlKHJjKHQscixvLGUuaW5wdXRzWzBdLmRhdGFUeXBlKSx7aW5wdXRzOltdfSl9fSk7dmFyIG5jLG9jLGFjLGljLHNjLHVjLGRjLGxjLGNjLHBjLG1jLFlzLGZjLGhjLGdjLHljLGJjLFpzLFFzLFhzPWooKCk9PnsidXNlIHN0cmljdCI7JGUoKTtqZSgpO3ZlKCk7bmM9KGUsdCk9PntpZihlLmV2ZXJ5KHI9PnI+MHx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJSZXNpemUgcmVxdWlyZXMgc2NhbGVzIGlucHV0IHZhbHVlcyB0byBiZSBwb3NpdGl2ZSIpfSkpLGUubGVuZ3RoPjApe2lmKHQubW9kZT09PSJsaW5lYXIiKXtpZighKGUubGVuZ3RoPT09Mnx8ZS5sZW5ndGg9PT0zfHxlLmxlbmd0aD09PTQmJmVbMF09PT0xJiZlWzFdPT09MXx8ZS5sZW5ndGg9PT00JiZlWzBdPT09MSYmZVszXT09PTF8fGUubGVuZ3RoPT09NSYmZVswXT09PTEmJmVbMV09PT0xKSl0aHJvdyBuZXcgRXJyb3IoYEZvciBsaW5lYXIgbW9kZSwgUmVzaXplIHJlcXVpcmVzIHNjYWxlcyB0byBiZSAyRCwgM0QsIDREIHdpdGggZWl0aGVyIHR3byBvdXRlcm1vc3Qgb3Igb25lIGlubmVybW9zdCBhbmRcbiAgICAgICAgICAgIG9uZSBvdXRlcm1vc3Qgc2NhbGUgdmFsdWVzIGVxdWFsIHRvIDEsIG9yIDVEIHdpdGggdHdvIG91dGVybW9zdCBzY2FsZSB2YWx1ZXMgZXF1YWwgdG8gMWApfWVsc2UgaWYodC5tb2RlPT09ImN1YmljIiYmIShlLmxlbmd0aD09PTJ8fGUubGVuZ3RoPT09NCYmZVswXT09PTEmJmVbMV09PT0xfHxlLmxlbmd0aD09PTQmJmVbMF09PT0xJiZlWzNdPT09MSkpdGhyb3cgbmV3IEVycm9yKCJSZXNpemUgcmVxdWlyZXMgc2NhbGVzIGlucHV0IHNpemUgdG8gYmUgMiBvciA0IGZvciBjdWJpYyBtb2RlIil9fSxvYz0oZSx0LHIpPT57dC5ldmVyeShuPT5uPj0wJiZuPHJ8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiUmVzaXplIHJlcXVpcmVzIGF4ZXMgaW5wdXQgdmFsdWVzIHRvIGJlIHBvc2l0aXZlIGFuZCBsZXNzIHRoYW4gcmFuayIpfSkpO2xldCBvPW5ldyBBcnJheShyKS5maWxsKDEpO3JldHVybiB0LmZvckVhY2goKG4scyk9Pm9bbl09ZVtzXSksb30sYWM9KGUsdCxyLG8sbixzKT0+e2xldFt1LGwsYV09cj4xMD9bMSwyLDNdOlstMSxlLmxlbmd0aD4xPzE6LTEsLTFdLHA9ZVswXS5kaW1zLmxlbmd0aDtpZih1PjAmJmUubGVuZ3RoPnUmJmVbdV0uZGltcy5sZW5ndGg+MCllW3VdLmdldEZsb2F0MzJBcnJheSgpLmZvckVhY2goaD0+cy5wdXNoKGgpKTtlbHNlIGlmKHQuY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGU9PT0idGZfY3JvcF9hbmRfcmVzaXplIil0aHJvdyBuZXcgRXJyb3IoIlJlc2l6ZSByZXF1aXJlcyBSb0kgaW5wdXQgdG8gYmUgc3BlY2lmaWVkIHdoZW4gY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGUgaXMgdGZDcm9wQW5kUmVzaXplIik7aWYobD4wJiZlLmxlbmd0aD5sJiZlW2xdLmRpbXMubGVuZ3RoPjApe2lmKGVbbF0uZ2V0RmxvYXQzMkFycmF5KCkuZm9yRWFjaChoPT5vLnB1c2goaCkpLG8ubGVuZ3RoIT09MCYmby5sZW5ndGghPT1wJiZyPj0xOCYmby5sZW5ndGghPT10LmF4ZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiUmVzaXplIHJlcXVpcmVzIHNjYWxlcyBpbnB1dCBzaXplIHRvIGJlIHNhbWUgYXMgaW5wdXQgcmFuayBvciBheGVzIHNpemUgZm9yIG9wc2V0IDE4IGFuZCB1cCIpO25jKG8sdCksdC5heGVzLmxlbmd0aD4wJiZvYyhvLHQuYXhlcyxwKS5mb3JFYWNoKChoLGcpPT5vW2ddPWgpfWlmKGE+MCYmZS5sZW5ndGg+YSYmKGVbYV0uZ2V0QmlnSW50NjRBcnJheSgpLmZvckVhY2goaD0+bi5wdXNoKE51bWJlcihoKSkpLG4ubGVuZ3RoIT09cHx8cj49MTgmJm4ubGVuZ3RoPT09dC5heGVzLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKCJSZXNpemUgcmVxdWlyZXMgc2l6ZXMgaW5wdXQgc2l6ZSB0byBiZSBzYW1lIGFzIGlucHV0IHJhbmsgb3IgYXhlcyBzaXplIGZvciBvcHNldCAxOCBhbmQgdXAiKTtpZih0LmF4ZXMubGVuZ3RoPjApe2lmKG8ubGVuZ3RoIT09dC5heGVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCdSZXNpemUgcmVxdWlyZXMgInNjYWxlcyIgaW5wdXQgc2l6ZSB0byBiZSBvZiBheGVzIHJhbmsgd2hlbiBheGVzIGF0dHJpYnV0ZXMgaXMgc3BlY2lmaWVkXCcpO2lmKG4ubGVuZ3RoIT09dC5heGVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCdSZXNpemUgcmVxdWlyZXMgInNpemVzIiBpbnB1dCBzaXplIHRvIGJlIG9mIHJhbmsgYXhlcyByYW5rIHdoZW4gYXhlcyBhdHRyaWJ1dGVzIGlzIHNwZWNpZmllZFwnKX1pZih0eXBlb2YgbzwidSImJnR5cGVvZiBuPCJ1IiYmby5sZW5ndGg+MCYmbi5sZW5ndGg+cCl0aHJvdyBuZXcgRXJyb3IoIlJlc2l6ZSByZXF1aXJlcyBvbmx5IG9mIHNjYWxlcyBvciBzaXplcyB0byBiZSBzcGVjaWZpZWQiKX0saWM9KGUsdCk9PmBmbiBnZXRPcmlnaW5hbENvb3JkaW5hdGVGcm9tUmVzaXplZENvb3JkaW5hdGUoeFJlc2l6ZWQ6IHUzMiwgeFNjYWxlOiBmMzIsIGxlbmd0aFJlc2l6ZWQ6IHUzMixcbiAgICAgbGVuZ3RoT3JpZ2luYWw6IHUzMiwgcm9pU3RhcnQ6IGYzMiwgcm9pRW5kOiBmMzIpIC0+ICR7dH0geyBgKygoKT0+e3N3aXRjaChlKXtjYXNlImFzeW1tZXRyaWMiOnJldHVybmByZXR1cm4gJHt0fSh4UmVzaXplZCkgLyAke3R9KHhTY2FsZSk7YDtjYXNlInB5dG9yY2hfaGFsZl9waXhlbCI6cmV0dXJuYGlmIChsZW5ndGhSZXNpemVkID4gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCR7dH0oeFJlc2l6ZWQpICsgMC41KSAvICR7dH0oeFNjYWxlKSAtIDAuNTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjA7XG4gICAgICAgICAgICAgICAgICB9YDtjYXNlInRmX2hhbGZfcGl4ZWxfZm9yX25uIjpyZXR1cm5gcmV0dXJuICgke3R9KHhSZXNpemVkKSArIDAuNSkgLyAke3R9KHhTY2FsZSk7YDtjYXNlImFsaWduX2Nvcm5lcnMiOnJldHVybmBpZiAobGVuZ3RoUmVzaXplZCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwLjA7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgd2hvbGUgcGFydCBhbmQgdGhlIGZyYWN0aW9uYWwgcGFydCBhcmUgY2FsY3VsYXRlZCBzZXBhcmF0ZWx5IGR1ZSB0byBpbmFjY3VyYWN5IG9mIGZsb2F0aW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIHBvaW50IGRpdmlzaW9uLiBBcyBhbiBleGFtcGxlLCBmMzIoMjEpIC8gZjMyKDcpIG1heSBldmFsdWF0ZSB0byAyLjk5Li4uIGluc3RlYWQgb2YgMywgY2F1c2luZyBhblxuICAgICAgICAgICAgICAgICAgICAvLyBvZmZzZXQtYnktb25lIGVycm9yIGxhdGVyIGluIGZsb29yKCkuXG4gICAgICAgICAgICAgICAgICAgIGxldCB3aG9sZSA9ICR7dH0oeFJlc2l6ZWQgKiAobGVuZ3RoT3JpZ2luYWwgLSAxKSAvIChsZW5ndGhSZXNpemVkIC0gMSkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZnJhY3QgPVxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0fSh4UmVzaXplZCAqIChsZW5ndGhPcmlnaW5hbCAtIDEpICUgKGxlbmd0aFJlc2l6ZWQgLSAxKSkgLyAke3R9KGxlbmd0aFJlc2l6ZWQgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdob2xlICsgZnJhY3Q7XG4gICAgICAgICAgICAgICAgICB9YDtjYXNlInRmX2Nyb3BfYW5kX3Jlc2l6ZSI6cmV0dXJuYGlmIChsZW5ndGhSZXNpemVkID4gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHt0fShyb2lTdGFydCkgKiAke3R9KGxlbmd0aE9yaWdpbmFsIC0gMSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKCR7dH0oeFJlc2l6ZWQpICogJHt0fShyb2lFbmQgLSByb2lTdGFydCkgKiAke3R9KGxlbmd0aE9yaWdpbmFsIC0gMSkpIC9cbiAgICAgICAgICAgICAgICAgICAgICAgICR7dH0obGVuZ3RoUmVzaXplZCAtIDEpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDAuNSAqICR7dH0ocm9pU3RhcnQgKyByb2lFbmQpICogJHt0fShsZW5ndGhPcmlnaW5hbCAtIDEpO1xuICAgICAgICAgICAgICAgICAgfWA7Y2FzZSJoYWxmX3BpeGVsX3N5bW1ldHJpYyI6cmV0dXJuYGNvbnN0IG91dHB1dFdpZHRoID0gJHt0fXhTY2FsZSAqICR7dH0obGVuZ3RoUmVzaXplZCk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBhZGp1c3RtZW50ID0gJHt0fShsZW5ndGhSZXNpemVkKSAvIG91dHB1dFdpZHRoO1xuICAgICAgICAgICAgICAgICAgY29uc3QgY2VudGVyID0gJHt0fShsZW5ndGhPcmlnaW5hbCkgLyAyO1xuICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gY2VudGVyICogKDEgLSBhZGp1c3RtZW50KTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBvZmZzZXQgKyAoKCR7dH0oeFJlc2l6ZWQpICsgMC41KSAvICR7dH0oeFNjYWxlKSkgLSAwLjU7YDtjYXNlImhhbGZfcGl4ZWwiOnJldHVybmByZXR1cm4gKCgke3R9KHhSZXNpemVkKSArIDAuNSkgLyAke3R9KHhTY2FsZSkpIC0gMC41O2A7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYENvb3JkaW5hdGUgdHJhbnNmb3JtIG1vZGUgJHtlfSBpcyBub3Qgc3VwcG9ydGVkYCl9fSkoKSsifSIsc2M9KGUsdCxyKT0+YGZuIGdldE5lYXJlc3RQaXhlbEZyb21PcmlnaW5hbCh4T3JpZ2luYWw6ICR7cn0sIGlzRG93blNhbXBsZTogYm9vbCkgLT4gJHtyfSB7YCsoKCk9Pntzd2l0Y2goZSl7Y2FzZSJyb3VuZF9wcmVmZXJfY2VpbCI6cmV0dXJuImlmIChmcmFjdCh4T3JpZ2luYWwpID09IDAuNSkgeyAgICAgICAgICAgICByZXR1cm4gY2VpbCh4T3JpZ2luYWwpOyAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgcmV0dXJuIHJvdW5kKHhPcmlnaW5hbCk7ICAgICAgICAgICB9IjtjYXNlImZsb29yIjpyZXR1cm4icmV0dXJuIGZsb29yKHhPcmlnaW5hbCk7IjtjYXNlImNlaWwiOnJldHVybiJyZXR1cm4gY2VpbCh4T3JpZ2luYWwpOyI7Y2FzZSJyb3VuZF9wcmVmZXJfZmxvb3IiOnJldHVybiJpZiAoZnJhY3QoeE9yaWdpbmFsKSA9PSAwLjUpIHsgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmxvb3IoeE9yaWdpbmFsKTsgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm91bmQoeE9yaWdpbmFsKTsgICAgICAgICAgICAgICAgICAgfSI7Y2FzZSJzaW1wbGUiOmRlZmF1bHQ6aWYodDwxMSlyZXR1cm4iaWYgKGlzRG93blNhbXBsZSkgICAgICAgICAgICAgICAgICAgICB7ICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2VpbCh4T3JpZ2luYWwpOyAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geE9yaWdpbmFsOyAgICAgICAgICAgICAgICAgICAgIH0iO3Rocm93IG5ldyBFcnJvcihgTmVhcmVzdCBtb2RlICR7ZX0gaXMgbm90IHN1cHBvcnRlZGApfX0pKCkrIn0iLHVjPShlLHQscik9PntsZXQgbz1uZXcgQXJyYXkocikuZmlsbCgwKS5jb25jYXQobmV3IEFycmF5KHIpLmZpbGwoMSkpLG49ZS5sZW5ndGg9PT0wP286ZS5zbGljZSgpO3JldHVybiB0Lmxlbmd0aD4wPyh0LmZvckVhY2goKHMsdSk9PntvW3NdPW5bdV0sb1t1K3JdPW5bdC5sZW5ndGgrdV19KSxvKTpufSxkYz0oZSx0LHIsbyk9PntsZXQgbj1bXTtpZihyLmxlbmd0aD4wKWlmKG8ubGVuZ3RoPjApe2lmKGUuZm9yRWFjaChzPT5uLnB1c2gocykpLE1hdGgubWF4KC4uLm8pPmUubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiYXhlcyBpcyBvdXQgb2YgYm91bmQiKTtvLmZvckVhY2goKHMsdSk9Pm5bc109clt1XSl9ZWxzZSByLmZvckVhY2gocz0+bi5wdXNoKHMpKTtlbHNle2lmKHQubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoIlJlc2l6ZSByZXF1aXJlcyBlaXRoZXIgc2NhbGVzIG9yIHNpemVzLiIpO249ZS5tYXAoKHMsdSk9Pk1hdGgucm91bmQocyp0W3VdKSl9cmV0dXJuIG59LGxjPShlLHQscik9PntsZXQgbz0oKCk9Pntzd2l0Y2goci5rZWVwQXNwZWN0UmF0aW9Qb2xpY3kpe2Nhc2Uibm90X2xhcmdlciI6cmV0dXJuIHIuYXhlcy5sZW5ndGg+MD9NYXRoLm1pbiguLi5yLmF4ZXMubWFwKHM9PnRbc10pLE51bWJlci5NQVhfVkFMVUUpOk1hdGgubWluKC4uLnQsTnVtYmVyLk1BWF9WQUxVRSk7Y2FzZSJub3Rfc21hbGxlciI6cmV0dXJuIHIuYXhlcy5sZW5ndGg+MD9NYXRoLm1heCguLi5yLmF4ZXMubWFwKHM9PnRbc10pLE51bWJlci5NSU5fVkFMVUUpOk1hdGgubWF4KC4uLnQsTnVtYmVyLk1JTl9WQUxVRSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYEtlZXAgYXNwZWN0IHJhdGlvIHBvbGljeSAke3Iua2VlcEFzcGVjdFJhdGlvUG9saWN5fSBpcyBub3Qgc3VwcG9ydGVkYCl9fSkoKTt0LmZpbGwoMSwwLHQubGVuZ3RoKTtsZXQgbj1lLnNsaWNlKCk7cmV0dXJuIHIuYXhlcy5sZW5ndGg+MD8oci5heGVzLmZvckVhY2gocz0+dFtzXT1vKSxyLmF4ZXMuZm9yRWFjaChzPT5uW3NdPU1hdGgucm91bmQoZVtzXSp0W3NdKSkpOih0LmZpbGwobywwLHQubGVuZ3RoKSxuLmZvckVhY2goKHMsdSk9Pm5bdV09TWF0aC5yb3VuZChzKnRbdV0pKSksbn0sY2M9KGUsdCxyLG8sbik9PmBcbiAgICBmbiBjYWxjdWxhdGVPcmlnaW5hbEluZGljZXNGcm9tT3V0cHV0SW5kaWNlcyhvdXRwdXRfaW5kaWNlczogJHtlLnR5cGUuaW5kaWNlc30pIC0+IGFycmF5PCR7ZS50eXBlLnZhbHVlfSwgJHtyLmxlbmd0aH0+IHtcbiAgICAgIHZhciBvcmlnaW5hbF9pbmRpY2VzOiBhcnJheTwke2UudHlwZS52YWx1ZX0sICR7ci5sZW5ndGh9PjtcbiAgICAgIGZvciAodmFyIGk6dTMyID0gMDsgaSA8ICR7ci5sZW5ndGh9OyBpKyspIHtcbiAgICAgICAgdmFyIG91dHB1dF9pbmRleCA9ICR7ZS5pbmRpY2VzR2V0KCJvdXRwdXRfaW5kaWNlcyIsImkiKX07XG4gICAgICAgIHZhciBzY2FsZSA9ICR7Y2UoInVuaWZvcm1zLnNjYWxlcyIsImkiLG8pfTtcbiAgICAgICAgdmFyIHJvaV9sb3cgPSAke2NlKCJ1bmlmb3Jtcy5yb2kiLCJpIixuKX07XG4gICAgICAgIHZhciByb2lfaGkgPSAke2NlKCJ1bmlmb3Jtcy5yb2kiLGBpICsgJHt0Lmxlbmd0aH1gLG4pfTtcbiAgICAgICAgaWYgKHNjYWxlID09IDEuMCkge1xuICAgICAgICAgIG9yaWdpbmFsX2luZGljZXNbaV0gPSAke2UudHlwZS52YWx1ZX0ob3V0cHV0X2luZGV4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaW5wdXRfc2hhcGVfaSA9ICR7Y2UoInVuaWZvcm1zLmlucHV0X3NoYXBlIiwiaSIsdC5sZW5ndGgpfTtcbiAgICAgICAgICB2YXIgb3V0cHV0X3NoYXBlX2kgPSAke2NlKCJ1bmlmb3Jtcy5vdXRwdXRfc2hhcGUiLCJpIixyLmxlbmd0aCl9O1xuICAgICAgICAgIG9yaWdpbmFsX2luZGljZXNbaV0gPSBnZXRPcmlnaW5hbENvb3JkaW5hdGVGcm9tUmVzaXplZENvb3JkaW5hdGUob3V0cHV0X2luZGV4LCBzY2FsZSwgb3V0cHV0X3NoYXBlX2ksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dF9zaGFwZV9pLCByb2lfbG93LCByb2lfaGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JpZ2luYWxfaW5kaWNlcztcbiAgICB9YCxwYz0oZSx0LHIsbyxuLHMsdSk9PmBcbiAgICBmbiBjYWxjdWxhdGVJbnB1dEluZGljZXNGcm9tT3V0cHV0SW5kaWNlcyhvdXRwdXRfaW5kaWNlczogJHt0LnR5cGUuaW5kaWNlc30pIC0+ICR7ZS50eXBlLmluZGljZXN9IHtcbiAgICAgIHZhciBpbnB1dF9pbmRpY2VzOiAke2UudHlwZS5pbmRpY2VzfTtcbiAgICAgIGZvciAodmFyIGk6dTMyID0gMDsgaSA8ICR7by5sZW5ndGh9OyBpKyspIHtcbiAgICAgICAgdmFyIG91dHB1dF9pbmRleCA9ICR7dC5pbmRpY2VzR2V0KCJvdXRwdXRfaW5kaWNlcyIsImkiKX07XG4gICAgICAgIHZhciBpbnB1dF9pbmRleDogdTMyO1xuICAgICAgICB2YXIgc2NhbGUgPSAke2NlKCJ1bmlmb3Jtcy5zY2FsZXMiLCJpIixuKX07XG4gICAgICAgIGlmIChzY2FsZSA9PSAxLjApIHtcbiAgICAgICAgICBpbnB1dF9pbmRleCA9IG91dHB1dF9pbmRleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcm9pX2xvdyA9ICR7Y2UoInVuaWZvcm1zLnJvaSIsImkiLHMpfTtcbiAgICAgICAgICB2YXIgcm9pX2hpID0gJHtjZSgidW5pZm9ybXMucm9pIixgaSArICR7ci5sZW5ndGh9YCxzKX07XG4gICAgICAgICAgdmFyIGlucHV0X3NoYXBlX2kgPSAke2NlKCJ1bmlmb3Jtcy5pbnB1dF9zaGFwZSIsImkiLHIubGVuZ3RoKX07XG4gICAgICAgICAgdmFyIG91dHB1dF9zaGFwZV9pID0gJHtjZSgidW5pZm9ybXMub3V0cHV0X3NoYXBlIiwiaSIsby5sZW5ndGgpfTtcbiAgICAgICAgICB2YXIgb3JpZ2luYWxfaWR4ID0gZ2V0T3JpZ2luYWxDb29yZGluYXRlRnJvbVJlc2l6ZWRDb29yZGluYXRlKG91dHB1dF9pbmRleCwgc2NhbGUsIG91dHB1dF9zaGFwZV9pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRfc2hhcGVfaSwgcm9pX2xvdywgcm9pX2hpKTtcbiAgICAgICAgICBpZiAoISR7dX0gfHwgKG9yaWdpbmFsX2lkeCA+PSAwICYmIG9yaWdpbmFsX2lkeCA8ICR7dC50eXBlLnZhbHVlfShpbnB1dF9zaGFwZV9pKSkpIHtcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbF9pZHggPCAwKSB7XG4gICAgICAgICAgICAgIGlucHV0X2luZGV4ID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3JpZ2luYWxfaWR4ID4gJHt0LnR5cGUudmFsdWV9KGlucHV0X3NoYXBlX2kgLSAxKSkge1xuICAgICAgICAgICAgICBpbnB1dF9pbmRleCA9IGlucHV0X3NoYXBlX2kgLSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaW5wdXRfaW5kZXggPSB1MzIoZ2V0TmVhcmVzdFBpeGVsRnJvbU9yaWdpbmFsKG9yaWdpbmFsX2lkeCwgc2NhbGUgPCAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0X2luZGV4ID0gdTMyKG9yaWdpbmFsX2lkeCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICR7ZS5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIiwiaSIsIiBpbnB1dF9pbmRleCIpfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlucHV0X2luZGljZXM7XG4gICAgfWAsbWM9KGUsdCk9PmBcbiAgICBmbiBjaGVja0lucHV0SW5kaWNlcyhpbnB1dF9pbmRpY2VzOiAke2UudHlwZS5pbmRpY2VzfSkgLT4gYm9vbCB7XG4gICAgICBmb3IgKHZhciBpOnUzMiA9IDA7IGkgPCAke3QubGVuZ3RofTsgaSsrKSB7XG4gICAgICAgIHZhciBpbnB1dF9pbmRleCA9ICR7ZS5pbmRpY2VzR2V0KCJpbnB1dF9pbmRpY2VzIiwiaSIpfTtcbiAgICAgICAgaWYgKGlucHV0X2luZGV4IDwgMCB8fCBpbnB1dF9pbmRleCA+PSAke2NlKCJ1bmlmb3Jtcy5pbnB1dF9zaGFwZSIsImkiLHQubGVuZ3RoKX0pIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1gLFlzPShlLHQscixvKT0+ZS5yYW5rPm8/YFxuICAgICR7ZS5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIix0LCJjaGFubmVsIil9O1xuICAgICR7ZS5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIixyLCJiYXRjaCIpfTtcbmA6IiIsZmM9KGUsdCxyLG8sbik9PntsZXRbdSxsLGEscF09ci5sZW5ndGg9PT0yP1stMSwwLDEsLTFdOlswLDIsMywxXSxoPWUudHlwZS52YWx1ZTtyZXR1cm5gXG4gICAgZm4gZ2V0SW5wdXRWYWx1ZShiYXRjaDogdTMyLCBjaGFubmVsOiB1MzIsIHJvdzogdTMyLCBjb2w6IHUzMikgLT4gJHtofSB7XG4gICAgICB2YXIgaW5wdXRfaW5kaWNlczogJHtlLnR5cGUuaW5kaWNlc307XG4gICAgICAke2UuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIsbCxgbWF4KDAsIG1pbihyb3csICR7cltsXX0gLSAxKSlgKX07XG4gICAgICAke2UuaW5kaWNlc1NldCgiaW5wdXRfaW5kaWNlcyIsYSxgbWF4KDAsIG1pbihjb2wsICR7clthXX0gLSAxKSlgKX07XG4gICAgICAke1lzKGUscCx1LDIpfVxuICAgICAgcmV0dXJuICR7ZS5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07XG4gICAgfVxuXG4gICAgZm4gYmlsaW5lYXJJbnRlcnBvbGF0aW9uKG91dHB1dF9pbmRpY2VzOiAke3QudHlwZS5pbmRpY2VzfSkgLT4gJHtofSB7XG4gICAgICB2YXIgb3JpZ2luYWxJbmRpY2VzID0gY2FsY3VsYXRlT3JpZ2luYWxJbmRpY2VzRnJvbU91dHB1dEluZGljZXMob3V0cHV0X2luZGljZXMpO1xuICAgICAgdmFyIHJvdzoke2h9ID0gb3JpZ2luYWxJbmRpY2VzWyR7bH1dO1xuICAgICAgdmFyIGNvbDoke2h9ID0gb3JpZ2luYWxJbmRpY2VzWyR7YX1dO1xuICAgICAgJHtvP2BpZiAocm93IDwgMCB8fCByb3cgPiAoJHtyW2xdfSAtIDEpIHx8IGNvbCA8IDAgfHwgY29sID4gKCR7clthXX0gLSAxKSkge1xuICAgICAgICByZXR1cm4gJHtufTtcbiAgICAgIH1gOiIifTtcbiAgICAgIHJvdyA9IG1heCgwLCBtaW4ocm93LCAke3JbbF19IC0gMSkpO1xuICAgICAgY29sID0gbWF4KDAsIG1pbihjb2wsICR7clthXX0gLSAxKSk7XG4gICAgICB2YXIgcm93MTogdTMyID0gdTMyKHJvdyk7XG4gICAgICB2YXIgY29sMTogdTMyID0gdTMyKGNvbCk7XG4gICAgICB2YXIgcm93MjogdTMyID0gdTMyKHJvdyArIDEpO1xuICAgICAgdmFyIGNvbDI6IHUzMiA9IHUzMihjb2wgKyAxKTtcbiAgICAgIHZhciBjaGFubmVsOiB1MzIgPSAke3IubGVuZ3RoPjI/YHUzMihvcmlnaW5hbEluZGljZXNbJHtwfV0pYDoiMCJ9O1xuICAgICAgdmFyIGJhdGNoOiB1MzIgPSAgJHtyLmxlbmd0aD4yP2B1MzIob3JpZ2luYWxJbmRpY2VzWyR7dX1dKWA6IjAifTtcbiAgICAgIHZhciB4MTE6ICR7aH0gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCByb3cxLCBjb2wxKTtcbiAgICAgIHZhciB4MTI6ICR7aH0gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCByb3cxLCBjb2wyKTtcbiAgICAgIHZhciB4MjE6ICR7aH0gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCByb3cyLCBjb2wxKTtcbiAgICAgIHZhciB4MjI6ICR7aH0gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCByb3cyLCBjb2wyKTtcbiAgICAgIHZhciBkeDE6ICR7aH0gPSBhYnMocm93IC0gJHtofShyb3cxKSk7XG4gICAgICB2YXIgZHgyOiAke2h9ID0gYWJzKCR7aH0ocm93MikgLSByb3cpO1xuICAgICAgdmFyIGR5MTogJHtofSA9IGFicyhjb2wgLSAke2h9KGNvbDEpKTtcbiAgICAgIHZhciBkeTI6ICR7aH0gPSBhYnMoJHtofShjb2wyKSAtIGNvbCk7XG4gICAgICBpZiAocm93MSA9PSByb3cyKSB7XG4gICAgICAgIGR4MSA9IDAuNTtcbiAgICAgICAgZHgyID0gMC41O1xuICAgICAgfVxuICAgICAgaWYgKGNvbDEgPT0gY29sMikge1xuICAgICAgICBkeTEgPSAwLjU7XG4gICAgICAgIGR5MiA9IDAuNTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoeDExICogZHgyICogZHkyICsgeDEyICogZHgyICogZHkxICsgeDIxICogZHgxICogZHkyICsgeDIyICogZHgxICogZHkxKTtcbiAgICB9YH0saGM9KGUsdCxyLG8sbixzLHUsbCxhLHApPT57bGV0IGg9ci5sZW5ndGg9PT0yLGc9ITAsW2Isd109aD9bMCwxXTpnP1syLDNdOlsxLDJdLHk9ZS50eXBlLnZhbHVlLF89ST0+e2xldCAkPUk9PT1iPyJyb3ciOiJjb2wiO3JldHVybmBcbiAgICAgIGZuICR7JH1DdWJpY0ludGVycG9sYXRpb24oaW5wdXRfaW5kaWNlczogJHtlLnR5cGUuaW5kaWNlc30sIG91dHB1dF9pbmRpY2VzOiAke3QudHlwZS5pbmRpY2VzfSkgLT4gJHt5fSB7XG4gICAgICAgIHZhciBvdXRwdXRfaW5kZXggPSAke3QuaW5kaWNlc0dldCgib3V0cHV0X2luZGljZXMiLEkpfTtcbiAgICAgICAgdmFyIG9yaWdpbmFsSWR4OiAke3l9ID0gZ2V0T3JpZ2luYWxDb29yZGluYXRlRnJvbVJlc2l6ZWRDb29yZGluYXRlKG91dHB1dF9pbmRleCwgJHtuW0ldfSxcbiAgICAgICAgJHtvW0ldfSwgJHtyW0ldfSwgJHtzW0ldfSwgJHtzW0ldfSArICR7ci5sZW5ndGh9KTtcbiAgICAgICAgdmFyIGZyYWN0T3JpZ2luYWxJZHg6ICR7eX0gPSBvcmlnaW5hbElkeCAtIGZsb29yKG9yaWdpbmFsSWR4KTtcbiAgICAgICAgdmFyIGNvZWZzID0gZ2V0Q3ViaWNJbnRlcnBvbGF0aW9uQ29lZnMoZnJhY3RPcmlnaW5hbElkeCk7XG5cbiAgICAgICAgaWYgKCR7bH0gJiYgKG9yaWdpbmFsSWR4IDwgMCB8fCBvcmlnaW5hbElkeCA+ICgke3JbSV19IC0gMSkpKSB7XG4gICAgICAgICAgcmV0dXJuICR7YX07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGE6IGFycmF5PCR7eX0sIDQ+ID0gYXJyYXk8JHt5fSwgND4oMC4wLCAwLjAsIDAuMCwgMC4wKTtcbiAgICAgICAgZm9yICh2YXIgaTogaTMyID0gLTE7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICB2YXIgJHskfTogJHt5fSA9IG9yaWdpbmFsSWR4ICsgJHt5fShpKTtcbiAgICAgICAgICBpZiAoJHskfSA8IDAgfHwgJHskfSA+PSAke3JbSV19KSB7XG4gICAgICAgICAgICAkeygoKT0+cD9gY29lZnNbaSArIDFdID0gMC4wO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7YDpsP2ByZXR1cm4gJHthfTtgOmAkeyR9ID0gbWF4KDAsIG1pbigkeyR9LCAke3JbSV19IC0gMSkpO2ApKCl9O1xuICAgICAgICAgIH1cbiAgICAgICAgdmFyIGlucHV0X2luZGljZXNfY29weTogJHtlLnR5cGUuaW5kaWNlc30gPSBpbnB1dF9pbmRpY2VzO1xuICAgICAgICAgICR7ZS5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzX2NvcHkiLEksYHUzMigkeyR9KWApfTtcbiAgICAgICAgICBkYXRhW2kgKyAxXSA9ICR7ST09PWI/ZS5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXNfY29weSIpOiJyb3dDdWJpY0ludGVycG9sYXRpb24oaW5wdXRfaW5kaWNlc19jb3B5LCBvdXRwdXRfaW5kaWNlcykifTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3ViaWNJbnRlcnBvbGF0aW9uMUQoZGF0YSwgY29lZnMpO1xuICAgICAgfWB9O3JldHVybmBcbiAgICAke18oYil9O1xuICAgICR7Xyh3KX07XG4gIGZuIGdldEN1YmljSW50ZXJwb2xhdGlvbkNvZWZzKHM6ICR7eX0pIC0+IGFycmF5PCR7eX0sIDQ+IHtcbiAgICB2YXIgYWJzUyA9IGFicyhzKTtcbiAgICB2YXIgY29lZmZzOiBhcnJheTwke3l9LCA0PiA9IGFycmF5PCR7eX0sIDQ+KDAuMCwgMC4wLCAwLjAsIDAuMCk7XG4gICAgdmFyIG9uZU1pbnVzQWJzUzogJHt5fSA9IDEuMCAtIGFic1M7XG4gICAgdmFyIHR3b01pbnVzQWJzUzogJHt5fSA9IDIuMCAtIGFic1M7XG4gICAgdmFyIG9uZVBsdXNBYnNTOiAke3l9ID0gMS4wICsgYWJzUztcbiAgICBjb2VmZnNbMF0gPSAoKCR7dX0gKiBvbmVQbHVzQWJzUyAtIDUgKiAke3V9KSAqIG9uZVBsdXNBYnNTICsgOCAqICR7dX0pICogb25lUGx1c0Fic1MgLSA0ICogJHt1fTtcbiAgICBjb2VmZnNbMV0gPSAoKCR7dX0gKyAyKSAqIGFic1MgLSAoJHt1fSArIDMpKSAqIGFic1MgKiBhYnNTICsgMTtcbiAgICBjb2VmZnNbMl0gPSAoKCR7dX0gKyAyKSAqIG9uZU1pbnVzQWJzUyAtICgke3V9ICsgMykpICogb25lTWludXNBYnNTICogb25lTWludXNBYnNTICsgMTtcbiAgICBjb2VmZnNbM10gPSAoKCR7dX0gKiB0d29NaW51c0Fic1MgLSA1ICogJHt1fSkgKiB0d29NaW51c0Fic1MgKyA4ICogJHt1fSkgKiB0d29NaW51c0Fic1MgLSA0ICogJHt1fTtcbiAgICByZXR1cm4gY29lZmZzO1xuICB9XG5cbiAgZm4gY3ViaWNJbnRlcnBvbGF0aW9uMUQoeDogYXJyYXk8JHt5fSwgND4sIGNvZWZzOiBhcnJheTwke3l9LCA0PikgLT4gJHt5fSB7XG4gICAgdmFyIGNvZWZzU3VtOiAke3l9ID0gY29lZnNbMF0gKyBjb2Vmc1sxXSArIGNvZWZzWzJdICsgY29lZnNbM107XG4gICAgcmV0dXJuICh4WzBdICogY29lZnNbMF0gKyB4WzFdICogY29lZnNbMV0rIHhbMl0gKiBjb2Vmc1syXSsgeFszXSAqIGNvZWZzWzNdKSAvIGNvZWZzU3VtO1xuICB9XG5cbiAgZm4gYmljdWJpY0ludGVycG9sYXRpb24ob3V0cHV0X2luZGljZXM6ICR7dC50eXBlLmluZGljZXN9KSAtPiAke3l9IHtcbiAgICB2YXIgaW5wdXRfaW5kaWNlczogJHtlLnR5cGUuaW5kaWNlc30gPSBvdXRwdXRfaW5kaWNlcztcbiAgICByZXR1cm4gY29sQ3ViaWNJbnRlcnBvbGF0aW9uKGlucHV0X2luZGljZXMsIG91dHB1dF9pbmRpY2VzKTtcbiAgfVxuICAgIGB9LGdjPShlLHQscixvLG4pPT57bGV0W3UsbCxhLHAsaF09ci5sZW5ndGg9PT0zP1stMSwwLDEsMiwtMV06WzAsMiwzLDQsMV0sZz1lLnR5cGUudmFsdWU7cmV0dXJuYFxuICAgIGZuIGdldElucHV0VmFsdWUoYmF0Y2g6IHUzMiwgY2hhbm5lbDogdTMyLCBkZXB0aDp1MzIsIGhlaWdodDogdTMyLCB3aWR0aDogdTMyKSAtPiAke2d9IHtcbiAgICAgIHZhciBpbnB1dF9pbmRpY2VzOiAke2UudHlwZS5pbmRpY2VzfTtcbiAgICAgICR7ZS5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIixsLGBtYXgoMCwgbWluKGRlcHRoLCAke3JbbF19IC0gMSkpYCl9O1xuICAgICAgJHtlLmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLGEsYG1heCgwLCBtaW4oaGVpZ2h0LCAke3JbYV19IC0gMSkpYCl9O1xuICAgICAgJHtlLmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLHAsYG1heCgwLCBtaW4od2lkdGgsICR7cltwXX0gLSAxKSlgKX07XG4gICAgICAke1lzKGUsaCx1LDMpfVxuICAgICAgcmV0dXJuICR7ZS5nZXRCeUluZGljZXMoImlucHV0X2luZGljZXMiKX07XG4gICAgfVxuXG4gICAgZm4gdHJpbGluZWFySW50ZXJwb2xhdGlvbihvdXRwdXRfaW5kaWNlczogJHt0LnR5cGUuaW5kaWNlc30pIC0+ICR7Z30ge1xuICAgICAgdmFyIG9yaWdpbmFsSW5kaWNlcyA9IGNhbGN1bGF0ZU9yaWdpbmFsSW5kaWNlc0Zyb21PdXRwdXRJbmRpY2VzKG91dHB1dF9pbmRpY2VzKTtcbiAgICAgIHZhciBkZXB0aDoke2d9ID0gb3JpZ2luYWxJbmRpY2VzWyR7bH1dO1xuICAgICAgdmFyIGhlaWdodDoke2d9ID0gb3JpZ2luYWxJbmRpY2VzWyR7YX1dO1xuICAgICAgdmFyIHdpZHRoOiR7Z30gPSBvcmlnaW5hbEluZGljZXNbJHtwfV07XG4gICAgICAke28/YGlmIChkZXB0aCA8IDAgfHwgZGVwdGggPiAoJHtyW2xdfSAtIDEpIHx8IGhlaWdodCA8IDAgfHwgaGVpZ2h0ID4gKCR7clthXX0gLSAxKSB8fCB3aWR0aCA8IDAgfHwgKHdpZHRoID4gJHtyW3BdfSAtIDEpKSB7XG4gICAgICByZXR1cm4gJHtufTtcbiAgICAgICAgfWA6IiJ9O1xuXG4gICAgZGVwdGggPSBtYXgoMCwgbWluKGRlcHRoLCAke3JbbF19IC0gMSkpO1xuICAgICAgaGVpZ2h0ID0gbWF4KDAsIG1pbihoZWlnaHQsICR7clthXX0gLSAxKSk7XG4gICAgICB3aWR0aCA9IG1heCgwLCBtaW4od2lkdGgsICR7cltwXX0gLSAxKSk7XG4gICAgICB2YXIgZGVwdGgxOiB1MzIgPSB1MzIoZGVwdGgpO1xuICAgICAgdmFyIGhlaWdodDE6IHUzMiA9IHUzMihoZWlnaHQpO1xuICAgICAgdmFyIHdpZHRoMTogdTMyID0gdTMyKHdpZHRoKTtcbiAgICAgIHZhciBkZXB0aDI6IHUzMiA9IHUzMihkZXB0aCArIDEpO1xuICAgICAgdmFyIGhlaWdodDI6IHUzMiA9IHUzMihoZWlnaHQgKyAxKTtcbiAgICAgIHZhciB3aWR0aDI6IHUzMiA9IHUzMih3aWR0aCArIDEpO1xuICAgICAgdmFyIGNoYW5uZWw6IHUzMiA9ICR7ci5sZW5ndGg+Mz9gdTMyKG9yaWdpbmFsSW5kaWNlc1ske2h9XSlgOiIwIn07XG4gICAgICB2YXIgYmF0Y2g6IHUzMiA9ICAke3IubGVuZ3RoPjM/YHUzMihvcmlnaW5hbEluZGljZXNbJHt1fV0pYDoiMCJ9O1xuXG4gICAgICB2YXIgeDExMTogJHtnfSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIGRlcHRoMSwgaGVpZ2h0MSwgd2lkdGgxKTtcbiAgICAgIHZhciB4MTEyOiAke2d9ID0gZ2V0SW5wdXRWYWx1ZShiYXRjaCwgY2hhbm5lbCwgZGVwdGgxLCBoZWlnaHQxLCB3aWR0aDIpO1xuICAgICAgdmFyIHgxMjE6ICR7Z30gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCBkZXB0aDEsIGhlaWdodDIsIHdpZHRoMSk7XG4gICAgICB2YXIgeDEyMjogJHtnfSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIGRlcHRoMSwgaGVpZ2h0Miwgd2lkdGgyKTtcbiAgICAgIHZhciB4MjExOiAke2d9ID0gZ2V0SW5wdXRWYWx1ZShiYXRjaCwgY2hhbm5lbCwgZGVwdGgyLCBoZWlnaHQxLCB3aWR0aDEpO1xuICAgICAgdmFyIHgyMTI6ICR7Z30gPSBnZXRJbnB1dFZhbHVlKGJhdGNoLCBjaGFubmVsLCBkZXB0aDIsIGhlaWdodDEsIHdpZHRoMik7XG4gICAgICB2YXIgeDIyMTogJHtnfSA9IGdldElucHV0VmFsdWUoYmF0Y2gsIGNoYW5uZWwsIGRlcHRoMiwgaGVpZ2h0Miwgd2lkdGgxKTtcbiAgICAgIHZhciB4MjIyOiAke2d9ID0gZ2V0SW5wdXRWYWx1ZShiYXRjaCwgY2hhbm5lbCwgZGVwdGgyLCBoZWlnaHQyLCB3aWR0aDIpO1xuICAgICAgdmFyIGR4MTogJHtnfSA9IGFicyhkZXB0aCAtICR7Z30oZGVwdGgxKSk7XG4gICAgICB2YXIgZHgyOiAke2d9ID0gYWJzKCR7Z30oZGVwdGgyKSAtIGRlcHRoKTtcbiAgICAgIHZhciBkeTE6ICR7Z30gPSBhYnMoaGVpZ2h0IC0gJHtnfShoZWlnaHQxKSk7XG4gICAgICB2YXIgZHkyOiAke2d9ID0gYWJzKCR7Z30oaGVpZ2h0MikgLSBoZWlnaHQpO1xuICAgICAgdmFyIGR6MTogJHtnfSA9IGFicyh3aWR0aCAtICR7Z30od2lkdGgxKSk7XG4gICAgICB2YXIgZHoyOiAke2d9ID0gYWJzKCR7Z30od2lkdGgyKSAtIHdpZHRoKTtcbiAgICAgIGlmIChkZXB0aDEgPT0gZGVwdGgyKSB7XG4gICAgICAgIGR4MSA9IDAuNTtcbiAgICAgICAgZHgyID0gMC41O1xuICAgICAgfVxuICAgICAgaWYgKGhlaWdodDEgPT0gaGVpZ2h0Mikge1xuICAgICAgICBkeTEgPSAwLjU7XG4gICAgICAgIGR5MiA9IDAuNTtcbiAgICAgIH1cbiAgICAgIGlmICh3aWR0aDEgPT0gd2lkdGgyKSB7XG4gICAgICAgIGR6MSA9IDAuNTtcbiAgICAgICAgZHoyID0gMC41O1xuICAgICAgfVxuICAgICAgcmV0dXJuICh4MTExICogZHgyICogZHkyICogZHoyICsgeDExMiAqIGR4MiAqIGR5MiAqIGR6MSArIHgxMjEgKiBkeDIgKiBkeTEgKmR6MiArIHgxMjIgKiBkeDIgKiBkeTEgKiBkejEgK1xuICAgICAgICAgICAgICB4MjExICogZHgxICogZHkyICogZHoyICsgeDIxMiAqIGR4MSAqIGR5MiAqIGR6MSArIHgyMjEgKiBkeDEgKiBkeTEgKmR6MiArIHgyMjIgKiBkeDEgKiBkeTEgKiBkejEpO1xuICAgIH1gfSx5Yz0oZSx0LHIsbyxuLHMpPT57bGV0IHU9ZS5kaW1zLGw9dWMocyx0LmF4ZXMsdS5sZW5ndGgpLGE9ZGModSxvLG4sdC5heGVzKSxwPW8uc2xpY2UoKTtvLmxlbmd0aD09PTAmJihwPXUubWFwKCh4LEUpPT54PT09MD8xOmFbRV0veCksdC5rZWVwQXNwZWN0UmF0aW9Qb2xpY3khPT0ic3RyZXRjaCImJihhPWxjKHUscCx0KSkpO2xldCBoPUYoIm91dHB1dCIsZS5kYXRhVHlwZSxhLmxlbmd0aCksZz1NKCJpbnB1dCIsZS5kYXRhVHlwZSx1Lmxlbmd0aCksYj1VLnNpemUoYSksdz11Lmxlbmd0aD09PWEubGVuZ3RoJiZ1LmV2ZXJ5KCh4LEUpPT54PT09YVtFXSkseT10LmNvb3JkaW5hdGVUcmFuc2Zvcm1Nb2RlPT09InRmX2Nyb3BfYW5kX3Jlc2l6ZSIsXz10LmV4dHJhcG9sYXRpb25WYWx1ZSxJPWcudHlwZS52YWx1ZSwkPXg9PmBcbiAgICAgICR7dz8iIjpgXG4gICAgICAke2ljKHQuY29vcmRpbmF0ZVRyYW5zZm9ybU1vZGUsSSl9O1xuICAgICAgJHsoKCk9Pntzd2l0Y2godC5tb2RlKXtjYXNlIm5lYXJlc3QiOnJldHVybmBcbiAgICAgICAgICAgICAgJHttYyhnLHUpfTtcbiAgICAgICAgICAgICAgJHtzYyh0Lm5lYXJlc3RNb2RlLHIsSSl9O1xuICAgICAgICAgICAgICAke3BjKGcsaCx1LGEscC5sZW5ndGgsbC5sZW5ndGgseSl9O1xuICAgICAgICAgICAgICBgO2Nhc2UibGluZWFyIjpyZXR1cm5gXG4gICAgICAgICAgICAgICR7Y2MoaCx1LGEscC5sZW5ndGgsbC5sZW5ndGgpfTtcbiAgICAgICAgICAgICAgJHsoKCk9PntpZih1Lmxlbmd0aD09PTJ8fHUubGVuZ3RoPT09NClyZXR1cm5gJHtmYyhnLGgsdSx5LF8pfWA7aWYodS5sZW5ndGg9PT0zfHx1Lmxlbmd0aD09PTUpcmV0dXJuYCR7Z2MoZyxoLHUseSxfKX1gO3Rocm93IEVycm9yKCJMaW5lYXIgbW9kZSBvbmx5IHN1cHBvcnRzIGlucHV0IGRpbXMgMiwgMywgNCBhbmQgNSBhcmUgc3VwcG9ydGVkIGluIGxpbmVhciBtb2RlLiIpfSkoKX07XG4gICAgICAgICAgICBgO2Nhc2UiY3ViaWMiOnJldHVybmBcbiAgICAgICAgICAgICR7KCgpPT57aWYodS5sZW5ndGg9PT0yfHx1Lmxlbmd0aD09PTQpcmV0dXJuYCR7aGMoZyxoLHUsYSxwLGwsdC5jdWJpY0NvZWZmQSx5LHQuZXh0cmFwb2xhdGlvblZhbHVlLHQuZXhjbHVkZU91dHNpZGUpfWA7dGhyb3cgRXJyb3IoIkN1YmljIG1vZGUgb25seSBzdXBwb3J0cyBpbnB1dCBkaW1zIDIgYW5kIDQgYXJlIHN1cHBvcnRlZCBpbiBsaW5lYXIgbW9kZS4iKX0pKCl9O1xuICAgICAgICAgICAgYDtkZWZhdWx0OnRocm93IEVycm9yKCJJbnZhbGlkIHJlc2l6ZSBtb2RlIil9fSkoKX07XG4gICAgICBgfVxuICAgICAgJHt4LnJlZ2lzdGVyVW5pZm9ybSgib3V0cHV0X3NpemUiLCJ1MzIiKS5yZWdpc3RlclVuaWZvcm0oInNjYWxlcyIsImYzMiIscC5sZW5ndGgpLnJlZ2lzdGVyVW5pZm9ybSgicm9pIiwiZjMyIixsLmxlbmd0aCkuZGVjbGFyZVZhcmlhYmxlcyhnLGgpfVxuICAgICAgJHt4Lm1haW5TdGFydCgpfVxuICAgICAgICAke3guZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0X3NpemUiKX1cbiAgICAgICAgJHt3PyJvdXRwdXRbZ2xvYmFsX2lkeF0gPSBpbnB1dFtnbG9iYWxfaWR4XTsiOmBcbiAgICAgICAgbGV0IG91dHB1dF9pbmRpY2VzID0gJHtoLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcbiAgICAgICAgdmFyIGlucHV0X2luZGljZXM6ICR7Zy50eXBlLmluZGljZXN9O1xuICAgICAgICAkeygoKT0+e3N3aXRjaCh0Lm1vZGUpe2Nhc2UibmVhcmVzdCI6cmV0dXJuYGlucHV0X2luZGljZXMgPSBjYWxjdWxhdGVJbnB1dEluZGljZXNGcm9tT3V0cHV0SW5kaWNlcyhvdXRwdXRfaW5kaWNlcyk7XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrSW5wdXRJbmRpY2VzKGlucHV0X2luZGljZXMpKSB7XG4gICAgICAgICAgICAgICAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSAke2cuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIil9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvdXRwdXRbZ2xvYmFsX2lkeF0gPSAke3QuZXh0cmFwb2xhdGlvblZhbHVlfTtcbiAgICAgICAgICAgICAgICB9YDtjYXNlImxpbmVhciI6cmV0dXJuYG91dHB1dFtnbG9iYWxfaWR4XSA9ICR7dS5sZW5ndGg9PT0yfHx1Lmxlbmd0aD09PTQ/ImJpbGluZWFySW50ZXJwb2xhdGlvbiI6InRyaWxpbmVhckludGVycG9sYXRpb24ifShvdXRwdXRfaW5kaWNlcyk7YDtjYXNlImN1YmljIjpyZXR1cm4ib3V0cHV0W2dsb2JhbF9pZHhdID0gYmljdWJpY0ludGVycG9sYXRpb24ob3V0cHV0X2luZGljZXMpOyI7ZGVmYXVsdDp0aHJvdyBFcnJvcihgVW5zdXBwb3J0ZWQgcmVzaXplIG1vZGU6ICR7dC5tb2RlfWApfX0pKCl9O1xuYH1cbiAgICAgIH1gO3JldHVybntuYW1lOiJSZXNpemUiLHNoYWRlckNhY2hlOntoaW50OmAke3QuY2FjaGVLZXl9fCR7cn18JHtwLmxlbmd0aD4wP3A6IiJ9fCR7bi5sZW5ndGg+MD9uOiIifXwke2wubGVuZ3RoPjA/bDoiIn18JHt3fXwke3V9YCxpbnB1dERlcGVuZGVuY2llczpbInJhbmsiXX0sZ2V0U2hhZGVyU291cmNlOiQsZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczphLGRhdGFUeXBlOmUuZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChiLzY0KX0scHJvZ3JhbVVuaWZvcm1zOlt7dHlwZToidWludDMyIixkYXRhOmJ9LHt0eXBlOiJmbG9hdDMyIixkYXRhOnB9LHt0eXBlOiJmbG9hdDMyIixkYXRhOmx9LC4uLkwodSksLi4uTChhKV19KX19LGJjPWU9PntsZXQgdD1lLmN1c3RvbURhdGFCdWZmZXI7cmV0dXJuIG5ldyBVaW50MzJBcnJheSh0LHQuYnl0ZU9mZnNldCwxKVswXX0sWnM9KGUsdCk9PntsZXQgcj1bXSxvPVtdLG49W10scz1iYyhlKTtpZih0LmFudGlhbGlhcyE9PTApdGhyb3cgRXJyb3IoIk9ubHkgZGVmYXVsdCB2YWx1ZSAoMCkgZm9yIEFudGlhbGlhcyBhdHRyaWJ1dGUgaXMgc3VwcG9ydGVkIik7YWMoZS5pbnB1dHMsdCxzLHIsbyxuKSxlLmNvbXB1dGUoeWMoZS5pbnB1dHNbMF0sdCxzLHIsbyxuKSx7aW5wdXRzOlswXX0pfSxRcz1lPT57bGV0IHQ9ZS5hbnRpYWxpYXMscj1lLmF4ZXMsbz1lLmNvb3JkaW5hdGVUcmFuc2Zvcm1Nb2RlLG49ZS5jdWJpY0NvZWZmQSxzPWUuZXhjbHVkZU91dHNpZGUhPT0wLHU9ZS5leHRyYXBvbGF0aW9uVmFsdWUsbD1lLmtlZXBBc3BlY3RSYXRpb1BvbGljeSxhPWUubW9kZSxwPWUubmVhcmVzdE1vZGU9PT0iIj8ic2ltcGxlIjplLm5lYXJlc3RNb2RlO3JldHVybiBnZSh7YW50aWFsaWFzOnQsYXhlczpyLGNvb3JkaW5hdGVUcmFuc2Zvcm1Nb2RlOm8sY3ViaWNDb2VmZkE6bixleGNsdWRlT3V0c2lkZTpzLGV4dHJhcG9sYXRpb25WYWx1ZTp1LGtlZXBBc3BlY3RSYXRpb1BvbGljeTpsLG1vZGU6YSxuZWFyZXN0TW9kZTpwfSl9fSk7dmFyIHdjLHZjLEpzLGV1LHR1PWooKCk9PnsidXNlIHN0cmljdCI7TmUoKTskZSgpO2plKCk7dmUoKTt3Yz1lPT57aWYoIWV8fGUubGVuZ3RoPDMpdGhyb3cgbmV3IEVycm9yKCJsYXllck5vcm0gcmVxdWlyZXMgYXQgbGVhc3QgMyBpbnB1dHMuIik7bGV0IHQ9ZVswXSxyPWVbMV0sbz1lWzJdO2lmKHQuZGF0YVR5cGUhPT1yLmRhdGFUeXBlfHx0LmRhdGFUeXBlIT09by5kYXRhVHlwZSl0aHJvdyBuZXcgRXJyb3IoIkFsbCBpbnB1dHMgbXVzdCBoYXZlIHRoZSBzYW1lIGRhdGEgdHlwZSIpO2lmKHQuZGltcy5sZW5ndGghPT0zJiZ0LmRpbXMubGVuZ3RoIT09Mil0aHJvdyBuZXcgRXJyb3IoIklucHV0IG11c3QgYmUgMkQgb3IgM0QiKTtpZihyLmRpbXMubGVuZ3RoIT09MyYmci5kaW1zLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCJTa2lwIG11c3QgYmUgMkQgb3IgM0QiKTtsZXQgbj10LmRpbXNbdC5kaW1zLmxlbmd0aC0xXSxzPXQuZGltc1t0LmRpbXMubGVuZ3RoLTJdO2lmKHIuZGltc1tyLmRpbXMubGVuZ3RoLTFdIT09bil0aHJvdyBuZXcgRXJyb3IoIlNraXAgbXVzdCBoYXZlIHRoZSBzYW1lIGhpZGRlbiBzaXplIGFzIGlucHV0Iik7aWYoci5kaW1zW3IuZGltcy5sZW5ndGgtMl0hPT1zKXRocm93IG5ldyBFcnJvcigiU2tpcCBtdXN0IGhhdmUgdGhlIHNhbWUgc2VxdWVuY2UgbGVuZ3RoIGFzIGlucHV0Iik7aWYoby5kaW1zLmxlbmd0aCE9PTEpdGhyb3cgbmV3IEVycm9yKCJHYW1tYSBtdXN0IGJlIDFEIik7aWYoby5kaW1zW28uZGltcy5sZW5ndGgtMV0hPT1uKXRocm93IG5ldyBFcnJvcigiR2FtbWEgbXVzdCBoYXZlIHRoZSBzYW1lIGhpZGRlbiBzaXplIGFzIGlucHV0Iik7aWYoZS5sZW5ndGg+Myl7bGV0IHU9ZVszXTtpZih1LmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIkJldGEgbXVzdCBiZSAxRCIpO2lmKHUuZGltc1t1LmRpbXMubGVuZ3RoLTFdIT09bil0aHJvdyBuZXcgRXJyb3IoIkJldGEgbXVzdCBoYXZlIHRoZSBzYW1lIGhpZGRlbiBzaXplIGFzIGlucHV0Iil9aWYoZS5sZW5ndGg+NCl7bGV0IHU9ZVs0XTtpZih1LmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIkJpYXMgbXVzdCBiZSAxRCIpO2lmKHUuZGltc1t1LmRpbXMubGVuZ3RoLTFdIT09bil0aHJvdyBuZXcgRXJyb3IoIkJpYXMgbXVzdCBoYXZlIHRoZSBzYW1lIGhpZGRlbiBzaXplIGFzIGlucHV0Iil9fSx2Yz0oZSx0LHIsbyk9PntsZXQgbj1lWzBdLmRpbXMscz1VLnNpemUobiksdT1uLGw9cyxhPW4uc2xpY2UoLTEpWzBdLHA9bz9uLnNsaWNlKDAsLTEpLmNvbmNhdCgxKTpbXSxoPWUubGVuZ3RoPjMsZz1lLmxlbmd0aD40LGI9byYmcj4xLHc9byYmcj4yLHk9cj4zLF89RmUoYSksST1bTSgieCIsZVswXS5kYXRhVHlwZSxlWzBdLmRpbXMsXyksTSgic2tpcCIsZVsxXS5kYXRhVHlwZSxlWzFdLmRpbXMsXyksTSgiZ2FtbWEiLGVbMl0uZGF0YVR5cGUsZVsyXS5kaW1zLF8pXTtoJiZJLnB1c2goTSgiYmV0YSIsZVszXS5kYXRhVHlwZSxlWzNdLmRpbXMsXykpLGcmJkkucHVzaChNKCJiaWFzIixlWzRdLmRhdGFUeXBlLGVbNF0uZGltcyxfKSksSS5wdXNoKEYoIm91dHB1dCIsZVswXS5kYXRhVHlwZSx1LF8pKSxiJiZJLnB1c2goRigibWVhbk91dHB1dCIsMSxwKSksdyYmSS5wdXNoKEYoImludlN0ZE91dHB1dCIsMSxwKSkseSYmSS5wdXNoKEYoImlucHV0U2tpcEJpYXNTdW0iLGVbMF0uZGF0YVR5cGUsdSxfKSk7bGV0ICQ9TGUoZVswXS5kYXRhVHlwZSkseD1BPT5gXG4gICAgICBjb25zdCBoaWRkZW5TaXplOiBmMzIgPSAke2F9O1xuICAgICAgY29uc3QgaGlkZGVuU2l6ZVZlY3Rvcml6ZWQ6IHUzMiA9ICR7YS9ffTtcbiAgICAgIGNvbnN0IGVwc2lsb246IGYzMiA9ICR7dC5lcHNpbG9ufTtcblxuICAgICAgJHtBLmRlY2xhcmVWYXJpYWJsZXMoLi4uSSl9XG5cbiAgICAgICR7QS5tYWluU3RhcnQoKX1cbiAgICAgICAgJHtBLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMobC9hKX1cbiAgICAgICAgbGV0IG9mZnNldCA9IGdsb2JhbF9pZHggKiBoaWRkZW5TaXplVmVjdG9yaXplZDtcbiAgICAgICAgdmFyIHN1bSA9ICR7WmUoImYzMiIsXyl9O1xuICAgICAgICB2YXIgc3F1YXJlU3VtID0gJHtaZSgiZjMyIixfKX07XG4gICAgICAgIGZvciAodmFyIGk6IHUzMiA9IDA7IGkgPCBoaWRkZW5TaXplVmVjdG9yaXplZDsgaSsrKSB7XG4gICAgICAgICAgbGV0IHNraXBWYWx1ZSA9IHNraXBbb2Zmc2V0ICsgaV07XG4gICAgICAgICAgbGV0IGJpYXNWYWx1ZSA9ICR7Zz8iYmlhc1tpXSI6IjAuMCJ9O1xuICAgICAgICAgIGxldCBpbnB1dFZhbHVlID0geFtvZmZzZXQgKyBpXTtcbiAgICAgICAgICBsZXQgdmFsdWUgPSBpbnB1dFZhbHVlICsgc2tpcFZhbHVlICsgYmlhc1ZhbHVlO1xuICAgICAgICAgICR7eT8iaW5wdXRTa2lwQmlhc1N1bVtvZmZzZXQgKyBpXSA9IHZhbHVlOyI6IiJ9XG4gICAgICAgICAgb3V0cHV0W29mZnNldCArIGldID0gdmFsdWU7XG4gICAgICAgICAgbGV0IGYzMlZhbHVlID0gJHthdCgkLF8sInZhbHVlIil9O1xuICAgICAgICAgIHN1bSArPSBmMzJWYWx1ZTtcbiAgICAgICAgICBzcXVhcmVTdW0gKz0gZjMyVmFsdWUgKiBmMzJWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWVhbiA9ICR7SmUoInN1bSIsXyl9IC8gaGlkZGVuU2l6ZTtcbiAgICAgICAgbGV0IGludlN0ZERldiA9IGludmVyc2VTcXJ0KCR7SmUoInNxdWFyZVN1bSIsXyl9IC8gaGlkZGVuU2l6ZSAtIG1lYW4gKiBtZWFuICsgZXBzaWxvbik7XG4gICAgICAgICR7Yj8ibWVhbk91dHB1dFtnbG9iYWxfaWR4XSA9IG1lYW47IjoiIn1cbiAgICAgICAgJHt3PyJpbnZTdGRPdXRwdXRbZ2xvYmFsX2lkeF0gPSBpbnZTdGREZXY7IjoiIn1cbiAgICAgICAgZm9yICh2YXIgaTogdTMyID0gMDsgaSA8IGhpZGRlblNpemVWZWN0b3JpemVkOyBpKyspIHtcbiAgICAgICAgICBvdXRwdXRbb2Zmc2V0ICsgaV0gPSAob3V0cHV0W29mZnNldCArIGldIC0gJHskfShtZWFuKSkgKiAkeyR9KGludlN0ZERldikgKiBnYW1tYVtpXVxuICAgICAgICAgICArICR7aD8iYmV0YVtpXSI6IjAuMCJ9O1xuICAgICAgICB9XG4gICAgICB9YCxFPVt7ZGltczp1LGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9XTtyZXR1cm4gcj4xJiZFLnB1c2goe2RpbXM6cCxkYXRhVHlwZToxfSkscj4yJiZFLnB1c2goe2RpbXM6cCxkYXRhVHlwZToxfSkscj4zJiZFLnB1c2goe2RpbXM6bixkYXRhVHlwZTplWzBdLmRhdGFUeXBlfSkse25hbWU6IlNraXBMYXllck5vcm1hbGl6YXRpb24iLHNoYWRlckNhY2hlOntoaW50OnQuY2FjaGVLZXl9LGdldFNoYWRlclNvdXJjZTp4LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpFLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGwvYS82NCl9fSl9fSxKcz0oZSx0KT0+e3djKGUuaW5wdXRzKTtsZXQgbz1bMF07ZS5vdXRwdXRDb3VudD4xJiZvLnB1c2goLTMpLGUub3V0cHV0Q291bnQ+MiYmby5wdXNoKC0zKSxlLm91dHB1dENvdW50PjMmJm8ucHVzaCgzKSxlLmNvbXB1dGUodmMoZS5pbnB1dHMsdCxlLm91dHB1dENvdW50LCExKSx7b3V0cHV0czpvfSl9LGV1PWU9PntsZXQgdD1lLmVwc2lsb247cmV0dXJuIGdlKHtlcHNpbG9uOnR9KX19KTt2YXIgJGMsb24sU2MscnUseGMsX2MsbnUsb3UsYXU9aigoKT0+eyJ1c2Ugc3RyaWN0IjtOZSgpOyRlKCk7amUoKTt2ZSgpOyRjPShlLHQpPT57aWYoIWV8fGUubGVuZ3RoPDEpdGhyb3cgbmV3IEVycm9yKCJ0b28gZmV3IGlucHV0cyIpO2lmKHQuYXhlcy5sZW5ndGghPT0wKXtpZih0LmF4ZXMubGVuZ3RoIT09dC5zdGFydHMubGVuZ3RofHx0LmF4ZXMubGVuZ3RoIT09dC5lbmRzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImF4ZXMsIHN0YXJ0cyBhbmQgZW5kcyBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoIil9ZWxzZSBpZih0LnN0YXJ0cy5sZW5ndGghPT10LmVuZHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigic3RhcnRzIGFuZCBlbmRzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGgiKTtlLnNsaWNlKDEpLmZvckVhY2goKHIsbyk9PntpZihlW28rMV0uZGF0YVR5cGUhPT02JiZlW28rMV0uZGF0YVR5cGUhPT03KXRocm93IG5ldyBFcnJvcihgSW5wdXQgJHtvfSBtdXN0IGJlIGFuIGFycmF5IG9mIGludDMyIG9yIGludDY0YCl9KX0sb249KGUsdCk9PntsZXQgcj1bXTtpZihlLmxlbmd0aD50KWlmKGVbdF0uZGF0YVR5cGU9PT03KWVbdF0uZ2V0QmlnSW50NjRBcnJheSgpLmZvckVhY2gobz0+ci5wdXNoKE51bWJlcihvKSkpO2Vsc2UgaWYoZVt0XS5kYXRhVHlwZT09PTYpZVt0XS5nZXRJbnQzMkFycmF5KCkuZm9yRWFjaChvPT5yLnB1c2goTnVtYmVyKG8pKSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYElucHV0ICR7dH0gbXVzdCBiZSBhbiBhcnJheSBvZiBpbnQzMiBvciBpbnQ2NGApO3JldHVybiByfSxTYz0oZSx0KT0+e2lmKGUubGVuZ3RoPjEpe2xldCByPW9uKGUsMSksbz1vbihlLDIpLG49b24oZSwzKTtyZXR1cm4gbi5sZW5ndGg9PT0wJiYobj1bLi4uQXJyYXkoZVswXS5kaW1zLmxlbmd0aCkua2V5cygpXSksZ2Uoe3N0YXJ0czpyLGVuZHM6byxheGVzOm59KX1lbHNlIHJldHVybiB0fSxydT0oZSx0LHIsbyxuKT0+e2xldCBzPWU7cmV0dXJuIGU8MCYmKHMrPXJbb1t0XV0pLG5bdF08MD9NYXRoLm1heCgwLE1hdGgubWluKHMscltvW3RdXS0xKSk6TWF0aC5tYXgoMCxNYXRoLm1pbihzLHJbb1t0XV0pKX0seGM9KGUsdCxyKT0+YGZuIGNhbGN1bGF0ZUlucHV0SW5kaWNlcyhvdXRwdXRfaW5kaWNlczogJHt0LnR5cGUuaW5kaWNlc30pIC0+ICR7ZS50eXBlLmluZGljZXN9IHtcbiAgICAgICAgICB2YXIgaW5wdXRfaW5kaWNlczogJHtlLnR5cGUuaW5kaWNlc307XG4gICAgICAgICAgdmFyIGNhcnJ5ID0gMHU7XG4gICAgICAgICAgZm9yICh2YXIgaSA9ICR7ci5sZW5ndGh9OyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IGlucHV0X3NoYXBlX2kgPSAke2NlKCJ1bmlmb3Jtcy5pbnB1dF9zaGFwZSIsImkiLHIubGVuZ3RoKX07XG4gICAgICAgICAgICBsZXQgc3RlcHNfaSA9ICR7Y2UoInVuaWZvcm1zLnN0ZXBzIiwiaSIsci5sZW5ndGgpfTtcbiAgICAgICAgICAgIGxldCBzaWduc19pID0gJHtjZSgidW5pZm9ybXMuc2lnbnMiLCJpIixyLmxlbmd0aCl9O1xuICAgICAgICAgICAgbGV0IHN0YXJ0c19pID0gJHtjZSgidW5pZm9ybXMuc3RhcnRzIiwiaSIsci5sZW5ndGgpfTtcbiAgICAgICAgICAgIHZhciBvdXRwdXRfaW5kZXggPSAke3QuaW5kaWNlc0dldCgib3V0cHV0X2luZGljZXMiLCJpIil9O1xuICAgICAgICAgICAgdmFyIGlucHV0X2luZGV4ID0gb3V0cHV0X2luZGV4ICogc3RlcHNfaSArIHN0YXJ0c19pICsgY2Fycnk7XG4gICAgICAgICAgICBjYXJyeSA9IGlucHV0X2luZGV4IC8gaW5wdXRfc2hhcGVfaTtcbiAgICAgICAgICAgIGlucHV0X2luZGV4ID0gaW5wdXRfaW5kZXggJSBpbnB1dF9zaGFwZV9pO1xuICAgICAgICAgICAgaWYgKHNpZ25zX2kgPCAwKSB7XG4gICAgICAgICAgICAgIGlucHV0X2luZGV4ID0gaW5wdXRfc2hhcGVfaSAtIGlucHV0X2luZGV4IC0gMXUgKyBzdGFydHNfaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICR7ZS5pbmRpY2VzU2V0KCJpbnB1dF9pbmRpY2VzIiwiaSIsImlucHV0X2luZGV4Iil9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaW5wdXRfaW5kaWNlcztcbiAgICAgIH1gLF9jPShlLHQpPT57bGV0IHI9ZVswXS5kaW1zLG89VS5zaXplKHIpLG49dC5heGVzLmxlbmd0aD4wP1Uubm9ybWFsaXplQXhlcyh0LmF4ZXMsci5sZW5ndGgpOlsuLi5BcnJheShyLmxlbmd0aCkua2V5cygpXSxzPW9uKGUsNCk7cy5mb3JFYWNoKCQ9PiQhPT0wfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoInN0ZXAgY2Fubm90IGJlIDAiKX0pKSxzLmxlbmd0aD09PTAmJihzPUFycmF5KG4ubGVuZ3RoKS5maWxsKDEpKTtsZXQgdT10LnN0YXJ0cy5tYXAoKCQseCk9PnJ1KCQseCxyLG4scykpLGw9dC5lbmRzLm1hcCgoJCx4KT0+cnUoJCx4LHIsbixzKSk7aWYobi5sZW5ndGghPT11Lmxlbmd0aHx8bi5sZW5ndGghPT1sLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoInN0YXJ0LCBlbmRzIGFuZCBheGVzIHNob3VsZCBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBlbGVtZW50cyIpO2lmKG4ubGVuZ3RoIT09ci5sZW5ndGgpZm9yKGxldCAkPTA7JDxyLmxlbmd0aDsrKyQpbi5pbmNsdWRlcygkKXx8KHUuc3BsaWNlKCQsMCwwKSxsLnNwbGljZSgkLDAsclskXSkscy5zcGxpY2UoJCwwLDEpKTtsZXQgYT1zLm1hcCgkPT5NYXRoLnNpZ24oJCkpO3MuZm9yRWFjaCgoJCx4LEUpPT57aWYoJDwwKXtsZXQgQT0obFt4XS11W3hdKS8kLHo9dVt4XSxSPXorQSpzW3hdO3VbeF09UixsW3hdPXosRVt4XT0tJH19KTtsZXQgcD1yLnNsaWNlKDApO24uZm9yRWFjaCgoJCx4KT0+e3BbJF09TWF0aC5jZWlsKChsWyRdLXVbJF0pL3NbJF0pfSk7bGV0IGg9e2RpbXM6cCxkYXRhVHlwZTplWzBdLmRhdGFUeXBlfSxnPUYoIm91dHB1dCIsZVswXS5kYXRhVHlwZSxwLmxlbmd0aCksYj1NKCJpbnB1dCIsZVswXS5kYXRhVHlwZSxlWzBdLmRpbXMubGVuZ3RoKSx3PVUuc2l6ZShwKSx5PVt7bmFtZToib3V0cHV0U2l6ZSIsdHlwZToidTMyIn0se25hbWU6InN0YXJ0cyIsdHlwZToidTMyIixsZW5ndGg6dS5sZW5ndGh9LHtuYW1lOiJzaWducyIsdHlwZToiaTMyIixsZW5ndGg6YS5sZW5ndGh9LHtuYW1lOiJzdGVwcyIsdHlwZToidTMyIixsZW5ndGg6cy5sZW5ndGh9XSxfPVt7dHlwZToidWludDMyIixkYXRhOnd9LHt0eXBlOiJ1aW50MzIiLGRhdGE6dX0se3R5cGU6ImludDMyIixkYXRhOmF9LHt0eXBlOiJ1aW50MzIiLGRhdGE6c30sLi4uTChlWzBdLmRpbXMpLC4uLkwocCldLEk9JD0+YFxuICAgICAgJHskLnJlZ2lzdGVyVW5pZm9ybXMoeSkuZGVjbGFyZVZhcmlhYmxlcyhiLGcpfVxuICAgICAgICAke3hjKGIsZyxyKX1cbiAgICAgICAgJHskLm1haW5TdGFydCgpfVxuICAgICAgICAgICR7JC5ndWFyZEFnYWluc3RPdXRPZkJvdW5kc1dvcmtncm91cFNpemVzKCJ1bmlmb3Jtcy5vdXRwdXRTaXplIil9XG4gICAgICAgICAgbGV0IG91dHB1dF9pbmRpY2VzID0gJHtnLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcbiAgICAgICAgICBsZXQgaW5wdXRfaW5kaWNlcyA9IGNhbGN1bGF0ZUlucHV0SW5kaWNlcyhvdXRwdXRfaW5kaWNlcyk7XG4gICAgICAgICAgJHtnLnNldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IixiLmdldEJ5SW5kaWNlcygiaW5wdXRfaW5kaWNlcyIpKX1cbiAgICAgIH1gO3JldHVybntuYW1lOiJTbGljZSIsc2hhZGVyQ2FjaGU6e2hpbnQ6YCR7YS5sZW5ndGh9XyR7dS5sZW5ndGh9XyR7cy5sZW5ndGh9YCxpbnB1dERlcGVuZGVuY2llczpbInJhbmsiXX0sZ2V0U2hhZGVyU291cmNlOkksZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOltoXSxkaXNwYXRjaEdyb3VwOnt4Ok1hdGguY2VpbChvLzY0KX0scHJvZ3JhbVVuaWZvcm1zOl99KX19LG51PShlLHQpPT57JGMoZS5pbnB1dHMsdCk7bGV0IHI9U2MoZS5pbnB1dHMsdCk7ZS5jb21wdXRlKF9jKGUuaW5wdXRzLHIpLHtpbnB1dHM6WzBdfSl9LG91PWU9PntsZXQgdD1lLnN0YXJ0cyxyPWUuZW5kcyxvPWUuYXhlcztyZXR1cm4gZ2Uoe3N0YXJ0czp0LGVuZHM6cixheGVzOm99KX19KTt2YXIgQ2MsSWMsaXUsc3UsdXU9aigoKT0+eyJ1c2Ugc3RyaWN0IjskZSgpO2plKCk7dmUoKTtDYz1lPT57aWYoIWV8fGUubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIlNvZnRtYXggb3AgcmVxdWlyZXMgMSBpbnB1dC4iKX0sSWM9KGUsdCk9PntsZXQgcj1lLmRpbXMsbz1VLnNpemUociksbj02NCxzPXQuYXhpcztpZihzPDAmJihzPXIubGVuZ3RoK3MpLHM8ci5sZW5ndGgtMSl0aHJvdyBuZXcgRXJyb3IoInNvZnRtYXggb25seSBzdXBwb3J0cyBsYXN0IGF4aXMgZm9yIG5vdy4iKTtsZXQgdT1yW3NdLGw9by91LGE9RmUodSkscD11L2EsaD0oSSwkKT0+JD09PTQ/YG1heChtYXgoJHtJfS54LCAke0l9LnkpLCBtYXgoJHtJfS56LCAke0l9LncpKWA6JD09PTI/YG1heCgke0l9LngsICR7SX0ueSlgOiQ9PT0zP2BtYXgobWF4KCR7SX0ueCwgJHtJfS55KSwgJHtJfS56KWA6SSxnPU0oIngiLGUuZGF0YVR5cGUsZS5kaW1zLGEpLGI9RigicmVzdWx0IixlLmRhdGFUeXBlLGUuZGltcyxhKSx3PWcudHlwZS52YWx1ZSx5PUxlKGUuZGF0YVR5cGUpPT09ImYzMiI/YHZhciB0aHJlYWRNYXggPSAke3d9KC0zLjQwMjgyM2UrMzhmKTtgOmB2YXIgdGhyZWFkTWF4ID0gJHt3fSgtNjU1MDQuMGgpO2AsXz1JPT5gXG4gICAgICB2YXI8d29ya2dyb3VwPiByb3dNYXhTaGFyZWQgOiAke3d9O1xuICAgICAgdmFyPHdvcmtncm91cD4gcm93U3VtU2hhcmVkIDogJHt3fTtcbiAgICAgIHZhcjx3b3JrZ3JvdXA+IHRocmVhZFNoYXJlZCA6IGFycmF5PCR7d30sICR7bn0+O1xuXG4gICAgICBmbiBnZXRWYWx1ZShyb3c6IGkzMiwgY29sOiBpMzIsIHJvd19zdHJpZGU6IGkzMikgLT4gJHt3fSB7XG4gICAgICAgIGxldCBpbmRleCA9IHJvdyAqIHJvd19zdHJpZGUgKyBjb2w7XG4gICAgICAgIHJldHVybiB4W2luZGV4XTtcbiAgICAgIH1cblxuICAgICAgZm4gc2V0VmFsdWUocm93OiBpMzIsIGNvbDogaTMyLCByb3dfc3RyaWRlOiBpMzIsIHZhbHVlOiAke3d9KSB7XG4gICAgICAgIGxldCBpbmRleCA9IHJvdyAqIHJvd19zdHJpZGUgKyBjb2w7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgICR7SS5yZWdpc3RlclVuaWZvcm0oInBhY2tlZENvbHMiLCJpMzIiKS5kZWNsYXJlVmFyaWFibGVzKGcsYil9XG4gICAgICAke0kubWFpblN0YXJ0KCl9XG4gICAgICAgIGxldCBnaW5kZXggPSBpMzIoZ2xvYmFsX2lkeCk7XG4gICAgICAgIGxldCBsaW5kZXggPSBpMzIobG9jYWxfaWR4KTtcbiAgICAgICAgY29uc3Qgd2cgPSAke259O1xuICAgICAgICBsZXQgcm93ID0gZ2luZGV4IC8gd2c7XG4gICAgICAgIGxldCBjb2xzID0gdW5pZm9ybXMucGFja2VkQ29scztcbiAgICAgICAgbGV0IHJvd19zdHJpZGUgOiBpMzIgPSB1bmlmb3Jtcy5wYWNrZWRDb2xzO1xuXG4gICAgICAgIC8vIGZpbmQgdGhlIHJvd3MgbWF4XG4gICAgICAgICR7eX1cbiAgICAgICAgZm9yICh2YXIgY29sID0gbGluZGV4OyBjb2wgPCBjb2xzOyBjb2wgKz0gd2cpIHtcbiAgICAgICAgICBsZXQgdmFsdWUgPSBnZXRWYWx1ZShyb3csIGNvbCwgcm93X3N0cmlkZSk7XG4gICAgICAgICAgdGhyZWFkTWF4ID0gbWF4KHRocmVhZE1heCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW5kZXggPCBjb2xzKSB7XG4gICAgICAgICAgdGhyZWFkU2hhcmVkW2xpbmRleF0gPSB0aHJlYWRNYXg7XG4gICAgICAgIH1cbiAgICAgICAgd29ya2dyb3VwQmFycmllcigpO1xuXG4gICAgICAgIHZhciByZWR1Y2VTaXplID0gbWluKGNvbHMsIHdnKTtcbiAgICAgICAgZm9yICh2YXIgY3VyclNpemUgPSByZWR1Y2VTaXplID4+IDE7ICBjdXJyU2l6ZSA+IDA7IGN1cnJTaXplID0gcmVkdWNlU2l6ZSA+PiAxKSB7XG4gICAgICAgICAgcmVkdWNlU2l6ZSA9IGN1cnJTaXplICsgKHJlZHVjZVNpemUgJiAxKTtcbiAgICAgICAgICBpZiAobGluZGV4IDwgY3VyclNpemUpIHtcbiAgICAgICAgICAgIHRocmVhZFNoYXJlZFtsaW5kZXhdID0gbWF4KHRocmVhZFNoYXJlZFtsaW5kZXhdLCB0aHJlYWRTaGFyZWRbbGluZGV4ICsgcmVkdWNlU2l6ZV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbmRleCA9PSAwKSB7XG4gICAgICAgICAgcm93TWF4U2hhcmVkID0gJHt3fSgke2goInRocmVhZFNoYXJlZFswXSIsYSl9KTtcbiAgICAgICAgfVxuICAgICAgICB3b3JrZ3JvdXBCYXJyaWVyKCk7XG5cbiAgICAgICAgLy8gZmluZCB0aGUgcm93cyBzdW1cbiAgICAgICAgdmFyIHRocmVhZFN1bSA9ICR7d30oMC4wKTtcbiAgICAgICAgZm9yICh2YXIgY29sID0gbGluZGV4OyBjb2wgPCBjb2xzOyBjb2wgKz0gd2cpIHtcbiAgICAgICAgICBsZXQgc3ViRXhwID0gZXhwKGdldFZhbHVlKHJvdywgY29sLCByb3dfc3RyaWRlKSAtIHJvd01heFNoYXJlZCk7XG4gICAgICAgICAgdGhyZWFkU3VtICs9IHN1YkV4cDtcbiAgICAgICAgfVxuICAgICAgICB0aHJlYWRTaGFyZWRbbGluZGV4XSA9IHRocmVhZFN1bTtcbiAgICAgICAgd29ya2dyb3VwQmFycmllcigpO1xuXG4gICAgICAgIGZvciAodmFyIGN1cnJTaXplID0gd2cgPj4gMTsgIGN1cnJTaXplID4gMDsgY3VyclNpemUgPSBjdXJyU2l6ZSA+PiAxKSB7XG4gICAgICAgICAgaWYgKGxpbmRleCA8IGN1cnJTaXplKSB7XG4gICAgICAgICAgICB0aHJlYWRTaGFyZWRbbGluZGV4XSA9IHRocmVhZFNoYXJlZFtsaW5kZXhdICsgdGhyZWFkU2hhcmVkW2xpbmRleCArIGN1cnJTaXplXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgd29ya2dyb3VwQmFycmllcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW5kZXggPT0gMCkge1xuICAgICAgICAgIHJvd1N1bVNoYXJlZCA9ICR7d30oJHtKZSgidGhyZWFkU2hhcmVkWzBdIixhKX0pO1xuICAgICAgICB9XG4gICAgICAgIHdvcmtncm91cEJhcnJpZXIoKTtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgZmluYWwgdmFsdWUgZm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgcm93XG4gICAgICAgIGZvciAodmFyIGNvbCA9IGxpbmRleDsgY29sIDwgY29sczsgY29sICs9IHdnKSB7XG4gICAgICAgICAgbGV0IHZhbHVlID0gZXhwKGdldFZhbHVlKHJvdywgY29sLCByb3dfc3RyaWRlKSAtIHJvd01heFNoYXJlZCkgLyByb3dTdW1TaGFyZWQ7XG4gICAgICAgICAgc2V0VmFsdWUocm93LCBjb2wsIHJvd19zdHJpZGUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfWA7cmV0dXJue25hbWU6IlNvZnRtYXgiLHNoYWRlckNhY2hlOntoaW50OmAke2F9YCxpbnB1dERlcGVuZGVuY2llczpbInR5cGUiXX0sZ2V0UnVuRGF0YTooKT0+KHtvdXRwdXRzOlt7ZGltczpyLGRhdGFUeXBlOmUuZGF0YVR5cGV9XSxkaXNwYXRjaEdyb3VwOnt4Omx9LHByb2dyYW1Vbmlmb3Jtczpbe3R5cGU6InVpbnQzMiIsZGF0YTpwfV19KSxnZXRTaGFkZXJTb3VyY2U6X319LGl1PShlLHQpPT57Q2MoZS5pbnB1dHMpLGUuY29tcHV0ZShJYyhlLmlucHV0c1swXSx0KSl9LHN1PWU9PmdlKHtheGlzOmUuYXhpc30pfSk7dmFyIEFjLFRjLEVjLE9jLFBjLGR1LGx1LGN1PWooKCk9PnsidXNlIHN0cmljdCI7JGUoKTtqZSgpO3ZlKCk7QWM9ZT0+e2lmKCFlfHxlLmxlbmd0aDwxKXRocm93IG5ldyBFcnJvcigidG9vIGZldyBpbnB1dHMiKX0sVGM9KGUsdCk9PntsZXQgcj1bXSxvPXQubnVtT3V0cHV0cztyZXR1cm4gZVsxXS5kaW1zWzBdPjAmJihlWzFdLmdldEJpZ0ludDY0QXJyYXkoKS5mb3JFYWNoKG49PnIucHVzaChOdW1iZXIobikpKSxvPXIubGVuZ3RoKSxnZSh7bnVtT3V0cHV0czpvLGF4aXM6dC5heGlzLHNwbGl0U2l6ZXM6cn0pfSxFYz1lPT5gXG5mbiBjYWxjdWxhdGVPdXRwdXRJbmRleChpbmRleDogdTMyKSAtPiB1MzIge1xuICAgIGZvciAodmFyIGk6IHUzMiA9IDB1OyBpIDwgJHtlfXU7IGkgKz0gMXUgKSB7XG4gICAgaWYgKGluZGV4IDwgJHtjZSgidW5pZm9ybXMuc2l6ZV9pbl9zcGxpdF9heGlzIiwiaSIsZSl9KSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICR7ZX11O1xufWAsT2M9ZT0+e2xldCB0PWUubGVuZ3RoLHI9W107Zm9yKGxldCBvPTA7bzx0Oysrbyl7bGV0IG49ZVtvXS5zZXRCeUluZGljZXMoImluZGljZXMiLCJpbnB1dFtnbG9iYWxfaWR4XSIpO3Q9PT0xP3IucHVzaChuKTpvPT09MD9yLnB1c2goYGlmIChvdXRwdXRfbnVtYmVyID09ICR7b311KSB7ICR7bn0gfWApOm89PT10LTE/ci5wdXNoKGBlbHNlIHsgJHtufSB9YCk6ci5wdXNoKGBlbHNlIGlmIChvdXRwdXRfbnVtYmVyID09ICR7b30pIHsgJHtufSB9YCl9cmV0dXJuYFxuICAgICAgZm4gd3JpdGVCdWZmZXJEYXRhKG91dHB1dF9udW1iZXI6IHUzMiwgaW5kaWNlczogJHtlWzBdLnR5cGUuaW5kaWNlc30sIGdsb2JhbF9pZHg6IHUzMikge1xuICAgICAgICAke3Iuam9pbihgXG5gKX1cbiAgICAgIH1gfSxQYz0oZSx0KT0+e2xldCByPWVbMF0uZGltcyxvPVUuc2l6ZShyKSxuPWVbMF0uZGF0YVR5cGUscz1VLm5vcm1hbGl6ZUF4aXModC5heGlzLHIubGVuZ3RoKSx1PW5ldyBBcnJheSh0Lm51bU91dHB1dHMpLGw9TSgiaW5wdXQiLG4sciksYT1uZXcgQXJyYXkodC5udW1PdXRwdXRzKSxwPVtdLGg9W10sZz0wLGI9W3t0eXBlOiJ1aW50MzIiLGRhdGE6b31dO2ZvcihsZXQgeT0wO3k8dC5udW1PdXRwdXRzO3krKyl7Zys9dC5zcGxpdFNpemVzW3ldLGFbeV09ZztsZXQgXz1yLnNsaWNlKCk7X1t0LmF4aXNdPXQuc3BsaXRTaXplc1t5XSxoLnB1c2goXyksdVt5XT1GKGBvdXRwdXQke3l9YCxuLF8pLHAucHVzaCh7ZGltczpoW3ldLGRhdGFUeXBlOmVbMF0uZGF0YVR5cGV9KX1iLnB1c2goe3R5cGU6InVpbnQzMiIsZGF0YTphfSksYi5wdXNoKC4uLkwocikpLGguZm9yRWFjaCh5PT5iLnB1c2goLi4uTCh5KSkpO2xldCB3PXk9PmBcbiAgJHt5LnJlZ2lzdGVyVW5pZm9ybSgiaW5wdXRfc2l6ZSIsInUzMiIpLnJlZ2lzdGVyVW5pZm9ybSgic2l6ZV9pbl9zcGxpdF9heGlzIiwidTMyIixhLmxlbmd0aCkuZGVjbGFyZVZhcmlhYmxlcyhsLC4uLnUpfVxuICAke0VjKGEubGVuZ3RoKX1cbiAgJHtPYyh1KX1cblxuICAke3kubWFpblN0YXJ0KCl9XG4gICAgJHt5Lmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLmlucHV0X3NpemUiKX1cblxuICAgIHZhciBpbmRpY2VzID0gJHtsLm9mZnNldFRvSW5kaWNlcygiZ2xvYmFsX2lkeCIpfTtcbiAgICB2YXIgaW5kZXggPSAke2wuaW5kaWNlc0dldCgiaW5kaWNlcyIscyl9O1xuICAgIGxldCBvdXRwdXRfbnVtYmVyID0gY2FsY3VsYXRlT3V0cHV0SW5kZXgoaW5kZXgpO1xuICAgIGlmIChvdXRwdXRfbnVtYmVyICE9IDApIHtcbiAgICAgIGluZGV4IC09ICR7Y2UoInVuaWZvcm1zLnNpemVfaW5fc3BsaXRfYXhpcyIsIm91dHB1dF9udW1iZXIgLSAxdSIsYS5sZW5ndGgpfTtcbiAgICAgICR7bC5pbmRpY2VzU2V0KCJpbmRpY2VzIixzLCJpbmRleCIpfTtcbiAgICB9XG4gICAgd3JpdGVCdWZmZXJEYXRhKG91dHB1dF9udW1iZXIsIGluZGljZXMsIGdsb2JhbF9pZHgpO1xuICB9YDtyZXR1cm57bmFtZToiU3BsaXQiLHNoYWRlckNhY2hlOntoaW50OnQuY2FjaGVLZXksaW5wdXREZXBlbmRlbmNpZXM6WyJyYW5rIl19LGdldFNoYWRlclNvdXJjZTp3LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpwLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKG8vNjQpfSxwcm9ncmFtVW5pZm9ybXM6Yn0pfX0sZHU9KGUsdCk9PntBYyhlLmlucHV0cyk7bGV0IHI9ZS5pbnB1dHMubGVuZ3RoPT09MT90OlRjKGUuaW5wdXRzLHQpO2UuY29tcHV0ZShQYyhlLmlucHV0cyxyKSx7aW5wdXRzOlswXX0pfSxsdT1lPT57bGV0IHQ9ZS5heGlzLHI9ZS5zcGxpdFNpemVzLG89ZS5udW1PdXRwdXRzPDA/ci5sZW5ndGg6ZS5udW1PdXRwdXRzO2lmKG8hPT1yLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIm51bU91dHB1dHMgYW5kIHNwbGl0U2l6ZXMgbGVuZ2ggbXVzdCBiZSBlcXVhbCIpO3JldHVybiBnZSh7YXhpczp0LG51bU91dHB1dHM6byxzcGxpdFNpemVzOnJ9KX19KTt2YXIgcHUsa2MsUmMsQmMsbXUsZnU9aigoKT0+eyJ1c2Ugc3RyaWN0IjtOZSgpOyRlKCk7dmUoKTtwdT1lPT5BcnJheS5mcm9tKGUuZ2V0QmlnSW50NjRBcnJheSgpLE51bWJlciksa2M9ZT0+e2lmKCFlfHxlLmxlbmd0aCE9PTIpdGhyb3cgbmV3IEVycm9yKCJUaWxlIHJlcXVpcmVzIDIgaW5wdXRzLiIpO2lmKGVbMF0uZGF0YVR5cGUhPT0xJiZlWzBdLmRhdGFUeXBlIT09NiYmZVswXS5kYXRhVHlwZSE9PTEyKXRocm93IG5ldyBFcnJvcigiVGlsZSBvbmx5IHN1cHBvcnQgZmxvYXQsIGludDMyLCBhbmQgdWludDMyIGRhdGEgdHlwZXMiKTtpZihlWzFdLmRhdGFUeXBlIT09Nyl0aHJvdyBuZXcgRXJyb3IoIlRpbGUgYHJlcGVhdHNgIGlucHV0IHNob3VsZCBiZSBvZiBpbnQ2NCBkYXRhIHR5cGUiKTtpZihlWzFdLmRpbXMubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoIlRpbGUgYHJlcGVhdHNgIGlucHV0IHNob3VsZCBiZSAxLUQiKTtpZihwdShlWzFdKS5sZW5ndGghPT1lWzBdLmRpbXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiVGlsZSBgcmVwZWF0c2AgaW5wdXQgc2hvdWxkIGhhdmUgc2FtZSBudW1iZXIgb2YgZWxlbWVudHMgYXMgcmFuayBvZiBpbnB1dCBkYXRhIHRlbnNvciIpfSxSYz0oZSx0KT0+e2xldCByPVtdO2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7KytvKXIucHVzaChlW29dKnRbb10pO3JldHVybiByfSxCYz1lPT57bGV0IHQ9ZVswXS5kaW1zLHI9cHUoZVsxXSksbz1SYyh0LHIpLG49VS5zaXplKG8pLHM9ZVswXS5kYXRhVHlwZSx1PU0oImlucHV0IixzLHQubGVuZ3RoKSxsPUYoIm91dHB1dCIscyxvLmxlbmd0aCksYT1wPT5gXG4gICAgICBjb25zdCBpbnB1dFNoYXBlID0gJHt1LmluZGljZXMoLi4udCl9O1xuICAgICAgJHtwLnJlZ2lzdGVyVW5pZm9ybSgib3V0cHV0X3NpemUiLCJ1MzIiKS5kZWNsYXJlVmFyaWFibGVzKHUsbCl9XG4gICAgICAke3AubWFpblN0YXJ0KCl9XG4gICAgICAke3AuZ3VhcmRBZ2FpbnN0T3V0T2ZCb3VuZHNXb3JrZ3JvdXBTaXplcygidW5pZm9ybXMub3V0cHV0X3NpemUiKX1cbiAgICAgIGxldCBvdXRwdXRfaW5kaWNlcyA9ICR7bC5vZmZzZXRUb0luZGljZXMoImdsb2JhbF9pZHgiKX07XG4gICAgICB2YXIgaW5wdXRfaW5kaWNlczogJHt1LnR5cGUuaW5kaWNlc307XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICR7dC5sZW5ndGh9OyBpKyspIHtcbiAgICAgICAgbGV0IGlucHV0X2RpbV9pID0gJHt1LmluZGljZXNHZXQoInVuaWZvcm1zLmlucHV0X3NoYXBlIiwiaSIpfTtcbiAgICAgICAgbGV0IGlucHV0X2RpbV92YWx1ZSA9ICR7bC5pbmRpY2VzR2V0KCJvdXRwdXRfaW5kaWNlcyIsImkiKX0gICUgaW5wdXRfZGltX2k7XG5cbiAgICAgICAgJHt1LmluZGljZXNTZXQoImlucHV0X2luZGljZXMiLCJpIiwiaW5wdXRfZGltX3ZhbHVlIil9XG4gICAgICB9XG4gICAgICAke2wuc2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiLHUuZ2V0QnlJbmRpY2VzKCJpbnB1dF9pbmRpY2VzIikpfVxuICAgIH1gO3JldHVybntuYW1lOiJUaWxlIixzaGFkZXJDYWNoZTp7aGludDpgJHtyfWAsaW5wdXREZXBlbmRlbmNpZXM6WyJyYW5rIl19LGdldFJ1bkRhdGE6KCk9Pih7b3V0cHV0czpbe2RpbXM6byxkYXRhVHlwZTplWzBdLmRhdGFUeXBlfV0sZGlzcGF0Y2hHcm91cDp7eDpNYXRoLmNlaWwobi82NCl9LHByb2dyYW1Vbmlmb3Jtczpbe3R5cGU6InVpbnQzMiIsZGF0YTpufSwuLi5MKGVbMF0uZGltcyksLi4uTChvKV19KSxnZXRTaGFkZXJTb3VyY2U6YX19LG11PWU9PntrYyhlLmlucHV0cyksZS5jb21wdXRlKEJjKGUuaW5wdXRzKSx7aW5wdXRzOlswXX0pfX0pO3ZhciBEYyxNYyxodSxndT1qKCgpPT57InVzZSBzdHJpY3QiO05lKCk7JGUoKTt2ZSgpO0RjPShlLHQscixvLG4pPT57bGV0IHM9Rigib3V0cHV0X2RhdGEiLG4sci5sZW5ndGgsNCksdT1NKCJhX2RhdGEiLHRbMV0uZGF0YVR5cGUsdFsxXS5kaW1zLmxlbmd0aCw0KSxsPU0oImJfZGF0YSIsdFsyXS5kYXRhVHlwZSx0WzJdLmRpbXMubGVuZ3RoLDQpLGE9TSgiY19kYXRhIix0WzBdLmRhdGFUeXBlLHRbMF0uZGltcy5sZW5ndGgsNCkscCxoPShnLGIsdyk9PmBzZWxlY3QoJHtifSwgJHtnfSwgJHt3fSlgO2lmKCFvKXA9cy5zZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIsaCh1LmdldEJ5T2Zmc2V0KCJnbG9iYWxfaWR4IiksbC5nZXRCeU9mZnNldCgiZ2xvYmFsX2lkeCIpLGEuZ2V0QnlPZmZzZXQoImdsb2JhbF9pZHgiKSkpO2Vsc2V7bGV0IGc9KGIsdyx5PSIiKT0+e2xldCBfPWBhX2RhdGFbaW5kZXhfYSR7d31dW2NvbXBvbmVudF9hJHt3fV1gLEk9YGJfZGF0YVtpbmRleF9iJHt3fV1bY29tcG9uZW50X2Ike3d9XWAsJD1gYm9vbChjX2RhdGFbaW5kZXhfYyR7d31dICYgJHs0Mjc4MTkwMDgwPj4+KDMtdykqOH11KWA7cmV0dXJuYFxuICAgICAgICAgICAgbGV0IG91dHB1dF9pbmRpY2VzJHt3fSA9ICR7cy5vZmZzZXRUb0luZGljZXMoYGdsb2JhbF9pZHggKiA0dSArICR7d311YCl9O1xuICAgICAgICAgICAgbGV0IG9mZnNldF9hJHt3fSA9ICR7dS5icm9hZGNhc3RlZEluZGljZXNUb09mZnNldChgb3V0cHV0X2luZGljZXMke3d9YCxzKX07XG4gICAgICAgICAgICBsZXQgb2Zmc2V0X2Ike3d9ID0gJHtsLmJyb2FkY2FzdGVkSW5kaWNlc1RvT2Zmc2V0KGBvdXRwdXRfaW5kaWNlcyR7d31gLHMpfTtcbiAgICAgICAgICAgIGxldCBvZmZzZXRfYyR7d30gPSAke2EuYnJvYWRjYXN0ZWRJbmRpY2VzVG9PZmZzZXQoYG91dHB1dF9pbmRpY2VzJHt3fWAscyl9O1xuICAgICAgICAgICAgbGV0IGluZGV4X2Eke3d9ID0gb2Zmc2V0X2Eke3d9IC8gNHU7XG4gICAgICAgICAgICBsZXQgaW5kZXhfYiR7d30gPSBvZmZzZXRfYiR7d30gLyA0dTtcbiAgICAgICAgICAgIGxldCBpbmRleF9jJHt3fSA9IG9mZnNldF9jJHt3fSAvIDR1O1xuICAgICAgICAgICAgbGV0IGNvbXBvbmVudF9hJHt3fSA9IG9mZnNldF9hJHt3fSAlIDR1O1xuICAgICAgICAgICAgbGV0IGNvbXBvbmVudF9iJHt3fSA9IG9mZnNldF9iJHt3fSAlIDR1O1xuICAgICAgICAgICAgJHtifVske3d9XSA9ICR7eX0oJHtoKF8sSSwkKX0pO1xuICAgICAgICAgIGB9O249PT05P3A9YFxuICAgICAgICAgICAgdmFyIGRhdGEgPSB2ZWM0PHUzMj4oMCk7XG4gICAgICAgICAgICAke2coImRhdGEiLDAsInUzMiIpfVxuICAgICAgICAgICAgJHtnKCJkYXRhIiwxLCJ1MzIiKX1cbiAgICAgICAgICAgICR7ZygiZGF0YSIsMiwidTMyIil9XG4gICAgICAgICAgICAke2coImRhdGEiLDMsInUzMiIpfVxuICAgICAgICAgICAgb3V0cHV0X2RhdGFbZ2xvYmFsX2lkeF0gPSBkb3QodmVjNDx1MzI+KDB4MSwgMHgxMDAsIDB4MTAwMDAsIDB4MTAwMDAwMCksIHZlYzQ8dTMyPihkYXRhKSk7YDpwPWBcbiAgICAgICAgICAgICR7Zygib3V0cHV0X2RhdGFbZ2xvYmFsX2lkeF0iLDApfVxuICAgICAgICAgICAgJHtnKCJvdXRwdXRfZGF0YVtnbG9iYWxfaWR4XSIsMSl9XG4gICAgICAgICAgICAke2coIm91dHB1dF9kYXRhW2dsb2JhbF9pZHhdIiwyKX1cbiAgICAgICAgICAgICR7Zygib3V0cHV0X2RhdGFbZ2xvYmFsX2lkeF0iLDMpfVxuICAgICAgICAgIGB9cmV0dXJuYFxuICAgICAgICAke2UucmVnaXN0ZXJVbmlmb3JtKCJ2ZWNfc2l6ZSIsInUzMiIpLmRlY2xhcmVWYXJpYWJsZXMoYSx1LGwscyl9XG4gICAgICAgICR7ZS5tYWluU3RhcnQoKX1cbiAgICAgICAgJHtlLmd1YXJkQWdhaW5zdE91dE9mQm91bmRzV29ya2dyb3VwU2l6ZXMoInVuaWZvcm1zLnZlY19zaXplIil9XG4gICAgICAgICR7cH1cbiAgICAgIH1gfSxNYz1lPT57bGV0IHQ9ZVsxXS5kaW1zLHI9ZVsyXS5kaW1zLG89ZVswXS5kaW1zLG49ZVsxXS5kYXRhVHlwZSxzPSEoVS5hcmVFcXVhbCh0LHIpJiZVLmFyZUVxdWFsKHIsbykpLHU9dCxsPVUuc2l6ZSh0KTtpZihzKXtsZXQgcD1kdC5jYWxjU2hhcGUoZHQuY2FsY1NoYXBlKHQsciwhMSksbywhMSk7aWYoIXApdGhyb3cgbmV3IEVycm9yKCJDYW5cJ3QgcGVyZm9ybSB3aGVyZSBvcCBvbiB0aGUgZ2l2ZW4gdGVuc29ycyIpO3U9cCxsPVUuc2l6ZSh1KX1sZXQgYT1NYXRoLmNlaWwobC80KTtyZXR1cm57bmFtZToiV2hlcmUiLHNoYWRlckNhY2hlOntpbnB1dERlcGVuZGVuY2llczpbInJhbmsiLCJyYW5rIiwicmFuayJdfSxnZXRTaGFkZXJTb3VyY2U6cD0+RGMocCxlLHUscyxuKSxnZXRSdW5EYXRhOigpPT4oe291dHB1dHM6W3tkaW1zOnUsZGF0YVR5cGU6bn1dLGRpc3BhdGNoR3JvdXA6e3g6TWF0aC5jZWlsKGwvNjQvNCl9LHByb2dyYW1Vbmlmb3Jtczpbe3R5cGU6InVpbnQzMiIsZGF0YTphfSwuLi5MKG8pLC4uLkwodCksLi4uTChyKSwuLi5MKHUpXX0pfX0saHU9ZT0+e2UuY29tcHV0ZShNYyhlLmlucHV0cykpfX0pO3ZhciB5dSxidT1qKCgpPT57InVzZSBzdHJpY3QiO1dhKCk7VW4oKTtMYSgpO2phKCk7Q2koKTtNaSgpO1ZpKCk7R24oKTtKaSgpO3JzKCk7c3MoKTtscygpO21zKCk7Z3MoKTt3cygpOyRzKCk7eHMoKTtGbigpO0FzKCk7RXMoKTtqcygpO0tzKCk7anIoKTtYcygpO3R1KCk7YXUoKTt1dSgpO2N1KCk7ZnUoKTtqdCgpO1ZuKCk7Z3UoKTt5dT1uZXcgTWFwKFtbIkFicyIsW3FhXV0sWyJBY29zIixbS2FdXSxbIkFjb3NoIixbWWFdXSxbIkFkZCIsW0lpXV0sWyJBcmdNYXgiLFtOYSx6bl1dLFsiQXJnTWluIixbVmEsem5dXSxbIkFzaW4iLFtaYV1dLFsiQXNpbmgiLFtRYV1dLFsiQXRhbiIsW1hhXV0sWyJBdGFuaCIsW0phXV0sWyJBdHRlbnRpb24iLFtIYV1dLFsiQXZlcmFnZVBvb2wiLFt6cyxNc11dLFsiQmF0Y2hOb3JtYWxpemF0aW9uIixbR2FdXSxbIkJpYXNBZGQiLFtGYV1dLFsiQmlhc1NwbGl0R2VsdSIsW19pXV0sWyJDYXN0IixbdGksZWldXSxbIkNlaWwiLFtuaV1dLFsiQ2xpcCIsW3JpXV0sWyJDb25jYXQiLFt6aSxVaV1dLFsiQ29udiIsW3FuLGpuXV0sWyJDb252VHJhbnNwb3NlIixbWGksUWldXSxbIkNvcyIsW29pXV0sWyJDb3NoIixbYWldXSxbIkN1bVN1bSIsW2VzLHRzXV0sWyJEaXYiLFtBaV1dLFsiRWluc3VtIixbYXMsaXNdXSxbIkVsdSIsW2lpLFlyXV0sWyJFcXVhbCIsW1RpXV0sWyJFcmYiLFtzaV1dLFsiRXhwIixbdWldXSxbIkV4cGFuZCIsW2RzXV0sWyJGbG9vciIsW2RpXV0sWyJGdXNlZENvbnYiLFtxbixqbl1dLFsiR2F0aGVyIixbcHMsY3NdXSxbIkdhdGhlckVsZW1lbnRzIixbaHMsZnNdXSxbIkdlbHUiLFtsaV1dLFsiR2VtbSIsW2JzLHlzXV0sWyJHbG9iYWxBdmVyYWdlUG9vbCIsW05zLFZzXV0sWyJHbG9iYWxNYXhQb29sIixbRnMsTHNdXSxbIkdyZWF0ZXIiLFtraV1dLFsiR3JlYXRlck9yRXF1YWwiLFtCaV1dLFsiSW5zdGFuY2VOb3JtYWxpemF0aW9uIixbdnNdXSxbIkxheWVyTm9ybWFsaXphdGlvbiIsW1NzXV0sWyJMZWFreVJlbHUiLFtjaSxZcl1dLFsiTGVzcyIsW1JpXV0sWyJMZXNzT3JFcXVhbCIsW0RpXV0sWyJMb2ciLFt4aV1dLFsiTWF0TXVsIixbTGldXSxbIk1heFBvb2wiLFtIcyxHc11dLFsiTXVsIixbRWldXSxbIk11bHRpSGVhZEF0dGVudGlvbiIsW0lzLENzXV0sWyJOZWciLFttaV1dLFsiTm90IixbcGldXSxbIlBhZCIsW1RzXV0sWyJQb3ciLFtPaV1dLFsiUmFuZ2UiLFtxc11dLFsiUmVjaXByb2NhbCIsW2ZpXV0sWyJSZWR1Y2VNaW4iLFtSYV1dLFsiUmVkdWNlTWVhbiIsW1RhXV0sWyJSZWR1Y2VNYXgiLFtrYV1dLFsiUmVkdWNlU3VtIixbRGFdXSxbIlJlZHVjZVByb2QiLFtCYV1dLFsiUmVkdWNlTDEiLFtFYV1dLFsiUmVkdWNlTDIiLFtPYV1dLFsiUmVkdWNlTG9nU3VtIixbemFdXSxbIlJlZHVjZUxvZ1N1bUV4cCIsW1BhXV0sWyJSZWR1Y2VTdW1TcXVhcmUiLFtNYV1dLFsiUmVsdSIsW2hpXV0sWyJSZXNpemUiLFtacyxRc11dLFsiU2lnbW9pZCIsW2dpXV0sWyJTaW4iLFt5aV1dLFsiU2luaCIsW2JpXV0sWyJTbGljZSIsW251LG91XV0sWyJTa2lwTGF5ZXJOb3JtYWxpemF0aW9uIixbSnMsZXVdXSxbIlNwbGl0IixbZHUsbHVdXSxbIlNxcnQiLFt3aV1dLFsiU29mdG1heCIsW2l1LHN1XV0sWyJTdWIiLFtQaV1dLFsiVGFuIixbdmldXSxbIlRhbmgiLFskaV1dLFsiVGhyZXNob2xkZWRSZWx1IixbU2ksWXJdXSxbIlRpbGUiLFttdV1dLFsiVHJhbnNwb3NlIixbaGEsZ2FdXSxbIldoZXJlIixbaHVdXV0pfSk7dmFyIGFuLHd1PWooKCk9PnsidXNlIHN0cmljdCI7THQoKTtDdCgpO3ZlKCk7YW49Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5iYWNrZW5kPXQ7dGhpcy5yZXBvPW5ldyBNYXAsdGhpcy5hdHRyaWJ1dGVzQm91bmQ9ITF9Z2V0QXJ0aWZhY3QodCl7cmV0dXJuIHRoaXMucmVwby5nZXQodCl9c2V0QXJ0aWZhY3QodCxyKXt0aGlzLnJlcG8uc2V0KHQscil9cnVuKHQscixvLG4scyl7a3QodC5wcm9ncmFtSW5mby5uYW1lKTtsZXQgdT10aGlzLmJhY2tlbmQuZGV2aWNlLGw9dGhpcy5iYWNrZW5kLmdldENvbXB1dGVQYXNzRW5jb2RlcigpO3RoaXMuYmFja2VuZC53cml0ZVRpbWVzdGFtcCh0aGlzLmJhY2tlbmQucGVuZGluZ0Rpc3BhdGNoTnVtYmVyKjIpLGwuc2V0UGlwZWxpbmUodC5jb21wdXRlUGlwZWxpbmUpO2xldCBhPVtdO2ZvcihsZXQgaCBvZiByKWEucHVzaCh7YmluZGluZzphLmxlbmd0aCxyZXNvdXJjZTp7YnVmZmVyOmguYnVmZmVyfX0pO2ZvcihsZXQgaCBvZiBvKWEucHVzaCh7YmluZGluZzphLmxlbmd0aCxyZXNvdXJjZTp7YnVmZmVyOmguYnVmZmVyfX0pO3MmJmEucHVzaCh7YmluZGluZzphLmxlbmd0aCxyZXNvdXJjZTpzfSk7bGV0IHA9dS5jcmVhdGVCaW5kR3JvdXAoe2xheW91dDp0LmNvbXB1dGVQaXBlbGluZS5nZXRCaW5kR3JvdXBMYXlvdXQoMCksZW50cmllczphLGxhYmVsOnQucHJvZ3JhbUluZm8ubmFtZX0pO2wuc2V0QmluZEdyb3VwKDAscCksbC5kaXNwYXRjaFdvcmtncm91cHMoLi4ubiksdGhpcy5iYWNrZW5kLndyaXRlVGltZXN0YW1wKHRoaXMuYmFja2VuZC5wZW5kaW5nRGlzcGF0Y2hOdW1iZXIqMisxKSx0aGlzLmJhY2tlbmQucGVuZGluZ0Rpc3BhdGNoTnVtYmVyKyssKHRoaXMuYmFja2VuZC5wZW5kaW5nRGlzcGF0Y2hOdW1iZXI+PXRoaXMuYmFja2VuZC5tYXhEaXNwYXRjaE51bWJlcnx8dGhpcy5iYWNrZW5kLnF1ZXJ5VHlwZT09PSJhdC1wYXNzZXMiKSYmdGhpcy5iYWNrZW5kLmVuZENvbXB1dGVQYXNzKCksdGhpcy5iYWNrZW5kLnBlbmRpbmdEaXNwYXRjaE51bWJlcj49dGhpcy5iYWNrZW5kLm1heERpc3BhdGNoTnVtYmVyJiZ0aGlzLmJhY2tlbmQuZmx1c2goKSxSdCh0LnByb2dyYW1JbmZvLm5hbWUpfWRpc3Bvc2UoKXt9YnVpbGQodCxyKXtrdCh0Lm5hbWUpO2xldCBvPXRoaXMuYmFja2VuZC5kZXZpY2Usbj1bXTtvLmZlYXR1cmVzLmhhcygic2hhZGVyLWYxNiIpJiZuLnB1c2goImVuYWJsZSBmMTY7Iik7bGV0IHM9bWEociksdT10LmdldFNoYWRlclNvdXJjZShzKSxsPWAke24uam9pbihgXG5gKX1cbiR7cy5hZGRpdGlvbmFsSW1wbGVtZW50YXRpb25zfVxuJHt1fWAsYT1vLmNyZWF0ZVNoYWRlck1vZHVsZSh7Y29kZTpsLGxhYmVsOnQubmFtZX0pO0JlKCJ2ZXJib3NlIiwoKT0+YFtXZWJHUFVdICR7dC5uYW1lfSBzaGFkZXIgY29kZTogJHtsfWApO2xldCBwPW8uY3JlYXRlQ29tcHV0ZVBpcGVsaW5lKHtjb21wdXRlOnttb2R1bGU6YSxlbnRyeVBvaW50OiJtYWluIn0sbGF5b3V0OiJhdXRvIixsYWJlbDp0Lm5hbWV9KTtyZXR1cm4gUnQodC5uYW1lKSx7cHJvZ3JhbUluZm86dCxjb21wdXRlUGlwZWxpbmU6cH19bm9ybWFsaXplRGlzcGF0Y2hHcm91cFNpemUodCl7bGV0IHI9dHlwZW9mIHQ9PSJudW1iZXIiP3Q6dC54LG89dHlwZW9mIHQ9PSJudW1iZXIiPzE6dC55fHwxLG49dHlwZW9mIHQ9PSJudW1iZXIiPzE6dC56fHwxLHM9dGhpcy5iYWNrZW5kLmRldmljZS5saW1pdHMubWF4Q29tcHV0ZVdvcmtncm91cHNQZXJEaW1lbnNpb247aWYocjw9cyYmbzw9cyYmbjw9cylyZXR1cm5bcixvLG5dO2xldCB1PXIqbypuLGw9TWF0aC5jZWlsKE1hdGguc3FydCh1KSk7aWYobD5zKXtpZihsPU1hdGguY2VpbChNYXRoLmNicnQodSkpLGw+cyl0aHJvdyBuZXcgRXJyb3IoIlRvdGFsIGRpc3BhdGNoIHNpemUgZXhjZWVkcyBXZWJHUFUgbWF4aW11bS4iKTtyZXR1cm5bbCxsLGxdfWVsc2UgcmV0dXJuW2wsbCwxXX19fSk7dmFyIHpjLFVjLHNuLHZ1PWooKCk9PnsidXNlIHN0cmljdCI7THQoKTtOZSgpO0N0KCk7dWEoKTtwYSgpO2J1KCk7d3UoKTt6Yz0oZSx0KT0+e2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBpbnB1dERlcGVuZGVuY2llcyBsZW5ndGggJHt0Lmxlbmd0aH0gaXMgbm90IGVxdWFsIHRvIGlucHV0VGVuc29ycyBsZW5ndGggJHtlLmxlbmd0aH0uYCk7bGV0IHI9W107Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDsrK28pe2xldCBuPWVbb10uZGF0YVR5cGU7c3dpdGNoKHRbb10pe2Nhc2Uibm9uZSI6e3IucHVzaCgiIik7YnJlYWt9Y2FzZSJ0eXBlIjp7ci5wdXNoKGAke259YCk7YnJlYWt9Y2FzZSJyYW5rIjp7bGV0IHM9ZVtvXS5kaW1zLmxlbmd0aDtyLnB1c2goYCR7bn07JHtzfWApO2JyZWFrfWNhc2UiZGltcyI6e2xldCBzPWVbb10uZGltcy5qb2luKCIsIik7ci5wdXNoKGAke259OyR7c31gKTticmVha31kZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgaW5wdXQgZGVwZW5kZW5jeTogJHt0W29dfWApfX1yZXR1cm4gci5qb2luKCJ8Iil9LFVjPShlLHQscik9PntsZXQgbz1lLm5hbWU7cmV0dXJuIGUuc2hhZGVyQ2FjaGU/LmhpbnQmJihvKz0iWyIrZS5zaGFkZXJDYWNoZS5oaW50KyJdIiksbys9IjoiK3IrYDoke3pjKHQsZS5zaGFkZXJDYWNoZT8uaW5wdXREZXBlbmRlbmNpZXM/P25ldyBBcnJheSh0Lmxlbmd0aCkuZmlsbCgiZGltcyIpKX1gLG99LHNuPWNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5jdXJyZW50S2VybmVsSWQ9bnVsbDt0aGlzLmNvbW1hbmRFbmNvZGVyPW51bGw7dGhpcy5jb21wdXRlUGFzc0VuY29kZXI9bnVsbDt0aGlzLm1heERpc3BhdGNoTnVtYmVyPTE2O3RoaXMucGVuZGluZ0Rpc3BhdGNoTnVtYmVyPTA7dGhpcy5wZW5kaW5nS2VybmVscz1bXTt0aGlzLnBlbmRpbmdRdWVyaWVzPW5ldyBNYXA7dGhpcy5zZXNzaW9uRXh0ZXJuYWxEYXRhTWFwcGluZz1uZXcgTWFwfWdldCBjdXJyZW50S2VybmVsQ3VzdG9tRGF0YSgpe2lmKHRoaXMuY3VycmVudEtlcm5lbElkPT09bnVsbCl0aHJvdyBuZXcgRXJyb3IoImN1cnJlbnRLZXJuZWxDdXN0b21EYXRhKCk6IGN1cnJlbnRLZXJuZWxJZCBpcyBudWxsLiAoc2hvdWxkIG5vdCBoYXBwZW4pIik7bGV0IHQ9dGhpcy5rZXJuZWxDdXN0b21EYXRhLmdldCh0aGlzLmN1cnJlbnRLZXJuZWxJZCk7cmV0dXJuIHR8fCh0PXt9LHRoaXMua2VybmVsQ3VzdG9tRGF0YS5zZXQodGhpcy5jdXJyZW50S2VybmVsSWQsdCkpLHR9YXN5bmMgaW5pdGlhbGl6ZSh0LHIpe3RoaXMuZW52PXQ7bGV0IG89W10sbj17cmVxdWlyZWRMaW1pdHM6e21heENvbXB1dGVXb3JrZ3JvdXBTdG9yYWdlU2l6ZTpyLmxpbWl0cy5tYXhDb21wdXRlV29ya2dyb3VwU3RvcmFnZVNpemUsbWF4Q29tcHV0ZVdvcmtncm91cHNQZXJEaW1lbnNpb246ci5saW1pdHMubWF4Q29tcHV0ZVdvcmtncm91cHNQZXJEaW1lbnNpb24sbWF4U3RvcmFnZUJ1ZmZlckJpbmRpbmdTaXplOnIubGltaXRzLm1heFN0b3JhZ2VCdWZmZXJCaW5kaW5nU2l6ZSxtYXhCdWZmZXJTaXplOnIubGltaXRzLm1heEJ1ZmZlclNpemUsbWF4Q29tcHV0ZUludm9jYXRpb25zUGVyV29ya2dyb3VwOnIubGltaXRzLm1heENvbXB1dGVJbnZvY2F0aW9uc1Blcldvcmtncm91cCxtYXhDb21wdXRlV29ya2dyb3VwU2l6ZVg6ci5saW1pdHMubWF4Q29tcHV0ZVdvcmtncm91cFNpemVYLG1heENvbXB1dGVXb3JrZ3JvdXBTaXplWTpyLmxpbWl0cy5tYXhDb21wdXRlV29ya2dyb3VwU2l6ZVksbWF4Q29tcHV0ZVdvcmtncm91cFNpemVaOnIubGltaXRzLm1heENvbXB1dGVXb3JrZ3JvdXBTaXplWn0scmVxdWlyZWRGZWF0dXJlczpvfTtyLmZlYXR1cmVzLmhhcygiY2hyb21pdW0tZXhwZXJpbWVudGFsLXRpbWVzdGFtcC1xdWVyeS1pbnNpZGUtcGFzc2VzIik/by5wdXNoKCJjaHJvbWl1bS1leHBlcmltZW50YWwtdGltZXN0YW1wLXF1ZXJ5LWluc2lkZS1wYXNzZXMiKTpyLmZlYXR1cmVzLmhhcygidGltZXN0YW1wLXF1ZXJ5IikmJm8ucHVzaCgidGltZXN0YW1wLXF1ZXJ5Iiksci5mZWF0dXJlcy5oYXMoInNoYWRlci1mMTYiKSYmby5wdXNoKCJzaGFkZXItZjE2IiksdGhpcy5kZXZpY2U9YXdhaXQgci5yZXF1ZXN0RGV2aWNlKG4pLHRoaXMuZ3B1RGF0YU1hbmFnZXI9Y2EodGhpcyksdGhpcy5wcm9ncmFtTWFuYWdlcj1uZXcgYW4odGhpcyksdGhpcy5rZXJuZWxzPW5ldyBNYXAsdGhpcy5rZXJuZWxQZXJzaXN0ZW50RGF0YT1uZXcgTWFwLHRoaXMua2VybmVsQ3VzdG9tRGF0YT1uZXcgTWFwLGlhKHQubG9nTGV2ZWwsISF0LmRlYnVnKSx0aGlzLmRldmljZS5vbnVuY2FwdHVyZWRlcnJvcj1zPT57cy5lcnJvciBpbnN0YW5jZW9mIEdQVVZhbGlkYXRpb25FcnJvciYmY29uc29sZS5lcnJvcihgQW4gdW5jYXVnaHQgV2ViR1BVIHZhbGlkYXRpb24gZXJyb3Igd2FzIHJhaXNlZDogJHtzLmVycm9yLm1lc3NhZ2V9YCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLmVudi53ZWJncHUsImRldmljZSIse3ZhbHVlOnRoaXMuZGV2aWNlfSksdGhpcy5zZXRRdWVyeVR5cGUoKX1kaXNwb3NlKCl7dHlwZW9mIHRoaXMucXVlcnlTZXQ8InUiJiZ0aGlzLnF1ZXJ5U2V0LmRlc3Ryb3koKSx0aGlzLmdwdURhdGFNYW5hZ2VyLmRpc3Bvc2UoKX1nZXRDb21tYW5kRW5jb2Rlcigpe3JldHVybiB0aGlzLmNvbW1hbmRFbmNvZGVyfHwodGhpcy5jb21tYW5kRW5jb2Rlcj10aGlzLmRldmljZS5jcmVhdGVDb21tYW5kRW5jb2RlcigpLHRoaXMuc2V0UXVlcnlUeXBlKCksdGhpcy5xdWVyeVR5cGUhPT0ibm9uZSImJnR5cGVvZiB0aGlzLnF1ZXJ5U2V0PiJ1IiYmKHRoaXMucXVlcnlTZXQ9dGhpcy5kZXZpY2UuY3JlYXRlUXVlcnlTZXQoe3R5cGU6InRpbWVzdGFtcCIsY291bnQ6dGhpcy5tYXhEaXNwYXRjaE51bWJlcioyfSksdGhpcy5xdWVyeVJlc29sdmVCdWZmZXI9dGhpcy5kZXZpY2UuY3JlYXRlQnVmZmVyKHtzaXplOnRoaXMubWF4RGlzcGF0Y2hOdW1iZXIqMio4LHVzYWdlOkdQVUJ1ZmZlclVzYWdlLkNPUFlfU1JDfEdQVUJ1ZmZlclVzYWdlLlFVRVJZX1JFU09MVkV9KSkpLHRoaXMuY29tbWFuZEVuY29kZXJ9Z2V0Q29tcHV0ZVBhc3NFbmNvZGVyKCl7aWYoIXRoaXMuY29tcHV0ZVBhc3NFbmNvZGVyKXtsZXQgdD17fTt0aGlzLnF1ZXJ5VHlwZT09PSJhdC1wYXNzZXMiJiYodC50aW1lc3RhbXBXcml0ZXM9e3F1ZXJ5U2V0OnRoaXMucXVlcnlTZXQsYmVnaW5uaW5nT2ZQYXNzV3JpdGVJbmRleDp0aGlzLnBlbmRpbmdEaXNwYXRjaE51bWJlcioyLGVuZE9mUGFzc1dyaXRlSW5kZXg6dGhpcy5wZW5kaW5nRGlzcGF0Y2hOdW1iZXIqMisxfSksdGhpcy5jb21wdXRlUGFzc0VuY29kZXI9dGhpcy5nZXRDb21tYW5kRW5jb2RlcigpLmJlZ2luQ29tcHV0ZVBhc3ModCl9cmV0dXJuIHRoaXMuY29tcHV0ZVBhc3NFbmNvZGVyfWVuZENvbXB1dGVQYXNzKCl7dGhpcy5jb21wdXRlUGFzc0VuY29kZXImJih0aGlzLmNvbXB1dGVQYXNzRW5jb2Rlci5lbmQoKSx0aGlzLmNvbXB1dGVQYXNzRW5jb2Rlcj1udWxsKX1mbHVzaCgpe2lmKCF0aGlzLmNvbW1hbmRFbmNvZGVyKXJldHVybjtrdCgpLHRoaXMuZW5kQ29tcHV0ZVBhc3MoKTtsZXQgdDt0aGlzLnF1ZXJ5VHlwZSE9PSJub25lIiYmKHRoaXMuY29tbWFuZEVuY29kZXIucmVzb2x2ZVF1ZXJ5U2V0KHRoaXMucXVlcnlTZXQsMCx0aGlzLnBlbmRpbmdEaXNwYXRjaE51bWJlcioyLHRoaXMucXVlcnlSZXNvbHZlQnVmZmVyLDApLHQ9dGhpcy5kZXZpY2UuY3JlYXRlQnVmZmVyKHtzaXplOnRoaXMucGVuZGluZ0Rpc3BhdGNoTnVtYmVyKjIqOCx1c2FnZTpHUFVCdWZmZXJVc2FnZS5NQVBfUkVBRHxHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVH0pLHRoaXMucGVuZGluZ1F1ZXJpZXMuc2V0KHQsdGhpcy5wZW5kaW5nS2VybmVscyksdGhpcy5wZW5kaW5nS2VybmVscz1bXSx0aGlzLmNvbW1hbmRFbmNvZGVyLmNvcHlCdWZmZXJUb0J1ZmZlcih0aGlzLnF1ZXJ5UmVzb2x2ZUJ1ZmZlciwwLHQsMCx0aGlzLnBlbmRpbmdEaXNwYXRjaE51bWJlcioyKjgpKSx0aGlzLmRldmljZS5xdWV1ZS5zdWJtaXQoW3RoaXMuY29tbWFuZEVuY29kZXIuZmluaXNoKCldKSx0aGlzLmdwdURhdGFNYW5hZ2VyLnJlZnJlc2hQZW5kaW5nQnVmZmVycygpLHRoaXMuY29tbWFuZEVuY29kZXI9bnVsbCx0aGlzLnBlbmRpbmdEaXNwYXRjaE51bWJlcj0wLHRoaXMucXVlcnlUeXBlIT09Im5vbmUiJiZ0Lm1hcEFzeW5jKEdQVU1hcE1vZGUuUkVBRCkudGhlbigoKT0+e2xldCByPW5ldyBCaWdVaW50NjRBcnJheSh0LmdldE1hcHBlZFJhbmdlKCkpLG89dGhpcy5wZW5kaW5nUXVlcmllcy5nZXQodCk7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aC8yO24rKyl7bGV0IHM9b1tuXSx1PXMua2VybmVsSWQsbD10aGlzLmtlcm5lbHMuZ2V0KHUpLGE9bC5rZXJuZWxUeXBlLHA9bC5rZXJuZWxOYW1lLGg9cy5wcm9ncmFtTmFtZSxnPXMuaW5wdXRUZW5zb3JWaWV3cyxiPXMub3V0cHV0VGVuc29yVmlld3Msdz1yW24qMl0seT1yW24qMisxXTt0eXBlb2YgdGhpcy5xdWVyeVRpbWVCYXNlPiJ1IiYmKHRoaXMucXVlcnlUaW1lQmFzZT13KTtsZXQgXz1OdW1iZXIody10aGlzLnF1ZXJ5VGltZUJhc2UpLEk9TnVtYmVyKHktdGhpcy5xdWVyeVRpbWVCYXNlKTtpZighTnVtYmVyLmlzU2FmZUludGVnZXIoXyl8fCFOdW1iZXIuaXNTYWZlSW50ZWdlcihJKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiaW5jb3JyZWN0IHRpbWVzdGFtcCByYW5nZSIpO2lmKHRoaXMuZW52LndlYmdwdS5wcm9maWxpbmc/Lm9uZGF0YSl0aGlzLmVudi53ZWJncHUucHJvZmlsaW5nLm9uZGF0YSh7dmVyc2lvbjoxLGlucHV0c01ldGFkYXRhOmcubWFwKCQ9Pih7ZGltczokLmRpbXMsZGF0YVR5cGU6WGUoJC5kYXRhVHlwZSl9KSksb3V0cHV0c01ldGFkYXRhOmIubWFwKCQ9Pih7ZGltczokLmRpbXMsZGF0YVR5cGU6WGUoJC5kYXRhVHlwZSl9KSksa2VybmVsSWQ6dSxrZXJuZWxUeXBlOmEsa2VybmVsTmFtZTpwLHByb2dyYW1OYW1lOmgsc3RhcnRUaW1lOl8sZW5kVGltZTpJfSk7ZWxzZXtsZXQgJD0iIjtnLmZvckVhY2goKEUsQSk9PnskKz1gaW5wdXRbJHtBfV06IFske0UuZGltc31dIHwgJHtYZShFLmRhdGFUeXBlKX0sIGB9KTtsZXQgeD0iIjtiLmZvckVhY2goKEUsQSk9Pnt4Kz1gb3V0cHV0WyR7QX1dOiBbJHtFLmRpbXN9XSB8ICR7WGUoRS5kYXRhVHlwZSl9LCBgfSksY29uc29sZS5sb2coYFtwcm9maWxpbmddIGtlcm5lbCAiJHt1fXwke2F9fCR7cH18JHtofSIgJHskfSR7eH1leGVjdXRpb24gdGltZTogJHtJLV99IG5zYCl9QW4oIkdQVSIsYCR7aH06OiR7d306OiR7eX1gKX10LnVubWFwKCksdGhpcy5wZW5kaW5nUXVlcmllcy5kZWxldGUodCl9KSxSdCgpfXJ1bih0LHIsbyxuLHMpe2t0KHQubmFtZSk7bGV0IHU9W107Zm9yKGxldCB4PTA7eDxyLmxlbmd0aDsrK3gpe2xldCBFPXRoaXMuZ3B1RGF0YU1hbmFnZXIuZ2V0KHJbeF0uZGF0YSk7aWYoIUUpdGhyb3cgbmV3IEVycm9yKGBubyBHUFUgZGF0YSBmb3IgaW5wdXQ6ICR7clt4XS5kYXRhfWApO3VbeF09RX1sZXR7b3V0cHV0czpsLGRpc3BhdGNoR3JvdXA6YSxwcm9ncmFtVW5pZm9ybXM6cH09dC5nZXRSdW5EYXRhKHIpLGg9by5sZW5ndGg9PT0wP2wubWFwKCh4LEUpPT5FKTpvO2lmKGgubGVuZ3RoIT09bC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBPdXRwdXQgc2l6ZSAke2gubGVuZ3RofSBtdXN0IGJlIGVxdWFsIHRvICR7bC5sZW5ndGh9LmApO2xldCBnPVtdLGI9W107Zm9yKGxldCB4PTA7eDxsLmxlbmd0aDsrK3gpe2lmKCFOdW1iZXIuaXNJbnRlZ2VyKGhbeF0pfHxoW3hdPC0zfHxoW3hdPj1sLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgb3V0cHV0IGluZGV4OiAke2hbeF19YCk7aWYoaFt4XT09PS0zKWNvbnRpbnVlO2xldCBFPWhbeF09PT0tMSxBPWhbeF09PT0tMix6PUV8fEE/cyhsW3hdLmRhdGFUeXBlLGxbeF0uZGltcyk6bihoW3hdLGxbeF0uZGF0YVR5cGUsbFt4XS5kaW1zKSxSPXRoaXMuZ3B1RGF0YU1hbmFnZXIuZ2V0KHouZGF0YSk7aWYoIVIpdGhyb3cgbmV3IEVycm9yKGBubyBHUFUgZGF0YSBmb3Igb3V0cHV0OiAke3ouZGF0YX1gKTtpZihFJiZ0aGlzLnRlbXBvcmFyeURhdGEucHVzaChSKSxBKXtsZXQgVj10aGlzLmtlcm5lbFBlcnNpc3RlbnREYXRhLmdldCh0aGlzLmN1cnJlbnRLZXJuZWxJZCk7Vnx8KFY9W10sdGhpcy5rZXJuZWxQZXJzaXN0ZW50RGF0YS5zZXQodGhpcy5jdXJyZW50S2VybmVsSWQsVikpLFYucHVzaChSKX1nLnB1c2goeiksYi5wdXNoKFIpfWxldCB3O2lmKHApe2xldCB4PTAsRT1bXTtwLmZvckVhY2goVj0+e2xldCBUPXR5cGVvZiBWLmRhdGE9PSJudW1iZXIiP1tWLmRhdGFdOlYuZGF0YTtpZihULmxlbmd0aD09PTApcmV0dXJuO2xldCBOPVQubGVuZ3RoPD0yP1QubGVuZ3RoKjQ6MTY7eD1NYXRoLmNlaWwoeC9OKSpOLEUucHVzaCh4KSx4Kz1ULmxlbmd0aD40P01hdGguY2VpbChULmxlbmd0aC80KSoxNjpULmxlbmd0aCo0fSk7bGV0IEE9MTY7eD1NYXRoLmNlaWwoeC9BKSpBO2xldCB6PW5ldyBBcnJheUJ1ZmZlcih4KTtwLmZvckVhY2goKFYsVCk9PntsZXQgTj1FW1RdLHRlPXR5cGVvZiBWLmRhdGE9PSJudW1iZXIiP1tWLmRhdGFdOlYuZGF0YTtWLnR5cGU9PT0iaW50MzIiP25ldyBJbnQzMkFycmF5KHosTix0ZS5sZW5ndGgpLnNldCh0ZSk6Vi50eXBlPT09InVpbnQzMiI/bmV3IFVpbnQzMkFycmF5KHosTix0ZS5sZW5ndGgpLnNldCh0ZSk6bmV3IEZsb2F0MzJBcnJheSh6LE4sdGUubGVuZ3RoKS5zZXQodGUpfSk7bGV0IFI9dGhpcy5ncHVEYXRhTWFuYWdlci5jcmVhdGUoeCxHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVHxHUFVCdWZmZXJVc2FnZS5VTklGT1JNKTt0aGlzLmRldmljZS5xdWV1ZS53cml0ZUJ1ZmZlcihSLmJ1ZmZlciwwLHosMCx4KSx0aGlzLmdwdURhdGFNYW5hZ2VyLnJlbGVhc2UoUi5pZCksdz17b2Zmc2V0OjAsc2l6ZTp4LGJ1ZmZlcjpSLmJ1ZmZlcn19bGV0IHk9dGhpcy5wcm9ncmFtTWFuYWdlci5ub3JtYWxpemVEaXNwYXRjaEdyb3VwU2l6ZShhKSxfPXlbMV09PT0xJiZ5WzJdPT09MSxJPVVjKHQscixfKSwkPXRoaXMucHJvZ3JhbU1hbmFnZXIuZ2V0QXJ0aWZhY3QoSSk7aWYoJHx8KCQ9dGhpcy5wcm9ncmFtTWFuYWdlci5idWlsZCh0LHkpLHRoaXMucHJvZ3JhbU1hbmFnZXIuc2V0QXJ0aWZhY3QoSSwkKSxCZSgiaW5mbyIsKCk9PmBbYXJ0aWZhY3RdIGtleTogJHtJfSwgcHJvZ3JhbU5hbWU6ICR7dC5uYW1lfWApKSxCZSgiaW5mbyIsKCk9PmBbUHJvZ3JhbU1hbmFnZXJdIHJ1biAiJHt0Lm5hbWV9IiAoa2V5PSR7SX0pIHdpdGggJHt5WzBdfXgke3lbMV19eCR7eVsyXX1gKSx0aGlzLnF1ZXJ5VHlwZSE9PSJub25lIil7bGV0IHg9e2tlcm5lbElkOnRoaXMuY3VycmVudEtlcm5lbElkLHByb2dyYW1OYW1lOiQucHJvZ3JhbUluZm8ubmFtZSxpbnB1dFRlbnNvclZpZXdzOnIsb3V0cHV0VGVuc29yVmlld3M6Z307dGhpcy5wZW5kaW5nS2VybmVscy5wdXNoKHgpfXJldHVybiB0aGlzLnByb2dyYW1NYW5hZ2VyLnJ1bigkLHUsYix5LHcpLFJ0KHQubmFtZSksZ311cGxvYWQodCxyKXt0aGlzLmdwdURhdGFNYW5hZ2VyLnVwbG9hZCh0LHIpfW1lbWNweSh0LHIpe3RoaXMuZ3B1RGF0YU1hbmFnZXIubWVtY3B5KHQscil9YXN5bmMgZG93bmxvYWQodCxyKXthd2FpdCB0aGlzLmdwdURhdGFNYW5hZ2VyLmRvd25sb2FkKHQscil9YWxsb2ModCl7cmV0dXJuIHRoaXMuZ3B1RGF0YU1hbmFnZXIuY3JlYXRlKHQpLmlkfWZyZWUodCl7cmV0dXJuIHRoaXMuZ3B1RGF0YU1hbmFnZXIucmVsZWFzZSh0KX1jcmVhdGVLZXJuZWwodCxyLG8sbil7bGV0IHM9eXUuZ2V0KHQpO2lmKCFzKXRocm93IG5ldyBFcnJvcihga2VybmVsIG5vdCBpbXBsZW1lbnRlZDogJHt0fWApO2xldCB1PXtrZXJuZWxUeXBlOnQsa2VybmVsTmFtZTpuLGtlcm5lbEVudHJ5OnNbMF0sYXR0cmlidXRlczpbc1sxXSxvXX07dGhpcy5rZXJuZWxzLnNldChyLHUpfXJlbGVhc2VLZXJuZWwodCl7bGV0IHI9dGhpcy5rZXJuZWxQZXJzaXN0ZW50RGF0YS5nZXQodCk7aWYocil7Zm9yKGxldCBvIG9mIHIpdGhpcy5ncHVEYXRhTWFuYWdlci5yZWxlYXNlKG8uaWQpO3RoaXMua2VybmVsUGVyc2lzdGVudERhdGEuZGVsZXRlKHQpfXRoaXMua2VybmVsQ3VzdG9tRGF0YS5kZWxldGUodCksdGhpcy5rZXJuZWxzLmRlbGV0ZSh0KX1jb21wdXRlS2VybmVsKHQscixvKXtsZXQgbj10aGlzLmtlcm5lbHMuZ2V0KHQpO2lmKCFuKXRocm93IG5ldyBFcnJvcihga2VybmVsIG5vdCBjcmVhdGVkOiAke3R9YCk7bGV0IHM9bi5rZXJuZWxUeXBlLHU9bi5rZXJuZWxOYW1lLGw9bi5rZXJuZWxFbnRyeSxhPW4uYXR0cmlidXRlcztpZih0aGlzLmN1cnJlbnRLZXJuZWxJZCE9PW51bGwpdGhyb3cgbmV3IEVycm9yKGBrZXJuZWwgIlske3N9XSAke3V9IiBpcyBub3QgYWxsb3dlZCB0byBiZSBjYWxsZWQgcmVjdXJzaXZlbHlgKTt0aGlzLmN1cnJlbnRLZXJuZWxJZD10LGFbMF0mJihhWzFdPWFbMF0oYVsxXSksYVswXT12b2lkIDApLEJlKCJpbmZvIiwoKT0+YFtXZWJHUFVdIFN0YXJ0IHRvIHJ1biBrZXJuZWwgIlske3N9XSAke3V9Ii4uLmApO2xldCBwPXRoaXMuZW52LmRlYnVnO3RoaXMudGVtcG9yYXJ5RGF0YT1bXTt0cnl7cmV0dXJuIHAmJnRoaXMuZGV2aWNlLnB1c2hFcnJvclNjb3BlKCJ2YWxpZGF0aW9uIiksbChyLGFbMV0pLDB9Y2F0Y2goaCl7cmV0dXJuIG8ucHVzaChQcm9taXNlLnJlc29sdmUoYFtXZWJHUFVdIEtlcm5lbCAiWyR7c31dICR7dX0iIGZhaWxlZC4gJHtofWApKSwxfWZpbmFsbHl7cCYmby5wdXNoKHRoaXMuZGV2aWNlLnBvcEVycm9yU2NvcGUoKS50aGVuKGg9Pmg/YEdQVSB2YWxpZGF0aW9uIGVycm9yIGZvciBrZXJuZWwgIlske3N9XSAke3V9IjogJHtoLm1lc3NhZ2V9YDpudWxsKSk7Zm9yKGxldCBoIG9mIHRoaXMudGVtcG9yYXJ5RGF0YSl0aGlzLmdwdURhdGFNYW5hZ2VyLnJlbGVhc2UoaC5pZCk7dGhpcy50ZW1wb3JhcnlEYXRhPVtdLHRoaXMuY3VycmVudEtlcm5lbElkPW51bGx9fXJlZ2lzdGVyQnVmZmVyKHQscixvLG4pe2xldCBzPXRoaXMuc2Vzc2lvbkV4dGVybmFsRGF0YU1hcHBpbmcuZ2V0KHQpO3N8fChzPW5ldyBNYXAsdGhpcy5zZXNzaW9uRXh0ZXJuYWxEYXRhTWFwcGluZy5zZXQodCxzKSk7bGV0IHU9cy5nZXQociksbD10aGlzLmdwdURhdGFNYW5hZ2VyLnJlZ2lzdGVyRXh0ZXJuYWxCdWZmZXIobyxuLHU/LlsxXSk7cmV0dXJuIHMuc2V0KHIsW2wsb10pLGx9dW5yZWdpc3RlckJ1ZmZlcnModCl7bGV0IHI9dGhpcy5zZXNzaW9uRXh0ZXJuYWxEYXRhTWFwcGluZy5nZXQodCk7ciYmKHIuZm9yRWFjaChvPT50aGlzLmdwdURhdGFNYW5hZ2VyLnVucmVnaXN0ZXJFeHRlcm5hbEJ1ZmZlcihvWzFdKSksdGhpcy5zZXNzaW9uRXh0ZXJuYWxEYXRhTWFwcGluZy5kZWxldGUodCkpfWdldEJ1ZmZlcih0KXtsZXQgcj10aGlzLmdwdURhdGFNYW5hZ2VyLmdldCh0KTtpZighcil0aHJvdyBuZXcgRXJyb3IoYG5vIEdQVSBkYXRhIGZvciBidWZmZXI6ICR7dH1gKTtyZXR1cm4gci5idWZmZXJ9Y3JlYXRlRG93bmxvYWRlcih0LHIsbyl7cmV0dXJuIGFzeW5jKCk9PntsZXQgbj1hd2FpdCBPbih0aGlzLHQscik7cmV0dXJuIHNhKG4uYnVmZmVyLG8pfX13cml0ZVRpbWVzdGFtcCh0KXt0aGlzLnF1ZXJ5VHlwZT09PSJpbnNpZGUtcGFzc2VzIiYmdGhpcy5jb21wdXRlUGFzc0VuY29kZXIud3JpdGVUaW1lc3RhbXAodGhpcy5xdWVyeVNldCx0KX1zZXRRdWVyeVR5cGUoKXt0aGlzLnF1ZXJ5VHlwZT0ibm9uZSIsKHRoaXMuZW52LndlYmdwdS5wcm9maWxpbmc/Lm1vZGU9PT0iZGVmYXVsdCJ8fHRoaXMuZW52Lndhc20udHJhY2UpJiYodGhpcy5kZXZpY2UuZmVhdHVyZXMuaGFzKCJjaHJvbWl1bS1leHBlcmltZW50YWwtdGltZXN0YW1wLXF1ZXJ5LWluc2lkZS1wYXNzZXMiKT90aGlzLnF1ZXJ5VHlwZT0iaW5zaWRlLXBhc3NlcyI6dGhpcy5kZXZpY2UuZmVhdHVyZXMuaGFzKCJ0aW1lc3RhbXAtcXVlcnkiKSYmKHRoaXMucXVlcnlUeXBlPSJhdC1wYXNzZXMiKSl9fX0pO3ZhciAkdT17fTtCcigkdSx7aW5pdDooKT0+VmN9KTt2YXIgZ3IsSm4sVmMsU3U9aigoKT0+eyJ1c2Ugc3RyaWN0IjtOZSgpO3Z1KCk7Q3QoKTskZSgpO2dyPWNsYXNzIGV7Y29uc3RydWN0b3IodCxyLG8sbil7dGhpcy5tb2R1bGU9dDt0aGlzLmRhdGFUeXBlPXI7dGhpcy5kYXRhPW87dGhpcy5kaW1zPW59Z2V0RmxvYXQzMkFycmF5KCl7aWYodGhpcy5kYXRhVHlwZSE9PTEpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGRhdGEgdHlwZSIpO2xldCB0PVUuc2l6ZSh0aGlzLmRpbXMpO3JldHVybiB0PT09MD9uZXcgRmxvYXQzMkFycmF5Om5ldyBGbG9hdDMyQXJyYXkodGhpcy5tb2R1bGUuSEVBUDguYnVmZmVyLHRoaXMuZGF0YSx0KX1nZXRCaWdJbnQ2NEFycmF5KCl7aWYodGhpcy5kYXRhVHlwZSE9PTcpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGRhdGEgdHlwZSIpO2xldCB0PVUuc2l6ZSh0aGlzLmRpbXMpO3JldHVybiB0PT09MD9uZXcgQmlnSW50NjRBcnJheTpuZXcgQmlnSW50NjRBcnJheSh0aGlzLm1vZHVsZS5IRUFQOC5idWZmZXIsdGhpcy5kYXRhLHQpfWdldEludDMyQXJyYXkoKXtpZih0aGlzLmRhdGFUeXBlIT09Nil0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgZGF0YSB0eXBlIik7bGV0IHQ9VS5zaXplKHRoaXMuZGltcyk7cmV0dXJuIHQ9PT0wP25ldyBJbnQzMkFycmF5Om5ldyBJbnQzMkFycmF5KHRoaXMubW9kdWxlLkhFQVA4LmJ1ZmZlcix0aGlzLmRhdGEsdCl9cmVzaGFwZSh0KXtpZihVLnNpemUodCkhPT1VLnNpemUodGhpcy5kaW1zKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgbmV3IHNoYXBlIik7cmV0dXJuIG5ldyBlKHRoaXMubW9kdWxlLHRoaXMuZGF0YVR5cGUsdGhpcy5kYXRhLHQpfX0sSm49Y2xhc3N7Y29uc3RydWN0b3IodCxyLG8pe3RoaXMubW9kdWxlPXQ7dGhpcy5iYWNrZW5kPXI7dGhpcy5jdXN0b21EYXRhT2Zmc2V0PTA7dGhpcy5jdXN0b21EYXRhU2l6ZT0wO2xldCBuPXQuSEVBUFUzMixzPW8+Pj4yO3RoaXMub3BLZXJuZWxDb250ZXh0PW5bcysrXTtsZXQgdT1uW3MrK107dGhpcy5vdXRwdXRDb3VudD1uW3MrK10sdGhpcy5jdXN0b21EYXRhT2Zmc2V0PW5bcysrXSx0aGlzLmN1c3RvbURhdGFTaXplPW5bcysrXTtsZXQgbD1bXTtmb3IobGV0IGE9MDthPHU7YSsrKXtsZXQgcD1uW3MrK10saD1uW3MrK10sZz1uW3MrK10sYj1bXTtmb3IobGV0IHc9MDt3PGc7dysrKWIucHVzaChuW3MrK10pO2wucHVzaChuZXcgZ3IodCxwLGgsYikpfXRoaXMuaW5wdXRzPWx9Z2V0IGtlcm5lbEN1c3RvbURhdGEoKXtyZXR1cm4gdGhpcy5iYWNrZW5kLmN1cnJlbnRLZXJuZWxDdXN0b21EYXRhfWdldCBjdXN0b21EYXRhQnVmZmVyKCl7cmV0dXJuIHRoaXMubW9kdWxlLkhFQVBVOC5zdWJhcnJheSh0aGlzLmN1c3RvbURhdGFPZmZzZXQsdGhpcy5jdXN0b21EYXRhT2Zmc2V0K3RoaXMuY3VzdG9tRGF0YVNpemUpfWNvbXB1dGUodCxyKXtsZXQgbz1yPy5pbnB1dHM/Lm1hcChsPT50eXBlb2YgbD09Im51bWJlciI/dGhpcy5pbnB1dHNbbF06bCk/P3RoaXMuaW5wdXRzLG49cj8ub3V0cHV0cz8/W10scz0obCxhLHApPT5uZXcgZ3IodGhpcy5tb2R1bGUsYSx0aGlzLm91dHB1dChsLHApLHApLHU9KGwsYSk9PntsZXQgcD1jcihsKTtpZighcCl0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRhdGEgdHlwZTogJHtsfWApO2xldCBoPXAqVS5zaXplKGEpO3JldHVybiBuZXcgZ3IodGhpcy5tb2R1bGUsbCx0aGlzLmJhY2tlbmQuZ3B1RGF0YU1hbmFnZXIuY3JlYXRlKGgpLmlkLGEpfTtyZXR1cm4gdGhpcy5iYWNrZW5kLnJ1bih0LG8sbixzLHUpfW91dHB1dCh0LHIpe2xldCBvPXRoaXMubW9kdWxlLnN0YWNrU2F2ZSgpO3RyeXtsZXQgbj10aGlzLm1vZHVsZS5zdGFja0FsbG9jKCgxK3IubGVuZ3RoKSo0KSxzPW4+PjI7dGhpcy5tb2R1bGUuSEVBUFUzMltzKytdPXIubGVuZ3RoO2ZvcihsZXQgdT0wO3U8ci5sZW5ndGg7dSsrKXRoaXMubW9kdWxlLkhFQVBVMzJbcysrXT1yW3VdO3JldHVybiB0aGlzLm1vZHVsZS5fSnNlcE91dHB1dCh0aGlzLm9wS2VybmVsQ29udGV4dCx0LG4pfWNhdGNoKG4pe3Rocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdlbmVyYXRlIGtlcm5lbFwncyBvdXRwdXRbJHt0fV0gd2l0aCBkaW1zIFske3J9XS4gSWYgeW91IGFyZSBydW5uaW5nIHdpdGggcHJlLWFsbG9jYXRlZCBvdXRwdXQsIHBsZWFzZSBtYWtlIHN1cmUgdGhlIG91dHB1dCB0eXBlL2RpbXMgYXJlIGNvcnJlY3QuIEVycm9yOiAke259YCl9ZmluYWxseXt0aGlzLm1vZHVsZS5zdGFja1Jlc3RvcmUobyl9fX0sVmM9YXN5bmMoZSx0LHIpPT57bGV0IG89ZS5qc2VwSW5pdDtpZighbyl0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBpbml0aWFsaXplIEpTRVAuIFRoZSBXZWJBc3NlbWJseSBtb2R1bGUgaXMgbm90IGJ1aWx0IHdpdGggSlNFUCBzdXBwb3J0LiIpO2xldCBuPW5ldyBzbjthd2FpdCBuLmluaXRpYWxpemUodCxyKSxvKG4scz0+bi5hbGxvYyhzKSxzPT5uLmZyZWUocyksKHMsdSxsLGE9ITEpPT57aWYoYSlCZSgidmVyYm9zZSIsKCk9PmBbV2ViR1BVXSBqc2VwQ29weUdwdVRvR3B1OiBzcmM9JHtzfSwgZHN0PSR7dX0sIHNpemU9JHtsfWApLG4ubWVtY3B5KHMsdSk7ZWxzZXtCZSgidmVyYm9zZSIsKCk9PmBbV2ViR1BVXSBqc2VwQ29weUNwdVRvR3B1OiBkYXRhT2Zmc2V0PSR7c30sIGdwdURhdGFJZD0ke3V9LCBzaXplPSR7bH1gKTtsZXQgcD1lLkhFQVBVOC5zdWJhcnJheShzPj4+MCwocz4+PjApK2wpO24udXBsb2FkKHUscCl9fSxhc3luYyhzLHUsbCk9PntCZSgidmVyYm9zZSIsKCk9PmBbV2ViR1BVXSBqc2VwQ29weUdwdVRvQ3B1OiBncHVEYXRhSWQ9JHtzfSwgZGF0YU9mZnNldD0ke3V9LCBzaXplPSR7bH1gKSxhd2FpdCBuLmRvd25sb2FkKHMsKCk9PmUuSEVBUFU4LnN1YmFycmF5KHU+Pj4wLCh1Pj4+MCkrbCkpfSwocyx1LGwpPT5uLmNyZWF0ZUtlcm5lbChzLHUsbCxlLlVURjhUb1N0cmluZyhlLl9Kc2VwR2V0Tm9kZU5hbWUodSkpKSxzPT5uLnJlbGVhc2VLZXJuZWwocyksKHMsdSxsLGEpPT57QmUoInZlcmJvc2UiLCgpPT5gW1dlYkdQVV0ganNlcFJ1bjogc2Vzc2lvbkhhbmRsZT0ke2x9LCBrZXJuZWw9JHtzfSwgY29udGV4dERhdGFPZmZzZXQ9JHt1fWApO2xldCBwPW5ldyBKbihlLG4sdSk7cmV0dXJuIG4uY29tcHV0ZUtlcm5lbChzLHAsYSl9KX19KTt2YXIgTW87TW89SW8oKTt2YXIgSnU9Um8oKSxTbix4bj0hMSxEcj0hMSxEbz0hMSxlZD1lPT57aWYoZT09PTEpcmV0dXJuITE7aWYodHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyPiJ1IilyZXR1cm4gdHlwZW9mIHNlbGY8InUiJiYhc2VsZi5jcm9zc09yaWdpbklzb2xhdGVkJiZjb25zb2xlLndhcm4oImVudi53YXNtLm51bVRocmVhZHMgaXMgc2V0IHRvICIrZSsiLCBidXQgdGhpcyB3aWxsIG5vdCB3b3JrIHVubGVzcyB5b3UgZW5hYmxlIGNyb3NzT3JpZ2luSXNvbGF0ZWQgbW9kZS4gU2VlIGh0dHBzOi8vd2ViLmRldi9jcm9zcy1vcmlnaW4taXNvbGF0aW9uLWd1aWRlLyBmb3IgbW9yZSBpbmZvLiIpLCExO3R5cGVvZiBwcm9jZXNzPCJ1IiYmcHJvY2Vzcy52ZXJzaW9ucyYmcHJvY2Vzcy52ZXJzaW9ucy5ub2RlJiZjb25zb2xlLndhcm4oImVudi53YXNtLm51bVRocmVhZHMgaXMgc2V0IHRvICIrZSsiLCBob3dldmVyLCBjdXJyZW50bHkgb25ueHJ1bnRpbWUtd2ViIGRvZXMgbm90IHN1cHBvcnQgbXVsdGktdGhyZWFkcyBpbiBOb2RlLmpzLiBQbGVhc2UgY29uc2lkZXIgdXNpbmcgb25ueHJ1bnRpbWUtbm9kZSBmb3IgcGVyZm9ybWFuY2UgY3JpdGljYWwgc2NlbmFyaW9zLiIpO3RyeXtyZXR1cm4gdHlwZW9mIE1lc3NhZ2VDaGFubmVsPCJ1IiYmbmV3IE1lc3NhZ2VDaGFubmVsKCkucG9ydDEucG9zdE1lc3NhZ2UobmV3IFNoYXJlZEFycmF5QnVmZmVyKDEpKSxXZWJBc3NlbWJseS52YWxpZGF0ZShuZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSw0LDEsOTYsMCwwLDMsMiwxLDAsNSw0LDEsMywxLDEsMTAsMTEsMSw5LDAsNjUsMCwyNTQsMTYsMiwwLDI2LDExXSkpfWNhdGNoe3JldHVybiExfX0sdGQ9KCk9Pnt0cnl7cmV0dXJuIFdlYkFzc2VtYmx5LnZhbGlkYXRlKG5ldyBVaW50OEFycmF5KFswLDk3LDExNSwxMDksMSwwLDAsMCwxLDQsMSw5NiwwLDAsMywyLDEsMCwxMCwzMCwxLDI4LDAsNjUsMCwyNTMsMTUsMjUzLDEyLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMjUzLDE4NiwxLDI2LDExXSkpfWNhdGNoe3JldHVybiExfX0scmQ9KGUsdCk9PmU/dD8ib3J0LXdhc20tc2ltZC10aHJlYWRlZC53YXNtIjoib3J0LXdhc20tc2ltZC53YXNtIjp0PyJvcnQtd2FzbS10aHJlYWRlZC53YXNtIjoib3J0LXdhc20ud2FzbSIsem89YXN5bmMgZT0+e2lmKHhuKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpZihEcil0aHJvdyBuZXcgRXJyb3IoIm11bHRpcGxlIGNhbGxzIHRvIFwnaW5pdGlhbGl6ZVdlYkFzc2VtYmx5KClcJyBkZXRlY3RlZC4iKTtpZihEbyl0aHJvdyBuZXcgRXJyb3IoInByZXZpb3VzIGNhbGwgdG8gXCdpbml0aWFsaXplV2ViQXNzZW1ibHkoKVwnIGZhaWxlZC4iKTtEcj0hMDtsZXQgdD1lLmluaXRUaW1lb3V0LHI9ZS5udW1UaHJlYWRzLG89ZS5zaW1kLG49ZWQocikscz1vJiZ0ZCgpLHU9ZS53YXNtUGF0aHMsbD10eXBlb2YgdT09InN0cmluZyI/dTp2b2lkIDAsYT1yZChzLG4pLHA9dHlwZW9mIHU9PSJvYmplY3QiP3VbYV06dm9pZCAwLGg9ITEsZz1bXTtpZih0PjAmJmcucHVzaChuZXcgUHJvbWlzZShiPT57c2V0VGltZW91dCgoKT0+e2g9ITAsYigpfSx0KX0pKSxnLnB1c2gobmV3IFByb21pc2UoKGIsdyk9PntsZXQgeT1uP0p1Ok1vLF89e2xvY2F0ZUZpbGU6KEksJCk9PntpZihuJiZJLmVuZHNXaXRoKCIud29ya2VyLmpzIikmJnR5cGVvZiBCbG9iPCJ1IilyZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbQm8oKV0se3R5cGU6InRleHQvamF2YXNjcmlwdCJ9KSk7aWYoSS5lbmRzV2l0aCgiLndhc20iKSl7aWYocClyZXR1cm4gcDtsZXQgeD1sPz8kO3JldHVybiBhPT09Im9ydC13YXNtLXNpbWQud2FzbSI/eCsib3J0LXdhc20tc2ltZC5qc2VwLndhc20iOmE9PT0ib3J0LXdhc20tc2ltZC10aHJlYWRlZC53YXNtIj94KyJvcnQtd2FzbS1zaW1kLXRocmVhZGVkLmpzZXAud2FzbSI6eCthfXJldHVybiAkK0l9fTtpZihuKWlmKF8ubnVtVGhyZWFkcz1yLHR5cGVvZiBCbG9iPiJ1IilfLm1haW5TY3JpcHRVcmxPckJsb2I9KHZvaWQgMCkoX19kaXJuYW1lLCJvcnQtd2FzbS10aHJlYWRlZC5qcyIpO2Vsc2V7bGV0IEk9YHZhciBvcnRXYXNtVGhyZWFkZWQ9JHt5LnRvU3RyaW5nKCl9O2A7Xy5tYWluU2NyaXB0VXJsT3JCbG9iPW5ldyBCbG9iKFtJXSx7dHlwZToidGV4dC9qYXZhc2NyaXB0In0pfXkoXykudGhlbihJPT57RHI9ITEseG49ITAsU249SSxiKCl9LEk9PntEcj0hMSxEbz0hMCx3KEkpfSl9KSksYXdhaXQgUHJvbWlzZS5yYWNlKGcpLGgpdGhyb3cgbmV3IEVycm9yKGBXZWJBc3NlbWJseSBiYWNrZW5kIGluaXRpYWxpemluZyBmYWlsZWQgZHVlIHRvIHRpbWVvdXQ6ICR7dH1tc2ApfSxWZT0oKT0+e2lmKHhuJiZTbilyZXR1cm4gU247dGhyb3cgbmV3IEVycm9yKCJXZWJBc3NlbWJseSBpcyBub3QgaW5pdGlhbGl6ZWQgeWV0LiIpfTt2YXIgSGU9KGUsdCk9PntsZXQgcj1WZSgpLG89ci5sZW5ndGhCeXRlc1VURjgoZSkrMSxuPXIuX21hbGxvYyhvKTtyZXR1cm4gci5zdHJpbmdUb1VURjgoZSxuLG8pLHQucHVzaChuKSxufSxscj0oZSx0LHIsbyk9PntpZih0eXBlb2YgZT09Im9iamVjdCImJmUhPT1udWxsKXtpZihyLmhhcyhlKSl0aHJvdyBuZXcgRXJyb3IoIkNpcmN1bGFyIHJlZmVyZW5jZSBpbiBvcHRpb25zIik7ci5hZGQoZSl9T2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoW24sc10pPT57bGV0IHU9dD90K246bjtpZih0eXBlb2Ygcz09Im9iamVjdCIpbHIocyx1KyIuIixyLG8pO2Vsc2UgaWYodHlwZW9mIHM9PSJzdHJpbmcifHx0eXBlb2Ygcz09Im51bWJlciIpbyh1LHMudG9TdHJpbmcoKSk7ZWxzZSBpZih0eXBlb2Ygcz09ImJvb2xlYW4iKW8odSxzPyIxIjoiMCIpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKGBDYW5cJ3QgaGFuZGxlIGV4dHJhIGNvbmZpZyB0eXBlOiAke3R5cGVvZiBzfWApfSl9LGtlPWU9PntsZXQgdD1WZSgpLHI9dC5zdGFja1NhdmUoKTt0cnl7bGV0IG89dC5zdGFja0FsbG9jKDgpO3QuX09ydEdldExhc3RFcnJvcihvLG8rNCk7bGV0IG49dC5IRUFQMzJbby80XSxzPXQuSEVBUFUzMltvLzQrMV0sdT1zP3QuVVRGOFRvU3RyaW5nKHMpOiIiO3Rocm93IG5ldyBFcnJvcihgJHtlfSBFUlJPUl9DT0RFOiAke259LCBFUlJPUl9NRVNTQUdFOiAke3V9YCl9ZmluYWxseXt0LnN0YWNrUmVzdG9yZShyKX19O3ZhciBVbz1lPT57bGV0IHQ9VmUoKSxyPTAsbz1bXSxuPWV8fHt9O3RyeXtpZihlPy5sb2dTZXZlcml0eUxldmVsPT09dm9pZCAwKW4ubG9nU2V2ZXJpdHlMZXZlbD0yO2Vsc2UgaWYodHlwZW9mIGUubG9nU2V2ZXJpdHlMZXZlbCE9Im51bWJlciJ8fCFOdW1iZXIuaXNJbnRlZ2VyKGUubG9nU2V2ZXJpdHlMZXZlbCl8fGUubG9nU2V2ZXJpdHlMZXZlbDwwfHxlLmxvZ1NldmVyaXR5TGV2ZWw+NCl0aHJvdyBuZXcgRXJyb3IoYGxvZyBzZXJ2ZXJpdHkgbGV2ZWwgaXMgbm90IHZhbGlkOiAke2UubG9nU2V2ZXJpdHlMZXZlbH1gKTtpZihlPy5sb2dWZXJib3NpdHlMZXZlbD09PXZvaWQgMCluLmxvZ1ZlcmJvc2l0eUxldmVsPTA7ZWxzZSBpZih0eXBlb2YgZS5sb2dWZXJib3NpdHlMZXZlbCE9Im51bWJlciJ8fCFOdW1iZXIuaXNJbnRlZ2VyKGUubG9nVmVyYm9zaXR5TGV2ZWwpKXRocm93IG5ldyBFcnJvcihgbG9nIHZlcmJvc2l0eSBsZXZlbCBpcyBub3QgdmFsaWQ6ICR7ZS5sb2dWZXJib3NpdHlMZXZlbH1gKTtlPy50ZXJtaW5hdGU9PT12b2lkIDAmJihuLnRlcm1pbmF0ZT0hMSk7bGV0IHM9MDtyZXR1cm4gZT8udGFnIT09dm9pZCAwJiYocz1IZShlLnRhZyxvKSkscj10Ll9PcnRDcmVhdGVSdW5PcHRpb25zKG4ubG9nU2V2ZXJpdHlMZXZlbCxuLmxvZ1ZlcmJvc2l0eUxldmVsLCEhbi50ZXJtaW5hdGUscykscj09PTAmJmtlKCJDYW5cJ3QgY3JlYXRlIHJ1biBvcHRpb25zLiIpLGU/LmV4dHJhIT09dm9pZCAwJiZscihlLmV4dHJhLCIiLG5ldyBXZWFrU2V0LCh1LGwpPT57bGV0IGE9SGUodSxvKSxwPUhlKGwsbyk7dC5fT3J0QWRkUnVuQ29uZmlnRW50cnkocixhLHApIT09MCYma2UoYENhblwndCBzZXQgYSBydW4gY29uZmlnIGVudHJ5OiAke3V9IC0gJHtsfS5gKX0pLFtyLG9dfWNhdGNoKHMpe3Rocm93IHIhPT0wJiZ0Ll9PcnRSZWxlYXNlUnVuT3B0aW9ucyhyKSxvLmZvckVhY2godT0+dC5fZnJlZSh1KSksc319O3ZhciBuZD1lPT57c3dpdGNoKGUpe2Nhc2UiZGlzYWJsZWQiOnJldHVybiAwO2Nhc2UiYmFzaWMiOnJldHVybiAxO2Nhc2UiZXh0ZW5kZWQiOnJldHVybiAyO2Nhc2UiYWxsIjpyZXR1cm4gOTk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIGdyYXBoIG9wdGltaXphdGlvbiBsZXZlbDogJHtlfWApfX0sb2Q9ZT0+e3N3aXRjaChlKXtjYXNlInNlcXVlbnRpYWwiOnJldHVybiAwO2Nhc2UicGFyYWxsZWwiOnJldHVybiAxO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBleGVjdXRpb24gbW9kZTogJHtlfWApfX0sYWQ9ZT0+e2UuZXh0cmF8fChlLmV4dHJhPXt9KSxlLmV4dHJhLnNlc3Npb258fChlLmV4dHJhLnNlc3Npb249e30pO2xldCB0PWUuZXh0cmEuc2Vzc2lvbjt0LnVzZV9vcnRfbW9kZWxfYnl0ZXNfZGlyZWN0bHl8fCh0LnVzZV9vcnRfbW9kZWxfYnl0ZXNfZGlyZWN0bHk9IjEiKSxlLmV4ZWN1dGlvblByb3ZpZGVycyYmZS5leGVjdXRpb25Qcm92aWRlcnMuc29tZShyPT4odHlwZW9mIHI9PSJzdHJpbmciP3I6ci5uYW1lKT09PSJ3ZWJncHUiKSYmKGUuZW5hYmxlTWVtUGF0dGVybj0hMSl9LGlkPShlLHQscik9Pntmb3IobGV0IG8gb2YgdCl7bGV0IG49dHlwZW9mIG89PSJzdHJpbmciP286by5uYW1lO3N3aXRjaChuKXtjYXNlIndlYm5uIjppZihuPSJXRUJOTiIsdHlwZW9mIG8hPSJzdHJpbmciKXtsZXQgdT1vO2lmKHU/LmRldmljZVR5cGUpe2xldCBsPUhlKCJkZXZpY2VUeXBlIixyKSxhPUhlKHUuZGV2aWNlVHlwZSxyKTtWZSgpLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnkoZSxsLGEpIT09MCYma2UoYENhblwndCBzZXQgYSBzZXNzaW9uIGNvbmZpZyBlbnRyeTogXCdkZXZpY2VUeXBlXCcgLSAke3UuZGV2aWNlVHlwZX0uYCl9aWYodT8ubnVtVGhyZWFkcyl7bGV0IGw9dS5udW1UaHJlYWRzOyh0eXBlb2YgbCE9Im51bWJlciJ8fCFOdW1iZXIuaXNJbnRlZ2VyKGwpfHxsPDApJiYobD0wKTtsZXQgYT1IZSgibnVtVGhyZWFkcyIscikscD1IZShsLnRvU3RyaW5nKCkscik7VmUoKS5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5KGUsYSxwKSE9PTAmJmtlKGBDYW5cJ3Qgc2V0IGEgc2Vzc2lvbiBjb25maWcgZW50cnk6IFwnbnVtVGhyZWFkc1wnIC0gJHt1Lm51bVRocmVhZHN9LmApfWlmKHU/LnBvd2VyUHJlZmVyZW5jZSl7bGV0IGw9SGUoInBvd2VyUHJlZmVyZW5jZSIsciksYT1IZSh1LnBvd2VyUHJlZmVyZW5jZSxyKTtWZSgpLl9PcnRBZGRTZXNzaW9uQ29uZmlnRW50cnkoZSxsLGEpIT09MCYma2UoYENhblwndCBzZXQgYSBzZXNzaW9uIGNvbmZpZyBlbnRyeTogXCdwb3dlclByZWZlcmVuY2VcJyAtICR7dS5wb3dlclByZWZlcmVuY2V9LmApfX1icmVhaztjYXNlIndlYmdwdSI6aWYobj0iSlMiLHR5cGVvZiBvIT0ic3RyaW5nIil7bGV0IHU9bztpZih1Py5wcmVmZXJyZWRMYXlvdXQpe2lmKHUucHJlZmVycmVkTGF5b3V0IT09Ik5DSFciJiZ1LnByZWZlcnJlZExheW91dCE9PSJOSFdDIil0aHJvdyBuZXcgRXJyb3IoYHByZWZlcnJlZExheW91dCBtdXN0IGJlIGVpdGhlciBcJ05DSFdcJyBvciBcJ05IV0NcJzogJHt1LnByZWZlcnJlZExheW91dH1gKTtsZXQgbD1IZSgicHJlZmVycmVkTGF5b3V0IixyKSxhPUhlKHUucHJlZmVycmVkTGF5b3V0LHIpO1ZlKCkuX09ydEFkZFNlc3Npb25Db25maWdFbnRyeShlLGwsYSkhPT0wJiZrZShgQ2FuXCd0IHNldCBhIHNlc3Npb24gY29uZmlnIGVudHJ5OiBcJ3ByZWZlcnJlZExheW91dFwnIC0gJHt1LnByZWZlcnJlZExheW91dH0uYCl9fWJyZWFrO2Nhc2Uid2FzbSI6Y2FzZSJjcHUiOmNvbnRpbnVlO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBub3Qgc3VwcG9ydGVkIGV4ZWN1dGlvbiBwcm92aWRlcjogJHtufWApfWxldCBzPUhlKG4scik7VmUoKS5fT3J0QXBwZW5kRXhlY3V0aW9uUHJvdmlkZXIoZSxzKSE9PTAmJmtlKGBDYW5cJ3QgYXBwZW5kIGV4ZWN1dGlvbiBwcm92aWRlcjogJHtufS5gKX19LFZvPWU9PntsZXQgdD1WZSgpLHI9MCxvPVtdLG49ZXx8e307YWQobik7dHJ5e2xldCBzPW5kKG4uZ3JhcGhPcHRpbWl6YXRpb25MZXZlbD8/ImFsbCIpLHU9b2Qobi5leGVjdXRpb25Nb2RlPz8ic2VxdWVudGlhbCIpLGw9dHlwZW9mIG4ubG9nSWQ9PSJzdHJpbmciP0hlKG4ubG9nSWQsbyk6MCxhPW4ubG9nU2V2ZXJpdHlMZXZlbD8/MjtpZighTnVtYmVyLmlzSW50ZWdlcihhKXx8YTwwfHxhPjQpdGhyb3cgbmV3IEVycm9yKGBsb2cgc2VydmVyaXR5IGxldmVsIGlzIG5vdCB2YWxpZDogJHthfWApO2xldCBwPW4ubG9nVmVyYm9zaXR5TGV2ZWw/PzA7aWYoIU51bWJlci5pc0ludGVnZXIocCl8fHA8MHx8cD40KXRocm93IG5ldyBFcnJvcihgbG9nIHZlcmJvc2l0eSBsZXZlbCBpcyBub3QgdmFsaWQ6ICR7cH1gKTtsZXQgaD10eXBlb2Ygbi5vcHRpbWl6ZWRNb2RlbEZpbGVQYXRoPT0ic3RyaW5nIj9IZShuLm9wdGltaXplZE1vZGVsRmlsZVBhdGgsbyk6MDtpZihyPXQuX09ydENyZWF0ZVNlc3Npb25PcHRpb25zKHMsISFuLmVuYWJsZUNwdU1lbUFyZW5hLCEhbi5lbmFibGVNZW1QYXR0ZXJuLHUsISFuLmVuYWJsZVByb2ZpbGluZywwLGwsYSxwLGgpLHI9PT0wJiZrZSgiQ2FuXCd0IGNyZWF0ZSBzZXNzaW9uIG9wdGlvbnMuIiksbi5leGVjdXRpb25Qcm92aWRlcnMmJmlkKHIsbi5leGVjdXRpb25Qcm92aWRlcnMsbyksbi5mcmVlRGltZW5zaW9uT3ZlcnJpZGVzKWZvcihsZXRbZyxiXW9mIE9iamVjdC5lbnRyaWVzKG4uZnJlZURpbWVuc2lvbk92ZXJyaWRlcykpe2lmKHR5cGVvZiBnIT0ic3RyaW5nIil0aHJvdyBuZXcgRXJyb3IoYGZyZWUgZGltZW5zaW9uIG92ZXJyaWRlIG5hbWUgbXVzdCBiZSBhIHN0cmluZzogJHtnfWApO2lmKHR5cGVvZiBiIT0ibnVtYmVyInx8IU51bWJlci5pc0ludGVnZXIoYil8fGI8MCl0aHJvdyBuZXcgRXJyb3IoYGZyZWUgZGltZW5zaW9uIG92ZXJyaWRlIHZhbHVlIG11c3QgYmUgYSBub24tbmVnYXRpdmUgaW50ZWdlcjogJHtifWApO2xldCB3PUhlKGcsbyk7dC5fT3J0QWRkRnJlZURpbWVuc2lvbk92ZXJyaWRlKHIsdyxiKSE9PTAmJmtlKGBDYW5cJ3Qgc2V0IGEgZnJlZSBkaW1lbnNpb24gb3ZlcnJpZGU6ICR7Z30gLSAke2J9LmApfXJldHVybiBuLmV4dHJhIT09dm9pZCAwJiZscihuLmV4dHJhLCIiLG5ldyBXZWFrU2V0LChnLGIpPT57bGV0IHc9SGUoZyxvKSx5PUhlKGIsbyk7dC5fT3J0QWRkU2Vzc2lvbkNvbmZpZ0VudHJ5KHIsdyx5KSE9PTAmJmtlKGBDYW5cJ3Qgc2V0IGEgc2Vzc2lvbiBjb25maWcgZW50cnk6ICR7Z30gLSAke2J9LmApfSksW3Isb119Y2F0Y2gocyl7dGhyb3cgciE9PTAmJnQuX09ydFJlbGVhc2VTZXNzaW9uT3B0aW9ucyhyKSxvLmZvckVhY2godT0+dC5fZnJlZSh1KSksc319O05lKCk7dmFyIFdvPWFzeW5jIGU9PntpZih0eXBlb2YgZT09InN0cmluZyIpaWYodHlwZW9mIHByb2Nlc3M8InUiJiZwcm9jZXNzLnZlcnNpb25zJiZwcm9jZXNzLnZlcnNpb25zLm5vZGUpdHJ5e3JldHVybiBuZXcgVWludDhBcnJheShhd2FpdCh2b2lkIDApKGUpKX1jYXRjaCh0KXtpZih0LmNvZGU9PT0iRVJSX0ZTX0ZJTEVfVE9PX0xBUkdFIil7bGV0IHI9KHZvaWQgMCkoZSksbz1bXTtmb3IgYXdhaXQobGV0IG4gb2YgcilvLnB1c2gobik7cmV0dXJuIG5ldyBVaW50OEFycmF5KEJ1ZmZlci5jb25jYXQobykpfXRocm93IHR9ZWxzZXtsZXQgdD1hd2FpdCBmZXRjaChlKTtpZighdC5vayl0aHJvdyBuZXcgRXJyb3IoYGZhaWxlZCB0byBsb2FkIGV4dGVybmFsIGRhdGEgZmlsZTogJHtlfWApO2xldCByPXQuaGVhZGVycy5nZXQoIkNvbnRlbnQtTGVuZ3RoIiksbz1yP3BhcnNlSW50KHIsMTApOjA7aWYobzwxMDczNzQxODI0KXJldHVybiBuZXcgVWludDhBcnJheShhd2FpdCB0LmFycmF5QnVmZmVyKCkpO3tpZighdC5ib2R5KXRocm93IG5ldyBFcnJvcihgZmFpbGVkIHRvIGxvYWQgZXh0ZXJuYWwgZGF0YSBmaWxlOiAke2V9LCBubyByZXNwb25zZSBib2R5LmApO2xldCBuPXQuYm9keS5nZXRSZWFkZXIoKSxzO3RyeXtzPW5ldyBBcnJheUJ1ZmZlcihvKX1jYXRjaChsKXtpZihsIGluc3RhbmNlb2YgUmFuZ2VFcnJvcil7bGV0IGE9TWF0aC5jZWlsKG8vNjU1MzYpO3M9bmV3IFdlYkFzc2VtYmx5Lk1lbW9yeSh7aW5pdGlhbDphLG1heGltdW06YX0pLmJ1ZmZlcn1lbHNlIHRocm93IGx9bGV0IHU9MDtmb3IoOzspe2xldHtkb25lOmwsdmFsdWU6YX09YXdhaXQgbi5yZWFkKCk7aWYobClicmVhaztsZXQgcD1hLmJ5dGVMZW5ndGg7bmV3IFVpbnQ4QXJyYXkocyx1LHApLnNldChhKSx1Kz1wfXJldHVybiBuZXcgVWludDhBcnJheShzLDAsbyl9fWVsc2UgcmV0dXJuIGUgaW5zdGFuY2VvZiBCbG9iP25ldyBVaW50OEFycmF5KGF3YWl0IGUuYXJyYXlCdWZmZXIoKSk6ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/ZTpuZXcgVWludDhBcnJheShlKX07dmFyIE5jPShlLHQpPT57VmUoKS5fT3J0SW5pdChlLHQpIT09MCYma2UoIkNhblwndCBpbml0aWFsaXplIG9ubnhydW50aW1lLiIpfSxfdT1hc3luYyBlPT57TmMoZS53YXNtLm51bVRocmVhZHMscHIoZS5sb2dMZXZlbCkpfSxDdT1hc3luYyhlLHQpPT57aWYodD09PSJ3ZWJncHUiKXtpZih0eXBlb2YgbmF2aWdhdG9yPiJ1Inx8IW5hdmlnYXRvci5ncHUpdGhyb3cgbmV3IEVycm9yKCJXZWJHUFUgaXMgbm90IHN1cHBvcnRlZCBpbiBjdXJyZW50IGVudmlyb25tZW50Iik7bGV0IHI9YXdhaXQgbmF2aWdhdG9yLmdwdS5yZXF1ZXN0QWRhcHRlcigpO2lmKCFyKXRocm93IG5ldyBFcnJvcihcJ0ZhaWxlZCB0byBnZXQgR1BVIGFkYXB0ZXIuIFlvdSBtYXkgbmVlZCB0byBlbmFibGUgZmxhZyAiLS1lbmFibGUtdW5zYWZlLXdlYmdwdSIgaWYgeW91IGFyZSB1c2luZyBDaHJvbWUuXCcpO2lmKCFlLndhc20uc2ltZCl0aHJvdyBuZXcgRXJyb3IoIk5vdCBzdXBwb3J0ZWQgZm9yIFdlYkdQVT1PTiBhbmQgU0lNRD1PRkYuIFBsZWFzZSBzZXQgYGVudi53YXNtLnNpbWRgIHRvIHRydWUgd2hlbiB1c2luZyBgd2ViZ3B1YCBFUCIpO2xldCBvPShTdSgpLEh0KCR1KSkuaW5pdDthd2FpdCBvKFZlKCksZSxyKX19LHlyPW5ldyBNYXAsV2M9ZT0+e2xldCB0PVZlKCkscj10LnN0YWNrU2F2ZSgpO3RyeXtsZXQgbz10LnN0YWNrQWxsb2MoOCk7cmV0dXJuIHQuX09ydEdldElucHV0T3V0cHV0Q291bnQoZSxvLG8rNCkhPT0wJiZrZSgiQ2FuXCd0IGdldCBzZXNzaW9uIGlucHV0L291dHB1dCBjb3VudC4iKSxbdC5IRUFQMzJbby80XSx0LkhFQVAzMltvLzQrMV1dfWZpbmFsbHl7dC5zdGFja1Jlc3RvcmUocil9fSxlbz1lPT57bGV0IHQ9VmUoKSxyPXQuX21hbGxvYyhlLmJ5dGVMZW5ndGgpO2lmKHI9PT0wKXRocm93IG5ldyBFcnJvcihgQ2FuXCd0IGNyZWF0ZSBhIHNlc3Npb24uIGZhaWxlZCB0byBhbGxvY2F0ZSBhIGJ1ZmZlciBvZiBzaXplICR7ZS5ieXRlTGVuZ3RofS5gKTtyZXR1cm4gdC5IRUFQVTguc2V0KGUsciksW3IsZS5ieXRlTGVuZ3RoXX0sSXU9YXN5bmMoZSx0KT0+e2xldCByLG8sbj1WZSgpO0FycmF5LmlzQXJyYXkoZSk/W3Isb109ZTplLmJ1ZmZlcj09PW4uSEVBUFU4LmJ1ZmZlcj9bcixvXT1bZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aF06W3Isb109ZW8oZSk7bGV0IHM9MCx1PTAsbD0wLGE9W10scD1bXSxoPVtdO3RyeXtpZihbdSxhXT1Wbyh0KSx0Py5leHRlcm5hbERhdGEmJm4ubW91bnRFeHRlcm5hbERhdGEpe2xldCAkPVtdO2ZvcihsZXQgeCBvZiB0LmV4dGVybmFsRGF0YSl7bGV0IEU9dHlwZW9mIHg9PSJzdHJpbmciP3g6eC5wYXRoOyQucHVzaChXbyh0eXBlb2YgeD09InN0cmluZyI/eDp4LmRhdGEpLnRoZW4oQT0+e24ubW91bnRFeHRlcm5hbERhdGEoRSxBKX0pKX1hd2FpdCBQcm9taXNlLmFsbCgkKX1zPW4uX09ydENyZWF0ZVNlc3Npb24ocixvLHUpLHM9PT0wJiZrZSgiQ2FuXCd0IGNyZWF0ZSBhIHNlc3Npb24uIik7bGV0W2csYl09V2Mocyksdz1bXSx5PVtdLF89W107Zm9yKGxldCAkPTA7JDxnOyQrKyl7bGV0IHg9bi5fT3J0R2V0SW5wdXROYW1lKHMsJCk7eD09PTAmJmtlKCJDYW5cJ3QgZ2V0IGFuIGlucHV0IG5hbWUuIikscC5wdXNoKHgpLHcucHVzaChuLlVURjhUb1N0cmluZyh4KSl9Zm9yKGxldCAkPTA7JDxiOyQrKyl7bGV0IHg9bi5fT3J0R2V0T3V0cHV0TmFtZShzLCQpO3g9PT0wJiZrZSgiQ2FuXCd0IGdldCBhbiBvdXRwdXQgbmFtZS4iKSxoLnB1c2goeCk7bGV0IEU9bi5VVEY4VG9TdHJpbmcoeCk7eS5wdXNoKEUpO3tsZXQgQT10eXBlb2YgdD8ucHJlZmVycmVkT3V0cHV0TG9jYXRpb249PSJzdHJpbmciP3QucHJlZmVycmVkT3V0cHV0TG9jYXRpb246dD8ucHJlZmVycmVkT3V0cHV0TG9jYXRpb24/LltFXT8/ImNwdSI7aWYoQSE9PSJjcHUiJiZBIT09ImNwdS1waW5uZWQiJiZBIT09ImdwdS1idWZmZXIiKXRocm93IG5ldyBFcnJvcihgTm90IHN1cHBvcnRlZCBwcmVmZXJyZWQgb3V0cHV0IGxvY2F0aW9uOiAke0F9LmApO18ucHVzaChBKX19bGV0IEk9bnVsbDtyZXR1cm4gXy5zb21lKCQ9PiQ9PT0iZ3B1LWJ1ZmZlciIpJiYobD1uLl9PcnRDcmVhdGVCaW5kaW5nKHMpLGw9PT0wJiZrZSgiQ2FuXCd0IGNyZWF0ZSBJTyBiaW5kaW5nLiIpLEk9e2hhbmRsZTpsLG91dHB1dFByZWZlcnJlZExvY2F0aW9uczpfLG91dHB1dFByZWZlcnJlZExvY2F0aW9uc0VuY29kZWQ6Xy5tYXAoJD0+Q24oJCkpfSkseXIuc2V0KHMsW3MscCxoLEldKSxbcyx3LHldfWNhdGNoKGcpe3Rocm93IHAuZm9yRWFjaChiPT5uLl9PcnRGcmVlKGIpKSxoLmZvckVhY2goYj0+bi5fT3J0RnJlZShiKSksbCE9PTAmJm4uX09ydFJlbGVhc2VCaW5kaW5nKGwpLHMhPT0wJiZuLl9PcnRSZWxlYXNlU2Vzc2lvbihzKSxnfWZpbmFsbHl7bi5fZnJlZShyKSx1IT09MCYmbi5fT3J0UmVsZWFzZVNlc3Npb25PcHRpb25zKHUpLGEuZm9yRWFjaChnPT5uLl9mcmVlKGcpKSxuLnVubW91bnRFeHRlcm5hbERhdGE/LigpfX0sQXU9ZT0+e2xldCB0PVZlKCkscj15ci5nZXQoZSk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgcmVsZWFzZSBzZXNzaW9uLiBpbnZhbGlkIHNlc3Npb24gaWQ6ICR7ZX1gKTtsZXRbbyxuLHMsdV09cjt1JiZ0Ll9PcnRSZWxlYXNlQmluZGluZyh1LmhhbmRsZSksdC5qc2VwVW5yZWdpc3RlckJ1ZmZlcnM/LihlKSxuLmZvckVhY2gobD0+dC5fT3J0RnJlZShsKSkscy5mb3JFYWNoKGw9PnQuX09ydEZyZWUobCkpLHQuX09ydFJlbGVhc2VTZXNzaW9uKG8pLHlyLmRlbGV0ZShlKX0seHU9KGUsdCxyLG8sbik9PntpZighZSl7dC5wdXNoKDApO3JldHVybn1sZXQgcz1WZSgpLHU9ZVswXSxsPWVbMV0sYT1lWzNdLHAsaDtpZih1PT09InN0cmluZyImJmE9PT0iZ3B1LWJ1ZmZlciIpdGhyb3cgbmV3IEVycm9yKCJTdHJpbmcgdGVuc29yIGlzIG5vdCBzdXBwb3J0ZWQgb24gR1BVLiIpO2lmKGE9PT0iZ3B1LWJ1ZmZlciIpe2xldCB3PWVbMl0uZ3B1QnVmZmVyLHk9Y3IoX24odSkpO2g9bC5yZWR1Y2UoKF8sSSk9Pl8qSSwxKSp5LHA9cy5qc2VwUmVnaXN0ZXJCdWZmZXIobyxuLHcsaCl9ZWxzZXtsZXQgdz1lWzJdO2lmKEFycmF5LmlzQXJyYXkodykpe2g9NCp3Lmxlbmd0aCxwPXMuX21hbGxvYyhoKSxyLnB1c2gocCk7bGV0IHk9cC80O2ZvcihsZXQgXz0wO188dy5sZW5ndGg7XysrKXtpZih0eXBlb2Ygd1tfXSE9InN0cmluZyIpdGhyb3cgbmV3IFR5cGVFcnJvcihgdGVuc29yIGRhdGEgYXQgaW5kZXggJHtffSBpcyBub3QgYSBzdHJpbmdgKTtzLkhFQVBVMzJbeSsrXT1IZSh3W19dLHIpfX1lbHNlIGg9dy5ieXRlTGVuZ3RoLHA9cy5fbWFsbG9jKGgpLHIucHVzaChwKSxzLkhFQVBVOC5zZXQobmV3IFVpbnQ4QXJyYXkody5idWZmZXIsdy5ieXRlT2Zmc2V0LGgpLHApfWxldCBnPXMuc3RhY2tTYXZlKCksYj1zLnN0YWNrQWxsb2MoNCpsLmxlbmd0aCk7dHJ5e2xldCB3PWIvNDtsLmZvckVhY2goXz0+cy5IRUFQMzJbdysrXT1fKTtsZXQgeT1zLl9PcnRDcmVhdGVUZW5zb3IoX24odSkscCxoLGIsbC5sZW5ndGgsQ24oYSkpO3k9PT0wJiZrZShgQ2FuXCd0IGNyZWF0ZSB0ZW5zb3IgZm9yIGlucHV0L291dHB1dC4gc2Vzc2lvbj0ke299LCBpbmRleD0ke259LmApLHQucHVzaCh5KX1maW5hbGx5e3Muc3RhY2tSZXN0b3JlKGcpfX0sVHU9YXN5bmMoZSx0LHIsbyxuLHMpPT57bGV0IHU9VmUoKSxsPXlyLmdldChlKTtpZighbCl0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBydW4gaW5mZXJlbmNlLiBpbnZhbGlkIHNlc3Npb24gaWQ6ICR7ZX1gKTtsZXRbYSxwLGgsZ109bCxiPXQubGVuZ3RoLHc9by5sZW5ndGgseT0wLF89W10sST1bXSwkPVtdLHg9W10sRT11LnN0YWNrU2F2ZSgpLEE9dS5zdGFja0FsbG9jKGIqNCksej11LnN0YWNrQWxsb2MoYio0KSxSPXUuc3RhY2tBbGxvYyh3KjQpLFY9dS5zdGFja0FsbG9jKHcqNCk7dHJ5e1t5LF9dPVVvKHMpO2ZvcihsZXQgWj0wO1o8YjtaKyspeHUocltaXSxJLHgsZSx0W1pdKTtmb3IobGV0IFo9MDtaPHc7WisrKXh1KG5bWl0sJCx4LGUsYitvW1pdKTtsZXQgVD1BLzQsTj16LzQsdGU9Ui80LFk9Vi80O2ZvcihsZXQgWj0wO1o8YjtaKyspdS5IRUFQVTMyW1QrK109SVtaXSx1LkhFQVBVMzJbTisrXT1wW3RbWl1dO2ZvcihsZXQgWj0wO1o8dztaKyspdS5IRUFQVTMyW3RlKytdPSRbWl0sdS5IRUFQVTMyW1krK109aFtvW1pdXTtpZihnKXtsZXR7aGFuZGxlOlosb3V0cHV0UHJlZmVycmVkTG9jYXRpb25zOkVlLG91dHB1dFByZWZlcnJlZExvY2F0aW9uc0VuY29kZWQ6UGV9PWc7aWYocC5sZW5ndGghPT1iKXRocm93IG5ldyBFcnJvcihgaW5wdXQgY291bnQgZnJvbSBmZWVkcyAoJHtifSkgaXMgZXhwZWN0ZWQgdG8gYmUgYWx3YXlzIGVxdWFsIHRvIG1vZGVsXCdzIGlucHV0IGNvdW50ICgke3AubGVuZ3RofSkuYCk7Zm9yKGxldCBmZT0wO2ZlPGI7ZmUrKyl7bGV0IEllPXRbZmVdO2F3YWl0IHUuX09ydEJpbmRJbnB1dChaLHBbSWVdLElbZmVdKSE9PTAmJmtlKGBDYW5cJ3QgYmluZCBpbnB1dFske2ZlfV0gZm9yIHNlc3Npb249JHtlfS5gKX1mb3IobGV0IGZlPTA7ZmU8dztmZSsrKXtsZXQgSWU9b1tmZV07bltmZV0/LlszXT91Ll9PcnRCaW5kT3V0cHV0KFosaFtJZV0sJFtmZV0sMCkhPT0wJiZrZShgQ2FuXCd0IGJpbmQgcHJlLWFsbG9jYXRlZCBvdXRwdXRbJHtmZX1dIGZvciBzZXNzaW9uPSR7ZX0uYCk6dS5fT3J0QmluZE91dHB1dChaLGhbSWVdLDAsUGVbSWVdKSE9PTAmJmtlKGBDYW5cJ3QgYmluZCBvdXRwdXRbJHtmZX1dIHRvICR7RWVbZmVdfSBmb3Igc2Vzc2lvbj0ke2V9LmApfX1sZXQgSztnP0s9YXdhaXQgdS5fT3J0UnVuV2l0aEJpbmRpbmcoYSxnLmhhbmRsZSx3LFIseSk6Sz1hd2FpdCB1Ll9PcnRSdW4oYSx6LEEsYixWLHcsUix5KSxLIT09MCYma2UoImZhaWxlZCB0byBjYWxsIE9ydFJ1bigpLiIpO2xldCBRPVtdO2ZvcihsZXQgWj0wO1o8dztaKyspe2xldCBFZT11LkhFQVBVMzJbUi80K1pdO2lmKEVlPT09JFtaXSl7US5wdXNoKG5bWl0pO2NvbnRpbnVlfWxldCBQZT11LnN0YWNrU2F2ZSgpLGZlPXUuc3RhY2tBbGxvYyg0KjQpLEllPSExLGhlLHllPTA7dHJ5e3UuX09ydEdldFRlbnNvckRhdGEoRWUsZmUsZmUrNCxmZSs4LGZlKzEyKSE9PTAmJmtlKGBDYW5cJ3QgYWNjZXNzIG91dHB1dCB0ZW5zb3IgZGF0YSBvbiBpbmRleCAke1p9LmApO2xldCBEZT1mZS80LEdlPXUuSEVBUFUzMltEZSsrXTt5ZT11LkhFQVBVMzJbRGUrK107bGV0IEc9dS5IRUFQVTMyW0RlKytdLGVlPXUuSEVBUFUzMltEZSsrXSxiZT1bXTtmb3IobGV0IFVlPTA7VWU8ZWU7VWUrKyliZS5wdXNoKHUuSEVBUFUzMltHLzQrVWVdKTt1Ll9PcnRGcmVlKEcpO2xldCBldD1iZS5yZWR1Y2UoKFVlLE1lKT0+VWUqTWUsMSk7aGU9WGUoR2UpO2xldCB6ZT1nPy5vdXRwdXRQcmVmZXJyZWRMb2NhdGlvbnNbb1taXV07aWYoaGU9PT0ic3RyaW5nIil7aWYoemU9PT0iZ3B1LWJ1ZmZlciIpdGhyb3cgbmV3IEVycm9yKCJTdHJpbmcgdGVuc29yIGlzIG5vdCBzdXBwb3J0ZWQgb24gR1BVLiIpO2xldCBVZT1bXSxNZT15ZS80O2ZvcihsZXQgd3Q9MDt3dDxldDt3dCsrKXtsZXQgcnQ9dS5IRUFQVTMyW01lKytdLER0PXd0PT09ZXQtMT92b2lkIDA6dS5IRUFQVTMyW01lXS1ydDtVZS5wdXNoKHUuVVRGOFRvU3RyaW5nKHJ0LER0KSl9US5wdXNoKFtoZSxiZSxVZSwiY3B1Il0pfWVsc2UgaWYoemU9PT0iZ3B1LWJ1ZmZlciImJmV0PjApe2xldCBVZT11LmpzZXBHZXRCdWZmZXIoeWUpLE1lPWNyKEdlKTtpZihNZT09PXZvaWQgMHx8IU5vKGhlKSl0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRhdGEgdHlwZTogJHtoZX1gKTtJZT0hMCxRLnB1c2goW2hlLGJlLHtncHVCdWZmZXI6VWUsZG93bmxvYWQ6dS5qc2VwQ3JlYXRlRG93bmxvYWRlcihVZSxldCpNZSxoZSksZGlzcG9zZTooKT0+e3UuX09ydFJlbGVhc2VUZW5zb3IoRWUpfX0sImdwdS1idWZmZXIiXSl9ZWxzZXtsZXQgVWU9TXIoaGUpLE1lPW5ldyBVZShldCk7bmV3IFVpbnQ4QXJyYXkoTWUuYnVmZmVyLE1lLmJ5dGVPZmZzZXQsTWUuYnl0ZUxlbmd0aCkuc2V0KHUuSEVBUFU4LnN1YmFycmF5KHllLHllK01lLmJ5dGVMZW5ndGgpKSxRLnB1c2goW2hlLGJlLE1lLCJjcHUiXSl9fWZpbmFsbHl7dS5zdGFja1Jlc3RvcmUoUGUpLGhlPT09InN0cmluZyImJnllJiZ1Ll9mcmVlKHllKSxJZXx8dS5fT3J0UmVsZWFzZVRlbnNvcihFZSl9fXJldHVybiBnJiZ1Ll9PcnRDbGVhckJvdW5kT3V0cHV0cyhnLmhhbmRsZSksUX1maW5hbGx5e3Uuc3RhY2tSZXN0b3JlKEUpLEkuZm9yRWFjaChUPT51Ll9PcnRSZWxlYXNlVGVuc29yKFQpKSwkLmZvckVhY2goVD0+dS5fT3J0UmVsZWFzZVRlbnNvcihUKSkseC5mb3JFYWNoKFQ9PnUuX2ZyZWUoVCkpLHkhPT0wJiZ1Ll9PcnRSZWxlYXNlUnVuT3B0aW9ucyh5KSxfLmZvckVhY2goVD0+dS5fZnJlZShUKSl9fSxFdT1lPT57bGV0IHQ9VmUoKSxyPXlyLmdldChlKTtpZighcil0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgc2Vzc2lvbiBpZCIpO2xldCBvPXJbMF0sbj10Ll9PcnRFbmRQcm9maWxpbmcobyk7bj09PTAmJmtlKCJDYW5cJ3QgZ2V0IGFuIHByb2ZpbGUgZmlsZSBuYW1lLiIpLHQuX09ydEZyZWUobil9LE91PWU9PntsZXQgdD1bXTtmb3IobGV0IHIgb2YgZSl7bGV0IG89clsyXTshQXJyYXkuaXNBcnJheShvKSYmImJ1ZmZlciJpbiBvJiZ0LnB1c2goby5idWZmZXIpfXJldHVybiB0fTtzZWxmLm9ubWVzc2FnZT1lPT57bGV0e3R5cGU6dCxpbjpyfT1lLmRhdGE7dHJ5e3N3aXRjaCh0KXtjYXNlImluaXQtd2FzbSI6em8oci53YXNtKS50aGVuKCgpPT57X3UocikudGhlbigoKT0+e3Bvc3RNZXNzYWdlKHt0eXBlOnR9KX0sbz0+e3Bvc3RNZXNzYWdlKHt0eXBlOnQsZXJyOm99KX0pfSxvPT57cG9zdE1lc3NhZ2Uoe3R5cGU6dCxlcnI6b30pfSk7YnJlYWs7Y2FzZSJpbml0LWVwIjp7bGV0e2VwTmFtZTpvLGVudjpufT1yO0N1KG4sbykudGhlbigoKT0+e3Bvc3RNZXNzYWdlKHt0eXBlOnR9KX0scz0+e3Bvc3RNZXNzYWdlKHt0eXBlOnQsZXJyOnN9KX0pO2JyZWFrfWNhc2UiY29weS1mcm9tIjp7bGV0e2J1ZmZlcjpvfT1yLG49ZW8obyk7cG9zdE1lc3NhZ2Uoe3R5cGU6dCxvdXQ6bn0pO2JyZWFrfWNhc2UiY3JlYXRlIjp7bGV0e21vZGVsOm8sb3B0aW9uczpufT1yO0l1KG8sbikudGhlbihzPT57cG9zdE1lc3NhZ2Uoe3R5cGU6dCxvdXQ6c30pfSxzPT57cG9zdE1lc3NhZ2Uoe3R5cGU6dCxlcnI6c30pfSk7YnJlYWt9Y2FzZSJyZWxlYXNlIjpBdShyKSxwb3N0TWVzc2FnZSh7dHlwZTp0fSk7YnJlYWs7Y2FzZSJydW4iOntsZXR7c2Vzc2lvbklkOm8saW5wdXRJbmRpY2VzOm4saW5wdXRzOnMsb3V0cHV0SW5kaWNlczp1LG9wdGlvbnM6bH09cjtUdShvLG4scyx1LG5ldyBBcnJheSh1Lmxlbmd0aCkuZmlsbChudWxsKSxsKS50aGVuKGE9PnthLnNvbWUocD0+cFszXSE9PSJjcHUiKT9wb3N0TWVzc2FnZSh7dHlwZTp0LGVycjoiUHJveHkgZG9lcyBub3Qgc3VwcG9ydCBub24tY3B1IHRlbnNvciBsb2NhdGlvbi4ifSk6cG9zdE1lc3NhZ2Uoe3R5cGU6dCxvdXQ6YX0sT3UoYSkpfSxhPT57cG9zdE1lc3NhZ2Uoe3R5cGU6dCxlcnI6YX0pfSk7YnJlYWt9Y2FzZSJlbmQtcHJvZmlsaW5nIjpFdShyKSxwb3N0TWVzc2FnZSh7dHlwZTp0fSk7YnJlYWs7ZGVmYXVsdDp9fWNhdGNoKG8pe3Bvc3RNZXNzYWdlKHt0eXBlOnQsZXJyOm99KX19O30pKCk7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG4nfSksY3IsQXQsSHIsX24seW4sUHMsQmEsJHIseHIsYmgsd24sJGgseGgsa2gsU2gsRWgsQ2gsSWgsQWg9USgoKT0+e0R0KCksV18oKSxkbigpLGNyPSgpPT4hIURlLndhc20ucHJveHkmJnR5cGVvZiBkb2N1bWVudDwidSIsSHI9ITEsX249ITEseW49ITEsQmE9bmV3IE1hcCwkcj0odCxlKT0+e2xldCByPUJhLmdldCh0KTtyP3IucHVzaChlKTpCYS5zZXQodCxbZV0pfSx4cj0oKT0+e2lmKEhyfHwhX258fHlufHwhQXQpdGhyb3cgbmV3IEVycm9yKCJ3b3JrZXIgbm90IHJlYWR5Iil9LGJoPXQ9Pntzd2l0Y2godC5kYXRhLnR5cGUpe2Nhc2UiaW5pdC13YXNtIjpIcj0hMSx0LmRhdGEuZXJyPyh5bj0hMCxQc1sxXSh0LmRhdGEuZXJyKSk6KF9uPSEwLFBzWzBdKCkpO2JyZWFrO2Nhc2UiaW5pdC1lcCI6Y2FzZSJjb3B5LWZyb20iOmNhc2UiY3JlYXRlIjpjYXNlInJlbGVhc2UiOmNhc2UicnVuIjpjYXNlImVuZC1wcm9maWxpbmciOntsZXQgZT1CYS5nZXQodC5kYXRhLnR5cGUpO3QuZGF0YS5lcnI/ZS5zaGlmdCgpWzFdKHQuZGF0YS5lcnIpOmUuc2hpZnQoKVswXSh0LmRhdGEub3V0KTticmVha319fSx3bj10eXBlb2YgZG9jdW1lbnQ8InUiP2RvY3VtZW50Py5jdXJyZW50U2NyaXB0Py5zcmM6dm9pZCAwLCRoPWFzeW5jKCk9PntpZighX24pe2lmKEhyKXRocm93IG5ldyBFcnJvcigibXVsdGlwbGUgY2FsbHMgdG8gJ2luaXRXYXNtKCknIGRldGVjdGVkLiIpO2lmKHluKXRocm93IG5ldyBFcnJvcigicHJldmlvdXMgY2FsbCB0byAnaW5pdFdhc20oKScgZmFpbGVkLiIpO2lmKEhyPSEwLGNyKCkpcmV0dXJuIERlLndhc20ud2FzbVBhdGhzPT09dm9pZCAwJiZ3biYmd24uaW5kZXhPZigiYmxvYjoiKSE9PTAmJihEZS53YXNtLndhc21QYXRocz13bi5zdWJzdHIoMCwrd24ubGFzdEluZGV4T2YoIi8iKSsxKSksbmV3IFByb21pc2UoKHQsZSk9PntBdD8udGVybWluYXRlKCk7bGV0IHI9VVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbTF8oKV0se3R5cGU6InRleHQvamF2YXNjcmlwdCJ9KSk7QXQ9bmV3IFdvcmtlcihyLHtuYW1lOiJvcnQtd2FzbS1wcm94eS13b3JrZXIifSksQXQub25lcnJvcj1hPT5lKGEpLEF0Lm9ubWVzc2FnZT1iaCxVUkwucmV2b2tlT2JqZWN0VVJMKHIpLFBzPVt0LGVdO2xldCBuPXt0eXBlOiJpbml0LXdhc20iLGluOkRlfTtBdC5wb3N0TWVzc2FnZShuKX0pO3RyeXthd2FpdCBybChEZS53YXNtKSxhd2FpdCBoaChEZSksX249ITB9Y2F0Y2godCl7dGhyb3cgeW49ITAsdH1maW5hbGx5e0hyPSExfX19LHhoPWFzeW5jIHQ9PntpZihjcigpKXJldHVybiB4cigpLG5ldyBQcm9taXNlKChlLHIpPT57JHIoImluaXQtZXAiLFtlLHJdKTtsZXQgbj17dHlwZToiaW5pdC1lcCIsaW46e2VwTmFtZTp0LGVudjpEZX19O0F0LnBvc3RNZXNzYWdlKG4pfSk7YXdhaXQgZmgoRGUsdCl9LGtoPWFzeW5jIHQ9PmNyKCk/KHhyKCksbmV3IFByb21pc2UoKGUscik9PnskcigiY29weS1mcm9tIixbZSxyXSk7bGV0IG49e3R5cGU6ImNvcHktZnJvbSIsaW46e2J1ZmZlcjp0fX07QXQucG9zdE1lc3NhZ2UobixbdC5idWZmZXJdKX0pKTpCcyh0KSxTaD1hc3luYyh0LGUpPT57aWYoY3IoKSl7aWYoZT8ucHJlZmVycmVkT3V0cHV0TG9jYXRpb24pdGhyb3cgbmV3IEVycm9yKCdzZXNzaW9uIG9wdGlvbiAicHJlZmVycmVkT3V0cHV0TG9jYXRpb24iIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHByb3h5LicpO3JldHVybiB4cigpLG5ldyBQcm9taXNlKChyLG4pPT57JHIoImNyZWF0ZSIsW3Isbl0pO2xldCBhPXt0eXBlOiJjcmVhdGUiLGluOnttb2RlbDp0LG9wdGlvbnM6ZX19LGk9W107dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJmkucHVzaCh0LmJ1ZmZlciksQXQucG9zdE1lc3NhZ2UoYSxpKX0pfWVsc2UgcmV0dXJuIGdoKHQsZSl9LEVoPWFzeW5jIHQ9PntpZihjcigpKXJldHVybiB4cigpLG5ldyBQcm9taXNlKChlLHIpPT57JHIoInJlbGVhc2UiLFtlLHJdKTtsZXQgbj17dHlwZToicmVsZWFzZSIsaW46dH07QXQucG9zdE1lc3NhZ2Uobil9KTtfaCh0KX0sQ2g9YXN5bmModCxlLHIsbixhLGkpPT57aWYoY3IoKSl7aWYoci5zb21lKHM9PnNbM10hPT0iY3B1IikpdGhyb3cgbmV3IEVycm9yKCJpbnB1dCB0ZW5zb3Igb24gR1BVIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHByb3h5LiIpO2lmKGEuc29tZShzPT5zKSl0aHJvdyBuZXcgRXJyb3IoInByZS1hbGxvY2F0ZWQgb3V0cHV0IHRlbnNvciBpcyBub3Qgc3VwcG9ydGVkIGZvciBwcm94eS4iKTtyZXR1cm4geHIoKSxuZXcgUHJvbWlzZSgocyxvKT0+eyRyKCJydW4iLFtzLG9dKTtsZXQgbD1yLGQ9e3R5cGU6InJ1biIsaW46e3Nlc3Npb25JZDp0LGlucHV0SW5kaWNlczplLGlucHV0czpsLG91dHB1dEluZGljZXM6bixvcHRpb25zOml9fTtBdC5wb3N0TWVzc2FnZShkLHZoKGwpKX0pfWVsc2UgcmV0dXJuIHloKHQsZSxyLG4sYSxpKX0sSWg9YXN5bmMgdD0+e2lmKGNyKCkpcmV0dXJuIHhyKCksbmV3IFByb21pc2UoKGUscik9PnskcigiZW5kLXByb2ZpbGluZyIsW2Uscl0pO2xldCBuPXt0eXBlOiJlbmQtcHJvZmlsaW5nIixpbjp0fTtBdC5wb3N0TWVzc2FnZShuKX0pO3doKHQpfX0pLERzLFRoLE9oLEZfPVEoKCk9PntEdCgpLEFoKCksWWUoKSx1bCgpLERzPSh0LGUpPT57c3dpdGNoKHQubG9jYXRpb24pe2Nhc2UiY3B1IjpyZXR1cm5bdC50eXBlLHQuZGltcyx0LmRhdGEsImNwdSJdO2Nhc2UiZ3B1LWJ1ZmZlciI6cmV0dXJuW3QudHlwZSx0LmRpbXMse2dwdUJ1ZmZlcjp0LmdwdUJ1ZmZlcn0sImdwdS1idWZmZXIiXTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgaW52YWxpZCBkYXRhIGxvY2F0aW9uOiAke3QubG9jYXRpb259IGZvciAke2UoKX1gKX19LFRoPXQ9Pntzd2l0Y2godFszXSl7Y2FzZSJjcHUiOnJldHVybiBuZXcgaHQodFswXSx0WzJdLHRbMV0pO2Nhc2UiZ3B1LWJ1ZmZlciI6e2xldCBlPXRbMF07aWYoIUdpKGUpKXRocm93IG5ldyBFcnJvcihgbm90IHN1cHBvcnRlZCBkYXRhIHR5cGU6ICR7ZX0gZm9yIGRlc2VyaWFsaXppbmcgR1BVIHRlbnNvcmApO2xldHtncHVCdWZmZXI6cixkb3dubG9hZDpuLGRpc3Bvc2U6YX09dFsyXTtyZXR1cm4gaHQuZnJvbUdwdUJ1ZmZlcihyLHtkYXRhVHlwZTplLGRpbXM6dFsxXSxkb3dubG9hZDpuLGRpc3Bvc2U6YX0pfWRlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIGRhdGEgbG9jYXRpb246ICR7dFszXX1gKX19LE9oPWNsYXNze2FzeW5jIGZldGNoTW9kZWxBbmRDb3B5VG9XYXNtTWVtb3J5KHQpe3JldHVybiBraChhd2FpdCB2YSh0KSl9YXN5bmMgbG9hZE1vZGVsKHQsZSl7UnQoKTtsZXQgcjt0eXBlb2YgdD09InN0cmluZyI/dHlwZW9mIHByb2Nlc3M8InUiJiZwcm9jZXNzLnZlcnNpb25zJiZwcm9jZXNzLnZlcnNpb25zLm5vZGU/cj1hd2FpdCB2YSh0KTpyPWF3YWl0IHRoaXMuZmV0Y2hNb2RlbEFuZENvcHlUb1dhc21NZW1vcnkodCk6cj10LFt0aGlzLnNlc3Npb25JZCx0aGlzLmlucHV0TmFtZXMsdGhpcy5vdXRwdXROYW1lc109YXdhaXQgU2gocixlKSxQdCgpfWFzeW5jIGRpc3Bvc2UoKXtyZXR1cm4gRWgodGhpcy5zZXNzaW9uSWQpfWFzeW5jIHJ1bih0LGUscil7UnQoKTtsZXQgbj1bXSxhPVtdO09iamVjdC5lbnRyaWVzKHQpLmZvckVhY2godT0+e2xldCBoPXVbMF0sZj11WzFdLGc9dGhpcy5pbnB1dE5hbWVzLmluZGV4T2YoaCk7aWYoZz09PS0xKXRocm93IG5ldyBFcnJvcihgaW52YWxpZCBpbnB1dCAnJHtofSdgKTtuLnB1c2goZiksYS5wdXNoKGcpfSk7bGV0IGk9W10scz1bXTtPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKHU9PntsZXQgaD11WzBdLGY9dVsxXSxnPXRoaXMub3V0cHV0TmFtZXMuaW5kZXhPZihoKTtpZihnPT09LTEpdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIG91dHB1dCAnJHtofSdgKTtpLnB1c2goZikscy5wdXNoKGcpfSk7bGV0IG89bi5tYXAoKHUsaCk9PkRzKHUsKCk9PmBpbnB1dCAiJHt0aGlzLmlucHV0TmFtZXNbYVtoXV19ImApKSxsPWkubWFwKCh1LGgpPT51P0RzKHUsKCk9PmBvdXRwdXQgIiR7dGhpcy5vdXRwdXROYW1lc1tzW2hdXX0iYCk6bnVsbCksZD1hd2FpdCBDaCh0aGlzLnNlc3Npb25JZCxhLG8scyxsLHIpLGM9e307Zm9yKGxldCB1PTA7dTxkLmxlbmd0aDt1KyspY1t0aGlzLm91dHB1dE5hbWVzW3NbdV1dXT1pW3VdPz9UaChkW3VdKTtyZXR1cm4gUHQoKSxjfXN0YXJ0UHJvZmlsaW5nKCl7fWVuZFByb2ZpbGluZygpe0loKHRoaXMuc2Vzc2lvbklkKX19fSksTWgsemgsVl89USgoKT0+e0R0KCksQWgoKSxGXygpLE1oPSgpPT57aWYoKHR5cGVvZiBEZS53YXNtLmluaXRUaW1lb3V0IT0ibnVtYmVyInx8RGUud2FzbS5pbml0VGltZW91dDwwKSYmKERlLndhc20uaW5pdFRpbWVvdXQ9MCksdHlwZW9mIERlLndhc20uc2ltZCE9ImJvb2xlYW4iJiYoRGUud2FzbS5zaW1kPSEwKSx0eXBlb2YgRGUud2FzbS5wcm94eSE9ImJvb2xlYW4iJiYoRGUud2FzbS5wcm94eT0hMSksdHlwZW9mIERlLndhc20udHJhY2UhPSJib29sZWFuIiYmKERlLndhc20udHJhY2U9ITEpLHR5cGVvZiBEZS53YXNtLm51bVRocmVhZHMhPSJudW1iZXIifHwhTnVtYmVyLmlzSW50ZWdlcihEZS53YXNtLm51bVRocmVhZHMpfHxEZS53YXNtLm51bVRocmVhZHM8PTApeyh0eXBlb2Ygc2VsZjwidSImJiFzZWxmLmNyb3NzT3JpZ2luSXNvbGF0ZWR8fHR5cGVvZiBwcm9jZXNzPCJ1IiYmcHJvY2Vzcy52ZXJzaW9ucyYmcHJvY2Vzcy52ZXJzaW9ucy5ub2RlKSYmKERlLndhc20ubnVtVGhyZWFkcz0xKTtsZXQgdD10eXBlb2YgbmF2aWdhdG9yPiJ1Ij8odm9pZCAwKSgpLmxlbmd0aDpuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeTtEZS53YXNtLm51bVRocmVhZHM9TWF0aC5taW4oNCxNYXRoLmNlaWwoKHR8fDEpLzIpKX19LHpoPWNsYXNze2FzeW5jIGluaXQodCl7TWgoKSxhd2FpdCAkaCgpLGF3YWl0IHhoKHQpfWFzeW5jIGNyZWF0ZUluZmVyZW5jZVNlc3Npb25IYW5kbGVyKHQsZSl7bGV0IHI9bmV3IE9oO3JldHVybiBhd2FpdCByLmxvYWRNb2RlbCh0LGUpLFByb21pc2UucmVzb2x2ZShyKX19fSksQmg9e307TnIoQmgse3dhc21CYWNrZW5kOigpPT5SaH0pO3ZhciBSaCxIXz1RKCgpPT57Vl8oKSxSaD1uZXcgemh9KTtEdCgpLER0KCksRHQoKTt2YXIgR189IjEuMTcuMSIscV89Rm87e2xldCB0PShIXygpLHdyKEJoKSkud2FzbUJhY2tlbmQ7VXIoIndlYmdwdSIsdCw1KSxVcigiY3B1Iix0LDEwKSxVcigid2FzbSIsdCwxMCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KERlLnZlcnNpb25zLCJ3ZWIiLHt2YWx1ZTpHXyxlbnVtZXJhYmxlOiEwfSk7dmFyIGpfPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGdldCBJbmZlcmVuY2VTZXNzaW9uKCl7cmV0dXJuIFBpfSxnZXQgVFJBQ0UoKXtyZXR1cm4gbG59LGdldCBUUkFDRV9GVU5DX0JFR0lOKCl7cmV0dXJuIFJ0fSxnZXQgVFJBQ0VfRlVOQ19FTkQoKXtyZXR1cm4gUHR9LGdldCBUZW5zb3IoKXtyZXR1cm4gaHR9LGdldCBUcmFpbmluZ1Nlc3Npb24oKXtyZXR1cm4gRGl9LGRlZmF1bHQ6cV8sZ2V0IGVudigpe3JldHVybiBEZX0sZ2V0IHJlZ2lzdGVyQmFja2VuZCgpe3JldHVybiBVcn19KTtjb25zdCBLXz0odCxlKT0+e2NvbnN0IHI9dHlwZW9mIGRvY3VtZW50PCJ1Ij9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTpuZXcgT2Zmc2NyZWVuQ2FudmFzKDEsMSk7ci53aWR0aD10LmRpbXNbM10sci5oZWlnaHQ9dC5kaW1zWzJdO2NvbnN0IG49ci5nZXRDb250ZXh0KCIyZCIpO2lmKG4hPW51bGwpe2xldCBhLGk7ZT8udGVuc29yTGF5b3V0IT09dm9pZCAwJiZlLnRlbnNvckxheW91dD09PSJOSFdDIj8oYT10LmRpbXNbMl0saT10LmRpbXNbM10pOihhPXQuZGltc1szXSxpPXQuZGltc1syXSk7Y29uc3Qgcz1lPy5mb3JtYXQhPT12b2lkIDA/ZS5mb3JtYXQ6IlJHQiIsbz1lPy5ub3JtO2xldCBsLGQ7bz09PXZvaWQgMHx8by5tZWFuPT09dm9pZCAwP2w9WzI1NSwyNTUsMjU1LDI1NV06dHlwZW9mIG8ubWVhbj09Im51bWJlciI/bD1bby5tZWFuLG8ubWVhbixvLm1lYW4sby5tZWFuXToobD1bby5tZWFuWzBdLG8ubWVhblsxXSxvLm1lYW5bMl0sMF0sby5tZWFuWzNdIT09dm9pZCAwJiYobFszXT1vLm1lYW5bM10pKSxvPT09dm9pZCAwfHxvLmJpYXM9PT12b2lkIDA/ZD1bMCwwLDAsMF06dHlwZW9mIG8uYmlhcz09Im51bWJlciI/ZD1bby5iaWFzLG8uYmlhcyxvLmJpYXMsby5iaWFzXTooZD1bby5iaWFzWzBdLG8uYmlhc1sxXSxvLmJpYXNbMl0sMF0sby5iaWFzWzNdIT09dm9pZCAwJiYoZFszXT1vLmJpYXNbM10pKTtjb25zdCBjPWkqYTtsZXQgdT0wLGg9YyxmPWMqMixnPS0xO3M9PT0iUkdCQSI/KHU9MCxoPWMsZj1jKjIsZz1jKjMpOnM9PT0iUkdCIj8odT0wLGg9YyxmPWMqMik6cz09PSJSQkciJiYodT0wLGY9YyxoPWMqMik7Zm9yKGxldCB5PTA7eTxpO3krKylmb3IobGV0IHc9MDt3PGE7dysrKXtjb25zdCB2PSh0LmRhdGFbdSsrXS1kWzBdKSpsWzBdLGs9KHQuZGF0YVtoKytdLWRbMV0pKmxbMV0sRT0odC5kYXRhW2YrK10tZFsyXSkqbFsyXSx4PWc9PT0tMT8yNTU6KHQuZGF0YVtnKytdLWRbM10pKmxbM107bi5maWxsU3R5bGU9InJnYmEoIit2KyIsIitrKyIsIitFKyIsIit4KyIpIixuLmZpbGxSZWN0KHcseSwxLDEpfWlmKCJ0b0RhdGFVUkwiaW4gcilyZXR1cm4gci50b0RhdGFVUkwoKTt0aHJvdyBuZXcgRXJyb3IoInRvRGF0YVVSTCBpcyBub3Qgc3VwcG9ydGVkIil9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkNhbiBub3QgYWNjZXNzIGltYWdlIGRhdGEiKX0sWV89KHQsZSk9Pntjb25zdCByPXR5cGVvZiBkb2N1bWVudDwidSI/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKTpuZXcgT2Zmc2NyZWVuQ2FudmFzKDEsMSkuZ2V0Q29udGV4dCgiMmQiKTtsZXQgbjtpZihyIT1udWxsKXtsZXQgYSxpLHM7ZT8udGVuc29yTGF5b3V0IT09dm9pZCAwJiZlLnRlbnNvckxheW91dD09PSJOSFdDIj8oYT10LmRpbXNbMl0saT10LmRpbXNbMV0scz10LmRpbXNbM10pOihhPXQuZGltc1szXSxpPXQuZGltc1syXSxzPXQuZGltc1sxXSk7Y29uc3Qgbz1lIT09dm9pZCAwJiZlLmZvcm1hdCE9PXZvaWQgMD9lLmZvcm1hdDoiUkdCIixsPWU/Lm5vcm07bGV0IGQsYztsPT09dm9pZCAwfHxsLm1lYW49PT12b2lkIDA/ZD1bMjU1LDI1NSwyNTUsMjU1XTp0eXBlb2YgbC5tZWFuPT0ibnVtYmVyIj9kPVtsLm1lYW4sbC5tZWFuLGwubWVhbixsLm1lYW5dOihkPVtsLm1lYW5bMF0sbC5tZWFuWzFdLGwubWVhblsyXSwyNTVdLGwubWVhblszXSE9PXZvaWQgMCYmKGRbM109bC5tZWFuWzNdKSksbD09PXZvaWQgMHx8bC5iaWFzPT09dm9pZCAwP2M9WzAsMCwwLDBdOnR5cGVvZiBsLmJpYXM9PSJudW1iZXIiP2M9W2wuYmlhcyxsLmJpYXMsbC5iaWFzLGwuYmlhc106KGM9W2wuYmlhc1swXSxsLmJpYXNbMV0sbC5iaWFzWzJdLDBdLGwuYmlhc1szXSE9PXZvaWQgMCYmKGNbM109bC5iaWFzWzNdKSk7Y29uc3QgdT1pKmE7aWYoZSE9PXZvaWQgMCYmKGUuZm9ybWF0IT09dm9pZCAwJiZzPT09NCYmZS5mb3JtYXQhPT0iUkdCQSJ8fHM9PT0zJiZlLmZvcm1hdCE9PSJSR0IiJiZlLmZvcm1hdCE9PSJCR1IiKSl0aHJvdyBuZXcgRXJyb3IoIlRlbnNvciBmb3JtYXQgZG9lc24ndCBtYXRjaCBpbnB1dCB0ZW5zb3IgZGltcyIpO2NvbnN0IGg9NDtsZXQgZj0wLGc9MSx5PTIsdz0zLHY9MCxrPXUsRT11KjIseD0tMTtvPT09IlJHQkEiPyh2PTAsaz11LEU9dSoyLHg9dSozKTpvPT09IlJHQiI/KHY9MCxrPXUsRT11KjIpOm89PT0iUkJHIiYmKHY9MCxFPXUsaz11KjIpLG49ci5jcmVhdGVJbWFnZURhdGEoYSxpKTtmb3IobGV0IEk9MDtJPGkqYTtmKz1oLGcrPWgseSs9aCx3Kz1oLEkrKyluLmRhdGFbZl09KHQuZGF0YVt2KytdLWNbMF0pKmRbMF0sbi5kYXRhW2ddPSh0LmRhdGFbaysrXS1jWzFdKSpkWzFdLG4uZGF0YVt5XT0odC5kYXRhW0UrK10tY1syXSkqZFsyXSxuLmRhdGFbd109eD09PS0xPzI1NToodC5kYXRhW3grK10tY1szXSkqZFszXX1lbHNlIHRocm93IG5ldyBFcnJvcigiQ2FuIG5vdCBhY2Nlc3MgaW1hZ2UgZGF0YSIpO3JldHVybiBufSxOcz0odCxlKT0+e2lmKHQ9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJJbWFnZSBidWZmZXIgbXVzdCBiZSBkZWZpbmVkIik7aWYoZS5oZWlnaHQ9PT12b2lkIDB8fGUud2lkdGg9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJJbWFnZSBoZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgZGVmaW5lZCIpO2lmKGUudGVuc29yTGF5b3V0PT09Ik5IV0MiKXRocm93IG5ldyBFcnJvcigiTkhXQyBUZW5zb3IgbGF5b3V0IGlzIG5vdCBzdXBwb3J0ZWQgeWV0Iik7Y29uc3R7aGVpZ2h0OnIsd2lkdGg6bn09ZSxhPWUubm9ybT8/e21lYW46MjU1LGJpYXM6MH07bGV0IGksczt0eXBlb2YgYS5tZWFuPT0ibnVtYmVyIj9pPVthLm1lYW4sYS5tZWFuLGEubWVhbixhLm1lYW5dOmk9W2EubWVhblswXSxhLm1lYW5bMV0sYS5tZWFuWzJdLGEubWVhblszXT8/MjU1XSx0eXBlb2YgYS5iaWFzPT0ibnVtYmVyIj9zPVthLmJpYXMsYS5iaWFzLGEuYmlhcyxhLmJpYXNdOnM9W2EuYmlhc1swXSxhLmJpYXNbMV0sYS5iaWFzWzJdLGEuYmlhc1szXT8/MF07Y29uc3Qgbz1lLmZvcm1hdCE9PXZvaWQgMD9lLmZvcm1hdDoiUkdCQSIsbD1lLnRlbnNvckZvcm1hdCE9PXZvaWQgMCYmZS50ZW5zb3JGb3JtYXQhPT12b2lkIDA/ZS50ZW5zb3JGb3JtYXQ6IlJHQiIsZD1yKm4sYz1sPT09IlJHQkEiP25ldyBGbG9hdDMyQXJyYXkoZCo0KTpuZXcgRmxvYXQzMkFycmF5KGQqMyk7bGV0IHU9NCxoPTAsZj0xLGc9Mix5PTMsdz0wLHY9ZCxrPWQqMixFPS0xO289PT0iUkdCIiYmKHU9MyxoPTAsZj0xLGc9Mix5PS0xKSxsPT09IlJHQkEiP0U9ZCozOmw9PT0iUkJHIj8odz0wLGs9ZCx2PWQqMik6bD09PSJCR1IiJiYoaz0wLHY9ZCx3PWQqMik7Zm9yKGxldCB4PTA7eDxkO3grKyxoKz11LGcrPXUsZis9dSx5Kz11KWNbdysrXT0odFtoXStzWzBdKS9pWzBdLGNbdisrXT0odFtmXStzWzFdKS9pWzFdLGNbaysrXT0odFtnXStzWzJdKS9pWzJdLEUhPT0tMSYmeSE9PS0xJiYoY1tFKytdPSh0W3ldK3NbM10pL2lbM10pO3JldHVybiBsPT09IlJHQkEiP25ldyBZdCgiZmxvYXQzMiIsYyxbMSw0LHIsbl0pOm5ldyBZdCgiZmxvYXQzMiIsYyxbMSwzLHIsbl0pfSxYXz1hc3luYyh0LGUpPT57Y29uc3Qgcj10eXBlb2YgSFRNTEltYWdlRWxlbWVudDwidSImJnQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50LG49dHlwZW9mIEltYWdlRGF0YTwidSImJnQgaW5zdGFuY2VvZiBJbWFnZURhdGEsYT10eXBlb2YgSW1hZ2VCaXRtYXA8InUiJiZ0IGluc3RhbmNlb2YgSW1hZ2VCaXRtYXAsaT10eXBlb2YgdD09InN0cmluZyI7bGV0IHMsbz1lPz97fTtjb25zdCBsPSgpPT57aWYodHlwZW9mIGRvY3VtZW50PCJ1IilyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7aWYodHlwZW9mIE9mZnNjcmVlbkNhbnZhczwidSIpcmV0dXJuIG5ldyBPZmZzY3JlZW5DYW52YXMoMSwxKTt0aHJvdyBuZXcgRXJyb3IoIkNhbnZhcyBpcyBub3Qgc3VwcG9ydGVkIil9LGQ9Yz0+YyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHxjIGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzP2MuZ2V0Q29udGV4dCgiMmQiKTpudWxsO2lmKHIpe2NvbnN0IGM9bCgpO2Mud2lkdGg9dC53aWR0aCxjLmhlaWdodD10LmhlaWdodDtjb25zdCB1PWQoYyk7aWYodSE9bnVsbCl7bGV0IGg9dC5oZWlnaHQsZj10LndpZHRoO2lmKGUhPT12b2lkIDAmJmUucmVzaXplZEhlaWdodCE9PXZvaWQgMCYmZS5yZXNpemVkV2lkdGghPT12b2lkIDAmJihoPWUucmVzaXplZEhlaWdodCxmPWUucmVzaXplZFdpZHRoKSxlIT09dm9pZCAwKXtpZihvPWUsZS50ZW5zb3JGb3JtYXQhPT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJJbWFnZSBpbnB1dCBjb25maWcgZm9ybWF0IG11c3QgYmUgUkdCQSBmb3IgSFRNTEltYWdlRWxlbWVudCIpO28udGVuc29yRm9ybWF0PSJSR0JBIixvLmhlaWdodD1oLG8ud2lkdGg9Zn1lbHNlIG8udGVuc29yRm9ybWF0PSJSR0JBIixvLmhlaWdodD1oLG8ud2lkdGg9Zjt1LmRyYXdJbWFnZSh0LDAsMCkscz11LmdldEltYWdlRGF0YSgwLDAsZixoKS5kYXRhfWVsc2UgdGhyb3cgbmV3IEVycm9yKCJDYW4gbm90IGFjY2VzcyBpbWFnZSBkYXRhIil9ZWxzZSBpZihuKXtsZXQgYyx1O2lmKGUhPT12b2lkIDAmJmUucmVzaXplZFdpZHRoIT09dm9pZCAwJiZlLnJlc2l6ZWRIZWlnaHQhPT12b2lkIDA/KGM9ZS5yZXNpemVkSGVpZ2h0LHU9ZS5yZXNpemVkV2lkdGgpOihjPXQuaGVpZ2h0LHU9dC53aWR0aCksZSE9PXZvaWQgMCYmKG89ZSksby5mb3JtYXQ9IlJHQkEiLG8uaGVpZ2h0PWMsby53aWR0aD11LGUhPT12b2lkIDApe2NvbnN0IGg9bCgpO2gud2lkdGg9dSxoLmhlaWdodD1jO2NvbnN0IGY9ZChoKTtpZihmIT1udWxsKWYucHV0SW1hZ2VEYXRhKHQsMCwwKSxzPWYuZ2V0SW1hZ2VEYXRhKDAsMCx1LGMpLmRhdGE7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkNhbiBub3QgYWNjZXNzIGltYWdlIGRhdGEiKX1lbHNlIHM9dC5kYXRhfWVsc2UgaWYoYSl7aWYoZT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIlBsZWFzZSBwcm92aWRlIGltYWdlIGNvbmZpZyB3aXRoIGZvcm1hdCBmb3IgSW1hZ2ViaXRtYXAiKTtjb25zdCBjPWwoKTtjLndpZHRoPXQud2lkdGgsYy5oZWlnaHQ9dC5oZWlnaHQ7Y29uc3QgdT1kKGMpO2lmKHUhPW51bGwpe2NvbnN0IGg9dC5oZWlnaHQsZj10LndpZHRoO3JldHVybiB1LmRyYXdJbWFnZSh0LDAsMCxmLGgpLHM9dS5nZXRJbWFnZURhdGEoMCwwLGYsaCkuZGF0YSxvLmhlaWdodD1oLG8ud2lkdGg9ZixOcyhzLG8pfWVsc2UgdGhyb3cgbmV3IEVycm9yKCJDYW4gbm90IGFjY2VzcyBpbWFnZSBkYXRhIil9ZWxzZXtpZihpKXJldHVybiBuZXcgUHJvbWlzZSgoYyx1KT0+e2NvbnN0IGg9bCgpLGY9ZChoKTtpZighdHx8IWYpcmV0dXJuIHUoKTtjb25zdCBnPW5ldyBJbWFnZTtnLmNyb3NzT3JpZ2luPSJBbm9ueW1vdXMiLGcuc3JjPXQsZy5vbmxvYWQ9KCk9PntoLndpZHRoPWcud2lkdGgsaC5oZWlnaHQ9Zy5oZWlnaHQsZi5kcmF3SW1hZ2UoZywwLDAsaC53aWR0aCxoLmhlaWdodCk7Y29uc3QgeT1mLmdldEltYWdlRGF0YSgwLDAsaC53aWR0aCxoLmhlaWdodCk7by5oZWlnaHQ9aC5oZWlnaHQsby53aWR0aD1oLndpZHRoLGMoTnMoeS5kYXRhLG8pKX19KTt0aHJvdyBuZXcgRXJyb3IoIklucHV0IGRhdGEgcHJvdmlkZWQgaXMgbm90IHN1cHBvcnRlZCAtIGFib3J0ZWQgdGVuc29yIGNyZWF0aW9uIil9aWYocyE9PXZvaWQgMClyZXR1cm4gTnMocyxvKTt0aHJvdyBuZXcgRXJyb3IoIklucHV0IGRhdGEgcHJvdmlkZWQgaXMgbm90IHN1cHBvcnRlZCAtIGFib3J0ZWQgdGVuc29yIGNyZWF0aW9uIil9LFFfPSh0LGUpPT57Y29uc3R7d2lkdGg6cixoZWlnaHQ6bixkb3dubG9hZDphLGRpc3Bvc2U6aX09ZSxzPVsxLG4sciw0XTtyZXR1cm4gbmV3IFl0KHtsb2NhdGlvbjoidGV4dHVyZSIsdHlwZToiZmxvYXQzMiIsdGV4dHVyZTp0LGRpbXM6cyxkb3dubG9hZDphLGRpc3Bvc2U6aX0pfSxaXz0odCxlKT0+e2NvbnN0e2RhdGFUeXBlOnIsZGltczpuLGRvd25sb2FkOmEsZGlzcG9zZTppfT1lO3JldHVybiBuZXcgWXQoe2xvY2F0aW9uOiJncHUtYnVmZmVyIix0eXBlOnI/PyJmbG9hdDMyIixncHVCdWZmZXI6dCxkaW1zOm4sZG93bmxvYWQ6YSxkaXNwb3NlOml9KX0sSl89KHQsZSxyKT0+bmV3IFl0KHtsb2NhdGlvbjoiY3B1LXBpbm5lZCIsdHlwZTp0LGRhdGE6ZSxkaW1zOnI/P1tlLmxlbmd0aF19KSxSYT1uZXcgTWFwKFtbImZsb2F0MzIiLEZsb2F0MzJBcnJheV0sWyJ1aW50OCIsVWludDhBcnJheV0sWyJpbnQ4IixJbnQ4QXJyYXldLFsidWludDE2IixVaW50MTZBcnJheV0sWyJmbG9hdDE2IixVaW50MTZBcnJheV0sWyJpbnQxNiIsSW50MTZBcnJheV0sWyJpbnQzMiIsSW50MzJBcnJheV0sWyJib29sIixVaW50OEFycmF5XSxbImZsb2F0NjQiLEZsb2F0NjRBcnJheV0sWyJ1aW50MzIiLFVpbnQzMkFycmF5XV0pLFVzPW5ldyBNYXAoW1tGbG9hdDMyQXJyYXksImZsb2F0MzIiXSxbVWludDhBcnJheSwidWludDgiXSxbSW50OEFycmF5LCJpbnQ4Il0sW1VpbnQxNkFycmF5LCJ1aW50MTYiXSxbSW50MTZBcnJheSwiaW50MTYiXSxbSW50MzJBcnJheSwiaW50MzIiXSxbRmxvYXQ2NEFycmF5LCJmbG9hdDY0Il0sW1VpbnQzMkFycmF5LCJ1aW50MzIiXV0pO2xldCBQaD0hMTtjb25zdCBlMD0oKT0+e2lmKCFQaCl7UGg9ITA7Y29uc3QgdD10eXBlb2YgQmlnSW50NjRBcnJheTwidSImJnR5cGVvZiBCaWdJbnQ2NEFycmF5LmZyb209PSJmdW5jdGlvbiIsZT10eXBlb2YgQmlnVWludDY0QXJyYXk8InUiJiZ0eXBlb2YgQmlnVWludDY0QXJyYXkuZnJvbT09ImZ1bmN0aW9uIjt0JiYoUmEuc2V0KCJpbnQ2NCIsQmlnSW50NjRBcnJheSksVXMuc2V0KEJpZ0ludDY0QXJyYXksImludDY0IikpLGUmJihSYS5zZXQoInVpbnQ2NCIsQmlnVWludDY0QXJyYXkpLFVzLnNldChCaWdVaW50NjRBcnJheSwidWludDY0IikpfX0sdDA9dD0+e2xldCBlPTE7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG49dFtyXTtpZih0eXBlb2YgbiE9Im51bWJlciJ8fCFOdW1iZXIuaXNTYWZlSW50ZWdlcihuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGBkaW1zWyR7cn1dIG11c3QgYmUgYW4gaW50ZWdlciwgZ290OiAke259YCk7aWYobjwwKXRocm93IG5ldyBSYW5nZUVycm9yKGBkaW1zWyR7cn1dIG11c3QgYmUgYSBub24tbmVnYXRpdmUgaW50ZWdlciwgZ290OiAke259YCk7ZSo9bn1yZXR1cm4gZX0scjA9KHQsZSk9Pntzd2l0Y2godC5sb2NhdGlvbil7Y2FzZSJjcHUiOnJldHVybiBuZXcgWXQodC50eXBlLHQuZGF0YSxlKTtjYXNlImNwdS1waW5uZWQiOnJldHVybiBuZXcgWXQoe2xvY2F0aW9uOiJjcHUtcGlubmVkIixkYXRhOnQuZGF0YSx0eXBlOnQudHlwZSxkaW1zOmV9KTtjYXNlInRleHR1cmUiOnJldHVybiBuZXcgWXQoe2xvY2F0aW9uOiJ0ZXh0dXJlIix0ZXh0dXJlOnQudGV4dHVyZSx0eXBlOnQudHlwZSxkaW1zOmV9KTtjYXNlImdwdS1idWZmZXIiOnJldHVybiBuZXcgWXQoe2xvY2F0aW9uOiJncHUtYnVmZmVyIixncHVCdWZmZXI6dC5ncHVCdWZmZXIsdHlwZTp0LnR5cGUsZGltczplfSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYHRlbnNvclJlc2hhcGU6IHRlbnNvciBsb2NhdGlvbiAke3QubG9jYXRpb259IGlzIG5vdCBzdXBwb3J0ZWRgKX19O2xldCBZdD1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUscil7ZTAoKTtsZXQgbixhO2lmKHR5cGVvZiB0PT0ib2JqZWN0IiYmImxvY2F0aW9uImluIHQpc3dpdGNoKHRoaXMuZGF0YUxvY2F0aW9uPXQubG9jYXRpb24sbj10LnR5cGUsYT10LmRpbXMsdC5sb2NhdGlvbil7Y2FzZSJjcHUtcGlubmVkIjp7Y29uc3Qgcz1SYS5nZXQobik7aWYoIXMpdGhyb3cgbmV3IFR5cGVFcnJvcihgdW5zdXBwb3J0ZWQgdHlwZSAiJHtufSIgdG8gY3JlYXRlIHRlbnNvciBmcm9tIHBpbm5lZCBidWZmZXJgKTtpZighKHQuZGF0YSBpbnN0YW5jZW9mIHMpKXRocm93IG5ldyBUeXBlRXJyb3IoYGJ1ZmZlciBzaG91bGQgYmUgb2YgdHlwZSAke3MubmFtZX1gKTt0aGlzLmNwdURhdGE9dC5kYXRhO2JyZWFrfWNhc2UidGV4dHVyZSI6e2lmKG4hPT0iZmxvYXQzMiIpdGhyb3cgbmV3IFR5cGVFcnJvcihgdW5zdXBwb3J0ZWQgdHlwZSAiJHtufSIgdG8gY3JlYXRlIHRlbnNvciBmcm9tIHRleHR1cmVgKTt0aGlzLmdwdVRleHR1cmVEYXRhPXQudGV4dHVyZSx0aGlzLmRvd25sb2FkZXI9dC5kb3dubG9hZCx0aGlzLmRpc3Bvc2VyPXQuZGlzcG9zZTticmVha31jYXNlImdwdS1idWZmZXIiOntpZihuIT09ImZsb2F0MzIiJiZuIT09ImZsb2F0MTYiJiZuIT09ImludDMyIiYmbiE9PSJpbnQ2NCImJm4hPT0idWludDMyIiYmbiE9PSJib29sIil0aHJvdyBuZXcgVHlwZUVycm9yKGB1bnN1cHBvcnRlZCB0eXBlICIke259IiB0byBjcmVhdGUgdGVuc29yIGZyb20gZ3B1IGJ1ZmZlcmApO3RoaXMuZ3B1QnVmZmVyRGF0YT10LmdwdUJ1ZmZlcix0aGlzLmRvd25sb2FkZXI9dC5kb3dubG9hZCx0aGlzLmRpc3Bvc2VyPXQuZGlzcG9zZTticmVha31kZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVGVuc29yIGNvbnN0cnVjdG9yOiB1bnN1cHBvcnRlZCBsb2NhdGlvbiAnJHt0aGlzLmRhdGFMb2NhdGlvbn0nYCl9ZWxzZXtsZXQgcyxvO2lmKHR5cGVvZiB0PT0ic3RyaW5nIilpZihuPXQsbz1yLHQ9PT0ic3RyaW5nIil7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQSBzdHJpbmcgdGVuc29yJ3MgZGF0YSBtdXN0IGJlIGEgc3RyaW5nIGFycmF5LiIpO3M9ZX1lbHNle2NvbnN0IGw9UmEuZ2V0KHQpO2lmKGw9PT12b2lkIDApdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5zdXBwb3J0ZWQgdGVuc29yIHR5cGU6ICR7dH0uYCk7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYodD09PSJmbG9hdDE2Iil0aHJvdyBuZXcgVHlwZUVycm9yKCJDcmVhdGluZyBhIGZsb2F0MTYgdGVuc29yIGZyb20gbnVtYmVyIGFycmF5IGlzIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSB1c2UgVWludDE2QXJyYXkgYXMgZGF0YS4iKTt0PT09InVpbnQ2NCJ8fHQ9PT0iaW50NjQiP3M9bC5mcm9tKGUsQmlnSW50KTpzPWwuZnJvbShlKX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBsKXM9ZTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoYEEgJHtufSB0ZW5zb3IncyBkYXRhIG11c3QgYmUgdHlwZSBvZiAke2x9YCl9ZWxzZSBpZihvPWUsQXJyYXkuaXNBcnJheSh0KSl7aWYodC5sZW5ndGg9PT0wKXRocm93IG5ldyBUeXBlRXJyb3IoIlRlbnNvciB0eXBlIGNhbm5vdCBiZSBpbmZlcnJlZCBmcm9tIGFuIGVtcHR5IGFycmF5LiIpO2NvbnN0IGw9dHlwZW9mIHRbMF07aWYobD09PSJzdHJpbmciKW49InN0cmluZyIscz10O2Vsc2UgaWYobD09PSJib29sZWFuIiluPSJib29sIixzPVVpbnQ4QXJyYXkuZnJvbSh0KTtlbHNlIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgZWxlbWVudCB0eXBlIG9mIGRhdGEgYXJyYXk6ICR7bH0uYCl9ZWxzZXtjb25zdCBsPVVzLmdldCh0LmNvbnN0cnVjdG9yKTtpZihsPT09dm9pZCAwKXRocm93IG5ldyBUeXBlRXJyb3IoYFVuc3VwcG9ydGVkIHR5cGUgZm9yIHRlbnNvciBkYXRhOiAke3QuY29uc3RydWN0b3J9LmApO249bCxzPXR9aWYobz09PXZvaWQgMClvPVtzLmxlbmd0aF07ZWxzZSBpZighQXJyYXkuaXNBcnJheShvKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBIHRlbnNvcidzIGRpbXMgbXVzdCBiZSBhIG51bWJlciBhcnJheSIpO2E9byx0aGlzLmNwdURhdGE9cyx0aGlzLmRhdGFMb2NhdGlvbj0iY3B1In1jb25zdCBpPXQwKGEpO2lmKHRoaXMuY3B1RGF0YSYmaSE9PXRoaXMuY3B1RGF0YS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGBUZW5zb3IncyBzaXplKCR7aX0pIGRvZXMgbm90IG1hdGNoIGRhdGEgbGVuZ3RoKCR7dGhpcy5jcHVEYXRhLmxlbmd0aH0pLmApO3RoaXMudHlwZT1uLHRoaXMuZGltcz1hLHRoaXMuc2l6ZT1pfXN0YXRpYyBhc3luYyBmcm9tSW1hZ2UodCxlKXtyZXR1cm4gWF8odCxlKX1zdGF0aWMgZnJvbVRleHR1cmUodCxlKXtyZXR1cm4gUV8odCxlKX1zdGF0aWMgZnJvbUdwdUJ1ZmZlcih0LGUpe3JldHVybiBaXyh0LGUpfXN0YXRpYyBmcm9tUGlubmVkQnVmZmVyKHQsZSxyKXtyZXR1cm4gSl8odCxlLHIpfXRvRGF0YVVSTCh0KXtyZXR1cm4gS18odGhpcyx0KX10b0ltYWdlRGF0YSh0KXtyZXR1cm4gWV8odGhpcyx0KX1nZXQgZGF0YSgpe2lmKHRoaXMuZW5zdXJlVmFsaWQoKSwhdGhpcy5jcHVEYXRhKXRocm93IG5ldyBFcnJvcigiVGhlIGRhdGEgaXMgbm90IG9uIENQVS4gVXNlIGBnZXREYXRhKClgIHRvIGRvd25sb2FkIEdQVSBkYXRhIHRvIENQVSwgb3IgdXNlIGB0ZXh0dXJlYCBvciBgZ3B1QnVmZmVyYCBwcm9wZXJ0eSB0byBhY2Nlc3MgdGhlIEdQVSBkYXRhIGRpcmVjdGx5LiIpO3JldHVybiB0aGlzLmNwdURhdGF9Z2V0IGxvY2F0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YUxvY2F0aW9ufWdldCB0ZXh0dXJlKCl7aWYodGhpcy5lbnN1cmVWYWxpZCgpLCF0aGlzLmdwdVRleHR1cmVEYXRhKXRocm93IG5ldyBFcnJvcigiVGhlIGRhdGEgaXMgbm90IHN0b3JlZCBhcyBhIFdlYkdMIHRleHR1cmUuIik7cmV0dXJuIHRoaXMuZ3B1VGV4dHVyZURhdGF9Z2V0IGdwdUJ1ZmZlcigpe2lmKHRoaXMuZW5zdXJlVmFsaWQoKSwhdGhpcy5ncHVCdWZmZXJEYXRhKXRocm93IG5ldyBFcnJvcigiVGhlIGRhdGEgaXMgbm90IHN0b3JlZCBhcyBhIFdlYkdQVSBidWZmZXIuIik7cmV0dXJuIHRoaXMuZ3B1QnVmZmVyRGF0YX1hc3luYyBnZXREYXRhKHQpe3N3aXRjaCh0aGlzLmVuc3VyZVZhbGlkKCksdGhpcy5kYXRhTG9jYXRpb24pe2Nhc2UiY3B1IjpjYXNlImNwdS1waW5uZWQiOnJldHVybiB0aGlzLmRhdGE7Y2FzZSJ0ZXh0dXJlIjpjYXNlImdwdS1idWZmZXIiOntpZighdGhpcy5kb3dubG9hZGVyKXRocm93IG5ldyBFcnJvcigiVGhlIGN1cnJlbnQgdGVuc29yIGlzIG5vdCBjcmVhdGVkIHdpdGggYSBzcGVjaWZpZWQgZGF0YSBkb3dubG9hZGVyLiIpO2lmKHRoaXMuaXNEb3dubG9hZGluZyl0aHJvdyBuZXcgRXJyb3IoIlRoZSBjdXJyZW50IHRlbnNvciBpcyBiZWluZyBkb3dubG9hZGVkLiIpO3RyeXt0aGlzLmlzRG93bmxvYWRpbmc9ITA7Y29uc3QgZT1hd2FpdCB0aGlzLmRvd25sb2FkZXIoKTtyZXR1cm4gdGhpcy5kb3dubG9hZGVyPXZvaWQgMCx0aGlzLmRhdGFMb2NhdGlvbj0iY3B1Iix0aGlzLmNwdURhdGE9ZSx0JiZ0aGlzLmRpc3Bvc2VyJiYodGhpcy5kaXNwb3NlcigpLHRoaXMuZGlzcG9zZXI9dm9pZCAwKSxlfWZpbmFsbHl7dGhpcy5pc0Rvd25sb2FkaW5nPSExfX1kZWZhdWx0OnRocm93IG5ldyBFcnJvcihgY2Fubm90IGdldCBkYXRhIGZyb20gbG9jYXRpb246ICR7dGhpcy5kYXRhTG9jYXRpb259YCl9fWRpc3Bvc2UoKXtpZih0aGlzLmlzRG93bmxvYWRpbmcpdGhyb3cgbmV3IEVycm9yKCJUaGUgY3VycmVudCB0ZW5zb3IgaXMgYmVpbmcgZG93bmxvYWRlZC4iKTt0aGlzLmRpc3Bvc2VyJiYodGhpcy5kaXNwb3NlcigpLHRoaXMuZGlzcG9zZXI9dm9pZCAwKSx0aGlzLmNwdURhdGE9dm9pZCAwLHRoaXMuZ3B1VGV4dHVyZURhdGE9dm9pZCAwLHRoaXMuZ3B1QnVmZmVyRGF0YT12b2lkIDAsdGhpcy5kb3dubG9hZGVyPXZvaWQgMCx0aGlzLmlzRG93bmxvYWRpbmc9dm9pZCAwLHRoaXMuZGF0YUxvY2F0aW9uPSJub25lIn1lbnN1cmVWYWxpZCgpe2lmKHRoaXMuZGF0YUxvY2F0aW9uPT09Im5vbmUiKXRocm93IG5ldyBFcnJvcigiVGhlIHRlbnNvciBpcyBkaXNwb3NlZC4iKX1yZXNoYXBlKHQpe2lmKHRoaXMuZW5zdXJlVmFsaWQoKSx0aGlzLmRvd25sb2FkZXJ8fHRoaXMuZGlzcG9zZXIpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgcmVzaGFwZSBhIHRlbnNvciB0aGF0IG93bnMgR1BVIHJlc291cmNlLiIpO3JldHVybiByMCh0aGlzLHQpfX07Y29uc3QgbjA9WXQsYTA9dHlwZW9mIG5hdmlnYXRvcjwidSImJiJncHUiaW4gbmF2aWdhdG9yLGkwPXR5cGVvZiBwcm9jZXNzPCJ1IiYmcHJvY2Vzcz8ucmVsZWFzZT8ubmFtZT09PSJub2RlIix2bj1bXTtsZXQgV3MsYm47aTA/KGJuPUtlPz9nZyx2bi5wdXNoKCJjcHUiKSxXcz1bImNwdSJdKTooYm49al8sYTAmJnZuLnB1c2goIndlYmdwdSIpLHZuLnB1c2goIndhc20iKSxXcz1bIndhc20iXSk7Y29uc3QgczA9Ym4uSW5mZXJlbmNlU2Vzc2lvbjtmdW5jdGlvbiBvMCh0KXtsZXQgZT1XcztpZih0KXtpZighdm4uaW5jbHVkZXModCkpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBkZXZpY2U6ICIke3R9Ii4gU2hvdWxkIGJlIG9uZSBvZjogJHt2bi5qb2luKCIsICIpfS5gKTtlPVt0XX1yZXR1cm4gZX1hc3luYyBmdW5jdGlvbiBsMCh0LGUpe2NvbnN0IHI9ey4uLmV9O3JldHVybiBhd2FpdCBzMC5jcmVhdGUodCxyKX1mdW5jdGlvbiBEaCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGJuLlRlbnNvcn1jb25zdCBrcj1ibj8uZW52O2tyPy53YXNtJiYoa3Iud2FzbS53YXNtUGF0aHM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vb25ueHJ1bnRpbWUtd2ViQDEuMTcuMS9kaXN0LyIsa3Iud2FzbS5wcm94eT0hMCwodHlwZW9mIGNyb3NzT3JpZ2luSXNvbGF0ZWQ+InUifHwhY3Jvc3NPcmlnaW5Jc29sYXRlZCkmJihrci53YXNtLm51bVRocmVhZHM9MSksdHlwZW9mIG5hdmlnYXRvcjwidSImJi9pUChob25lfG9kfGFkKS4rMTZfNC4rQXBwbGVXZWJLaXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJihrci53YXNtLnNpbWQ9ITEpKTtmdW5jdGlvbiB1MCgpe3JldHVybiBrcj8ud2FzbT8ucHJveHl9dHQuYmFja2VuZHMub25ueD1rcjtjb25zdCBOaD1PYmplY3QuZnJlZXplKHtmbG9hdDMyOkZsb2F0MzJBcnJheSxmbG9hdDE2OlVpbnQxNkFycmF5LGZsb2F0NjQ6RmxvYXQ2NEFycmF5LHN0cmluZzpBcnJheSxpbnQ4OkludDhBcnJheSx1aW50ODpVaW50OEFycmF5LGludDE2OkludDE2QXJyYXksdWludDE2OlVpbnQxNkFycmF5LGludDMyOkludDMyQXJyYXksdWludDMyOlVpbnQzMkFycmF5LGludDY0OkJpZ0ludDY0QXJyYXksdWludDY0OkJpZ1VpbnQ2NEFycmF5LGJvb2w6VWludDhBcnJheX0pO2NsYXNzIHJle2dldCBkaW1zKCl7cmV0dXJuIHRoaXMub3J0X3RlbnNvci5kaW1zfXNldCBkaW1zKGUpe3RoaXMub3J0X3RlbnNvci5kaW1zPWV9Z2V0IHR5cGUoKXtyZXR1cm4gdGhpcy5vcnRfdGVuc29yLnR5cGV9Z2V0IGRhdGEoKXtyZXR1cm4gdGhpcy5vcnRfdGVuc29yLmRhdGF9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5vcnRfdGVuc29yLnNpemV9b3J0X3RlbnNvcjtjb25zdHJ1Y3RvciguLi5lKXtyZXR1cm4gRGgoZVswXSk/dGhpcy5vcnRfdGVuc29yPWVbMF06dGhpcy5vcnRfdGVuc29yPW5ldyBuMChlWzBdLGVbMV0sZVsyXSksbmV3IFByb3h5KHRoaXMse2dldDoocixuKT0+e2lmKHR5cGVvZiBuPT0ic3RyaW5nIil7bGV0IGE9TnVtYmVyKG4pO2lmKE51bWJlci5pc0ludGVnZXIoYSkpcmV0dXJuIHIuX2dldGl0ZW0oYSl9cmV0dXJuIHJbbl19LHNldDoocixuLGEpPT5yW25dPWF9KX1kaXNwb3NlKCl7dGhpcy5vcnRfdGVuc29yLmRpc3Bvc2UoKX0qW1N5bWJvbC5pdGVyYXRvcl0oKXtjb25zdFtlLC4uLnJdPXRoaXMuZGltcztpZihyLmxlbmd0aD4wKXtjb25zdCBuPXIucmVkdWNlKChhLGkpPT5hKmkpO2ZvcihsZXQgYT0wO2E8ZTsrK2EpeWllbGQgdGhpcy5fc3ViYXJyYXkoYSxuLHIpfWVsc2UgeWllbGQqdGhpcy5kYXRhfV9nZXRpdGVtKGUpe2NvbnN0W3IsLi4ubl09dGhpcy5kaW1zO2lmKGU9cHIoZSxyKSxuLmxlbmd0aD4wKXtjb25zdCBhPW4ucmVkdWNlKChpLHMpPT5pKnMpO3JldHVybiB0aGlzLl9zdWJhcnJheShlLGEsbil9ZWxzZSByZXR1cm4gbmV3IHJlKHRoaXMudHlwZSxbdGhpcy5kYXRhW2VdXSxuKX1pbmRleE9mKGUpe2ZvcihsZXQgcj0wO3I8dGhpcy5kYXRhLmxlbmd0aDsrK3IpaWYodGhpcy5kYXRhW3JdPT1lKXJldHVybiByO3JldHVybi0xfV9zdWJhcnJheShlLHIsbil7Y29uc3QgYT1lKnIsaT0oZSsxKSpyLHM9InN1YmFycmF5ImluIHRoaXMuZGF0YT90aGlzLmRhdGEuc3ViYXJyYXkoYSxpKTp0aGlzLmRhdGEuc2xpY2UoYSxpKTtyZXR1cm4gbmV3IHJlKHRoaXMudHlwZSxzLG4pfWl0ZW0oKXtpZih0aGlzLmRhdGEubGVuZ3RoIT09MSl0aHJvdyBuZXcgRXJyb3IoYGEgVGVuc29yIHdpdGggJHt0aGlzLmRhdGEubGVuZ3RofSBlbGVtZW50cyBjYW5ub3QgYmUgY29udmVydGVkIHRvIFNjYWxhcmApO3JldHVybiB0aGlzLmRhdGFbMF19dG9saXN0KCl7cmV0dXJuIGQwKHRoaXMuZGF0YSx0aGlzLmRpbXMpfXNpZ21vaWQoKXtyZXR1cm4gdGhpcy5jbG9uZSgpLnNpZ21vaWRfKCl9c2lnbW9pZF8oKXtmb3IobGV0IGU9MDtlPHRoaXMuZGF0YS5sZW5ndGg7KytlKXRoaXMuZGF0YVtlXT0xLygxK01hdGguZXhwKC10aGlzLmRhdGFbZV0pKTtyZXR1cm4gdGhpc31tdWwoZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5tdWxfKGUpfW11bF8oZSl7Zm9yKGxldCByPTA7cjx0aGlzLmRhdGEubGVuZ3RoOysrcil0aGlzLmRhdGFbcl0qPWU7cmV0dXJuIHRoaXN9YWRkKGUpe3JldHVybiB0aGlzLmNsb25lKCkuYWRkXyhlKX1hZGRfKGUpe2ZvcihsZXQgcj0wO3I8dGhpcy5kYXRhLmxlbmd0aDsrK3IpdGhpcy5kYXRhW3JdKz1lO3JldHVybiB0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyByZSh0aGlzLnR5cGUsdGhpcy5kYXRhLnNsaWNlKCksdGhpcy5kaW1zLnNsaWNlKCkpfXNsaWNlKC4uLmUpe2xldCByPVtdLG49W107Zm9yKGxldCBsPTA7bDx0aGlzLmRpbXMubGVuZ3RoOysrbCl7bGV0IGQ9ZVtsXTtpZihkPT1udWxsKW4ucHVzaChbMCx0aGlzLmRpbXNbbF1dKSxyLnB1c2godGhpcy5kaW1zW2xdKTtlbHNlIGlmKHR5cGVvZiBkPT0ibnVtYmVyIilkPXByKGQsdGhpcy5kaW1zW2xdLGwpLG4ucHVzaChbZCxkKzFdKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkoZCkmJmQubGVuZ3RoPT09Mil7aWYoZFswXT5kWzFdKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzbGljZTogJHtkfWApO2xldCBjPVtNYXRoLm1heChkWzBdLDApLE1hdGgubWluKGRbMV0sdGhpcy5kaW1zW2xdKV07bi5wdXNoKGMpLHIucHVzaChjWzFdLWNbMF0pfWVsc2UgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHNsaWNlOiAke2R9YCl9bGV0IGE9bi5tYXAoKFtsLGRdKT0+ZC1sKSxpPWEucmVkdWNlKChsLGQpPT5sKmQpLHM9bmV3IHRoaXMuZGF0YS5jb25zdHJ1Y3RvcihpKTtjb25zdCBvPXRoaXMuc3RyaWRlKCk7Zm9yKGxldCBsPTA7bDxpOysrbCl7bGV0IGQ9MDtmb3IobGV0IGM9YS5sZW5ndGgtMSx1PWw7Yz49MDstLWMpe2NvbnN0IGg9YVtjXTtkKz0odSVoK25bY11bMF0pKm9bY10sdT1NYXRoLmZsb29yKHUvaCl9c1tsXT10aGlzLmRhdGFbZF19cmV0dXJuIG5ldyByZSh0aGlzLnR5cGUscyxyKX1wZXJtdXRlKC4uLmUpe3JldHVybiBjMCh0aGlzLGUpfXRyYW5zcG9zZSguLi5lKXtyZXR1cm4gdGhpcy5wZXJtdXRlKC4uLmUpfXN1bShlPW51bGwscj0hMSl7cmV0dXJuIHRoaXMubm9ybSgxLGUscil9bm9ybShlPSJmcm8iLHI9bnVsbCxuPSExKXtpZihlPT09ImZybyIpZT0yO2Vsc2UgaWYodHlwZW9mIGU9PSJzdHJpbmciKXRocm93IEVycm9yKGBVbnN1cHBvcnRlZCBub3JtOiAke2V9YCk7aWYocj09PW51bGwpe2xldCBzPXRoaXMuZGF0YS5yZWR1Y2UoKG8sbCk9Pm8rbCoqZSwwKSoqKDEvZSk7cmV0dXJuIG5ldyByZSh0aGlzLnR5cGUsW3NdLFtdKX1yPXByKHIsdGhpcy5kaW1zLmxlbmd0aCk7Y29uc3QgYT10aGlzLmRpbXMuc2xpY2UoKTthW3JdPTE7Y29uc3QgaT1uZXcgdGhpcy5kYXRhLmNvbnN0cnVjdG9yKHRoaXMuZGF0YS5sZW5ndGgvdGhpcy5kaW1zW3JdKTtmb3IobGV0IHM9MDtzPHRoaXMuZGF0YS5sZW5ndGg7KytzKXtsZXQgbz0wO2ZvcihsZXQgbD10aGlzLmRpbXMubGVuZ3RoLTEsZD1zLGM9MTtsPj0wOy0tbCl7Y29uc3QgdT10aGlzLmRpbXNbbF07aWYobCE9PXIpe2NvbnN0IGg9ZCV1O28rPWgqYyxjKj1hW2xdfWQ9TWF0aC5mbG9vcihkL3UpfWlbb10rPXRoaXMuZGF0YVtzXSoqZX1pZihlIT09MSlmb3IobGV0IHM9MDtzPGkubGVuZ3RoOysrcylpW3NdPWlbc10qKigxL2UpO3JldHVybiBufHxhLnNwbGljZShyLDEpLG5ldyByZSh0aGlzLnR5cGUsaSxhKX1ub3JtYWxpemVfKGU9MixyPTEpe3I9cHIocix0aGlzLmRpbXMubGVuZ3RoKTtjb25zdCBuPXRoaXMubm9ybShlLHIsITApO2ZvcihsZXQgYT0wO2E8dGhpcy5kYXRhLmxlbmd0aDsrK2Epe2xldCBpPTA7Zm9yKGxldCBzPXRoaXMuZGltcy5sZW5ndGgtMSxvPWEsbD0xO3M+PTA7LS1zKXtjb25zdCBkPXRoaXMuZGltc1tzXTtpZihzIT09cil7Y29uc3QgYz1vJWQ7aSs9YypsLGwqPXRoaXMuZGltc1tzXX1vPU1hdGguZmxvb3Ioby9kKX10aGlzLmRhdGFbYV0vPW4uZGF0YVtpXX1yZXR1cm4gdGhpc31ub3JtYWxpemUoZT0yLHI9MSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5ub3JtYWxpemVfKGUscil9c3RyaWRlKCl7cmV0dXJuIG0wKHRoaXMuZGltcyl9c3F1ZWV6ZShlPW51bGwpe3JldHVybiBuZXcgcmUodGhpcy50eXBlLHRoaXMuZGF0YSxVaCh0aGlzLmRpbXMsZSkpfXNxdWVlemVfKGU9bnVsbCl7cmV0dXJuIHRoaXMuZGltcz1VaCh0aGlzLmRpbXMsZSksdGhpc311bnNxdWVlemUoZT1udWxsKXtyZXR1cm4gbmV3IHJlKHRoaXMudHlwZSx0aGlzLmRhdGEsV2godGhpcy5kaW1zLGUpKX11bnNxdWVlemVfKGU9bnVsbCl7cmV0dXJuIHRoaXMuZGltcz1XaCh0aGlzLmRpbXMsZSksdGhpc31mbGF0dGVuXyhlPTAscj0tMSl7cj0ocit0aGlzLmRpbXMubGVuZ3RoKSV0aGlzLmRpbXMubGVuZ3RoO2xldCBuPXRoaXMuZGltcy5zbGljZSgwLGUpLGE9dGhpcy5kaW1zLnNsaWNlKGUscisxKSxpPXRoaXMuZGltcy5zbGljZShyKzEpO3JldHVybiB0aGlzLmRpbXM9Wy4uLm4sYS5yZWR1Y2UoKHMsbyk9PnMqbywxKSwuLi5pXSx0aGlzfWZsYXR0ZW4oZT0wLHI9LTEpe3JldHVybiB0aGlzLmNsb25lKCkuZmxhdHRlbl8oZSxyKX12aWV3KC4uLmUpe2xldCByPS0xO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7KytuKWlmKGVbbl09PT0tMSl7aWYociE9PS0xKXRocm93IG5ldyBFcnJvcigiT25seSBvbmUgZGltZW5zaW9uIGNhbiBiZSBpbmZlcnJlZCIpO3I9bn1pZihyIT09LTEpe2NvbnN0IG49ZS5yZWR1Y2UoKGEsaSxzKT0+cyE9PXI/YSppOmEsMSk7ZVtyXT10aGlzLmRhdGEubGVuZ3RoL259cmV0dXJuIG5ldyByZSh0aGlzLnR5cGUsdGhpcy5kYXRhLGUpfW5lZ18oKXtmb3IobGV0IGU9MDtlPHRoaXMuZGF0YS5sZW5ndGg7KytlKXRoaXMuZGF0YVtlXT0tdGhpcy5kYXRhW2VdO3JldHVybiB0aGlzfW5lZygpe3JldHVybiB0aGlzLmNsb25lKCkubmVnXygpfWNsYW1wXyhlLHIpe2ZvcihsZXQgbj0wO248dGhpcy5kYXRhLmxlbmd0aDsrK24pdGhpcy5kYXRhW25dPU1hdGgubWluKE1hdGgubWF4KHRoaXMuZGF0YVtuXSxlKSxyKTtyZXR1cm4gdGhpc31jbGFtcChlLHIpe3JldHVybiB0aGlzLmNsb25lKCkuY2xhbXBfKGUscil9cm91bmRfKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLmRhdGEubGVuZ3RoOysrZSl0aGlzLmRhdGFbZV09TWF0aC5yb3VuZCh0aGlzLmRhdGFbZV0pO3JldHVybiB0aGlzfXJvdW5kKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5yb3VuZF8oKX10byhlKXtpZih0aGlzLnR5cGU9PT1lKXJldHVybiB0aGlzO2lmKCFOaC5oYXNPd25Qcm9wZXJ0eShlKSl0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHR5cGU6ICR7ZX1gKTtyZXR1cm4gbmV3IHJlKGUsTmhbZV0uZnJvbSh0aGlzLmRhdGEpLHRoaXMuZGltcyl9fWZ1bmN0aW9uIGQwKHQsZSl7Y29uc3Qgcj10Lmxlbmd0aCxuPWUucmVkdWNlKChpLHMpPT5pKnMpO2lmKHIhPT1uKXRocm93IEVycm9yKGBjYW5ub3QgcmVzaGFwZSBhcnJheSBvZiBzaXplICR7cn0gaW50byBzaGFwZSAoJHtlfSlgKTtsZXQgYT10O2ZvcihsZXQgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKWE9YS5yZWR1Y2UoKHMsbyk9PntsZXQgbD1zW3MubGVuZ3RoLTFdO3JldHVybiBsLmxlbmd0aDxlW2ldP2wucHVzaChvKTpzLnB1c2goW29dKSxzfSxbW11dKTtyZXR1cm4gYVswXX1mdW5jdGlvbiBjMCh0LGUpe2NvbnN0W3Isbl09Q2codC5kYXRhLHQuZGltcyxlKTtyZXR1cm4gbmV3IHJlKHQudHlwZSxyLG4pfWZ1bmN0aW9uICRuKHQsW2Uscl0sbj0iYmlsaW5lYXIiLGE9ITEpe2NvbnN0IGk9dC5kaW1zLmF0KC0zKT8/MSxzPXQuZGltcy5hdCgtMiksbz10LmRpbXMuYXQoLTEpO2xldCBsPUVnKHQuZGF0YSxbaSxzLG9dLFtlLHJdLG4sYSk7cmV0dXJuIG5ldyByZSh0LnR5cGUsbCxbaSxlLHJdKX1mdW5jdGlvbiBwMCh0LGUpe2xldCByPVt0LmRpbXNbMF0sdC5kaW1zWzJdXSxuPW5ldyB0LmRhdGEuY29uc3RydWN0b3IoclswXSpyWzFdKSxbYSxpLHNdPXQuZGltcyxvPTA7Zm9yKGxldCBsPTA7bDxhOysrbCl7bGV0IGQ9bCpzKmk7Zm9yKGxldCBjPTA7YzxzOysrYyl7bGV0IHU9MCxoPTAsZj1sKmksZz1kK2M7Zm9yKGxldCB3PTA7dzxpOysrdyl7bGV0IHY9TnVtYmVyKGUuZGF0YVtmK3ddKTtoKz12LHUrPXQuZGF0YVtnK3cqc10qdn1sZXQgeT11L2g7bltvKytdPXl9fXJldHVybiBuZXcgcmUodC50eXBlLG4scil9ZnVuY3Rpb24gVWgodCxlKXtyZXR1cm4gdD10LnNsaWNlKCksZT09PW51bGw/dD10LmZpbHRlcihyPT5yIT09MSk6dHlwZW9mIGU9PSJudW1iZXIiP3RbZV09PT0xJiZ0LnNwbGljZShlLDEpOkFycmF5LmlzQXJyYXkoZSkmJih0PXQuZmlsdGVyKChyLG4pPT5yIT09MXx8IWUuaW5jbHVkZXMobikpKSx0fWZ1bmN0aW9uIFdoKHQsZSl7cmV0dXJuIGU9cHIoZSx0Lmxlbmd0aCsxKSx0PXQuc2xpY2UoKSx0LnNwbGljZShlLDAsMSksdH1mdW5jdGlvbiBwcih0LGUscj1udWxsKXtpZih0PC1lfHx0Pj1lKXRocm93IG5ldyBFcnJvcihgSW5kZXhFcnJvcjogaW5kZXggJHt0fSBpcyBvdXQgb2YgYm91bmRzIGZvciBkaW1lbnNpb24ke3I9PT1udWxsPyIiOiIgIityfSB3aXRoIHNpemUgJHtlfWApO3JldHVybiB0PDAmJih0PSh0JWUrZSklZSksdH1mdW5jdGlvbiBQYSh0LGU9MCl7ZT1wcihlLHRbMF0uZGltcy5sZW5ndGgpO2NvbnN0IHI9dFswXS5kaW1zLnNsaWNlKCk7cltlXT10LnJlZHVjZSgocyxvKT0+cytvLmRpbXNbZV0sMCk7Y29uc3Qgbj1yLnJlZHVjZSgocyxvKT0+cypvLDEpLGE9bmV3IHRbMF0uZGF0YS5jb25zdHJ1Y3RvcihuKSxpPXRbMF0udHlwZTtpZihlPT09MCl7bGV0IHM9MDtmb3IobGV0IG8gb2YgdClhLnNldChvLmRhdGEscykscys9by5kYXRhLmxlbmd0aH1lbHNle2xldCBzPTA7Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aDsrK28pe2xldCBsPXRbb107Zm9yKGxldCBkPTA7ZDxsLmRhdGEubGVuZ3RoOysrZCl7bGV0IGM9MDtmb3IobGV0IHU9bC5kaW1zLmxlbmd0aC0xLGg9ZCxmPTE7dT49MDstLXUpe2NvbnN0IGc9bC5kaW1zW3VdO2xldCB5PWglZzt1PT09ZSYmKHkrPXMpLGMrPXkqZixmKj1yW3VdLGg9TWF0aC5mbG9vcihoL2cpfWFbY109bC5kYXRhW2RdfXMrPWwuZGltc1tlXX19cmV0dXJuIG5ldyByZShpLGEscil9ZnVuY3Rpb24gRGEodCxlPTApe3JldHVybiBQYSh0Lm1hcChyPT5yLnVuc3F1ZWV6ZShlKSksZSl9ZnVuY3Rpb24gaDAodCxlPW51bGwscj0xLG49ITEpe2lmKGU9PT1udWxsKXtjb25zdCBvPXQuZGF0YS5yZWR1Y2UoKGMsdSk9PmMrdSwwKS90LmRhdGEubGVuZ3RoLGw9TWF0aC5zcXJ0KHQuZGF0YS5yZWR1Y2UoKGMsdSk9PmMrKHUtbykqKjIsMCkvKHQuZGF0YS5sZW5ndGgtcikpLGQ9bmV3IHJlKHQudHlwZSxbb10sW10pO3JldHVybltuZXcgcmUodC50eXBlLFtsXSxbXSksZF19ZT1wcihlLHQuZGltcy5sZW5ndGgpO2NvbnN0IGE9TGgodCxlLG4pLGk9dC5kaW1zLnNsaWNlKCk7aVtlXT0xO2NvbnN0IHM9bmV3IHQuZGF0YS5jb25zdHJ1Y3Rvcih0LmRhdGEubGVuZ3RoL3QuZGltc1tlXSk7Zm9yKGxldCBvPTA7bzx0LmRhdGEubGVuZ3RoOysrbyl7bGV0IGw9MDtmb3IobGV0IGQ9dC5kaW1zLmxlbmd0aC0xLGM9byx1PTE7ZD49MDstLWQpe2NvbnN0IGg9dC5kaW1zW2RdO2lmKGQhPT1lKXtjb25zdCBmPWMlaDtsKz1mKnUsdSo9aVtkXX1jPU1hdGguZmxvb3IoYy9oKX1zW2xdKz0odC5kYXRhW29dLWEuZGF0YVtsXSkqKjJ9Zm9yKGxldCBvPTA7bzxzLmxlbmd0aDsrK28pc1tvXT1NYXRoLnNxcnQoc1tvXS8odC5kaW1zW2VdLXIpKTtyZXR1cm4gbnx8aS5zcGxpY2UoZSwxKSxbbmV3IHJlKHQudHlwZSxzLGkpLGFdfWZ1bmN0aW9uIExoKHQsZT1udWxsLHI9ITEpe2lmKGU9PT1udWxsKXtsZXQgaT10LmRhdGEucmVkdWNlKChzLG8pPT5zK28sMCk7cmV0dXJuIG5ldyByZSh0LnR5cGUsW2kvdC5kYXRhLmxlbmd0aF0sW10pfWU9cHIoZSx0LmRpbXMubGVuZ3RoKTtjb25zdCBuPXQuZGltcy5zbGljZSgpO25bZV09MTtjb25zdCBhPW5ldyB0LmRhdGEuY29uc3RydWN0b3IodC5kYXRhLmxlbmd0aC90LmRpbXNbZV0pO2ZvcihsZXQgaT0wO2k8dC5kYXRhLmxlbmd0aDsrK2kpe2xldCBzPTA7Zm9yKGxldCBvPXQuZGltcy5sZW5ndGgtMSxsPWksZD0xO28+PTA7LS1vKXtjb25zdCBjPXQuZGltc1tvXTtpZihvIT09ZSl7Y29uc3QgdT1sJWM7cys9dSpkLGQqPW5bb119bD1NYXRoLmZsb29yKGwvYyl9YVtzXSs9dC5kYXRhW2ldfWlmKHQuZGltc1tlXSE9PTEpZm9yKGxldCBpPTA7aTxhLmxlbmd0aDsrK2kpYVtpXT1hW2ldL3QuZGltc1tlXTtyZXR1cm4gcnx8bi5zcGxpY2UoZSwxKSxuZXcgcmUodC50eXBlLGEsbil9ZnVuY3Rpb24gZjAodCl7Y29uc3RbZSxyXT10LmRpbXMsbj1bZSsxLHIrMV0sYT1uZXcgcmUoImZsb2F0MzIiLG5ldyBGbG9hdDMyQXJyYXkoblswXSpuWzFdKS5maWxsKDEvMCksbiksaT1uZXcgcmUoImZsb2F0MzIiLG5ldyBGbG9hdDMyQXJyYXkoblswXSpuWzFdKS5maWxsKC0xKSxuKTthWzBdLmRhdGFbMF09MDtmb3IobGV0IGM9MTtjPHIrMTsrK2MpZm9yKGxldCB1PTE7dTxlKzE7Kyt1KXtjb25zdCBoPWFbdS0xXVtjLTFdLml0ZW0oKSxmPWFbdS0xXVtjXS5pdGVtKCksZz1hW3VdW2MtMV0uaXRlbSgpO2xldCB5LHc7aDxmJiZoPGc/KHk9aCx3PTApOmY8aCYmZjxnPyh5PWYsdz0xKTooeT1nLHc9MiksYVt1XS5kYXRhW2NdPXRbdS0xXVtjLTFdLml0ZW0oKSt5LGlbdV0uZGF0YVtjXT13fWxldCBzPWUsbz1yO2kuZGF0YS5maWxsKDIsMCxuWzFdKTtmb3IobGV0IGM9MDtjPG5bMF07KytjKWlbY10uZGF0YVswXT0xO2xldCBsPVtdLGQ9W107Zm9yKDtzPjB8fG8+MDspc3dpdGNoKGwucHVzaChzLTEpLGQucHVzaChvLTEpLGlbc11bb10uaXRlbSgpKXtjYXNlIDA6LS1zLC0tbzticmVhaztjYXNlIDE6LS1zO2JyZWFrO2Nhc2UgMjotLW87YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYEludGVybmFsIGVycm9yIGluIGR5bmFtaWMgdGltZSB3YXJwaW5nLiBVbmV4cGVjdGVkIHRyYWNlWyR7c30sICR7b31dLiBQbGVhc2UgZmlsZSBhIGJ1ZyByZXBvcnQuYCl9cmV0dXJuIGwucmV2ZXJzZSgpLGQucmV2ZXJzZSgpLFtsLGRdfWZ1bmN0aW9uIG0wKHQpe2NvbnN0IGU9bmV3IEFycmF5KHQubGVuZ3RoKTtmb3IobGV0IHI9dC5sZW5ndGgtMSxuPTE7cj49MDstLXIpZVtyXT1uLG4qPXRbcl07cmV0dXJuIGV9ZnVuY3Rpb24gZzAodCl7Y29uc3QgZT10LnJlZHVjZSgocixuKT0+cipuLDEpO3JldHVybiBuZXcgcmUoImludDY0IixuZXcgQmlnSW50NjRBcnJheShlKS5maWxsKDFuKSx0KX1mdW5jdGlvbiBfMCh0KXtyZXR1cm4gZzAodC5kaW1zKX1jbGFzcyB5MHtjb25zdHJ1Y3RvcihlPShyLG4pPT5yPm4pe3RoaXMuX2hlYXA9W10sdGhpcy5fY29tcGFyYXRvcj1lfWdldCBzaXplKCl7cmV0dXJuIHRoaXMuX2hlYXAubGVuZ3RofWlzRW1wdHkoKXtyZXR1cm4gdGhpcy5zaXplPT09MH1wZWVrKCl7cmV0dXJuIHRoaXMuX2hlYXBbMF19cHVzaCguLi5lKXtyZXR1cm4gdGhpcy5leHRlbmQoZSl9ZXh0ZW5kKGUpe2Zvcihjb25zdCByIG9mIGUpdGhpcy5faGVhcC5wdXNoKHIpLHRoaXMuX3NpZnRVcCgpO3JldHVybiB0aGlzLnNpemV9cG9wKCl7Y29uc3QgZT10aGlzLnBlZWsoKSxyPXRoaXMuc2l6ZS0xO3JldHVybiByPjAmJnRoaXMuX3N3YXAoMCxyKSx0aGlzLl9oZWFwLnBvcCgpLHRoaXMuX3NpZnREb3duKCksZX1yZXBsYWNlKGUpe2NvbnN0IHI9dGhpcy5wZWVrKCk7cmV0dXJuIHRoaXMuX2hlYXBbMF09ZSx0aGlzLl9zaWZ0RG93bigpLHJ9X3BhcmVudChlKXtyZXR1cm4oZSsxPj4+MSktMX1fbGVmdChlKXtyZXR1cm4oZTw8MSkrMX1fcmlnaHQoZSl7cmV0dXJuIGUrMTw8MX1fZ3JlYXRlcihlLHIpe3JldHVybiB0aGlzLl9jb21wYXJhdG9yKHRoaXMuX2hlYXBbZV0sdGhpcy5faGVhcFtyXSl9X3N3YXAoZSxyKXtjb25zdCBuPXRoaXMuX2hlYXBbZV07dGhpcy5faGVhcFtlXT10aGlzLl9oZWFwW3JdLHRoaXMuX2hlYXBbcl09bn1fc2lmdFVwKCl7bGV0IGU9dGhpcy5zaXplLTE7Zm9yKDtlPjAmJnRoaXMuX2dyZWF0ZXIoZSx0aGlzLl9wYXJlbnQoZSkpOyl0aGlzLl9zd2FwKGUsdGhpcy5fcGFyZW50KGUpKSxlPXRoaXMuX3BhcmVudChlKX1fc2lmdERvd24oKXtsZXQgZT0wO2Zvcig7dGhpcy5fbGVmdChlKTx0aGlzLnNpemUmJnRoaXMuX2dyZWF0ZXIodGhpcy5fbGVmdChlKSxlKXx8dGhpcy5fcmlnaHQoZSk8dGhpcy5zaXplJiZ0aGlzLl9ncmVhdGVyKHRoaXMuX3JpZ2h0KGUpLGUpOyl7Y29uc3Qgcj10aGlzLl9yaWdodChlKTx0aGlzLnNpemUmJnRoaXMuX2dyZWF0ZXIodGhpcy5fcmlnaHQoZSksdGhpcy5fbGVmdChlKSk/dGhpcy5fcmlnaHQoZSk6dGhpcy5fbGVmdChlKTt0aGlzLl9zd2FwKGUsciksZT1yfX19Y2xhc3MgdzB7Y29uc3RydWN0b3IoKXt0aGlzLnJvb3Q9TmEuZGVmYXVsdCgpfWV4dGVuZChlKXtmb3IobGV0IHIgb2YgZSl0aGlzLnB1c2gocil9cHVzaChlKXtsZXQgcj10aGlzLnJvb3Q7Zm9yKGxldCBuIG9mIGUpe2xldCBhPXIuY2hpbGRyZW4uZ2V0KG4pO2E9PT12b2lkIDAmJihhPU5hLmRlZmF1bHQoKSxyLmNoaWxkcmVuLnNldChuLGEpKSxyPWF9ci5pc0xlYWY9ITB9KmNvbW1vblByZWZpeFNlYXJjaChlKXtsZXQgcj10aGlzLnJvb3Qsbj0iIjtmb3IobGV0IGE9MDthPGUubGVuZ3RoJiZyIT09dm9pZCAwOysrYSl7Y29uc3QgaT1lW2FdO24rPWkscj1yLmNoaWxkcmVuLmdldChpKSxyIT09dm9pZCAwJiZyLmlzTGVhZiYmKHlpZWxkIG4pfX19Y2xhc3MgTmF7Y29uc3RydWN0b3IoZSxyKXt0aGlzLmlzTGVhZj1lLHRoaXMuY2hpbGRyZW49cn1zdGF0aWMgZGVmYXVsdCgpe3JldHVybiBuZXcgTmEoITEsbmV3IE1hcCl9fWNsYXNzIHYwe2NvbnN0cnVjdG9yKGUscixuKXt0aGlzLnNlbnRlbmNlPWUsdGhpcy5sZW49ZS5sZW5ndGgsdGhpcy5ib3NUb2tlbklkPXIsdGhpcy5lb3NUb2tlbklkPW4sdGhpcy5ub2Rlcz1bXSx0aGlzLmJlZ2luTm9kZXM9QXJyYXkuZnJvbSh7bGVuZ3RoOnRoaXMubGVuKzF9LCgpPT5bXSksdGhpcy5lbmROb2Rlcz1BcnJheS5mcm9tKHtsZW5ndGg6dGhpcy5sZW4rMX0sKCk9PltdKTtjb25zdCBhPW5ldyB4bih0aGlzLmJvc1Rva2VuSWQsMCwwLDAsMCksaT1uZXcgeG4odGhpcy5lb3NUb2tlbklkLDEsdGhpcy5sZW4sMCwwKTt0aGlzLm5vZGVzLnB1c2goYS5jbG9uZSgpKSx0aGlzLm5vZGVzLnB1c2goaS5jbG9uZSgpKSx0aGlzLmJlZ2luTm9kZXNbdGhpcy5sZW5dLnB1c2goaSksdGhpcy5lbmROb2Rlc1swXS5wdXNoKGEpfWluc2VydChlLHIsbixhKXtjb25zdCBpPXRoaXMubm9kZXMubGVuZ3RoLHM9bmV3IHhuKGEsaSxlLHIsbik7dGhpcy5iZWdpbk5vZGVzW2VdLnB1c2gocyksdGhpcy5lbmROb2Rlc1tlK3JdLnB1c2gocyksdGhpcy5ub2Rlcy5wdXNoKHMpfXZpdGVyYmkoKXtjb25zdCBlPXRoaXMubGVuO2xldCByPTA7Zm9yKDtyPD1lOyl7aWYodGhpcy5iZWdpbk5vZGVzW3JdLmxlbmd0aD09MClyZXR1cm5bXTtmb3IobGV0IHMgb2YgdGhpcy5iZWdpbk5vZGVzW3JdKXtzLnByZXY9bnVsbDtsZXQgbz0wLGw9bnVsbDtmb3IobGV0IGQgb2YgdGhpcy5lbmROb2Rlc1tyXSl7Y29uc3QgYz1kLmJhY2t0cmFjZVNjb3JlK3Muc2NvcmU7KGw9PT1udWxsfHxjPm8pJiYobD1kLmNsb25lKCksbz1jKX1pZihsIT09bnVsbClzLnByZXY9bCxzLmJhY2t0cmFjZVNjb3JlPW87ZWxzZSByZXR1cm5bXX0rK3J9Y29uc3Qgbj1bXSxhPXRoaXMuYmVnaW5Ob2Rlc1tlXVswXS5wcmV2O2lmKGE9PT1udWxsKXJldHVybltdO2xldCBpPWEuY2xvbmUoKTtmb3IoO2kucHJldiE9PW51bGw7KW4ucHVzaChpLmNsb25lKCkpLGk9aS5jbG9uZSgpLnByZXYuY2xvbmUoKTtyZXR1cm4gbi5yZXZlcnNlKCksbn1waWVjZShlKXtyZXR1cm4gdGhpcy5zZW50ZW5jZS5zbGljZShlLnBvcyxlLnBvcytlLmxlbmd0aCl9dG9rZW5zKCl7cmV0dXJuIHRoaXMudml0ZXJiaSgpLm1hcChlPT50aGlzLnBpZWNlKGUpKX10b2tlbklkcygpe3JldHVybiB0aGlzLnZpdGVyYmkoKS5tYXAoZT0+ZS50b2tlbklkKX19Y2xhc3MgeG57Y29uc3RydWN0b3IoZSxyLG4sYSxpKXt0aGlzLnRva2VuSWQ9ZSx0aGlzLm5vZGVJZD1yLHRoaXMucG9zPW4sdGhpcy5sZW5ndGg9YSx0aGlzLnNjb3JlPWksdGhpcy5wcmV2PW51bGwsdGhpcy5iYWNrdHJhY2VTY29yZT0wfWNsb25lKCl7Y29uc3QgZT1uZXcgeG4odGhpcy50b2tlbklkLHRoaXMubm9kZUlkLHRoaXMucG9zLHRoaXMubGVuZ3RoLHRoaXMuc2NvcmUpO3JldHVybiBlLnByZXY9dGhpcy5wcmV2LGUuYmFja3RyYWNlU2NvcmU9dGhpcy5iYWNrdHJhY2VTY29yZSxlfX12YXIgTj1PYmplY3QuZnJlZXplKHtUZXh0OiJUZXh0IixOdW1lcmljTGl0ZXJhbDoiTnVtZXJpY0xpdGVyYWwiLEJvb2xlYW5MaXRlcmFsOiJCb29sZWFuTGl0ZXJhbCIsU3RyaW5nTGl0ZXJhbDoiU3RyaW5nTGl0ZXJhbCIsSWRlbnRpZmllcjoiSWRlbnRpZmllciIsRXF1YWxzOiJFcXVhbHMiLE9wZW5QYXJlbjoiT3BlblBhcmVuIixDbG9zZVBhcmVuOiJDbG9zZVBhcmVuIixPcGVuU3RhdGVtZW50OiJPcGVuU3RhdGVtZW50IixDbG9zZVN0YXRlbWVudDoiQ2xvc2VTdGF0ZW1lbnQiLE9wZW5FeHByZXNzaW9uOiJPcGVuRXhwcmVzc2lvbiIsQ2xvc2VFeHByZXNzaW9uOiJDbG9zZUV4cHJlc3Npb24iLE9wZW5TcXVhcmVCcmFja2V0OiJPcGVuU3F1YXJlQnJhY2tldCIsQ2xvc2VTcXVhcmVCcmFja2V0OiJDbG9zZVNxdWFyZUJyYWNrZXQiLE9wZW5DdXJseUJyYWNrZXQ6Ik9wZW5DdXJseUJyYWNrZXQiLENsb3NlQ3VybHlCcmFja2V0OiJDbG9zZUN1cmx5QnJhY2tldCIsQ29tbWE6IkNvbW1hIixEb3Q6IkRvdCIsQ29sb246IkNvbG9uIixQaXBlOiJQaXBlIixDYWxsT3BlcmF0b3I6IkNhbGxPcGVyYXRvciIsQWRkaXRpdmVCaW5hcnlPcGVyYXRvcjoiQWRkaXRpdmVCaW5hcnlPcGVyYXRvciIsTXVsdGlwbGljYXRpdmVCaW5hcnlPcGVyYXRvcjoiTXVsdGlwbGljYXRpdmVCaW5hcnlPcGVyYXRvciIsQ29tcGFyaXNvbkJpbmFyeU9wZXJhdG9yOiJDb21wYXJpc29uQmluYXJ5T3BlcmF0b3IiLFVuYXJ5T3BlcmF0b3I6IlVuYXJ5T3BlcmF0b3IiLFNldDoiU2V0IixJZjoiSWYiLEZvcjoiRm9yIixJbjoiSW4iLElzOiJJcyIsTm90SW46Ik5vdEluIixFbHNlOiJFbHNlIixFbmRJZjoiRW5kSWYiLEVsc2VJZjoiRWxzZUlmIixFbmRGb3I6IkVuZEZvciIsQW5kOiJBbmQiLE9yOiJPciIsTm90OiJVbmFyeU9wZXJhdG9yIn0pLEZoPU9iamVjdC5mcmVlemUoe3NldDpOLlNldCxmb3I6Ti5Gb3IsaW46Ti5JbixpczpOLklzLGlmOk4uSWYsZWxzZTpOLkVsc2UsZW5kaWY6Ti5FbmRJZixlbGlmOk4uRWxzZUlmLGVuZGZvcjpOLkVuZEZvcixhbmQ6Ti5BbmQsb3I6Ti5Pcixub3Q6Ti5Ob3QsIm5vdCBpbiI6Ti5Ob3RJbix0cnVlOk4uQm9vbGVhbkxpdGVyYWwsZmFsc2U6Ti5Cb29sZWFuTGl0ZXJhbH0pLFNyPWNsYXNze2NvbnN0cnVjdG9yKHQsZSl7dGhpcy52YWx1ZT10LHRoaXMudHlwZT1lfX07ZnVuY3Rpb24gVmgodCl7cmV0dXJuL1x3Ly50ZXN0KHQpfWZ1bmN0aW9uIExzKHQpe3JldHVybi9bMC05XS8udGVzdCh0KX12YXIgYjA9W1sieyUiLE4uT3BlblN0YXRlbWVudF0sWyIlfSIsTi5DbG9zZVN0YXRlbWVudF0sWyJ7eyIsTi5PcGVuRXhwcmVzc2lvbl0sWyJ9fSIsTi5DbG9zZUV4cHJlc3Npb25dLFsiKCIsTi5PcGVuUGFyZW5dLFsiKSIsTi5DbG9zZVBhcmVuXSxbInsiLE4uT3BlbkN1cmx5QnJhY2tldF0sWyJ9IixOLkNsb3NlQ3VybHlCcmFja2V0XSxbIlsiLE4uT3BlblNxdWFyZUJyYWNrZXRdLFsiXSIsTi5DbG9zZVNxdWFyZUJyYWNrZXRdLFsiLCIsTi5Db21tYV0sWyIuIixOLkRvdF0sWyI6IixOLkNvbG9uXSxbInwiLE4uUGlwZV0sWyI8PSIsTi5Db21wYXJpc29uQmluYXJ5T3BlcmF0b3JdLFsiPj0iLE4uQ29tcGFyaXNvbkJpbmFyeU9wZXJhdG9yXSxbIj09IixOLkNvbXBhcmlzb25CaW5hcnlPcGVyYXRvcl0sWyIhPSIsTi5Db21wYXJpc29uQmluYXJ5T3BlcmF0b3JdLFsiPCIsTi5Db21wYXJpc29uQmluYXJ5T3BlcmF0b3JdLFsiPiIsTi5Db21wYXJpc29uQmluYXJ5T3BlcmF0b3JdLFsiKyIsTi5BZGRpdGl2ZUJpbmFyeU9wZXJhdG9yXSxbIi0iLE4uQWRkaXRpdmVCaW5hcnlPcGVyYXRvcl0sWyIqIixOLk11bHRpcGxpY2F0aXZlQmluYXJ5T3BlcmF0b3JdLFsiLyIsTi5NdWx0aXBsaWNhdGl2ZUJpbmFyeU9wZXJhdG9yXSxbIiUiLE4uTXVsdGlwbGljYXRpdmVCaW5hcnlPcGVyYXRvcl0sWyI9IixOLkVxdWFsc11dLCQwPW5ldyBNYXAoW1sibiIsYApgXSxbInQiLCIJIl0sWyJyIiwiXHIiXSxbImIiLCJcYiJdLFsiZiIsIlxmIl0sWyJ2IiwiXHYiXSxbIiciLCInIl0sWyciJywnIiddLFsiXFwiLCJcXCJdXSk7ZnVuY3Rpb24geDAodCxlPXt9KXtyZXR1cm4gdC5lbmRzV2l0aChgCmApJiYodD10LnNsaWNlKDAsLTEpKSx0PXQucmVwbGFjZSgveyMuKj8jfS9ncywieyMjfSIpLGUubHN0cmlwX2Jsb2NrcyYmKHQ9dC5yZXBsYWNlKC9eWyBcdF0qKHtbIyVdKS9nbSwiJDEiKSksZS50cmltX2Jsb2NrcyYmKHQ9dC5yZXBsYWNlKC8oWyMlXX0pXG4vZywiJDEiKSksdC5yZXBsYWNlKC97IyN9L2csIiIpLnJlcGxhY2UoLy0lfVxzKi9nLCIlfSIpLnJlcGxhY2UoL1xzKnslLS9nLCJ7JSIpLnJlcGxhY2UoLy19fVxzKi9nLCJ9fSIpLnJlcGxhY2UoL1xzKnt7LS9nLCJ7eyIpfWZ1bmN0aW9uIGswKHQsZT17fSl7Y29uc3Qgcj1bXSxuPXgwKHQsZSk7bGV0IGE9MDtjb25zdCBpPXM9PntsZXQgbz0iIjtmb3IoO3MoblthXSk7KXtpZihuW2FdPT09IlxcIil7aWYoKythLGE+PW4ubGVuZ3RoKXRocm93IG5ldyBTeW50YXhFcnJvcigiVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQiKTtjb25zdCBsPW5bYSsrXSxkPSQwLmdldChsKTtpZihkPT09dm9pZCAwKXRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBlc2NhcGVkIGNoYXJhY3RlcjogJHtsfWApO28rPWQ7Y29udGludWV9aWYobys9blthKytdLGE+PW4ubGVuZ3RoKXRocm93IG5ldyBTeW50YXhFcnJvcigiVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQiKX1yZXR1cm4gb307ZTpmb3IoO2E8bi5sZW5ndGg7KXtjb25zdCBzPXIuYXQoLTEpPy50eXBlO2lmKHM9PT12b2lkIDB8fHM9PT1OLkNsb3NlU3RhdGVtZW50fHxzPT09Ti5DbG9zZUV4cHJlc3Npb24pe2xldCBsPSIiO2Zvcig7YTxuLmxlbmd0aCYmIShuW2FdPT09InsiJiYoblthKzFdPT09IiUifHxuW2ErMV09PT0ieyIpKTspbCs9blthKytdO2lmKGwubGVuZ3RoPjApe3IucHVzaChuZXcgU3IobCxOLlRleHQpKTtjb250aW51ZX19aShsPT4vXHMvLnRlc3QobCkpO2NvbnN0IG89blthXTtpZihvPT09Ii0ifHxvPT09IisiKXtjb25zdCBsPXIuYXQoLTEpPy50eXBlO2lmKGw9PT1OLlRleHR8fGw9PT12b2lkIDApdGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlcjogJHtvfWApO3N3aXRjaChsKXtjYXNlIE4uSWRlbnRpZmllcjpjYXNlIE4uTnVtZXJpY0xpdGVyYWw6Y2FzZSBOLkJvb2xlYW5MaXRlcmFsOmNhc2UgTi5TdHJpbmdMaXRlcmFsOmNhc2UgTi5DbG9zZVBhcmVuOmNhc2UgTi5DbG9zZVNxdWFyZUJyYWNrZXQ6YnJlYWs7ZGVmYXVsdDp7KythO2NvbnN0IGQ9aShMcyk7ci5wdXNoKG5ldyBTcihgJHtvfSR7ZH1gLGQubGVuZ3RoPjA/Ti5OdW1lcmljTGl0ZXJhbDpOLlVuYXJ5T3BlcmF0b3IpKTtjb250aW51ZX19fWZvcihjb25zdFtsLGRdb2YgYjApaWYobi5zbGljZShhLGErbC5sZW5ndGgpPT09bCl7ci5wdXNoKG5ldyBTcihsLGQpKSxhKz1sLmxlbmd0aDtjb250aW51ZSBlfWlmKG89PT0iJyJ8fG89PT0nIicpeysrYTtjb25zdCBsPWkoZD0+ZCE9PW8pO3IucHVzaChuZXcgU3IobCxOLlN0cmluZ0xpdGVyYWwpKSwrK2E7Y29udGludWV9aWYoTHMobykpe2NvbnN0IGw9aShMcyk7ci5wdXNoKG5ldyBTcihsLE4uTnVtZXJpY0xpdGVyYWwpKTtjb250aW51ZX1pZihWaChvKSl7Y29uc3QgbD1pKFZoKSxkPU9iamVjdC5oYXNPd24oRmgsbCk/RmhbbF06Ti5JZGVudGlmaWVyO2Q9PT1OLkluJiZyLmF0KC0xKT8udHlwZT09PU4uTm90PyhyLnBvcCgpLHIucHVzaChuZXcgU3IoIm5vdCBpbiIsTi5Ob3RJbikpKTpyLnB1c2gobmV3IFNyKGwsZCkpO2NvbnRpbnVlfXRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXI6ICR7b31gKX1yZXR1cm4gcn12YXIga249Y2xhc3N7dHlwZT0iU3RhdGVtZW50In0sUzA9Y2xhc3MgZXh0ZW5kcyBrbntjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuYm9keT10fXR5cGU9IlByb2dyYW0ifSxIaD1jbGFzcyBleHRlbmRzIGtue2NvbnN0cnVjdG9yKHQsZSxyKXtzdXBlcigpLHRoaXMudGVzdD10LHRoaXMuYm9keT1lLHRoaXMuYWx0ZXJuYXRlPXJ9dHlwZT0iSWYifSxFMD1jbGFzcyBleHRlbmRzIGtue2NvbnN0cnVjdG9yKHQsZSxyKXtzdXBlcigpLHRoaXMubG9vcHZhcj10LHRoaXMuaXRlcmFibGU9ZSx0aGlzLmJvZHk9cn10eXBlPSJGb3IifSxDMD1jbGFzcyBleHRlbmRzIGtue2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLmFzc2lnbmVlPXQsdGhpcy52YWx1ZT1lfXR5cGU9IlNldCJ9LFh0PWNsYXNzIGV4dGVuZHMga257dHlwZT0iRXhwcmVzc2lvbiJ9LEkwPWNsYXNzIGV4dGVuZHMgWHR7Y29uc3RydWN0b3IodCxlLHIpe3N1cGVyKCksdGhpcy5vYmplY3Q9dCx0aGlzLnByb3BlcnR5PWUsdGhpcy5jb21wdXRlZD1yfXR5cGU9Ik1lbWJlckV4cHJlc3Npb24ifSxBMD1jbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLmNhbGxlZT10LHRoaXMuYXJncz1lfXR5cGU9IkNhbGxFeHByZXNzaW9uIn0sR3I9Y2xhc3MgZXh0ZW5kcyBYdHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMudmFsdWU9dH10eXBlPSJJZGVudGlmaWVyIn0scXI9Y2xhc3MgZXh0ZW5kcyBYdHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMudmFsdWU9dH10eXBlPSJMaXRlcmFsIn0sVDA9Y2xhc3MgZXh0ZW5kcyBxcnt0eXBlPSJOdW1lcmljTGl0ZXJhbCJ9LEdoPWNsYXNzIGV4dGVuZHMgcXJ7dHlwZT0iU3RyaW5nTGl0ZXJhbCJ9LHFoPWNsYXNzIGV4dGVuZHMgcXJ7dHlwZT0iQm9vbGVhbkxpdGVyYWwifSxPMD1jbGFzcyBleHRlbmRzIHFye3R5cGU9IkFycmF5TGl0ZXJhbCJ9LGpoPWNsYXNzIGV4dGVuZHMgcXJ7dHlwZT0iVHVwbGVMaXRlcmFsIn0sTTA9Y2xhc3MgZXh0ZW5kcyBxcnt0eXBlPSJPYmplY3RMaXRlcmFsIn0sU249Y2xhc3MgZXh0ZW5kcyBYdHtjb25zdHJ1Y3Rvcih0LGUscil7c3VwZXIoKSx0aGlzLm9wZXJhdG9yPXQsdGhpcy5sZWZ0PWUsdGhpcy5yaWdodD1yfXR5cGU9IkJpbmFyeUV4cHJlc3Npb24ifSx6MD1jbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLm9wZXJhbmQ9dCx0aGlzLmZpbHRlcj1lfXR5cGU9IkZpbHRlckV4cHJlc3Npb24ifSxCMD1jbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKHQsZSxyKXtzdXBlcigpLHRoaXMub3BlcmFuZD10LHRoaXMubmVnYXRlPWUsdGhpcy50ZXN0PXJ9dHlwZT0iVGVzdEV4cHJlc3Npb24ifSxSMD1jbGFzcyBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoKSx0aGlzLm9wZXJhdG9yPXQsdGhpcy5hcmd1bWVudD1lfXR5cGU9IlVuYXJ5RXhwcmVzc2lvbiJ9LFAwPWNsYXNzIGV4dGVuZHMgWHR7Y29uc3RydWN0b3IodD12b2lkIDAsZT12b2lkIDAscj12b2lkIDApe3N1cGVyKCksdGhpcy5zdGFydD10LHRoaXMuc3RvcD1lLHRoaXMuc3RlcD1yfXR5cGU9IlNsaWNlRXhwcmVzc2lvbiJ9LEQwPWNsYXNzIGV4dGVuZHMgWHR7Y29uc3RydWN0b3IodCxlKXtzdXBlcigpLHRoaXMua2V5PXQsdGhpcy52YWx1ZT1lfXR5cGU9IktleXdvcmRBcmd1bWVudEV4cHJlc3Npb24ifTtmdW5jdGlvbiBOMCh0KXtjb25zdCBlPW5ldyBTMChbXSk7bGV0IHI9MDtmdW5jdGlvbiBuKFAsTCl7Y29uc3QgVj10W3IrK107aWYoIVZ8fFYudHlwZSE9PVApdGhyb3cgbmV3IEVycm9yKGBQYXJzZXIgRXJyb3I6ICR7TH0uICR7Vi50eXBlfSAhPT0gJHtQfS5gKTtyZXR1cm4gVn1mdW5jdGlvbiBhKCl7c3dpdGNoKHRbcl0udHlwZSl7Y2FzZSBOLlRleHQ6cmV0dXJuIG8oKTtjYXNlIE4uT3BlblN0YXRlbWVudDpyZXR1cm4gbCgpO2Nhc2UgTi5PcGVuRXhwcmVzc2lvbjpyZXR1cm4gZCgpO2RlZmF1bHQ6dGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIHRva2VuIHR5cGU6ICR7dFtyXS50eXBlfWApfX1mdW5jdGlvbiBpKC4uLlApe3JldHVybiByK1AubGVuZ3RoPD10Lmxlbmd0aCYmUC5zb21lKChMLFYpPT5MIT09dFtyK1ZdLnR5cGUpfWZ1bmN0aW9uIHMoLi4uUCl7cmV0dXJuIHIrUC5sZW5ndGg8PXQubGVuZ3RoJiZQLmV2ZXJ5KChMLFYpPT5MPT09dFtyK1ZdLnR5cGUpfWZ1bmN0aW9uIG8oKXtyZXR1cm4gbmV3IEdoKG4oTi5UZXh0LCJFeHBlY3RlZCB0ZXh0IHRva2VuIikudmFsdWUpfWZ1bmN0aW9uIGwoKXtuKE4uT3BlblN0YXRlbWVudCwiRXhwZWN0ZWQgb3BlbmluZyBzdGF0ZW1lbnQgdG9rZW4iKTtsZXQgUDtzd2l0Y2godFtyXS50eXBlKXtjYXNlIE4uU2V0OisrcixQPWMoKSxuKE4uQ2xvc2VTdGF0ZW1lbnQsIkV4cGVjdGVkIGNsb3Npbmcgc3RhdGVtZW50IHRva2VuIik7YnJlYWs7Y2FzZSBOLklmOisrcixQPXUoKSxuKE4uT3BlblN0YXRlbWVudCwiRXhwZWN0ZWQgeyUgdG9rZW4iKSxuKE4uRW5kSWYsIkV4cGVjdGVkIGVuZGlmIHRva2VuIiksbihOLkNsb3NlU3RhdGVtZW50LCJFeHBlY3RlZCAlfSB0b2tlbiIpO2JyZWFrO2Nhc2UgTi5Gb3I6KytyLFA9ZigpLG4oTi5PcGVuU3RhdGVtZW50LCJFeHBlY3RlZCB7JSB0b2tlbiIpLG4oTi5FbmRGb3IsIkV4cGVjdGVkIGVuZGZvciB0b2tlbiIpLG4oTi5DbG9zZVN0YXRlbWVudCwiRXhwZWN0ZWQgJX0gdG9rZW4iKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBTeW50YXhFcnJvcihgVW5rbm93biBzdGF0ZW1lbnQgdHlwZTogJHt0W3JdLnR5cGV9YCl9cmV0dXJuIFB9ZnVuY3Rpb24gZCgpe24oTi5PcGVuRXhwcmVzc2lvbiwiRXhwZWN0ZWQgb3BlbmluZyBleHByZXNzaW9uIHRva2VuIik7Y29uc3QgUD1nKCk7cmV0dXJuIG4oTi5DbG9zZUV4cHJlc3Npb24sIkV4cGVjdGVkIGNsb3NpbmcgZXhwcmVzc2lvbiB0b2tlbiIpLFB9ZnVuY3Rpb24gYygpe2NvbnN0IFA9ZygpO2lmKHMoTi5FcXVhbHMpKXsrK3I7Y29uc3QgTD1jKCk7cmV0dXJuIG5ldyBDMChQLEwpfXJldHVybiBQfWZ1bmN0aW9uIHUoKXtjb25zdCBQPWcoKTtuKE4uQ2xvc2VTdGF0ZW1lbnQsIkV4cGVjdGVkIGNsb3Npbmcgc3RhdGVtZW50IHRva2VuIik7Y29uc3QgTD1bXSxWPVtdO2Zvcig7ISh0W3JdPy50eXBlPT09Ti5PcGVuU3RhdGVtZW50JiYodFtyKzFdPy50eXBlPT09Ti5FbHNlSWZ8fHRbcisxXT8udHlwZT09PU4uRWxzZXx8dFtyKzFdPy50eXBlPT09Ti5FbmRJZikpOylMLnB1c2goYSgpKTtpZih0W3JdPy50eXBlPT09Ti5PcGVuU3RhdGVtZW50JiZ0W3IrMV0/LnR5cGUhPT1OLkVuZElmKWlmKCsrcixzKE4uRWxzZUlmKSluKE4uRWxzZUlmLCJFeHBlY3RlZCBlbHNlaWYgdG9rZW4iKSxWLnB1c2godSgpKTtlbHNlIGZvcihuKE4uRWxzZSwiRXhwZWN0ZWQgZWxzZSB0b2tlbiIpLG4oTi5DbG9zZVN0YXRlbWVudCwiRXhwZWN0ZWQgY2xvc2luZyBzdGF0ZW1lbnQgdG9rZW4iKTshKHRbcl0/LnR5cGU9PT1OLk9wZW5TdGF0ZW1lbnQmJnRbcisxXT8udHlwZT09PU4uRW5kSWYpOylWLnB1c2goYSgpKTtyZXR1cm4gbmV3IEhoKFAsTCxWKX1mdW5jdGlvbiBoKFA9ITEpe2NvbnN0IEw9UD9xOmcsVj1bTCgpXSx0ZT1zKE4uQ29tbWEpO2Zvcig7dGUmJigrK3IsVi5wdXNoKEwoKSksISFzKE4uQ29tbWEpKTspO3JldHVybiB0ZT9uZXcgamgoVik6VlswXX1mdW5jdGlvbiBmKCl7Y29uc3QgUD1oKCEwKTtpZighKFAgaW5zdGFuY2VvZiBHcnx8UCBpbnN0YW5jZW9mIGpoKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoYEV4cGVjdGVkIGlkZW50aWZpZXIvdHVwbGUgZm9yIHRoZSBsb29wIHZhcmlhYmxlLCBnb3QgJHtQLnR5cGV9IGluc3RlYWRgKTtuKE4uSW4sIkV4cGVjdGVkIGBpbmAga2V5d29yZCBmb2xsb3dpbmcgbG9vcCB2YXJpYWJsZSIpO2NvbnN0IEw9ZygpO24oTi5DbG9zZVN0YXRlbWVudCwiRXhwZWN0ZWQgY2xvc2luZyBzdGF0ZW1lbnQgdG9rZW4iKTtjb25zdCBWPVtdO2Zvcig7aShOLk9wZW5TdGF0ZW1lbnQsTi5FbmRGb3IpOylWLnB1c2goYSgpKTtyZXR1cm4gbmV3IEUwKFAsTCxWKX1mdW5jdGlvbiBnKCl7cmV0dXJuIHkoKX1mdW5jdGlvbiB5KCl7Y29uc3QgUD13KCk7aWYocyhOLklmKSl7KytyO2NvbnN0IEw9dygpO24oTi5FbHNlLCJFeHBlY3RlZCBlbHNlIHRva2VuIik7Y29uc3QgVj13KCk7cmV0dXJuIG5ldyBIaChMLFtQXSxbVl0pfXJldHVybiBQfWZ1bmN0aW9uIHcoKXtsZXQgUD12KCk7Zm9yKDtzKE4uT3IpOyl7Y29uc3QgTD10W3JdOysrcjtjb25zdCBWPXYoKTtQPW5ldyBTbihMLFAsVil9cmV0dXJuIFB9ZnVuY3Rpb24gdigpe2xldCBQPWsoKTtmb3IoO3MoTi5BbmQpOyl7Y29uc3QgTD10W3JdOysrcjtjb25zdCBWPWsoKTtQPW5ldyBTbihMLFAsVil9cmV0dXJuIFB9ZnVuY3Rpb24gaygpe2xldCBQO2Zvcig7cyhOLk5vdCk7KXtjb25zdCBMPXRbcl07KytyO2NvbnN0IFY9aygpO1A9bmV3IFIwKEwsVil9cmV0dXJuIFA/P0UoKX1mdW5jdGlvbiBFKCl7bGV0IFA9eCgpO2Zvcig7cyhOLkNvbXBhcmlzb25CaW5hcnlPcGVyYXRvcil8fHMoTi5Jbil8fHMoTi5Ob3RJbik7KXtjb25zdCBMPXRbcl07KytyO2NvbnN0IFY9eCgpO1A9bmV3IFNuKEwsUCxWKX1yZXR1cm4gUH1mdW5jdGlvbiB4KCl7bGV0IFA9TygpO2Zvcig7cyhOLkFkZGl0aXZlQmluYXJ5T3BlcmF0b3IpOyl7Y29uc3QgTD10W3JdOysrcjtjb25zdCBWPU8oKTtQPW5ldyBTbihMLFAsVil9cmV0dXJuIFB9ZnVuY3Rpb24gSSgpe2NvbnN0IFA9SygpO3JldHVybiBzKE4uT3BlblBhcmVuKT9UKFApOlB9ZnVuY3Rpb24gVChQKXtsZXQgTD1uZXcgQTAoUCxCKCkpO3JldHVybiBzKE4uT3BlblBhcmVuKSYmKEw9VChMKSksTH1mdW5jdGlvbiBCKCl7bihOLk9wZW5QYXJlbiwiRXhwZWN0ZWQgb3BlbmluZyBwYXJlbnRoZXNpcyBmb3IgYXJndW1lbnRzIGxpc3QiKTtjb25zdCBQPVUoKTtyZXR1cm4gbihOLkNsb3NlUGFyZW4sIkV4cGVjdGVkIGNsb3NpbmcgcGFyZW50aGVzaXMgZm9yIGFyZ3VtZW50cyBsaXN0IiksUH1mdW5jdGlvbiBVKCl7Y29uc3QgUD1bXTtmb3IoOyFzKE4uQ2xvc2VQYXJlbik7KXtsZXQgTD1nKCk7aWYocyhOLkVxdWFscykpe2lmKCsrciwhKEwgaW5zdGFuY2VvZiBHcikpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJFeHBlY3RlZCBpZGVudGlmaWVyIGZvciBrZXl3b3JkIGFyZ3VtZW50Iik7Y29uc3QgVj1nKCk7TD1uZXcgRDAoTCxWKX1QLnB1c2goTCkscyhOLkNvbW1hKSYmKytyfXJldHVybiBQfWZ1bmN0aW9uIEgoKXtjb25zdCBQPVtdO2xldCBMPSExO2Zvcig7IXMoTi5DbG9zZVNxdWFyZUJyYWNrZXQpOylzKE4uQ29sb24pPyhQLnB1c2godm9pZCAwKSwrK3IsTD0hMCk6KFAucHVzaChnKCkpLHMoTi5Db2xvbikmJigrK3IsTD0hMCkpO2lmKFAubGVuZ3RoPT09MCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBhcmd1bWVudCBmb3IgbWVtYmVyL3NsaWNlIGV4cHJlc3Npb24iKTtpZihMKXtpZihQLmxlbmd0aD4zKXRocm93IG5ldyBTeW50YXhFcnJvcigiRXhwZWN0ZWQgMC0zIGFyZ3VtZW50cyBmb3Igc2xpY2UgZXhwcmVzc2lvbiIpO3JldHVybiBuZXcgUDAoLi4uUCl9cmV0dXJuIFBbMF19ZnVuY3Rpb24gSygpe2xldCBQPXEoKTtmb3IoO3MoTi5Eb3QpfHxzKE4uT3BlblNxdWFyZUJyYWNrZXQpOyl7Y29uc3QgTD10W3JdOysrcjtsZXQgVjtjb25zdCB0ZT1MLnR5cGUhPT1OLkRvdDtpZih0ZSlWPUgoKSxuKE4uQ2xvc2VTcXVhcmVCcmFja2V0LCJFeHBlY3RlZCBjbG9zaW5nIHNxdWFyZSBicmFja2V0Iik7ZWxzZSBpZihWPXEoKSxWLnR5cGUhPT0iSWRlbnRpZmllciIpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJFeHBlY3RlZCBpZGVudGlmaWVyIGZvbGxvd2luZyBkb3Qgb3BlcmF0b3IiKTtQPW5ldyBJMChQLFYsdGUpfXJldHVybiBQfWZ1bmN0aW9uIE8oKXtsZXQgUD1HKCk7Zm9yKDtzKE4uTXVsdGlwbGljYXRpdmVCaW5hcnlPcGVyYXRvcik7KXtjb25zdCBMPXRbcl07KytyO2NvbnN0IFY9RygpO1A9bmV3IFNuKEwsUCxWKX1yZXR1cm4gUH1mdW5jdGlvbiBHKCl7bGV0IFA9bmUoKTtmb3IoO3MoTi5Jcyk7KXsrK3I7Y29uc3QgTD1zKE4uTm90KTtMJiYrK3I7bGV0IFY9cSgpO2lmKFYgaW5zdGFuY2VvZiBxaCYmKFY9bmV3IEdyKFYudmFsdWUudG9TdHJpbmcoKSkpLCEoViBpbnN0YW5jZW9mIEdyKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoIkV4cGVjdGVkIGlkZW50aWZpZXIgZm9yIHRoZSB0ZXN0Iik7UD1uZXcgQjAoUCxMLFYpfXJldHVybiBQfWZ1bmN0aW9uIG5lKCl7bGV0IFA9SSgpO2Zvcig7cyhOLlBpcGUpOyl7KytyO2xldCBMPXEoKTtpZighKEwgaW5zdGFuY2VvZiBHcikpdGhyb3cgbmV3IFN5bnRheEVycm9yKCJFeHBlY3RlZCBpZGVudGlmaWVyIGZvciB0aGUgZmlsdGVyIik7cyhOLk9wZW5QYXJlbikmJihMPVQoTCkpLFA9bmV3IHowKFAsTCl9cmV0dXJuIFB9ZnVuY3Rpb24gcSgpe2NvbnN0IFA9dFtyXTtzd2l0Y2goUC50eXBlKXtjYXNlIE4uTnVtZXJpY0xpdGVyYWw6cmV0dXJuKytyLG5ldyBUMChOdW1iZXIoUC52YWx1ZSkpO2Nhc2UgTi5TdHJpbmdMaXRlcmFsOnJldHVybisrcixuZXcgR2goUC52YWx1ZSk7Y2FzZSBOLkJvb2xlYW5MaXRlcmFsOnJldHVybisrcixuZXcgcWgoUC52YWx1ZT09PSJ0cnVlIik7Y2FzZSBOLklkZW50aWZpZXI6cmV0dXJuKytyLG5ldyBHcihQLnZhbHVlKTtjYXNlIE4uT3BlblBhcmVuOnsrK3I7Y29uc3QgTD1oKCk7aWYodFtyXS50eXBlIT09Ti5DbG9zZVBhcmVuKXRocm93IG5ldyBTeW50YXhFcnJvcihgRXhwZWN0ZWQgY2xvc2luZyBwYXJlbnRoZXNpcywgZ290ICR7dFtyXS50eXBlfSBpbnN0ZWFkYCk7cmV0dXJuKytyLEx9Y2FzZSBOLk9wZW5TcXVhcmVCcmFja2V0OnsrK3I7Y29uc3QgTD1bXTtmb3IoOyFzKE4uQ2xvc2VTcXVhcmVCcmFja2V0KTspTC5wdXNoKGcoKSkscyhOLkNvbW1hKSYmKytyO3JldHVybisrcixuZXcgTzAoTCl9Y2FzZSBOLk9wZW5DdXJseUJyYWNrZXQ6eysrcjtjb25zdCBMPW5ldyBNYXA7Zm9yKDshcyhOLkNsb3NlQ3VybHlCcmFja2V0KTspe2NvbnN0IFY9ZygpO24oTi5Db2xvbiwiRXhwZWN0ZWQgY29sb24gYmV0d2VlbiBrZXkgYW5kIHZhbHVlIGluIG9iamVjdCBsaXRlcmFsIik7Y29uc3QgdGU9ZygpO0wuc2V0KFYsdGUpLHMoTi5Db21tYSkmJisrcn1yZXR1cm4rK3IsbmV3IE0wKEwpfWRlZmF1bHQ6dGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIHRva2VuOiAke1AudHlwZX1gKX19Zm9yKDtyPHQubGVuZ3RoOyllLmJvZHkucHVzaChhKCkpO3JldHVybiBlfWZ1bmN0aW9uIFUwKHQsZSxyPTEpe2U9PT12b2lkIDAmJihlPXQsdD0wKTtjb25zdCBuPVtdO2ZvcihsZXQgYT10O2E8ZTthKz1yKW4ucHVzaChhKTtyZXR1cm4gbn1mdW5jdGlvbiBLaCh0LGUscixuPTEpe2NvbnN0IGE9TWF0aC5zaWduKG4pO2E+PTA/KGU9KGU/Pz0wKTwwP01hdGgubWF4KHQubGVuZ3RoK2UsMCk6TWF0aC5taW4oZSx0Lmxlbmd0aCkscj0ocj8/PXQubGVuZ3RoKTwwP01hdGgubWF4KHQubGVuZ3RoK3IsMCk6TWF0aC5taW4ocix0Lmxlbmd0aCkpOihlPShlPz89dC5sZW5ndGgtMSk8MD9NYXRoLm1heCh0Lmxlbmd0aCtlLC0xKTpNYXRoLm1pbihlLHQubGVuZ3RoLTEpLHI9KHI/Pz0tMSk8LTE/TWF0aC5tYXgodC5sZW5ndGgrciwtMSk6TWF0aC5taW4ocix0Lmxlbmd0aC0xKSk7Y29uc3QgaT1bXTtmb3IobGV0IHM9ZTthKnM8YSpyO3MrPW4paS5wdXNoKHRbc10pO3JldHVybiBpfWZ1bmN0aW9uIFloKHQpe3JldHVybiB0LnJlcGxhY2UoL1xiXHcvZyxlPT5lLnRvVXBwZXJDYXNlKCkpfXZhciBpcj1jbGFzc3t0eXBlPSJSdW50aW1lVmFsdWUiO3ZhbHVlO2J1aWx0aW5zPW5ldyBNYXA7Y29uc3RydWN0b3IodD12b2lkIDApe3RoaXMudmFsdWU9dH1fX2Jvb2xfXygpe3JldHVybiBuZXcgSmUoISF0aGlzLnZhbHVlKX19LEZlPWNsYXNzIGV4dGVuZHMgaXJ7dHlwZT0iTnVtZXJpY1ZhbHVlIn0sVGU9Y2xhc3MgZXh0ZW5kcyBpcnt0eXBlPSJTdHJpbmdWYWx1ZSI7YnVpbHRpbnM9bmV3IE1hcChbWyJ1cHBlciIsbmV3IHNyKCgpPT5uZXcgVGUodGhpcy52YWx1ZS50b1VwcGVyQ2FzZSgpKSldLFsibG93ZXIiLG5ldyBzcigoKT0+bmV3IFRlKHRoaXMudmFsdWUudG9Mb3dlckNhc2UoKSkpXSxbInN0cmlwIixuZXcgc3IoKCk9Pm5ldyBUZSh0aGlzLnZhbHVlLnRyaW0oKSkpXSxbInRpdGxlIixuZXcgc3IoKCk9Pm5ldyBUZShZaCh0aGlzLnZhbHVlKSkpXSxbImxlbmd0aCIsbmV3IEZlKHRoaXMudmFsdWUubGVuZ3RoKV1dKX0sSmU9Y2xhc3MgZXh0ZW5kcyBpcnt0eXBlPSJCb29sZWFuVmFsdWUifSxWdD1jbGFzcyBleHRlbmRzIGlye3R5cGU9Ik9iamVjdFZhbHVlIjtfX2Jvb2xfXygpe3JldHVybiBuZXcgSmUodGhpcy52YWx1ZS5zaXplPjApfWJ1aWx0aW5zPW5ldyBNYXAoW1siZ2V0IixuZXcgc3IoKFt0LGVdKT0+e2lmKCEodCBpbnN0YW5jZW9mIFRlKSl0aHJvdyBuZXcgRXJyb3IoYE9iamVjdCBrZXkgbXVzdCBiZSBhIHN0cmluZzogZ290ICR7dC50eXBlfWApO3JldHVybiB0aGlzLnZhbHVlLmdldCh0LnZhbHVlKT8/ZT8/bmV3IEVufSldLFsiaXRlbXMiLG5ldyBzcigoKT0+bmV3IFhlKEFycmF5LmZyb20odGhpcy52YWx1ZS5lbnRyaWVzKCkpLm1hcCgoW3QsZV0pPT5uZXcgWGUoW25ldyBUZSh0KSxlXSkpKSldXSl9LFhlPWNsYXNzIGV4dGVuZHMgaXJ7dHlwZT0iQXJyYXlWYWx1ZSI7YnVpbHRpbnM9bmV3IE1hcChbWyJsZW5ndGgiLG5ldyBGZSh0aGlzLnZhbHVlLmxlbmd0aCldXSk7X19ib29sX18oKXtyZXR1cm4gbmV3IEplKHRoaXMudmFsdWUubGVuZ3RoPjApfX0sVzA9Y2xhc3MgZXh0ZW5kcyBYZXt0eXBlPSJUdXBsZVZhbHVlIn0sc3I9Y2xhc3MgZXh0ZW5kcyBpcnt0eXBlPSJGdW5jdGlvblZhbHVlIn0sRW49Y2xhc3MgZXh0ZW5kcyBpcnt0eXBlPSJOdWxsVmFsdWUifSxIdD1jbGFzcyBleHRlbmRzIGlye3R5cGU9IlVuZGVmaW5lZFZhbHVlIn0sRnM9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5wYXJlbnQ9dH12YXJpYWJsZXM9bmV3IE1hcChbWyJuYW1lc3BhY2UiLG5ldyBzcih0PT57aWYodC5sZW5ndGg9PT0wKXJldHVybiBuZXcgVnQobmV3IE1hcCk7aWYodC5sZW5ndGghPT0xfHwhKHRbMF1pbnN0YW5jZW9mIFZ0KSl0aHJvdyBuZXcgRXJyb3IoImBuYW1lc3BhY2VgIGV4cGVjdHMgZWl0aGVyIHplcm8gYXJndW1lbnRzIG9yIGEgc2luZ2xlIG9iamVjdCBhcmd1bWVudCIpO3JldHVybiB0WzBdfSldXSk7dGVzdHM9bmV3IE1hcChbWyJib29sZWFuIix0PT50LnR5cGU9PT0iQm9vbGVhblZhbHVlIl0sWyJjYWxsYWJsZSIsdD0+dCBpbnN0YW5jZW9mIHNyXSxbIm9kZCIsdD0+e2lmKHQudHlwZSE9PSJOdW1lcmljVmFsdWUiKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGFwcGx5IHRlc3QgIm9kZCIgdG8gdHlwZTogJHt0LnR5cGV9YCk7cmV0dXJuIHQudmFsdWUlMiE9PTB9XSxbImV2ZW4iLHQ9PntpZih0LnR5cGUhPT0iTnVtZXJpY1ZhbHVlIil0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBhcHBseSB0ZXN0ICJldmVuIiB0byB0eXBlOiAke3QudHlwZX1gKTtyZXR1cm4gdC52YWx1ZSUyPT09MH1dLFsiZmFsc2UiLHQ9PnQudHlwZT09PSJCb29sZWFuVmFsdWUiJiYhdC52YWx1ZV0sWyJ0cnVlIix0PT50LnR5cGU9PT0iQm9vbGVhblZhbHVlIiYmdC52YWx1ZV0sWyJudW1iZXIiLHQ9PnQudHlwZT09PSJOdW1lcmljVmFsdWUiXSxbImludGVnZXIiLHQ9PnQudHlwZT09PSJOdW1lcmljVmFsdWUiJiZOdW1iZXIuaXNJbnRlZ2VyKHQudmFsdWUpXSxbIml0ZXJhYmxlIix0PT50IGluc3RhbmNlb2YgWGV8fHQgaW5zdGFuY2VvZiBUZV0sWyJsb3dlciIsdD0+e2NvbnN0IGU9dC52YWx1ZTtyZXR1cm4gdC50eXBlPT09IlN0cmluZ1ZhbHVlIiYmZT09PWUudG9Mb3dlckNhc2UoKX1dLFsidXBwZXIiLHQ9Pntjb25zdCBlPXQudmFsdWU7cmV0dXJuIHQudHlwZT09PSJTdHJpbmdWYWx1ZSImJmU9PT1lLnRvVXBwZXJDYXNlKCl9XSxbIm5vbmUiLHQ9PnQudHlwZT09PSJOdWxsVmFsdWUiXSxbImRlZmluZWQiLHQ9PnQudHlwZSE9PSJVbmRlZmluZWRWYWx1ZSJdLFsidW5kZWZpbmVkIix0PT50LnR5cGU9PT0iVW5kZWZpbmVkVmFsdWUiXSxbImVxdWFsdG8iLCh0LGUpPT50LnZhbHVlPT09ZS52YWx1ZV1dKTtzZXQodCxlKXtyZXR1cm4gdGhpcy5kZWNsYXJlVmFyaWFibGUodCxVYShlKSl9ZGVjbGFyZVZhcmlhYmxlKHQsZSl7aWYodGhpcy52YXJpYWJsZXMuaGFzKHQpKXRocm93IG5ldyBTeW50YXhFcnJvcihgVmFyaWFibGUgYWxyZWFkeSBkZWNsYXJlZDogJHt0fWApO3JldHVybiB0aGlzLnZhcmlhYmxlcy5zZXQodCxlKSxlfXNldFZhcmlhYmxlKHQsZSl7cmV0dXJuIHRoaXMudmFyaWFibGVzLnNldCh0LGUpLGV9cmVzb2x2ZSh0KXtpZih0aGlzLnZhcmlhYmxlcy5oYXModCkpcmV0dXJuIHRoaXM7aWYodGhpcy5wYXJlbnQpcmV0dXJuIHRoaXMucGFyZW50LnJlc29sdmUodCk7dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHZhcmlhYmxlOiAke3R9YCl9bG9va3VwVmFyaWFibGUodCl7dHJ5e3JldHVybiB0aGlzLnJlc29sdmUodCkudmFyaWFibGVzLmdldCh0KT8/bmV3IEh0fWNhdGNoe3JldHVybiBuZXcgSHR9fX0sTDA9Y2xhc3N7Z2xvYmFsO2NvbnN0cnVjdG9yKHQpe3RoaXMuZ2xvYmFsPXQ/P25ldyBGc31ydW4odCl7cmV0dXJuIHRoaXMuZXZhbHVhdGUodCx0aGlzLmdsb2JhbCl9ZXZhbHVhdGVCaW5hcnlFeHByZXNzaW9uKHQsZSl7Y29uc3Qgcj10aGlzLmV2YWx1YXRlKHQubGVmdCxlKTtzd2l0Y2godC5vcGVyYXRvci52YWx1ZSl7Y2FzZSJhbmQiOnJldHVybiByLl9fYm9vbF9fKCkudmFsdWU/dGhpcy5ldmFsdWF0ZSh0LnJpZ2h0LGUpOnI7Y2FzZSJvciI6cmV0dXJuIHIuX19ib29sX18oKS52YWx1ZT9yOnRoaXMuZXZhbHVhdGUodC5yaWdodCxlKX1jb25zdCBuPXRoaXMuZXZhbHVhdGUodC5yaWdodCxlKTtzd2l0Y2godC5vcGVyYXRvci52YWx1ZSl7Y2FzZSI9PSI6cmV0dXJuIG5ldyBKZShyLnZhbHVlPT1uLnZhbHVlKTtjYXNlIiE9IjpyZXR1cm4gbmV3IEplKHIudmFsdWUhPW4udmFsdWUpfWlmKHIgaW5zdGFuY2VvZiBIdHx8biBpbnN0YW5jZW9mIEh0KXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHBlcmZvcm0gb3BlcmF0aW9uIG9uIHVuZGVmaW5lZCB2YWx1ZXMiKTtpZihyIGluc3RhbmNlb2YgRW58fG4gaW5zdGFuY2VvZiBFbil0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBwZXJmb3JtIG9wZXJhdGlvbiBvbiBudWxsIHZhbHVlcyIpO2lmKHIgaW5zdGFuY2VvZiBGZSYmbiBpbnN0YW5jZW9mIEZlKXN3aXRjaCh0Lm9wZXJhdG9yLnZhbHVlKXtjYXNlIisiOnJldHVybiBuZXcgRmUoci52YWx1ZStuLnZhbHVlKTtjYXNlIi0iOnJldHVybiBuZXcgRmUoci52YWx1ZS1uLnZhbHVlKTtjYXNlIioiOnJldHVybiBuZXcgRmUoci52YWx1ZSpuLnZhbHVlKTtjYXNlIi8iOnJldHVybiBuZXcgRmUoci52YWx1ZS9uLnZhbHVlKTtjYXNlIiUiOnJldHVybiBuZXcgRmUoci52YWx1ZSVuLnZhbHVlKTtjYXNlIjwiOnJldHVybiBuZXcgSmUoci52YWx1ZTxuLnZhbHVlKTtjYXNlIj4iOnJldHVybiBuZXcgSmUoci52YWx1ZT5uLnZhbHVlKTtjYXNlIj49IjpyZXR1cm4gbmV3IEplKHIudmFsdWU+PW4udmFsdWUpO2Nhc2UiPD0iOnJldHVybiBuZXcgSmUoci52YWx1ZTw9bi52YWx1ZSl9ZWxzZSBpZihyIGluc3RhbmNlb2YgWGUmJm4gaW5zdGFuY2VvZiBYZSlzd2l0Y2godC5vcGVyYXRvci52YWx1ZSl7Y2FzZSIrIjpyZXR1cm4gbmV3IFhlKHIudmFsdWUuY29uY2F0KG4udmFsdWUpKX1lbHNlIGlmKG4gaW5zdGFuY2VvZiBYZSl7Y29uc3QgYT1uLnZhbHVlLmZpbmQoaT0+aS52YWx1ZT09PXIudmFsdWUpIT09dm9pZCAwO3N3aXRjaCh0Lm9wZXJhdG9yLnZhbHVlKXtjYXNlImluIjpyZXR1cm4gbmV3IEplKGEpO2Nhc2Uibm90IGluIjpyZXR1cm4gbmV3IEplKCFhKX19aWYociBpbnN0YW5jZW9mIFRlfHxuIGluc3RhbmNlb2YgVGUpc3dpdGNoKHQub3BlcmF0b3IudmFsdWUpe2Nhc2UiKyI6cmV0dXJuIG5ldyBUZShyLnZhbHVlLnRvU3RyaW5nKCkrbi52YWx1ZS50b1N0cmluZygpKX1pZihyIGluc3RhbmNlb2YgVGUmJm4gaW5zdGFuY2VvZiBUZSlzd2l0Y2godC5vcGVyYXRvci52YWx1ZSl7Y2FzZSJpbiI6cmV0dXJuIG5ldyBKZShuLnZhbHVlLmluY2x1ZGVzKHIudmFsdWUpKTtjYXNlIm5vdCBpbiI6cmV0dXJuIG5ldyBKZSghbi52YWx1ZS5pbmNsdWRlcyhyLnZhbHVlKSl9aWYociBpbnN0YW5jZW9mIFRlJiZuIGluc3RhbmNlb2YgVnQpc3dpdGNoKHQub3BlcmF0b3IudmFsdWUpe2Nhc2UiaW4iOnJldHVybiBuZXcgSmUobi52YWx1ZS5oYXMoci52YWx1ZSkpO2Nhc2Uibm90IGluIjpyZXR1cm4gbmV3IEplKCFuLnZhbHVlLmhhcyhyLnZhbHVlKSl9dGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmtub3duIG9wZXJhdG9yICIke3Qub3BlcmF0b3IudmFsdWV9IiBiZXR3ZWVuICR7ci50eXBlfSBhbmQgJHtuLnR5cGV9YCl9ZXZhbHVhdGVGaWx0ZXJFeHByZXNzaW9uKHQsZSl7Y29uc3Qgcj10aGlzLmV2YWx1YXRlKHQub3BlcmFuZCxlKTtpZih0LmZpbHRlci50eXBlPT09IklkZW50aWZpZXIiKXtjb25zdCBuPXQuZmlsdGVyO2lmKHIgaW5zdGFuY2VvZiBYZSlzd2l0Y2gobi52YWx1ZSl7Y2FzZSJsaXN0IjpyZXR1cm4gcjtjYXNlImZpcnN0IjpyZXR1cm4gci52YWx1ZVswXTtjYXNlImxhc3QiOnJldHVybiByLnZhbHVlW3IudmFsdWUubGVuZ3RoLTFdO2Nhc2UibGVuZ3RoIjpyZXR1cm4gbmV3IEZlKHIudmFsdWUubGVuZ3RoKTtjYXNlInJldmVyc2UiOnJldHVybiBuZXcgWGUoci52YWx1ZS5yZXZlcnNlKCkpO2Nhc2Uic29ydCI6cmV0dXJuIG5ldyBYZShyLnZhbHVlLnNvcnQoKGEsaSk9PntpZihhLnR5cGUhPT1pLnR5cGUpdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29tcGFyZSBkaWZmZXJlbnQgdHlwZXM6ICR7YS50eXBlfSBhbmQgJHtpLnR5cGV9YCk7c3dpdGNoKGEudHlwZSl7Y2FzZSJOdW1lcmljVmFsdWUiOnJldHVybiBhLnZhbHVlLWkudmFsdWU7Y2FzZSJTdHJpbmdWYWx1ZSI6cmV0dXJuIGEudmFsdWUubG9jYWxlQ29tcGFyZShpLnZhbHVlKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNvbXBhcmUgdHlwZTogJHthLnR5cGV9YCl9fSkpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIEFycmF5VmFsdWUgZmlsdGVyOiAke24udmFsdWV9YCl9ZWxzZSBpZihyIGluc3RhbmNlb2YgVGUpc3dpdGNoKG4udmFsdWUpe2Nhc2UibGVuZ3RoIjpyZXR1cm4gbmV3IEZlKHIudmFsdWUubGVuZ3RoKTtjYXNlInVwcGVyIjpyZXR1cm4gbmV3IFRlKHIudmFsdWUudG9VcHBlckNhc2UoKSk7Y2FzZSJsb3dlciI6cmV0dXJuIG5ldyBUZShyLnZhbHVlLnRvTG93ZXJDYXNlKCkpO2Nhc2UidGl0bGUiOnJldHVybiBuZXcgVGUoWWgoci52YWx1ZSkpO2Nhc2UiY2FwaXRhbGl6ZSI6cmV0dXJuIG5ldyBUZShyLnZhbHVlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3IudmFsdWUuc2xpY2UoMSkpO2Nhc2UidHJpbSI6cmV0dXJuIG5ldyBUZShyLnZhbHVlLnRyaW0oKSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gU3RyaW5nVmFsdWUgZmlsdGVyOiAke24udmFsdWV9YCl9ZWxzZSBpZihyIGluc3RhbmNlb2YgRmUpc3dpdGNoKG4udmFsdWUpe2Nhc2UiYWJzIjpyZXR1cm4gbmV3IEZlKE1hdGguYWJzKHIudmFsdWUpKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBOdW1lcmljVmFsdWUgZmlsdGVyOiAke24udmFsdWV9YCl9ZWxzZSBpZihyIGluc3RhbmNlb2YgVnQpc3dpdGNoKG4udmFsdWUpe2Nhc2UiaXRlbXMiOnJldHVybiBuZXcgWGUoQXJyYXkuZnJvbShyLnZhbHVlLmVudHJpZXMoKSkubWFwKChbYSxpXSk9Pm5ldyBYZShbbmV3IFRlKGEpLGldKSkpO2Nhc2UibGVuZ3RoIjpyZXR1cm4gbmV3IEZlKHIudmFsdWUuc2l6ZSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gT2JqZWN0VmFsdWUgZmlsdGVyOiAke24udmFsdWV9YCl9dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgYXBwbHkgZmlsdGVyICIke24udmFsdWV9IiB0byB0eXBlOiAke3IudHlwZX1gKX1lbHNlIGlmKHQuZmlsdGVyLnR5cGU9PT0iQ2FsbEV4cHJlc3Npb24iKXtjb25zdCBuPXQuZmlsdGVyO2lmKG4uY2FsbGVlLnR5cGUhPT0iSWRlbnRpZmllciIpdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZpbHRlcjogJHtuLmNhbGxlZS50eXBlfWApO2NvbnN0IGE9bi5jYWxsZWUudmFsdWU7aWYociBpbnN0YW5jZW9mIFhlKXtzd2l0Y2goYSl7Y2FzZSJzZWxlY3RhdHRyIjp7aWYoci52YWx1ZS5zb21lKGM9PiEoYyBpbnN0YW5jZW9mIFZ0KSkpdGhyb3cgbmV3IEVycm9yKCJgc2VsZWN0YXR0cmAgY2FuIG9ubHkgYmUgYXBwbGllZCB0byBhcnJheSBvZiBvYmplY3RzIik7aWYobi5hcmdzLnNvbWUoYz0+Yy50eXBlIT09IlN0cmluZ0xpdGVyYWwiKSl0aHJvdyBuZXcgRXJyb3IoImFyZ3VtZW50cyBvZiBgc2VsZWN0YXR0cmAgbXVzdCBiZSBzdHJpbmdzIik7Y29uc3RbaSxzLG9dPW4uYXJncy5tYXAoYz0+dGhpcy5ldmFsdWF0ZShjLGUpKTtsZXQgbDtpZihzKXtjb25zdCBjPWUudGVzdHMuZ2V0KHMudmFsdWUpO2lmKCFjKXRocm93IG5ldyBFcnJvcihgVW5rbm93biB0ZXN0OiAke3MudmFsdWV9YCk7bD1jfWVsc2UgbD0oLi4uYyk9PmNbMF0uX19ib29sX18oKS52YWx1ZTtjb25zdCBkPXIudmFsdWUuZmlsdGVyKGM9Pntjb25zdCB1PWMudmFsdWUuZ2V0KGkudmFsdWUpO3JldHVybiB1P2wodSxvKTohMX0pO3JldHVybiBuZXcgWGUoZCl9fXRocm93IG5ldyBFcnJvcihgVW5rbm93biBBcnJheVZhbHVlIGZpbHRlcjogJHthfWApfWVsc2UgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgYXBwbHkgZmlsdGVyICIke2F9IiB0byB0eXBlOiAke3IudHlwZX1gKX10aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZmlsdGVyOiAke3QuZmlsdGVyLnR5cGV9YCl9ZXZhbHVhdGVUZXN0RXhwcmVzc2lvbih0LGUpe2NvbnN0IHI9dGhpcy5ldmFsdWF0ZSh0Lm9wZXJhbmQsZSksbj1lLnRlc3RzLmdldCh0LnRlc3QudmFsdWUpO2lmKCFuKXRocm93IG5ldyBFcnJvcihgVW5rbm93biB0ZXN0OiAke3QudGVzdC52YWx1ZX1gKTtjb25zdCBhPW4ocik7cmV0dXJuIG5ldyBKZSh0Lm5lZ2F0ZT8hYTphKX1ldmFsdWF0ZVVuYXJ5RXhwcmVzc2lvbih0LGUpe2NvbnN0IHI9dGhpcy5ldmFsdWF0ZSh0LmFyZ3VtZW50LGUpO3N3aXRjaCh0Lm9wZXJhdG9yLnZhbHVlKXtjYXNlIm5vdCI6cmV0dXJuIG5ldyBKZSghci52YWx1ZSk7ZGVmYXVsdDp0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVua25vd24gb3BlcmF0b3I6ICR7dC5vcGVyYXRvci52YWx1ZX1gKX19ZXZhbFByb2dyYW0odCxlKXtyZXR1cm4gdGhpcy5ldmFsdWF0ZUJsb2NrKHQuYm9keSxlKX1ldmFsdWF0ZUJsb2NrKHQsZSl7bGV0IHI9IiI7Zm9yKGNvbnN0IG4gb2YgdCl7Y29uc3QgYT10aGlzLmV2YWx1YXRlKG4sZSk7YS50eXBlIT09Ik51bGxWYWx1ZSImJmEudHlwZSE9PSJVbmRlZmluZWRWYWx1ZSImJihyKz1hLnZhbHVlKX1yZXR1cm4gbmV3IFRlKHIpfWV2YWx1YXRlSWRlbnRpZmllcih0LGUpe3JldHVybiBlLmxvb2t1cFZhcmlhYmxlKHQudmFsdWUpfWV2YWx1YXRlQ2FsbEV4cHJlc3Npb24odCxlKXtjb25zdCByPVtdLG49bmV3IE1hcDtmb3IoY29uc3QgaSBvZiB0LmFyZ3MpaWYoaS50eXBlPT09IktleXdvcmRBcmd1bWVudEV4cHJlc3Npb24iKXtjb25zdCBzPWk7bi5zZXQocy5rZXkudmFsdWUsdGhpcy5ldmFsdWF0ZShzLnZhbHVlLGUpKX1lbHNlIHIucHVzaCh0aGlzLmV2YWx1YXRlKGksZSkpO24uc2l6ZT4wJiZyLnB1c2gobmV3IFZ0KG4pKTtjb25zdCBhPXRoaXMuZXZhbHVhdGUodC5jYWxsZWUsZSk7aWYoYS50eXBlIT09IkZ1bmN0aW9uVmFsdWUiKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNhbGwgc29tZXRoaW5nIHRoYXQgaXMgbm90IGEgZnVuY3Rpb246IGdvdCAke2EudHlwZX1gKTtyZXR1cm4gYS52YWx1ZShyLGUpfWV2YWx1YXRlU2xpY2VFeHByZXNzaW9uKHQsZSxyKXtpZighKHQgaW5zdGFuY2VvZiBYZXx8dCBpbnN0YW5jZW9mIFRlKSl0aHJvdyBuZXcgRXJyb3IoIlNsaWNlIG9iamVjdCBtdXN0IGJlIGFuIGFycmF5IG9yIHN0cmluZyIpO2NvbnN0IG49dGhpcy5ldmFsdWF0ZShlLnN0YXJ0LHIpLGE9dGhpcy5ldmFsdWF0ZShlLnN0b3AsciksaT10aGlzLmV2YWx1YXRlKGUuc3RlcCxyKTtpZighKG4gaW5zdGFuY2VvZiBGZXx8biBpbnN0YW5jZW9mIEh0KSl0aHJvdyBuZXcgRXJyb3IoIlNsaWNlIHN0YXJ0IG11c3QgYmUgbnVtZXJpYyBvciB1bmRlZmluZWQiKTtpZighKGEgaW5zdGFuY2VvZiBGZXx8YSBpbnN0YW5jZW9mIEh0KSl0aHJvdyBuZXcgRXJyb3IoIlNsaWNlIHN0b3AgbXVzdCBiZSBudW1lcmljIG9yIHVuZGVmaW5lZCIpO2lmKCEoaSBpbnN0YW5jZW9mIEZlfHxpIGluc3RhbmNlb2YgSHQpKXRocm93IG5ldyBFcnJvcigiU2xpY2Ugc3RlcCBtdXN0IGJlIG51bWVyaWMgb3IgdW5kZWZpbmVkIik7cmV0dXJuIHQgaW5zdGFuY2VvZiBYZT9uZXcgWGUoS2godC52YWx1ZSxuLnZhbHVlLGEudmFsdWUsaS52YWx1ZSkpOm5ldyBUZShLaChBcnJheS5mcm9tKHQudmFsdWUpLG4udmFsdWUsYS52YWx1ZSxpLnZhbHVlKS5qb2luKCIiKSl9ZXZhbHVhdGVNZW1iZXJFeHByZXNzaW9uKHQsZSl7Y29uc3Qgcj10aGlzLmV2YWx1YXRlKHQub2JqZWN0LGUpO2xldCBuO2lmKHQuY29tcHV0ZWQpe2lmKHQucHJvcGVydHkudHlwZT09PSJTbGljZUV4cHJlc3Npb24iKXJldHVybiB0aGlzLmV2YWx1YXRlU2xpY2VFeHByZXNzaW9uKHIsdC5wcm9wZXJ0eSxlKTtuPXRoaXMuZXZhbHVhdGUodC5wcm9wZXJ0eSxlKX1lbHNlIG49bmV3IFRlKHQucHJvcGVydHkudmFsdWUpO2xldCBhO2lmKHIgaW5zdGFuY2VvZiBWdCl7aWYoIShuIGluc3RhbmNlb2YgVGUpKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IGFjY2VzcyBwcm9wZXJ0eSB3aXRoIG5vbi1zdHJpbmc6IGdvdCAke24udHlwZX1gKTthPXIudmFsdWUuZ2V0KG4udmFsdWUpPz9yLmJ1aWx0aW5zLmdldChuLnZhbHVlKX1lbHNlIGlmKHIgaW5zdGFuY2VvZiBYZXx8ciBpbnN0YW5jZW9mIFRlKWlmKG4gaW5zdGFuY2VvZiBGZSlhPXIudmFsdWUuYXQobi52YWx1ZSksciBpbnN0YW5jZW9mIFRlJiYoYT1uZXcgVGUoci52YWx1ZS5hdChuLnZhbHVlKSkpO2Vsc2UgaWYobiBpbnN0YW5jZW9mIFRlKWE9ci5idWlsdGlucy5nZXQobi52YWx1ZSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBhY2Nlc3MgcHJvcGVydHkgd2l0aCBub24tc3RyaW5nL25vbi1udW1iZXI6IGdvdCAke24udHlwZX1gKTtlbHNle2lmKCEobiBpbnN0YW5jZW9mIFRlKSl0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBhY2Nlc3MgcHJvcGVydHkgd2l0aCBub24tc3RyaW5nOiBnb3QgJHtuLnR5cGV9YCk7YT1yLmJ1aWx0aW5zLmdldChuLnZhbHVlKX1yZXR1cm4gYSBpbnN0YW5jZW9mIGlyP2E6bmV3IEh0fWV2YWx1YXRlU2V0KHQsZSl7Y29uc3Qgcj10aGlzLmV2YWx1YXRlKHQudmFsdWUsZSk7aWYodC5hc3NpZ25lZS50eXBlPT09IklkZW50aWZpZXIiKXtjb25zdCBuPXQuYXNzaWduZWUudmFsdWU7ZS5zZXRWYXJpYWJsZShuLHIpfWVsc2UgaWYodC5hc3NpZ25lZS50eXBlPT09Ik1lbWJlckV4cHJlc3Npb24iKXtjb25zdCBuPXQuYXNzaWduZWUsYT10aGlzLmV2YWx1YXRlKG4ub2JqZWN0LGUpO2lmKCEoYSBpbnN0YW5jZW9mIFZ0KSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBhc3NpZ24gdG8gbWVtYmVyIG9mIG5vbi1vYmplY3QiKTtpZihuLnByb3BlcnR5LnR5cGUhPT0iSWRlbnRpZmllciIpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYXNzaWduIHRvIG1lbWJlciB3aXRoIG5vbi1pZGVudGlmaWVyIHByb3BlcnR5Iik7YS52YWx1ZS5zZXQobi5wcm9wZXJ0eS52YWx1ZSxyKX1lbHNlIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBMSFMgaW5zaWRlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbjogJHtKU09OLnN0cmluZ2lmeSh0LmFzc2lnbmVlKX1gKTtyZXR1cm4gbmV3IEVufWV2YWx1YXRlSWYodCxlKXtjb25zdCByPXRoaXMuZXZhbHVhdGUodC50ZXN0LGUpO3JldHVybiB0aGlzLmV2YWx1YXRlQmxvY2soci5fX2Jvb2xfXygpLnZhbHVlP3QuYm9keTp0LmFsdGVybmF0ZSxlKX1ldmFsdWF0ZUZvcih0LGUpe2NvbnN0IHI9bmV3IEZzKGUpLG49dGhpcy5ldmFsdWF0ZSh0Lml0ZXJhYmxlLHIpO2lmKCEobiBpbnN0YW5jZW9mIFhlKSl0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGl0ZXJhYmxlIHR5cGUgaW4gZm9yIGxvb3A6IGdvdCAke24udHlwZX1gKTtsZXQgYT0iIjtmb3IobGV0IGk9MDtpPG4udmFsdWUubGVuZ3RoOysraSl7Y29uc3Qgcz1uZXcgTWFwKFtbImluZGV4IixuZXcgRmUoaSsxKV0sWyJpbmRleDAiLG5ldyBGZShpKV0sWyJyZXZpbmRleCIsbmV3IEZlKG4udmFsdWUubGVuZ3RoLWkpXSxbInJldmluZGV4MCIsbmV3IEZlKG4udmFsdWUubGVuZ3RoLWktMSldLFsiZmlyc3QiLG5ldyBKZShpPT09MCldLFsibGFzdCIsbmV3IEplKGk9PT1uLnZhbHVlLmxlbmd0aC0xKV0sWyJsZW5ndGgiLG5ldyBGZShuLnZhbHVlLmxlbmd0aCldLFsicHJldml0ZW0iLGk+MD9uLnZhbHVlW2ktMV06bmV3IEh0XSxbIm5leHRpdGVtIixpPG4udmFsdWUubGVuZ3RoLTE/bi52YWx1ZVtpKzFdOm5ldyBIdF1dKTtyLnNldFZhcmlhYmxlKCJsb29wIixuZXcgVnQocykpO2NvbnN0IG89bi52YWx1ZVtpXTtpZih0Lmxvb3B2YXIudHlwZT09PSJJZGVudGlmaWVyIilyLnNldFZhcmlhYmxlKHQubG9vcHZhci52YWx1ZSxvKTtlbHNlIGlmKHQubG9vcHZhci50eXBlPT09IlR1cGxlTGl0ZXJhbCIpe2NvbnN0IGQ9dC5sb29wdmFyO2lmKG8udHlwZSE9PSJBcnJheVZhbHVlIil0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCB1bnBhY2sgbm9uLWl0ZXJhYmxlIHR5cGU6ICR7by50eXBlfWApO2NvbnN0IGM9bztpZihkLnZhbHVlLmxlbmd0aCE9PWMudmFsdWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihgVG9vICR7ZC52YWx1ZS5sZW5ndGg+Yy52YWx1ZS5sZW5ndGg/ImZldyI6Im1hbnkifSBpdGVtcyB0byB1bnBhY2tgKTtmb3IobGV0IHU9MDt1PGQudmFsdWUubGVuZ3RoOysrdSl7aWYoZC52YWx1ZVt1XS50eXBlIT09IklkZW50aWZpZXIiKXRocm93IG5ldyBFcnJvcihgQ2Fubm90IHVucGFjayBub24taWRlbnRpZmllciB0eXBlOiAke2QudmFsdWVbdV0udHlwZX1gKTtyLnNldFZhcmlhYmxlKGQudmFsdWVbdV0udmFsdWUsYy52YWx1ZVt1XSl9fWNvbnN0IGw9dGhpcy5ldmFsdWF0ZUJsb2NrKHQuYm9keSxyKTthKz1sLnZhbHVlfXJldHVybiBuZXcgVGUoYSl9ZXZhbHVhdGUodCxlKXtpZih0PT09dm9pZCAwKXJldHVybiBuZXcgSHQ7c3dpdGNoKHQudHlwZSl7Y2FzZSJQcm9ncmFtIjpyZXR1cm4gdGhpcy5ldmFsUHJvZ3JhbSh0LGUpO2Nhc2UiU2V0IjpyZXR1cm4gdGhpcy5ldmFsdWF0ZVNldCh0LGUpO2Nhc2UiSWYiOnJldHVybiB0aGlzLmV2YWx1YXRlSWYodCxlKTtjYXNlIkZvciI6cmV0dXJuIHRoaXMuZXZhbHVhdGVGb3IodCxlKTtjYXNlIk51bWVyaWNMaXRlcmFsIjpyZXR1cm4gbmV3IEZlKE51bWJlcih0LnZhbHVlKSk7Y2FzZSJTdHJpbmdMaXRlcmFsIjpyZXR1cm4gbmV3IFRlKHQudmFsdWUpO2Nhc2UiQm9vbGVhbkxpdGVyYWwiOnJldHVybiBuZXcgSmUodC52YWx1ZSk7Y2FzZSJBcnJheUxpdGVyYWwiOnJldHVybiBuZXcgWGUodC52YWx1ZS5tYXAocj0+dGhpcy5ldmFsdWF0ZShyLGUpKSk7Y2FzZSJUdXBsZUxpdGVyYWwiOnJldHVybiBuZXcgVzAodC52YWx1ZS5tYXAocj0+dGhpcy5ldmFsdWF0ZShyLGUpKSk7Y2FzZSJPYmplY3RMaXRlcmFsIjp7Y29uc3Qgcj1uZXcgTWFwO2Zvcihjb25zdFtuLGFdb2YgdC52YWx1ZSl7Y29uc3QgaT10aGlzLmV2YWx1YXRlKG4sZSk7aWYoIShpIGluc3RhbmNlb2YgVGUpKXRocm93IG5ldyBFcnJvcihgT2JqZWN0IGtleXMgbXVzdCBiZSBzdHJpbmdzOiBnb3QgJHtpLnR5cGV9YCk7ci5zZXQoaS52YWx1ZSx0aGlzLmV2YWx1YXRlKGEsZSkpfXJldHVybiBuZXcgVnQocil9Y2FzZSJJZGVudGlmaWVyIjpyZXR1cm4gdGhpcy5ldmFsdWF0ZUlkZW50aWZpZXIodCxlKTtjYXNlIkNhbGxFeHByZXNzaW9uIjpyZXR1cm4gdGhpcy5ldmFsdWF0ZUNhbGxFeHByZXNzaW9uKHQsZSk7Y2FzZSJNZW1iZXJFeHByZXNzaW9uIjpyZXR1cm4gdGhpcy5ldmFsdWF0ZU1lbWJlckV4cHJlc3Npb24odCxlKTtjYXNlIlVuYXJ5RXhwcmVzc2lvbiI6cmV0dXJuIHRoaXMuZXZhbHVhdGVVbmFyeUV4cHJlc3Npb24odCxlKTtjYXNlIkJpbmFyeUV4cHJlc3Npb24iOnJldHVybiB0aGlzLmV2YWx1YXRlQmluYXJ5RXhwcmVzc2lvbih0LGUpO2Nhc2UiRmlsdGVyRXhwcmVzc2lvbiI6cmV0dXJuIHRoaXMuZXZhbHVhdGVGaWx0ZXJFeHByZXNzaW9uKHQsZSk7Y2FzZSJUZXN0RXhwcmVzc2lvbiI6cmV0dXJuIHRoaXMuZXZhbHVhdGVUZXN0RXhwcmVzc2lvbih0LGUpO2RlZmF1bHQ6dGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmtub3duIG5vZGUgdHlwZTogJHt0LnR5cGV9YCl9fX07ZnVuY3Rpb24gVWEodCl7c3dpdGNoKHR5cGVvZiB0KXtjYXNlIm51bWJlciI6cmV0dXJuIG5ldyBGZSh0KTtjYXNlInN0cmluZyI6cmV0dXJuIG5ldyBUZSh0KTtjYXNlImJvb2xlYW4iOnJldHVybiBuZXcgSmUodCk7Y2FzZSJvYmplY3QiOnJldHVybiB0PT09bnVsbD9uZXcgRW46QXJyYXkuaXNBcnJheSh0KT9uZXcgWGUodC5tYXAoVWEpKTpuZXcgVnQobmV3IE1hcChPYmplY3QuZW50cmllcyh0KS5tYXAoKFtlLHJdKT0+W2UsVWEocildKSkpO2Nhc2UiZnVuY3Rpb24iOnJldHVybiBuZXcgc3IoKGUscik9Pntjb25zdCBuPXQoLi4uZS5tYXAoYT0+YS52YWx1ZSkpPz9udWxsO3JldHVybiBVYShuKX0pO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29udmVydCB0byBydW50aW1lIHZhbHVlOiAke3R9YCl9fXZhciBGMD1jbGFzc3twYXJzZWQ7Y29uc3RydWN0b3IodCl7Y29uc3QgZT1rMCh0LHtsc3RyaXBfYmxvY2tzOiEwLHRyaW1fYmxvY2tzOiEwfSk7dGhpcy5wYXJzZWQ9TjAoZSl9cmVuZGVyKHQpe2NvbnN0IGU9bmV3IEZzO2Uuc2V0KCJmYWxzZSIsITEpLGUuc2V0KCJ0cnVlIiwhMCksZS5zZXQoInJhaXNlX2V4Y2VwdGlvbiIscj0+e3Rocm93IG5ldyBFcnJvcihyKX0pLGUuc2V0KCJyYW5nZSIsVTApO2Zvcihjb25zdFtyLG5db2YgT2JqZWN0LmVudHJpZXModCkpZS5zZXQocixuKTtyZXR1cm4gbmV3IEwwKGUpLnJ1bih0aGlzLnBhcnNlZCkudmFsdWV9fTthc3luYyBmdW5jdGlvbiBYaCh0LGUpe2NvbnN0IHI9YXdhaXQgUHJvbWlzZS5hbGwoW1JyKHQsInRva2VuaXplci5qc29uIiwhMCxlKSxScih0LCJ0b2tlbml6ZXJfY29uZmlnLmpzb24iLCEwLGUpXSk7cmV0dXJuIGUubGVnYWN5IT09bnVsbCYmKHJbMV0ubGVnYWN5PWUubGVnYWN5KSxyfWZ1bmN0aW9uIFYwKHQsZSl7Y29uc3Qgcj1bXTtsZXQgbj0wO2Zvcihjb25zdCBhIG9mIHQubWF0Y2hBbGwoZSkpe2NvbnN0IGk9YVswXTtuPGEuaW5kZXgmJnIucHVzaCh0LnNsaWNlKG4sYS5pbmRleCkpLGkubGVuZ3RoPjAmJnIucHVzaChpKSxuPWEuaW5kZXgraS5sZW5ndGh9cmV0dXJuIG48dC5sZW5ndGgmJnIucHVzaCh0LnNsaWNlKG4pKSxyfWZ1bmN0aW9uIFdhKHQsZT0hMCl7aWYodC5SZWdleCE9PXZvaWQgMCl7bGV0IHI9dC5SZWdleC5yZXBsYWNlKC9cXChbIyZ+XSkvZywiJDEiKTtmb3IoY29uc3RbbixhXW9mIGowKXI9ci5yZXBsYWNlQWxsKG4sYSk7cmV0dXJuIG5ldyBSZWdFeHAociwiZ3UiKX1lbHNlIGlmKHQuU3RyaW5nIT09dm9pZCAwKXtjb25zdCByPWdvKHQuU3RyaW5nKTtyZXR1cm4gbmV3IFJlZ0V4cChlP3I6YCgke3J9KWAsImd1Iil9ZWxzZSByZXR1cm4gY29uc29sZS53YXJuKCJVbmtub3duIHBhdHRlcm4gdHlwZToiLHQpLG51bGx9ZnVuY3Rpb24gVnModCl7cmV0dXJuIG5ldyBNYXAoT2JqZWN0LmVudHJpZXModCkpfWZ1bmN0aW9uIFFoKHQpe2NvbnN0IGU9dC5kaW1zO3N3aXRjaChlLmxlbmd0aCl7Y2FzZSAxOnJldHVybiB0LnRvbGlzdCgpO2Nhc2UgMjppZihlWzBdIT09MSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBkZWNvZGUgdGVuc29yIHdpdGggYGJhdGNoIHNpemUgIT09IDFgLiBVc2UgYHRva2VuaXplci5iYXRjaF9kZWNvZGUoLi4uKWAgZm9yIGJhdGNoZWQgaW5wdXRzLiIpO3JldHVybiB0LnRvbGlzdCgpWzBdO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCB0ZW5zb3IgdG8gaGF2ZSAxLTIgZGltZW5zaW9ucywgZ290ICR7ZS5sZW5ndGh9LmApfX1mdW5jdGlvbiBIcyh0KXtyZXR1cm4gdC5yZXBsYWNlKC8gXC4vZywiLiIpLnJlcGxhY2UoLyBcPy9nLCI/IikucmVwbGFjZSgvIFwhL2csIiEiKS5yZXBsYWNlKC8gLC9nLCIsIikucmVwbGFjZSgvIFwnIC9nLCInIikucmVwbGFjZSgvIG5cJ3QvZywibid0IikucmVwbGFjZSgvIFwnbS9nLCInbSIpLnJlcGxhY2UoLyBcJ3MvZywiJ3MiKS5yZXBsYWNlKC8gXCd2ZS9nLCIndmUiKS5yZXBsYWNlKC8gXCdyZS9nLCIncmUiKX1mdW5jdGlvbiBaaCh0KXtyZXR1cm4gdC5yZXBsYWNlKC9bXHUwMzAwLVx1MDM2Zl0vZywiIil9ZnVuY3Rpb24gSDAodCl7cmV0dXJuIFpoKHQudG9Mb3dlckNhc2UoKSl9ZnVuY3Rpb24gRzAodCxlLHIpe2NvbnN0IG49W107bGV0IGE9MDtmb3IoO2E8dC5sZW5ndGg7KXtpZihuLnB1c2godFthXSksKHIuZ2V0KHRbYV0pPz9lKSE9PWUpeysrYTtjb250aW51ZX1mb3IoO2E8dC5sZW5ndGgmJihyLmdldCh0W2FdKT8/ZSk9PT1lOykrK2F9cmV0dXJuIG59ZnVuY3Rpb24gcTAodCl7cmV0dXJuIHQubWF0Y2goL1xTKy9nKXx8W119Y29uc3QgQ249IlxccHtQfVxcdTAwMjEtXFx1MDAyRlxcdTAwM0EtXFx1MDA0MFxcdTAwNUItXFx1MDA2MFxcdTAwN0ItXFx1MDA3RSIsajA9bmV3IE1hcChbWyIoP2k6J3N8J3R8J3JlfCd2ZXwnbXwnbGx8J2QpIiwiKD86Jyhbc1NdfFt0VF18W3JSXVtlRV18W3ZWXVtlRV18W21NXXxbbExdW2xMXXxbZERdKSkiXV0pO2NsYXNzIEswe2NvbnN0cnVjdG9yKGUpe3RoaXMuY29udGVudD1lLmNvbnRlbnQsdGhpcy5pZD1lLmlkLHRoaXMuc2luZ2xlX3dvcmQ9ZS5zaW5nbGVfd29yZD8/ITEsdGhpcy5sc3RyaXA9ZS5sc3RyaXA/PyExLHRoaXMucnN0cmlwPWUucnN0cmlwPz8hMSx0aGlzLnNwZWNpYWw9ZS5zcGVjaWFsPz8hMSx0aGlzLm5vcm1hbGl6ZWQ9ZS5ub3JtYWxpemVkPz9udWxsfX1jbGFzcyBJbiBleHRlbmRzIHd0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5jb25maWc9ZSx0aGlzLnZvY2FiPVtdLHRoaXMudG9rZW5zX3RvX2lkcz1uZXcgTWFwLHRoaXMudW5rX3Rva2VuX2lkPXZvaWQgMCx0aGlzLnVua190b2tlbj12b2lkIDAsdGhpcy5lbmRfb2Zfd29yZF9zdWZmaXg9dm9pZCAwLHRoaXMuZnVzZV91bms9dGhpcy5jb25maWcuZnVzZV91bms/PyExfXN0YXRpYyBmcm9tQ29uZmlnKGUsLi4ucil7c3dpdGNoKGUudHlwZSl7Y2FzZSJXb3JkUGllY2UiOnJldHVybiBuZXcgWTAoZSk7Y2FzZSJVbmlncmFtIjpyZXR1cm4gbmV3IFgwKGUsLi4ucik7Y2FzZSJCUEUiOnJldHVybiBuZXcgWjAoZSk7ZGVmYXVsdDppZihlLnZvY2FiKXJldHVybiBuZXcgSjAoZSwuLi5yKTt0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gVG9rZW5pemVyTW9kZWwgdHlwZTogJHtlLnR5cGV9YCl9fV9jYWxsKGUpe2xldCByPXRoaXMuZW5jb2RlKGUpO3JldHVybiB0aGlzLmZ1c2VfdW5rJiYocj1HMChyLHRoaXMudW5rX3Rva2VuX2lkLHRoaXMudG9rZW5zX3RvX2lkcykpLHJ9ZW5jb2RlKGUpe3Rocm93IEVycm9yKCJlbmNvZGUgc2hvdWxkIGJlIGltcGxlbWVudGVkIGluIHN1YmNsYXNzLiIpfWNvbnZlcnRfdG9rZW5zX3RvX2lkcyhlKXtyZXR1cm4gZS5tYXAocj0+dGhpcy50b2tlbnNfdG9faWRzLmdldChyKT8/dGhpcy51bmtfdG9rZW5faWQpfWNvbnZlcnRfaWRzX3RvX3Rva2VucyhlKXtyZXR1cm4gZS5tYXAocj0+dGhpcy52b2NhYltyXT8/dGhpcy51bmtfdG9rZW4pfX1jbGFzcyBZMCBleHRlbmRzIElue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudG9rZW5zX3RvX2lkcz1WcyhlLnZvY2FiKSx0aGlzLnVua190b2tlbl9pZD10aGlzLnRva2Vuc190b19pZHMuZ2V0KGUudW5rX3Rva2VuKSx0aGlzLnVua190b2tlbj1lLnVua190b2tlbix0aGlzLm1heF9pbnB1dF9jaGFyc19wZXJfd29yZD1lLm1heF9pbnB1dF9jaGFyc19wZXJfd29yZD8/MTAwLHRoaXMudm9jYWI9bmV3IEFycmF5KHRoaXMudG9rZW5zX3RvX2lkcy5zaXplKTtmb3IoY29uc3RbcixuXW9mIHRoaXMudG9rZW5zX3RvX2lkcyl0aGlzLnZvY2FiW25dPXJ9ZW5jb2RlKGUpe2NvbnN0IHI9W107Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgYT1bLi4ubl07aWYoYS5sZW5ndGg+dGhpcy5tYXhfaW5wdXRfY2hhcnNfcGVyX3dvcmQpe3IucHVzaCh0aGlzLnVua190b2tlbik7Y29udGludWV9bGV0IGk9ITEscz0wO2NvbnN0IG89W107Zm9yKDtzPGEubGVuZ3RoOyl7bGV0IGw9YS5sZW5ndGgsZD1udWxsO2Zvcig7czxsOyl7bGV0IGM9YS5zbGljZShzLGwpLmpvaW4oIiIpO2lmKHM+MCYmKGM9dGhpcy5jb25maWcuY29udGludWluZ19zdWJ3b3JkX3ByZWZpeCtjKSx0aGlzLnRva2Vuc190b19pZHMuaGFzKGMpKXtkPWM7YnJlYWt9LS1sfWlmKGQ9PT1udWxsKXtpPSEwO2JyZWFrfW8ucHVzaChkKSxzPWx9aT9yLnB1c2godGhpcy51bmtfdG9rZW4pOnIucHVzaCguLi5vKX1yZXR1cm4gcn19Y2xhc3MgWDAgZXh0ZW5kcyBJbntjb25zdHJ1Y3RvcihlLHIpe3N1cGVyKGUpO2NvbnN0IG49ZS52b2NhYi5sZW5ndGg7dGhpcy52b2NhYj1uZXcgQXJyYXkobiksdGhpcy5zY29yZXM9bmV3IEFycmF5KG4pO2ZvcihsZXQgYT0wO2E8bjsrK2Epe2NvbnN0IGk9ZS52b2NhYlthXTt0aGlzLnZvY2FiW2FdPWlbMF0sdGhpcy5zY29yZXNbYV09aVsxXX10aGlzLnVua190b2tlbl9pZD1lLnVua19pZCx0aGlzLnVua190b2tlbj10aGlzLnZvY2FiW2UudW5rX2lkXSx0aGlzLnRva2Vuc190b19pZHM9bmV3IE1hcCh0aGlzLnZvY2FiLm1hcCgoYSxpKT0+W2EsaV0pKSx0aGlzLmJvc1Rva2VuPSIgIix0aGlzLmJvc1Rva2VuSWQ9dGhpcy50b2tlbnNfdG9faWRzLmdldCh0aGlzLmJvc1Rva2VuKSx0aGlzLmVvc1Rva2VuPXIuZW9zX3Rva2VuLHRoaXMuZW9zVG9rZW5JZD10aGlzLnRva2Vuc190b19pZHMuZ2V0KHRoaXMuZW9zVG9rZW4pLHRoaXMudW5rVG9rZW49dGhpcy52b2NhYlt0aGlzLnVua190b2tlbl9pZF0sdGhpcy5taW5TY29yZT1rbyh0aGlzLnNjb3JlcylbMF0sdGhpcy51bmtTY29yZT10aGlzLm1pblNjb3JlLTEwLHRoaXMuc2NvcmVzW3RoaXMudW5rX3Rva2VuX2lkXT10aGlzLnVua1Njb3JlLHRoaXMudHJpZT1uZXcgdzAsdGhpcy50cmllLmV4dGVuZCh0aGlzLnZvY2FiKSx0aGlzLmZ1c2VfdW5rPSEwfXBvcHVsYXRlTm9kZXMoZSl7Y29uc3Qgcj1lLnNlbnRlbmNlLG49ci5sZW5ndGg7bGV0IGE9MDtmb3IoO2E8bjspe2xldCBpPSExO2ZvcihsZXQgcyBvZiB0aGlzLnRyaWUuY29tbW9uUHJlZml4U2VhcmNoKHIuc2xpY2UoYSkpKXtjb25zdCBvPXRoaXMudG9rZW5zX3RvX2lkcy5nZXQocyksbD10aGlzLnNjb3Jlc1tvXSxkPXMubGVuZ3RoO2UuaW5zZXJ0KGEsZCxsLG8pLCFpJiZkPT09MSYmKGk9ITApfWl8fGUuaW5zZXJ0KGEsMSx0aGlzLnVua1Njb3JlLHRoaXMudW5rX3Rva2VuX2lkKSxhKz0xfX10b2tlbml6ZShlKXtjb25zdCByPW5ldyB2MChlLHRoaXMuYm9zVG9rZW5JZCx0aGlzLmVvc1Rva2VuSWQpO3JldHVybiB0aGlzLnBvcHVsYXRlTm9kZXMociksci50b2tlbnMoKX1lbmNvZGUoZSl7Y29uc3Qgcj1bXTtmb3IoY29uc3QgbiBvZiBlKXtjb25zdCBhPXRoaXMudG9rZW5pemUobik7ci5wdXNoKC4uLmEpfXJldHVybiByfX1jb25zdCBKaD0oKCk9Pntjb25zdCB0PVsuLi5BcnJheS5mcm9tKHtsZW5ndGg6OTR9LChhLGkpPT5pKzMzKSwuLi5BcnJheS5mcm9tKHtsZW5ndGg6MTJ9LChhLGkpPT5pKzE2MSksLi4uQXJyYXkuZnJvbSh7bGVuZ3RoOjgyfSwoYSxpKT0+aSsxNzQpXSxlPXQuc2xpY2UoKTtsZXQgcj0wO2ZvcihsZXQgYT0wO2E8MjU2OysrYSl0LmluY2x1ZGVzKGEpfHwodC5wdXNoKGEpLGUucHVzaCgyNTYrcikscis9MSk7Y29uc3Qgbj1lLm1hcChhPT5TdHJpbmcuZnJvbUNoYXJDb2RlKGEpKTtyZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKHQubWFwKChhLGkpPT5bYSxuW2ldXSkpfSkoKSxRMD1wZyhKaCk7Y2xhc3MgWjAgZXh0ZW5kcyBJbntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLkJQRV9TUExJVF9UT0tFTj0iICIsdGhpcy50b2tlbnNfdG9faWRzPVZzKGUudm9jYWIpLHRoaXMudW5rX3Rva2VuX2lkPXRoaXMudG9rZW5zX3RvX2lkcy5nZXQoZS51bmtfdG9rZW4pLHRoaXMudW5rX3Rva2VuPWUudW5rX3Rva2VuLHRoaXMudm9jYWI9bmV3IEFycmF5KHRoaXMudG9rZW5zX3RvX2lkcy5zaXplKTtmb3IoY29uc3RbcixuXW9mIHRoaXMudG9rZW5zX3RvX2lkcyl0aGlzLnZvY2FiW25dPXI7dGhpcy5icGVfcmFua3M9bmV3IE1hcChlLm1lcmdlcy5tYXAoKHIsbik9PltyLG5dKSksdGhpcy5tZXJnZXM9ZS5tZXJnZXMubWFwKHI9PnIuc3BsaXQodGhpcy5CUEVfU1BMSVRfVE9LRU4pKSx0aGlzLmVuZF9vZl93b3JkX3N1ZmZpeD1lLmVuZF9vZl93b3JkX3N1ZmZpeCx0aGlzLmNvbnRpbnVpbmdfc3Vid29yZF9zdWZmaXg9ZS5jb250aW51aW5nX3N1YndvcmRfc3VmZml4Pz9udWxsLHRoaXMuYnl0ZV9mYWxsYmFjaz10aGlzLmNvbmZpZy5ieXRlX2ZhbGxiYWNrPz8hMSx0aGlzLmJ5dGVfZmFsbGJhY2smJih0aGlzLnRleHRfZW5jb2Rlcj1uZXcgVGV4dEVuY29kZXIpLHRoaXMuY2FjaGU9bmV3IE1hcH1icGUoZSl7aWYoZS5sZW5ndGg9PT0wKXJldHVybltdO2NvbnN0IHI9dGhpcy5jYWNoZS5nZXQoZSk7aWYociE9PXZvaWQgMClyZXR1cm4gcjtjb25zdCBuPUFycmF5LmZyb20oZSk7dGhpcy5lbmRfb2Zfd29yZF9zdWZmaXgmJihuW24ubGVuZ3RoLTFdKz10aGlzLmVuZF9vZl93b3JkX3N1ZmZpeCk7bGV0IGE9W107aWYobi5sZW5ndGg+MSl7Y29uc3QgaT1uZXcgeTAoKGwsZCk9Pmwuc2NvcmU8ZC5zY29yZSk7bGV0IHM9e3Rva2VuOm5bMF0sYmlhczowLHByZXY6bnVsbCxuZXh0Om51bGx9LG89cztmb3IobGV0IGw9MTtsPG4ubGVuZ3RoOysrbCl7Y29uc3QgZD17YmlhczpsL24ubGVuZ3RoLHRva2VuOm5bbF0scHJldjpvLG5leHQ6bnVsbH07by5uZXh0PWQsdGhpcy5fYWRkX25vZGUoaSxvKSxvPWR9Zm9yKDshaS5pc0VtcHR5KCk7KXtjb25zdCBsPWkucG9wKCk7aWYobC5kZWxldGVkfHwhbC5uZXh0fHxsLm5leHQuZGVsZXRlZCljb250aW51ZTtpZihsLmRlbGV0ZWQ9ITAsbC5uZXh0LmRlbGV0ZWQ9ITAsbC5wcmV2KXtjb25zdCBjPXsuLi5sLnByZXZ9O2wucHJldi5kZWxldGVkPSEwLGwucHJldj1jLGMucHJldj9jLnByZXYubmV4dD1jOnM9Y31jb25zdCBkPXt0b2tlbjpsLnRva2VuK2wubmV4dC50b2tlbixiaWFzOmwuYmlhcyxwcmV2OmwucHJldixuZXh0OmwubmV4dC5uZXh0fTtkLnByZXY/KGQucHJldi5uZXh0PWQsdGhpcy5fYWRkX25vZGUoaSxkLnByZXYpKTpzPWQsZC5uZXh0JiYoZC5uZXh0LnByZXY9ZCx0aGlzLl9hZGRfbm9kZShpLGQpKX1mb3IobGV0IGw9cztsIT09bnVsbDtsPWwubmV4dClhLnB1c2gobC50b2tlbil9ZWxzZSBhPW47aWYodGhpcy5jb250aW51aW5nX3N1YndvcmRfc3VmZml4KWZvcihsZXQgaT0wO2k8YS5sZW5ndGgtMTsrK2kpYVtpXSs9dGhpcy5jb250aW51aW5nX3N1YndvcmRfc3VmZml4O3JldHVybiB0aGlzLmNhY2hlLnNldChlLGEpLGF9X2FkZF9ub2RlKGUscil7Y29uc3Qgbj10aGlzLmJwZV9yYW5rcy5nZXQoci50b2tlbit0aGlzLkJQRV9TUExJVF9UT0tFTityLm5leHQudG9rZW4pO24hPT12b2lkIDAmJihyLnNjb3JlPW4rci5iaWFzLGUucHVzaChyKSl9ZW5jb2RlKGUpe2NvbnN0IHI9W107Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgYT10aGlzLmJwZShuKTtmb3IoY29uc3QgaSBvZiBhKXRoaXMudG9rZW5zX3RvX2lkcy5oYXMoaSk/ci5wdXNoKGkpOnRoaXMuYnl0ZV9mYWxsYmFjaz9yLnB1c2goLi4uQXJyYXkuZnJvbSh0aGlzLnRleHRfZW5jb2Rlci5lbmNvZGUoaSkpLm1hcChzPT5gPDB4JHtzLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpLnBhZFN0YXJ0KDIsIjAiKX0+YCkpOnIucHVzaCh0aGlzLnVua190b2tlbil9cmV0dXJuIHJ9fWNsYXNzIEowIGV4dGVuZHMgSW57Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlKSx0aGlzLnRva2Vuc190b19pZHM9VnMoci50YXJnZXRfbGFuZz9lLnZvY2FiW3IudGFyZ2V0X2xhbmddOmUudm9jYWIpLHRoaXMuYm9zX3Rva2VuPXIuYm9zX3Rva2VuLHRoaXMuYm9zX3Rva2VuX2lkPXRoaXMudG9rZW5zX3RvX2lkcy5nZXQodGhpcy5ib3NfdG9rZW4pLHRoaXMuZW9zX3Rva2VuPXIuZW9zX3Rva2VuLHRoaXMuZW9zX3Rva2VuX2lkPXRoaXMudG9rZW5zX3RvX2lkcy5nZXQodGhpcy5lb3NfdG9rZW4pLHRoaXMucGFkX3Rva2VuPXIucGFkX3Rva2VuLHRoaXMucGFkX3Rva2VuX2lkPXRoaXMudG9rZW5zX3RvX2lkcy5nZXQodGhpcy5wYWRfdG9rZW4pLHRoaXMudW5rX3Rva2VuPXIudW5rX3Rva2VuLHRoaXMudW5rX3Rva2VuX2lkPXRoaXMudG9rZW5zX3RvX2lkcy5nZXQodGhpcy51bmtfdG9rZW4pLHRoaXMudm9jYWI9bmV3IEFycmF5KHRoaXMudG9rZW5zX3RvX2lkcy5zaXplKTtmb3IoY29uc3RbbixhXW9mIHRoaXMudG9rZW5zX3RvX2lkcyl0aGlzLnZvY2FiW2FdPW59ZW5jb2RlKGUpe3JldHVybiBlfX1jbGFzcyAkdCBleHRlbmRzIHd0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5jb25maWc9ZX1zdGF0aWMgZnJvbUNvbmZpZyhlKXtpZihlPT09bnVsbClyZXR1cm4gbnVsbDtzd2l0Y2goZS50eXBlKXtjYXNlIkJlcnROb3JtYWxpemVyIjpyZXR1cm4gbmV3IHV5KGUpO2Nhc2UiUHJlY29tcGlsZWQiOnJldHVybiBuZXcgSXkoZSk7Y2FzZSJTZXF1ZW5jZSI6cmV0dXJuIG5ldyBseShlKTtjYXNlIlJlcGxhY2UiOnJldHVybiBuZXcgZXkoZSk7Y2FzZSJORkMiOnJldHVybiBuZXcgdHkoZSk7Y2FzZSJORktDIjpyZXR1cm4gbmV3IHJ5KGUpO2Nhc2UiTkZLRCI6cmV0dXJuIG5ldyBueShlKTtjYXNlIlN0cmlwIjpyZXR1cm4gbmV3IGF5KGUpO2Nhc2UiU3RyaXBBY2NlbnRzIjpyZXR1cm4gbmV3IGl5KGUpO2Nhc2UiTG93ZXJjYXNlIjpyZXR1cm4gbmV3IHN5KGUpO2Nhc2UiUHJlcGVuZCI6cmV0dXJuIG5ldyBveShlKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5rbm93biBOb3JtYWxpemVyIHR5cGU6ICR7ZS50eXBlfWApfX1ub3JtYWxpemUoZSl7dGhyb3cgRXJyb3IoIm5vcm1hbGl6ZSBzaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3MuIil9X2NhbGwoZSl7cmV0dXJuIHRoaXMubm9ybWFsaXplKGUpfX1jbGFzcyBleSBleHRlbmRzICR0e25vcm1hbGl6ZShlKXtjb25zdCByPVdhKHRoaXMuY29uZmlnLnBhdHRlcm4pO3JldHVybiByPT09bnVsbD9lOmUucmVwbGFjZUFsbChyLHRoaXMuY29uZmlnLmNvbnRlbnQpfX1jbGFzcyB0eSBleHRlbmRzICR0e25vcm1hbGl6ZShlKXtyZXR1cm4gZT1lLm5vcm1hbGl6ZSgiTkZDIiksZX19Y2xhc3MgcnkgZXh0ZW5kcyAkdHtub3JtYWxpemUoZSl7cmV0dXJuIGU9ZS5ub3JtYWxpemUoIk5GS0MiKSxlfX1jbGFzcyBueSBleHRlbmRzICR0e25vcm1hbGl6ZShlKXtyZXR1cm4gZT1lLm5vcm1hbGl6ZSgiTkZLRCIpLGV9fWNsYXNzIGF5IGV4dGVuZHMgJHR7bm9ybWFsaXplKGUpe3JldHVybiB0aGlzLmNvbmZpZy5zdHJpcF9sZWZ0JiZ0aGlzLmNvbmZpZy5zdHJpcF9yaWdodD9lPWUudHJpbSgpOih0aGlzLmNvbmZpZy5zdHJpcF9sZWZ0JiYoZT1lLnRyaW1TdGFydCgpKSx0aGlzLmNvbmZpZy5zdHJpcF9yaWdodCYmKGU9ZS50cmltRW5kKCkpKSxlfX1jbGFzcyBpeSBleHRlbmRzICR0e25vcm1hbGl6ZShlKXtyZXR1cm4gZT1aaChlKSxlfX1jbGFzcyBzeSBleHRlbmRzICR0e25vcm1hbGl6ZShlKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksZX19Y2xhc3Mgb3kgZXh0ZW5kcyAkdHtub3JtYWxpemUoZSl7cmV0dXJuIGU9dGhpcy5jb25maWcucHJlcGVuZCtlLGV9fWNsYXNzIGx5IGV4dGVuZHMgJHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5ub3JtYWxpemVycz1lLm5vcm1hbGl6ZXJzLm1hcChyPT4kdC5mcm9tQ29uZmlnKHIpKX1ub3JtYWxpemUoZSl7cmV0dXJuIHRoaXMubm9ybWFsaXplcnMucmVkdWNlKChyLG4pPT5uLm5vcm1hbGl6ZShyKSxlKX19Y2xhc3MgdXkgZXh0ZW5kcyAkdHtfdG9rZW5pemVfY2hpbmVzZV9jaGFycyhlKXtjb25zdCByPVtdO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7KytuKXtjb25zdCBhPWVbbl0saT1hLmNoYXJDb2RlQXQoMCk7dGhpcy5faXNfY2hpbmVzZV9jaGFyKGkpPyhyLnB1c2goIiAiKSxyLnB1c2goYSksci5wdXNoKCIgIikpOnIucHVzaChhKX1yZXR1cm4gci5qb2luKCIiKX1faXNfY2hpbmVzZV9jaGFyKGUpe3JldHVybiBlPj0xOTk2OCYmZTw9NDA5NTl8fGU+PTEzMzEyJiZlPD0xOTkwM3x8ZT49MTMxMDcyJiZlPD0xNzM3OTF8fGU+PTE3MzgyNCYmZTw9MTc3OTgzfHxlPj0xNzc5ODQmJmU8PTE3ODIwN3x8ZT49MTc4MjA4JiZlPD0xODM5ODN8fGU+PTYzNzQ0JiZlPD02NDI1NXx8ZT49MTk0NTYwJiZlPD0xOTUxMDN9c3RyaXBBY2NlbnRzKGUpe3JldHVybiBlLm5vcm1hbGl6ZSgiTkZEIikucmVwbGFjZSgvW1x1MDMwMC1cdTAzNmZdL2csIiIpfV9pc19jb250cm9sKGUpe3N3aXRjaChlKXtjYXNlIgkiOmNhc2VgCmA6Y2FzZSJcciI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4vXlxwe0NjfXxccHtDZn18XHB7Q299fFxwe0NzfSQvdS50ZXN0KGUpfX1fY2xlYW5fdGV4dChlKXtjb25zdCByPVtdO2Zvcihjb25zdCBuIG9mIGUpe2NvbnN0IGE9bi5jaGFyQ29kZUF0KDApO2E9PT0wfHxhPT09NjU1MzN8fHRoaXMuX2lzX2NvbnRyb2wobil8fCgvXlxzJC8udGVzdChuKT9yLnB1c2goIiAiKTpyLnB1c2gobikpfXJldHVybiByLmpvaW4oIiIpfW5vcm1hbGl6ZShlKXtyZXR1cm4gdGhpcy5jb25maWcuY2xlYW5fdGV4dCYmKGU9dGhpcy5fY2xlYW5fdGV4dChlKSksdGhpcy5jb25maWcuaGFuZGxlX2NoaW5lc2VfY2hhcnMmJihlPXRoaXMuX3Rva2VuaXplX2NoaW5lc2VfY2hhcnMoZSkpLHRoaXMuY29uZmlnLmxvd2VyY2FzZT8oZT1lLnRvTG93ZXJDYXNlKCksdGhpcy5jb25maWcuc3RyaXBfYWNjZW50cyE9PSExJiYoZT10aGlzLnN0cmlwQWNjZW50cyhlKSkpOnRoaXMuY29uZmlnLnN0cmlwX2FjY2VudHMmJihlPXRoaXMuc3RyaXBBY2NlbnRzKGUpKSxlfX1jbGFzcyBUdCBleHRlbmRzIHd0e3N0YXRpYyBmcm9tQ29uZmlnKGUpe2lmKGU9PT1udWxsKXJldHVybiBudWxsO3N3aXRjaChlLnR5cGUpe2Nhc2UiQmVydFByZVRva2VuaXplciI6cmV0dXJuIG5ldyBkeShlKTtjYXNlIlNlcXVlbmNlIjpyZXR1cm4gbmV3IEF5KGUpO2Nhc2UiV2hpdGVzcGFjZSI6cmV0dXJuIG5ldyBUeShlKTtjYXNlIldoaXRlc3BhY2VTcGxpdCI6cmV0dXJuIG5ldyBPeShlKTtjYXNlIk1ldGFzcGFjZSI6cmV0dXJuIG5ldyByZihlKTtjYXNlIkJ5dGVMZXZlbCI6cmV0dXJuIG5ldyBjeShlKTtjYXNlIlNwbGl0IjpyZXR1cm4gbmV3IHB5KGUpO2Nhc2UiUHVuY3R1YXRpb24iOnJldHVybiBuZXcgaHkoZSk7Y2FzZSJEaWdpdHMiOnJldHVybiBuZXcgZnkoZSk7Y2FzZSJSZXBsYWNlIjpyZXR1cm4gbmV3IE15KGUpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIFByZVRva2VuaXplciB0eXBlOiAke2UudHlwZX1gKX19cHJlX3Rva2VuaXplX3RleHQoZSxyKXt0aHJvdyBFcnJvcigicHJlX3Rva2VuaXplX3RleHQgc2hvdWxkIGJlIGltcGxlbWVudGVkIGluIHN1YmNsYXNzLiIpfXByZV90b2tlbml6ZShlLHIpe3JldHVybihBcnJheS5pc0FycmF5KGUpP2UubWFwKG49PnRoaXMucHJlX3Rva2VuaXplX3RleHQobixyKSk6dGhpcy5wcmVfdG9rZW5pemVfdGV4dChlLHIpKS5mbGF0KCl9X2NhbGwoZSxyKXtyZXR1cm4gdGhpcy5wcmVfdG9rZW5pemUoZSxyKX19Y2xhc3MgZHkgZXh0ZW5kcyBUdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMucGF0dGVybj1uZXcgUmVnRXhwKGBbXlxccyR7Q259XSt8WyR7Q259XWAsImd1Iil9cHJlX3Rva2VuaXplX3RleHQoZSxyKXtyZXR1cm4gZS50cmltKCkubWF0Y2godGhpcy5wYXR0ZXJuKXx8W119fWNsYXNzIGN5IGV4dGVuZHMgVHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLmNvbmZpZz1lLHRoaXMuYWRkX3ByZWZpeF9zcGFjZT10aGlzLmNvbmZpZy5hZGRfcHJlZml4X3NwYWNlLHRoaXMudHJpbV9vZmZzZXRzPXRoaXMuY29uZmlnLnRyaW1fb2Zmc2V0cyx0aGlzLnVzZV9yZWdleD10aGlzLmNvbmZpZy51c2VfcmVnZXg/PyEwLHRoaXMucGF0dGVybj0vJ3N8J3R8J3JlfCd2ZXwnbXwnbGx8J2R8ID9ccHtMfSt8ID9ccHtOfSt8ID9bXlxzXHB7TH1ccHtOfV0rfFxzKyg/IVxTKXxccysvZ3UsdGhpcy5ieXRlX2VuY29kZXI9SmgsdGhpcy50ZXh0X2VuY29kZXI9bmV3IFRleHRFbmNvZGVyfXByZV90b2tlbml6ZV90ZXh0KGUscil7cmV0dXJuIHRoaXMuYWRkX3ByZWZpeF9zcGFjZSYmIWUuc3RhcnRzV2l0aCgiICIpJiYoZT0iICIrZSksKHRoaXMudXNlX3JlZ2V4P2UubWF0Y2godGhpcy5wYXR0ZXJuKXx8W106W2VdKS5tYXAobj0+QXJyYXkuZnJvbSh0aGlzLnRleHRfZW5jb2Rlci5lbmNvZGUobiksYT0+dGhpcy5ieXRlX2VuY29kZXJbYV0pLmpvaW4oIiIpKX19Y2xhc3MgcHkgZXh0ZW5kcyBUdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuY29uZmlnPWUsdGhpcy5wYXR0ZXJuPVdhKHRoaXMuY29uZmlnLnBhdHRlcm4sdGhpcy5jb25maWcuaW52ZXJ0KX1wcmVfdG9rZW5pemVfdGV4dChlLHIpe3JldHVybiB0aGlzLnBhdHRlcm49PT1udWxsP1tdOnRoaXMuY29uZmlnLmludmVydD9lLm1hdGNoKHRoaXMucGF0dGVybil8fFtdOlYwKGUsdGhpcy5wYXR0ZXJuKX19Y2xhc3MgaHkgZXh0ZW5kcyBUdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuY29uZmlnPWUsdGhpcy5wYXR0ZXJuPW5ldyBSZWdFeHAoYFteJHtDbn1dK3xbJHtDbn1dK2AsImd1Iil9cHJlX3Rva2VuaXplX3RleHQoZSxyKXtyZXR1cm4gZS5tYXRjaCh0aGlzLnBhdHRlcm4pfHxbXX19Y2xhc3MgZnkgZXh0ZW5kcyBUdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuY29uZmlnPWU7Y29uc3Qgcj1gW15cXGRdK3xcXGQke3RoaXMuY29uZmlnLmluZGl2aWR1YWxfZGlnaXRzPyIiOiIrIn1gO3RoaXMucGF0dGVybj1uZXcgUmVnRXhwKHIsImd1Iil9cHJlX3Rva2VuaXplX3RleHQoZSxyKXtyZXR1cm4gZS5tYXRjaCh0aGlzLnBhdHRlcm4pfHxbXX19Y2xhc3MgTGEgZXh0ZW5kcyB3dHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuY29uZmlnPWV9c3RhdGljIGZyb21Db25maWcoZSl7aWYoZT09PW51bGwpcmV0dXJuIG51bGw7c3dpdGNoKGUudHlwZSl7Y2FzZSJUZW1wbGF0ZVByb2Nlc3NpbmciOnJldHVybiBuZXcgbXkoZSk7Y2FzZSJCeXRlTGV2ZWwiOnJldHVybiBuZXcgZ3koZSk7Y2FzZSJSb2JlcnRhUHJvY2Vzc2luZyI6cmV0dXJuIG5ldyB0ZihlKTtjYXNlIkJlcnRQcm9jZXNzaW5nIjpyZXR1cm4gbmV3IGVmKGUpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIFBvc3RQcm9jZXNzb3IgdHlwZTogJHtlLnR5cGV9YCl9fXBvc3RfcHJvY2VzcyhlLC4uLnIpe3Rocm93IEVycm9yKCJwb3N0X3Byb2Nlc3Mgc2hvdWxkIGJlIGltcGxlbWVudGVkIGluIHN1YmNsYXNzLiIpfV9jYWxsKGUsLi4ucil7cmV0dXJuIHRoaXMucG9zdF9wcm9jZXNzKGUsLi4ucil9fWNsYXNzIGVmIGV4dGVuZHMgTGF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jbHM9ZS5jbHNbMF0sdGhpcy5zZXA9ZS5zZXBbMF19cG9zdF9wcm9jZXNzKGUscj1udWxsLHthZGRfc3BlY2lhbF90b2tlbnM6bj0hMH09e30pe24mJihlPWx0KFt0aGlzLmNsc10sZSxbdGhpcy5zZXBdKSk7bGV0IGE9bmV3IEFycmF5KGUubGVuZ3RoKS5maWxsKDApO2lmKHIhPT1udWxsKXtjb25zdCBpPW4mJnRoaXMgaW5zdGFuY2VvZiB0Zj9bdGhpcy5zZXBdOltdLHM9bj9bdGhpcy5zZXBdOltdO2U9bHQoZSxpLHIscyksYT1sdChhLG5ldyBBcnJheShyLmxlbmd0aCtpLmxlbmd0aCtzLmxlbmd0aCkuZmlsbCgxKSl9cmV0dXJue3Rva2VuczplLHRva2VuX3R5cGVfaWRzOmF9fX1jbGFzcyB0ZiBleHRlbmRzIGVme31jbGFzcyBteSBleHRlbmRzIExhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuc2luZ2xlPWUuc2luZ2xlLHRoaXMucGFpcj1lLnBhaXJ9cG9zdF9wcm9jZXNzKGUscj1udWxsLHthZGRfc3BlY2lhbF90b2tlbnM6bj0hMH09e30pe2NvbnN0IGE9cj09PW51bGw/dGhpcy5zaW5nbGU6dGhpcy5wYWlyO2xldCBpPVtdLHM9W107Zm9yKGNvbnN0IG8gb2YgYSkiU3BlY2lhbFRva2VuImluIG8/biYmKGkucHVzaChvLlNwZWNpYWxUb2tlbi5pZCkscy5wdXNoKG8uU3BlY2lhbFRva2VuLnR5cGVfaWQpKToiU2VxdWVuY2UiaW4gbyYmKG8uU2VxdWVuY2UuaWQ9PT0iQSI/KGk9bHQoaSxlKSxzPWx0KHMsbmV3IEFycmF5KGUubGVuZ3RoKS5maWxsKG8uU2VxdWVuY2UudHlwZV9pZCkpKTpvLlNlcXVlbmNlLmlkPT09IkIiJiYoaT1sdChpLHIpLHM9bHQocyxuZXcgQXJyYXkoci5sZW5ndGgpLmZpbGwoby5TZXF1ZW5jZS50eXBlX2lkKSkpKTtyZXR1cm57dG9rZW5zOmksdG9rZW5fdHlwZV9pZHM6c319fWNsYXNzIGd5IGV4dGVuZHMgTGF7cG9zdF9wcm9jZXNzKGUscj1udWxsKXtyZXR1cm4gciYmKGU9bHQoZSxyKSkse3Rva2VuczplfX19Y2xhc3MgeHQgZXh0ZW5kcyB3dHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuY29uZmlnPWUsdGhpcy5hZGRlZF90b2tlbnM9W10sdGhpcy5lbmRfb2Zfd29yZF9zdWZmaXg9bnVsbCx0aGlzLnRyaW1fb2Zmc2V0cz1lLnRyaW1fb2Zmc2V0c31zdGF0aWMgZnJvbUNvbmZpZyhlKXtpZihlPT09bnVsbClyZXR1cm4gbnVsbDtzd2l0Y2goZS50eXBlKXtjYXNlIldvcmRQaWVjZSI6cmV0dXJuIG5ldyBieShlKTtjYXNlIk1ldGFzcGFjZSI6cmV0dXJuIG5ldyBDeShlKTtjYXNlIkJ5dGVMZXZlbCI6cmV0dXJuIG5ldyAkeShlKTtjYXNlIlJlcGxhY2UiOnJldHVybiBuZXcgX3koZSk7Y2FzZSJCeXRlRmFsbGJhY2siOnJldHVybiBuZXcgeXkoZSk7Y2FzZSJGdXNlIjpyZXR1cm4gbmV3IHd5KGUpO2Nhc2UiU3RyaXAiOnJldHVybiBuZXcgdnkoZSk7Y2FzZSJTZXF1ZW5jZSI6cmV0dXJuIG5ldyBreShlKTtjYXNlIkNUQyI6cmV0dXJuIG5ldyB4eShlKTtjYXNlIkJQRURlY29kZXIiOnJldHVybiBuZXcgU3koZSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gRGVjb2RlciB0eXBlOiAke2UudHlwZX1gKX19X2NhbGwoZSl7cmV0dXJuIHRoaXMuZGVjb2RlKGUpfWRlY29kZShlKXtyZXR1cm4gdGhpcy5kZWNvZGVfY2hhaW4oZSkuam9pbigiIil9ZGVjb2RlX2NoYWluKGUpe3Rocm93IEVycm9yKCJgZGVjb2RlX2NoYWluYCBzaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3MuIil9fWNsYXNzIF95IGV4dGVuZHMgeHR7ZGVjb2RlX2NoYWluKGUpe2NvbnN0IHI9V2EodGhpcy5jb25maWcucGF0dGVybik7cmV0dXJuIHI9PT1udWxsP2U6ZS5tYXAobj0+bi5yZXBsYWNlQWxsKHIsdGhpcy5jb25maWcuY29udGVudCkpfX1jbGFzcyB5eSBleHRlbmRzIHh0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudGV4dF9kZWNvZGVyPW5ldyBUZXh0RGVjb2Rlcn1kZWNvZGVfY2hhaW4oZSl7Y29uc3Qgcj1bXTtsZXQgbj1bXTtmb3IoY29uc3QgYSBvZiBlKXtsZXQgaT1udWxsO2lmKGEubGVuZ3RoPT09NiYmYS5zdGFydHNXaXRoKCI8MHgiKSYmYS5lbmRzV2l0aCgiPiIpKXtjb25zdCBzPXBhcnNlSW50KGEuc2xpY2UoMyw1KSwxNik7aXNOYU4ocyl8fChpPXMpfWlmKGkhPT1udWxsKW4ucHVzaChpKTtlbHNle2lmKG4ubGVuZ3RoPjApe2NvbnN0IHM9dGhpcy50ZXh0X2RlY29kZXIuZGVjb2RlKFVpbnQ4QXJyYXkuZnJvbShuKSk7ci5wdXNoKHMpLG49W119ci5wdXNoKGEpfX1pZihuLmxlbmd0aD4wKXtjb25zdCBhPXRoaXMudGV4dF9kZWNvZGVyLmRlY29kZShVaW50OEFycmF5LmZyb20obikpO3IucHVzaChhKSxuPVtdfXJldHVybiByfX1jbGFzcyB3eSBleHRlbmRzIHh0e2RlY29kZV9jaGFpbihlKXtyZXR1cm5bZS5qb2luKCIiKV19fWNsYXNzIHZ5IGV4dGVuZHMgeHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jb250ZW50PXRoaXMuY29uZmlnLmNvbnRlbnQsdGhpcy5zdGFydD10aGlzLmNvbmZpZy5zdGFydCx0aGlzLnN0b3A9dGhpcy5jb25maWcuc3RvcH1kZWNvZGVfY2hhaW4oZSl7cmV0dXJuIGUubWFwKHI9PntsZXQgbj0wO2ZvcihsZXQgaT0wO2k8dGhpcy5zdGFydCYmcltpXT09PXRoaXMuY29udGVudDsrK2kpbj1pKzE7bGV0IGE9ci5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0aGlzLnN0b3A7KytpKXtjb25zdCBzPXIubGVuZ3RoLWktMTtpZihyW3NdPT09dGhpcy5jb250ZW50KXthPXM7Y29udGludWV9ZWxzZSBicmVha31yZXR1cm4gci5zbGljZShuLGEpfSl9fWNsYXNzIGJ5IGV4dGVuZHMgeHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jbGVhbnVwPWUuY2xlYW51cH1kZWNvZGVfY2hhaW4oZSl7cmV0dXJuIGUubWFwKChyLG4pPT4obiE9PTAmJihyLnN0YXJ0c1dpdGgodGhpcy5jb25maWcucHJlZml4KT9yPXIucmVwbGFjZSh0aGlzLmNvbmZpZy5wcmVmaXgsIiIpOnI9IiAiK3IpLHRoaXMuY2xlYW51cCYmKHI9SHMocikpLHIpKX19Y2xhc3MgJHkgZXh0ZW5kcyB4dHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmJ5dGVfZGVjb2Rlcj1RMCx0aGlzLnRleHRfZGVjb2Rlcj1uZXcgVGV4dERlY29kZXIoInV0Zi04Iix7ZmF0YWw6ITEsaWdub3JlQk9NOiEwfSksdGhpcy5lbmRfb2Zfd29yZF9zdWZmaXg9bnVsbH1jb252ZXJ0X3Rva2Vuc190b19zdHJpbmcoZSl7Y29uc3Qgcj1lLmpvaW4oIiIpLG49bmV3IFVpbnQ4QXJyYXkoWy4uLnJdLm1hcChhPT50aGlzLmJ5dGVfZGVjb2RlclthXSkpO3JldHVybiB0aGlzLnRleHRfZGVjb2Rlci5kZWNvZGUobil9ZGVjb2RlX2NoYWluKGUpe2NvbnN0IHI9W107bGV0IG49W107Zm9yKGNvbnN0IGEgb2YgZSl0aGlzLmFkZGVkX3Rva2Vucy5maW5kKGk9PmkuY29udGVudD09PWEpIT09dm9pZCAwPyhuLmxlbmd0aD4wJiYoci5wdXNoKHRoaXMuY29udmVydF90b2tlbnNfdG9fc3RyaW5nKG4pKSxuPVtdKSxyLnB1c2goYSkpOm4ucHVzaChhKTtyZXR1cm4gbi5sZW5ndGg+MCYmci5wdXNoKHRoaXMuY29udmVydF90b2tlbnNfdG9fc3RyaW5nKG4pKSxyfX1jbGFzcyB4eSBleHRlbmRzIHh0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMucGFkX3Rva2VuPXRoaXMuY29uZmlnLnBhZF90b2tlbix0aGlzLndvcmRfZGVsaW1pdGVyX3Rva2VuPXRoaXMuY29uZmlnLndvcmRfZGVsaW1pdGVyX3Rva2VuLHRoaXMuY2xlYW51cD10aGlzLmNvbmZpZy5jbGVhbnVwfWNvbnZlcnRfdG9rZW5zX3RvX3N0cmluZyhlKXtpZihlLmxlbmd0aD09PTApcmV0dXJuIiI7Y29uc3Qgcj1bZVswXV07Zm9yKGxldCBhPTE7YTxlLmxlbmd0aDsrK2EpZVthXSE9PXIuYXQoLTEpJiZyLnB1c2goZVthXSk7bGV0IG49ci5maWx0ZXIoYT0+YSE9PXRoaXMucGFkX3Rva2VuKS5qb2luKCIiKTtyZXR1cm4gdGhpcy5jbGVhbnVwJiYobj1IcyhuKS5yZXBsYWNlQWxsKHRoaXMud29yZF9kZWxpbWl0ZXJfdG9rZW4sIiAiKS50cmltKCkpLG59ZGVjb2RlX2NoYWluKGUpe3JldHVyblt0aGlzLmNvbnZlcnRfdG9rZW5zX3RvX3N0cmluZyhlKV19fWNsYXNzIGt5IGV4dGVuZHMgeHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5kZWNvZGVycz1lLmRlY29kZXJzLm1hcChyPT54dC5mcm9tQ29uZmlnKHIpKX1kZWNvZGVfY2hhaW4oZSl7cmV0dXJuIHRoaXMuZGVjb2RlcnMucmVkdWNlKChyLG4pPT5uLmRlY29kZV9jaGFpbihyKSxlKX19Y2xhc3MgU3kgZXh0ZW5kcyB4dHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnN1ZmZpeD10aGlzLmNvbmZpZy5zdWZmaXh9ZGVjb2RlX2NoYWluKGUpe3JldHVybiBlLm1hcCgocixuKT0+ci5yZXBsYWNlQWxsKHRoaXMuc3VmZml4LG49PT1lLmxlbmd0aC0xPyIiOiIgIikpfX1jbGFzcyBFeSBleHRlbmRzIHh0e2RlY29kZV9jaGFpbihlKXtsZXQgcj0iIjtmb3IobGV0IG49MTtuPGUubGVuZ3RoO24rPTIpcis9ZVtuXTtyZXR1cm5bcl19fWNsYXNzIHJmIGV4dGVuZHMgVHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLmFkZFByZWZpeFNwYWNlPWUuYWRkX3ByZWZpeF9zcGFjZSx0aGlzLnJlcGxhY2VtZW50PWUucmVwbGFjZW1lbnQsdGhpcy5zdHJSZXA9ZS5zdHJfcmVwfHx0aGlzLnJlcGxhY2VtZW50LHRoaXMucHJlcGVuZF9zY2hlbWU9ZS5wcmVwZW5kX3NjaGVtZT8/ImFsd2F5cyJ9cHJlX3Rva2VuaXplX3RleHQoZSx7c2VjdGlvbl9pbmRleDpyPXZvaWQgMH09e30pe2xldCBuPWUucmVwbGFjZUFsbCgiICIsdGhpcy5zdHJSZXApO3JldHVybiB0aGlzLmFkZFByZWZpeFNwYWNlJiYhbi5zdGFydHNXaXRoKHRoaXMucmVwbGFjZW1lbnQpJiYodGhpcy5wcmVwZW5kX3NjaGVtZT09PSJhbHdheXMifHx0aGlzLnByZXBlbmRfc2NoZW1lPT09ImZpcnN0IiYmcj09PTApJiYobj10aGlzLnN0clJlcCtuKSxbbl19fWNsYXNzIEN5IGV4dGVuZHMgeHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5hZGRQcmVmaXhTcGFjZT1lLmFkZF9wcmVmaXhfc3BhY2UsdGhpcy5yZXBsYWNlbWVudD1lLnJlcGxhY2VtZW50fWRlY29kZV9jaGFpbihlKXtjb25zdCByPVtdO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7KytuKXtsZXQgYT1lW25dLnJlcGxhY2VBbGwodGhpcy5yZXBsYWNlbWVudCwiICIpO3RoaXMuYWRkUHJlZml4U3BhY2UmJm49PTAmJmEuc3RhcnRzV2l0aCgiICIpJiYoYT1hLnN1YnN0cmluZygxKSksci5wdXNoKGEpfXJldHVybiByfX1jbGFzcyBJeSBleHRlbmRzICR0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY2hhcnNtYXA9ZS5wcmVjb21waWxlZF9jaGFyc21hcH1ub3JtYWxpemUoZSl7cmV0dXJuIGU9ZS5yZXBsYWNlKC9bXHUwMDAxLVx1MDAwOFx1MDAwQlx1MDAwRS1cdTAwMUZcdTAwN0ZcdTAwOEZcdTAwOUZdL2dtLCIiKSxlPWUucmVwbGFjZSgvW1x1MDAwOVx1MDAwQVx1MDAwQ1x1MDAwRFx1MTY4MFx1MjAwQlx1MjAwQ1x1MjAwRVx1MjAwRlx1MjAyOFx1MjAyOVx1MjU4MVx1RkVGRlx1RkZGRF0vZ20sIiAiKSxlLmluY2x1ZGVzKCJcdUZGNUUiKT9lPWUuc3BsaXQoIlx1RkY1RSIpLm1hcChyPT5yLm5vcm1hbGl6ZSgiTkZLQyIpKS5qb2luKCJcdUZGNUUiKTplPWUubm9ybWFsaXplKCJORktDIiksZX19Y2xhc3MgQXkgZXh0ZW5kcyBUdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMudG9rZW5pemVycz1lLnByZXRva2VuaXplcnMubWFwKHI9PlR0LmZyb21Db25maWcocikpfXByZV90b2tlbml6ZV90ZXh0KGUscil7cmV0dXJuIHRoaXMudG9rZW5pemVycy5yZWR1Y2UoKG4sYSk9PmEucHJlX3Rva2VuaXplKG4sciksW2VdKX19Y2xhc3MgVHkgZXh0ZW5kcyBUdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpfXByZV90b2tlbml6ZV90ZXh0KGUscil7cmV0dXJuIGUubWF0Y2goL1x3K3xbXlx3XHNdKy9nKXx8W119fWNsYXNzIE95IGV4dGVuZHMgVHR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKX1wcmVfdG9rZW5pemVfdGV4dChlLHIpe3JldHVybiBxMChlKX19Y2xhc3MgTXkgZXh0ZW5kcyBUdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuY29uZmlnPWUsdGhpcy5wYXR0ZXJuPVdhKHRoaXMuY29uZmlnLnBhdHRlcm4pLHRoaXMuY29udGVudD10aGlzLmNvbmZpZy5jb250ZW50fXByZV90b2tlbml6ZV90ZXh0KGUscil7cmV0dXJuIHRoaXMucGF0dGVybj09PW51bGw/W2VdOltlLnJlcGxhY2VBbGwodGhpcy5wYXR0ZXJuLHRoaXMuY29uZmlnLmNvbnRlbnQpXX19Y29uc3Qgenk9WyJib3NfdG9rZW4iLCJlb3NfdG9rZW4iLCJ1bmtfdG9rZW4iLCJzZXBfdG9rZW4iLCJwYWRfdG9rZW4iLCJjbHNfdG9rZW4iLCJtYXNrX3Rva2VuIl07ZnVuY3Rpb24gQnkodCxlLHIsbil7Zm9yKGNvbnN0IGEgb2YgT2JqZWN0LmtleXModCkpe2NvbnN0IGk9ZS10W2FdLmxlbmd0aCxzPXIoYSksbz1uZXcgQXJyYXkoaSkuZmlsbChzKTt0W2FdPW49PT0icmlnaHQiP2x0KHRbYV0sbyk6bHQobyx0W2FdKX19ZnVuY3Rpb24gUnkodCxlKXtmb3IoY29uc3QgciBvZiBPYmplY3Qua2V5cyh0KSl0W3JdLmxlbmd0aD1lfWNsYXNzIGtlIGV4dGVuZHMgd3R7cmV0dXJuX3Rva2VuX3R5cGVfaWRzPSExO19kZWZhdWx0X2NoYXRfdGVtcGxhdGU9YHslIGZvciBtZXNzYWdlIGluIG1lc3NhZ2VzICV9e3snPHxpbV9zdGFydHw+JyArIG1lc3NhZ2VbJ3JvbGUnXSArICcKJyArIG1lc3NhZ2VbJ2NvbnRlbnQnXSArICc8fGltX2VuZHw+JyArICcKJ319eyUgZW5kZm9yICV9eyUgaWYgYWRkX2dlbmVyYXRpb25fcHJvbXB0ICV9e3sgJzx8aW1fc3RhcnR8PmFzc2lzdGFudAonIH19eyUgZW5kaWYgJX1gO2NvbnN0cnVjdG9yKGUscil7c3VwZXIoKSx0aGlzLl90b2tlbml6ZXJfY29uZmlnPXIsdGhpcy5ub3JtYWxpemVyPSR0LmZyb21Db25maWcoZS5ub3JtYWxpemVyKSx0aGlzLnByZV90b2tlbml6ZXI9VHQuZnJvbUNvbmZpZyhlLnByZV90b2tlbml6ZXIpLHRoaXMubW9kZWw9SW4uZnJvbUNvbmZpZyhlLm1vZGVsLHIpLHRoaXMucG9zdF9wcm9jZXNzb3I9TGEuZnJvbUNvbmZpZyhlLnBvc3RfcHJvY2Vzc29yKSx0aGlzLmRlY29kZXI9eHQuZnJvbUNvbmZpZyhlLmRlY29kZXIpLHRoaXMuc3BlY2lhbF90b2tlbnM9W10sdGhpcy5hbGxfc3BlY2lhbF9pZHM9W10sdGhpcy5hZGRlZF90b2tlbnM9W107Zm9yKGNvbnN0IG4gb2YgZS5hZGRlZF90b2tlbnMpe2NvbnN0IGE9bmV3IEswKG4pO3RoaXMuYWRkZWRfdG9rZW5zLnB1c2goYSksdGhpcy5tb2RlbC50b2tlbnNfdG9faWRzLnNldChhLmNvbnRlbnQsYS5pZCksdGhpcy5tb2RlbC52b2NhYlthLmlkXT1hLmNvbnRlbnQsYS5zcGVjaWFsJiYodGhpcy5zcGVjaWFsX3Rva2Vucy5wdXNoKGEuY29udGVudCksdGhpcy5hbGxfc3BlY2lhbF9pZHMucHVzaChhLmlkKSl9aWYodGhpcy5hZGRpdGlvbmFsX3NwZWNpYWxfdG9rZW5zPXIuYWRkaXRpb25hbF9zcGVjaWFsX3Rva2Vucz8/W10sdGhpcy5zcGVjaWFsX3Rva2Vucy5wdXNoKC4uLnRoaXMuYWRkaXRpb25hbF9zcGVjaWFsX3Rva2VucyksdGhpcy5zcGVjaWFsX3Rva2Vucz1bLi4ubmV3IFNldCh0aGlzLnNwZWNpYWxfdG9rZW5zKV0sdGhpcy5kZWNvZGVyJiYodGhpcy5kZWNvZGVyLmFkZGVkX3Rva2Vucz10aGlzLmFkZGVkX3Rva2Vucyx0aGlzLmRlY29kZXIuZW5kX29mX3dvcmRfc3VmZml4PXRoaXMubW9kZWwuZW5kX29mX3dvcmRfc3VmZml4KSx0aGlzLmFkZGVkX3Rva2Vuc19yZWdleD10aGlzLmFkZGVkX3Rva2Vucy5sZW5ndGg+MD9uZXcgUmVnRXhwKHRoaXMuYWRkZWRfdG9rZW5zLm1hcChuPT5gJHtuLmxzdHJpcD8iXFxzKiI6IiJ9KCR7Z28obi5jb250ZW50KX0pJHtuLnJzdHJpcD8iXFxzKiI6IiJ9YCkuam9pbigifCIpKTpudWxsLHRoaXMubWFza190b2tlbj10aGlzLmdldFRva2VuKCJtYXNrX3Rva2VuIiksdGhpcy5tYXNrX3Rva2VuX2lkPXRoaXMubW9kZWwudG9rZW5zX3RvX2lkcy5nZXQodGhpcy5tYXNrX3Rva2VuKSx0aGlzLnBhZF90b2tlbj10aGlzLmdldFRva2VuKCJwYWRfdG9rZW4iLCJlb3NfdG9rZW4iKSx0aGlzLnBhZF90b2tlbl9pZD10aGlzLm1vZGVsLnRva2Vuc190b19pZHMuZ2V0KHRoaXMucGFkX3Rva2VuKSx0aGlzLnNlcF90b2tlbj10aGlzLmdldFRva2VuKCJzZXBfdG9rZW4iKSx0aGlzLnNlcF90b2tlbl9pZD10aGlzLm1vZGVsLnRva2Vuc190b19pZHMuZ2V0KHRoaXMuc2VwX3Rva2VuKSx0aGlzLnVua190b2tlbj10aGlzLmdldFRva2VuKCJ1bmtfdG9rZW4iKSx0aGlzLnVua190b2tlbl9pZD10aGlzLm1vZGVsLnRva2Vuc190b19pZHMuZ2V0KHRoaXMudW5rX3Rva2VuKSx0aGlzLm1vZGVsX21heF9sZW5ndGg9ci5tb2RlbF9tYXhfbGVuZ3RoLHRoaXMucmVtb3ZlX3NwYWNlPXIucmVtb3ZlX3NwYWNlLHRoaXMuY2xlYW5fdXBfdG9rZW5pemF0aW9uX3NwYWNlcz1yLmNsZWFuX3VwX3Rva2VuaXphdGlvbl9zcGFjZXM/PyEwLHRoaXMuZG9fbG93ZXJjYXNlX2FuZF9yZW1vdmVfYWNjZW50PXIuZG9fbG93ZXJjYXNlX2FuZF9yZW1vdmVfYWNjZW50Pz8hMSx0aGlzLnBhZGRpbmdfc2lkZT0icmlnaHQiLHRoaXMubGVnYWN5PSExLHRoaXMuY2hhdF90ZW1wbGF0ZT1yLmNoYXRfdGVtcGxhdGU/P251bGwsQXJyYXkuaXNBcnJheSh0aGlzLmNoYXRfdGVtcGxhdGUpKXtjb25zdCBuPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGNvbnN0e25hbWU6YSx0ZW1wbGF0ZTppfW9mIHRoaXMuY2hhdF90ZW1wbGF0ZSl7aWYodHlwZW9mIGEhPSJzdHJpbmcifHx0eXBlb2YgaSE9InN0cmluZyIpdGhyb3cgbmV3IEVycm9yKCdDaGF0IHRlbXBsYXRlIG11c3QgYmUgYSBsaXN0IG9mIG9iamVjdHMgd2l0aCAibmFtZSIgYW5kICJ0ZW1wbGF0ZSIgcHJvcGVydGllcycpO25bYV09aX10aGlzLmNoYXRfdGVtcGxhdGU9bn10aGlzLl9jb21waWxlZF90ZW1wbGF0ZV9jYWNoZT1uZXcgTWFwfWdldFRva2VuKC4uLmUpe2Zvcihjb25zdCByIG9mIGUpe2NvbnN0IG49dGhpcy5fdG9rZW5pemVyX2NvbmZpZ1tyXTtpZihuKWlmKHR5cGVvZiBuPT0ib2JqZWN0Iil7aWYobi5fX3R5cGU9PT0iQWRkZWRUb2tlbiIpcmV0dXJuIG4uY29udGVudDt0aHJvdyBFcnJvcihgVW5rbm93biB0b2tlbjogJHtufWApfWVsc2UgcmV0dXJuIG59cmV0dXJuIG51bGx9c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZChlLHtwcm9ncmVzc19jYWxsYmFjazpyPW51bGwsY29uZmlnOm49bnVsbCxjYWNoZV9kaXI6YT1udWxsLGxvY2FsX2ZpbGVzX29ubHk6aT0hMSxyZXZpc2lvbjpzPSJtYWluIixsZWdhY3k6bz1udWxsfT17fSl7Y29uc3QgbD1hd2FpdCBYaChlLHtwcm9ncmVzc19jYWxsYmFjazpyLGNvbmZpZzpuLGNhY2hlX2RpcjphLGxvY2FsX2ZpbGVzX29ubHk6aSxyZXZpc2lvbjpzLGxlZ2FjeTpvfSk7cmV0dXJuIG5ldyB0aGlzKC4uLmwpfV9jYWxsKGUse3RleHRfcGFpcjpyPW51bGwsYWRkX3NwZWNpYWxfdG9rZW5zOm49ITAscGFkZGluZzphPSExLHRydW5jYXRpb246aT1udWxsLG1heF9sZW5ndGg6cz1udWxsLHJldHVybl90ZW5zb3I6bz0hMH09e30pe2NvbnN0IGw9QXJyYXkuaXNBcnJheShlKTtsZXQgZDtpZihsKXtpZihlLmxlbmd0aD09PTApdGhyb3cgRXJyb3IoInRleHQgYXJyYXkgbXVzdCBiZSBub24tZW1wdHkiKTtpZihyIT09bnVsbCl7aWYoQXJyYXkuaXNBcnJheShyKSl7aWYoZS5sZW5ndGghPT1yLmxlbmd0aCl0aHJvdyBFcnJvcigidGV4dCBhbmQgdGV4dF9wYWlyIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGgiKX1lbHNlIHRocm93IEVycm9yKCJ0ZXh0X3BhaXIgbXVzdCBhbHNvIGJlIGFuIGFycmF5Iik7ZD1lLm1hcCgodSxoKT0+dGhpcy5fZW5jb2RlX3BsdXModSxyW2hdLHthZGRfc3BlY2lhbF90b2tlbnM6bn0pKX1lbHNlIGQ9ZS5tYXAodT0+dGhpcy5fZW5jb2RlX3BsdXModSxudWxsLHthZGRfc3BlY2lhbF90b2tlbnM6bn0pKX1lbHNle2lmKGU9PT1udWxsKXRocm93IEVycm9yKCJ0ZXh0IG1heSBub3QgYmUgbnVsbCIpO2lmKEFycmF5LmlzQXJyYXkocikpdGhyb3cgRXJyb3IoIldoZW4gc3BlY2lmeWluZyBgdGV4dF9wYWlyYCwgc2luY2UgYHRleHRgIGlzIGEgc3RyaW5nLCBgdGV4dF9wYWlyYCBtdXN0IGFsc28gYmUgYSBzdHJpbmcgKGkuZS4sIG5vdCBhbiBhcnJheSkuIik7ZD1bdGhpcy5fZW5jb2RlX3BsdXMoZSxyLHthZGRfc3BlY2lhbF90b2tlbnM6bn0pXX1pZihzPT09bnVsbD9hPT09Im1heF9sZW5ndGgiP3M9dGhpcy5tb2RlbF9tYXhfbGVuZ3RoOnM9Q3QoZC5tYXAodT0+dS5pbnB1dF9pZHMubGVuZ3RoKSlbMF06aXx8Y29uc29sZS53YXJuKCJUcnVuY2F0aW9uIHdhcyBub3QgZXhwbGljaXRseSBhY3RpdmF0ZWQgYnV0IGBtYXhfbGVuZ3RoYCBpcyBwcm92aWRlZCBhIHNwZWNpZmljIHZhbHVlLCBwbGVhc2UgdXNlIGB0cnVuY2F0aW9uPXRydWVgIHRvIGV4cGxpY2l0bHkgdHJ1bmNhdGUgZXhhbXBsZXMgdG8gbWF4IGxlbmd0aC4iKSxzPU1hdGgubWluKHMsdGhpcy5tb2RlbF9tYXhfbGVuZ3RoKSxhfHxpKWZvcihsZXQgdT0wO3U8ZC5sZW5ndGg7Kyt1KWRbdV0uaW5wdXRfaWRzLmxlbmd0aCE9PXMmJihkW3VdLmlucHV0X2lkcy5sZW5ndGg+cz9pJiZSeShkW3VdLHMpOmEmJkJ5KGRbdV0scyxoPT5oPT09ImlucHV0X2lkcyI/dGhpcy5wYWRfdG9rZW5faWQ6MCx0aGlzLnBhZGRpbmdfc2lkZSkpO2NvbnN0IGM9e307aWYobyl7aWYoIShhJiZpKSYmZC5zb21lKGg9Pntmb3IoY29uc3QgZiBvZiBPYmplY3Qua2V5cyhoKSlpZihoW2ZdLmxlbmd0aCE9PWRbMF1bZl0/Lmxlbmd0aClyZXR1cm4hMDtyZXR1cm4hMX0pKXRocm93IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHRlbnNvciwgeW91IHNob3VsZCBwcm9iYWJseSBhY3RpdmF0ZSB0cnVuY2F0aW9uIGFuZC9vciBwYWRkaW5nIHdpdGggJ3BhZGRpbmc9dHJ1ZScgYW5kICd0cnVuY2F0aW9uPXRydWUnIHRvIGhhdmUgYmF0Y2hlZCB0ZW5zb3JzIHdpdGggdGhlIHNhbWUgbGVuZ3RoLiIpO2NvbnN0IHU9W2QubGVuZ3RoLGRbMF0uaW5wdXRfaWRzLmxlbmd0aF07Zm9yKGNvbnN0IGggb2YgT2JqZWN0LmtleXMoZFswXSkpY1toXT1uZXcgcmUoImludDY0IixCaWdJbnQ2NEFycmF5LmZyb20oZC5mbGF0TWFwKGY9PmZbaF0pLm1hcChCaWdJbnQpKSx1KX1lbHNle2Zvcihjb25zdCB1IG9mIE9iamVjdC5rZXlzKGRbMF0pKWNbdV09ZC5tYXAoaD0+aFt1XSk7aWYoIWwpZm9yKGNvbnN0IHUgb2YgT2JqZWN0LmtleXMoYykpY1t1XT1jW3VdWzBdfXJldHVybiBjfV9lbmNvZGVfdGV4dChlKXtyZXR1cm4gZT09PW51bGw/bnVsbDoodGhpcy5hZGRlZF90b2tlbnNfcmVnZXg/ZS5zcGxpdCh0aGlzLmFkZGVkX3Rva2Vuc19yZWdleCkuZmlsdGVyKHI9PnIpOltlXSkubWFwKChyLG4pPT57aWYodGhpcy5hZGRlZF90b2tlbnMuZmluZChhPT5hLmNvbnRlbnQ9PT1yKSE9PXZvaWQgMClyZXR1cm4gcjt7aWYodGhpcy5yZW1vdmVfc3BhY2U9PT0hMCYmKHI9ci50cmltKCkuc3BsaXQoL1xzKy8pLmpvaW4oIiAiKSksdGhpcy5kb19sb3dlcmNhc2VfYW5kX3JlbW92ZV9hY2NlbnQmJihyPUgwKHIpKSx0aGlzLm5vcm1hbGl6ZXIhPT1udWxsJiYocj10aGlzLm5vcm1hbGl6ZXIocikpLHIubGVuZ3RoPT09MClyZXR1cm5bXTtjb25zdCBhPXRoaXMucHJlX3Rva2VuaXplciE9PW51bGw/dGhpcy5wcmVfdG9rZW5pemVyKHIse3NlY3Rpb25faW5kZXg6bn0pOltyXTtyZXR1cm4gdGhpcy5tb2RlbChhKX19KS5mbGF0KCl9X2VuY29kZV9wbHVzKGUscj1udWxsLHthZGRfc3BlY2lhbF90b2tlbnM6bj0hMH09e30pe2NvbnN0IGE9dGhpcy5fZW5jb2RlX3RleHQoZSksaT10aGlzLl9lbmNvZGVfdGV4dChyKSxzPXRoaXMucG9zdF9wcm9jZXNzb3I/dGhpcy5wb3N0X3Byb2Nlc3NvcihhLGkse2FkZF9zcGVjaWFsX3Rva2VuczpufSk6e3Rva2VuczpsdChhPz9bXSxpPz9bXSl9LG89dGhpcy5tb2RlbC5jb252ZXJ0X3Rva2Vuc190b19pZHMocy50b2tlbnMpLGw9e2lucHV0X2lkczpvLGF0dGVudGlvbl9tYXNrOm5ldyBBcnJheShvLmxlbmd0aCkuZmlsbCgxKX07cmV0dXJuIHRoaXMucmV0dXJuX3Rva2VuX3R5cGVfaWRzJiZzLnRva2VuX3R5cGVfaWRzJiYobC50b2tlbl90eXBlX2lkcz1zLnRva2VuX3R5cGVfaWRzKSxsfWVuY29kZShlLHI9bnVsbCx7YWRkX3NwZWNpYWxfdG9rZW5zOm49ITB9PXt9KXtjb25zdHtpbnB1dF9pZHM6YX09dGhpcy5fZW5jb2RlX3BsdXMoZSxyLHthZGRfc3BlY2lhbF90b2tlbnM6bn0pO3JldHVybiBhfWJhdGNoX2RlY29kZShlLHI9e30pe3JldHVybiBlIGluc3RhbmNlb2YgcmUmJihlPWUudG9saXN0KCkpLGUubWFwKG49PnRoaXMuZGVjb2RlKG4scikpfWRlY29kZShlLHI9e30pe2lmKGUgaW5zdGFuY2VvZiByZSYmKGU9UWgoZSkpLCFBcnJheS5pc0FycmF5KGUpfHxlLmxlbmd0aD09PTB8fCFfbyhlWzBdKSl0aHJvdyBFcnJvcigidG9rZW5faWRzIG11c3QgYmUgYSBub24tZW1wdHkgYXJyYXkgb2YgaW50ZWdlcnMuIik7cmV0dXJuIHRoaXMuZGVjb2RlX3NpbmdsZShlLHIpfWRlY29kZV9zaW5nbGUoZSx7c2tpcF9zcGVjaWFsX3Rva2VuczpyPSExLGNsZWFuX3VwX3Rva2VuaXphdGlvbl9zcGFjZXM6bj1udWxsfSl7bGV0IGE9dGhpcy5tb2RlbC5jb252ZXJ0X2lkc190b190b2tlbnMoZSk7ciYmKGE9YS5maWx0ZXIocz0+IXRoaXMuc3BlY2lhbF90b2tlbnMuaW5jbHVkZXMocykpKTtsZXQgaT10aGlzLmRlY29kZXI/dGhpcy5kZWNvZGVyKGEpOmEuam9pbigiICIpO3JldHVybiB0aGlzLmRlY29kZXImJnRoaXMuZGVjb2Rlci5lbmRfb2Zfd29yZF9zdWZmaXgmJihpPWkucmVwbGFjZUFsbCh0aGlzLmRlY29kZXIuZW5kX29mX3dvcmRfc3VmZml4LCIgIiksciYmKGk9aS50cmltKCkpKSwobj8/dGhpcy5jbGVhbl91cF90b2tlbml6YXRpb25fc3BhY2VzKSYmKGk9SHMoaSkpLGl9Z2V0IGRlZmF1bHRfY2hhdF90ZW1wbGF0ZSgpe3JldHVybiB0aGlzLl93YXJuZWRfYWJvdXRfY2hhdF90ZW1wbGF0ZXx8KGNvbnNvbGUud2FybigiTm8gY2hhdCB0ZW1wbGF0ZSBpcyBkZWZpbmVkIGZvciB0aGlzIHRva2VuaXplciAtIHVzaW5nIGEgZGVmYXVsdCBjaGF0IHRlbXBsYXRlIHRoYXQgaW1wbGVtZW50cyB0aGUgQ2hhdE1MIGZvcm1hdC4gSWYgdGhlIGRlZmF1bHQgaXMgbm90IGFwcHJvcHJpYXRlIGZvciB5b3VyIG1vZGVsLCBwbGVhc2Ugc2V0IGB0b2tlbml6ZXIuY2hhdF90ZW1wbGF0ZWAgdG8gYW4gYXBwcm9wcmlhdGUgdGVtcGxhdGUuIFNlZSBodHRwczovL2h1Z2dpbmdmYWNlLmNvL2RvY3MvdHJhbnNmb3JtZXJzL21haW4vY2hhdF90ZW1wbGF0aW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLiIpLHRoaXMuX3dhcm5lZF9hYm91dF9jaGF0X3RlbXBsYXRlPSEwKSx0aGlzLl9kZWZhdWx0X2NoYXRfdGVtcGxhdGV9YXBwbHlfY2hhdF90ZW1wbGF0ZShlLHtjaGF0X3RlbXBsYXRlOnI9bnVsbCxhZGRfZ2VuZXJhdGlvbl9wcm9tcHQ6bj0hMSx0b2tlbml6ZTphPSEwLHBhZGRpbmc6aT0hMSx0cnVuY2F0aW9uOnM9ITEsbWF4X2xlbmd0aDpvPW51bGwscmV0dXJuX3RlbnNvcjpsPSEwLHRva2VuaXplcl9rd2FyZ3M6ZD17fSwuLi5jfT17fSl7aWYodGhpcy5jaGF0X3RlbXBsYXRlJiZ0eXBlb2YgdGhpcy5jaGF0X3RlbXBsYXRlPT0ib2JqZWN0Inx8dGhpcy5jaGF0X3RlbXBsYXRlPT09bnVsbCYmdGhpcy5kZWZhdWx0X2NoYXRfdGVtcGxhdGUmJnR5cGVvZiB0aGlzLmRlZmF1bHRfY2hhdF90ZW1wbGF0ZT09Im9iamVjdCIpe2NvbnN0IGc9dGhpcy5jaGF0X3RlbXBsYXRlPz90aGlzLmRlZmF1bHRfY2hhdF90ZW1wbGF0ZTtpZihyIT09bnVsbCYmT2JqZWN0Lmhhc093bihnLHIpKXI9Z1tyXTtlbHNlIGlmKHI9PT1udWxsJiYiZGVmYXVsdCJpbiBnKXI9Zy5kZWZhdWx0O2Vsc2UgaWYocj09PW51bGwpdGhyb3cgRXJyb3IoYFRoaXMgbW9kZWwgaGFzIG11bHRpcGxlIGNoYXQgdGVtcGxhdGVzIHdpdGggbm8gZGVmYXVsdCBzcGVjaWZpZWQhIFBsZWFzZSBlaXRoZXIgcGFzcyBhIGNoYXQgdGVtcGxhdGUgb3IgdGhlIG5hbWUgb2YgdGhlIHRlbXBsYXRlIHlvdSB3aXNoIHRvIHVzZSB0byB0aGUgJ2NoYXRfdGVtcGxhdGUnIGFyZ3VtZW50LiBBdmFpbGFibGUgdGVtcGxhdGUgbmFtZXMgYXJlICR7T2JqZWN0LmtleXMoZykuc29ydCgpfS5gKX1lbHNlIHI/Pz10aGlzLmNoYXRfdGVtcGxhdGU/P3RoaXMuZGVmYXVsdF9jaGF0X3RlbXBsYXRlO2lmKHR5cGVvZiByIT0ic3RyaW5nIil0aHJvdyBFcnJvcihgY2hhdF90ZW1wbGF0ZSBtdXN0IGJlIGEgc3RyaW5nLCBidXQgZ290ICR7dHlwZW9mIHJ9YCk7bGV0IHU9dGhpcy5fY29tcGlsZWRfdGVtcGxhdGVfY2FjaGUuZ2V0KHIpO3U9PT12b2lkIDAmJih1PW5ldyBGMChyKSx0aGlzLl9jb21waWxlZF90ZW1wbGF0ZV9jYWNoZS5zZXQocix1KSk7Y29uc3QgaD1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCBnIG9mIHp5KXtjb25zdCB5PXRoaXMuZ2V0VG9rZW4oZyk7eSYmKGhbZ109eSl9Y29uc3QgZj11LnJlbmRlcih7bWVzc2FnZXM6ZSxhZGRfZ2VuZXJhdGlvbl9wcm9tcHQ6biwuLi5oLC4uLmN9KTtyZXR1cm4gYT90aGlzLl9jYWxsKGYse2FkZF9zcGVjaWFsX3Rva2VuczohMSxwYWRkaW5nOmksdHJ1bmNhdGlvbjpzLG1heF9sZW5ndGg6byxyZXR1cm5fdGVuc29yOmwsLi4uZH0pLmlucHV0X2lkczpmfX1jbGFzcyBQeSBleHRlbmRzIGtle3JldHVybl90b2tlbl90eXBlX2lkcz0hMH1jbGFzcyBEeSBleHRlbmRzIGtle3JldHVybl90b2tlbl90eXBlX2lkcz0hMH1jbGFzcyBOeSBleHRlbmRzIGtle3JldHVybl90b2tlbl90eXBlX2lkcz0hMH1jbGFzcyBVeSBleHRlbmRzIGtle3JldHVybl90b2tlbl90eXBlX2lkcz0hMH1jbGFzcyBXeSBleHRlbmRzIGtle3JldHVybl90b2tlbl90eXBlX2lkcz0hMH1jbGFzcyBMeSBleHRlbmRzIGtle3JldHVybl90b2tlbl90eXBlX2lkcz0hMH1jbGFzcyBGeSBleHRlbmRzIGtle3JldHVybl90b2tlbl90eXBlX2lkcz0hMH1jbGFzcyBWeSBleHRlbmRzIGtle3JldHVybl90b2tlbl90eXBlX2lkcz0hMH1jbGFzcyBIeSBleHRlbmRzIGtle3JldHVybl90b2tlbl90eXBlX2lkcz0hMH1jbGFzcyBHeSBleHRlbmRzIGtle31jbGFzcyBxeSBleHRlbmRzIGtle31jbGFzcyBqeSBleHRlbmRzIGtle3JldHVybl90b2tlbl90eXBlX2lkcz0hMDtjb25zdHJ1Y3RvcihlLHIpe3N1cGVyKGUsciksY29uc29sZS53YXJuKCdXQVJOSU5HOiBgWExNVG9rZW5pemVyYCBpcyBub3QgeWV0IHN1cHBvcnRlZCBieSBIdWdnaW5nIEZhY2VcJ3MgImZhc3QiIHRva2VuaXplcnMgbGlicmFyeS4gVGhlcmVmb3JlLCB5b3UgbWF5IGV4cGVyaWVuY2Ugc2xpZ2h0bHkgaW5hY2N1cmF0ZSByZXN1bHRzLicpfX1jbGFzcyBLeSBleHRlbmRzIGtle3JldHVybl90b2tlbl90eXBlX2lkcz0hMH1jbGFzcyBZeSBleHRlbmRzIGtle31jbGFzcyBuZiBleHRlbmRzIGtle19kZWZhdWx0X2NoYXRfdGVtcGxhdGU9J3slIGZvciBtZXNzYWdlIGluIG1lc3NhZ2VzICV9IiAie3sgbWVzc2FnZS5jb250ZW50IH19e3sgZW9zX3Rva2VuIH19IiAieyUgZW5kZm9yICV9J31jbGFzcyBYeSBleHRlbmRzIGtle31jbGFzcyBhZiBleHRlbmRzIGtle2NvbnN0cnVjdG9yKGUscil7c3VwZXIoZSxyKSx0aGlzLmxhbmd1YWdlUmVnZXg9L15bYS16XXsyfV9bQS1aXXsyfSQvLHRoaXMubGFuZ3VhZ2VfY29kZXM9dGhpcy5zcGVjaWFsX3Rva2Vucy5maWx0ZXIobj0+dGhpcy5sYW5ndWFnZVJlZ2V4LnRlc3QobikpLHRoaXMubGFuZ190b190b2tlbj1uPT5ufV9idWlsZF90cmFuc2xhdGlvbl9pbnB1dHMoZSxyLG4pe3JldHVybiBHcyh0aGlzLGUscixuKX19Y2xhc3MgUXkgZXh0ZW5kcyBhZnt9Y2xhc3MgWnkgZXh0ZW5kcyBrZXt9Y2xhc3MgSnkgZXh0ZW5kcyBuZntjb25zdHJ1Y3RvcihlLHIpe2NvbnN0IG49Ii4sIT9cdTIwMjZcdTMwMDJcdUZGMENcdTMwMDFcdTA5NjRcdTA2RDRcdTA2MEMiLGE9ZS5wcmVfdG9rZW5pemVyPy5wcmV0b2tlbml6ZXJzWzBdPy5wYXR0ZXJuO2EmJmEuUmVnZXg9PT1gID9bXihcXHN8WyR7bn1dKV0rYCYmKGEuUmVnZXg9YCA/W15cXHMke259XStgKSxzdXBlcihlLHIpfX1jb25zdCBGYT0iXHUyNTgxIjtjbGFzcyBzZiBleHRlbmRzIGtle19kZWZhdWx0X2NoYXRfdGVtcGxhdGU9YHslIGlmIG1lc3NhZ2VzWzBdWydyb2xlJ10gPT0gJ3N5c3RlbScgJX17JSBzZXQgbG9vcF9tZXNzYWdlcyA9IG1lc3NhZ2VzWzE6XSAlfXslIHNldCBzeXN0ZW1fbWVzc2FnZSA9IG1lc3NhZ2VzWzBdWydjb250ZW50J10gJX17JSBlbGlmIFVTRV9ERUZBVUxUX1BST01QVCA9PSB0cnVlIGFuZCBub3QgJzw8U1lTPj4nIGluIG1lc3NhZ2VzWzBdWydjb250ZW50J10gJX17JSBzZXQgbG9vcF9tZXNzYWdlcyA9IG1lc3NhZ2VzICV9eyUgc2V0IHN5c3RlbV9tZXNzYWdlID0gJ0RFRkFVTFRfU1lTVEVNX01FU1NBR0UnICV9eyUgZWxzZSAlfXslIHNldCBsb29wX21lc3NhZ2VzID0gbWVzc2FnZXMgJX17JSBzZXQgc3lzdGVtX21lc3NhZ2UgPSBmYWxzZSAlfXslIGVuZGlmICV9eyUgZm9yIG1lc3NhZ2UgaW4gbG9vcF9tZXNzYWdlcyAlfXslIGlmIChtZXNzYWdlWydyb2xlJ10gPT0gJ3VzZXInKSAhPSAobG9vcC5pbmRleDAgJSAyID09IDApICV9e3sgcmFpc2VfZXhjZXB0aW9uKCdDb252ZXJzYXRpb24gcm9sZXMgbXVzdCBhbHRlcm5hdGUgdXNlci9hc3Npc3RhbnQvdXNlci9hc3Npc3RhbnQvLi4uJykgfX17JSBlbmRpZiAlfXslIGlmIGxvb3AuaW5kZXgwID09IDAgYW5kIHN5c3RlbV9tZXNzYWdlICE9IGZhbHNlICV9eyUgc2V0IGNvbnRlbnQgPSAnPDxTWVM+PgonICsgc3lzdGVtX21lc3NhZ2UgKyAnCjw8L1NZUz4+CgonICsgbWVzc2FnZVsnY29udGVudCddICV9eyUgZWxzZSAlfXslIHNldCBjb250ZW50ID0gbWVzc2FnZVsnY29udGVudCddICV9eyUgZW5kaWYgJX17JSBpZiBtZXNzYWdlWydyb2xlJ10gPT0gJ3VzZXInICV9e3sgYm9zX3Rva2VuICsgJ1tJTlNUXSAnICsgY29udGVudC5zdHJpcCgpICsgJyBbL0lOU1RdJyB9fXslIGVsaWYgbWVzc2FnZVsncm9sZSddID09ICdzeXN0ZW0nICV9e3sgJzw8U1lTPj4KJyArIGNvbnRlbnQuc3RyaXAoKSArICcKPDwvU1lTPj4KCicgfX17JSBlbGlmIG1lc3NhZ2VbJ3JvbGUnXSA9PSAnYXNzaXN0YW50JyAlfXt7ICcgJyAgKyBjb250ZW50LnN0cmlwKCkgKyAnICcgKyBlb3NfdG9rZW4gfX17JSBlbmRpZiAlfXslIGVuZGZvciAlfWA7REVGQVVMVF9TWVNURU1fUFJPTVBUPWBZb3UgYXJlIGEgaGVscGZ1bCwgcmVzcGVjdGZ1bCBhbmQgaG9uZXN0IGFzc2lzdGFudC4gQWx3YXlzIGFuc3dlciBhcyBoZWxwZnVsbHkgYXMgcG9zc2libGUsIHdoaWxlIGJlaW5nIHNhZmUuIFlvdXIgYW5zd2VycyBzaG91bGQgbm90IGluY2x1ZGUgYW55IGhhcm1mdWwsIHVuZXRoaWNhbCwgcmFjaXN0LCBzZXhpc3QsIHRveGljLCBkYW5nZXJvdXMsIG9yIGlsbGVnYWwgY29udGVudC4gUGxlYXNlIGVuc3VyZSB0aGF0IHlvdXIgcmVzcG9uc2VzIGFyZSBzb2NpYWxseSB1bmJpYXNlZCBhbmQgcG9zaXRpdmUgaW4gbmF0dXJlLgoKSWYgYSBxdWVzdGlvbiBkb2VzIG5vdCBtYWtlIGFueSBzZW5zZSwgb3IgaXMgbm90IGZhY3R1YWxseSBjb2hlcmVudCwgZXhwbGFpbiB3aHkgaW5zdGVhZCBvZiBhbnN3ZXJpbmcgc29tZXRoaW5nIG5vdCBjb3JyZWN0LiBJZiB5b3UgZG9uJ3Qga25vdyB0aGUgYW5zd2VyIHRvIGEgcXVlc3Rpb24sIHBsZWFzZSBkb24ndCBzaGFyZSBmYWxzZSBpbmZvcm1hdGlvbi5gO2NvbnN0cnVjdG9yKGUscil7c3VwZXIoZSxyKSx0aGlzLnVzZV9kZWZhdWx0X3N5c3RlbV9wcm9tcHQ9ci51c2VfZGVmYXVsdF9zeXN0ZW1fcHJvbXB0Pz8hMSx0aGlzLmxlZ2FjeT1yLmxlZ2FjeT8/ITAsdGhpcy5sZWdhY3l8fCh0aGlzLm5vcm1hbGl6ZXI9bnVsbCx0aGlzLnByZV90b2tlbml6ZXI9bmV3IHJmKHtyZXBsYWNlbWVudDpGYSxhZGRfcHJlZml4X3NwYWNlOiEwLHByZXBlbmRfc2NoZW1lOiJmaXJzdCJ9KSl9X2VuY29kZV90ZXh0KGUpe2lmKGU9PT1udWxsKXJldHVybiBudWxsO2lmKHRoaXMubGVnYWN5fHxlLmxlbmd0aD09PTApcmV0dXJuIHN1cGVyLl9lbmNvZGVfdGV4dChlKTtsZXQgcj1zdXBlci5fZW5jb2RlX3RleHQoRmErZS5yZXBsYWNlQWxsKEZhLCIgIikpO3JldHVybiByLmxlbmd0aD4xJiZyWzBdPT09RmEmJnRoaXMuc3BlY2lhbF90b2tlbnMuaW5jbHVkZXMoclsxXSkmJihyPXIuc2xpY2UoMSkpLHJ9Z2V0IGRlZmF1bHRfY2hhdF90ZW1wbGF0ZSgpe3JldHVybiBzdXBlci5kZWZhdWx0X2NoYXRfdGVtcGxhdGUucmVwbGFjZUFsbCgiVVNFX0RFRkFVTFRfUFJPTVBUIix0aGlzLnVzZV9kZWZhdWx0X3N5c3RlbV9wcm9tcHQ/InRydWUiOiJmYWxzZSIpLnJlcGxhY2VBbGwoIkRFRkFVTFRfU1lTVEVNX01FU1NBR0UiLHRoaXMuREVGQVVMVF9TWVNURU1fUFJPTVBULnJlcGxhY2VBbGwoYApgLCJcXG4iKS5yZXBsYWNlQWxsKCInIiwiXFwnIikpfX1jbGFzcyBldyBleHRlbmRzIHNme31jbGFzcyB0dyBleHRlbmRzIGtle31jbGFzcyBydyBleHRlbmRzIGtle31jbGFzcyBudyBleHRlbmRzIGtle31jbGFzcyBhdyBleHRlbmRzIGtle31jbGFzcyBpdyBleHRlbmRzIGtle31jbGFzcyBzdyBleHRlbmRzIGtle31jbGFzcyBvdyBleHRlbmRzIGtle19kZWZhdWx0X2NoYXRfdGVtcGxhdGU9YHslIGlmIG1lc3NhZ2VzWzBdWydyb2xlJ10gPT0gJ3N5c3RlbScgJX17eyByYWlzZV9leGNlcHRpb24oJ1N5c3RlbSByb2xlIG5vdCBzdXBwb3J0ZWQnKSB9fXslIGVuZGlmICV9eyUgZm9yIG1lc3NhZ2UgaW4gbWVzc2FnZXMgJX17JSBpZiAobWVzc2FnZVsncm9sZSddID09ICd1c2VyJykgIT0gKGxvb3AuaW5kZXgwICUgMiA9PSAwKSAlfXt7IHJhaXNlX2V4Y2VwdGlvbignQ29udmVyc2F0aW9uIHJvbGVzIG11c3QgYWx0ZXJuYXRlIHVzZXIvYXNzaXN0YW50L3VzZXIvYXNzaXN0YW50Ly4uLicpIH19eyUgZW5kaWYgJX17JSBpZiAobWVzc2FnZVsncm9sZSddID09ICdhc3Npc3RhbnQnKSAlfXslIHNldCByb2xlID0gJ21vZGVsJyAlfXslIGVsc2UgJX17JSBzZXQgcm9sZSA9IG1lc3NhZ2VbJ3JvbGUnXSAlfXslIGVuZGlmICV9e3sgJzxzdGFydF9vZl90dXJuPicgKyByb2xlICsgJwonICsgbWVzc2FnZVsnY29udGVudCddIHwgdHJpbSArICc8ZW5kX29mX3R1cm4+CicgfX17JSBlbmRmb3IgJX17JSBpZiBhZGRfZ2VuZXJhdGlvbl9wcm9tcHQgJX17eyc8c3RhcnRfb2ZfdHVybj5tb2RlbAonfX17JSBlbmRpZiAlfWB9Y2xhc3MgbHcgZXh0ZW5kcyBrZXt9ZnVuY3Rpb24gR3ModCxlLHIsbil7aWYoISgibGFuZ3VhZ2VfY29kZXMiaW4gdCl8fCFBcnJheS5pc0FycmF5KHQubGFuZ3VhZ2VfY29kZXMpKXRocm93IG5ldyBFcnJvcigiVG9rZW5pemVyIG11c3QgaGF2ZSBgbGFuZ3VhZ2VfY29kZXNgIGF0dHJpYnV0ZSBzZXQgYW5kIGl0IHNob3VsZCBiZSBhbiBhcnJheSBvZiBsYW5ndWFnZSBpZHMuIik7aWYoISgibGFuZ3VhZ2VSZWdleCJpbiB0KXx8ISh0Lmxhbmd1YWdlUmVnZXggaW5zdGFuY2VvZiBSZWdFeHApKXRocm93IG5ldyBFcnJvcigiVG9rZW5pemVyIG11c3QgaGF2ZSBgbGFuZ3VhZ2VSZWdleGAgYXR0cmlidXRlIHNldCBhbmQgaXQgc2hvdWxkIGJlIGEgcmVndWxhciBleHByZXNzaW9uLiIpO2lmKCEoImxhbmdfdG9fdG9rZW4iaW4gdCl8fHR5cGVvZiB0LmxhbmdfdG9fdG9rZW4hPSJmdW5jdGlvbiIpdGhyb3cgbmV3IEVycm9yKCJUb2tlbml6ZXIgbXVzdCBoYXZlIGBsYW5nX3RvX3Rva2VuYCBhdHRyaWJ1dGUgc2V0IGFuZCBpdCBzaG91bGQgYmUgYSBmdW5jdGlvbi4iKTtjb25zdCBhPW4uc3JjX2xhbmcsaT1uLnRndF9sYW5nO2lmKCF0Lmxhbmd1YWdlX2NvZGVzLmluY2x1ZGVzKGkpKXRocm93IG5ldyBFcnJvcihgVGFyZ2V0IGxhbmd1YWdlIGNvZGUgIiR7aX0iIGlzIG5vdCB2YWxpZC4gTXVzdCBiZSBvbmUgb2Y6IHske3QubGFuZ3VhZ2VfY29kZXMuam9pbigiLCAiKX19YCk7aWYoYSE9PXZvaWQgMCl7aWYoIXQubGFuZ3VhZ2VfY29kZXMuaW5jbHVkZXMoYSkpdGhyb3cgbmV3IEVycm9yKGBTb3VyY2UgbGFuZ3VhZ2UgY29kZSAiJHthfSIgaXMgbm90IHZhbGlkLiBNdXN0IGJlIG9uZSBvZjogeyR7dC5sYW5ndWFnZV9jb2Rlcy5qb2luKCIsICIpfX1gKTtmb3IoY29uc3QgcyBvZiB0LnBvc3RfcHJvY2Vzc29yLmNvbmZpZy5zaW5nbGUpaWYoIlNwZWNpYWxUb2tlbiJpbiBzJiZ0Lmxhbmd1YWdlUmVnZXgudGVzdChzLlNwZWNpYWxUb2tlbi5pZCkpe3MuU3BlY2lhbFRva2VuLmlkPXQubGFuZ190b190b2tlbihhKTticmVha319cmV0dXJuIG4uZm9yY2VkX2Jvc190b2tlbl9pZD10Lm1vZGVsLmNvbnZlcnRfdG9rZW5zX3RvX2lkcyhbdC5sYW5nX3RvX3Rva2VuKGkpXSlbMF0sdC5fY2FsbChlLHIpfWNsYXNzIHV3IGV4dGVuZHMga2V7Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlLHIpLHRoaXMubGFuZ3VhZ2VSZWdleD0vXlthLXpdezN9X1tBLVpdW2Etel17M30kLyx0aGlzLmxhbmd1YWdlX2NvZGVzPXRoaXMuc3BlY2lhbF90b2tlbnMuZmlsdGVyKG49PnRoaXMubGFuZ3VhZ2VSZWdleC50ZXN0KG4pKSx0aGlzLmxhbmdfdG9fdG9rZW49bj0+bn1fYnVpbGRfdHJhbnNsYXRpb25faW5wdXRzKGUscixuKXtyZXR1cm4gR3ModGhpcyxlLHIsbil9fWNsYXNzIGR3IGV4dGVuZHMga2V7Y29uc3RydWN0b3IoZSxyKXtzdXBlcihlLHIpLHRoaXMubGFuZ3VhZ2VSZWdleD0vXl9fW2Etel17MiwzfV9fJC8sdGhpcy5sYW5ndWFnZV9jb2Rlcz10aGlzLnNwZWNpYWxfdG9rZW5zLmZpbHRlcihuPT50aGlzLmxhbmd1YWdlUmVnZXgudGVzdChuKSkubWFwKG49Pm4uc2xpY2UoMiwtMikpLHRoaXMubGFuZ190b190b2tlbj1uPT5gX18ke259X19gfV9idWlsZF90cmFuc2xhdGlvbl9pbnB1dHMoZSxyLG4pe3JldHVybiBHcyh0aGlzLGUscixuKX19Y29uc3Qgb2Y9W1siZW4iLCJlbmdsaXNoIl0sWyJ6aCIsImNoaW5lc2UiXSxbImRlIiwiZ2VybWFuIl0sWyJlcyIsInNwYW5pc2giXSxbInJ1IiwicnVzc2lhbiJdLFsia28iLCJrb3JlYW4iXSxbImZyIiwiZnJlbmNoIl0sWyJqYSIsImphcGFuZXNlIl0sWyJwdCIsInBvcnR1Z3Vlc2UiXSxbInRyIiwidHVya2lzaCJdLFsicGwiLCJwb2xpc2giXSxbImNhIiwiY2F0YWxhbiJdLFsibmwiLCJkdXRjaCJdLFsiYXIiLCJhcmFiaWMiXSxbInN2Iiwic3dlZGlzaCJdLFsiaXQiLCJpdGFsaWFuIl0sWyJpZCIsImluZG9uZXNpYW4iXSxbImhpIiwiaGluZGkiXSxbImZpIiwiZmlubmlzaCJdLFsidmkiLCJ2aWV0bmFtZXNlIl0sWyJoZSIsImhlYnJldyJdLFsidWsiLCJ1a3JhaW5pYW4iXSxbImVsIiwiZ3JlZWsiXSxbIm1zIiwibWFsYXkiXSxbImNzIiwiY3plY2giXSxbInJvIiwicm9tYW5pYW4iXSxbImRhIiwiZGFuaXNoIl0sWyJodSIsImh1bmdhcmlhbiJdLFsidGEiLCJ0YW1pbCJdLFsibm8iLCJub3J3ZWdpYW4iXSxbInRoIiwidGhhaSJdLFsidXIiLCJ1cmR1Il0sWyJociIsImNyb2F0aWFuIl0sWyJiZyIsImJ1bGdhcmlhbiJdLFsibHQiLCJsaXRodWFuaWFuIl0sWyJsYSIsImxhdGluIl0sWyJtaSIsIm1hb3JpIl0sWyJtbCIsIm1hbGF5YWxhbSJdLFsiY3kiLCJ3ZWxzaCJdLFsic2siLCJzbG92YWsiXSxbInRlIiwidGVsdWd1Il0sWyJmYSIsInBlcnNpYW4iXSxbImx2IiwibGF0dmlhbiJdLFsiYm4iLCJiZW5nYWxpIl0sWyJzciIsInNlcmJpYW4iXSxbImF6IiwiYXplcmJhaWphbmkiXSxbInNsIiwic2xvdmVuaWFuIl0sWyJrbiIsImthbm5hZGEiXSxbImV0IiwiZXN0b25pYW4iXSxbIm1rIiwibWFjZWRvbmlhbiJdLFsiYnIiLCJicmV0b24iXSxbImV1IiwiYmFzcXVlIl0sWyJpcyIsImljZWxhbmRpYyJdLFsiaHkiLCJhcm1lbmlhbiJdLFsibmUiLCJuZXBhbGkiXSxbIm1uIiwibW9uZ29saWFuIl0sWyJicyIsImJvc25pYW4iXSxbImtrIiwia2F6YWtoIl0sWyJzcSIsImFsYmFuaWFuIl0sWyJzdyIsInN3YWhpbGkiXSxbImdsIiwiZ2FsaWNpYW4iXSxbIm1yIiwibWFyYXRoaSJdLFsicGEiLCJwdW5qYWJpIl0sWyJzaSIsInNpbmhhbGEiXSxbImttIiwia2htZXIiXSxbInNuIiwic2hvbmEiXSxbInlvIiwieW9ydWJhIl0sWyJzbyIsInNvbWFsaSJdLFsiYWYiLCJhZnJpa2FhbnMiXSxbIm9jIiwib2NjaXRhbiJdLFsia2EiLCJnZW9yZ2lhbiJdLFsiYmUiLCJiZWxhcnVzaWFuIl0sWyJ0ZyIsInRhamlrIl0sWyJzZCIsInNpbmRoaSJdLFsiZ3UiLCJndWphcmF0aSJdLFsiYW0iLCJhbWhhcmljIl0sWyJ5aSIsInlpZGRpc2giXSxbImxvIiwibGFvIl0sWyJ1eiIsInV6YmVrIl0sWyJmbyIsImZhcm9lc2UiXSxbImh0IiwiaGFpdGlhbiBjcmVvbGUiXSxbInBzIiwicGFzaHRvIl0sWyJ0ayIsInR1cmttZW4iXSxbIm5uIiwibnlub3JzayJdLFsibXQiLCJtYWx0ZXNlIl0sWyJzYSIsInNhbnNrcml0Il0sWyJsYiIsImx1eGVtYm91cmdpc2giXSxbIm15IiwibXlhbm1hciJdLFsiYm8iLCJ0aWJldGFuIl0sWyJ0bCIsInRhZ2Fsb2ciXSxbIm1nIiwibWFsYWdhc3kiXSxbImFzIiwiYXNzYW1lc2UiXSxbInR0IiwidGF0YXIiXSxbImhhdyIsImhhd2FpaWFuIl0sWyJsbiIsImxpbmdhbGEiXSxbImhhIiwiaGF1c2EiXSxbImJhIiwiYmFzaGtpciJdLFsianciLCJqYXZhbmVzZSJdLFsic3UiLCJzdW5kYW5lc2UiXV0sVmE9bmV3IE1hcChvZiksY3c9bmV3IE1hcChbLi4ub2YubWFwKChbdCxlXSk9PltlLHRdKSxbImJ1cm1lc2UiLCJteSJdLFsidmFsZW5jaWFuIiwiY2EiXSxbImZsZW1pc2giLCJubCJdLFsiaGFpdGlhbiIsImh0Il0sWyJsZXR6ZWJ1cmdlc2NoIiwibGIiXSxbInB1c2h0byIsInBzIl0sWyJwYW5qYWJpIiwicGEiXSxbIm1vbGRhdmlhbiIsInJvIl0sWyJtb2xkb3ZhbiIsInJvIl0sWyJzaW5oYWxlc2UiLCJzaSJdLFsiY2FzdGlsaWFuIiwiZXMiXV0pO2NsYXNzIHB3IGV4dGVuZHMga2V7X2RlZmF1bHRfY2hhdF90ZW1wbGF0ZT0neyUgZm9yIG1lc3NhZ2UgaW4gbWVzc2FnZXMgJX0iICJ7eyBtZXNzYWdlLmNvbnRlbnQgfX17eyBlb3NfdG9rZW4gfX0iICJ7JSBlbmRmb3IgJX0nO19kZWNvZGVfYXNyKGUse3JldHVybl90aW1lc3RhbXBzOnI9ITEscmV0dXJuX2xhbmd1YWdlOm49ITEsdGltZV9wcmVjaXNpb246YT1udWxsLGZvcmNlX2Z1bGxfc2VxdWVuY2VzOmk9ITB9PXt9KXtpZihhPT09bnVsbCl0aHJvdyBFcnJvcigiTXVzdCBzcGVjaWZ5IHRpbWVfcHJlY2lzaW9uIik7bGV0IHM9bnVsbDtjb25zdCBvPXI9PT0id29yZCI7ZnVuY3Rpb24gbCgpe3JldHVybntsYW5ndWFnZTpzLHRpbWVzdGFtcDpbbnVsbCxudWxsXSx0ZXh0OiIifX1jb25zdCBkPVtdO2xldCBjPWwoKSx1PTA7Y29uc3QgaD10aGlzLm1vZGVsLmNvbnZlcnRfdG9rZW5zX3RvX2lkcyhbIjx8bm90aW1lc3RhbXBzfD4iXSlbMF0rMTtsZXQgZj1bXSxnPVtdLHk9ITEsdz1udWxsO2NvbnN0IHY9bmV3IFNldCh0aGlzLmFsbF9zcGVjaWFsX2lkcyk7Zm9yKGNvbnN0IHggb2YgZSl7Y29uc3QgST14LnRva2VucyxUPW8/eC50b2tlbl90aW1lc3RhbXBzOm51bGw7bGV0IEI9bnVsbCxVPWg7aWYoInN0cmlkZSJpbiB4KXtjb25zdFtPLEcsbmVdPXguc3RyaWRlO2lmKHUtPUcsdz1PLW5lLEcmJihVPUcvYStoKSxuZSlmb3IobGV0IHE9SS5sZW5ndGgtMTtxPj0wOy0tcSl7Y29uc3QgUD1JW3FdO2lmKFA+PWgpe2lmKEIhPT1udWxsJiYoUC1oKSphPHcpYnJlYWs7Qj1QfX19bGV0IEg9W10sSz1bXTtmb3IobGV0IE89MDtPPEkubGVuZ3RoOysrTyl7Y29uc3QgRz1JW09dO2lmKHYuaGFzKEcpKXtjb25zdCBuZT10aGlzLmRlY29kZShbR10pLHE9VmEuZ2V0KG5lLnNsaWNlKDIsLTIpKTtpZihxIT09dm9pZCAwKXtpZihzIT09bnVsbCYmcSE9PXMmJiFyKXtmLnB1c2goSCk7Y29uc3QgUD10aGlzLmZpbmRMb25nZXN0Q29tbW9uU2VxdWVuY2UoZilbMF0sTD10aGlzLmRlY29kZShQKTtjLnRleHQ9TCxkLnB1c2goYyksZj1bXSxIPVtdLGM9bCgpfXM9Yy5sYW5ndWFnZT1xfX1lbHNlIGlmKEc+PWgpe2NvbnN0IG5lPShHLWgpKmErdSxxPWFuKG5lLDIpO2lmKEIhPT1udWxsJiZHPj1CKXk9ITA7ZWxzZSBpZih5fHxmLmxlbmd0aD4wJiZHPFUpeT0hMTtlbHNlIGlmKGMudGltZXN0YW1wWzBdPT09bnVsbCljLnRpbWVzdGFtcFswXT1xO2Vsc2UgaWYocSE9PWMudGltZXN0YW1wWzBdKXtjLnRpbWVzdGFtcFsxXT1xLGYucHVzaChIKSxvJiZnLnB1c2goSyk7Y29uc3RbUCxMXT10aGlzLmZpbmRMb25nZXN0Q29tbW9uU2VxdWVuY2UoZixnKSxWPXRoaXMuZGVjb2RlKFApO2MudGV4dD1WLG8mJihjLndvcmRzPXRoaXMuY29sbGF0ZVdvcmRUaW1lc3RhbXBzKFAsTCxzKSksZC5wdXNoKGMpLGY9W10sSD1bXSxnPVtdLEs9W10sYz1sKCl9fWVsc2UgaWYoSC5wdXNoKEcpLG8pe2xldCBuZT1hbihUW09dK3UsMikscTtPKzE8VC5sZW5ndGg/cT1hbihUW08rMV0rdSwyKTpxPW51bGwsSy5wdXNoKFtuZSxxXSl9fWlmKCJzdHJpZGUiaW4geCl7Y29uc3RbTyxHLG5lXT14LnN0cmlkZTt1Kz1PLW5lfUgubGVuZ3RoPjA/KGYucHVzaChIKSxvJiZnLnB1c2goSykpOmYuZXZlcnkoTz0+Ty5sZW5ndGg9PT0wKSYmKGM9bCgpLGY9W10sSD1bXSxnPVtdLEs9W10pfWlmKGYubGVuZ3RoPjApe2lmKGkmJnIpdGhyb3cgbmV3IEVycm9yKCJXaGlzcGVyIGRpZCBub3QgcHJlZGljdCBhbiBlbmRpbmcgdGltZXN0YW1wLCB3aGljaCBjYW4gaGFwcGVuIGlmIGF1ZGlvIGlzIGN1dCBvZmYgaW4gdGhlIG1pZGRsZSBvZiBhIHdvcmQuIEFsc28gbWFrZSBzdXJlIFdoaXNwZXJUaW1lU3RhbXBMb2dpdHNQcm9jZXNzb3Igd2FzIHVzZWQgZHVyaW5nIGdlbmVyYXRpb24uIik7Y29uc3RbeCxJXT10aGlzLmZpbmRMb25nZXN0Q29tbW9uU2VxdWVuY2UoZixnKSxUPXRoaXMuZGVjb2RlKHgpO2MudGV4dD1ULG8mJihjLndvcmRzPXRoaXMuY29sbGF0ZVdvcmRUaW1lc3RhbXBzKHgsSSxzKSksZC5wdXNoKGMpfWxldCBrPU9iamVjdC5jcmVhdGUobnVsbCk7Y29uc3QgRT1kLm1hcCh4PT54LnRleHQpLmpvaW4oIiIpO2lmKHJ8fG4pe2ZvcihsZXQgeD0wO3g8ZC5sZW5ndGg7Kyt4KXtjb25zdCBJPWRbeF07cnx8ZGVsZXRlIEkudGltZXN0YW1wLG58fGRlbGV0ZSBJLmxhbmd1YWdlfWlmKG8pe2NvbnN0IHg9W107Zm9yKGNvbnN0IEkgb2YgZClmb3IoY29uc3QgVCBvZiBJLndvcmRzKXgucHVzaChUKTtrPXtjaHVua3M6eH19ZWxzZSBrPXtjaHVua3M6ZH19cmV0dXJuW0Usa119ZmluZExvbmdlc3RDb21tb25TZXF1ZW5jZShlLHI9bnVsbCl7bGV0IG49ZVswXSxhPW4ubGVuZ3RoLGk9W107Y29uc3Qgcz1BcnJheS5pc0FycmF5KHIpJiZyLmxlbmd0aD4wO2xldCBvPXM/W106bnVsbCxsPXM/clswXTpudWxsO2ZvcihsZXQgZD0xO2Q8ZS5sZW5ndGg7KytkKXtjb25zdCBjPWVbZF07bGV0IHU9MCxoPVthLGEsMCwwXTtjb25zdCBmPWMubGVuZ3RoO2ZvcihsZXQgeD0xO3g8YStmOysreCl7Y29uc3QgST14LzFlNCxUPU1hdGgubWF4KDAsYS14KSxCPU1hdGgubWluKGEsYStmLXgpLFU9bi5zbGljZShULEIpLEg9TWF0aC5tYXgoMCx4LWEpLEs9TWF0aC5taW4oZix4KSxPPWMuc2xpY2UoSCxLKTtpZihVLmxlbmd0aCE9PU8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiVGhlcmUgaXMgYSBidWcgd2l0aGluIHdoaXNwZXIgYGRlY29kZV9hc3JgIGZ1bmN0aW9uLCBwbGVhc2UgcmVwb3J0IGl0LiBEcm9wcGluZyB0byBwcmV2ZW50IGJhZCBpbmZlcmVuY2UuIik7Y29uc3QgRz1VLmZpbHRlcigocSxQKT0+cT09PU9bUF0pLmxlbmd0aCxuZT1HL3grSTtHPjEmJm5lPnUmJih1PW5lLGg9W1QsQixILEtdKX1jb25zdFtnLHksdyx2XT1oLGs9TWF0aC5mbG9vcigoeStnKS8yKSxFPU1hdGguZmxvb3IoKHYrdykvMik7aS5wdXNoKC4uLm4uc2xpY2UoMCxrKSksbj1jLnNsaWNlKEUpLGE9bi5sZW5ndGgscyYmKG8ucHVzaCguLi5sLnNsaWNlKDAsaykpLGw9cltkXS5zbGljZShFKSl9cmV0dXJuIGkucHVzaCguLi5uKSxzPyhvLnB1c2goLi4ubCksW2ksb10pOltpLFtdXX1jb2xsYXRlV29yZFRpbWVzdGFtcHMoZSxyLG4pe2NvbnN0W2EsaSxzXT10aGlzLmNvbWJpbmVUb2tlbnNJbnRvV29yZHMoZSxuKSxvPVtdO2ZvcihsZXQgbD0wO2w8YS5sZW5ndGg7KytsKXtjb25zdCBkPXNbbF07by5wdXNoKHt0ZXh0OmFbbF0sdGltZXN0YW1wOltyW2QuYXQoMCldWzBdLHJbZC5hdCgtMSldWzFdXX0pfXJldHVybiBvfWNvbWJpbmVUb2tlbnNJbnRvV29yZHMoZSxyLG49YCInXHUyMDFDXHhBMVx4QkYoW3stYCxhPWAiJy5cdTMwMDIsXHVGRjBDIVx1RkYwMT9cdUZGMUY6XHVGRjFBXHUyMDFEKV19XHUzMDAxYCl7cj1yPz8iZW5nbGlzaCI7bGV0IGkscyxvO3JldHVyblsiY2hpbmVzZSIsImphcGFuZXNlIiwidGhhaSIsImxhbyIsIm15YW5tYXIiXS5pbmNsdWRlcyhyKT9baSxzLG9dPXRoaXMuc3BsaXRUb2tlbnNPblVuaWNvZGUoZSk6W2kscyxvXT10aGlzLnNwbGl0VG9rZW5zT25TcGFjZXMoZSksdGhpcy5tZXJnZVB1bmN0dWF0aW9ucyhpLHMsbyxuLGEpfWRlY29kZShlLHIpe2xldCBuO3JldHVybiByJiZyLmRlY29kZV93aXRoX3RpbWVzdGFtcHM/KGUgaW5zdGFuY2VvZiByZSYmKGU9UWgoZSkpLG49dGhpcy5kZWNvZGVXaXRoVGltZXN0YW1wcyhlLHIpKTpuPXN1cGVyLmRlY29kZShlLHIpLG59ZGVjb2RlV2l0aFRpbWVzdGFtcHMoZSxyKXtjb25zdCBuPXI/LnRpbWVfcHJlY2lzaW9uPz8uMDIsYT1BcnJheS5mcm9tKHRoaXMuYWxsX3NwZWNpYWxfaWRzKS5hdCgtMSkrMTtsZXQgaT1bW11dO2Zvcihjb25zdCBzIG9mIGUpaWYocz49YSl7Y29uc3Qgbz1hbigocy1hKSpuLDIpO2kucHVzaChgPHwke299fD5gKSxpLnB1c2goW10pfWVsc2UgaVtpLmxlbmd0aC0xXS5wdXNoKHMpO3JldHVybiBpPWkubWFwKHM9PnR5cGVvZiBzPT0ic3RyaW5nIj9zOnN1cGVyLmRlY29kZShzLHIpKSxpLmpvaW4oIiIpfXNwbGl0VG9rZW5zT25Vbmljb2RlKGUpe2NvbnN0IHI9dGhpcy5kZWNvZGUoZSx7ZGVjb2RlX3dpdGhfdGltZXN0YW1wczohMH0pLG49Ilx1RkZGRCIsYT1bXSxpPVtdLHM9W107bGV0IG89W10sbD1bXSxkPTA7Zm9yKGxldCBjPTA7YzxlLmxlbmd0aDsrK2Mpe2NvbnN0IHU9ZVtjXTtvLnB1c2godSksbC5wdXNoKGMpO2NvbnN0IGg9dGhpcy5kZWNvZGUobyx7ZGVjb2RlX3dpdGhfdGltZXN0YW1wczohMH0pOyghaC5pbmNsdWRlcyhuKXx8cltkK2guaW5kZXhPZihuKV09PT1uKSYmKGEucHVzaChoKSxpLnB1c2gobykscy5wdXNoKGwpLG89W10sbD1bXSxkKz1oLmxlbmd0aCl9cmV0dXJuW2EsaSxzXX1zcGxpdFRva2Vuc09uU3BhY2VzKGUpe2NvbnN0W3IsbixhXT10aGlzLnNwbGl0VG9rZW5zT25Vbmljb2RlKGUpLGk9W10scz1bXSxvPVtdLGw9bmV3IFJlZ0V4cChgXlske0NufV0kYCwiZ3UiKTtmb3IobGV0IGQ9MDtkPHIubGVuZ3RoOysrZCl7Y29uc3QgYz1yW2RdLHU9bltkXSxoPWFbZF0sZj11WzBdPj10aGlzLm1vZGVsLnRva2Vuc190b19pZHMuZ2V0KCI8fGVuZG9mdGV4dHw+IiksZz1jLnN0YXJ0c1dpdGgoIiAiKSx5PWMudHJpbSgpLHc9bC50ZXN0KHkpO2lmKGZ8fGd8fHd8fGkubGVuZ3RoPT09MClpLnB1c2goYykscy5wdXNoKHUpLG8ucHVzaChoKTtlbHNle2NvbnN0IHY9aS5sZW5ndGgtMTtpW3ZdKz1jLHNbdl0ucHVzaCguLi51KSxvW3ZdLnB1c2goLi4uaCl9fXJldHVybltpLHMsb119bWVyZ2VQdW5jdHVhdGlvbnMoZSxyLG4sYSxpKXtjb25zdCBzPXN0cnVjdHVyZWRDbG9uZShlKSxvPXN0cnVjdHVyZWRDbG9uZShyKSxsPXN0cnVjdHVyZWRDbG9uZShuKTtsZXQgZD1zLmxlbmd0aC0yLGM9cy5sZW5ndGgtMTtmb3IoO2Q+PTA7KXNbZF0uc3RhcnRzV2l0aCgiICIpJiZhLmluY2x1ZGVzKHNbZF0udHJpbSgpKT8oc1tjXT1zW2RdK3NbY10sb1tjXT1sdChvW2RdLG9bY10pLGxbY109bHQobFtkXSxsW2NdKSxzW2RdPSIiLG9bZF09W10sbFtkXT1bXSk6Yz1kLC0tZDtmb3IoZD0wLGM9MTtjPHMubGVuZ3RoOykhc1tkXS5lbmRzV2l0aCgiICIpJiZpLmluY2x1ZGVzKHNbY10pPyhzW2RdKz1zW2NdLG9bZF09bHQob1tkXSxvW2NdKSxsW2RdPWx0KGxbZF0sbFtjXSksc1tjXT0iIixvW2NdPVtdLGxbY109W10pOmQ9YywrK2M7cmV0dXJuW3MuZmlsdGVyKHU9PnUpLG8uZmlsdGVyKHU9PnUubGVuZ3RoPjApLGwuZmlsdGVyKHU9PnUubGVuZ3RoPjApXX1nZXRfZGVjb2Rlcl9wcm9tcHRfaWRzKHtsYW5ndWFnZTplPW51bGwsdGFzazpyPW51bGwsbm9fdGltZXN0YW1wczpuPSEwfT17fSl7Y29uc3QgYT1bXTtpZihlKXtlPWUudG9Mb3dlckNhc2UoKTtsZXQgaT1jdy5nZXQoZSk7aWYoaT09PXZvaWQgMClpZihWYS5oYXMoZSkpaT1lO2Vsc2V7Y29uc3Qgbz1lLmxlbmd0aD09PTI/VmEua2V5cygpOlZhLnZhbHVlcygpO3Rocm93IG5ldyBFcnJvcihgTGFuZ3VhZ2UgIiR7ZX0iIGlzIG5vdCBzdXBwb3J0ZWQuIE11c3QgYmUgb25lIG9mOiAke0pTT04uc3RyaW5naWZ5KG8pfWApfWNvbnN0IHM9dGhpcy5tb2RlbC50b2tlbnNfdG9faWRzLmdldChgPHwke2l9fD5gKTtpZihzPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGZpbmQgbGFuZ3VhZ2UgIiR7aX0iIGluIG1vZGVsIHZvY2FidWxhcnkuIFBsZWFzZSByZXBvcnQgdGhpcyBpc3N1ZSBhdCBodHRwczovL2dpdGh1Yi5jb20veGVub3ZhL3RyYW5zZm9ybWVycy5qcy9pc3N1ZXMvbmV3L2Nob29zZS5gKTthLnB1c2gocyl9ZWxzZSBhLnB1c2gobnVsbCk7aWYocil7aWYocj1yLnRvTG93ZXJDYXNlKCksciE9PSJ0cmFuc2NyaWJlIiYmciE9PSJ0cmFuc2xhdGUiKXRocm93IG5ldyBFcnJvcihgVGFzayAiJHtyfSIgaXMgbm90IHN1cHBvcnRlZC4gTXVzdCBiZSBvbmUgb2Y6IFsidHJhbnNjcmliZSIsICJ0cmFuc2xhdGUiXWApO2NvbnN0IGk9dGhpcy5tb2RlbC50b2tlbnNfdG9faWRzLmdldChgPHwke3J9fD5gKTtpZihpPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGZpbmQgdGFzayAiJHtyfSIgaW4gbW9kZWwgdm9jYWJ1bGFyeS4gUGxlYXNlIHJlcG9ydCB0aGlzIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS94ZW5vdmEvdHJhbnNmb3JtZXJzLmpzL2lzc3Vlcy9uZXcvY2hvb3NlLmApO2EucHVzaChpKX1lbHNlIGEucHVzaChudWxsKTtpZihuKXtjb25zdCBpPXRoaXMubW9kZWwudG9rZW5zX3RvX2lkcy5nZXQoIjx8bm90aW1lc3RhbXBzfD4iKTtpZihpPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGZpbmQgIjx8bm90aW1lc3RhbXBzfD4iIGluIG1vZGVsIHZvY2FidWxhcnkuIFBsZWFzZSByZXBvcnQgdGhpcyBpc3N1ZSBhdCBodHRwczovL2dpdGh1Yi5jb20veGVub3ZhL3RyYW5zZm9ybWVycy5qcy9pc3N1ZXMvbmV3L2Nob29zZS4nKTthLnB1c2goaSl9cmV0dXJuIGEubWFwKChpLHMpPT5bcysxLGldKS5maWx0ZXIoaT0+aVsxXSE9PW51bGwpfX1jbGFzcyBodyBleHRlbmRzIGtle31jbGFzcyBmdyBleHRlbmRzIGtle31jbGFzcyBtdyBleHRlbmRzIGtle31jbGFzcyBndyBleHRlbmRzIGtle2NvbnN0cnVjdG9yKGUscil7c3VwZXIoZSxyKSx0aGlzLmxhbmd1YWdlUmVnZXg9L14oPj5cdys8PClccyovZyx0aGlzLnN1cHBvcnRlZF9sYW5ndWFnZV9jb2Rlcz10aGlzLm1vZGVsLnZvY2FiLmZpbHRlcihuPT50aGlzLmxhbmd1YWdlUmVnZXgudGVzdChuKSksY29uc29sZS53YXJuKCdXQVJOSU5HOiBgTWFyaWFuVG9rZW5pemVyYCBpcyBub3QgeWV0IHN1cHBvcnRlZCBieSBIdWdnaW5nIEZhY2VcJ3MgImZhc3QiIHRva2VuaXplcnMgbGlicmFyeS4gVGhlcmVmb3JlLCB5b3UgbWF5IGV4cGVyaWVuY2Ugc2xpZ2h0bHkgaW5hY2N1cmF0ZSByZXN1bHRzLicpfV9lbmNvZGVfdGV4dChlKXtpZihlPT09bnVsbClyZXR1cm4gbnVsbDtjb25zdFtyLC4uLm5dPWUudHJpbSgpLnNwbGl0KHRoaXMubGFuZ3VhZ2VSZWdleCk7aWYobi5sZW5ndGg9PT0wKXJldHVybiBzdXBlci5fZW5jb2RlX3RleHQocik7aWYobi5sZW5ndGg9PT0yKXtjb25zdFthLGldPW47cmV0dXJuIHRoaXMuc3VwcG9ydGVkX2xhbmd1YWdlX2NvZGVzLmluY2x1ZGVzKGEpfHxjb25zb2xlLndhcm4oYFVuc3VwcG9ydGVkIGxhbmd1YWdlIGNvZGUgIiR7YX0iIGRldGVjdGVkLCB3aGljaCBtYXkgbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW9yLiBTaG91bGQgYmUgb25lIG9mOiAke0pTT04uc3RyaW5naWZ5KHRoaXMuc3VwcG9ydGVkX2xhbmd1YWdlX2NvZGVzKX1gKSxsdChbYV0sc3VwZXIuX2VuY29kZV90ZXh0KGkpKX19fWNsYXNzIF93IGV4dGVuZHMga2V7fWNsYXNzIGxmIGV4dGVuZHMga2V7X2RlZmF1bHRfY2hhdF90ZW1wbGF0ZT0ieyUgZm9yIG1lc3NhZ2UgaW4gbWVzc2FnZXMgJX17JSBpZiBtZXNzYWdlWydyb2xlJ10gPT0gJ3VzZXInICV9e3sgJyAnIH19eyUgZW5kaWYgJX17eyBtZXNzYWdlWydjb250ZW50J10gfX17JSBpZiBub3QgbG9vcC5sYXN0ICV9e3sgJyAgJyB9fXslIGVuZGlmICV9eyUgZW5kZm9yICV9e3sgZW9zX3Rva2VuIH19In1jbGFzcyB5dyBleHRlbmRzIGxme31jbGFzcyB3dyBleHRlbmRzIGtle31jbGFzcyB2dyBleHRlbmRzIGtle31jbGFzcyBidyBleHRlbmRzIGtle2NvbnN0cnVjdG9yKGUscil7c3VwZXIoZSxyKSx0aGlzLmRlY29kZXI9bmV3IEV5KHt9KX19Y2xhc3MgJHcgZXh0ZW5kcyBrZXt9Y2xhc3MgdXR7c3RhdGljIFRPS0VOSVpFUl9DTEFTU19NQVBQSU5HPXtUNVRva2VuaXplcjpZeSxEaXN0aWxCZXJ0VG9rZW5pemVyOkd5LENhbWVtYmVydFRva2VuaXplcjpxeSxEZWJlcnRhVG9rZW5pemVyOld5LERlYmVydGFWMlRva2VuaXplcjpMeSxCZXJ0VG9rZW5pemVyOlB5LEhlcmJlcnRUb2tlbml6ZXI6RnksQ29udkJlcnRUb2tlbml6ZXI6VnksUm9Gb3JtZXJUb2tlbml6ZXI6SHksWExNVG9rZW5pemVyOmp5LEVsZWN0cmFUb2tlbml6ZXI6S3ksTW9iaWxlQmVydFRva2VuaXplcjpOeSxTcXVlZXplQmVydFRva2VuaXplcjpVeSxBbGJlcnRUb2tlbml6ZXI6RHksR1BUMlRva2VuaXplcjpuZixCYXJ0VG9rZW5pemVyOlh5LE1CYXJ0VG9rZW5pemVyOmFmLE1CYXJ0NTBUb2tlbml6ZXI6UXksUm9iZXJ0YVRva2VuaXplcjpaeSxXaGlzcGVyVG9rZW5pemVyOnB3LENvZGVHZW5Ub2tlbml6ZXI6aHcsQ0xJUFRva2VuaXplcjpmdyxTaWdsaXBUb2tlbml6ZXI6bXcsTWFyaWFuVG9rZW5pemVyOmd3LEJsb29tVG9rZW5pemVyOkp5LE5sbGJUb2tlbml6ZXI6dXcsTTJNMTAwVG9rZW5pemVyOmR3LExsYW1hVG9rZW5pemVyOnNmLENvZGVMbGFtYVRva2VuaXplcjpldyxYTE1Sb2JlcnRhVG9rZW5pemVyOnR3LE1QTmV0VG9rZW5pemVyOnJ3LEZhbGNvblRva2VuaXplcjpudyxHUFROZW9YVG9rZW5pemVyOmF3LEVzbVRva2VuaXplcjppdyxXYXYyVmVjMkNUQ1Rva2VuaXplcjpfdyxCbGVuZGVyYm90VG9rZW5pemVyOmxmLEJsZW5kZXJib3RTbWFsbFRva2VuaXplcjp5dyxTcGVlY2hUNVRva2VuaXplcjp3dyxOb3VnYXRUb2tlbml6ZXI6dncsVml0c1Rva2VuaXplcjpidyxRd2VuMlRva2VuaXplcjpzdyxHZW1tYVRva2VuaXplcjpvdyxHcm9rMVRva2VuaXplcjpsdyxDb2hlcmVUb2tlbml6ZXI6JHcsUHJlVHJhaW5lZFRva2VuaXplcjprZX07c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZChlLHtxdWFudGl6ZWQ6cj0hMCxwcm9ncmVzc19jYWxsYmFjazpuPW51bGwsY29uZmlnOmE9bnVsbCxjYWNoZV9kaXI6aT1udWxsLGxvY2FsX2ZpbGVzX29ubHk6cz0hMSxyZXZpc2lvbjpvPSJtYWluIixsZWdhY3k6bD1udWxsfT17fSl7Y29uc3RbZCxjXT1hd2FpdCBYaChlLHtxdWFudGl6ZWQ6cixwcm9ncmVzc19jYWxsYmFjazpuLGNvbmZpZzphLGNhY2hlX2RpcjppLGxvY2FsX2ZpbGVzX29ubHk6cyxyZXZpc2lvbjpvLGxlZ2FjeTpsfSksdT1jLnRva2VuaXplcl9jbGFzcz8ucmVwbGFjZSgvRmFzdCQvLCIiKT8/IlByZVRyYWluZWRUb2tlbml6ZXIiO2xldCBoPXRoaXMuVE9LRU5JWkVSX0NMQVNTX01BUFBJTkdbdV07cmV0dXJuIGh8fChjb25zb2xlLndhcm4oYFVua25vd24gdG9rZW5pemVyIGNsYXNzICIke3V9IiwgYXR0ZW1wdGluZyB0byBjb25zdHJ1Y3QgZnJvbSBiYXNlIGNsYXNzLmApLGg9a2UpLG5ldyBoKGQsYyl9fWFzeW5jIGZ1bmN0aW9uIHh3KHQsZSl7cmV0dXJuIGF3YWl0IFJyKHQsImNvbmZpZy5qc29uIiwhMCxlKX1jbGFzcyBrd3tjb25zdHJ1Y3RvcihlKXt0aGlzLm1vZGVsX3R5cGU9bnVsbCx0aGlzLmlzX2VuY29kZXJfZGVjb2Rlcj0hMSxPYmplY3QuYXNzaWduKHRoaXMsZSl9c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZChlLHtwcm9ncmVzc19jYWxsYmFjazpyPW51bGwsY29uZmlnOm49bnVsbCxjYWNoZV9kaXI6YT1udWxsLGxvY2FsX2ZpbGVzX29ubHk6aT0hMSxyZXZpc2lvbjpzPSJtYWluIn09e30pe2xldCBvPW4/P2F3YWl0IHh3KGUse3Byb2dyZXNzX2NhbGxiYWNrOnIsY29uZmlnOm4sY2FjaGVfZGlyOmEsbG9jYWxfZmlsZXNfb25seTppLHJldmlzaW9uOnN9KTtyZXR1cm4gbmV3IHRoaXMobyl9fWNsYXNzIGpye3N0YXRpYyBhc3luYyBmcm9tX3ByZXRyYWluZWQoLi4uZSl7cmV0dXJuIGt3LmZyb21fcHJldHJhaW5lZCguLi5lKX19Y29uc3QgSGE9T2JqZWN0LmZyZWV6ZSh7Y3B1OiJjcHUiLGdwdToiZ3B1Iix3YXNtOiJ3YXNtIix3ZWJncHU6IndlYmdwdSJ9KTthc3luYyBmdW5jdGlvbiBTdygpe3RyeXtyZXR1cm4oYXdhaXQgbmF2aWdhdG9yLmdwdS5yZXF1ZXN0QWRhcHRlcigpKS5mZWF0dXJlcy5oYXMoInNoYWRlci1mMTYiKX1jYXRjaHtyZXR1cm4hMX19Y29uc3QgdWY9YXdhaXQgU3coKSxHdD1PYmplY3QuZnJlZXplKHtmcDMyOiJmcDMyIixmcDE2OiJmcDE2IixxODoicTgiLGludDg6ImludDgiLHVpbnQ4OiJ1aW50OCJ9KSxkZj11Zj9HdC5mcDE2Okd0LmZwMzIsRXc9T2JqZWN0LmZyZWV6ZSh7W0hhLmNwdV06R3QucTgsW0hhLmdwdV06ZGYsW0hhLndhc21dOkd0LnE4LFtIYS53ZWJncHVdOmRmfSksY2Y9T2JqZWN0LmZyZWV6ZSh7W0d0LmZwMzJdOiIiLFtHdC5mcDE2XToiX2ZwMTYiLFtHdC5pbnQ4XToiX2ludDgiLFtHdC51aW50OF06Il91aW50OCIsW0d0LnE4XToiX3F1YW50aXplZCJ9KTtjbGFzcyBwZiBleHRlbmRzIHd0e2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnByb2Nlc3NvcnM9W119cHVzaChlKXt0aGlzLnByb2Nlc3NvcnMucHVzaChlKX1leHRlbmQoZSl7dGhpcy5wcm9jZXNzb3JzLnB1c2goLi4uZSl9X2NhbGwoZSxyKXtmb3IobGV0IG4gb2Ygcil0aGlzLnByb2Nlc3NvcnMuZm9yRWFjaChhPT5hKGUsbikpfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMucHJvY2Vzc29ycy52YWx1ZXMoKX19Y2xhc3MgUXQgZXh0ZW5kcyB3dHtfY2FsbChlLHIpe3Rocm93IEVycm9yKCJgX2NhbGxgIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBhIHN1YmNsYXNzIil9fWNsYXNzIEN3IGV4dGVuZHMgUXR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLmZvcmNlX3Rva2VuX21hcD1PYmplY3QuZnJvbUVudHJpZXMoZT8/W10pfV9jYWxsKGUscil7bGV0IG49dGhpcy5mb3JjZV90b2tlbl9tYXBbZS5sZW5ndGhdO3JldHVybiBmZyhuKSYmKHIuZGF0YS5maWxsKC0xLzApLHIuZGF0YVtuXT0wKSxyfX1jbGFzcyBJdyBleHRlbmRzIFF0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5ib3NfdG9rZW5faWQ9ZX1fY2FsbChlLHIpe3JldHVybiBlLmxlbmd0aD09PTEmJihyLmRhdGEuZmlsbCgtMS8wKSxyLmRhdGFbdGhpcy5ib3NfdG9rZW5faWRdPTApLHJ9fWNsYXNzIEF3IGV4dGVuZHMgUXR7Y29uc3RydWN0b3IoZSxyKXtzdXBlcigpLHRoaXMubWF4X2xlbmd0aD1lLHRoaXMuZm9yY2VkX2Vvc190b2tlbl9pZD1yfV9jYWxsKGUscil7fX1jbGFzcyBUdyBleHRlbmRzIFF0e2NvbnN0cnVjdG9yKGUscil7c3VwZXIoKSx0aGlzLmJlZ2luX3N1cHByZXNzX3Rva2Vucz1lLHRoaXMuYmVnaW5faW5kZXg9cn1fY2FsbChlLHIpe2lmKGUubGVuZ3RoPT09dGhpcy5iZWdpbl9pbmRleClmb3IobGV0IG4gb2YgdGhpcy5iZWdpbl9zdXBwcmVzc190b2tlbnMpci5kYXRhW25dPS0xLzA7cmV0dXJuIHJ9fWNsYXNzIE93IGV4dGVuZHMgUXR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLmVvc190b2tlbl9pZD1lLmVvc190b2tlbl9pZCx0aGlzLm5vX3RpbWVzdGFtcHNfdG9rZW5faWQ9ZS5ub190aW1lc3RhbXBzX3Rva2VuX2lkLHRoaXMudGltZXN0YW1wX2JlZ2luPXRoaXMubm9fdGltZXN0YW1wc190b2tlbl9pZCsxLHRoaXMuYmVnaW5faW5kZXg9KGUuZm9yY2VkX2RlY29kZXJfaWRzfHxbXSkubGVuZ3RoKzIsZS5mb3JjZWRfZGVjb2Rlcl9pZHMuc2xpY2UoLTEpWzBdWzFdPT09dGhpcy5ub190aW1lc3RhbXBzX3Rva2VuX2lkJiYodGhpcy5iZWdpbl9pbmRleC09MSksdGhpcy5tYXhfaW5pdGlhbF90aW1lc3RhbXBfaW5kZXg9ZS5tYXhfaW5pdGlhbF90aW1lc3RhbXBfaW5kZXh9X2NhbGwoZSxyKXtjb25zdCBuPXIuZGF0YTtpZihuW3RoaXMubm9fdGltZXN0YW1wc190b2tlbl9pZF09LTEvMCxlLmxlbmd0aD09PXRoaXMuYmVnaW5faW5kZXgtMSlyZXR1cm4gbi5maWxsKC0xLzApLG5bdGhpcy50aW1lc3RhbXBfYmVnaW5dPTAscjtjb25zdCBhPWUuc2xpY2UodGhpcy5iZWdpbl9pbmRleCksaT1hLmxlbmd0aD49MSYmYVthLmxlbmd0aC0xXT49dGhpcy50aW1lc3RhbXBfYmVnaW4scz1hLmxlbmd0aDwyfHxhW2EubGVuZ3RoLTJdPj10aGlzLnRpbWVzdGFtcF9iZWdpbjtpZihpJiYocz9uLnN1YmFycmF5KHRoaXMudGltZXN0YW1wX2JlZ2luKS5maWxsKC0xLzApOm4uc3ViYXJyYXkoMCx0aGlzLmVvc190b2tlbl9pZCkuZmlsbCgtMS8wKSksZS5sZW5ndGg9PT10aGlzLmJlZ2luX2luZGV4JiZ0aGlzLm1heF9pbml0aWFsX3RpbWVzdGFtcF9pbmRleCE9PW51bGwpe2NvbnN0IGM9dGhpcy50aW1lc3RhbXBfYmVnaW4rdGhpcy5tYXhfaW5pdGlhbF90aW1lc3RhbXBfaW5kZXg7bi5zdWJhcnJheShjKzEpLmZpbGwoLTEvMCl9Y29uc3Qgbz1JZyhuKSxsPU1hdGgubG9nKG8uc3ViYXJyYXkodGhpcy50aW1lc3RhbXBfYmVnaW4pLm1hcChNYXRoLmV4cCkucmVkdWNlKChjLHUpPT5jK3UpKSxkPUN0KG8uc3ViYXJyYXkoMCx0aGlzLnRpbWVzdGFtcF9iZWdpbikpWzBdO3JldHVybiBsPmQmJm4uc3ViYXJyYXkoMCx0aGlzLnRpbWVzdGFtcF9iZWdpbikuZmlsbCgtMS8wKSxyfX1jbGFzcyBNdyBleHRlbmRzIFF0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5ub19yZXBlYXRfbmdyYW1fc2l6ZT1lfWdldE5ncmFtcyhlKXtjb25zdCByPWUubGVuZ3RoLG49W107Zm9yKGxldCBpPTA7aTxyKzEtdGhpcy5ub19yZXBlYXRfbmdyYW1fc2l6ZTsrK2kpe2NvbnN0IHM9W107Zm9yKGxldCBvPTA7bzx0aGlzLm5vX3JlcGVhdF9uZ3JhbV9zaXplOysrbylzLnB1c2goZVtpK29dKTtuLnB1c2gocyl9Y29uc3QgYT1uZXcgTWFwO2Zvcihjb25zdCBpIG9mIG4pe2NvbnN0IHM9aS5zbGljZSgwLGkubGVuZ3RoLTEpLG89SlNPTi5zdHJpbmdpZnkocyksbD1hLmdldChvKT8/W107bC5wdXNoKGlbaS5sZW5ndGgtMV0pLGEuc2V0KG8sbCl9cmV0dXJuIGF9Z2V0R2VuZXJhdGVkTmdyYW1zKGUscil7Y29uc3Qgbj1yLnNsaWNlKHIubGVuZ3RoKzEtdGhpcy5ub19yZXBlYXRfbmdyYW1fc2l6ZSxyLmxlbmd0aCk7cmV0dXJuIGUuZ2V0KEpTT04uc3RyaW5naWZ5KG4pKT8/W119Y2FsY0Jhbm5lZE5ncmFtVG9rZW5zKGUpe2NvbnN0IHI9W107aWYoZS5sZW5ndGgrMTx0aGlzLm5vX3JlcGVhdF9uZ3JhbV9zaXplKXJldHVybiByO3tjb25zdCBuPXRoaXMuZ2V0TmdyYW1zKGUpO3JldHVybiB0aGlzLmdldEdlbmVyYXRlZE5ncmFtcyhuLGUpfX1fY2FsbChlLHIpe2NvbnN0IG49dGhpcy5jYWxjQmFubmVkTmdyYW1Ub2tlbnMoZSk7Zm9yKGNvbnN0IGEgb2YgbilyLmRhdGFbYV09LTEvMDtyZXR1cm4gcn19Y2xhc3MgencgZXh0ZW5kcyBRdHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMucGVuYWx0eT1lfV9jYWxsKGUscil7Zm9yKGNvbnN0IG4gb2YgZSlyLmRhdGFbbl08MD9yLmRhdGFbbl0qPXRoaXMucGVuYWx0eTpyLmRhdGFbbl0vPXRoaXMucGVuYWx0eTtyZXR1cm4gcn19Y2xhc3MgQncgZXh0ZW5kcyBRdHtjb25zdHJ1Y3RvcihlLHIpe3N1cGVyKCksdGhpcy5taW5fbGVuZ3RoPWUsdGhpcy5lb3NfdG9rZW5faWQ9QXJyYXkuaXNBcnJheShyKT9yOltyXX1fY2FsbChlLHIpe2lmKGUubGVuZ3RoPHRoaXMubWluX2xlbmd0aClmb3IoY29uc3QgbiBvZiB0aGlzLmVvc190b2tlbl9pZClyLmRhdGFbbl09LTEvMDtyZXR1cm4gcn19Y2xhc3MgUncgZXh0ZW5kcyBRdHtjb25zdHJ1Y3RvcihlLHIsbil7c3VwZXIoKSx0aGlzLnByb21wdF9sZW5ndGhfdG9fc2tpcD1lLHRoaXMubWluX25ld190b2tlbnM9cix0aGlzLmVvc190b2tlbl9pZD1BcnJheS5pc0FycmF5KG4pP246W25dfV9jYWxsKGUscil7aWYoZS5sZW5ndGgtdGhpcy5wcm9tcHRfbGVuZ3RoX3RvX3NraXA8dGhpcy5taW5fbmV3X3Rva2Vucylmb3IoY29uc3QgbiBvZiB0aGlzLmVvc190b2tlbl9pZClyLmRhdGFbbl09LTEvMDtyZXR1cm4gcn19Y2xhc3MgUHcgZXh0ZW5kcyBRdHtjb25zdHJ1Y3RvcihlLHIpe3N1cGVyKCksdGhpcy5iYWRfd29yZHNfaWRzPWUsdGhpcy5lb3NfdG9rZW5faWQ9QXJyYXkuaXNBcnJheShyKT9yOltyXX1fY2FsbChlLHIpe2Zvcihjb25zdCBuIG9mIHRoaXMuYmFkX3dvcmRzX2lkcyl7bGV0IGE9ITA7Zm9yKGxldCBpPTE7aTw9bi5sZW5ndGgtMSYmbi5sZW5ndGg8ZS5sZW5ndGg7KytpKWlmKG4uYXQoLWktMSkhPT1lLmF0KC1pKSl7YT0hMTticmVha31hJiYoci5kYXRhW24uYXQoLTEpXT0tMS8wKX1yZXR1cm4gcn19Y29uc3QgRHc9Y2xhc3N7Y29uc3RydWN0b3IodD17fSl7dGhpcy5tYXhfbGVuZ3RoPXQubWF4X2xlbmd0aD8/MjAsdGhpcy5tYXhfbmV3X3Rva2Vucz10Lm1heF9uZXdfdG9rZW5zPz9udWxsLHRoaXMubWluX2xlbmd0aD10Lm1pbl9sZW5ndGg/PzAsdGhpcy5taW5fbmV3X3Rva2Vucz10Lm1pbl9uZXdfdG9rZW5zPz9udWxsLHRoaXMuZWFybHlfc3RvcHBpbmc9dC5lYXJseV9zdG9wcGluZz8/ITEsdGhpcy5tYXhfdGltZT10Lm1heF90aW1lPz9udWxsLHRoaXMuZG9fc2FtcGxlPXQuZG9fc2FtcGxlPz8hMSx0aGlzLm51bV9iZWFtcz10Lm51bV9iZWFtcz8/MSx0aGlzLm51bV9iZWFtX2dyb3Vwcz10Lm51bV9iZWFtX2dyb3Vwcz8/MSx0aGlzLnBlbmFsdHlfYWxwaGE9dC5wZW5hbHR5X2FscGhhPz9udWxsLHRoaXMudXNlX2NhY2hlPXQudXNlX2NhY2hlPz8hMCx0aGlzLnRlbXBlcmF0dXJlPXQudGVtcGVyYXR1cmU/PzEsdGhpcy50b3Bfaz10LnRvcF9rPz81MCx0aGlzLnRvcF9wPXQudG9wX3A/PzEsdGhpcy50eXBpY2FsX3A9dC50eXBpY2FsX3A/PzEsdGhpcy5lcHNpbG9uX2N1dG9mZj10LmVwc2lsb25fY3V0b2ZmPz8wLHRoaXMuZXRhX2N1dG9mZj10LmV0YV9jdXRvZmY/PzAsdGhpcy5kaXZlcnNpdHlfcGVuYWx0eT10LmRpdmVyc2l0eV9wZW5hbHR5Pz8wLHRoaXMucmVwZXRpdGlvbl9wZW5hbHR5PXQucmVwZXRpdGlvbl9wZW5hbHR5Pz8xLHRoaXMuZW5jb2Rlcl9yZXBldGl0aW9uX3BlbmFsdHk9dC5lbmNvZGVyX3JlcGV0aXRpb25fcGVuYWx0eT8/MSx0aGlzLmxlbmd0aF9wZW5hbHR5PXQubGVuZ3RoX3BlbmFsdHk/PzEsdGhpcy5ub19yZXBlYXRfbmdyYW1fc2l6ZT10Lm5vX3JlcGVhdF9uZ3JhbV9zaXplPz8wLHRoaXMuYmFkX3dvcmRzX2lkcz10LmJhZF93b3Jkc19pZHM/P251bGwsdGhpcy5mb3JjZV93b3Jkc19pZHM9dC5mb3JjZV93b3Jkc19pZHM/P251bGwsdGhpcy5yZW5vcm1hbGl6ZV9sb2dpdHM9dC5yZW5vcm1hbGl6ZV9sb2dpdHM/PyExLHRoaXMuY29uc3RyYWludHM9dC5jb25zdHJhaW50cz8/bnVsbCx0aGlzLmZvcmNlZF9ib3NfdG9rZW5faWQ9dC5mb3JjZWRfYm9zX3Rva2VuX2lkPz9udWxsLHRoaXMuZm9yY2VkX2Vvc190b2tlbl9pZD10LmZvcmNlZF9lb3NfdG9rZW5faWQ/P251bGwsdGhpcy5yZW1vdmVfaW52YWxpZF92YWx1ZXM9dC5yZW1vdmVfaW52YWxpZF92YWx1ZXM/PyExLHRoaXMuZXhwb25lbnRpYWxfZGVjYXlfbGVuZ3RoX3BlbmFsdHk9dC5leHBvbmVudGlhbF9kZWNheV9sZW5ndGhfcGVuYWx0eT8/bnVsbCx0aGlzLnN1cHByZXNzX3Rva2Vucz10LnN1cHByZXNzX3Rva2Vucz8/bnVsbCx0aGlzLmJlZ2luX3N1cHByZXNzX3Rva2Vucz10LmJlZ2luX3N1cHByZXNzX3Rva2Vucz8/bnVsbCx0aGlzLmZvcmNlZF9kZWNvZGVyX2lkcz10LmZvcmNlZF9kZWNvZGVyX2lkcz8/bnVsbCx0aGlzLm51bV9yZXR1cm5fc2VxdWVuY2VzPXQubnVtX3JldHVybl9zZXF1ZW5jZXM/PzEsdGhpcy5vdXRwdXRfYXR0ZW50aW9ucz10Lm91dHB1dF9hdHRlbnRpb25zPz8hMSx0aGlzLm91dHB1dF9oaWRkZW5fc3RhdGVzPXQub3V0cHV0X2hpZGRlbl9zdGF0ZXM/PyExLHRoaXMub3V0cHV0X3Njb3Jlcz10Lm91dHB1dF9zY29yZXM/PyExLHRoaXMucmV0dXJuX2RpY3RfaW5fZ2VuZXJhdGU9dC5yZXR1cm5fZGljdF9pbl9nZW5lcmF0ZT8/ITEsdGhpcy5wYWRfdG9rZW5faWQ9dC5wYWRfdG9rZW5faWQ/P251bGwsdGhpcy5ib3NfdG9rZW5faWQ9dC5ib3NfdG9rZW5faWQ/P251bGwsdGhpcy5lb3NfdG9rZW5faWQ9dC5lb3NfdG9rZW5faWQ/P251bGwsdGhpcy5lbmNvZGVyX25vX3JlcGVhdF9uZ3JhbV9zaXplPXQuZW5jb2Rlcl9ub19yZXBlYXRfbmdyYW1fc2l6ZT8/MCx0aGlzLmRlY29kZXJfc3RhcnRfdG9rZW5faWQ9dC5kZWNvZGVyX3N0YXJ0X3Rva2VuX2lkPz9udWxsLHRoaXMuZ2VuZXJhdGlvbl9rd2FyZ3M9dC5nZW5lcmF0aW9uX2t3YXJncz8/e319fTtjbGFzcyBHYSBleHRlbmRzIHd0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1lfV9jYWxsKGUscj0tMSl7cmV0dXJuIHRoaXMuc2FtcGxlKGUscil9c2FtcGxlKGUscil7dGhyb3cgRXJyb3IoInNhbXBsZSBzaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3Nlcy4iKX1nZXRMb2dpdHMoZSxyKXtsZXQgbj1lLmRpbXMuYXQoLTEpLGE9ZS5kYXRhO2lmKHI9PT0tMSlhPWEuc2xpY2UoLW4pO2Vsc2V7bGV0IGk9cipuO2E9YS5zbGljZShpLGkrbil9cmV0dXJuIHRoaXMuZ2VuZXJhdGlvbl9jb25maWcudGVtcGVyYXR1cmU+MCYmKGE9YS5tYXAoaT0+aS90aGlzLmdlbmVyYXRpb25fY29uZmlnLnRlbXBlcmF0dXJlKSksYX1yYW5kb21TZWxlY3QoZSl7bGV0IHI9ZS5yZWR1Y2UoKGEsaSk9PmEraSwwKSxuPU1hdGgucmFuZG9tKCkqcjtmb3IobGV0IGE9MDthPGUubGVuZ3RoOysrYSlpZihuLT1lW2FdLG48PTApcmV0dXJuIGE7cmV0dXJuIDB9c3RhdGljIGdldFNhbXBsZXIoZSl7aWYoZS5kb19zYW1wbGUpcmV0dXJuIG5ldyBVdyhlKTtpZihlLm51bV9iZWFtcz4xKXJldHVybiBuZXcgV3coZSk7aWYoZS5udW1fcmV0dXJuX3NlcXVlbmNlcz4xKXRocm93IEVycm9yKGBudW1fcmV0dXJuX3NlcXVlbmNlcyBoYXMgdG8gYmUgMSB3aGVuIGRvaW5nIGdyZWVkeSBzZWFyY2gsIGJ1dCBpcyAke2UubnVtX3JldHVybl9zZXF1ZW5jZXN9LmApO3JldHVybiBuZXcgTncoZSl9fWNsYXNzIE53IGV4dGVuZHMgR2F7c2FtcGxlKGUscj0tMSl7bGV0IG49dGhpcy5nZXRMb2dpdHMoZSxyKTtyZXR1cm5bW0N0KG4pWzFdLDBdXX19Y2xhc3MgVXcgZXh0ZW5kcyBHYXtzYW1wbGUoZSxyPS0xKXtsZXQgbj1lLmRpbXMuYXQoLTEpO3RoaXMuZ2VuZXJhdGlvbl9jb25maWcudG9wX2s+MCYmKG49TWF0aC5taW4odGhpcy5nZW5lcmF0aW9uX2NvbmZpZy50b3BfayxuKSk7Y29uc3QgYT10aGlzLmdldExvZ2l0cyhlLHIpLGk9UHIoYSxuKSxzPWR0KGkubWFwKG89Pm9bMV0pKTtyZXR1cm4gQXJyYXkuZnJvbSh7bGVuZ3RoOnRoaXMuZ2VuZXJhdGlvbl9jb25maWcubnVtX2JlYW1zfSwoKT0+e2NvbnN0IG89dGhpcy5yYW5kb21TZWxlY3Qocyk7cmV0dXJuW2lbb11bMF0sTWF0aC5sb2coc1tvXSldfSl9fWNsYXNzIFd3IGV4dGVuZHMgR2F7c2FtcGxlKGUscj0tMSl7bGV0IG49ZS5kaW1zLmF0KC0xKTt0aGlzLmdlbmVyYXRpb25fY29uZmlnLnRvcF9rPjAmJihuPU1hdGgubWluKHRoaXMuZ2VuZXJhdGlvbl9jb25maWcudG9wX2ssbikpO2NvbnN0IGE9dGhpcy5nZXRMb2dpdHMoZSxyKSxpPVByKGEsbikscz1kdChpLm1hcChvPT5vWzFdKSk7cmV0dXJuIEFycmF5LmZyb20oe2xlbmd0aDp0aGlzLmdlbmVyYXRpb25fY29uZmlnLm51bV9iZWFtc30sKG8sbCk9PltpW2xdWzBdLE1hdGgubG9nKHNbbF0pXSl9fWNvbnN0IFNlPXtFbmNvZGVyT25seTowLEVuY29kZXJEZWNvZGVyOjEsU2VxMlNlcToyLFZpc2lvbjJTZXE6MyxEZWNvZGVyT25seTo0LE1hc2tHZW5lcmF0aW9uOjV9LHFhPW5ldyBNYXAsaGY9bmV3IE1hcCxBbj1uZXcgTWFwO2FzeW5jIGZ1bmN0aW9uIGhyKHQsZSxyKXtjb25zdCBuPW8wKHIuZGV2aWNlKSxhPXIuZHR5cGU/P0V3W25bMF1dO2lmKGNmLmhhc093blByb3BlcnR5KGEpKXtpZihhPT09R3QuZnAxNiYmIXVmKXRocm93IG5ldyBFcnJvcigiVGhlIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGZwMTYuIil9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZHR5cGU6ICR7YX0uIFNob3VsZCBiZSBvbmUgb2Y6ICR7T2JqZWN0LmtleXMoR3QpLmpvaW4oIiwgIil9YCk7Y29uc3QgaT1jZlthXTtsZXQgcz1lO3M9YG9ubngvJHtlfSR7aX0ub25ueGA7Y29uc3Qgbz1hd2FpdCBDaSh0LHMsITAsciksbD1yLnNlc3Npb25fb3B0aW9ucz8/e307aWYobC5leGVjdXRpb25Qcm92aWRlcnM/Pz1uLGwuZXh0ZXJuYWxEYXRhIT09dm9pZCAwKWZvcihsZXQgZD0wO2Q8bC5leHRlcm5hbERhdGEubGVuZ3RoOysrZCl7Y29uc3QgYz1sLmV4dGVybmFsRGF0YVtkXTtpZih0eXBlb2YgYy5kYXRhPT0ic3RyaW5nIil7Y29uc3QgdT1hd2FpdCBDaSh0LGMuZGF0YSwhMCxyKTtjLmRhdGE9dX19cmV0dXJuIGF3YWl0IGwwKG8sbCl9ZnVuY3Rpb24gTHcodCxlKXtjb25zdCByPU9iamVjdC5jcmVhdGUobnVsbCksbj1bXTtmb3IoY29uc3QgcyBvZiB0LmlucHV0TmFtZXMpe2NvbnN0IG89ZVtzXTtpZighKG8gaW5zdGFuY2VvZiByZSkpe24ucHVzaChzKTtjb250aW51ZX1yW3NdPXUwKCk/by5jbG9uZSgpOm99aWYobi5sZW5ndGg+MCl0aHJvdyBuZXcgRXJyb3IoYEFuIGVycm9yIG9jY3VycmVkIGR1cmluZyBtb2RlbCBleGVjdXRpb246ICJNaXNzaW5nIHRoZSBmb2xsb3dpbmcgaW5wdXRzOiAke24uam9pbigiLCAiKX0uYCk7Y29uc3QgYT1PYmplY3Qua2V5cyhlKS5sZW5ndGgsaT10LmlucHV0TmFtZXMubGVuZ3RoO2lmKGE+aSl7bGV0IHM9T2JqZWN0LmtleXMoZSkuZmlsdGVyKG89PiF0LmlucHV0TmFtZXMuaW5jbHVkZXMobykpO2NvbnNvbGUud2FybihgV0FSTklORzogVG9vIG1hbnkgaW5wdXRzIHdlcmUgcHJvdmlkZWQgKCR7YX0gPiAke2l9KS4gVGhlIGZvbGxvd2luZyBpbnB1dHMgd2lsbCBiZSBpZ25vcmVkOiAiJHtzLmpvaW4oIiwgIil9Ii5gKX1yZXR1cm4gcn1hc3luYyBmdW5jdGlvbiBLcih0LGUpe2NvbnN0IHI9THcodCxlKTt0cnl7Y29uc3Qgbj1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMocikubWFwKChbaSxzXSk9PltpLHMub3J0X3RlbnNvcl0pKTtsZXQgYT1hd2FpdCB0LnJ1bihuKTthPWZmKGEpO2Zvcihjb25zdFtpLHNdb2YgT2JqZWN0LmVudHJpZXMocikpaS5zdGFydHNXaXRoKCJwYXN0X2tleV92YWx1ZXMiKSYmcy5kaXNwb3NlKCk7cmV0dXJuIGF9Y2F0Y2gobil7dGhyb3cgY29uc29sZS5lcnJvcihgQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIG1vZGVsIGV4ZWN1dGlvbjogIiR7bn0iLmApLGNvbnNvbGUuZXJyb3IoIklucHV0cyBnaXZlbiB0byBtb2RlbDoiLHIpLG59fWZ1bmN0aW9uIGZmKHQpe2ZvcihsZXQgZSBpbiB0KURoKHRbZV0pP3RbZV09bmV3IHJlKHRbZV0pOnR5cGVvZiB0W2VdPT0ib2JqZWN0IiYmZmYodFtlXSk7cmV0dXJuIHR9ZnVuY3Rpb24gRncodCl7aWYodCBpbnN0YW5jZW9mIHJlKXJldHVybiB0O2lmKHQubGVuZ3RoPT09MCl0aHJvdyBFcnJvcigiaXRlbXMgbXVzdCBiZSBub24tZW1wdHkiKTtpZihBcnJheS5pc0FycmF5KHRbMF0pKXtpZih0LnNvbWUoZT0+ZS5sZW5ndGghPT10WzBdLmxlbmd0aCkpdGhyb3cgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdGVuc29yLCB5b3Ugc2hvdWxkIHByb2JhYmx5IGFjdGl2YXRlIHRydW5jYXRpb24gYW5kL29yIHBhZGRpbmcgd2l0aCAncGFkZGluZz1UcnVlJyBhbmQvb3IgJ3RydW5jYXRpb249VHJ1ZScgdG8gaGF2ZSBiYXRjaGVkIHRlbnNvcnMgd2l0aCB0aGUgc2FtZSBsZW5ndGguIik7cmV0dXJuIG5ldyByZSgiaW50NjQiLEJpZ0ludDY0QXJyYXkuZnJvbSh0LmZsYXQoKS5tYXAoZT0+QmlnSW50KGUpKSksW3QubGVuZ3RoLHRbMF0ubGVuZ3RoXSl9ZWxzZSByZXR1cm4gbmV3IHJlKCJpbnQ2NCIsQmlnSW50NjRBcnJheS5mcm9tKHQubWFwKGU9PkJpZ0ludChlKSkpLFsxLHQubGVuZ3RoXSl9ZnVuY3Rpb24gcXModCxlKXtsZXQgcj10LmNvbmZpZy5wYWRfdG9rZW5faWQ/P251bGwsbj10LmNvbmZpZy5lb3NfdG9rZW5faWQ/P251bGw7X28obikmJihuPVtuXSk7bGV0IGE9ZS5pbmRleE9mKHIpIT09LTEsaT1uPT09bnVsbHx8IW4uaW5jbHVkZXMocik7aWYoYSYmaSl7bGV0IHM9QmlnSW50NjRBcnJheS5mcm9tKGUuZGF0YS5tYXAobz0+byE9cikpO3JldHVybiBuZXcgcmUoImludDY0IixzLGUuZGltcyl9ZWxzZSByZXR1cm4gXzAoZSl9ZnVuY3Rpb24gbWYodCxlLHIpe2lmKCF0LmlucHV0TmFtZXMuaW5jbHVkZXMoInBvc2l0aW9uX2lkcyIpKXJldHVybjtjb25zdCBuPW5ldyBCaWdJbnQ2NEFycmF5KGUuYXR0ZW50aW9uX21hc2suZGF0YS5sZW5ndGgpO2ZvcihsZXQgYT0wO2E8ZS5hdHRlbnRpb25fbWFzay5kaW1zWzBdOysrYSl7bGV0IGk9YSplLmF0dGVudGlvbl9tYXNrLmRpbXNbMV0scz1CaWdJbnQoMCk7Zm9yKGxldCBvPTA7bzxlLmF0dGVudGlvbl9tYXNrLmRpbXNbMV07KytvKXtjb25zdCBsPWkrbztlLmF0dGVudGlvbl9tYXNrLmRhdGFbbF09PT0wbj9uW2xdPUJpZ0ludCgxKToobltsXT1zLHMrPWUuYXR0ZW50aW9uX21hc2suZGF0YVtsXSl9fWUucG9zaXRpb25faWRzPW5ldyByZSgiaW50NjQiLG4sZS5hdHRlbnRpb25fbWFzay5kaW1zKSxyJiYoZS5wb3NpdGlvbl9pZHM9ZS5wb3NpdGlvbl9pZHMuc2xpY2UobnVsbCwtMSkudW5zcXVlZXplXygtMSkpfWZ1bmN0aW9uIGpzKHQpe3JldHVybiBuZXcgcmUoImJvb2wiLFt0XSxbMV0pfWFzeW5jIGZ1bmN0aW9uIFZ3KHQsZSl7bGV0e2VuY29kZXJfb3V0cHV0czpyLHBhc3Rfa2V5X3ZhbHVlczpufT1lO3J8fChyPShhd2FpdCBUbih0LGUpKS5sYXN0X2hpZGRlbl9zdGF0ZSk7bGV0IGE9e2lucHV0X2lkczplLmRlY29kZXJfaW5wdXRfaWRzLGVuY29kZXJfaGlkZGVuX3N0YXRlczpyfTtjb25zdCBpPSEhbjt0LmRlY29kZXJfbWVyZ2VkX3Nlc3Npb24uaW5wdXROYW1lcy5pbmNsdWRlcygidXNlX2NhY2hlX2JyYW5jaCIpJiYoYS51c2VfY2FjaGVfYnJhbmNoPWpzKGkpKSx0LmRlY29kZXJfbWVyZ2VkX3Nlc3Npb24uaW5wdXROYW1lcy5pbmNsdWRlcygiZW5jb2Rlcl9hdHRlbnRpb25fbWFzayIpJiYoYS5lbmNvZGVyX2F0dGVudGlvbl9tYXNrPWUuYXR0ZW50aW9uX21hc2spLG1mKHQuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbixhLGkpLHQuYWRkUGFzdEtleVZhbHVlcyhhLG4pO2NvbnN0IHM9YXdhaXQgS3IodC5kZWNvZGVyX21lcmdlZF9zZXNzaW9uLGEpO2xldCBvPXMubG9naXRzO249dC5nZXRQYXN0S2V5VmFsdWVzKHMsbik7Y29uc3QgbD10LmdldEF0dGVudGlvbnMocyk7cmV0dXJuIG5ldyBCMSh7bG9naXRzOm8scGFzdF9rZXlfdmFsdWVzOm4sZW5jb2Rlcl9vdXRwdXRzOnIsLi4ubH0pfWZ1bmN0aW9uIEh3KHQsZSxyLG4pe2xldCBhPVtdLGk9MDtjb25zdCBzPXQucmVxdWlyZXNfYXR0ZW50aW9uX21hc2s/PyEwO2xldCBvPXIuZGVjb2Rlcl9pbnB1dF9pZHM/P3IuZGVjb2Rlcl9zdGFydF90b2tlbl9pZD8/ci5ib3NfdG9rZW5faWQ/P3IuZW9zX3Rva2VuX2lkO28gaW5zdGFuY2VvZiByZT9vPW8udG9saXN0KCkuZmxhdCgpOkFycmF5LmlzQXJyYXkobyl8fChvPVtvXSk7Zm9yKGxldCBsIG9mIGUpe2wuZGltcz1bMSwuLi5sLmRpbXNdO2xldCBkPXtpbnB1dHM6bCxlbmNvZGVyX291dHB1dHM6bnVsbCxwcmV2X21vZGVsX291dHB1dHM6bnVsbCxvdXRwdXRfdG9rZW5faWRzOm8sZG9uZTohMSxzY29yZTowLGlkOmkrK307cyYmKGQuYXR0ZW50aW9uX21hc2s9cXModCxsKSksYS5wdXNoKGQpfXJldHVybiBhfWFzeW5jIGZ1bmN0aW9uIEd3KHQsZSl7Y29uc3Qgcj10Lm1haW5faW5wdXRfbmFtZTtsZXQgbj1lLm91dHB1dF90b2tlbl9pZHM7ZS5wcmV2X21vZGVsX291dHB1dHMmJihuPW4uc2xpY2UoLTEpKTtsZXQgYT17W3JdOmUuaW5wdXRzLGRlY29kZXJfaW5wdXRfaWRzOkZ3KG4pLGVuY29kZXJfb3V0cHV0czplLmVuY29kZXJfb3V0cHV0cyxwYXN0X2tleV92YWx1ZXM6ZS5wcmV2X21vZGVsX291dHB1dHM/LnBhc3Rfa2V5X3ZhbHVlc307ZS5hdHRlbnRpb25fbWFzayYmKGEuYXR0ZW50aW9uX21hc2s9ZS5hdHRlbnRpb25fbWFzayk7bGV0IGk9YXdhaXQgdC5mb3J3YXJkKGEpO3JldHVybiBlLnByZXZfbW9kZWxfb3V0cHV0cz1pLGUuZW5jb2Rlcl9vdXRwdXRzPWkuZW5jb2Rlcl9vdXRwdXRzLGl9ZnVuY3Rpb24gcXcodCxlKXt0Lm91dHB1dF90b2tlbl9pZHM9Wy4uLnQub3V0cHV0X3Rva2VuX2lkcyxlXX1hc3luYyBmdW5jdGlvbiBUbih0LGUpe2NvbnN0IHI9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IoY29uc3QgbiBvZiB0LnNlc3Npb24uaW5wdXROYW1lcylyW25dPWVbbl07cmV0dXJuIHQuc2Vzc2lvbi5pbnB1dE5hbWVzLmluY2x1ZGVzKCJ0b2tlbl90eXBlX2lkcyIpJiYhci50b2tlbl90eXBlX2lkcyYmKHIudG9rZW5fdHlwZV9pZHM9bmV3IHJlKCJpbnQ2NCIsbmV3IEJpZ0ludDY0QXJyYXkoci5pbnB1dF9pZHMuZGF0YS5sZW5ndGgpLHIuaW5wdXRfaWRzLmRpbXMpKSxhd2FpdCBLcih0LnNlc3Npb24scil9YXN5bmMgZnVuY3Rpb24gancodCxlKXtsZXR7aW5wdXRfaWRzOnIscGFzdF9rZXlfdmFsdWVzOm4sYXR0ZW50aW9uX21hc2s6YX09ZSxpPXtpbnB1dF9pZHM6cixhdHRlbnRpb25fbWFzazphPz9xcyh0LHIpfTtjb25zdCBzPSEhbjt0LnNlc3Npb24uaW5wdXROYW1lcy5pbmNsdWRlcygidXNlX2NhY2hlX2JyYW5jaCIpJiYoaS51c2VfY2FjaGVfYnJhbmNoPWpzKHMpKSxtZih0LnNlc3Npb24saSxzKSx0LmFkZFBhc3RLZXlWYWx1ZXMoaSxuKTtsZXQgbz1hd2FpdCBLcih0LnNlc3Npb24saSksbD1vLmxvZ2l0cztyZXR1cm4gbj10LmdldFBhc3RLZXlWYWx1ZXMobyxuKSx7bG9naXRzOmwscGFzdF9rZXlfdmFsdWVzOm59fWZ1bmN0aW9uIEt3KHQsZSxyLG4sYSl7bGV0IGk9W10scz0wO2ZvcihsZXQgbyBvZiBlKXtsZXQgbD1vLnRvbGlzdCgpLm1hcChOdW1iZXIpO28uZGltcz1bMSwuLi5vLmRpbXNdO2xldCBkO2E/KGQ9YVtzXSxkLmRpbXM9WzEsLi4uZC5kaW1zXSk6ZD1xcyh0LG8pO2xldCBjPXtpbnB1dDpvLG1vZGVsX2lucHV0X2lkczpvLGF0dGVudGlvbl9tYXNrOmQscHJldl9tb2RlbF9vdXRwdXRzOm51bGwsb3V0cHV0X3Rva2VuX2lkczpsLG51bV9vdXRwdXRfdG9rZW5zOm4sZG9uZTohMSxzY29yZTowLGlkOnMrK307aS5wdXNoKGMpfXJldHVybiBpfWFzeW5jIGZ1bmN0aW9uIFl3KHQsZSl7bGV0IHI9bmV3IEJpZ0ludDY0QXJyYXkoZS5vdXRwdXRfdG9rZW5faWRzLmxlbmd0aCkuZmlsbCgxbiksbj17aW5wdXRfaWRzOmUubW9kZWxfaW5wdXRfaWRzLGF0dGVudGlvbl9tYXNrOm5ldyByZSgiaW50NjQiLHIsWzEsci5sZW5ndGhdKSxwYXN0X2tleV92YWx1ZXM6ZS5wcmV2X21vZGVsX291dHB1dHM/LnBhc3Rfa2V5X3ZhbHVlc30sYT1hd2FpdCB0LmZvcndhcmQobik7cmV0dXJuIGUucHJldl9tb2RlbF9vdXRwdXRzPWEsYX1mdW5jdGlvbiBYdyh0LGUpe3Qub3V0cHV0X3Rva2VuX2lkcz1bLi4udC5vdXRwdXRfdG9rZW5faWRzLGVdLHQubW9kZWxfaW5wdXRfaWRzPW5ldyByZSgiaW50NjQiLFtCaWdJbnQoZSldLFsxLDFdKX1jbGFzcyBaIGV4dGVuZHMgd3R7bWFpbl9pbnB1dF9uYW1lPSJpbnB1dF9pZHMiO2NvbnN0cnVjdG9yKGUscil7c3VwZXIoKSx0aGlzLmNvbmZpZz1lLHRoaXMuc2Vzc2lvbj1yO2NvbnN0IG49QW4uZ2V0KHRoaXMuY29uc3RydWN0b3IpLGE9cWEuZ2V0KG4pO3RoaXMuY2FuX2dlbmVyYXRlPSExLHRoaXMuX3J1bkJlYW09bnVsbCx0aGlzLl9nZXRTdGFydEJlYW1zPW51bGwsdGhpcy5fdXBkYXRlQmVhbT1udWxsLHRoaXMuX2ZvcndhcmQ9bnVsbCxhPT09U2UuRGVjb2Rlck9ubHk/KHRoaXMuY2FuX2dlbmVyYXRlPSEwLHRoaXMuX3J1bkJlYW09WXcsdGhpcy5fZ2V0U3RhcnRCZWFtcz1Ldyx0aGlzLl91cGRhdGVCZWFtPVh3LHRoaXMuX2ZvcndhcmQ9ancpOmE9PT1TZS5TZXEyU2VxfHxhPT09U2UuVmlzaW9uMlNlcT8odGhpcy5jYW5fZ2VuZXJhdGU9ITAsdGhpcy5fcnVuQmVhbT1Hdyx0aGlzLl9nZXRTdGFydEJlYW1zPUh3LHRoaXMuX3VwZGF0ZUJlYW09cXcsdGhpcy5fZm9yd2FyZD1Wdyk6YT09PVNlLkVuY29kZXJEZWNvZGVyP3RoaXMuX2ZvcndhcmQ9VG46dGhpcy5fZm9yd2FyZD1Ubn1hc3luYyBkaXNwb3NlKCl7Y29uc3QgZT1bXTtmb3IobGV0IHIgb2YgT2JqZWN0LmtleXModGhpcykpe2xldCBuPXRoaXNbcl07bj8uaGFuZGxlcj8uZGlzcG9zZSE9PXZvaWQgMCYmZS5wdXNoKG4uaGFuZGxlci5kaXNwb3NlKCkpfXJldHVybiBhd2FpdCBQcm9taXNlLmFsbChlKX1zdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKGUse3Byb2dyZXNzX2NhbGxiYWNrOnI9bnVsbCxjb25maWc6bj1udWxsLGNhY2hlX2RpcjphPW51bGwsbG9jYWxfZmlsZXNfb25seTppPSExLHJldmlzaW9uOnM9Im1haW4iLG1vZGVsX2ZpbGVfbmFtZTpvPW51bGwsZGV2aWNlOmw9bnVsbCxkdHlwZTpkPW51bGwsc2Vzc2lvbl9vcHRpb25zOmM9e319PXt9KXtsZXQgdT17cHJvZ3Jlc3NfY2FsbGJhY2s6cixjb25maWc6bixjYWNoZV9kaXI6YSxsb2NhbF9maWxlc19vbmx5OmkscmV2aXNpb246cyxtb2RlbF9maWxlX25hbWU6byxkZXZpY2U6bCxkdHlwZTpkLHNlc3Npb25fb3B0aW9uczpjfTtjb25zdCBoPUFuLmdldCh0aGlzKSxmPXFhLmdldChoKTtsZXQgZztyZXR1cm4gZj09PVNlLkRlY29kZXJPbmx5P2c9YXdhaXQgUHJvbWlzZS5hbGwoW2pyLmZyb21fcHJldHJhaW5lZChlLHUpLGhyKGUsdS5tb2RlbF9maWxlX25hbWU/PyJkZWNvZGVyX21vZGVsX21lcmdlZCIsdSksUnIoZSwiZ2VuZXJhdGlvbl9jb25maWcuanNvbiIsITEsdSldKTpmPT09U2UuU2VxMlNlcXx8Zj09PVNlLlZpc2lvbjJTZXE/Zz1hd2FpdCBQcm9taXNlLmFsbChbanIuZnJvbV9wcmV0cmFpbmVkKGUsdSksaHIoZSwiZW5jb2Rlcl9tb2RlbCIsdSksaHIoZSwiZGVjb2Rlcl9tb2RlbF9tZXJnZWQiLHUpLFJyKGUsImdlbmVyYXRpb25fY29uZmlnLmpzb24iLCExLHUpXSk6Zj09PVNlLk1hc2tHZW5lcmF0aW9uP2c9YXdhaXQgUHJvbWlzZS5hbGwoW2pyLmZyb21fcHJldHJhaW5lZChlLHUpLGhyKGUsInZpc2lvbl9lbmNvZGVyIix1KSxocihlLCJwcm9tcHRfZW5jb2Rlcl9tYXNrX2RlY29kZXIiLHUpXSk6Zj09PVNlLkVuY29kZXJEZWNvZGVyP2c9YXdhaXQgUHJvbWlzZS5hbGwoW2pyLmZyb21fcHJldHJhaW5lZChlLHUpLGhyKGUsImVuY29kZXJfbW9kZWwiLHUpLGhyKGUsImRlY29kZXJfbW9kZWxfbWVyZ2VkIix1KV0pOihmIT09U2UuRW5jb2Rlck9ubHkmJmNvbnNvbGUud2FybihgTW9kZWwgdHlwZSBmb3IgJyR7aD8/bj8ubW9kZWxfdHlwZX0nIG5vdCBmb3VuZCwgYXNzdW1pbmcgZW5jb2Rlci1vbmx5IGFyY2hpdGVjdHVyZS4gUGxlYXNlIHJlcG9ydCB0aGlzIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS94ZW5vdmEvdHJhbnNmb3JtZXJzLmpzL2lzc3Vlcy9uZXcvY2hvb3NlLmApLGc9YXdhaXQgUHJvbWlzZS5hbGwoW2pyLmZyb21fcHJldHJhaW5lZChlLHUpLGhyKGUsdS5tb2RlbF9maWxlX25hbWU/PyJtb2RlbCIsdSldKSksbmV3IHRoaXMoLi4uZyl9YXN5bmMgX2NhbGwoZSl7cmV0dXJuIGF3YWl0IHRoaXMuZm9yd2FyZChlKX1hc3luYyBmb3J3YXJkKGUpe3JldHVybiBhd2FpdCB0aGlzLl9mb3J3YXJkKHRoaXMsZSl9X2dldF9sb2dpdHNfcHJvY2Vzc29yKGUscixuPW51bGwpe2NvbnN0IGE9bmV3IHBmO2lmKGUucmVwZXRpdGlvbl9wZW5hbHR5IT09bnVsbCYmZS5yZXBldGl0aW9uX3BlbmFsdHkhPT0xJiZhLnB1c2gobmV3IHp3KGUucmVwZXRpdGlvbl9wZW5hbHR5KSksZS5ub19yZXBlYXRfbmdyYW1fc2l6ZSE9PW51bGwmJmUubm9fcmVwZWF0X25ncmFtX3NpemU+MCYmYS5wdXNoKG5ldyBNdyhlLm5vX3JlcGVhdF9uZ3JhbV9zaXplKSksZS5iYWRfd29yZHNfaWRzIT09bnVsbCYmYS5wdXNoKG5ldyBQdyhlLmJhZF93b3Jkc19pZHMsZS5lb3NfdG9rZW5faWQpKSxlLm1pbl9sZW5ndGghPT1udWxsJiZlLmVvc190b2tlbl9pZCE9PW51bGwmJmUubWluX2xlbmd0aD4wJiZhLnB1c2gobmV3IEJ3KGUubWluX2xlbmd0aCxlLmVvc190b2tlbl9pZCkpLGUubWluX25ld190b2tlbnMhPT1udWxsJiZlLmVvc190b2tlbl9pZCE9PW51bGwmJmUubWluX25ld190b2tlbnM+MCYmYS5wdXNoKG5ldyBSdyhyLGUubWluX25ld190b2tlbnMsZS5lb3NfdG9rZW5faWQpKSxlLmZvcmNlZF9ib3NfdG9rZW5faWQhPT1udWxsJiZhLnB1c2gobmV3IEl3KGUuZm9yY2VkX2Jvc190b2tlbl9pZCkpLGUuZm9yY2VkX2Vvc190b2tlbl9pZCE9PW51bGwmJmEucHVzaChuZXcgQXcoZS5tYXhfbGVuZ3RoLGUuZm9yY2VkX2Vvc190b2tlbl9pZCkpLGUuYmVnaW5fc3VwcHJlc3NfdG9rZW5zIT09bnVsbCl7bGV0IGk9cj4xfHxlLmZvcmNlZF9ib3NfdG9rZW5faWQ9PT1udWxsP3I6cisxO2UuZm9yY2VkX2RlY29kZXJfaWRzIT09bnVsbCYmKGkrPWUuZm9yY2VkX2RlY29kZXJfaWRzW2UuZm9yY2VkX2RlY29kZXJfaWRzLmxlbmd0aC0xXVswXSksYS5wdXNoKG5ldyBUdyhlLmJlZ2luX3N1cHByZXNzX3Rva2VucyxpKSl9cmV0dXJuIGUuZm9yY2VkX2RlY29kZXJfaWRzIT09bnVsbCYmYS5wdXNoKG5ldyBDdyhlLmZvcmNlZF9kZWNvZGVyX2lkcykpLG4hPT1udWxsJiZhLmV4dGVuZChuKSxhfV9nZXRfZ2VuZXJhdGlvbl9jb25maWcoZSl7bGV0IHI9bmV3IER3KHRoaXMuY29uZmlnKTtyZXR1cm4iZ2VuZXJhdGlvbl9jb25maWciaW4gdGhpcyYmT2JqZWN0LmFzc2lnbihyLHRoaXMuZ2VuZXJhdGlvbl9jb25maWcpLGUhPT1udWxsJiZPYmplY3QuYXNzaWduKHIsZSkscn1hc3luYyBnZW5lcmF0ZShlLHI9bnVsbCxuPW51bGwse2lucHV0c19hdHRlbnRpb25fbWFzazphPW51bGx9PXt9KXtpZighdGhpcy5jYW5fZ2VuZXJhdGUpe2xldCB5PWBUaGUgY3VycmVudCBtb2RlbCBjbGFzcyAoJHtBbi5nZXQodGhpcy5jb25zdHJ1Y3Rvcil9KSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIFxgLmdlbmVyYXRlKClcYCwgYXMgaXQgZG9lc24ndCBoYXZlIGEgbGFuZ3VhZ2UgbW9kZWwgaGVhZC5gO2NvbnN0IHc9dGhpcy5jb25maWcubW9kZWxfdHlwZSx2PWVpLmdldCh3KT8/ZW8uZ2V0KHcpPz9Kcy5nZXQodyk/P3RvLmdldCh3KTt0aHJvdyB2JiYoeSs9YCBQbGVhc2UgdXNlIHRoZSBmb2xsb3dpbmcgY2xhc3MgaW5zdGVhZDogJyR7dlswXX0nYCksRXJyb3IoeSl9aWYoIShlIGluc3RhbmNlb2YgcmUpJiYhaGcoZSkmJiFBcnJheS5pc0FycmF5KGUpKXRocm93IEVycm9yKGBcYGlucHV0c1xgIG11c3QgYmUgYSBUZW5zb3IsIFR5cGVkQXJyYXksIG9yIEFycmF5LCBidXQgaXMgIiR7ZS5jb25zdHJ1Y3Rvci5uYW1lfSIuYCk7bGV0IGk7aWYodGhpcy5jb25maWcuaXNfZW5jb2Rlcl9kZWNvZGVyKWk9MDtlbHNlIGlmKGk9ZSBpbnN0YW5jZW9mIHJlP2UuZGltcy5hdCgtMSk6ZS5sZW5ndGgsaT09PTApdGhyb3cgRXJyb3IoIk11c3Qgc3VwcGx5IGEgbm9uLWVtcHR5IGFycmF5IG9mIGlucHV0IHRva2VuIGlkcy4iKTtyPXRoaXMuX2dldF9nZW5lcmF0aW9uX2NvbmZpZyhyKSxuPW4/P25ldyBwZixuPXRoaXMuX2dldF9sb2dpdHNfcHJvY2Vzc29yKHIsaSxuKTtsZXQgcz1yLmVvc190b2tlbl9pZDtzIT09bnVsbCYmIUFycmF5LmlzQXJyYXkocykmJihzPVtzXSk7bGV0IG89MTtjb25zdCBsPW8rKHIubWF4X25ld190b2tlbnM/PzEvMCksZD1OdW1iZXIuaXNJbnRlZ2VyKHIubWF4X2xlbmd0aCkmJihyLm1heF9uZXdfdG9rZW5zPz9udWxsKT09PW51bGw7bGV0IGM9R2EuZ2V0U2FtcGxlcihyKSx1PXRoaXMuZ2V0U3RhcnRCZWFtcyhlLHIsbyxhKTtmb3IoO3Uuc29tZSh5PT4heS5kb25lKSYmbzxsOyl7bGV0IHk9W107Zm9yKGxldCB3IG9mIHUpe2lmKHcuZG9uZSl7eS5wdXNoKHcpO2NvbnRpbnVlfWlmKGQmJncub3V0cHV0X3Rva2VuX2lkcy5sZW5ndGg+PXIubWF4X2xlbmd0aCl7dy5kb25lPSEwLHkucHVzaCh3KTtjb250aW51ZX1sZXQgdj1hd2FpdCB0aGlzLnJ1bkJlYW0odyk7ci5vdXRwdXRfYXR0ZW50aW9ucyYmdGhpcy5hZGRBdHRlbnRpb25zVG9CZWFtKHcsdiksci5vdXRwdXRfc2NvcmVzO2xldCBrPXYubG9naXRzLnNsaWNlKG51bGwsLTEsbnVsbCk7bih3Lm91dHB1dF90b2tlbl9pZHMsayk7bGV0IEU9YyhrKTtmb3IobGV0W3gsSV1vZiBFKXtsZXQgVD17Li4ud307dGhpcy51cGRhdGVCZWFtKFQseCksVC5zY29yZSs9SSxzJiZzLmluY2x1ZGVzKHgpJiYoVC5kb25lPSEwKSx5LnB1c2goVCl9fSsrbyx5PXRoaXMuZ3JvdXBCZWFtcyh5KS5tYXAodz0+dy5zb3J0KCh2LGspPT5rLnNjb3JlLXYuc2NvcmUpLnNsaWNlKDAsci5udW1fYmVhbXMpKSx1PXkuZmxhdCgpLHIuY2FsbGJhY2tfZnVuY3Rpb24mJnIuY2FsbGJhY2tfZnVuY3Rpb24odSl9Y29uc3QgaD10aGlzLmdyb3VwQmVhbXModSksZj15PT5oLm1hcCh3PT5yLm51bV9yZXR1cm5fc2VxdWVuY2VzPjE/dy5zbGljZSgwLHIubnVtX3JldHVybl9zZXF1ZW5jZXMpLm1hcCh2PT52W3ldKTpbd1swXVt5XV0pLmZsYXQoKSxnPWYoIm91dHB1dF90b2tlbl9pZHMiKTtpZihyLnJldHVybl9kaWN0X2luX2dlbmVyYXRlKXtjb25zdCB5PWYoImRlY29kZXJfYXR0ZW50aW9ucyIpLHc9ZigiY3Jvc3NfYXR0ZW50aW9ucyIpO3JldHVybntzZXF1ZW5jZXM6ZyxkZWNvZGVyX2F0dGVudGlvbnM6eSxjcm9zc19hdHRlbnRpb25zOnd9fWVsc2UgcmV0dXJuIGd9YWRkQXR0ZW50aW9uc1RvQmVhbShlLHIpe2lmKHRoaXMuY29uZmlnLmlzX2VuY29kZXJfZGVjb2Rlcil7aWYoIXIuY3Jvc3NfYXR0ZW50aW9uc3x8ci5jcm9zc19hdHRlbnRpb25zLmxlbmd0aD09PTApdGhyb3cgRXJyb3IoImBvdXRwdXRfYXR0ZW50aW9uc2AgaXMgdHJ1ZSwgYnV0IHRoZSBtb2RlbCBkaWQgbm90IHByb2R1Y2UgY3Jvc3MtYXR0ZW50aW9ucy4gVGhpcyBpcyBtb3N0IGxpa2VseSBiZWNhdXNlIHRoZSBtb2RlbCB3YXMgbm90IGV4cG9ydGVkIHdpdGggYG91dHB1dF9hdHRlbnRpb25zPVRydWVgLiIpO2UuY3Jvc3NfYXR0ZW50aW9uc3x8KGUuY3Jvc3NfYXR0ZW50aW9ucz1bXSksZS5jcm9zc19hdHRlbnRpb25zLnB1c2goci5jcm9zc19hdHRlbnRpb25zKX1pZighci5kZWNvZGVyX2F0dGVudGlvbnN8fHIuZGVjb2Rlcl9hdHRlbnRpb25zLmxlbmd0aD09PTApdGhyb3cgRXJyb3IoImBvdXRwdXRfYXR0ZW50aW9uc2AgaXMgdHJ1ZSwgYnV0IHRoZSBtb2RlbCBkaWQgbm90IHByb2R1Y2UgZGVjb2Rlci1hdHRlbnRpb25zLiBUaGlzIGlzIG1vc3QgbGlrZWx5IGJlY2F1c2UgdGhlIG1vZGVsIHdhcyBub3QgZXhwb3J0ZWQgd2l0aCBgb3V0cHV0X2F0dGVudGlvbnM9VHJ1ZWAuIik7ZS5kZWNvZGVyX2F0dGVudGlvbnN8fChlLmRlY29kZXJfYXR0ZW50aW9ucz1bXSksZS5kZWNvZGVyX2F0dGVudGlvbnMucHVzaChyLmRlY29kZXJfYXR0ZW50aW9ucyl9Z3JvdXBCZWFtcyhlKXtjb25zdCByPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGNvbnN0IG4gb2YgZSlyW24uaWRdPT09dm9pZCAwP3Jbbi5pZF09W25dOnJbbi5pZF0ucHVzaChuKTtyZXR1cm4gT2JqZWN0LnZhbHVlcyhyKX1nZXRQYXN0S2V5VmFsdWVzKGUscil7Y29uc3Qgbj1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCBhIGluIGUpaWYoYS5zdGFydHNXaXRoKCJwcmVzZW50Iikpe2xldCBpPWEucmVwbGFjZSgicHJlc2VudCIsInBhc3Rfa2V5X3ZhbHVlcyIpO3ImJmEuaW5jbHVkZXMoImVuY29kZXIiKT9uW2ldPXJbaV06bltpXT1lW2FdfXJldHVybiBufWdldEF0dGVudGlvbnMoZSl7Y29uc3Qgcj1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcihjb25zdCBuIG9mWyJjcm9zc19hdHRlbnRpb25zIiwiZGVjb2Rlcl9hdHRlbnRpb25zIl0pe2NvbnN0IGE9W107Zm9yKGNvbnN0IGkgaW4gZSlpZihpLnN0YXJ0c1dpdGgobikpe2NvbnN0IHM9aS5zcGxpdCgiLiIpLnBvcCgpO2Fbc109ZVtpXX1yW25dPWF9cmV0dXJuIHJ9YWRkUGFzdEtleVZhbHVlcyhlLHIpe2lmKHIpT2JqZWN0LmFzc2lnbihlLHIpO2Vsc2V7Y29uc3Qgbj10aGlzLmNvbmZpZy5wcmVjaXNpb258fCJmbG9hdDMyIixhPW49PT0iZmxvYXQxNiI/bmV3IFVpbnQxNkFycmF5OltdO2lmKHRoaXMuY29uZmlnLmlzX2VuY29kZXJfZGVjb2RlciYmKHRoaXMuYWRkX2VuY29kZXJfcGt2Pz8hMCkpe2xldCBpPVsxLHRoaXMubnVtX2VuY29kZXJfaGVhZHMsMCx0aGlzLmVuY29kZXJfZGltX2t2XSxzPVsxLHRoaXMubnVtX2RlY29kZXJfaGVhZHMsMCx0aGlzLmRlY29kZXJfZGltX2t2XTtmb3IobGV0IG89MDtvPHRoaXMubnVtX2RlY29kZXJfbGF5ZXJzOysrbyllW2BwYXN0X2tleV92YWx1ZXMuJHtvfS5lbmNvZGVyLmtleWBdPW5ldyByZShuLGEsaSksZVtgcGFzdF9rZXlfdmFsdWVzLiR7b30uZW5jb2Rlci52YWx1ZWBdPW5ldyByZShuLGEsaSksZVtgcGFzdF9rZXlfdmFsdWVzLiR7b30uZGVjb2Rlci5rZXlgXT1uZXcgcmUobixhLHMpLGVbYHBhc3Rfa2V5X3ZhbHVlcy4ke299LmRlY29kZXIudmFsdWVgXT1uZXcgcmUobixhLHMpfWVsc2UgaWYodGhpcy5jb25maWcubW9kZWxfdHlwZT09PSJmYWxjb24iKXtsZXQgaT1bMSp0aGlzLm51bV9oZWFkcywwLHRoaXMuZGltX2t2XTtmb3IobGV0IHM9MDtzPHRoaXMubnVtX2xheWVyczsrK3MpZVtgcGFzdF9rZXlfdmFsdWVzLiR7c30ua2V5YF09bmV3IHJlKG4sYSxpKSxlW2BwYXN0X2tleV92YWx1ZXMuJHtzfS52YWx1ZWBdPW5ldyByZShuLGEsaSl9ZWxzZSBpZih0aGlzLmNvbmZpZy5tdWx0aV9xdWVyeSl7bGV0IGk9WzEqdGhpcy5udW1faGVhZHMsMCwyKnRoaXMuZGltX2t2XTtmb3IobGV0IHM9MDtzPHRoaXMubnVtX2xheWVyczsrK3MpZVtgcGFzdF9rZXlfdmFsdWVzLiR7c30ua2V5X3ZhbHVlYF09bmV3IHJlKG4sYSxpKX1lbHNlIGlmKHRoaXMuY29uZmlnLm1vZGVsX3R5cGU9PT0iYmxvb20iKXtsZXQgaT1bMSp0aGlzLm51bV9oZWFkcyx0aGlzLmRpbV9rdiwwXSxzPVsxKnRoaXMubnVtX2hlYWRzLDAsdGhpcy5kaW1fa3ZdO2ZvcihsZXQgbz0wO288dGhpcy5udW1fbGF5ZXJzOysrbyllW2BwYXN0X2tleV92YWx1ZXMuJHtvfS5rZXlgXT1uZXcgcmUobixhLGkpLGVbYHBhc3Rfa2V5X3ZhbHVlcy4ke299LnZhbHVlYF09bmV3IHJlKG4sYSxzKX1lbHNle2xldCBpPVsxLHRoaXMubnVtX2hlYWRzLDAsdGhpcy5kaW1fa3ZdO2ZvcihsZXQgcz0wO3M8dGhpcy5udW1fbGF5ZXJzOysrcyllW2BwYXN0X2tleV92YWx1ZXMuJHtzfS5rZXlgXT1uZXcgcmUobixhLGkpLGVbYHBhc3Rfa2V5X3ZhbHVlcy4ke3N9LnZhbHVlYF09bmV3IHJlKG4sYSxpKX19fWdldFN0YXJ0QmVhbXMoZSxyLG4sYSl7cmV0dXJuIHRoaXMuX2dldFN0YXJ0QmVhbXModGhpcyxlLHIsbixhKX1hc3luYyBydW5CZWFtKGUpe3JldHVybiBhd2FpdCB0aGlzLl9ydW5CZWFtKHRoaXMsZSl9dXBkYXRlQmVhbShlLHIpe3JldHVybiB0aGlzLl91cGRhdGVCZWFtKGUscil9fWNsYXNzIGt0e31jbGFzcyBPbiBleHRlbmRzIFp7fWNsYXNzIFF3IGV4dGVuZHMgT257fWNsYXNzIFp3IGV4dGVuZHMgT257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBwdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEp3IGV4dGVuZHMgT257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIGV2IGV4dGVuZHMgT257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBjdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIHR2IGV4dGVuZHMgT257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBmdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIHJ2IGV4dGVuZHMgWnt9Y2xhc3MgbnYgZXh0ZW5kcyBydnt9Y2xhc3MgTW4gZXh0ZW5kcyBae31jbGFzcyBhdiBleHRlbmRzIE1ue31jbGFzcyBpdiBleHRlbmRzIE1ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgcHQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBzdiBleHRlbmRzIE1ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBvdiBleHRlbmRzIE1ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgY3QoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBsdiBleHRlbmRzIE1ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgZnQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyB6biBleHRlbmRzIFp7fWNsYXNzIHV2IGV4dGVuZHMgem57fWNsYXNzIGR2IGV4dGVuZHMgem57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBwdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIGN2IGV4dGVuZHMgem57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIHB2IGV4dGVuZHMgem57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBjdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIGh2IGV4dGVuZHMgem57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBmdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEJuIGV4dGVuZHMgWnt9Y2xhc3MgZnYgZXh0ZW5kcyBCbnt9Y2xhc3MgbXYgZXh0ZW5kcyBCbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IHB0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgZ3YgZXh0ZW5kcyBCbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgX3YgZXh0ZW5kcyBCbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGN0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgeXYgZXh0ZW5kcyBCbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGZ0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgUm4gZXh0ZW5kcyBae31jbGFzcyB3diBleHRlbmRzIFJue31jbGFzcyB2diBleHRlbmRzIFJue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgcHQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBidiBleHRlbmRzIFJue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyAkdiBleHRlbmRzIFJue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgY3QoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyB4diBleHRlbmRzIFJue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgZnQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBQbiBleHRlbmRzIFp7fWNsYXNzIGt2IGV4dGVuZHMgUG57fWNsYXNzIFN2IGV4dGVuZHMgUG57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBwdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEV2IGV4dGVuZHMgUG57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEN2IGV4dGVuZHMgUG57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBjdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEl2IGV4dGVuZHMgUG57YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBmdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIERuIGV4dGVuZHMgWnt9Y2xhc3MgQXYgZXh0ZW5kcyBEbnt9Y2xhc3MgVHYgZXh0ZW5kcyBEbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IHB0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgT3YgZXh0ZW5kcyBEbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgTXYgZXh0ZW5kcyBEbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGN0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgenYgZXh0ZW5kcyBEbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGZ0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgTm4gZXh0ZW5kcyBae31jbGFzcyBCdiBleHRlbmRzIE5ue31jbGFzcyBSdiBleHRlbmRzIE5ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBQdiBleHRlbmRzIE5ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgY3QoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBEdiBleHRlbmRzIE5ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgZnQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBOdiBleHRlbmRzIE5ue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgcHQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBqYSBleHRlbmRzIFp7fWNsYXNzIFV2IGV4dGVuZHMgamF7fWNsYXNzIFd2IGV4dGVuZHMgamF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBwdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEx2IGV4dGVuZHMgamF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEZ2IGV4dGVuZHMgamF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBjdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEthIGV4dGVuZHMgWnt9Y2xhc3MgVnYgZXh0ZW5kcyBLYXt9Y2xhc3MgSHYgZXh0ZW5kcyBLYXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IHB0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgR3YgZXh0ZW5kcyBLYXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgcXYgZXh0ZW5kcyBLYXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGZ0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgVW4gZXh0ZW5kcyBae31jbGFzcyBqdiBleHRlbmRzIFVue31jbGFzcyBLdiBleHRlbmRzIFVue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgcHQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBZdiBleHRlbmRzIFVue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBYdiBleHRlbmRzIFVue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgY3QoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBRdiBleHRlbmRzIFVue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgZnQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBZYSBleHRlbmRzIFp7fWNsYXNzIFp2IGV4dGVuZHMgWWF7fWNsYXNzIEp2IGV4dGVuZHMgWWF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBwdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIGViIGV4dGVuZHMgWWF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIHRiIGV4dGVuZHMgWWF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBmdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIFhhIGV4dGVuZHMgWnt9Y2xhc3MgcmIgZXh0ZW5kcyBYYXt9Y2xhc3MgbmIgZXh0ZW5kcyBYYXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgYWIgZXh0ZW5kcyBYYXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGZ0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgaWIgZXh0ZW5kcyBYYXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IHB0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgZ2YgZXh0ZW5kcyBae31jbGFzcyBzYiBleHRlbmRzIGdme31jbGFzcyBvYiBleHRlbmRzIGdme2NvbnN0cnVjdG9yKGUscixuLGEpe3N1cGVyKGUsciksdGhpcy5kZWNvZGVyX21lcmdlZF9zZXNzaW9uPW4sdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1hLHRoaXMubnVtX2RlY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLm51bV9oZWFkcyx0aGlzLmRlY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfa3YsdGhpcy5udW1fZW5jb2Rlcl9sYXllcnM9dGhpcy5jb25maWcubnVtX2xheWVycyx0aGlzLm51bV9lbmNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLm51bV9oZWFkcyx0aGlzLmVuY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfa3Z9fWNsYXNzIF9mIGV4dGVuZHMgWnt9Y2xhc3MgbGIgZXh0ZW5kcyBfZnt9Y2xhc3MgdWIgZXh0ZW5kcyBfZntjb25zdHJ1Y3RvcihlLHIsbixhKXtzdXBlcihlLHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1uLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9YSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5udW1fZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5udW1faGVhZHMsdGhpcy5kZWNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX2t2LHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9sYXllcnMsdGhpcy5udW1fZW5jb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5udW1faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX2t2fX1jbGFzcyB5ZiBleHRlbmRzIFp7fWNsYXNzIGRiIGV4dGVuZHMgeWZ7fWNsYXNzIGNiIGV4dGVuZHMgeWZ7Y29uc3RydWN0b3IoZSxyLG4sYSl7c3VwZXIoZSxyKSx0aGlzLmRlY29kZXJfbWVyZ2VkX3Nlc3Npb249bix0aGlzLmdlbmVyYXRpb25fY29uZmlnPWEsdGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcubnVtX2RlY29kZXJfbGF5ZXJzLHRoaXMubnVtX2RlY29kZXJfaGVhZHM9dGhpcy5jb25maWcubnVtX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9rdix0aGlzLm51bV9lbmNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5udW1fbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcubnVtX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9rdn19Y2xhc3MgS3MgZXh0ZW5kcyBae31jbGFzcyBwYiBleHRlbmRzIEtze31jbGFzcyBoYiBleHRlbmRzIEtze2NvbnN0cnVjdG9yKGUscixuLGEpe3N1cGVyKGUsciksdGhpcy5kZWNvZGVyX21lcmdlZF9zZXNzaW9uPW4sdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1hLHRoaXMubnVtX2RlY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmRlY29kZXJfbGF5ZXJzLHRoaXMubnVtX2RlY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZGVjb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5kZWNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2RlY29kZXJfaGVhZHMsdGhpcy5udW1fZW5jb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZW5jb2Rlcl9sYXllcnMsdGhpcy5udW1fZW5jb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5lbmNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmVuY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1fZW5jb2Rlcl9oZWFkc319Y2xhc3MgZmIgZXh0ZW5kcyBLc3thc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgUWEgZXh0ZW5kcyBae31jbGFzcyBtYiBleHRlbmRzIFFhe31jbGFzcyBnYiBleHRlbmRzIFFhe2NvbnN0cnVjdG9yKGUscixuLGEpe3N1cGVyKGUsciksdGhpcy5kZWNvZGVyX21lcmdlZF9zZXNzaW9uPW4sdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1hLHRoaXMubnVtX2RlY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmRlY29kZXJfbGF5ZXJzLHRoaXMubnVtX2RlY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZGVjb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5kZWNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2RlY29kZXJfaGVhZHMsdGhpcy5udW1fZW5jb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZW5jb2Rlcl9sYXllcnMsdGhpcy5udW1fZW5jb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5lbmNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmVuY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1fZW5jb2Rlcl9oZWFkc319Y2xhc3MgX2IgZXh0ZW5kcyBRYXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgeWIgZXh0ZW5kcyBRYXtjb25zdHJ1Y3RvcihlLHIsbil7c3VwZXIoZSxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW4sdGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5kZWNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmRlY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1fZGVjb2Rlcl9oZWFkcyx0aGlzLm51bV9lbmNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5lbmNvZGVyX2xheWVycyx0aGlzLm51bV9lbmNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmVuY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9lbmNvZGVyX2hlYWRzfX1jbGFzcyB3ZiBleHRlbmRzIFp7fWNsYXNzIHdiIGV4dGVuZHMgd2Z7fWNsYXNzIHZiIGV4dGVuZHMgd2Z7Y29uc3RydWN0b3IoZSxyLG4sYSl7c3VwZXIoZSxyKSx0aGlzLmRlY29kZXJfbWVyZ2VkX3Nlc3Npb249bix0aGlzLmdlbmVyYXRpb25fY29uZmlnPWEsdGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5kZWNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmRlY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1fZGVjb2Rlcl9oZWFkcyx0aGlzLm51bV9lbmNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5lbmNvZGVyX2xheWVycyx0aGlzLm51bV9lbmNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmVuY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9lbmNvZGVyX2hlYWRzfX1jbGFzcyB2ZiBleHRlbmRzIFp7fWNsYXNzIGJiIGV4dGVuZHMgdmZ7fWNsYXNzICRiIGV4dGVuZHMgdmZ7Y29uc3RydWN0b3IoZSxyLG4sYSl7c3VwZXIoZSxyKSx0aGlzLmRlY29kZXJfbWVyZ2VkX3Nlc3Npb249bix0aGlzLmdlbmVyYXRpb25fY29uZmlnPWEsdGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5kZWNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmRlY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1fZGVjb2Rlcl9oZWFkcyx0aGlzLm51bV9lbmNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5lbmNvZGVyX2xheWVycyx0aGlzLm51bV9lbmNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmVuY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9lbmNvZGVyX2hlYWRzfX1jbGFzcyBXbiBleHRlbmRzIFp7fWNsYXNzIHhiIGV4dGVuZHMgV257fWNsYXNzIGtiIGV4dGVuZHMgV257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBwdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIFNiIGV4dGVuZHMgV257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEViIGV4dGVuZHMgV257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBjdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIENiIGV4dGVuZHMgV257YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBmdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIExuIGV4dGVuZHMgWnt9Y2xhc3MgSWIgZXh0ZW5kcyBMbnt9Y2xhc3MgQWIgZXh0ZW5kcyBMbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IHB0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgVGIgZXh0ZW5kcyBMbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgT2IgZXh0ZW5kcyBMbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGN0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgTWIgZXh0ZW5kcyBMbnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGZ0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgRm4gZXh0ZW5kcyBae31jbGFzcyB6YiBleHRlbmRzIEZue31jbGFzcyBCYiBleHRlbmRzIEZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgcHQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBSYiBleHRlbmRzIEZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBQYiBleHRlbmRzIEZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgY3QoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBEYiBleHRlbmRzIEZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgZnQoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBiZiBleHRlbmRzIFp7fWNsYXNzIE5iIGV4dGVuZHMgYmZ7fWNsYXNzIFViIGV4dGVuZHMgYmZ7fWNsYXNzICRmIGV4dGVuZHMgWnt9Y2xhc3MgV2IgZXh0ZW5kcyAkZnt9Y2xhc3MgTGIgZXh0ZW5kcyAkZntyZXF1aXJlc19hdHRlbnRpb25fbWFzaz0hMTttYWluX2lucHV0X25hbWU9ImlucHV0X2ZlYXR1cmVzIjtjb25zdHJ1Y3RvcihlLHIsbixhKXtzdXBlcihlLHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1uLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9YSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9kZWNvZGVyX2hlYWRzLHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmVuY29kZXJfbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZW5jb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2VuY29kZXJfaGVhZHN9YXN5bmMgZ2VuZXJhdGUoZSxyPW51bGwsbj1udWxsKXtpZihyPXRoaXMuX2dldF9nZW5lcmF0aW9uX2NvbmZpZyhyKSxyLnJldHVybl90aW1lc3RhbXBzPz89ITEsci5yZXR1cm5fdGltZXN0YW1wcyYmKG49W25ldyBPdyhyKV0pLHIucmV0dXJuX3Rva2VuX3RpbWVzdGFtcHMmJihyLm91dHB1dF9hdHRlbnRpb25zPSEwLHIucmV0dXJuX2RpY3RfaW5fZ2VuZXJhdGU9ITAsci50YXNrPT09InRyYW5zbGF0ZSImJmNvbnNvbGUud2FybigiVG9rZW4tbGV2ZWwgdGltZXN0YW1wcyBtYXkgbm90IGJlIHJlbGlhYmxlIGZvciB0YXNrICd0cmFuc2xhdGUnLiIpLCFyLmFsaWdubWVudF9oZWFkcykpdGhyb3cgbmV3IEVycm9yKCJNb2RlbCBnZW5lcmF0aW9uIGNvbmZpZyBoYXMgbm8gYGFsaWdubWVudF9oZWFkc2AsIHRva2VuLWxldmVsIHRpbWVzdGFtcHMgbm90IGF2YWlsYWJsZS4gU2VlIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2hvbGxhbmNlLzQyZTMyODUyZjI0MjQzYjc0OGFlNmJjMWY5ODViMTNhIG9uIGhvdyB0byBhZGQgdGhpcyBwcm9wZXJ0eSB0byB0aGUgZ2VuZXJhdGlvbiBjb25maWcuIik7Y29uc3QgYT1hd2FpdCBzdXBlci5nZW5lcmF0ZShlLHIsbik7cmV0dXJuIHIucmV0dXJuX3Rva2VuX3RpbWVzdGFtcHMmJnIuYWxpZ25tZW50X2hlYWRzJiYoYS50b2tlbl90aW1lc3RhbXBzPXRoaXMuX2V4dHJhY3RfdG9rZW5fdGltZXN0YW1wcyhhLHIuYWxpZ25tZW50X2hlYWRzLHIubnVtX2ZyYW1lcykpLGF9X2V4dHJhY3RfdG9rZW5fdGltZXN0YW1wcyhlLHIsbj1udWxsLGE9LjAyKXtpZighZS5jcm9zc19hdHRlbnRpb25zKXRocm93IG5ldyBFcnJvcigiTW9kZWwgb3V0cHV0cyBtdXN0IGNvbnRhaW4gY3Jvc3MgYXR0ZW50aW9ucyB0byBleHRyYWN0IHRpbWVzdGFtcHMuIFRoaXMgaXMgbW9zdCBsaWtlbHkgYmVjYXVzZSB0aGUgbW9kZWwgd2FzIG5vdCBleHBvcnRlZCB3aXRoIGBvdXRwdXRfYXR0ZW50aW9ucz1UcnVlYC4iKTtsZXQgaT10aGlzLmNvbmZpZy5tZWRpYW5fZmlsdGVyX3dpZHRoO2k9PT12b2lkIDAmJihjb25zb2xlLndhcm4oIk1vZGVsIGNvbmZpZyBoYXMgbm8gYG1lZGlhbl9maWx0ZXJfd2lkdGhgLCB1c2luZyBkZWZhdWx0IHZhbHVlIG9mIDcuIiksaT03KTtjb25zdCBzPWUuY3Jvc3NfYXR0ZW50aW9ucy5tYXAoZD0+e2xldCBjPUFycmF5LmZyb20oe2xlbmd0aDp0aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVyc30sKHksdyk9PlBhKGQubWFwKHY9PnZbd10pLDIpKSx1PURhKHIubWFwKChbeSx3XSk9Pm4/Y1t5XS5zbGljZShudWxsLHcsbnVsbCxbMCxuXSk6Y1t5XS5zbGljZShudWxsLHcpKSk7dT11LnRyYW5zcG9zZSgxLDAsMiwzKTtsZXRbaCxmXT1oMCh1LC0yLDAsITApLGc9dS5jbG9uZSgpO2ZvcihsZXQgeT0wO3k8Zy5kaW1zWzBdOysreSl7bGV0IHc9Z1t5XTtmb3IobGV0IHY9MDt2PHcuZGltc1swXTsrK3Ype2xldCBrPXdbdl07Y29uc3QgRT1oW3ldW3ZdWzBdLHg9Zlt5XVt2XVswXTtmb3IobGV0IEk9MDtJPGsuZGltc1swXTsrK0kpe2xldCBUPWtbSV07Zm9yKGxldCBCPTA7QjxULmRhdGEubGVuZ3RoOysrQilULmRhdGFbQl09KFQuZGF0YVtCXS14LmRhdGFbQl0pL0UuZGF0YVtCXTtULmRhdGEuc2V0KE9nKFQuZGF0YSxpKSl9fX1yZXR1cm4gTGgoZywxKX0pLG89W2Uuc2VxdWVuY2VzLmxlbmd0aCxlLnNlcXVlbmNlc1swXS5sZW5ndGhdLGw9bmV3IHJlKCJmbG9hdDMyIixuZXcgRmxvYXQzMkFycmF5KG9bMF0qb1sxXSksbyk7Zm9yKGxldCBkPTA7ZDxvWzBdOysrZCl7Y29uc3QgYz1zW2RdLm5lZygpLnNxdWVlemVfKDApO2xldFt1LGhdPWYwKGMpLGY9QXJyYXkuZnJvbSh7bGVuZ3RoOnUubGVuZ3RoLTF9LCh3LHYpPT51W3YrMV0tdVt2XSksZz1sdChbMV0sZikubWFwKHc9PiEhdykseT1bXTtmb3IobGV0IHc9MDt3PGcubGVuZ3RoOysrdylnW3ddJiZ5LnB1c2goaFt3XSphKTtsW2RdLmRhdGEuc2V0KHksMSl9cmV0dXJuIGx9fWNsYXNzIHhmIGV4dGVuZHMgWnttYWluX2lucHV0X25hbWU9InBpeGVsX3ZhbHVlcyI7Y29uc3RydWN0b3IoZSxyLG4sYSl7c3VwZXIoZSxyKSx0aGlzLmRlY29kZXJfbWVyZ2VkX3Nlc3Npb249bix0aGlzLmdlbmVyYXRpb25fY29uZmlnPWE7Y29uc3QgaT10aGlzLmNvbmZpZy5lbmNvZGVyLHM9dGhpcy5jb25maWcuZGVjb2RlcixvPWkubW9kZWxfdHlwZTsoZG0uZ2V0KG8pPz9jbS5nZXQobykpfHxjb25zb2xlLndhcm4oYE1vZGVsIHR5cGUgZm9yIGVuY29kZXIgJyR7b30nIG5vdCBmb3VuZCwgYXNzdW1pbmcgZW5jb2Rlci1vbmx5IGFyY2hpdGVjdHVyZS4gUGxlYXNlIHJlcG9ydCB0aGlzIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS94ZW5vdmEvdHJhbnNmb3JtZXJzLmpzL2lzc3Vlcy9uZXcvY2hvb3NlLmApO2NvbnN0IGw9ZWkuZ2V0KHMubW9kZWxfdHlwZSk7aWYoIWwpdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY29uc3RydWN0IFxgVmlzaW9uRW5jb2RlckRlY29kZXJcYCBkdWUgdG8gdW5zdXBwb3J0ZWQgZGVjb2RlcjogIiR7dGhpcy5jb25maWcuZGVjb2Rlci5tb2RlbF90eXBlfSJgKTtjb25zdCBkPWxbMV0sYz1uZXcgZChzLG4sYSk7dGhpcy5hZGRfZW5jb2Rlcl9wa3Y9Im51bV9kZWNvZGVyX2xheWVycyJpbiBjLHRoaXMuYWRkX2VuY29kZXJfcGt2Pyh0aGlzLm51bV9kZWNvZGVyX2xheWVycz1jLm51bV9kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPWMubnVtX2RlY29kZXJfaGVhZHMsdGhpcy5kZWNvZGVyX2RpbV9rdj1jLmRlY29kZXJfZGltX2t2LHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPWMubnVtX2VuY29kZXJfbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9Yy5udW1fZW5jb2Rlcl9oZWFkcyx0aGlzLmVuY29kZXJfZGltX2t2PWMuZW5jb2Rlcl9kaW1fa3YpOih0aGlzLm51bV9sYXllcnM9Yy5udW1fbGF5ZXJzLHRoaXMubnVtX2hlYWRzPWMubnVtX2hlYWRzLHRoaXMuZGltX2t2PWMuZGltX2t2KX19Y2xhc3MgWmEgZXh0ZW5kcyBae31jbGFzcyBGYiBleHRlbmRzIFphe31jbGFzcyBWYiBleHRlbmRzIFphe3N0YXRpYyBhc3luYyBmcm9tX3ByZXRyYWluZWQoZSxyPXt9KXtyZXR1cm4gci5tb2RlbF9maWxlX25hbWU/Pz0idGV4dF9tb2RlbCIsc3VwZXIuZnJvbV9wcmV0cmFpbmVkKGUscil9fWNsYXNzIEhiIGV4dGVuZHMgWmF7c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZChlLHI9e30pe3JldHVybiByLm1vZGVsX2ZpbGVfbmFtZT8/PSJ2aXNpb25fbW9kZWwiLHN1cGVyLmZyb21fcHJldHJhaW5lZChlLHIpfX1jbGFzcyBrZiBleHRlbmRzIFp7fWNsYXNzIEdiIGV4dGVuZHMga2Z7fWNsYXNzIHFiIGV4dGVuZHMga2Z7c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZChlLHI9e30pe3JldHVybiByLm1vZGVsX2ZpbGVfbmFtZT8/PSJ0ZXh0X21vZGVsIixzdXBlci5mcm9tX3ByZXRyYWluZWQoZSxyKX19Y2xhc3MgamIgZXh0ZW5kcyBaYXtzdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKGUscj17fSl7cmV0dXJuIHIubW9kZWxfZmlsZV9uYW1lPz89InZpc2lvbl9tb2RlbCIsc3VwZXIuZnJvbV9wcmV0cmFpbmVkKGUscil9fWNsYXNzIEtiIGV4dGVuZHMgWnt9Y2xhc3MgWWIgZXh0ZW5kcyBLYnt9Y2xhc3MgU2YgZXh0ZW5kcyBae31jbGFzcyBYYiBleHRlbmRzIFNme31jbGFzcyBRYiBleHRlbmRzIFNme31jbGFzcyBFZiBleHRlbmRzIFp7Y29uc3RydWN0b3IoZSxyLG4pe3N1cGVyKGUsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1uLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1faGVhZHM9dGhpcy5jb25maWcubl9oZWFkLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5uX2xheWVyLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLm5fZW1iZC90aGlzLm51bV9oZWFkc319Y2xhc3MgWmIgZXh0ZW5kcyBFZnt9Y2xhc3MgSmIgZXh0ZW5kcyBFZnt9Y2xhc3MgQ2YgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm51bV9oZWFkcyx0aGlzLm51bV9sYXllcnM9dGhpcy5jb25maWcubnVtX2xheWVycyx0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5oaWRkZW5fc2l6ZS90aGlzLm51bV9oZWFkc319Y2xhc3MgZTIgZXh0ZW5kcyBDZnt9Y2xhc3MgdDIgZXh0ZW5kcyBDZnt9Y2xhc3MgSWYgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9oaWRkZW5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMubnVtX2hlYWRzfX1jbGFzcyByMiBleHRlbmRzIElme31jbGFzcyBuMiBleHRlbmRzIElme31jbGFzcyBBZiBleHRlbmRzIFp7Y29uc3RydWN0b3IoZSxyLG4pe3N1cGVyKGUsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1uLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1faGVhZHM9dGhpcy5jb25maWcubl9oZWFkLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5uX2xheWVyLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLm5fZW1iZC90aGlzLm51bV9oZWFkc319Y2xhc3MgYTIgZXh0ZW5kcyBBZnt9Y2xhc3MgaTIgZXh0ZW5kcyBBZnt9Y2xhc3MgVGYgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm5faGVhZCx0aGlzLm51bV9sYXllcnM9dGhpcy5jb25maWcubl9sYXllcix0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5uX2VtYmQvdGhpcy5udW1faGVhZHN9fWNsYXNzIHMyIGV4dGVuZHMgVGZ7fWNsYXNzIG8yIGV4dGVuZHMgVGZ7fWNsYXNzIE9mIGV4dGVuZHMgWntjb25zdHJ1Y3RvcihlLHIsbil7c3VwZXIoZSxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW4sdGhpcy5jb25maWcucGFkX3Rva2VuX2lkPXRoaXMuY29uZmlnLmVvc190b2tlbl9pZCx0aGlzLm51bV9oZWFkcz10aGlzLmNvbmZpZy5uX2hlYWQsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm5fbGF5ZXIsdGhpcy5kaW1fa3Y9dGhpcy5jb25maWcubl9lbWJkL3RoaXMubnVtX2hlYWRzfX1jbGFzcyBsMiBleHRlbmRzIE9me31jbGFzcyB1MiBleHRlbmRzIE9me31jbGFzcyBNZiBleHRlbmRzIFp7Y29uc3RydWN0b3IoZSxyLG4pe3N1cGVyKGUsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1uLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1faGVhZHM9dGhpcy5jb25maWcubnVtX2tleV92YWx1ZV9oZWFkcz8/dGhpcy5jb25maWcubnVtX2F0dGVudGlvbl9oZWFkcyx0aGlzLm51bV9sYXllcnM9dGhpcy5jb25maWcubnVtX2hpZGRlbl9sYXllcnMsdGhpcy5kaW1fa3Y9dGhpcy5jb25maWcuaGlkZGVuX3NpemUvdGhpcy5jb25maWcubnVtX2F0dGVudGlvbl9oZWFkc319Y2xhc3MgZDIgZXh0ZW5kcyBNZnt9Y2xhc3MgYzIgZXh0ZW5kcyBNZnt9Y2xhc3MgemYgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm51bV9rZXlfdmFsdWVfaGVhZHM/P3RoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9oaWRkZW5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHN9fWNsYXNzIHAyIGV4dGVuZHMgemZ7fWNsYXNzIGgyIGV4dGVuZHMgemZ7fWNsYXNzIEJmIGV4dGVuZHMgWntjb25zdHJ1Y3RvcihlLHIsbil7c3VwZXIoZSxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW4sdGhpcy5jb25maWcucGFkX3Rva2VuX2lkPXRoaXMuY29uZmlnLmVvc190b2tlbl9pZCx0aGlzLm51bV9oZWFkcz10aGlzLmNvbmZpZy5udW1fYXR0ZW50aW9uX2hlYWRzLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5udW1faGlkZGVuX2xheWVycyx0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5oaWRkZW5fc2l6ZS90aGlzLm51bV9oZWFkc319Y2xhc3MgZjIgZXh0ZW5kcyBCZnt9Y2xhc3MgbTIgZXh0ZW5kcyBCZnt9Y2xhc3MgUmYgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm5faGVhZCx0aGlzLm51bV9sYXllcnM9dGhpcy5jb25maWcubl9sYXllcix0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5oaWRkZW5fc2l6ZS90aGlzLm51bV9oZWFkc319Y2xhc3MgZzIgZXh0ZW5kcyBSZnt9Y2xhc3MgXzIgZXh0ZW5kcyBSZnt9Y2xhc3MgUGYgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm5faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmRfbW9kZWwvdGhpcy5udW1faGVhZHN9fWNsYXNzIHkyIGV4dGVuZHMgUGZ7fWNsYXNzIHcyIGV4dGVuZHMgUGZ7fWNsYXNzIERmIGV4dGVuZHMgWntjb25zdHJ1Y3RvcihlLHIsbil7c3VwZXIoZSxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW4sdGhpcy5jb25maWcucGFkX3Rva2VuX2lkPXRoaXMuY29uZmlnLmVvc190b2tlbl9pZCx0aGlzLm51bV9oZWFkcz10aGlzLmNvbmZpZy5udW1fYXR0ZW50aW9uX2hlYWRzLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5udW1faGlkZGVuX2xheWVycyx0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5oaWRkZW5fc2l6ZS90aGlzLm51bV9oZWFkc319Y2xhc3MgdjIgZXh0ZW5kcyBEZnt9Y2xhc3MgYjIgZXh0ZW5kcyBEZnt9Y2xhc3MgTmYgZXh0ZW5kcyBae31jbGFzcyAkMiBleHRlbmRzIE5me31jbGFzcyB4MiBleHRlbmRzIE5me2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBrMiBleHRlbmRzIFp7fWNsYXNzIFMyIGV4dGVuZHMgazJ7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBQMShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIFVmIGV4dGVuZHMgWnt9Y2xhc3MgRTIgZXh0ZW5kcyBVZnt9Y2xhc3MgQzIgZXh0ZW5kcyBVZnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgV2YgZXh0ZW5kcyBae31jbGFzcyBJMiBleHRlbmRzIFdme31jbGFzcyBBMiBleHRlbmRzIFdme31jbGFzcyBMZiBleHRlbmRzIFp7fWNsYXNzIFQyIGV4dGVuZHMgTGZ7fWNsYXNzIE8yIGV4dGVuZHMgTGZ7fWNsYXNzIEZmIGV4dGVuZHMgWnt9Y2xhc3MgTTIgZXh0ZW5kcyBGZnt9Y2xhc3MgejIgZXh0ZW5kcyBGZnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgWXMgZXh0ZW5kcyBae31jbGFzcyBCMiBleHRlbmRzIFlze31jbGFzcyBSMiBleHRlbmRzIFlze2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgVmYoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBQMiBleHRlbmRzIFlze2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgRDIoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBWZiBleHRlbmRzIGt0e2NvbnN0cnVjdG9yKHtsb2dpdHM6ZSxwcmVkX2JveGVzOnJ9KXtzdXBlcigpLHRoaXMubG9naXRzPWUsdGhpcy5wcmVkX2JveGVzPXJ9fWNsYXNzIEQyIGV4dGVuZHMga3R7Y29uc3RydWN0b3Ioe2xvZ2l0czplLHByZWRfYm94ZXM6cixwcmVkX21hc2tzOm59KXtzdXBlcigpLHRoaXMubG9naXRzPWUsdGhpcy5wcmVkX2JveGVzPXIsdGhpcy5wcmVkX21hc2tzPW59fWNsYXNzIEhmIGV4dGVuZHMgWnt9Y2xhc3MgTjIgZXh0ZW5kcyBIZnt9Y2xhc3MgVTIgZXh0ZW5kcyBIZnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IFcyKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgVzIgZXh0ZW5kcyBWZnt9Y2xhc3MgR2YgZXh0ZW5kcyBae31jbGFzcyBMMiBleHRlbmRzIEdme31jbGFzcyBGMiBleHRlbmRzIEdme2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBxZiBleHRlbmRzIFp7fWNsYXNzIFYyIGV4dGVuZHMgcWZ7fWNsYXNzIEgyIGV4dGVuZHMgcWZ7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIGpmIGV4dGVuZHMgWnt9Y2xhc3MgRzIgZXh0ZW5kcyBqZnt9Y2xhc3MgcTIgZXh0ZW5kcyBqZnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgS2YgZXh0ZW5kcyBae31jbGFzcyBqMiBleHRlbmRzIEtme31jbGFzcyBLMiBleHRlbmRzIEtme31jbGFzcyBZZiBleHRlbmRzIFp7fWNsYXNzIFkyIGV4dGVuZHMgWWZ7fWNsYXNzIFgyIGV4dGVuZHMgWWZ7fWNsYXNzIFEyIGV4dGVuZHMgWnt9Y2xhc3MgWjIgZXh0ZW5kcyBRMnt9Y2xhc3MgWGYgZXh0ZW5kcyBae31jbGFzcyBKMiBleHRlbmRzIFhme31jbGFzcyBlJCBleHRlbmRzIFhme31jbGFzcyB0JCBleHRlbmRzIFp7fWNsYXNzIHIkIGV4dGVuZHMgdCR7fWNsYXNzIFFmIGV4dGVuZHMgWnt9Y2xhc3MgbiQgZXh0ZW5kcyBRZnt9Y2xhc3MgYSQgZXh0ZW5kcyBRZnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgWmYgZXh0ZW5kcyBae31jbGFzcyBpJCBleHRlbmRzIFpme31jbGFzcyBzJCBleHRlbmRzIFpme2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBKZiBleHRlbmRzIFp7fWNsYXNzIG8kIGV4dGVuZHMgSmZ7fWNsYXNzIGwkIGV4dGVuZHMgSmZ7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIGVtIGV4dGVuZHMgWnt9Y2xhc3MgdSQgZXh0ZW5kcyBlbXt9Y2xhc3MgZCQgZXh0ZW5kcyBlbXthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGMkKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgYyQgZXh0ZW5kcyBrdHtjb25zdHJ1Y3Rvcih7bG9naXRzOmUscHJlZF9ib3hlczpyfSl7c3VwZXIoKSx0aGlzLmxvZ2l0cz1lLHRoaXMucHJlZF9ib3hlcz1yfX1jbGFzcyBwJCBleHRlbmRzIFp7fWNsYXNzIGgkIGV4dGVuZHMgcCR7Y29uc3RydWN0b3IoZSxyLG4pe3N1cGVyKGUsciksdGhpcy5wcm9tcHRfZW5jb2Rlcl9tYXNrX2RlY29kZXI9bn1hc3luYyBnZXRfaW1hZ2VfZW1iZWRkaW5ncyh7cGl4ZWxfdmFsdWVzOmV9KXtyZXR1cm4gYXdhaXQgVG4odGhpcyx7cGl4ZWxfdmFsdWVzOmV9KX1hc3luYyBmb3J3YXJkKGUpe2lmKCghZS5pbWFnZV9lbWJlZGRpbmdzfHwhZS5pbWFnZV9wb3NpdGlvbmFsX2VtYmVkZGluZ3MpJiYoZT17Li4uZSwuLi5hd2FpdCB0aGlzLmdldF9pbWFnZV9lbWJlZGRpbmdzKGUpfSksIWUuaW5wdXRfbGFiZWxzKXtjb25zdCByPWUuaW5wdXRfcG9pbnRzLmRpbXMuc2xpY2UoMCwtMSksbj1yLnJlZHVjZSgoYSxpKT0+YSppLDEpO2UuaW5wdXRfbGFiZWxzPW5ldyByZSgiaW50NjQiLG5ldyBCaWdJbnQ2NEFycmF5KG4pLmZpbGwoMW4pLHIpfXJldHVybiBhd2FpdCBLcih0aGlzLnByb21wdF9lbmNvZGVyX21hc2tfZGVjb2Rlcix7aW5wdXRfcG9pbnRzOmUuaW5wdXRfcG9pbnRzLGlucHV0X2xhYmVsczplLmlucHV0X2xhYmVscyxpbWFnZV9lbWJlZGRpbmdzOmUuaW1hZ2VfZW1iZWRkaW5ncyxpbWFnZV9wb3NpdGlvbmFsX2VtYmVkZGluZ3M6ZS5pbWFnZV9wb3NpdGlvbmFsX2VtYmVkZGluZ3N9KX1hc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGYkKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgZiQgZXh0ZW5kcyBrdHtjb25zdHJ1Y3Rvcih7aW91X3Njb3JlczplLHByZWRfbWFza3M6cn0pe3N1cGVyKCksdGhpcy5pb3Vfc2NvcmVzPWUsdGhpcy5wcmVkX21hc2tzPXJ9fWNsYXNzIHRtIGV4dGVuZHMgWnt9Y2xhc3MgbSQgZXh0ZW5kcyB0bXt9Y2xhc3MgZyQgZXh0ZW5kcyB0bXtjb25zdHJ1Y3RvcihlLHIsbixhKXtzdXBlcihlLHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1uLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9YSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9kZWNvZGVyX2hlYWRzLHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmVuY29kZXJfbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZW5jb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2VuY29kZXJfaGVhZHN9fWNsYXNzIHJtIGV4dGVuZHMgWnt9Y2xhc3MgXyQgZXh0ZW5kcyBybXt9Y2xhc3MgeSQgZXh0ZW5kcyBybXtjb25zdHJ1Y3RvcihlLHIsbixhKXtzdXBlcihlLHIpLHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbj1uLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9YSx0aGlzLm51bV9kZWNvZGVyX2xheWVycz10aGlzLmNvbmZpZy5kZWNvZGVyX2xheWVycyx0aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZGVjb2Rlcl9kaW1fa3Y9dGhpcy5jb25maWcuZF9tb2RlbC90aGlzLm51bV9kZWNvZGVyX2hlYWRzLHRoaXMubnVtX2VuY29kZXJfbGF5ZXJzPXRoaXMuY29uZmlnLmVuY29kZXJfbGF5ZXJzLHRoaXMubnVtX2VuY29kZXJfaGVhZHM9dGhpcy5jb25maWcuZW5jb2Rlcl9hdHRlbnRpb25faGVhZHMsdGhpcy5lbmNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2VuY29kZXJfaGVhZHN9fWNsYXNzIEVyIGV4dGVuZHMgWnt9Y2xhc3MgdyQgZXh0ZW5kcyBFcnt9Y2xhc3MgdiQgZXh0ZW5kcyBFcnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IFlyKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgYiQgZXh0ZW5kcyBFcnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgJCQgZXh0ZW5kcyBFcnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IGN0KGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgWHMgZXh0ZW5kcyBae31jbGFzcyB4JCBleHRlbmRzIFhze31jbGFzcyBrJCBleHRlbmRzIFhze2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgWXIoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBTJCBleHRlbmRzIFhze2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBKYSBleHRlbmRzIFp7fWNsYXNzIEUkIGV4dGVuZHMgSmF7fWNsYXNzIEMkIGV4dGVuZHMgSmF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBZcihhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEkkIGV4dGVuZHMgSmF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIEEkIGV4dGVuZHMgSmF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBjdChhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIFFzIGV4dGVuZHMgWnt9Y2xhc3MgVCQgZXh0ZW5kcyBRc3t9Y2xhc3MgTyQgZXh0ZW5kcyBRc3thc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IFlyKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgTSQgZXh0ZW5kcyBRc3thc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgeiQgZXh0ZW5kcyBFcnt9Y2xhc3MgQiQgZXh0ZW5kcyBFcnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IFlyKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgUiQgZXh0ZW5kcyBFcnthc3luYyBfY2FsbChlKXtyZXR1cm4gbmV3IE9lKGF3YWl0IHN1cGVyLl9jYWxsKGUpKX19Y2xhc3MgVm4gZXh0ZW5kcyBae31jbGFzcyBQJCBleHRlbmRzIFZue31jbGFzcyBEJCBleHRlbmRzIFZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgWXIoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBOJCBleHRlbmRzIFZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgT2UoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBVJCBleHRlbmRzIFZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgUjEoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBXJCBleHRlbmRzIFZue2FzeW5jIF9jYWxsKGUpe3JldHVybiBuZXcgY3QoYXdhaXQgc3VwZXIuX2NhbGwoZSkpfX1jbGFzcyBubSBleHRlbmRzIFp7fWNsYXNzIEwkIGV4dGVuZHMgbm17fWNsYXNzIEYkIGV4dGVuZHMgbm17Y29uc3RydWN0b3IoZSxyLG4sYSl7c3VwZXIoZSxyKSx0aGlzLmRlY29kZXJfbWVyZ2VkX3Nlc3Npb249bix0aGlzLmdlbmVyYXRpb25fY29uZmlnPWEsdGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZGVjb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5kZWNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmRlY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMubnVtX2RlY29kZXJfaGVhZHMsdGhpcy5udW1fZW5jb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZW5jb2Rlcl9sYXllcnMsdGhpcy5udW1fZW5jb2Rlcl9oZWFkcz10aGlzLmNvbmZpZy5lbmNvZGVyX2F0dGVudGlvbl9oZWFkcyx0aGlzLmVuY29kZXJfZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMubnVtX2VuY29kZXJfaGVhZHN9YXN5bmMgZ2VuZXJhdGVfc3BlZWNoKGUscix7dGhyZXNob2xkOm49LjUsbWlubGVucmF0aW86YT0wLG1heGxlbnJhdGlvOmk9MjAsdm9jb2RlcjpzPW51bGx9PXt9KXtjb25zdCBvPXtpbnB1dF9pZHM6ZX0se2VuY29kZXJfb3V0cHV0czpsLGVuY29kZXJfYXR0ZW50aW9uX21hc2s6ZH09YXdhaXQgVG4odGhpcyxvKSxjPWwuZGltc1sxXS90aGlzLmNvbmZpZy5yZWR1Y3Rpb25fZmFjdG9yLHU9TWF0aC5mbG9vcihjKmkpLGg9TWF0aC5mbG9vcihjKmEpLGY9dGhpcy5jb25maWcubnVtX21lbF9iaW5zO2xldCBnPVtdLHk9bnVsbCx3PW51bGwsdj0wO2Zvcig7Oyl7Kyt2O2NvbnN0IHg9anMoISF3KTtsZXQgSTt3P0k9dy5vdXRwdXRfc2VxdWVuY2Vfb3V0Okk9bmV3IHJlKCJmbG9hdDMyIixuZXcgRmxvYXQzMkFycmF5KGYpLFsxLDEsZl0pO2xldCBUPXt1c2VfY2FjaGVfYnJhbmNoOngsb3V0cHV0X3NlcXVlbmNlOkksZW5jb2Rlcl9hdHRlbnRpb25fbWFzazpkLHNwZWFrZXJfZW1iZWRkaW5nczpyLGVuY29kZXJfaGlkZGVuX3N0YXRlczpsfTt0aGlzLmFkZFBhc3RLZXlWYWx1ZXMoVCx5KSx3PWF3YWl0IEtyKHRoaXMuZGVjb2Rlcl9tZXJnZWRfc2Vzc2lvbixUKSx5PXRoaXMuZ2V0UGFzdEtleVZhbHVlcyh3LHkpO2NvbnN0e3Byb2I6QixzcGVjdHJ1bTpVfT13O2lmKGcucHVzaChVKSx2Pj1oJiYoQXJyYXkuZnJvbShCLmRhdGEpLmZpbHRlcihIPT5IPj1uKS5sZW5ndGg+MHx8dj49dSkpYnJlYWt9Y29uc3Qgaz1QYShnKSx7d2F2ZWZvcm06RX09YXdhaXQgS3Iocy5zZXNzaW9uLHtzcGVjdHJvZ3JhbTprfSk7cmV0dXJue3NwZWN0cm9ncmFtOmssd2F2ZWZvcm06RX19fWNsYXNzIFYkIGV4dGVuZHMgWnttYWluX2lucHV0X25hbWU9InNwZWN0cm9ncmFtIn1jbGFzcyBIJCBleHRlbmRzIFp7Y29uc3RydWN0b3IoZSxyLG4pe3N1cGVyKGUsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1uLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1fZW5jb2Rlcl9sYXllcnM9dGhpcy5udW1fZGVjb2Rlcl9sYXllcnM9dGhpcy5jb25maWcuZGVjb2Rlcl9sYXllcnMsdGhpcy5udW1fZW5jb2Rlcl9oZWFkcz10aGlzLm51bV9kZWNvZGVyX2hlYWRzPXRoaXMuY29uZmlnLmRlY29kZXJfYXR0ZW50aW9uX2hlYWRzLHRoaXMuZW5jb2Rlcl9kaW1fa3Y9dGhpcy5kZWNvZGVyX2RpbV9rdj10aGlzLmNvbmZpZy5kX21vZGVsL3RoaXMubnVtX2RlY29kZXJfaGVhZHN9fWNsYXNzIEckIGV4dGVuZHMgSCR7fWNsYXNzIGFtIGV4dGVuZHMgWntjb25zdHJ1Y3RvcihlLHIsbil7c3VwZXIoZSxyKSx0aGlzLmdlbmVyYXRpb25fY29uZmlnPW4sdGhpcy5jb25maWcucGFkX3Rva2VuX2lkPXRoaXMuY29uZmlnLmVvc190b2tlbl9pZCx0aGlzLm51bV9oZWFkcz10aGlzLmNvbmZpZy5udW1fa2V5X3ZhbHVlX2hlYWRzLHRoaXMubnVtX2xheWVycz10aGlzLmNvbmZpZy5udW1faGlkZGVuX2xheWVycyx0aGlzLmRpbV9rdj10aGlzLmNvbmZpZy5oaWRkZW5fc2l6ZS90aGlzLmNvbmZpZy5udW1fYXR0ZW50aW9uX2hlYWRzfX1jbGFzcyBxJCBleHRlbmRzIGFte31jbGFzcyBqJCBleHRlbmRzIGFte31jbGFzcyBpbSBleHRlbmRzIFp7Y29uc3RydWN0b3IoZSxyLG4pe3N1cGVyKGUsciksdGhpcy5nZW5lcmF0aW9uX2NvbmZpZz1uLHRoaXMuY29uZmlnLnBhZF90b2tlbl9pZD10aGlzLmNvbmZpZy5lb3NfdG9rZW5faWQsdGhpcy5udW1faGVhZHM9dGhpcy5jb25maWcubnVtX2tleV92YWx1ZV9oZWFkcyx0aGlzLm51bV9sYXllcnM9dGhpcy5jb25maWcubnVtX2hpZGRlbl9sYXllcnMsdGhpcy5kaW1fa3Y9dGhpcy5jb25maWcuaGlkZGVuX3NpemUvdGhpcy5jb25maWcubnVtX2F0dGVudGlvbl9oZWFkc319Y2xhc3MgSyQgZXh0ZW5kcyBpbXt9Y2xhc3MgWSQgZXh0ZW5kcyBpbXt9Y2xhc3Mgc20gZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9oaWRkZW5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHN9fWNsYXNzIFgkIGV4dGVuZHMgc217fWNsYXNzIFEkIGV4dGVuZHMgc217fWNsYXNzIFpzIGV4dGVuZHMgWnt9Y2xhc3MgWiQgZXh0ZW5kcyBac3t9Y2xhc3MgSiQgZXh0ZW5kcyBac3tzdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKGUscj17fSl7cmV0dXJuIHIubW9kZWxfZmlsZV9uYW1lPz89InRleHRfbW9kZWwiLHN1cGVyLmZyb21fcHJldHJhaW5lZChlLHIpfX1jbGFzcyBlMSBleHRlbmRzIFpze3N0YXRpYyBhc3luYyBmcm9tX3ByZXRyYWluZWQoZSxyPXt9KXtyZXR1cm4gci5tb2RlbF9maWxlX25hbWU/Pz0iYXVkaW9fbW9kZWwiLHN1cGVyLmZyb21fcHJldHJhaW5lZChlLHIpfX1jbGFzcyB0MSBleHRlbmRzIFp7fWNsYXNzIG9tIGV4dGVuZHMgdDF7YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBEMShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIGxtIGV4dGVuZHMgWnt9Y2xhc3MgcjEgZXh0ZW5kcyBsbXt9Y2xhc3MgbjEgZXh0ZW5kcyBsbXt9Y2xhc3MgYTEgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUscixuKXtzdXBlcihlLHIpLHRoaXMuZ2VuZXJhdGlvbl9jb25maWc9bix0aGlzLmNvbmZpZy5wYWRfdG9rZW5faWQ9dGhpcy5jb25maWcuZW9zX3Rva2VuX2lkLHRoaXMubnVtX2hlYWRzPXRoaXMuY29uZmlnLm51bV9hdHRlbnRpb25faGVhZHMsdGhpcy5udW1fbGF5ZXJzPXRoaXMuY29uZmlnLm51bV9oaWRkZW5fbGF5ZXJzLHRoaXMuZGltX2t2PXRoaXMuY29uZmlnLmhpZGRlbl9zaXplL3RoaXMubnVtX2hlYWRzfX1jbGFzcyBpMSBleHRlbmRzIGExe31jbGFzcyB1bSBleHRlbmRzIFp7fWNsYXNzIHMxIGV4dGVuZHMgdW17fWNsYXNzIG8xIGV4dGVuZHMgdW17YXN5bmMgX2NhbGwoZSl7cmV0dXJuIG5ldyBPZShhd2FpdCBzdXBlci5fY2FsbChlKSl9fWNsYXNzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1udWxsO3N0YXRpYyBCQVNFX0lGX0ZBSUw9ITE7c3RhdGljIGFzeW5jIGZyb21fcHJldHJhaW5lZChlLHtwcm9ncmVzc19jYWxsYmFjazpyPW51bGwsY29uZmlnOm49bnVsbCxjYWNoZV9kaXI6YT1udWxsLGxvY2FsX2ZpbGVzX29ubHk6aT0hMSxyZXZpc2lvbjpzPSJtYWluIixtb2RlbF9maWxlX25hbWU6bz1udWxsLGRldmljZTpsPW51bGwsZHR5cGU6ZD1udWxsLHNlc3Npb25fb3B0aW9uczpjPXt9fT17fSl7bGV0IHU9e3Byb2dyZXNzX2NhbGxiYWNrOnIsY29uZmlnOm4sY2FjaGVfZGlyOmEsbG9jYWxfZmlsZXNfb25seTppLHJldmlzaW9uOnMsbW9kZWxfZmlsZV9uYW1lOm8sZGV2aWNlOmwsZHR5cGU6ZCxzZXNzaW9uX29wdGlvbnM6Y307aWYobj1hd2FpdCBqci5mcm9tX3ByZXRyYWluZWQoZSx1KSx1LmNvbmZpZ3x8KHUuY29uZmlnPW4pLCF0aGlzLk1PREVMX0NMQVNTX01BUFBJTkdTKXRocm93IG5ldyBFcnJvcigiYE1PREVMX0NMQVNTX01BUFBJTkdTYCBub3QgaW1wbGVtZW50ZWQgZm9yIHRoaXMgdHlwZSBvZiBgQXV0b0NsYXNzYDogIit0aGlzLm5hbWUpO2ZvcihsZXQgaCBvZiB0aGlzLk1PREVMX0NMQVNTX01BUFBJTkdTKXtjb25zdCBmPWguZ2V0KG4ubW9kZWxfdHlwZSk7aWYoZilyZXR1cm4gYXdhaXQgZlsxXS5mcm9tX3ByZXRyYWluZWQoZSx1KX1pZih0aGlzLkJBU0VfSUZfRkFJTClyZXR1cm4gY29uc29sZS53YXJuKGBVbmtub3duIG1vZGVsIGNsYXNzICIke24ubW9kZWxfdHlwZX0iLCBhdHRlbXB0aW5nIHRvIGNvbnN0cnVjdCBmcm9tIGJhc2UgY2xhc3MuYCksYXdhaXQgWi5mcm9tX3ByZXRyYWluZWQoZSx1KTt0aHJvdyBFcnJvcihgVW5zdXBwb3J0ZWQgbW9kZWwgdHlwZTogJHtuLm1vZGVsX3R5cGV9YCl9fWNvbnN0IGRtPW5ldyBNYXAoW1siYmVydCIsWyJCZXJ0TW9kZWwiLFF3XV0sWyJub21pY19iZXJ0IixbIk5vbWljQmVydE1vZGVsIixudl1dLFsicm9mb3JtZXIiLFsiUm9Gb3JtZXJNb2RlbCIsYXZdXSxbImVsZWN0cmEiLFsiRWxlY3RyYU1vZGVsIixmdl1dLFsiZXNtIixbIkVzbU1vZGVsIixVdl1dLFsiY29udmJlcnQiLFsiQ29udkJlcnRNb2RlbCIsdXZdXSxbImNhbWVtYmVydCIsWyJDYW1lbWJlcnRNb2RlbCIsd3ZdXSxbImRlYmVydGEiLFsiRGViZXJ0YU1vZGVsIixrdl1dLFsiZGViZXJ0YS12MiIsWyJEZWJlcnRhVjJNb2RlbCIsQXZdXSxbIm1wbmV0IixbIk1QTmV0TW9kZWwiLGp2XV0sWyJhbGJlcnQiLFsiQWxiZXJ0TW9kZWwiLHJiXV0sWyJkaXN0aWxiZXJ0IixbIkRpc3RpbEJlcnRNb2RlbCIsQnZdXSxbInJvYmVydGEiLFsiUm9iZXJ0YU1vZGVsIix4Yl1dLFsieGxtIixbIlhMTU1vZGVsIixJYl1dLFsieGxtLXJvYmVydGEiLFsiWExNUm9iZXJ0YU1vZGVsIix6Yl1dLFsiY2xhcCIsWyJDbGFwTW9kZWwiLFokXV0sWyJjbGlwIixbIkNMSVBNb2RlbCIsRmJdXSxbImNsaXBzZWciLFsiQ0xJUFNlZ01vZGVsIixYYl1dLFsiY2hpbmVzZV9jbGlwIixbIkNoaW5lc2VDTElQTW9kZWwiLFliXV0sWyJzaWdsaXAiLFsiU2lnbGlwTW9kZWwiLEdiXV0sWyJtb2JpbGViZXJ0IixbIk1vYmlsZUJlcnRNb2RlbCIsVnZdXSxbInNxdWVlemViZXJ0IixbIlNxdWVlemVCZXJ0TW9kZWwiLFp2XV0sWyJ3YXYydmVjMiIsWyJXYXYyVmVjMk1vZGVsIix3JF1dLFsid2F2MnZlYzItYmVydCIsWyJXYXYyVmVjMkJlcnRNb2RlbCIsVCRdXSxbInVuaXNwZWVjaCIsWyJVbmlTcGVlY2hNb2RlbCIseCRdXSxbInVuaXNwZWVjaC1zYXQiLFsiVW5pU3BlZWNoU2F0TW9kZWwiLEUkXV0sWyJodWJlcnQiLFsiSHViZXJ0TW9kZWwiLHokXV0sWyJ3YXZsbSIsWyJXYXZMTU1vZGVsIixQJF1dLFsiYXVkaW8tc3BlY3Ryb2dyYW0tdHJhbnNmb3JtZXIiLFsiQVNUTW9kZWwiLE5iXV0sWyJ2aXRzIixbIlZpdHNNb2RlbCIsb21dXSxbImRldHIiLFsiRGV0ck1vZGVsIixCMl1dLFsidGFibGUtdHJhbnNmb3JtZXIiLFsiVGFibGVUcmFuc2Zvcm1lck1vZGVsIixOMl1dLFsidml0IixbIlZpVE1vZGVsIiwkMl1dLFsibW9iaWxldml0IixbIk1vYmlsZVZpVE1vZGVsIixFMl1dLFsib3dsdml0IixbIk93bFZpVE1vZGVsIixJMl1dLFsib3dsdjIiLFsiT3dsdjJNb2RlbCIsVDJdXSxbImJlaXQiLFsiQmVpdE1vZGVsIixNMl1dLFsiZGVpdCIsWyJEZWlUTW9kZWwiLEwyXV0sWyJjb252bmV4dCIsWyJDb252TmV4dE1vZGVsIixuJF1dLFsiY29udm5leHR2MiIsWyJDb252TmV4dFYyTW9kZWwiLGkkXV0sWyJkaW5vdjIiLFsiRGlub3YyTW9kZWwiLG8kXV0sWyJyZXNuZXQiLFsiUmVzTmV0TW9kZWwiLFYyXV0sWyJzd2luIixbIlN3aW5Nb2RlbCIsRzJdXSxbInN3aW4yc3IiLFsiU3dpbjJTUk1vZGVsIixqMl1dLFsiZG9udXQtc3dpbiIsWyJEb251dFN3aW5Nb2RlbCIsciRdXSxbInlvbG9zIixbIllvbG9zTW9kZWwiLHUkXV0sWyJkcHQiLFsiRFBUTW9kZWwiLFkyXV0sWyJnbHBuIixbIkdMUE5Nb2RlbCIsSjJdXSxbImhpZmlnYW4iLFsiU3BlZWNoVDVIaWZpR2FuIixWJF1dLFsiZWZmaWNpZW50bmV0IixbIkVmZmljaWVudE5ldE1vZGVsIixzMV1dXSksY209bmV3IE1hcChbWyJ0NSIsWyJUNU1vZGVsIixzYl1dLFsibG9uZ3Q1IixbIkxvbmdUNU1vZGVsIixsYl1dLFsibXQ1IixbIk1UNU1vZGVsIixkYl1dLFsiYmFydCIsWyJCYXJ0TW9kZWwiLHBiXV0sWyJtYmFydCIsWyJNQmFydE1vZGVsIixtYl1dLFsibWFyaWFuIixbIk1hcmlhbk1vZGVsIixtJF1dLFsid2hpc3BlciIsWyJXaGlzcGVyTW9kZWwiLFdiXV0sWyJtMm1fMTAwIixbIk0yTTEwME1vZGVsIixfJF1dLFsiYmxlbmRlcmJvdCIsWyJCbGVuZGVyYm90TW9kZWwiLHdiXV0sWyJibGVuZGVyYm90LXNtYWxsIixbIkJsZW5kZXJib3RTbWFsbE1vZGVsIixiYl1dXSksbDE9bmV3IE1hcChbWyJibG9vbSIsWyJCbG9vbU1vZGVsIixnMl1dLFsiZ3B0MiIsWyJHUFQyTW9kZWwiLFpiXV0sWyJncHRqIixbIkdQVEpNb2RlbCIsYTJdXSxbImdwdF9iaWdjb2RlIixbIkdQVEJpZ0NvZGVNb2RlbCIsczJdXSxbImdwdF9uZW8iLFsiR1BUTmVvTW9kZWwiLGUyXV0sWyJncHRfbmVveCIsWyJHUFROZW9YTW9kZWwiLHIyXV0sWyJjb2RlZ2VuIixbIkNvZGVHZW5Nb2RlbCIsbDJdXSxbImxsYW1hIixbIkxsYW1hTW9kZWwiLGQyXV0sWyJxd2VuMiIsWyJRd2VuMk1vZGVsIixwMl1dLFsicGhpIixbIlBoaU1vZGVsIixmMl1dLFsibXB0IixbIk1wdE1vZGVsIix5Ml1dLFsib3B0IixbIk9QVE1vZGVsIix2Ml1dLFsibWlzdHJhbCIsWyJNaXN0cmFsTW9kZWwiLHEkXV0sWyJzdGFyY29kZXIyIixbIlN0YXJjb2RlcjJNb2RlbCIsSyRdXSxbImZhbGNvbiIsWyJGYWxjb25Nb2RlbCIsWCRdXV0pLEpzPW5ldyBNYXAoW1sic3BlZWNodDUiLFsiU3BlZWNoVDVGb3JTcGVlY2hUb1RleHQiLEwkXV0sWyJ3aGlzcGVyIixbIldoaXNwZXJGb3JDb25kaXRpb25hbEdlbmVyYXRpb24iLExiXV1dKSxwbT1uZXcgTWFwKFtbInNwZWVjaHQ1IixbIlNwZWVjaFQ1Rm9yVGV4dFRvU3BlZWNoIixGJF1dXSksaG09bmV3IE1hcChbWyJ2aXRzIixbIlZpdHNNb2RlbCIsb21dXV0pLGZtPW5ldyBNYXAoW1siYmVydCIsWyJCZXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsSnddXSxbInJvZm9ybWVyIixbIlJvRm9ybWVyRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsc3ZdXSxbImVsZWN0cmEiLFsiRWxlY3RyYUZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLGd2XV0sWyJlc20iLFsiRXNtRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsTHZdXSxbImNvbnZiZXJ0IixbIkNvbnZCZXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsY3ZdXSxbImNhbWVtYmVydCIsWyJDYW1lbWJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixidl1dLFsiZGViZXJ0YSIsWyJEZWJlcnRhRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsRXZdXSxbImRlYmVydGEtdjIiLFsiRGViZXJ0YVYyRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsT3ZdXSxbIm1wbmV0IixbIk1QTmV0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsWXZdXSxbImFsYmVydCIsWyJBbGJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixuYl1dLFsiZGlzdGlsYmVydCIsWyJEaXN0aWxCZXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsUnZdXSxbInJvYmVydGEiLFsiUm9iZXJ0YUZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLFNiXV0sWyJ4bG0iLFsiWExNRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsVGJdXSxbInhsbS1yb2JlcnRhIixbIlhMTVJvYmVydGFGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixSYl1dLFsiYmFydCIsWyJCYXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsZmJdXSxbIm1iYXJ0IixbIk1CYXJ0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsX2JdXSxbIm1vYmlsZWJlcnQiLFsiTW9iaWxlQmVydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLEd2XV0sWyJzcXVlZXplYmVydCIsWyJTcXVlZXplQmVydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLGViXV1dKSxtbT1uZXcgTWFwKFtbImJlcnQiLFsiQmVydEZvclRva2VuQ2xhc3NpZmljYXRpb24iLGV2XV0sWyJyb2Zvcm1lciIsWyJSb0Zvcm1lckZvclRva2VuQ2xhc3NpZmljYXRpb24iLG92XV0sWyJlbGVjdHJhIixbIkVsZWN0cmFGb3JUb2tlbkNsYXNzaWZpY2F0aW9uIixfdl1dLFsiZXNtIixbIkVzbUZvclRva2VuQ2xhc3NpZmljYXRpb24iLEZ2XV0sWyJjb252YmVydCIsWyJDb252QmVydEZvclRva2VuQ2xhc3NpZmljYXRpb24iLHB2XV0sWyJjYW1lbWJlcnQiLFsiQ2FtZW1iZXJ0Rm9yVG9rZW5DbGFzc2lmaWNhdGlvbiIsJHZdXSxbImRlYmVydGEiLFsiRGViZXJ0YUZvclRva2VuQ2xhc3NpZmljYXRpb24iLEN2XV0sWyJkZWJlcnRhLXYyIixbIkRlYmVydGFWMkZvclRva2VuQ2xhc3NpZmljYXRpb24iLE12XV0sWyJtcG5ldCIsWyJNUE5ldEZvclRva2VuQ2xhc3NpZmljYXRpb24iLFh2XV0sWyJkaXN0aWxiZXJ0IixbIkRpc3RpbEJlcnRGb3JUb2tlbkNsYXNzaWZpY2F0aW9uIixQdl1dLFsicm9iZXJ0YSIsWyJSb2JlcnRhRm9yVG9rZW5DbGFzc2lmaWNhdGlvbiIsRWJdXSxbInhsbSIsWyJYTE1Gb3JUb2tlbkNsYXNzaWZpY2F0aW9uIixPYl1dLFsieGxtLXJvYmVydGEiLFsiWExNUm9iZXJ0YUZvclRva2VuQ2xhc3NpZmljYXRpb24iLFBiXV1dKSxlbz1uZXcgTWFwKFtbInQ1IixbIlQ1Rm9yQ29uZGl0aW9uYWxHZW5lcmF0aW9uIixvYl1dLFsibG9uZ3Q1IixbIkxvbmdUNUZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbiIsdWJdXSxbIm10NSIsWyJNVDVGb3JDb25kaXRpb25hbEdlbmVyYXRpb24iLGNiXV0sWyJiYXJ0IixbIkJhcnRGb3JDb25kaXRpb25hbEdlbmVyYXRpb24iLGhiXV0sWyJtYmFydCIsWyJNQmFydEZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbiIsZ2JdXSxbIm1hcmlhbiIsWyJNYXJpYW5NVE1vZGVsIixnJF1dLFsibTJtXzEwMCIsWyJNMk0xMDBGb3JDb25kaXRpb25hbEdlbmVyYXRpb24iLHkkXV0sWyJibGVuZGVyYm90IixbIkJsZW5kZXJib3RGb3JDb25kaXRpb25hbEdlbmVyYXRpb24iLHZiXV0sWyJibGVuZGVyYm90LXNtYWxsIixbIkJsZW5kZXJib3RTbWFsbEZvckNvbmRpdGlvbmFsR2VuZXJhdGlvbiIsJGJdXV0pLGVpPW5ldyBNYXAoW1siYmxvb20iLFsiQmxvb21Gb3JDYXVzYWxMTSIsXzJdXSxbImdwdDIiLFsiR1BUMkxNSGVhZE1vZGVsIixKYl1dLFsiZ3B0aiIsWyJHUFRKRm9yQ2F1c2FsTE0iLGkyXV0sWyJncHRfYmlnY29kZSIsWyJHUFRCaWdDb2RlRm9yQ2F1c2FsTE0iLG8yXV0sWyJncHRfbmVvIixbIkdQVE5lb0ZvckNhdXNhbExNIix0Ml1dLFsiZ3B0X25lb3giLFsiR1BUTmVvWEZvckNhdXNhbExNIixuMl1dLFsiY29kZWdlbiIsWyJDb2RlR2VuRm9yQ2F1c2FsTE0iLHUyXV0sWyJsbGFtYSIsWyJMbGFtYUZvckNhdXNhbExNIixjMl1dLFsicXdlbjIiLFsiUXdlbjJGb3JDYXVzYWxMTSIsaDJdXSxbInBoaSIsWyJQaGlGb3JDYXVzYWxMTSIsbTJdXSxbIm1wdCIsWyJNcHRGb3JDYXVzYWxMTSIsdzJdXSxbIm9wdCIsWyJPUFRGb3JDYXVzYWxMTSIsYjJdXSxbIm1iYXJ0IixbIk1CYXJ0Rm9yQ2F1c2FsTE0iLHliXV0sWyJtaXN0cmFsIixbIk1pc3RyYWxGb3JDYXVzYWxMTSIsaiRdXSxbInN0YXJjb2RlcjIiLFsiU3RhcmNvZGVyMkZvckNhdXNhbExNIixZJF1dLFsiZmFsY29uIixbIkZhbGNvbkZvckNhdXNhbExNIixRJF1dLFsidHJvY3IiLFsiVHJPQ1JGb3JDYXVzYWxMTSIsRyRdXSxbInN0YWJsZWxtIixbIlN0YWJsZUxtRm9yQ2F1c2FsTE0iLGkxXV1dKSxnbT1uZXcgTWFwKFtbImJlcnQiLFsiQmVydEZvck1hc2tlZExNIixad11dLFsicm9mb3JtZXIiLFsiUm9Gb3JtZXJGb3JNYXNrZWRMTSIsaXZdXSxbImVsZWN0cmEiLFsiRWxlY3RyYUZvck1hc2tlZExNIixtdl1dLFsiZXNtIixbIkVzbUZvck1hc2tlZExNIixXdl1dLFsiY29udmJlcnQiLFsiQ29udkJlcnRGb3JNYXNrZWRMTSIsZHZdXSxbImNhbWVtYmVydCIsWyJDYW1lbWJlcnRGb3JNYXNrZWRMTSIsdnZdXSxbImRlYmVydGEiLFsiRGViZXJ0YUZvck1hc2tlZExNIixTdl1dLFsiZGViZXJ0YS12MiIsWyJEZWJlcnRhVjJGb3JNYXNrZWRMTSIsVHZdXSxbIm1wbmV0IixbIk1QTmV0Rm9yTWFza2VkTE0iLEt2XV0sWyJhbGJlcnQiLFsiQWxiZXJ0Rm9yTWFza2VkTE0iLGliXV0sWyJkaXN0aWxiZXJ0IixbIkRpc3RpbEJlcnRGb3JNYXNrZWRMTSIsTnZdXSxbInJvYmVydGEiLFsiUm9iZXJ0YUZvck1hc2tlZExNIixrYl1dLFsieGxtIixbIlhMTVdpdGhMTUhlYWRNb2RlbCIsQWJdXSxbInhsbS1yb2JlcnRhIixbIlhMTVJvYmVydGFGb3JNYXNrZWRMTSIsQmJdXSxbIm1vYmlsZWJlcnQiLFsiTW9iaWxlQmVydEZvck1hc2tlZExNIixIdl1dLFsic3F1ZWV6ZWJlcnQiLFsiU3F1ZWV6ZUJlcnRGb3JNYXNrZWRMTSIsSnZdXV0pLF9tPW5ldyBNYXAoW1siYmVydCIsWyJCZXJ0Rm9yUXVlc3Rpb25BbnN3ZXJpbmciLHR2XV0sWyJyb2Zvcm1lciIsWyJSb0Zvcm1lckZvclF1ZXN0aW9uQW5zd2VyaW5nIixsdl1dLFsiZWxlY3RyYSIsWyJFbGVjdHJhRm9yUXVlc3Rpb25BbnN3ZXJpbmciLHl2XV0sWyJjb252YmVydCIsWyJDb252QmVydEZvclF1ZXN0aW9uQW5zd2VyaW5nIixodl1dLFsiY2FtZW1iZXJ0IixbIkNhbWVtYmVydEZvclF1ZXN0aW9uQW5zd2VyaW5nIix4dl1dLFsiZGViZXJ0YSIsWyJEZWJlcnRhRm9yUXVlc3Rpb25BbnN3ZXJpbmciLEl2XV0sWyJkZWJlcnRhLXYyIixbIkRlYmVydGFWMkZvclF1ZXN0aW9uQW5zd2VyaW5nIix6dl1dLFsibXBuZXQiLFsiTVBOZXRGb3JRdWVzdGlvbkFuc3dlcmluZyIsUXZdXSxbImFsYmVydCIsWyJBbGJlcnRGb3JRdWVzdGlvbkFuc3dlcmluZyIsYWJdXSxbImRpc3RpbGJlcnQiLFsiRGlzdGlsQmVydEZvclF1ZXN0aW9uQW5zd2VyaW5nIixEdl1dLFsicm9iZXJ0YSIsWyJSb2JlcnRhRm9yUXVlc3Rpb25BbnN3ZXJpbmciLENiXV0sWyJ4bG0iLFsiWExNRm9yUXVlc3Rpb25BbnN3ZXJpbmciLE1iXV0sWyJ4bG0tcm9iZXJ0YSIsWyJYTE1Sb2JlcnRhRm9yUXVlc3Rpb25BbnN3ZXJpbmciLERiXV0sWyJtb2JpbGViZXJ0IixbIk1vYmlsZUJlcnRGb3JRdWVzdGlvbkFuc3dlcmluZyIscXZdXSxbInNxdWVlemViZXJ0IixbIlNxdWVlemVCZXJ0Rm9yUXVlc3Rpb25BbnN3ZXJpbmciLHRiXV1dKSx0bz1uZXcgTWFwKFtbInZpc2lvbi1lbmNvZGVyLWRlY29kZXIiLFsiVmlzaW9uRW5jb2RlckRlY29kZXJNb2RlbCIseGZdXV0pLHUxPW5ldyBNYXAoW1sidmlzaW9uLWVuY29kZXItZGVjb2RlciIsWyJWaXNpb25FbmNvZGVyRGVjb2Rlck1vZGVsIix4Zl1dXSkseW09bmV3IE1hcChbWyJ2aXQiLFsiVmlURm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiIseDJdXSxbIm1vYmlsZXZpdCIsWyJNb2JpbGVWaVRGb3JJbWFnZUNsYXNzaWZpY2F0aW9uIixDMl1dLFsiYmVpdCIsWyJCZWl0Rm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiIsejJdXSxbImRlaXQiLFsiRGVpVEZvckltYWdlQ2xhc3NpZmljYXRpb24iLEYyXV0sWyJjb252bmV4dCIsWyJDb252TmV4dEZvckltYWdlQ2xhc3NpZmljYXRpb24iLGEkXV0sWyJjb252bmV4dHYyIixbIkNvbnZOZXh0VjJGb3JJbWFnZUNsYXNzaWZpY2F0aW9uIixzJF1dLFsiZGlub3YyIixbIkRpbm92MkZvckltYWdlQ2xhc3NpZmljYXRpb24iLGwkXV0sWyJyZXNuZXQiLFsiUmVzTmV0Rm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiIsSDJdXSxbInN3aW4iLFsiU3dpbkZvckltYWdlQ2xhc3NpZmljYXRpb24iLHEyXV0sWyJzZWdmb3JtZXIiLFsiU2VnZm9ybWVyRm9ySW1hZ2VDbGFzc2lmaWNhdGlvbiIscjFdXSxbImVmZmljaWVudG5ldCIsWyJFZmZpY2llbnROZXRGb3JJbWFnZUNsYXNzaWZpY2F0aW9uIixvMV1dXSksd209bmV3IE1hcChbWyJkZXRyIixbIkRldHJGb3JPYmplY3REZXRlY3Rpb24iLFIyXV0sWyJ0YWJsZS10cmFuc2Zvcm1lciIsWyJUYWJsZVRyYW5zZm9ybWVyRm9yT2JqZWN0RGV0ZWN0aW9uIixVMl1dLFsieW9sb3MiLFsiWW9sb3NGb3JPYmplY3REZXRlY3Rpb24iLGQkXV1dKSx2bT1uZXcgTWFwKFtbIm93bHZpdCIsWyJPd2xWaVRGb3JPYmplY3REZXRlY3Rpb24iLEEyXV0sWyJvd2x2MiIsWyJPd2x2MkZvck9iamVjdERldGVjdGlvbiIsTzJdXV0pLGJtPW5ldyBNYXAoW1siZGV0ciIsWyJEZXRyRm9yU2VnbWVudGF0aW9uIixQMl1dLFsiY2xpcHNlZyIsWyJDTElQU2VnRm9ySW1hZ2VTZWdtZW50YXRpb24iLFFiXV1dKSwkbT1uZXcgTWFwKFtbInNlZ2Zvcm1lciIsWyJTZWdmb3JtZXJGb3JTZW1hbnRpY1NlZ21lbnRhdGlvbiIsbjFdXV0pLGQxPW5ldyBNYXAoW1sic2FtIixbIlNhbU1vZGVsIixoJF1dXSkseG09bmV3IE1hcChbWyJ3YXYydmVjMiIsWyJXYXYyVmVjMkZvckNUQyIsdiRdXSxbIndhdjJ2ZWMyLWJlcnQiLFsiV2F2MlZlYzJCZXJ0Rm9yQ1RDIixPJF1dLFsidW5pc3BlZWNoIixbIlVuaVNwZWVjaEZvckNUQyIsayRdXSxbInVuaXNwZWVjaC1zYXQiLFsiVW5pU3BlZWNoU2F0Rm9yQ1RDIixDJF1dLFsid2F2bG0iLFsiV2F2TE1Gb3JDVEMiLEQkXV0sWyJodWJlcnQiLFsiSHViZXJ0Rm9yQ1RDIixCJF1dXSksa209bmV3IE1hcChbWyJ3YXYydmVjMiIsWyJXYXYyVmVjMkZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLGIkXV0sWyJ3YXYydmVjMi1iZXJ0IixbIldhdjJWZWMyQmVydEZvclNlcXVlbmNlQ2xhc3NpZmljYXRpb24iLE0kXV0sWyJ1bmlzcGVlY2giLFsiVW5pU3BlZWNoRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsUyRdXSxbInVuaXNwZWVjaC1zYXQiLFsiVW5pU3BlZWNoU2F0Rm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsSSRdXSxbIndhdmxtIixbIldhdkxNRm9yU2VxdWVuY2VDbGFzc2lmaWNhdGlvbiIsTiRdXSxbImh1YmVydCIsWyJIdWJlcnRGb3JTZXF1ZW5jZUNsYXNzaWZpY2F0aW9uIixSJF1dLFsiYXVkaW8tc3BlY3Ryb2dyYW0tdHJhbnNmb3JtZXIiLFsiQVNURm9yQXVkaW9DbGFzc2lmaWNhdGlvbiIsVWJdXV0pLGMxPW5ldyBNYXAoW1sid2F2bG0iLFsiV2F2TE1Gb3JYVmVjdG9yIixVJF1dXSkscDE9bmV3IE1hcChbWyJ1bmlzcGVlY2gtc2F0IixbIlVuaVNwZWVjaFNhdEZvckF1ZGlvRnJhbWVDbGFzc2lmaWNhdGlvbiIsQSRdXSxbIndhdmxtIixbIldhdkxNRm9yQXVkaW9GcmFtZUNsYXNzaWZpY2F0aW9uIixXJF1dLFsid2F2MnZlYzIiLFsiV2F2MlZlYzJGb3JBdWRpb0ZyYW1lQ2xhc3NpZmljYXRpb24iLCQkXV1dKSxoMT1uZXcgTWFwKFtbInZpdG1hdHRlIixbIlZpdE1hdHRlRm9ySW1hZ2VNYXR0aW5nIixTMl1dXSksU209bmV3IE1hcChbWyJzd2luMnNyIixbIlN3aW4yU1JGb3JJbWFnZVN1cGVyUmVzb2x1dGlvbiIsSzJdXV0pLEVtPW5ldyBNYXAoW1siZHB0IixbIkRQVEZvckRlcHRoRXN0aW1hdGlvbiIsWDJdXSxbImRlcHRoX2FueXRoaW5nIixbIkRlcHRoQW55dGhpbmdGb3JEZXB0aEVzdGltYXRpb24iLFoyXV0sWyJnbHBuIixbIkdMUE5Gb3JEZXB0aEVzdGltYXRpb24iLGUkXV1dKSxDbT1uZXcgTWFwKFtbImNsaXAiLFsiQ0xJUFZpc2lvbk1vZGVsV2l0aFByb2plY3Rpb24iLEhiXV0sWyJzaWdsaXAiLFsiU2lnbGlwVmlzaW9uTW9kZWwiLGpiXV1dKSxJbT1bW2RtLFNlLkVuY29kZXJPbmx5XSxbY20sU2UuRW5jb2RlckRlY29kZXJdLFtsMSxTZS5EZWNvZGVyT25seV0sW2ZtLFNlLkVuY29kZXJPbmx5XSxbbW0sU2UuRW5jb2Rlck9ubHldLFtlbyxTZS5TZXEyU2VxXSxbSnMsU2UuU2VxMlNlcV0sW2VpLFNlLkRlY29kZXJPbmx5XSxbZ20sU2UuRW5jb2Rlck9ubHldLFtfbSxTZS5FbmNvZGVyT25seV0sW3RvLFNlLlZpc2lvbjJTZXFdLFt5bSxTZS5FbmNvZGVyT25seV0sW2JtLFNlLkVuY29kZXJPbmx5XSxbJG0sU2UuRW5jb2Rlck9ubHldLFtoMSxTZS5FbmNvZGVyT25seV0sW1NtLFNlLkVuY29kZXJPbmx5XSxbRW0sU2UuRW5jb2Rlck9ubHldLFt3bSxTZS5FbmNvZGVyT25seV0sW3ZtLFNlLkVuY29kZXJPbmx5XSxbZDEsU2UuTWFza0dlbmVyYXRpb25dLFt4bSxTZS5FbmNvZGVyT25seV0sW2ttLFNlLkVuY29kZXJPbmx5XSxbcG0sU2UuU2VxMlNlcV0sW2htLFNlLkVuY29kZXJPbmx5XSxbYzEsU2UuRW5jb2Rlck9ubHldLFtwMSxTZS5FbmNvZGVyT25seV0sW0NtLFNlLkVuY29kZXJPbmx5XV07Zm9yKGNvbnN0W3QsZV1vZiBJbSlmb3IoY29uc3RbcixuXW9mIHQudmFsdWVzKCkpcWEuc2V0KHIsZSksQW4uc2V0KG4sciksaGYuc2V0KHIsbik7Y29uc3QgZjE9W1siQ0xJUFRleHRNb2RlbFdpdGhQcm9qZWN0aW9uIixWYixTZS5FbmNvZGVyT25seV0sWyJTaWdsaXBUZXh0TW9kZWwiLHFiLFNlLkVuY29kZXJPbmx5XSxbIkNsYXBUZXh0TW9kZWxXaXRoUHJvamVjdGlvbiIsSiQsU2UuRW5jb2Rlck9ubHldLFsiQ2xhcEF1ZGlvTW9kZWxXaXRoUHJvamVjdGlvbiIsZTEsU2UuRW5jb2Rlck9ubHldXTtmb3IoY29uc3RbdCxlLHJdb2YgZjEpcWEuc2V0KHQsciksQW4uc2V0KGUsdCksaGYuc2V0KHQsZSk7Y2xhc3MgSG4gZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9SW0ubWFwKGU9PmVbMF0pO3N0YXRpYyBCQVNFX0lGX0ZBSUw9ITB9Y2xhc3MgQW0gZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9W2ZtXX1jbGFzcyBtMSBleHRlbmRzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1bbW1dfWNsYXNzIHJvIGV4dGVuZHMgUWV7c3RhdGljIE1PREVMX0NMQVNTX01BUFBJTkdTPVtlb119Y2xhc3MgZzEgZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9W0pzXX1jbGFzcyBfMSBleHRlbmRzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1bcG1dfWNsYXNzIHkxIGV4dGVuZHMgUWV7c3RhdGljIE1PREVMX0NMQVNTX01BUFBJTkdTPVtobV19Y2xhc3MgdzEgZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9W2VpXX1jbGFzcyB2MSBleHRlbmRzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1bZ21dfWNsYXNzIGIxIGV4dGVuZHMgUWV7c3RhdGljIE1PREVMX0NMQVNTX01BUFBJTkdTPVtfbV19Y2xhc3MgJDEgZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9W3RvXX1jbGFzcyB4MSBleHRlbmRzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1beW1dfWNsYXNzIGsxIGV4dGVuZHMgUWV7c3RhdGljIE1PREVMX0NMQVNTX01BUFBJTkdTPVtibV19Y2xhc3MgUzEgZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9WyRtXX1jbGFzcyBFMSBleHRlbmRzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1bd21dfWNsYXNzIEMxIGV4dGVuZHMgUWV7c3RhdGljIE1PREVMX0NMQVNTX01BUFBJTkdTPVt2bV19Y2xhc3MgSTEgZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9W3htXX1jbGFzcyBBMSBleHRlbmRzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1ba21dfWNsYXNzIFQxIGV4dGVuZHMgUWV7c3RhdGljIE1PREVMX0NMQVNTX01BUFBJTkdTPVt1MV19Y2xhc3MgTzEgZXh0ZW5kcyBRZXtzdGF0aWMgTU9ERUxfQ0xBU1NfTUFQUElOR1M9W1NtXX1jbGFzcyBNMSBleHRlbmRzIFFle3N0YXRpYyBNT0RFTF9DTEFTU19NQVBQSU5HUz1bRW1dfWNsYXNzIHoxIGV4dGVuZHMgUWV7c3RhdGljIE1PREVMX0NMQVNTX01BUFBJTkdTPVtDbV19Y2xhc3MgQjEgZXh0ZW5kcyBrdHtjb25zdHJ1Y3Rvcih7bG9naXRzOmUscGFzdF9rZXlfdmFsdWVzOnIsZW5jb2Rlcl9vdXRwdXRzOm4sZGVjb2Rlcl9hdHRlbnRpb25zOmE9bnVsbCxjcm9zc19hdHRlbnRpb25zOmk9bnVsbH0pe3N1cGVyKCksdGhpcy5sb2dpdHM9ZSx0aGlzLnBhc3Rfa2V5X3ZhbHVlcz1yLHRoaXMuZW5jb2Rlcl9vdXRwdXRzPW4sdGhpcy5kZWNvZGVyX2F0dGVudGlvbnM9YSx0aGlzLmNyb3NzX2F0dGVudGlvbnM9aX19Y2xhc3MgT2UgZXh0ZW5kcyBrdHtjb25zdHJ1Y3Rvcih7bG9naXRzOmV9KXtzdXBlcigpLHRoaXMubG9naXRzPWV9fWNsYXNzIFIxIGV4dGVuZHMga3R7Y29uc3RydWN0b3Ioe2xvZ2l0czplLGVtYmVkZGluZ3M6cn0pe3N1cGVyKCksdGhpcy5sb2dpdHM9ZSx0aGlzLmVtYmVkZGluZ3M9cn19Y2xhc3MgY3QgZXh0ZW5kcyBrdHtjb25zdHJ1Y3Rvcih7bG9naXRzOmV9KXtzdXBlcigpLHRoaXMubG9naXRzPWV9fWNsYXNzIHB0IGV4dGVuZHMga3R7Y29uc3RydWN0b3Ioe2xvZ2l0czplfSl7c3VwZXIoKSx0aGlzLmxvZ2l0cz1lfX1jbGFzcyBmdCBleHRlbmRzIGt0e2NvbnN0cnVjdG9yKHtzdGFydF9sb2dpdHM6ZSxlbmRfbG9naXRzOnJ9KXtzdXBlcigpLHRoaXMuc3RhcnRfbG9naXRzPWUsdGhpcy5lbmRfbG9naXRzPXJ9fWNsYXNzIFlyIGV4dGVuZHMga3R7Y29uc3RydWN0b3Ioe2xvZ2l0czplfSl7c3VwZXIoKSx0aGlzLmxvZ2l0cz1lfX1jbGFzcyBQMSBleHRlbmRzIGt0e2NvbnN0cnVjdG9yKHthbHBoYXM6ZX0pe3N1cGVyKCksdGhpcy5hbHBoYXM9ZX19Y2xhc3MgRDEgZXh0ZW5kcyBrdHtjb25zdHJ1Y3Rvcih7d2F2ZWZvcm06ZSxzcGVjdHJvZ3JhbTpyfSl7c3VwZXIoKSx0aGlzLndhdmVmb3JtPWUsdGhpcy5zcGVjdHJvZ3JhbT1yfX1jb25zdCBPdD10eXBlb2Ygc2VsZjwidSIsTjE9T3QmJnNlbGYuY29uc3RydWN0b3IubmFtZT09PSJEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZSI7bGV0IENyLFRtLGZyO2lmKE90KUNyPSh0LGUpPT57aWYoIXNlbGYuT2Zmc2NyZWVuQ2FudmFzKXRocm93IG5ldyBFcnJvcigiT2Zmc2NyZWVuQ2FudmFzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyLiIpO3JldHVybiBuZXcgc2VsZi5PZmZzY3JlZW5DYW52YXModCxlKX0sZnI9c2VsZi5jcmVhdGVJbWFnZUJpdG1hcCxUbT1zZWxmLkltYWdlRGF0YTtlbHNlIGlmKEtlKWZyPWFzeW5jIHQ9Pntjb25zdCBlPShhd2FpdCB0Lm1ldGFkYXRhKCkpLmNoYW5uZWxzLHtkYXRhOnIsaW5mbzpufT1hd2FpdCB0LnJhdygpLnRvQnVmZmVyKHtyZXNvbHZlV2l0aE9iamVjdDohMH0pLGE9bmV3IG10KG5ldyBVaW50OENsYW1wZWRBcnJheShyKSxuLndpZHRoLG4uaGVpZ2h0LG4uY2hhbm5lbHMpO3JldHVybiBlIT09dm9pZCAwJiZlIT09bi5jaGFubmVscyYmYS5jb252ZXJ0KGUpLGF9O2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gbG9hZCBpbWFnZSBwcm9jZXNzaW5nIGxpYnJhcnkuIik7Y29uc3QgVTE9ezA6Im5lYXJlc3QiLDE6ImxhbmN6b3MiLDI6ImJpbGluZWFyIiwzOiJiaWN1YmljIiw0OiJib3giLDU6ImhhbW1pbmcifSxXMT1uZXcgTWFwKFtbInBuZyIsImltYWdlL3BuZyJdLFsianBnIiwiaW1hZ2UvanBlZyJdLFsianBlZyIsImltYWdlL2pwZWciXSxbImdpZiIsImltYWdlL2dpZiJdXSk7Y2xhc3MgbXR7Y29uc3RydWN0b3IoZSxyLG4sYSl7dGhpcy5kYXRhPWUsdGhpcy53aWR0aD1yLHRoaXMuaGVpZ2h0PW4sdGhpcy5jaGFubmVscz1hfWdldCBzaXplKCl7cmV0dXJuW3RoaXMud2lkdGgsdGhpcy5oZWlnaHRdfXN0YXRpYyBhc3luYyByZWFkKGUpe2lmKGUgaW5zdGFuY2VvZiBtdClyZXR1cm4gZTtpZih0eXBlb2YgZT09InN0cmluZyJ8fGUgaW5zdGFuY2VvZiBVUkwpcmV0dXJuIGF3YWl0IHRoaXMuZnJvbVVSTChlKTt0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGlucHV0IHR5cGU6ICR7dHlwZW9mIGV9YCl9c3RhdGljIGZyb21DYW52YXMoZSl7aWYoIU90KXRocm93IG5ldyBFcnJvcigiZnJvbUNhbnZhcygpIGlzIG9ubHkgc3VwcG9ydGVkIGluIGJyb3dzZXIgZW52aXJvbm1lbnRzLiIpO2NvbnN0IHI9ZS5nZXRDb250ZXh0KCIyZCIpLmdldEltYWdlRGF0YSgwLDAsZS53aWR0aCxlLmhlaWdodCkuZGF0YTtyZXR1cm4gbmV3IG10KHIsZS53aWR0aCxlLmhlaWdodCw0KX1zdGF0aWMgYXN5bmMgZnJvbVVSTChlKXtjb25zdCByPWF3YWl0IHBhKGUpO2lmKHIuc3RhdHVzIT09MjAwKXRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHJlYWQgaW1hZ2UgZnJvbSAiJHtlfSIgKCR7ci5zdGF0dXN9ICR7ci5zdGF0dXNUZXh0fSlgKTtjb25zdCBuPWF3YWl0IHIuYmxvYigpO3JldHVybiB0aGlzLmZyb21CbG9iKG4pfXN0YXRpYyBhc3luYyBmcm9tQmxvYihlKXtpZihPdCl7Y29uc3Qgcj1hd2FpdCBmcihlKSxuPUNyKHIud2lkdGgsci5oZWlnaHQpLmdldENvbnRleHQoIjJkIik7cmV0dXJuIG4uZHJhd0ltYWdlKHIsMCwwKSxuZXcgdGhpcyhuLmdldEltYWdlRGF0YSgwLDAsci53aWR0aCxyLmhlaWdodCkuZGF0YSxyLndpZHRoLHIuaGVpZ2h0LDQpfWVsc2V7Y29uc3Qgcj1LZShhd2FpdCBlLmFycmF5QnVmZmVyKCkpO3JldHVybiBhd2FpdCBmcihyKX19c3RhdGljIGZyb21UZW5zb3IoZSxyPSJDSFciKXtpZihlLmRpbXMubGVuZ3RoIT09Myl0aHJvdyBuZXcgRXJyb3IoYFRlbnNvciBzaG91bGQgaGF2ZSAzIGRpbWVuc2lvbnMsIGJ1dCBoYXMgJHtlLmRpbXMubGVuZ3RofSBkaW1lbnNpb25zLmApO2lmKHI9PT0iQ0hXIillPWUudHJhbnNwb3NlKDEsMiwwKTtlbHNlIGlmKHIhPT0iSFdDIil0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNoYW5uZWwgZm9ybWF0OiAke3J9YCk7aWYoIShlLmRhdGEgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheXx8ZS5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkpdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB0ZW5zb3IgdHlwZTogJHtlLnR5cGV9YCk7c3dpdGNoKGUuZGltc1syXSl7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6Y2FzZSA0OnJldHVybiBuZXcgbXQoZS5kYXRhLGUuZGltc1sxXSxlLmRpbXNbMF0sZS5kaW1zWzJdKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgbnVtYmVyIG9mIGNoYW5uZWxzOiAke2UuZGltc1syXX1gKX19Z3JheXNjYWxlKCl7aWYodGhpcy5jaGFubmVscz09PTEpcmV0dXJuIHRoaXM7Y29uc3QgZT1uZXcgVWludDhDbGFtcGVkQXJyYXkodGhpcy53aWR0aCp0aGlzLmhlaWdodCoxKTtzd2l0Y2godGhpcy5jaGFubmVscyl7Y2FzZSAzOmNhc2UgNDpmb3IobGV0IHI9MCxuPTA7cjx0aGlzLmRhdGEubGVuZ3RoO3IrPXRoaXMuY2hhbm5lbHMpe2NvbnN0IGE9dGhpcy5kYXRhW3JdLGk9dGhpcy5kYXRhW3IrMV0scz10aGlzLmRhdGFbcisyXTtlW24rK109TWF0aC5yb3VuZCguMjk4OSphKy41ODcqaSsuMTE0KnMpfWJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBDb252ZXJzaW9uIGZhaWxlZCBkdWUgdG8gdW5zdXBwb3J0ZWQgbnVtYmVyIG9mIGNoYW5uZWxzOiAke3RoaXMuY2hhbm5lbHN9YCl9cmV0dXJuIHRoaXMuX3VwZGF0ZShlLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMSl9cmdiKCl7aWYodGhpcy5jaGFubmVscz09PTMpcmV0dXJuIHRoaXM7Y29uc3QgZT1uZXcgVWludDhDbGFtcGVkQXJyYXkodGhpcy53aWR0aCp0aGlzLmhlaWdodCozKTtzd2l0Y2godGhpcy5jaGFubmVscyl7Y2FzZSAxOmZvcihsZXQgcj0wLG49MDtyPHRoaXMuZGF0YS5sZW5ndGg7KytyKWVbbisrXT10aGlzLmRhdGFbcl0sZVtuKytdPXRoaXMuZGF0YVtyXSxlW24rK109dGhpcy5kYXRhW3JdO2JyZWFrO2Nhc2UgNDpmb3IobGV0IHI9MCxuPTA7cjx0aGlzLmRhdGEubGVuZ3RoO3IrPTQpZVtuKytdPXRoaXMuZGF0YVtyXSxlW24rK109dGhpcy5kYXRhW3IrMV0sZVtuKytdPXRoaXMuZGF0YVtyKzJdO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBDb252ZXJzaW9uIGZhaWxlZCBkdWUgdG8gdW5zdXBwb3J0ZWQgbnVtYmVyIG9mIGNoYW5uZWxzOiAke3RoaXMuY2hhbm5lbHN9YCl9cmV0dXJuIHRoaXMuX3VwZGF0ZShlLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMyl9cmdiYSgpe2lmKHRoaXMuY2hhbm5lbHM9PT00KXJldHVybiB0aGlzO2NvbnN0IGU9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgqdGhpcy5oZWlnaHQqNCk7c3dpdGNoKHRoaXMuY2hhbm5lbHMpe2Nhc2UgMTpmb3IobGV0IHI9MCxuPTA7cjx0aGlzLmRhdGEubGVuZ3RoOysrcillW24rK109dGhpcy5kYXRhW3JdLGVbbisrXT10aGlzLmRhdGFbcl0sZVtuKytdPXRoaXMuZGF0YVtyXSxlW24rK109MjU1O2JyZWFrO2Nhc2UgMzpmb3IobGV0IHI9MCxuPTA7cjx0aGlzLmRhdGEubGVuZ3RoO3IrPTMpZVtuKytdPXRoaXMuZGF0YVtyXSxlW24rK109dGhpcy5kYXRhW3IrMV0sZVtuKytdPXRoaXMuZGF0YVtyKzJdLGVbbisrXT0yNTU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYENvbnZlcnNpb24gZmFpbGVkIGR1ZSB0byB1bnN1cHBvcnRlZCBudW1iZXIgb2YgY2hhbm5lbHM6ICR7dGhpcy5jaGFubmVsc31gKX1yZXR1cm4gdGhpcy5fdXBkYXRlKGUsdGhpcy53aWR0aCx0aGlzLmhlaWdodCw0KX1hc3luYyByZXNpemUoZSxyLHtyZXNhbXBsZTpuPTJ9PXt9KXtsZXQgYT1VMVtuXT8/bjtpZihPdCl7Y29uc3QgaT10aGlzLmNoYW5uZWxzLHM9dGhpcy50b0NhbnZhcygpLG89Q3IoZSxyKS5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBvLmRyYXdJbWFnZShzLDAsMCxlLHIpLG5ldyBtdChvLmdldEltYWdlRGF0YSgwLDAsZSxyKS5kYXRhLGUsciw0KS5jb252ZXJ0KGkpfWVsc2V7bGV0IGk9dGhpcy50b1NoYXJwKCk7c3dpdGNoKGEpe2Nhc2UiYm94IjpjYXNlImhhbW1pbmciOihhPT09ImJveCJ8fGE9PT0iaGFtbWluZyIpJiYoY29uc29sZS53YXJuKGBSZXNhbXBsaW5nIG1ldGhvZCAke2F9IGlzIG5vdCB5ZXQgc3VwcG9ydGVkLiBVc2luZyBiaWxpbmVhciBpbnN0ZWFkLmApLGE9ImJpbGluZWFyIik7Y2FzZSJuZWFyZXN0IjpjYXNlImJpbGluZWFyIjpjYXNlImJpY3ViaWMiOmk9aS5hZmZpbmUoW2UvdGhpcy53aWR0aCwwLDAsci90aGlzLmhlaWdodF0se2ludGVycG9sYXRvcjphfSk7YnJlYWs7Y2FzZSJsYW5jem9zIjppPWkucmVzaXplKHt3aWR0aDplLGhlaWdodDpyLGZpdDoiZmlsbCIsa2VybmVsOiJsYW5jem9zMyJ9KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgUmVzYW1wbGluZyBtZXRob2QgJHthfSBpcyBub3Qgc3VwcG9ydGVkLmApfXJldHVybiBhd2FpdCBmcihpKX19YXN5bmMgcGFkKFtlLHIsbixhXSl7aWYoZT1NYXRoLm1heChlLDApLHI9TWF0aC5tYXgociwwKSxuPU1hdGgubWF4KG4sMCksYT1NYXRoLm1heChhLDApLGU9PT0wJiZyPT09MCYmbj09PTAmJmE9PT0wKXJldHVybiB0aGlzO2lmKE90KXtjb25zdCBpPXRoaXMuY2hhbm5lbHMscz10aGlzLnRvQ2FudmFzKCksbz10aGlzLndpZHRoK2UrcixsPXRoaXMuaGVpZ2h0K24rYSxkPUNyKG8sbCkuZ2V0Q29udGV4dCgiMmQiKTtyZXR1cm4gZC5kcmF3SW1hZ2UocywwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCxlLG4sbyxsKSxuZXcgbXQoZC5nZXRJbWFnZURhdGEoMCwwLG8sbCkuZGF0YSxvLGwsNCkuY29udmVydChpKX1lbHNle2NvbnN0IGk9dGhpcy50b1NoYXJwKCkuZXh0ZW5kKHtsZWZ0OmUscmlnaHQ6cix0b3A6bixib3R0b206YX0pO3JldHVybiBhd2FpdCBmcihpKX19YXN5bmMgY3JvcChbZSxyLG4sYV0pe2lmKGU9TWF0aC5tYXgoZSwwKSxyPU1hdGgubWF4KHIsMCksbj1NYXRoLm1pbihuLHRoaXMud2lkdGgtMSksYT1NYXRoLm1pbihhLHRoaXMuaGVpZ2h0LTEpLGU9PT0wJiZyPT09MCYmbj09PXRoaXMud2lkdGgtMSYmYT09PXRoaXMuaGVpZ2h0LTEpcmV0dXJuIHRoaXM7Y29uc3QgaT1uLWUrMSxzPWEtcisxO2lmKE90KXtjb25zdCBvPXRoaXMuY2hhbm5lbHMsbD10aGlzLnRvQ2FudmFzKCksZD1DcihpLHMpLmdldENvbnRleHQoIjJkIik7cmV0dXJuIGQuZHJhd0ltYWdlKGwsZSxyLGkscywwLDAsaSxzKSxuZXcgbXQoZC5nZXRJbWFnZURhdGEoMCwwLGkscykuZGF0YSxpLHMsNCkuY29udmVydChvKX1lbHNle2NvbnN0IG89dGhpcy50b1NoYXJwKCkuZXh0cmFjdCh7bGVmdDplLHRvcDpyLHdpZHRoOmksaGVpZ2h0OnN9KTtyZXR1cm4gYXdhaXQgZnIobyl9fWFzeW5jIGNlbnRlcl9jcm9wKGUscil7aWYodGhpcy53aWR0aD09PWUmJnRoaXMuaGVpZ2h0PT09cilyZXR1cm4gdGhpcztjb25zdCBuPSh0aGlzLndpZHRoLWUpLzIsYT0odGhpcy5oZWlnaHQtcikvMjtpZihPdCl7Y29uc3QgaT10aGlzLmNoYW5uZWxzLHM9dGhpcy50b0NhbnZhcygpLG89Q3IoZSxyKS5nZXRDb250ZXh0KCIyZCIpO2xldCBsPTAsZD0wLGM9MCx1PTA7cmV0dXJuIG4+PTA/bD1uOmM9LW4sYT49MD9kPWE6dT0tYSxvLmRyYXdJbWFnZShzLGwsZCxlLHIsYyx1LGUsciksbmV3IG10KG8uZ2V0SW1hZ2VEYXRhKDAsMCxlLHIpLmRhdGEsZSxyLDQpLmNvbnZlcnQoaSl9ZWxzZXtsZXQgaT10aGlzLnRvU2hhcnAoKTtpZihuPj0wJiZhPj0wKWk9aS5leHRyYWN0KHtsZWZ0Ok1hdGguZmxvb3IobiksdG9wOk1hdGguZmxvb3IoYSksd2lkdGg6ZSxoZWlnaHQ6cn0pO2Vsc2UgaWYobjw9MCYmYTw9MCl7Y29uc3Qgcz1NYXRoLmZsb29yKC1hKSxvPU1hdGguZmxvb3IoLW4pO2k9aS5leHRlbmQoe3RvcDpzLGxlZnQ6byxyaWdodDplLXRoaXMud2lkdGgtbyxib3R0b206ci10aGlzLmhlaWdodC1zfSl9ZWxzZXtsZXQgcz1bMCwwXSxvPTA7YTwwPyhzWzBdPU1hdGguZmxvb3IoLWEpLHNbMV09ci10aGlzLmhlaWdodC1zWzBdKTpvPU1hdGguZmxvb3IoYSk7bGV0IGw9WzAsMF0sZD0wO248MD8obFswXT1NYXRoLmZsb29yKC1uKSxsWzFdPWUtdGhpcy53aWR0aC1sWzBdKTpkPU1hdGguZmxvb3IobiksaT1pLmV4dGVuZCh7dG9wOnNbMF0sYm90dG9tOnNbMV0sbGVmdDpsWzBdLHJpZ2h0OmxbMV19KS5leHRyYWN0KHtsZWZ0OmQsdG9wOm8sd2lkdGg6ZSxoZWlnaHQ6cn0pfXJldHVybiBhd2FpdCBmcihpKX19YXN5bmMgdG9CbG9iKGU9ImltYWdlL3BuZyIscj0xKXtpZighT3QpdGhyb3cgbmV3IEVycm9yKCJ0b0Jsb2IoKSBpcyBvbmx5IHN1cHBvcnRlZCBpbiBicm93c2VyIGVudmlyb25tZW50cy4iKTtyZXR1cm4gYXdhaXQgdGhpcy50b0NhbnZhcygpLmNvbnZlcnRUb0Jsb2Ioe3R5cGU6ZSxxdWFsaXR5OnJ9KX10b1RlbnNvcihlPSJDSFciKXtsZXQgcj1uZXcgcmUoInVpbnQ4IixuZXcgVWludDhBcnJheSh0aGlzLmRhdGEpLFt0aGlzLmhlaWdodCx0aGlzLndpZHRoLHRoaXMuY2hhbm5lbHNdKTtpZihlIT09IkhXQyIpaWYoZT09PSJDSFciKXI9ci5wZXJtdXRlKDIsMCwxKTtlbHNlIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY2hhbm5lbCBmb3JtYXQ6ICR7ZX1gKTtyZXR1cm4gcn10b0NhbnZhcygpe2lmKCFPdCl0aHJvdyBuZXcgRXJyb3IoInRvQ2FudmFzKCkgaXMgb25seSBzdXBwb3J0ZWQgaW4gYnJvd3NlciBlbnZpcm9ubWVudHMuIik7Y29uc3QgZT10aGlzLmNsb25lKCkucmdiYSgpLHI9Q3IoZS53aWR0aCxlLmhlaWdodCksbj1uZXcgVG0oZS5kYXRhLGUud2lkdGgsZS5oZWlnaHQpO3JldHVybiByLmdldENvbnRleHQoIjJkIikucHV0SW1hZ2VEYXRhKG4sMCwwKSxyfV91cGRhdGUoZSxyLG4sYT1udWxsKXtyZXR1cm4gdGhpcy5kYXRhPWUsdGhpcy53aWR0aD1yLHRoaXMuaGVpZ2h0PW4sYSE9PW51bGwmJih0aGlzLmNoYW5uZWxzPWEpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IG10KHRoaXMuZGF0YS5zbGljZSgpLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsdGhpcy5jaGFubmVscyl9Y29udmVydChlKXtpZih0aGlzLmNoYW5uZWxzPT09ZSlyZXR1cm4gdGhpcztzd2l0Y2goZSl7Y2FzZSAxOnRoaXMuZ3JheXNjYWxlKCk7YnJlYWs7Y2FzZSAzOnRoaXMucmdiKCk7YnJlYWs7Y2FzZSA0OnRoaXMucmdiYSgpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBDb252ZXJzaW9uIGZhaWxlZCBkdWUgdG8gdW5zdXBwb3J0ZWQgbnVtYmVyIG9mIGNoYW5uZWxzOiAke3RoaXMuY2hhbm5lbHN9YCl9cmV0dXJuIHRoaXN9YXN5bmMgc2F2ZShlKXtpZihPdCl7aWYoTjEpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gc2F2ZSBhbiBpbWFnZSBmcm9tIGEgV2ViIFdvcmtlci4iKTtjb25zdCByPWUuc3BsaXQoIi4iKS5wb3AoKS50b0xvd2VyQ2FzZSgpLG49VzEuZ2V0KHIpPz8iaW1hZ2UvcG5nIixhPWF3YWl0IHRoaXMudG9CbG9iKG4pLGk9VVJMLmNyZWF0ZU9iamVjdFVSTChhKSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtzLmhyZWY9aSxzLmRvd25sb2FkPWUscy5jbGljaygpLHMucmVtb3ZlKCl9ZWxzZXtpZih0dC51c2VGUylyZXR1cm4gYXdhaXQgdGhpcy50b1NoYXJwKCkudG9GaWxlKGUpO3Rocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIHNhdmUgdGhlIGltYWdlIGJlY2F1c2UgZmlsZXN5c3RlbSBpcyBkaXNhYmxlZCBpbiB0aGlzIGVudmlyb25tZW50LiIpfX10b1NoYXJwKCl7aWYoT3QpdGhyb3cgbmV3IEVycm9yKCJ0b1NoYXJwKCkgaXMgb25seSBzdXBwb3J0ZWQgaW4gc2VydmVyLXNpZGUgZW52aXJvbm1lbnRzLiIpO3JldHVybiBLZSh0aGlzLmRhdGEse3Jhdzp7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsY2hhbm5lbHM6dGhpcy5jaGFubmVsc319KX19YXN5bmMgZnVuY3Rpb24gTDEodCxlKXtpZih0eXBlb2YgQXVkaW9Db250ZXh0PiJ1Iil0aHJvdyBFcnJvcigiVW5hYmxlIHRvIGxvYWQgYXVkaW8gZnJvbSBwYXRoL1VSTCBzaW5jZSBgQXVkaW9Db250ZXh0YCBpcyBub3QgYXZhaWxhYmxlIGluIHlvdXIgZW52aXJvbm1lbnQuIEluc3RlYWQsIGF1ZGlvIGRhdGEgc2hvdWxkIGJlIHBhc3NlZCBkaXJlY3RseSB0byB0aGUgcGlwZWxpbmUvcHJvY2Vzc29yLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgc29tZSBleGFtcGxlIGNvZGUsIHNlZSBodHRwczovL2h1Z2dpbmdmYWNlLmNvL2RvY3MvdHJhbnNmb3JtZXJzLmpzL2d1aWRlcy9ub2RlLWF1ZGlvLXByb2Nlc3NpbmcuIik7Y29uc3Qgcj1hd2FpdChhd2FpdCBwYSh0KSkuYXJyYXlCdWZmZXIoKSxuPW5ldyBBdWRpb0NvbnRleHQoe3NhbXBsZVJhdGU6ZX0pO3R5cGVvZiBlPiJ1IiYmY29uc29sZS53YXJuKGBObyBzYW1wbGluZyByYXRlIHByb3ZpZGVkLCB1c2luZyBkZWZhdWx0IG9mICR7bi5zYW1wbGVSYXRlfUh6LmApO2NvbnN0IGE9YXdhaXQgbi5kZWNvZGVBdWRpb0RhdGEocik7bGV0IGk7aWYoYS5udW1iZXJPZkNoYW5uZWxzPT09Mil7Y29uc3Qgcz1NYXRoLnNxcnQoMiksbz1hLmdldENoYW5uZWxEYXRhKDApLGw9YS5nZXRDaGFubmVsRGF0YSgxKTtpPW5ldyBGbG9hdDMyQXJyYXkoby5sZW5ndGgpO2ZvcihsZXQgZD0wO2Q8YS5sZW5ndGg7KytkKWlbZF09cyoob1tkXStsW2RdKS8yfWVsc2UgaT1hLmdldENoYW5uZWxEYXRhKDApO3JldHVybiBpfWZ1bmN0aW9uIE9tKHQpe2lmKHQ8MSlyZXR1cm4gbmV3IEZsb2F0NjRBcnJheTtpZih0PT09MSlyZXR1cm4gbmV3IEZsb2F0NjRBcnJheShbMV0pO2NvbnN0IGU9dC0xLHI9TWF0aC5QSS9lLG49bmV3IEZsb2F0NjRBcnJheSh0KTtmb3IobGV0IGE9MDthPHQ7KythKXtjb25zdCBpPTIqYS1lO25bYV09LjUrLjUqTWF0aC5jb3MocippKX1yZXR1cm4gbn1jb25zdCBGMT17aHRrOnQ9PjI1OTUqTWF0aC5sb2cxMCgxK3QvNzAwKSxrYWxkaTp0PT4xMTI3Kk1hdGgubG9nKDErdC83MDApLHNsYW5leToodCxlPTFlMyxyPTE1LG49MjcvTWF0aC5sb2coNi40KSk9PnQ+PWU/citNYXRoLmxvZyh0L2UpKm46Myp0LzIwMH07ZnVuY3Rpb24gbm8odCxlPSJodGsiKXtjb25zdCByPUYxW2VdO2lmKCFyKXRocm93IG5ldyBFcnJvcignbWVsX3NjYWxlIHNob3VsZCBiZSBvbmUgb2YgImh0ayIsICJzbGFuZXkiIG9yICJrYWxkaSIuJyk7cmV0dXJuIHR5cGVvZiB0PT0ibnVtYmVyIj9yKHQpOnQubWFwKG49PnIobikpfWNvbnN0IFYxPXtodGs6dD0+NzAwKigxMCoqKHQvMjU5NSktMSksa2FsZGk6dD0+NzAwKihNYXRoLmV4cCh0LzExMjcpLTEpLHNsYW5leToodCxlPTFlMyxyPTE1LG49TWF0aC5sb2coNi40KS8yNyk9PnQ+PXI/ZSpNYXRoLmV4cChuKih0LXIpKToyMDAqdC8zfTtmdW5jdGlvbiBIMSh0LGU9Imh0ayIpe2NvbnN0IHI9VjFbZV07aWYoIXIpdGhyb3cgbmV3IEVycm9yKCdtZWxfc2NhbGUgc2hvdWxkIGJlIG9uZSBvZiAiaHRrIiwgInNsYW5leSIgb3IgImthbGRpIi4nKTtyZXR1cm4gdHlwZW9mIHQ9PSJudW1iZXIiP3IodCk6dC5tYXAobj0+cihuKSl9ZnVuY3Rpb24gRzEodCxlKXtjb25zdCByPUZsb2F0NjRBcnJheS5mcm9tKHtsZW5ndGg6ZS5sZW5ndGgtMX0sKHMsbyk9PmVbbysxXS1lW29dKSxuPUFycmF5LmZyb20oe2xlbmd0aDp0Lmxlbmd0aH0sKCk9Pm5ldyBBcnJheShlLmxlbmd0aCkpO2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7KytzKXtjb25zdCBvPW5bc107Zm9yKGxldCBsPTA7bDxlLmxlbmd0aDsrK2wpb1tsXT1lW2xdLXRbc119Y29uc3QgYT1lLmxlbmd0aC0yLGk9QXJyYXkuZnJvbSh7bGVuZ3RoOmF9LCgpPT5uZXcgQXJyYXkodC5sZW5ndGgpKTtmb3IobGV0IHM9MDtzPHQubGVuZ3RoOysrcyl7Y29uc3Qgbz1uW3NdO2ZvcihsZXQgbD0wO2w8YTsrK2wpe2NvbnN0IGQ9LW9bbF0vcltsXSxjPW9bbCsyXS9yW2wrMV07aVtsXVtzXT1NYXRoLm1heCgwLE1hdGgubWluKGQsYykpfX1yZXR1cm4gaX1mdW5jdGlvbiBNbSh0LGUscil7Y29uc3Qgbj0oZS10KS8oci0xKTtyZXR1cm4gRmxvYXQ2NEFycmF5LmZyb20oe2xlbmd0aDpyfSwoYSxpKT0+dCtuKmkpfWZ1bmN0aW9uIEduKHQsZSxyLG4sYSxpPW51bGwscz0iaHRrIixvPSExKXtpZihpIT09bnVsbCYmaSE9PSJzbGFuZXkiKXRocm93IG5ldyBFcnJvcignbm9ybSBtdXN0IGJlIG9uZSBvZiBudWxsIG9yICJzbGFuZXkiJyk7Y29uc3QgbD1ubyhyLHMpLGQ9bm8obixzKSxjPU1tKGwsZCxlKzIpO2xldCB1PUgxKGMscyksaDtpZihvKXtjb25zdCBnPWEvKHQqMik7aD1ubyhGbG9hdDY0QXJyYXkuZnJvbSh7bGVuZ3RoOnR9LCh5LHcpPT53KmcpLHMpLHU9Y31lbHNlIGg9TW0oMCxNYXRoLmZsb29yKGEvMiksdCk7Y29uc3QgZj1HMShoLHUpO2lmKGkhPT1udWxsJiZpPT09InNsYW5leSIpZm9yKGxldCBnPTA7ZzxlOysrZyl7Y29uc3QgeT1mW2ddLHc9Mi8odVtnKzJdLXVbZ10pO2ZvcihsZXQgdj0wO3Y8dDsrK3YpeVt2XSo9d31yZXR1cm4gZn1mdW5jdGlvbiBxMSh0LGUscil7Y29uc3Qgbj1uZXcgdC5jb25zdHJ1Y3Rvcih0Lmxlbmd0aCtlK3IpLGE9dC5sZW5ndGgtMTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoOysraSluW2UraV09dFtpXTtmb3IobGV0IGk9MTtpPD1lOysraSluW2UtaV09dFtkYShpLGEpXTtmb3IobGV0IGk9MTtpPD1yOysraSluW2ErZStpXT10W2RhKGEtaSxhKV07cmV0dXJuIG59ZnVuY3Rpb24gem0odCxlLHIsbixhKXtpZihyPD0wKXRocm93IG5ldyBFcnJvcigicmVmZXJlbmNlIG11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm8iKTtpZihuPD0wKXRocm93IG5ldyBFcnJvcigibWluX3ZhbHVlIG11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm8iKTtyPU1hdGgubWF4KG4scik7Y29uc3QgaT1NYXRoLmxvZzEwKHIpO2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7KytzKXRbc109ZSpNYXRoLmxvZzEwKE1hdGgubWF4KG4sdFtzXSktaSk7aWYoYSE9PW51bGwpe2lmKGE8PTApdGhyb3cgbmV3IEVycm9yKCJkYl9yYW5nZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvIik7Y29uc3Qgcz1DdCh0KVswXS1hO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7KytvKXRbb109TWF0aC5tYXgodFtvXSxzKX1yZXR1cm4gdH1mdW5jdGlvbiBqMSh0LGU9MSxyPTFlLTUsbj1udWxsKXtyZXR1cm4gem0odCwyMCxlLHIsbil9ZnVuY3Rpb24gSzEodCxlPTEscj0xZS0xMCxuPW51bGwpe3JldHVybiB6bSh0LDEwLGUscixuKX1mdW5jdGlvbiB0aSh0LGUscixuLHtmZnRfbGVuZ3RoOmE9bnVsbCxwb3dlcjppPTEsY2VudGVyOnM9ITAscGFkX21vZGU6bz0icmVmbGVjdCIsb25lc2lkZWQ6bD0hMCxwcmVlbXBoYXNpczpkPW51bGwsbWVsX2ZpbHRlcnM6Yz1udWxsLG1lbF9mbG9vcjp1PTFlLTEwLGxvZ19tZWw6aD1udWxsLHJlZmVyZW5jZTpmPTEsbWluX3ZhbHVlOmc9MWUtMTAsZGJfcmFuZ2U6eT1udWxsLHJlbW92ZV9kY19vZmZzZXQ6dz1udWxsLG1heF9udW1fZnJhbWVzOnY9bnVsbCxkb19wYWQ6az0hMCx0cmFuc3Bvc2U6RT0hMX09e30pe2NvbnN0IHg9ZS5sZW5ndGg7aWYoYT09PW51bGwmJihhPXIpLHI+YSl0aHJvdyBFcnJvcihgZnJhbWVfbGVuZ3RoICgke3J9KSBtYXkgbm90IGJlIGxhcmdlciB0aGFuIGZmdF9sZW5ndGggKCR7YX0pYCk7aWYoeCE9PXIpdGhyb3cgbmV3IEVycm9yKGBMZW5ndGggb2YgdGhlIHdpbmRvdyAoJHt4fSkgbXVzdCBlcXVhbCBmcmFtZV9sZW5ndGggKCR7cn0pYCk7aWYobjw9MCl0aHJvdyBuZXcgRXJyb3IoImhvcF9sZW5ndGggbXVzdCBiZSBncmVhdGVyIHRoYW4gemVybyIpO2lmKHMpe2lmKG8hPT0icmVmbGVjdCIpdGhyb3cgbmV3IEVycm9yKGBwYWRfbW9kZT0iJHtvfSIgbm90IGltcGxlbWVudGVkIHlldC5gKTtjb25zdCBMPU1hdGguZmxvb3IoKGEtMSkvMikrMTt0PXExKHQsTCxMKX1jb25zdCBJPU1hdGguZmxvb3IoMStNYXRoLmZsb29yKCh0Lmxlbmd0aC1yKS9uKSksVD1sP01hdGguZmxvb3IoYS8yKSsxOmE7bGV0IEI9SSxVPUk7diE9PW51bGwmJih2Pkk/ayYmKFU9dik6VT1CPXYpO2NvbnN0IEg9bmV3IFRnKGEpLEs9bmV3IEZsb2F0NjRBcnJheShhKSxPPW5ldyBGbG9hdDY0QXJyYXkoSC5vdXRwdXRCdWZmZXJTaXplKSxHPW5ldyBBcnJheShCKTtmb3IobGV0IEw9MDtMPEI7KytMKXtjb25zdCBWPUwqbjtmb3IobGV0IFg9MDtYPHI7KytYKUtbWF09dFtWK1hdO2lmKHcpe2xldCBYPTA7Zm9yKGxldCBGPTA7RjxyOysrRilYKz1LW0ZdO2NvbnN0IHVlPVgvcjtmb3IobGV0IEY9MDtGPHI7KytGKUtbRl0tPXVlfWlmKGQhPT1udWxsKXtmb3IobGV0IFg9ci0xO1g+PTE7LS1YKUtbWF0tPWQqS1tYLTFdO0tbMF0qPTEtZH1mb3IobGV0IFg9MDtYPGUubGVuZ3RoOysrWClLW1hdKj1lW1hdO0gucmVhbFRyYW5zZm9ybShPLEspO2NvbnN0IHRlPW5ldyBBcnJheShUKTtmb3IobGV0IFg9MDtYPHRlLmxlbmd0aDsrK1gpe2NvbnN0IHVlPVg8PDE7dGVbWF09T1t1ZV0qKjIrT1t1ZSsxXSoqMn1HW0xdPXRlfWlmKGkhPT1udWxsJiZpIT09Mil7Y29uc3QgTD0yL2k7Zm9yKGxldCBWPTA7VjxHLmxlbmd0aDsrK1Ype2NvbnN0IHRlPUdbVl07Zm9yKGxldCBYPTA7WDx0ZS5sZW5ndGg7KytYKXRlW1hdKio9TH19Y29uc3QgbmU9Yy5sZW5ndGgscT1uZXcgRmxvYXQzMkFycmF5KG5lKlUpLFA9RT9bVSxuZV06W25lLFVdO2ZvcihsZXQgTD0wO0w8bmU7KytMKXtjb25zdCBWPWNbTF07Zm9yKGxldCB0ZT0wO3RlPEI7Kyt0ZSl7Y29uc3QgWD1HW3RlXTtsZXQgdWU9MDtmb3IobGV0IEY9MDtGPFQ7KytGKXVlKz1WW0ZdKlhbRl07cVtFP3RlKm5lK0w6TCpCK3RlXT1NYXRoLm1heCh1LHVlKX19aWYoaSE9PW51bGwmJmghPT1udWxsKXtjb25zdCBMPU1hdGgubWluKHEubGVuZ3RoLEIqbmUpO3N3aXRjaChoKXtjYXNlImxvZyI6Zm9yKGxldCBWPTA7VjxMOysrVilxW1ZdPU1hdGgubG9nKHFbVl0pO2JyZWFrO2Nhc2UibG9nMTAiOmZvcihsZXQgVj0wO1Y8TDsrK1YpcVtWXT1NYXRoLmxvZzEwKHFbVl0pO2JyZWFrO2Nhc2UiZEIiOmlmKGk9PT0xKWoxKHEsZixnLHkpO2Vsc2UgaWYoaT09PTIpSzEocSxmLGcseSk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCB1c2UgbG9nX21lbCBvcHRpb24gJyR7aH0nIHdpdGggcG93ZXIgJHtpfWApO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBsb2dfbWVsIG11c3QgYmUgb25lIG9mIG51bGwsICdsb2cnLCAnbG9nMTAnIG9yICdkQicuIEdvdCAnJHtofSdgKX19cmV0dXJue2RhdGE6cSxkaW1zOlB9fWZ1bmN0aW9uIHJpKHQsZSx7cGVyaW9kaWM6cj0hMCxmcmFtZV9sZW5ndGg6bj1udWxsLGNlbnRlcjphPSEwfT17fSl7Y29uc3QgaT1yP3QrMTp0O2xldCBzO3N3aXRjaChlKXtjYXNlImJveGNhciI6cz1uZXcgRmxvYXQ2NEFycmF5KGkpLmZpbGwoMSk7YnJlYWs7Y2FzZSJoYW5uIjpjYXNlImhhbm5fd2luZG93IjpzPU9tKGkpO2JyZWFrO2Nhc2UicG92ZXkiOnM9T20oaSkubWFwKG89Pk1hdGgucG93KG8sLjg1KSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gd2luZG93IHR5cGUgJHtlfS5gKX1pZihyJiYocz1zLnN1YmFycmF5KDAsdCkpLG49PT1udWxsKXJldHVybiBzO2lmKHQ+bil0aHJvdyBuZXcgRXJyb3IoYExlbmd0aCBvZiB0aGUgd2luZG93ICgke3R9KSBtYXkgbm90IGJlIGxhcmdlciB0aGFuIGZyYW1lX2xlbmd0aCAoJHtufSlgKTtyZXR1cm4gc31mdW5jdGlvbiBZMShbdCxlLHIsbl0pe3JldHVyblt0LXIvMixlLW4vMix0K3IvMixlK24vMl19ZnVuY3Rpb24gYW8odCxlPS41LHI9bnVsbCxuPSExKXtjb25zdCBhPXQubG9naXRzLGk9dC5wcmVkX2JveGVzLFtzLG8sbF09YS5kaW1zO2lmKHIhPT1udWxsJiZyLmxlbmd0aCE9PXMpdGhyb3cgRXJyb3IoIk1ha2Ugc3VyZSB0aGF0IHlvdSBwYXNzIGluIGFzIG1hbnkgdGFyZ2V0IHNpemVzIGFzIHRoZSBiYXRjaCBkaW1lbnNpb24gb2YgdGhlIGxvZ2l0cyIpO2xldCBkPVtdO2ZvcihsZXQgYz0wO2M8czsrK2Mpe2xldCB1PXIhPT1udWxsP3JbY106bnVsbCxoPXtib3hlczpbXSxjbGFzc2VzOltdLHNjb3JlczpbXX0sZj1hW2NdLGc9aVtjXTtmb3IobGV0IHk9MDt5PG87Kyt5KXtsZXQgdz1mW3ldLHY9W10saztpZihuKXtrPXcuc2lnbW9pZCgpLmRhdGE7Zm9yKGxldCBFPTA7RTxrLmxlbmd0aDsrK0Upa1tFXT5lJiZ2LnB1c2goRSl9ZWxzZXtsZXQgRT1DdCh3LmRhdGEpWzFdO2lmKEU9PT1sLTF8fChrPWR0KHcuZGF0YSksa1tFXTxlKSljb250aW51ZTt2LnB1c2goRSl9Zm9yKGNvbnN0IEUgb2Ygdil7bGV0IHg9Z1t5XS5kYXRhO3g9WTEoeCksdSE9PW51bGwmJih4PXgubWFwKChJLFQpPT5JKnVbKFQrMSklMl0pKSxoLmJveGVzLnB1c2goeCksaC5jbGFzc2VzLnB1c2goRSksaC5zY29yZXMucHVzaChrW0VdKX19ZC5wdXNoKGgpfXJldHVybiBkfWZ1bmN0aW9uIHFuKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHx0IGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5KSl0aHJvdyBuZXcgRXJyb3IoYCR7ZX0gZXhwZWN0cyBpbnB1dCB0byBiZSBhIEZsb2F0MzJBcnJheSBvciBhIEZsb2F0NjRBcnJheSwgYnV0IGdvdCAke3Q/LmNvbnN0cnVjdG9yPy5uYW1lPz90eXBlb2YgdH0gaW5zdGVhZC4gSWYgdXNpbmcgdGhlIGZlYXR1cmUgZXh0cmFjdG9yIGRpcmVjdGx5LCByZW1lbWJlciB0byB1c2UgXGByZWFkX2F1ZGlvKHVybCwgc2FtcGxpbmdfcmF0ZSlcYCB0byBvYnRhaW4gdGhlIHJhdyBhdWRpbyBkYXRhIG9mIHRoZSBmaWxlL3VybC5gKX1mdW5jdGlvbiBCbSh0LGUscj0wLG49bnVsbCl7Y29uc3QgYT10L2U7bGV0IGk9TWcoYSkqZTtyZXR1cm4gbiE9PW51bGwmJmk+biYmKGk9TWF0aC5mbG9vcihhKSplKSxpPHImJihpPU1hdGguY2VpbChhKSplKSxpfWZ1bmN0aW9uIGlvKFt0LGVdLHIpe3JldHVybltNYXRoLm1heChNYXRoLmZsb29yKHQvciksMSkqcixNYXRoLm1heChNYXRoLmZsb29yKGUvciksMSkqcl19Y2xhc3MgSXIgZXh0ZW5kcyB3dHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuY29uZmlnPWV9fWNsYXNzIGplIGV4dGVuZHMgSXJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5pbWFnZV9tZWFuPXRoaXMuY29uZmlnLmltYWdlX21lYW4/P3RoaXMuY29uZmlnLm1lYW4sdGhpcy5pbWFnZV9zdGQ9dGhpcy5jb25maWcuaW1hZ2Vfc3RkPz90aGlzLmNvbmZpZy5zdGQsdGhpcy5yZXNhbXBsZT10aGlzLmNvbmZpZy5yZXNhbXBsZT8/Mix0aGlzLmRvX3Jlc2NhbGU9dGhpcy5jb25maWcuZG9fcmVzY2FsZT8/ITAsdGhpcy5yZXNjYWxlX2ZhY3Rvcj10aGlzLmNvbmZpZy5yZXNjYWxlX2ZhY3Rvcj8/MS8yNTUsdGhpcy5kb19ub3JtYWxpemU9dGhpcy5jb25maWcuZG9fbm9ybWFsaXplLHRoaXMuZG9fcmVzaXplPXRoaXMuY29uZmlnLmRvX3Jlc2l6ZSx0aGlzLmRvX3RodW1ibmFpbD10aGlzLmNvbmZpZy5kb190aHVtYm5haWwsdGhpcy5zaXplPXRoaXMuY29uZmlnLnNpemUsdGhpcy5zaXplX2RpdmlzaWJpbGl0eT10aGlzLmNvbmZpZy5zaXplX2RpdmlzaWJpbGl0eT8/dGhpcy5jb25maWcuc2l6ZV9kaXZpc29yLHRoaXMuZG9fY2VudGVyX2Nyb3A9dGhpcy5jb25maWcuZG9fY2VudGVyX2Nyb3AsdGhpcy5jcm9wX3NpemU9dGhpcy5jb25maWcuY3JvcF9zaXplLHRoaXMuZG9fY29udmVydF9yZ2I9dGhpcy5jb25maWcuZG9fY29udmVydF9yZ2I/PyEwLHRoaXMuZG9fY3JvcF9tYXJnaW49dGhpcy5jb25maWcuZG9fY3JvcF9tYXJnaW4sdGhpcy5wYWRfc2l6ZT10aGlzLmNvbmZpZy5wYWRfc2l6ZSx0aGlzLmRvX3BhZD10aGlzLmNvbmZpZy5kb19wYWQsdGhpcy5kb19wYWQmJiF0aGlzLnBhZF9zaXplJiZ0aGlzLnNpemUmJnRoaXMuc2l6ZS53aWR0aCE9PXZvaWQgMCYmdGhpcy5zaXplLmhlaWdodCE9PXZvaWQgMCYmKHRoaXMucGFkX3NpemU9dGhpcy5zaXplKX1hc3luYyB0aHVtYm5haWwoZSxyLG49Mil7Y29uc3QgYT1lLmhlaWdodCxpPWUud2lkdGgscz1yLmhlaWdodCxvPXIud2lkdGg7bGV0IGw9TWF0aC5taW4oYSxzKSxkPU1hdGgubWluKGksbyk7cmV0dXJuIGw9PT1hJiZkPT09aT9lOihhPmk/ZD1NYXRoLmZsb29yKGkqbC9hKTppPmEmJihsPU1hdGguZmxvb3IoYSpkL2kpKSxhd2FpdCBlLnJlc2l6ZShkLGwse3Jlc2FtcGxlOm59KSl9YXN5bmMgY3JvcF9tYXJnaW4oZSxyPTIwMCl7Y29uc3Qgbj1lLmNsb25lKCkuZ3JheXNjYWxlKCksYT1rbyhuLmRhdGEpWzBdLGk9Q3Qobi5kYXRhKVswXS1hO2lmKGk9PT0wKXJldHVybiBlO2NvbnN0IHM9ci8yNTU7bGV0IG89bi53aWR0aCxsPW4uaGVpZ2h0LGQ9MCxjPTA7Zm9yKGxldCB1PTA7dTxuLmhlaWdodDsrK3Upe2NvbnN0IGg9dSpuLndpZHRoO2ZvcihsZXQgZj0wO2Y8bi53aWR0aDsrK2YpKG4uZGF0YVtoK2ZdLWEpL2k8cyYmKG89TWF0aC5taW4obyxmKSxsPU1hdGgubWluKGwsdSksZD1NYXRoLm1heChkLGYpLGM9TWF0aC5tYXgoYyx1KSl9cmV0dXJuIGU9YXdhaXQgZS5jcm9wKFtvLGwsZCxjXSksZX1wYWRfaW1hZ2UoZSxyLG4se21vZGU6YT0iY29uc3RhbnQiLGNlbnRlcjppPSExLGNvbnN0YW50X3ZhbHVlczpzPTB9PXt9KXtjb25zdFtvLGwsZF09cjtsZXQgYyx1O2lmKHR5cGVvZiBuPT0ibnVtYmVyIj8oYz1uLHU9bik6KGM9bi53aWR0aCx1PW4uaGVpZ2h0KSxjIT09bHx8dSE9PW8pe2NvbnN0IGg9bmV3IEZsb2F0MzJBcnJheShjKnUqZCk7aWYoQXJyYXkuaXNBcnJheShzKSlmb3IobGV0IHk9MDt5PGgubGVuZ3RoOysreSloW3ldPXNbeSVkXTtlbHNlIHMhPT0wJiZoLmZpbGwocyk7Y29uc3RbZixnXT1pP1tNYXRoLmZsb29yKChjLWwpLzIpLE1hdGguZmxvb3IoKHUtbykvMildOlswLDBdO2ZvcihsZXQgeT0wO3k8bzsrK3kpe2NvbnN0IHc9KHkrZykqYyx2PXkqbDtmb3IobGV0IGs9MDtrPGw7KytrKXtjb25zdCBFPSh3K2srZikqZCx4PSh2K2spKmQ7Zm9yKGxldCBJPTA7STxkOysrSSloW0UrSV09ZVt4K0ldfX1pZihhPT09InN5bW1ldHJpYyIpe2lmKGkpdGhyb3cgbmV3IEVycm9yKCJgY2VudGVyYCBwYWRkaW5nIGlzIG5vdCBzdXBwb3J0ZWQgd2hlbiBgbW9kZWAgaXMgc2V0IHRvIGBzeW1tZXRyaWNgLiIpO2NvbnN0IHk9by0xLHc9bC0xO2ZvcihsZXQgdj0wO3Y8dTsrK3Ype2NvbnN0IGs9dipjLEU9ZGEodix5KSpsO2ZvcihsZXQgeD0wO3g8YzsrK3gpe2lmKHY8byYmeDxsKWNvbnRpbnVlO2NvbnN0IEk9KGsreCkqZCxUPShFK2RhKHgsdykpKmQ7Zm9yKGxldCBCPTA7QjxkOysrQiloW0krQl09ZVtUK0JdfX19ZT1oLHI9W3UsYyxkXX1yZXR1cm5bZSxyXX1yZXNjYWxlKGUpe2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7KytyKWVbcl09dGhpcy5yZXNjYWxlX2ZhY3RvciplW3JdfWdldF9yZXNpemVfb3V0cHV0X2ltYWdlX3NpemUoZSxyKXtjb25zdFtuLGFdPWUuc2l6ZTtsZXQgaSxzO2lmKHRoaXMuZG9fdGh1bWJuYWlsKXtjb25zdHtoZWlnaHQ6byx3aWR0aDpsfT1yO2k9TWF0aC5taW4obyxsKX1lbHNlIE51bWJlci5pc0ludGVnZXIocik/KGk9cixzPXRoaXMuY29uZmlnLm1heF9zaXplPz9pKTpyIT09dm9pZCAwJiYoaT1yLnNob3J0ZXN0X2VkZ2Uscz1yLmxvbmdlc3RfZWRnZSk7aWYoaSE9PXZvaWQgMHx8cyE9PXZvaWQgMCl7Y29uc3Qgbz1pPT09dm9pZCAwPzE6TWF0aC5tYXgoaS9uLGkvYSksbD1uKm8sZD1hKm8sYz1zPT09dm9pZCAwPzE6TWF0aC5taW4ocy9sLHMvZCk7bGV0IHU9TWF0aC5mbG9vcihOdW1iZXIoKGwqYykudG9GaXhlZCgyKSkpLGg9TWF0aC5mbG9vcihOdW1iZXIoKGQqYykudG9GaXhlZCgyKSkpO3JldHVybiB0aGlzLnNpemVfZGl2aXNpYmlsaXR5IT09dm9pZCAwJiYoW3UsaF09aW8oW3UsaF0sdGhpcy5zaXplX2RpdmlzaWJpbGl0eSkpLFt1LGhdfWVsc2UgaWYociE9PXZvaWQgMCYmci53aWR0aCE9PXZvaWQgMCYmci5oZWlnaHQhPT12b2lkIDApe2xldCBvPXIud2lkdGgsbD1yLmhlaWdodDtpZih0aGlzLmNvbmZpZy5rZWVwX2FzcGVjdF9yYXRpbyYmdGhpcy5jb25maWcuZW5zdXJlX211bHRpcGxlX29mKXtsZXQgZD1sL2EsYz1vL247TWF0aC5hYnMoMS1jKTxNYXRoLmFicygxLWQpP2Q9YzpjPWQsbD1CbShkKmEsdGhpcy5jb25maWcuZW5zdXJlX211bHRpcGxlX29mKSxvPUJtKGMqbix0aGlzLmNvbmZpZy5lbnN1cmVfbXVsdGlwbGVfb2YpfXJldHVybltvLGxdfWVsc2V7aWYodGhpcy5zaXplX2RpdmlzaWJpbGl0eSE9PXZvaWQgMClyZXR1cm4gaW8oW24sYV0sdGhpcy5zaXplX2RpdmlzaWJpbGl0eSk7dGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgcmVzaXplIGltYWdlIGR1ZSB0byB1bnN1cHBvcnRlZCBcYHRoaXMuc2l6ZVxgIG9wdGlvbiBpbiBjb25maWc6ICR7SlNPTi5zdHJpbmdpZnkocil9YCl9fWFzeW5jIHJlc2l6ZShlKXtjb25zdFtyLG5dPXRoaXMuZ2V0X3Jlc2l6ZV9vdXRwdXRfaW1hZ2Vfc2l6ZShlLHRoaXMuc2l6ZSk7cmV0dXJuIGF3YWl0IGUucmVzaXplKHIsbix7cmVzYW1wbGU6dGhpcy5yZXNhbXBsZX0pfWFzeW5jIHByZXByb2Nlc3MoZSx7ZG9fbm9ybWFsaXplOnI9bnVsbCxkb19wYWQ6bj1udWxsLGRvX2NvbnZlcnRfcmdiOmE9bnVsbCxkb19jb252ZXJ0X2dyYXlzY2FsZTppPW51bGx9PXt9KXt0aGlzLmRvX2Nyb3BfbWFyZ2luJiYoZT1hd2FpdCB0aGlzLmNyb3BfbWFyZ2luKGUpKTtjb25zdFtzLG9dPWUuc2l6ZTtpZihhPz90aGlzLmRvX2NvbnZlcnRfcmdiP2U9ZS5yZ2IoKTppJiYoZT1lLmdyYXlzY2FsZSgpKSx0aGlzLmRvX3Jlc2l6ZSYmKGU9YXdhaXQgdGhpcy5yZXNpemUoZSkpLHRoaXMuZG9fdGh1bWJuYWlsJiYoZT1hd2FpdCB0aGlzLnRodW1ibmFpbChlLHRoaXMuc2l6ZSx0aGlzLnJlc2FtcGxlKSksdGhpcy5kb19jZW50ZXJfY3JvcCl7bGV0IGgsZjtOdW1iZXIuaXNJbnRlZ2VyKHRoaXMuY3JvcF9zaXplKT8oaD10aGlzLmNyb3Bfc2l6ZSxmPXRoaXMuY3JvcF9zaXplKTooaD10aGlzLmNyb3Bfc2l6ZS53aWR0aCxmPXRoaXMuY3JvcF9zaXplLmhlaWdodCksZT1hd2FpdCBlLmNlbnRlcl9jcm9wKGgsZil9Y29uc3QgbD1bZS5oZWlnaHQsZS53aWR0aF07bGV0IGQ9RmxvYXQzMkFycmF5LmZyb20oZS5kYXRhKSxjPVtlLmhlaWdodCxlLndpZHRoLGUuY2hhbm5lbHNdO2lmKHRoaXMuZG9fcmVzY2FsZSYmdGhpcy5yZXNjYWxlKGQpLHI/P3RoaXMuZG9fbm9ybWFsaXplKXtsZXQgaD10aGlzLmltYWdlX21lYW47QXJyYXkuaXNBcnJheSh0aGlzLmltYWdlX21lYW4pfHwoaD1uZXcgQXJyYXkoZS5jaGFubmVscykuZmlsbChoKSk7bGV0IGY9dGhpcy5pbWFnZV9zdGQ7aWYoQXJyYXkuaXNBcnJheSh0aGlzLmltYWdlX3N0ZCl8fChmPW5ldyBBcnJheShlLmNoYW5uZWxzKS5maWxsKGgpKSxoLmxlbmd0aCE9PWUuY2hhbm5lbHN8fGYubGVuZ3RoIT09ZS5jaGFubmVscyl0aHJvdyBuZXcgRXJyb3IoYFdoZW4gc2V0IHRvIGFycmF5cywgdGhlIGxlbmd0aCBvZiBcYGltYWdlX21lYW5cYCAoJHtoLmxlbmd0aH0pIGFuZCBcYGltYWdlX3N0ZFxgICgke2YubGVuZ3RofSkgbXVzdCBtYXRjaCB0aGUgbnVtYmVyIG9mIGNoYW5uZWxzIGluIHRoZSBpbWFnZSAoJHtlLmNoYW5uZWxzfSkuYCk7Zm9yKGxldCBnPTA7ZzxkLmxlbmd0aDtnKz1lLmNoYW5uZWxzKWZvcihsZXQgeT0wO3k8ZS5jaGFubmVsczsrK3kpZFtnK3ldPShkW2creV0taFt5XSkvZlt5XX1pZihuPz90aGlzLmRvX3BhZCl7aWYodGhpcy5wYWRfc2l6ZSlbZCxjXT10aGlzLnBhZF9pbWFnZShkLFtlLmhlaWdodCxlLndpZHRoLGUuY2hhbm5lbHNdLHRoaXMucGFkX3NpemUpO2Vsc2UgaWYodGhpcy5zaXplX2RpdmlzaWJpbGl0eSl7Y29uc3RbaCxmXT1pbyhbY1sxXSxjWzBdXSx0aGlzLnNpemVfZGl2aXNpYmlsaXR5KTtbZCxjXT10aGlzLnBhZF9pbWFnZShkLGMse3dpZHRoOmgsaGVpZ2h0OmZ9KX19Y29uc3QgdT1uZXcgcmUoImZsb2F0MzIiLGQsYykucGVybXV0ZSgyLDAsMSk7cmV0dXJue29yaWdpbmFsX3NpemU6W28sc10scmVzaGFwZWRfaW5wdXRfc2l6ZTpsLHBpeGVsX3ZhbHVlczp1fX1hc3luYyBfY2FsbChlLC4uLnIpe0FycmF5LmlzQXJyYXkoZSl8fChlPVtlXSk7Y29uc3Qgbj1hd2FpdCBQcm9taXNlLmFsbChlLm1hcChhPT50aGlzLnByZXByb2Nlc3MoYSkpKTtyZXR1cm57cGl4ZWxfdmFsdWVzOkRhKG4ubWFwKGE9PmEucGl4ZWxfdmFsdWVzKSwwKSxvcmlnaW5hbF9zaXplczpuLm1hcChhPT5hLm9yaWdpbmFsX3NpemUpLHJlc2hhcGVkX2lucHV0X3NpemVzOm4ubWFwKGE9PmEucmVzaGFwZWRfaW5wdXRfc2l6ZSl9fX1jbGFzcyBYMSBleHRlbmRzIGple3Bvc3RfcHJvY2Vzc19zZW1hbnRpY19zZWdtZW50YXRpb24oZSxyPW51bGwpe2NvbnN0IG49ZS5sb2dpdHMsYT1uLmRpbXNbMF07aWYociE9PW51bGwmJnIubGVuZ3RoIT09YSl0aHJvdyBFcnJvcigiTWFrZSBzdXJlIHRoYXQgeW91IHBhc3MgaW4gYXMgbWFueSB0YXJnZXQgc2l6ZXMgYXMgdGhlIGJhdGNoIGRpbWVuc2lvbiBvZiB0aGUgbG9naXRzIik7Y29uc3QgaT1bXTtmb3IobGV0IHM9MDtzPGE7KytzKXtjb25zdCBvPXIhPT1udWxsP3Jbc106bnVsbDtsZXQgbD1uW3NdO28hPT1udWxsJiYobD0kbihsLG8sImJpbGluZWFyIiwhMSkpO2NvbnN0W2QsY109bz8/bC5kaW1zLnNsaWNlKC0yKSx1PW5ldyByZSgiaW50MzIiLG5ldyBJbnQzMkFycmF5KGQqYyksW2QsY10pLGg9bFswXS5kYXRhO2ZvcihsZXQgdz0xO3c8bC5kaW1zWzBdOysrdyl7Y29uc3Qgdj1sW3ddLmRhdGE7Zm9yKGxldCBrPTA7azx2Lmxlbmd0aDsrK2spdltrXT5oW2tdJiYoaFtrXT12W2tdLHUuZGF0YVtrXT13KX1jb25zdCBmPW5ldyBBcnJheShsLmRpbXNbMF0pLGc9dS5kYXRhO2ZvcihsZXQgdz0wO3c8Zy5sZW5ndGg7Kyt3KXtjb25zdCB2PWdbd107Zlt2XT12fWNvbnN0IHk9Zi5maWx0ZXIodz0+dyE9PXZvaWQgMCk7aS5wdXNoKHtzZWdtZW50YXRpb246dSxsYWJlbHM6eX0pfXJldHVybiBpfX1jbGFzcyBSbSBleHRlbmRzIGple31jbGFzcyBRMSBleHRlbmRzIFJte31jbGFzcyBaMSBleHRlbmRzIGple31jbGFzcyBKMSBleHRlbmRzIGple31jbGFzcyBleCBleHRlbmRzIGple31jbGFzcyB0eCBleHRlbmRzIGple31jbGFzcyByeCBleHRlbmRzIGple31jbGFzcyBQbSBleHRlbmRzIGple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3JvcF9wY3Q9dGhpcy5jb25maWcuY3JvcF9wY3Q/PzIyNC8yNTZ9YXN5bmMgcmVzaXplKGUpe2NvbnN0IHI9dGhpcy5zaXplPy5zaG9ydGVzdF9lZGdlO2lmKHI9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJTaXplIGRpY3Rpb25hcnkgbXVzdCBjb250YWluICdzaG9ydGVzdF9lZGdlJyBrZXkuIik7aWYocjwzODQpe2NvbnN0IG49TWF0aC5mbG9vcihyL3RoaXMuY3JvcF9wY3QpLFthLGldPXRoaXMuZ2V0X3Jlc2l6ZV9vdXRwdXRfaW1hZ2Vfc2l6ZShlLHtzaG9ydGVzdF9lZGdlOm59KTtlPWF3YWl0IGUucmVzaXplKGEsaSx7cmVzYW1wbGU6dGhpcy5yZXNhbXBsZX0pLGU9YXdhaXQgZS5jZW50ZXJfY3JvcChyLHIpfWVsc2UgZT1hd2FpdCBlLnJlc2l6ZShyLHIse3Jlc2FtcGxlOnRoaXMucmVzYW1wbGV9KTtyZXR1cm4gZX19Y2xhc3MgbnggZXh0ZW5kcyBQbXt9Y2xhc3MgYXggZXh0ZW5kcyBqZXt9Y2xhc3MgaXggZXh0ZW5kcyBqZXt9Y2xhc3Mgc3ggZXh0ZW5kcyBqZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmluY2x1ZGVfdG9wPXRoaXMuY29uZmlnLmluY2x1ZGVfdG9wPz8hMCx0aGlzLmluY2x1ZGVfdG9wJiYodGhpcy5pbWFnZV9zdGQ9dGhpcy5pbWFnZV9zdGQubWFwKHI9PnIqcikpfX1jbGFzcyBveCBleHRlbmRzIGple31jbGFzcyBEbSBleHRlbmRzIGple3Bvc3RfcHJvY2Vzc19vYmplY3RfZGV0ZWN0aW9uKC4uLmUpe3JldHVybiBhbyguLi5lKX19Y2xhc3MgbHggZXh0ZW5kcyBEbXt9Y2xhc3MgdXggZXh0ZW5kcyBqZXt9Y2xhc3MgZHggZXh0ZW5kcyBqZXt9Y2xhc3MgTm0gZXh0ZW5kcyBqZXtwYWRfaW1hZ2UoZSxyLG4sYT17fSl7Y29uc3RbaSxzLG9dPXI7bGV0IGw9dGhpcy5pbWFnZV9tZWFuO0FycmF5LmlzQXJyYXkodGhpcy5pbWFnZV9tZWFuKXx8KGw9bmV3IEFycmF5KG8pLmZpbGwobCkpO2xldCBkPXRoaXMuaW1hZ2Vfc3RkO0FycmF5LmlzQXJyYXkoZCl8fChkPW5ldyBBcnJheShvKS5maWxsKGwpKTtjb25zdCBjPWwubWFwKCh1LGgpPT4tdS9kW2hdKTtyZXR1cm4gc3VwZXIucGFkX2ltYWdlKGUscixuLHtjZW50ZXI6ITAsY29uc3RhbnRfdmFsdWVzOmMsLi4uYX0pfX1jbGFzcyBjeCBleHRlbmRzIE5te31jbGFzcyBweCBleHRlbmRzIGple2FzeW5jIF9jYWxsKGUpe2NvbnN0IHI9YXdhaXQgc3VwZXIuX2NhbGwoZSksbj1bci5waXhlbF92YWx1ZXMuZGltc1swXSw2NCw2NF0sYT1uZXcgcmUoImludDY0IixuZXcgQmlnSW50NjRBcnJheShuLnJlZHVjZSgoaSxzKT0+aSpzKSkuZmlsbCgxbiksbik7cmV0dXJuey4uLnIscGl4ZWxfbWFzazphfX1wb3N0X3Byb2Nlc3Nfb2JqZWN0X2RldGVjdGlvbiguLi5lKXtyZXR1cm4gYW8oLi4uZSl9cmVtb3ZlX2xvd19hbmRfbm9fb2JqZWN0cyhlLHIsbixhKXtsZXQgaT1bXSxzPVtdLG89W107Zm9yKGxldCBsPTA7bDxlLmRpbXNbMF07KytsKXtsZXQgZD1lW2xdLGM9cltsXSx1PUN0KGQuZGF0YSlbMV07aWYodT09PWEpY29udGludWU7bGV0IGg9ZHQoZC5kYXRhKVt1XTtoPm4mJihpLnB1c2goYykscy5wdXNoKGgpLG8ucHVzaCh1KSl9cmV0dXJuW2kscyxvXX1jaGVja19zZWdtZW50X3ZhbGlkaXR5KGUscixuLGE9LjUsaT0uOCl7bGV0IHM9W10sbz0wLGw9MDtmb3IobGV0IGM9MDtjPGUubGVuZ3RoOysrYyllW2NdPT09biYmKHMucHVzaChjKSwrK28pLHJbbl0uZGF0YVtjXT49YSYmKytsO2xldCBkPW8+MCYmbD4wO3JldHVybiBkJiYoZD1vL2w+aSksW2Qsc119Y29tcHV0ZV9zZWdtZW50cyhlLHIsbixhLGkscz1udWxsLG89bnVsbCl7bGV0W2wsZF09bz8/ZVswXS5kaW1zLGM9bmV3IHJlKCJpbnQzMiIsbmV3IEludDMyQXJyYXkobCpkKSxbbCxkXSksdT1bXTtpZihvIT09bnVsbClmb3IobGV0IHk9MDt5PGUubGVuZ3RoOysreSllW3ldPSRuKGVbeV0sbywiYmlsaW5lYXIiLCExKTtsZXQgaD1uZXcgSW50MzJBcnJheShlWzBdLmRhdGEubGVuZ3RoKSxmPW5ldyBGbG9hdDMyQXJyYXkoZVswXS5kYXRhLmxlbmd0aCk7Zm9yKGxldCB5PTA7eTxlLmxlbmd0aDsrK3kpe2xldCB3PXJbeV07Zm9yKGxldCB2PTA7djxlW3ldLmRhdGEubGVuZ3RoOysrdillW3ldLmRhdGFbdl0qPXcsZVt5XS5kYXRhW3ZdPmZbdl0mJihoW3ZdPXksZlt2XT1lW3ldLmRhdGFbdl0pfWxldCBnPTA7Zm9yKGxldCB5PTA7eTxuLmxlbmd0aDsrK3kpe2xldCB3PW5beV0sW3Ysa109dGhpcy5jaGVja19zZWdtZW50X3ZhbGlkaXR5KGgsZSx5LGEsaSk7aWYodil7KytnO2ZvcihsZXQgRSBvZiBrKWMuZGF0YVtFXT1nO3UucHVzaCh7aWQ6ZyxsYWJlbF9pZDp3LHNjb3JlOnJbeV19KX19cmV0dXJuW2MsdV19cG9zdF9wcm9jZXNzX3Bhbm9wdGljX3NlZ21lbnRhdGlvbihlLHI9LjUsbj0uNSxhPS44LGk9bnVsbCxzPW51bGwpe2k9PT1udWxsJiYoY29uc29sZS53YXJuKCJgbGFiZWxfaWRzX3RvX2Z1c2VgIHVuc2V0LiBObyBpbnN0YW5jZSB3aWxsIGJlIGZ1c2VkLiIpLGk9bmV3IFNldCk7Y29uc3Qgbz1lLmxvZ2l0cyxsPWUucHJlZF9tYXNrcy5zaWdtb2lkKCk7bGV0W2QsYyx1XT1vLmRpbXM7aWYodS09MSxzIT09bnVsbCYmcy5sZW5ndGghPT1kKXRocm93IEVycm9yKCJNYWtlIHN1cmUgdGhhdCB5b3UgcGFzcyBpbiBhcyBtYW55IHRhcmdldCBzaXplcyBhcyB0aGUgYmF0Y2ggZGltZW5zaW9uIG9mIHRoZSBsb2dpdHMiKTtsZXQgaD1bXTtmb3IobGV0IGY9MDtmPGQ7KytmKXtsZXQgZz1zIT09bnVsbD9zW2ZdOm51bGwseT1vW2ZdLHc9bFtmXSxbdixrLEVdPXRoaXMucmVtb3ZlX2xvd19hbmRfbm9fb2JqZWN0cyh5LHcscix1KTtpZihFLmxlbmd0aD09PTApe2xldFtULEJdPWc/P3cuZGltcy5zbGljZSgtMiksVT1uZXcgcmUoImludDMyIixuZXcgSW50MzJBcnJheShUKkIpLmZpbGwoLTEpLFtULEJdKTtoLnB1c2goe3NlZ21lbnRhdGlvbjpVLHNlZ21lbnRzX2luZm86W119KTtjb250aW51ZX1sZXRbeCxJXT10aGlzLmNvbXB1dGVfc2VnbWVudHModixrLEUsbixhLGksZyk7aC5wdXNoKHtzZWdtZW50YXRpb246eCxzZWdtZW50c19pbmZvOkl9KX1yZXR1cm4gaH1wb3N0X3Byb2Nlc3NfaW5zdGFuY2Vfc2VnbWVudGF0aW9uKCl7dGhyb3cgRXJyb3IoIk5vdCBpbXBsZW1lbnRlZCB5ZXQiKX19Y2xhc3MgaHggZXh0ZW5kcyBqZXtwb3N0X3Byb2Nlc3Nfb2JqZWN0X2RldGVjdGlvbiguLi5lKXtyZXR1cm4gYW8oLi4uZSl9fWNsYXNzIGZ4IGV4dGVuZHMgamV7cmVzaGFwZV9pbnB1dF9wb2ludHMoZSxyLG4pe2U9c3RydWN0dXJlZENsb25lKGUpO2xldCBhPXlvKGUpO2lmKGEubGVuZ3RoPT09MylhPVsxLC4uLmFdLGU9W2VdO2Vsc2UgaWYoYS5sZW5ndGghPT00KXRocm93IEVycm9yKCJUaGUgaW5wdXRfcG9pbnRzIG11c3QgYmUgYSA0RCB0ZW5zb3Igb2Ygc2hhcGUgYGJhdGNoX3NpemVgLCBgcG9pbnRfYmF0Y2hfc2l6ZWAsIGBuYl9wb2ludHNfcGVyX2ltYWdlYCwgYDJgLiIpO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKXtsZXQgcz1yW2ldLG89bltpXSxsPVtvWzBdL3NbMF0sb1sxXS9zWzFdXTtmb3IobGV0IGQ9MDtkPGVbaV0ubGVuZ3RoOysrZClmb3IobGV0IGM9MDtjPGVbaV1bZF0ubGVuZ3RoOysrYylmb3IobGV0IHU9MDt1PGVbaV1bZF1bY10ubGVuZ3RoOysrdSllW2ldW2RdW2NdW3VdKj1sW3VdfXJldHVybiBuZXcgcmUoImZsb2F0MzIiLEZsb2F0MzJBcnJheS5mcm9tKGUuZmxhdCgxLzApKSxhKX1hZGRfaW5wdXRfbGFiZWxzKGUscil7bGV0IG49eW8oZSk7aWYobi5sZW5ndGg9PT0yKW49WzEsLi4ubl0sZT1bZV07ZWxzZSBpZihuLmxlbmd0aCE9PTMpdGhyb3cgRXJyb3IoIlRoZSBpbnB1dF9wb2ludHMgbXVzdCBiZSBhIDREIHRlbnNvciBvZiBzaGFwZSBgYmF0Y2hfc2l6ZWAsIGBwb2ludF9iYXRjaF9zaXplYCwgYG5iX3BvaW50c19wZXJfaW1hZ2VgLCBgMmAuIik7aWYobi5zb21lKChhLGkpPT5hIT09ci5kaW1zW2ldKSl0aHJvdyBFcnJvcihgVGhlIGZpcnN0ICR7bi5sZW5ndGh9IGRpbWVuc2lvbnMgb2YgJ2lucHV0X3BvaW50cycgYW5kICdpbnB1dF9sYWJlbHMnIG11c3QgYmUgdGhlIHNhbWUuYCk7cmV0dXJuIG5ldyByZSgiaW50NjQiLGUuZmxhdCgxLzApLm1hcChCaWdJbnQpLG4pfWFzeW5jIF9jYWxsKGUscj1udWxsLG49bnVsbCl7Y29uc3QgYT1hd2FpdCBzdXBlci5fY2FsbChlKTtpZihyJiYoYS5pbnB1dF9wb2ludHM9dGhpcy5yZXNoYXBlX2lucHV0X3BvaW50cyhyLGEub3JpZ2luYWxfc2l6ZXMsYS5yZXNoYXBlZF9pbnB1dF9zaXplcykpLG4pe2lmKCFhLmlucHV0X3BvaW50cyl0aHJvdyBFcnJvcigiYGlucHV0X3BvaW50c2AgbXVzdCBiZSBwcm92aWRlZCBpZiBgaW5wdXRfbGFiZWxzYCBhcmUgcHJvdmlkZWQuIik7YS5pbnB1dF9sYWJlbHM9dGhpcy5hZGRfaW5wdXRfbGFiZWxzKG4sYS5pbnB1dF9wb2ludHMpfXJldHVybiBhfXBvc3RfcHJvY2Vzc19tYXNrcyhlLHIsbix7bWFza190aHJlc2hvbGQ6YT0wLGJpbmFyaXplOmk9ITAscGFkX3NpemU6cz1udWxsfT17fSl7Y29uc3Qgbz1bXTtzPXM/P3RoaXMucGFkX3NpemU7Y29uc3QgbD1bcy5oZWlnaHQscy53aWR0aF07Zm9yKGxldCBkPTA7ZDxyLmxlbmd0aDsrK2Qpe2NvbnN0IGM9cltkXSx1PW5bZF0saD1lW2RdLGY9W107Zm9yKGxldCBnPTA7ZzxoLmRpbXNbMF07KytnKXtjb25zdCB5PWhbZ107bGV0IHc9JG4oeSxsLCJiaWxpbmVhciIsITEpO2lmKHc9dy5zbGljZShudWxsLFswLHVbMF1dLFswLHVbMV1dKSx3PSRuKHcsYywiYmlsaW5lYXIiLCExKSxpKXtjb25zdCB2PW5ldyBVaW50OEFycmF5KHcuZGF0YS5sZW5ndGgpO2ZvcihsZXQgaz0wO2s8dy5kYXRhLmxlbmd0aDsrK2spdy5kYXRhW2tdPmEmJih2W2tdPTEpO3c9bmV3IHJlKCJib29sIix2LHcuZGltcyl9Zi5wdXNoKHcpfW8ucHVzaChEYShmKSl9cmV0dXJuIG99Z2VuZXJhdGVfY3JvcF9ib3hlcyhlLHIse2Nyb3Bfbl9sYXllcnM6bj0wLG92ZXJsYXBfcmF0aW86YT01MTIvMTUwMCxwb2ludHNfcGVyX2Nyb3A6aT0zMixjcm9wX25fcG9pbnRzX2Rvd25zY2FsZV9mYWN0b3I6cz0xfT17fSl7fX1jbGFzcyBteCBleHRlbmRzIGple3BhZF9pbWFnZShlLHIsbixhPXt9KXtjb25zdFtpLHMsb109cjtyZXR1cm4gc3VwZXIucGFkX2ltYWdlKGUscix7d2lkdGg6cysobi1zJW4pJW4saGVpZ2h0OmkrKG4taSVuKSVufSx7bW9kZToic3ltbWV0cmljIixjZW50ZXI6ITEsY29uc3RhbnRfdmFsdWVzOi0xLC4uLmF9KX19Y2xhc3MgZ3ggZXh0ZW5kcyBqZXthc3luYyBfY2FsbChlLHIpe0FycmF5LmlzQXJyYXkoZSl8fChlPVtlXSksQXJyYXkuaXNBcnJheShyKXx8KHI9W3JdKTtjb25zdCBuPWF3YWl0IFByb21pc2UuYWxsKGUubWFwKGk9PnRoaXMucHJlcHJvY2VzcyhpKSkpLGE9YXdhaXQgUHJvbWlzZS5hbGwoci5tYXAoaT0+dGhpcy5wcmVwcm9jZXNzKGkse2RvX25vcm1hbGl6ZTohMSxkb19jb252ZXJ0X3JnYjohMSxkb19jb252ZXJ0X2dyYXlzY2FsZTohMH0pKSk7cmV0dXJue3BpeGVsX3ZhbHVlczpEYShuLm1hcCgoaSxzKT0+UGEoW2kucGl4ZWxfdmFsdWVzLGFbc10ucGl4ZWxfdmFsdWVzXSwwKSksMCksb3JpZ2luYWxfc2l6ZXM6bi5tYXAoaT0+aS5vcmlnaW5hbF9zaXplKSxyZXNoYXBlZF9pbnB1dF9zaXplczpuLm1hcChpPT5pLnJlc2hhcGVkX2lucHV0X3NpemUpfX19Y2xhc3MgX3ggZXh0ZW5kcyBJcntjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmNvbmZpZy5tZWxfZmlsdGVycz8/PUduKE1hdGguZmxvb3IoMSt0aGlzLmNvbmZpZy5uX2ZmdC8yKSx0aGlzLmNvbmZpZy5mZWF0dXJlX3NpemUsMCw4ZTMsdGhpcy5jb25maWcuc2FtcGxpbmdfcmF0ZSwic2xhbmV5Iiwic2xhbmV5IiksdGhpcy53aW5kb3c9cmkodGhpcy5jb25maWcubl9mZnQsImhhbm4iKX1fZXh0cmFjdF9mYmFua19mZWF0dXJlcyhlKXtjb25zdHtkYXRhOnIsZGltczpufT10aShlLHRoaXMud2luZG93LHRoaXMuY29uZmlnLm5fZmZ0LHRoaXMuY29uZmlnLmhvcF9sZW5ndGgse3Bvd2VyOjIsbWVsX2ZpbHRlcnM6dGhpcy5jb25maWcubWVsX2ZpbHRlcnMsbG9nX21lbDoibG9nMTAiLG1heF9udW1fZnJhbWVzOnRoaXMuY29uZmlnLm5iX21heF9mcmFtZXN9KSxhPUN0KHIpWzBdO2ZvcihsZXQgaT0wO2k8ci5sZW5ndGg7KytpKXJbaV09KE1hdGgubWF4KHJbaV0sYS04KSs0KS80O3JldHVybntkYXRhOnIsZGltczpufX1hc3luYyBfY2FsbChlKXtxbihlLCJXaGlzcGVyRmVhdHVyZUV4dHJhY3RvciIpO2xldCByO2UubGVuZ3RoPnRoaXMuY29uZmlnLm5fc2FtcGxlcz8oY29uc29sZS53YXJuKCJBdHRlbXB0aW5nIHRvIGV4dHJhY3QgZmVhdHVyZXMgZm9yIGF1ZGlvIGxvbmdlciB0aGFuIDMwIHNlY29uZHMuIElmIHVzaW5nIGEgcGlwZWxpbmUgdG8gZXh0cmFjdCB0cmFuc2NyaXB0IGZyb20gYSBsb25nIGF1ZGlvIGNsaXAsIHJlbWVtYmVyIHRvIHNwZWNpZnkgYGNodW5rX2xlbmd0aF9zYCBhbmQvb3IgYHN0cmlkZV9sZW5ndGhfc2AuIikscj1lLnNsaWNlKDAsdGhpcy5jb25maWcubl9zYW1wbGVzKSk6KHI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmNvbmZpZy5uX3NhbXBsZXMpLHIuc2V0KGUpKTtjb25zdHtkYXRhOm4sZGltczphfT10aGlzLl9leHRyYWN0X2ZiYW5rX2ZlYXR1cmVzKHIpO3JldHVybntpbnB1dF9mZWF0dXJlczpuZXcgcmUoImZsb2F0MzIiLG4sWzEsLi4uYV0pfX19Y2xhc3MgeXggZXh0ZW5kcyBJcntfemVyb19tZWFuX3VuaXRfdmFyX25vcm0oZSl7Y29uc3Qgcj1lLnJlZHVjZSgoYSxpKT0+YStpLDApL2UubGVuZ3RoLG49ZS5yZWR1Y2UoKGEsaSk9PmErKGktcikqKjIsMCkvZS5sZW5ndGg7cmV0dXJuIGUubWFwKGE9PihhLXIpL01hdGguc3FydChuKzFlLTcpKX1hc3luYyBfY2FsbChlKXtxbihlLCJXYXYyVmVjMkZlYXR1cmVFeHRyYWN0b3IiKSxlIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5JiYoZT1uZXcgRmxvYXQzMkFycmF5KGUpKTtsZXQgcj1lO3RoaXMuY29uZmlnLmRvX25vcm1hbGl6ZSYmKHI9dGhpcy5femVyb19tZWFuX3VuaXRfdmFyX25vcm0ocikpO2NvbnN0IG49WzEsci5sZW5ndGhdO3JldHVybntpbnB1dF92YWx1ZXM6bmV3IHJlKCJmbG9hdDMyIixyLG4pLGF0dGVudGlvbl9tYXNrOm5ldyByZSgiaW50NjQiLG5ldyBCaWdJbnQ2NEFycmF5KHIubGVuZ3RoKS5maWxsKDFuKSxuKX19fWNsYXNzIHd4IGV4dGVuZHMgSXJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7Y29uc3Qgcj10aGlzLmNvbmZpZy5zYW1wbGluZ19yYXRlLG49R24oMjU2LHRoaXMuY29uZmlnLm51bV9tZWxfYmlucywyMCxNYXRoLmZsb29yKHIvMikscixudWxsLCJrYWxkaSIsITApO2ZvcihsZXQgYT0wO2E8bi5sZW5ndGg7KythKW5bYV0ucHVzaCgwKTt0aGlzLm1lbF9maWx0ZXJzPW4sdGhpcy53aW5kb3c9cmkoNDAwLCJwb3ZleSIse3BlcmlvZGljOiExfSl9X2V4dHJhY3RfZmJhbmtfZmVhdHVyZXMoZSxyKXtyZXR1cm4gZT1lLm1hcChuPT5uKjMyNzY4KSx0aShlLHRoaXMud2luZG93LDQwMCwxNjAse2ZmdF9sZW5ndGg6NTEyLHBvd2VyOjIsY2VudGVyOiExLHByZWVtcGhhc2lzOi45NyxtZWxfZmlsdGVyczp0aGlzLm1lbF9maWx0ZXJzLGxvZ19tZWw6ImxvZyIsbWVsX2Zsb29yOjExOTIwOTI5NTUwNzgxMjVlLTIyLHJlbW92ZV9kY19vZmZzZXQ6ITAsbWF4X251bV9mcmFtZXM6cix0cmFuc3Bvc2U6ITB9KX1hc3luYyBfY2FsbChlLHtwYWRkaW5nOnI9ITAscGFkX3RvX211bHRpcGxlX29mOm49Mixkb19ub3JtYWxpemVfcGVyX21lbF9iaW5zOmE9ITAscmV0dXJuX2F0dGVudGlvbl9tYXNrOmk9ITB9PXt9KXtxbihlLCJTZWFtbGVzc000VEZlYXR1cmVFeHRyYWN0b3IiKTtsZXQgcz10aGlzLl9leHRyYWN0X2ZiYW5rX2ZlYXR1cmVzKGUsdGhpcy5jb25maWcubWF4X2xlbmd0aCk7aWYoYSl7Y29uc3RbZixnXT1zLmRpbXM7Zm9yKGxldCB5PTA7eTxnOysreSl7bGV0IHc9MDtmb3IobGV0IHg9MDt4PGY7Kyt4KXcrPXMuZGF0YVt4KmcreV07Y29uc3Qgdj13L2Y7bGV0IGs9MDtmb3IobGV0IHg9MDt4PGY7Kyt4KWsrPShzLmRhdGFbeCpnK3ldLXYpKioyO2svPWYtMTtjb25zdCBFPU1hdGguc3FydChrKzFlLTcpO2ZvcihsZXQgeD0wO3g8ZjsrK3gpe2NvbnN0IEk9eCpnK3k7cy5kYXRhW0ldPShzLmRhdGFbSV0tdikvRX19fWxldCBvO2lmKHIpe2NvbnN0W2YsZ109cy5kaW1zLHk9ZiVuO2lmKHk+MCl7Y29uc3Qgdz1uZXcgRmxvYXQzMkFycmF5KGcqKGYreSkpO3cuc2V0KHMuZGF0YSksdy5maWxsKHRoaXMuY29uZmlnLnBhZGRpbmdfdmFsdWUscy5kYXRhLmxlbmd0aCk7Y29uc3Qgdj1mK3k7cz17ZGF0YTp3LGRpbXM6W3YsZ119LGkmJihvPW5ldyByZSgiaW50NjQiLG5ldyBCaWdJbnQ2NEFycmF5KHYpLFsxLHZdKSxvLmRhdGEuZmlsbCgxbiwwLGYpKX19Y29uc3RbbCxkXT1zLmRpbXMsYz10aGlzLmNvbmZpZy5zdHJpZGU7aWYobCVjIT09MCl0aHJvdyBuZXcgRXJyb3IoYFRoZSBudW1iZXIgb2YgZnJhbWVzICgke2x9KSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgdGhlIHN0cmlkZSAoJHtjfSkuYCk7Y29uc3QgdT1uZXcgcmUoImZsb2F0MzIiLHMuZGF0YSxzLmRpbXMpLnZpZXcoMSxNYXRoLmZsb29yKGwvYyksZCpjKSxoPXtpbnB1dF9mZWF0dXJlczp1fTtpZihpKXtjb25zdCBmPXUuZGltc1sxXSxnPW5ldyByZSgiaW50NjQiLG5ldyBCaWdJbnQ2NEFycmF5KGYpLFsxLGZdKTtpZihvKWZvcihsZXQgeT0xLHc9MDt5PGw7eSs9YywrK3cpZy5kYXRhW3ddPW8uZGF0YVt5XTtlbHNlIGcuZGF0YS5maWxsKDFuKTtoLmF0dGVudGlvbl9tYXNrPWd9cmV0dXJuIGh9fWNsYXNzIHZ4IGV4dGVuZHMgSXJ7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSk7Y29uc3Qgcj10aGlzLmNvbmZpZy5zYW1wbGluZ19yYXRlLG49R24oMjU2LHRoaXMuY29uZmlnLm51bV9tZWxfYmlucywyMCxNYXRoLmZsb29yKHIvMikscixudWxsLCJrYWxkaSIsITApO2ZvcihsZXQgYT0wO2E8bi5sZW5ndGg7KythKW5bYV0ucHVzaCgwKTt0aGlzLm1lbF9maWx0ZXJzPW4sdGhpcy53aW5kb3c9cmkoNDAwLCJoYW5uIix7cGVyaW9kaWM6ITF9KSx0aGlzLm1lYW49dGhpcy5jb25maWcubWVhbix0aGlzLnN0ZD10aGlzLmNvbmZpZy5zdGR9X2V4dHJhY3RfZmJhbmtfZmVhdHVyZXMoZSxyKXtyZXR1cm4gdGkoZSx0aGlzLndpbmRvdyw0MDAsMTYwLHtmZnRfbGVuZ3RoOjUxMixwb3dlcjoyLGNlbnRlcjohMSxwcmVlbXBoYXNpczouOTcsbWVsX2ZpbHRlcnM6dGhpcy5tZWxfZmlsdGVycyxsb2dfbWVsOiJsb2ciLG1lbF9mbG9vcjoxMTkyMDkyOTU1MDc4MTI1ZS0yMixyZW1vdmVfZGNfb2Zmc2V0OiEwLG1heF9udW1fZnJhbWVzOnIsdHJhbnNwb3NlOiEwfSl9YXN5bmMgX2NhbGwoZSl7cW4oZSwiQVNURmVhdHVyZUV4dHJhY3RvciIpO2NvbnN0IHI9dGhpcy5fZXh0cmFjdF9mYmFua19mZWF0dXJlcyhlLHRoaXMuY29uZmlnLm1heF9sZW5ndGgpO2lmKHRoaXMuY29uZmlnLmRvX25vcm1hbGl6ZSl7Y29uc3Qgbj10aGlzLnN0ZCoyO2ZvcihsZXQgYT0wO2E8ci5kYXRhLmxlbmd0aDsrK2Epci5kYXRhW2FdPShyLmRhdGFbYV0tdGhpcy5tZWFuKS9ufXJldHVybntpbnB1dF92YWx1ZXM6bmV3IHJlKCJmbG9hdDMyIixyLmRhdGEsWzEsLi4uci5kaW1zXSl9fX1jbGFzcyBieCBleHRlbmRzIElye2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMubWVsX2ZpbHRlcnM9R24odGhpcy5jb25maWcubmJfZnJlcXVlbmN5X2JpbnMsdGhpcy5jb25maWcuZmVhdHVyZV9zaXplLHRoaXMuY29uZmlnLmZyZXF1ZW5jeV9taW4sdGhpcy5jb25maWcuZnJlcXVlbmN5X21heCx0aGlzLmNvbmZpZy5zYW1wbGluZ19yYXRlLG51bGwsImh0ayIpLHRoaXMubWVsX2ZpbHRlcnNfc2xhbmV5PUduKHRoaXMuY29uZmlnLm5iX2ZyZXF1ZW5jeV9iaW5zLHRoaXMuY29uZmlnLmZlYXR1cmVfc2l6ZSx0aGlzLmNvbmZpZy5mcmVxdWVuY3lfbWluLHRoaXMuY29uZmlnLmZyZXF1ZW5jeV9tYXgsdGhpcy5jb25maWcuc2FtcGxpbmdfcmF0ZSwic2xhbmV5Iiwic2xhbmV5IiksdGhpcy53aW5kb3c9cmkodGhpcy5jb25maWcuZmZ0X3dpbmRvd19zaXplLCJoYW5uIil9X2dldF9pbnB1dF9tZWwoZSxyLG4sYSl7bGV0IGkscz0hMTtjb25zdCBvPWUubGVuZ3RoLXI7aWYobz4wKWlmKG49PT0icmFuZF90cnVuYyIpe3M9ITA7Y29uc3QgbD1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKG8rMSkpO2U9ZS5zdWJhcnJheShsLGwrciksaT10aGlzLl9leHRyYWN0X2ZiYW5rX2ZlYXR1cmVzKGUsdGhpcy5tZWxfZmlsdGVyc19zbGFuZXksdGhpcy5jb25maWcubmJfbWF4X3NhbXBsZXMpLGkuZGltcz1bMSwuLi5pLmRpbXNdfWVsc2UgdGhyb3cgbmV3IEVycm9yKGBUcnVuY2F0aW9uIHN0cmF0ZWd5ICIke259IiBub3QgaW1wbGVtZW50ZWRgKTtlbHNle2lmKG88MCl7bGV0IGw9bmV3IEZsb2F0NjRBcnJheShyKTtpZihsLnNldChlKSxhPT09InJlcGVhdCIpZm9yKGxldCBkPWUubGVuZ3RoO2Q8cjtkKz1lLmxlbmd0aClsLnNldChlLnN1YmFycmF5KDAsTWF0aC5taW4oZS5sZW5ndGgsci1kKSksZCk7ZWxzZSBpZihhPT09InJlcGVhdHBhZCIpZm9yKGxldCBkPWUubGVuZ3RoO2Q8LW87ZCs9ZS5sZW5ndGgpbC5zZXQoZSxkKTtlPWx9aWYobj09PSJmdXNpb24iKXRocm93IG5ldyBFcnJvcihgVHJ1bmNhdGlvbiBzdHJhdGVneSAiJHtufSIgbm90IGltcGxlbWVudGVkYCk7aT10aGlzLl9leHRyYWN0X2ZiYW5rX2ZlYXR1cmVzKGUsdGhpcy5tZWxfZmlsdGVyc19zbGFuZXksdGhpcy5jb25maWcubmJfbWF4X3NhbXBsZXMpLGkuZGltcz1bMSwuLi5pLmRpbXNdfXJldHVybnsuLi5pLGxvbmdlcjpzfX1fZXh0cmFjdF9mYmFua19mZWF0dXJlcyhlLHIsbj1udWxsKXtyZXR1cm4gdGkoZSx0aGlzLndpbmRvdyx0aGlzLmNvbmZpZy5mZnRfd2luZG93X3NpemUsdGhpcy5jb25maWcuaG9wX2xlbmd0aCx7cG93ZXI6MixtZWxfZmlsdGVyczpyLGxvZ19tZWw6ImRCIixtYXhfbnVtX2ZyYW1lczpuLGRvX3BhZDohMSx0cmFuc3Bvc2U6ITB9KX1hc3luYyBfY2FsbChlLHttYXhfbGVuZ3RoOnI9bnVsbH09e30pe3FuKGUsIkNsYXBGZWF0dXJlRXh0cmFjdG9yIik7Y29uc3Qgbj10aGlzLl9nZXRfaW5wdXRfbWVsKGUscj8/dGhpcy5jb25maWcubmJfbWF4X3NhbXBsZXMsdGhpcy5jb25maWcudHJ1bmNhdGlvbix0aGlzLmNvbmZpZy5wYWRkaW5nKTtyZXR1cm57aW5wdXRfZmVhdHVyZXM6bmV3IHJlKCJmbG9hdDMyIixuLmRhdGEsWzEsLi4ubi5kaW1zXSl9fX1jbGFzcyAkeCBleHRlbmRzIElye31jbGFzcyBYciBleHRlbmRzIHd0e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5mZWF0dXJlX2V4dHJhY3Rvcj1lfWFzeW5jIF9jYWxsKGUsLi4ucil7cmV0dXJuIGF3YWl0IHRoaXMuZmVhdHVyZV9leHRyYWN0b3IoZSwuLi5yKX19Y2xhc3MgeHggZXh0ZW5kcyBYcnthc3luYyBfY2FsbCguLi5lKXtyZXR1cm4gYXdhaXQgdGhpcy5mZWF0dXJlX2V4dHJhY3RvciguLi5lKX1wb3N0X3Byb2Nlc3NfbWFza3MoLi4uZSl7cmV0dXJuIHRoaXMuZmVhdHVyZV9leHRyYWN0b3IucG9zdF9wcm9jZXNzX21hc2tzKC4uLmUpfXJlc2hhcGVfaW5wdXRfcG9pbnRzKC4uLmUpe3JldHVybiB0aGlzLmZlYXR1cmVfZXh0cmFjdG9yLnJlc2hhcGVfaW5wdXRfcG9pbnRzKC4uLmUpfX1jbGFzcyBreCBleHRlbmRzIFhye2FzeW5jIF9jYWxsKGUpe3JldHVybiBhd2FpdCB0aGlzLmZlYXR1cmVfZXh0cmFjdG9yKGUpfX1jbGFzcyBTeCBleHRlbmRzIFhye2FzeW5jIF9jYWxsKGUpe3JldHVybiBhd2FpdCB0aGlzLmZlYXR1cmVfZXh0cmFjdG9yKGUpfX1jbGFzcyBFeCBleHRlbmRzIFhye2FzeW5jIF9jYWxsKGUpe3JldHVybiBhd2FpdCB0aGlzLmZlYXR1cmVfZXh0cmFjdG9yKGUpfX1jbGFzcyBDeCBleHRlbmRzIFhye31jbGFzcyBfdHtzdGF0aWMgRkVBVFVSRV9FWFRSQUNUT1JfQ0xBU1NfTUFQUElORz17SW1hZ2VGZWF0dXJlRXh0cmFjdG9yOmplLFdoaXNwZXJGZWF0dXJlRXh0cmFjdG9yOl94LFZpVEZlYXR1cmVFeHRyYWN0b3I6YXgsTW9iaWxlVmlURmVhdHVyZUV4dHJhY3RvcjpveCxPd2xWaVRGZWF0dXJlRXh0cmFjdG9yOkRtLE93bHYySW1hZ2VQcm9jZXNzb3I6bHgsQ0xJUEZlYXR1cmVFeHRyYWN0b3I6ZXgsQ2hpbmVzZUNMSVBGZWF0dXJlRXh0cmFjdG9yOnR4LFNpZ2xpcEltYWdlUHJvY2Vzc29yOnJ4LENvbnZOZXh0RmVhdHVyZUV4dHJhY3RvcjpQbSxDb252TmV4dEltYWdlUHJvY2Vzc29yOm54LFNlZ2Zvcm1lckZlYXR1cmVFeHRyYWN0b3I6WDEsQml0SW1hZ2VQcm9jZXNzb3I6WjEsRFBUSW1hZ2VQcm9jZXNzb3I6UTEsRFBURmVhdHVyZUV4dHJhY3RvcjpSbSxHTFBORmVhdHVyZUV4dHJhY3RvcjpKMSxCZWl0RmVhdHVyZUV4dHJhY3RvcjpkeCxEZWlURmVhdHVyZUV4dHJhY3Rvcjp1eCxEZXRyRmVhdHVyZUV4dHJhY3RvcjpweCxZb2xvc0ZlYXR1cmVFeHRyYWN0b3I6aHgsRG9udXRGZWF0dXJlRXh0cmFjdG9yOk5tLE5vdWdhdEltYWdlUHJvY2Vzc29yOmN4LEVmZmljaWVudE5ldEltYWdlUHJvY2Vzc29yOnN4LFZpVEltYWdlUHJvY2Vzc29yOml4LFZpdE1hdHRlSW1hZ2VQcm9jZXNzb3I6Z3gsU2FtSW1hZ2VQcm9jZXNzb3I6ZngsU3dpbjJTUkltYWdlUHJvY2Vzc29yOm14LFdhdjJWZWMyRmVhdHVyZUV4dHJhY3Rvcjp5eCxTZWFtbGVzc000VEZlYXR1cmVFeHRyYWN0b3I6d3gsU3BlZWNoVDVGZWF0dXJlRXh0cmFjdG9yOiR4LEFTVEZlYXR1cmVFeHRyYWN0b3I6dngsQ2xhcEZlYXR1cmVFeHRyYWN0b3I6Ynh9O3N0YXRpYyBQUk9DRVNTT1JfQ0xBU1NfTUFQUElORz17V2hpc3BlclByb2Nlc3NvcjpreCxXYXYyVmVjMlByb2Nlc3NvcldpdGhMTTpTeCxTYW1Qcm9jZXNzb3I6eHgsU3BlZWNoVDVQcm9jZXNzb3I6RXgsT3dsVmlUUHJvY2Vzc29yOkN4fTtzdGF0aWMgYXN5bmMgZnJvbV9wcmV0cmFpbmVkKGUse3Byb2dyZXNzX2NhbGxiYWNrOnI9bnVsbCxjb25maWc6bj1udWxsLGNhY2hlX2RpcjphPW51bGwsbG9jYWxfZmlsZXNfb25seTppPSExLHJldmlzaW9uOnM9Im1haW4ifT17fSl7bGV0IG89bj8/YXdhaXQgUnIoZSwicHJlcHJvY2Vzc29yX2NvbmZpZy5qc29uIiwhMCx7cHJvZ3Jlc3NfY2FsbGJhY2s6cixjb25maWc6bixjYWNoZV9kaXI6YSxsb2NhbF9maWxlc19vbmx5OmkscmV2aXNpb246c30pLGw9by5mZWF0dXJlX2V4dHJhY3Rvcl90eXBlPz9vLmltYWdlX3Byb2Nlc3Nvcl90eXBlLGQ9dGhpcy5GRUFUVVJFX0VYVFJBQ1RPUl9DTEFTU19NQVBQSU5HW2xdO2lmKCFkKWlmKG8uc2l6ZSE9PXZvaWQgMCljb25zb2xlLndhcm4oYEZlYXR1cmUgZXh0cmFjdG9yIHR5cGUgIiR7bH0iIG5vdCBmb3VuZCwgYXNzdW1pbmcgSW1hZ2VGZWF0dXJlRXh0cmFjdG9yIGR1ZSB0byBzaXplIHBhcmFtZXRlciBpbiBjb25maWcuYCksZD1qZTtlbHNlIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBGZWF0dXJlIEV4dHJhY3RvciB0eXBlOiAke2x9YCk7bGV0IGM9dGhpcy5QUk9DRVNTT1JfQ0xBU1NfTUFQUElOR1tvLnByb2Nlc3Nvcl9jbGFzc10/P1hyLHU9bmV3IGQobyk7cmV0dXJuIG5ldyBjKHUpfX1hc3luYyBmdW5jdGlvbiBadCh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSxhd2FpdCBQcm9taXNlLmFsbCh0Lm1hcChlPT5tdC5yZWFkKGUpKSl9YXN5bmMgZnVuY3Rpb24gbmkodCxlKXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSxhd2FpdCBQcm9taXNlLmFsbCh0Lm1hcChyPT50eXBlb2Ygcj09InN0cmluZyJ8fHIgaW5zdGFuY2VvZiBVUkw/TDEocixlKTpyIGluc3RhbmNlb2YgRmxvYXQ2NEFycmF5P25ldyBGbG9hdDMyQXJyYXkocik6cikpfWZ1bmN0aW9uIFVtKHQsZSl7ZSYmKHQ9dC5tYXAocz0+c3wwKSk7Y29uc3RbcixuLGEsaV09dDtyZXR1cm57eG1pbjpyLHltaW46bix4bWF4OmEseW1heDppfX1jbGFzcyBaZSBleHRlbmRzIHd0e2NvbnN0cnVjdG9yKHt0YXNrOmUsbW9kZWw6cix0b2tlbml6ZXI6bj1udWxsLHByb2Nlc3NvcjphPW51bGx9KXtzdXBlcigpLHRoaXMudGFzaz1lLHRoaXMubW9kZWw9cix0aGlzLnRva2VuaXplcj1uLHRoaXMucHJvY2Vzc29yPWF9YXN5bmMgZGlzcG9zZSgpe2F3YWl0IHRoaXMubW9kZWwuZGlzcG9zZSgpfX1jbGFzcyBJeCBleHRlbmRzIFple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9jYWxsKGUse3RvcGs6cj0xfT17fSl7Y29uc3Qgbj10aGlzLnRva2VuaXplcihlLHtwYWRkaW5nOiEwLHRydW5jYXRpb246ITB9KSxhPWF3YWl0IHRoaXMubW9kZWwobiksaT10aGlzLm1vZGVsLmNvbmZpZy5wcm9ibGVtX3R5cGU9PT0ibXVsdGlfbGFiZWxfY2xhc3NpZmljYXRpb24iP2w9Pmwuc2lnbW9pZCgpLmRhdGE6bD0+ZHQobC5kYXRhKSxzPXRoaXMubW9kZWwuY29uZmlnLmlkMmxhYmVsLG89W107Zm9yKGNvbnN0IGwgb2YgYS5sb2dpdHMpe2NvbnN0IGQ9aShsKSxjPVByKGQscikubWFwKHU9Pih7bGFiZWw6c1t1WzBdXSxzY29yZTp1WzFdfSkpO3I9PT0xP28ucHVzaCguLi5jKTpvLnB1c2goYyl9cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl8fHI9PT0xP286b1swXX19Y2xhc3MgQXggZXh0ZW5kcyBaZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1hc3luYyBfY2FsbChlLHtpZ25vcmVfbGFiZWxzOnI9WyJPIl19PXt9KXtjb25zdCBuPUFycmF5LmlzQXJyYXkoZSksYT10aGlzLnRva2VuaXplcihuP2U6W2VdLHtwYWRkaW5nOiEwLHRydW5jYXRpb246ITB9KSxpPShhd2FpdCB0aGlzLm1vZGVsKGEpKS5sb2dpdHMscz10aGlzLm1vZGVsLmNvbmZpZy5pZDJsYWJlbCxvPVtdO2ZvcihsZXQgbD0wO2w8aS5kaW1zWzBdOysrbCl7Y29uc3QgZD1hLmlucHV0X2lkc1tsXSxjPWlbbF0sdT1bXTtmb3IobGV0IGg9MDtoPGMuZGltc1swXTsrK2gpe2NvbnN0IGY9Y1toXSxnPUN0KGYuZGF0YSlbMV0seT1zP3NbZ106YExBQkVMXyR7Z31gO2lmKHIuaW5jbHVkZXMoeSkpY29udGludWU7Y29uc3Qgdz10aGlzLnRva2VuaXplci5kZWNvZGUoW2RbaF0uaXRlbSgpXSx7c2tpcF9zcGVjaWFsX3Rva2VuczohMH0pO2lmKHc9PT0iIiljb250aW51ZTtjb25zdCB2PWR0KGYuZGF0YSk7dS5wdXNoKHtlbnRpdHk6eSxzY29yZTp2W2ddLGluZGV4Omgsd29yZDp3LHN0YXJ0Om51bGwsZW5kOm51bGx9KX1vLnB1c2godSl9cmV0dXJuIG4/bzpvWzBdfX1jbGFzcyBUeCBleHRlbmRzIFple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9jYWxsKGUscix7dG9wazpuPTF9PXt9KXtjb25zdCBhPXRoaXMudG9rZW5pemVyKGUse3RleHRfcGFpcjpyLHBhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLGk9YXdhaXQgdGhpcy5tb2RlbChhKSxzPVtdO2ZvcihsZXQgbz0wO288aS5zdGFydF9sb2dpdHMuZGltc1swXTsrK28pe2NvbnN0IGw9YS5pbnB1dF9pZHNbb10sZD1sLmluZGV4T2YodGhpcy50b2tlbml6ZXIuc2VwX3Rva2VuX2lkKSxjPUFycmF5LmZyb20oZHQoaS5zdGFydF9sb2dpdHNbb10uZGF0YSkpLm1hcCgoZixnKT0+W2YsZ10pLmZpbHRlcihmPT5mWzFdPmQpLHU9QXJyYXkuZnJvbShkdChpLmVuZF9sb2dpdHNbb10uZGF0YSkpLm1hcCgoZixnKT0+W2YsZ10pLmZpbHRlcihmPT5mWzFdPmQpLGg9bWcoYyx1KS5maWx0ZXIoZj0+ZlswXVsxXTw9ZlsxXVsxXSkubWFwKGY9PltmWzBdWzFdLGZbMV1bMV0sZlswXVswXSpmWzFdWzBdXSkuc29ydCgoZixnKT0+Z1syXS1mWzJdKTtmb3IobGV0IGY9MDtmPE1hdGgubWluKGgubGVuZ3RoLG4pOysrZil7Y29uc3RbZyx5LHddPWhbZl0sdj1bLi4ubF0uc2xpY2UoZyx5KzEpLGs9dGhpcy50b2tlbml6ZXIuZGVjb2RlKHYse3NraXBfc3BlY2lhbF90b2tlbnM6ITB9KTtzLnB1c2goe2Fuc3dlcjprLHNjb3JlOnd9KX19cmV0dXJuIG49PT0xP3NbMF06c319Y2xhc3MgT3ggZXh0ZW5kcyBaZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1hc3luYyBfY2FsbChlLHt0b3BrOnI9NX09e30pe2NvbnN0IG49dGhpcy50b2tlbml6ZXIoZSx7cGFkZGluZzohMCx0cnVuY2F0aW9uOiEwfSksYT1hd2FpdCB0aGlzLm1vZGVsKG4pLGk9W107Zm9yKGxldCBzPTA7czxuLmlucHV0X2lkcy5kaW1zWzBdOysrcyl7Y29uc3Qgbz1uLmlucHV0X2lkc1tzXSxsPW8uaW5kZXhPZih0aGlzLnRva2VuaXplci5tYXNrX3Rva2VuX2lkKTtpZihsPT09LTEpdGhyb3cgRXJyb3IoYE1hc2sgdG9rZW4gKCR7dGhpcy50b2tlbml6ZXIubWFza190b2tlbn0pIG5vdCBmb3VuZCBpbiB0ZXh0LmApO2NvbnN0IGQ9YS5sb2dpdHNbc11bbF0sYz1QcihkdChkLmRhdGEpLHIpO2kucHVzaChjLm1hcCh1PT57Y29uc3QgaD1bLi4ub107cmV0dXJuIGhbbF09dVswXSx7c2NvcmU6dVsxXSx0b2tlbjp1WzBdLHRva2VuX3N0cjp0aGlzLnRva2VuaXplci5tb2RlbC52b2NhYlt1WzBdXSxzZXF1ZW5jZTp0aGlzLnRva2VuaXplci5kZWNvZGUoaCx7c2tpcF9zcGVjaWFsX3Rva2VuczohMH0pfX0pKX1yZXR1cm4gQXJyYXkuaXNBcnJheShlKT9pOmlbMF19fWNsYXNzIHNvIGV4dGVuZHMgWmV7X2tleT0iZ2VuZXJhdGVkX3RleHQiO2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9jYWxsKGUscj17fSl7QXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKSx0aGlzLm1vZGVsLmNvbmZpZy5wcmVmaXgmJihlPWUubWFwKGw9PnRoaXMubW9kZWwuY29uZmlnLnByZWZpeCtsKSk7Y29uc3Qgbj10aGlzLm1vZGVsLmNvbmZpZy50YXNrX3NwZWNpZmljX3BhcmFtcztuJiZuW3RoaXMudGFza10mJm5bdGhpcy50YXNrXS5wcmVmaXgmJihlPWUubWFwKGw9Pm5bdGhpcy50YXNrXS5wcmVmaXgrbCkpO2NvbnN0IGE9dGhpcy50b2tlbml6ZXIsaT17cGFkZGluZzohMCx0cnVuY2F0aW9uOiEwfTtsZXQgczt0aGlzIGluc3RhbmNlb2YgV20mJiJfYnVpbGRfdHJhbnNsYXRpb25faW5wdXRzImluIGE/cz1hLl9idWlsZF90cmFuc2xhdGlvbl9pbnB1dHMoZSxpLHIpLmlucHV0X2lkczpzPWEoZSxpKS5pbnB1dF9pZHM7Y29uc3Qgbz1hd2FpdCB0aGlzLm1vZGVsLmdlbmVyYXRlKHMscik7cmV0dXJuIGEuYmF0Y2hfZGVjb2RlKG8se3NraXBfc3BlY2lhbF90b2tlbnM6ITB9KS5tYXAobD0+KHtbdGhpcy5fa2V5XTpsfSkpfX1jbGFzcyBNeCBleHRlbmRzIHNve19rZXk9InN1bW1hcnlfdGV4dCI7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9fWNsYXNzIFdtIGV4dGVuZHMgc297X2tleT0idHJhbnNsYXRpb25fdGV4dCI7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9fWNsYXNzIHp4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSxyPXt9KXtjb25zdCBuPUFycmF5LmlzQXJyYXkoZSk7bnx8KGU9W2VdKTtjb25zdCBhPXIuYWRkX3NwZWNpYWxfdG9rZW5zPz8hMTt0aGlzLnRva2VuaXplci5wYWRkaW5nX3NpZGU9ImxlZnQiO2NvbnN0e2lucHV0X2lkczppLGF0dGVudGlvbl9tYXNrOnN9PXRoaXMudG9rZW5pemVyKGUse2FkZF9zcGVjaWFsX3Rva2VuczphLHBhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLG89YXdhaXQgdGhpcy5tb2RlbC5nZW5lcmF0ZShpLHIsbnVsbCx7aW5wdXRzX2F0dGVudGlvbl9tYXNrOnN9KSxsPXRoaXMudG9rZW5pemVyLmJhdGNoX2RlY29kZShvLHtza2lwX3NwZWNpYWxfdG9rZW5zOiEwfSksZD1BcnJheS5mcm9tKHtsZW5ndGg6ZS5sZW5ndGh9LGM9PltdKTtmb3IobGV0IGM9MDtjPGwubGVuZ3RoOysrYyl7Y29uc3QgdT1NYXRoLmZsb29yKGMvby5sZW5ndGgqZS5sZW5ndGgpO2RbdV0ucHVzaCh7Z2VuZXJhdGVkX3RleHQ6bFtjXX0pfXJldHVybiFuJiZkLmxlbmd0aD09PTE/ZFswXTpkfX1jbGFzcyBCeCBleHRlbmRzIFple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMubGFiZWwyaWQ9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHRoaXMubW9kZWwuY29uZmlnLmxhYmVsMmlkKS5tYXAoKFtyLG5dKT0+W3IudG9Mb3dlckNhc2UoKSxuXSkpLHRoaXMuZW50YWlsbWVudF9pZD10aGlzLmxhYmVsMmlkLmVudGFpbG1lbnQsdGhpcy5lbnRhaWxtZW50X2lkPT09dm9pZCAwJiYoY29uc29sZS53YXJuKCJDb3VsZCBub3QgZmluZCAnZW50YWlsbWVudCcgaW4gbGFiZWwyaWQgbWFwcGluZy4gVXNpbmcgMiBhcyBlbnRhaWxtZW50X2lkLiIpLHRoaXMuZW50YWlsbWVudF9pZD0yKSx0aGlzLmNvbnRyYWRpY3Rpb25faWQ9dGhpcy5sYWJlbDJpZC5jb250cmFkaWN0aW9uPz90aGlzLmxhYmVsMmlkLm5vdF9lbnRhaWxtZW50LHRoaXMuY29udHJhZGljdGlvbl9pZD09PXZvaWQgMCYmKGNvbnNvbGUud2FybigiQ291bGQgbm90IGZpbmQgJ2NvbnRyYWRpY3Rpb24nIGluIGxhYmVsMmlkIG1hcHBpbmcuIFVzaW5nIDAgYXMgY29udHJhZGljdGlvbl9pZC4iKSx0aGlzLmNvbnRyYWRpY3Rpb25faWQ9MCl9YXN5bmMgX2NhbGwoZSxyLHtoeXBvdGhlc2lzX3RlbXBsYXRlOm49IlRoaXMgZXhhbXBsZSBpcyB7fS4iLG11bHRpX2xhYmVsOmE9ITF9PXt9KXtjb25zdCBpPUFycmF5LmlzQXJyYXkoZSk7aXx8KGU9W2VdKSxBcnJheS5pc0FycmF5KHIpfHwocj1bcl0pO2NvbnN0IHM9ci5tYXAoZD0+bi5yZXBsYWNlKCJ7fSIsZCkpLG89YXx8ci5sZW5ndGg9PT0xLGw9W107Zm9yKGNvbnN0IGQgb2YgZSl7Y29uc3QgYz1bXTtmb3IoY29uc3QgaCBvZiBzKXtjb25zdCBmPXRoaXMudG9rZW5pemVyKGQse3RleHRfcGFpcjpoLHBhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLGc9YXdhaXQgdGhpcy5tb2RlbChmKTtvP2MucHVzaChbZy5sb2dpdHMuZGF0YVt0aGlzLmNvbnRyYWRpY3Rpb25faWRdLGcubG9naXRzLmRhdGFbdGhpcy5lbnRhaWxtZW50X2lkXV0pOmMucHVzaChnLmxvZ2l0cy5kYXRhW3RoaXMuZW50YWlsbWVudF9pZF0pfWNvbnN0IHU9KG8/Yy5tYXAoaD0+ZHQoaClbMV0pOmR0KGMpKS5tYXAoKGgsZik9PltoLGZdKS5zb3J0KChoLGYpPT5mWzBdLWhbMF0pO2wucHVzaCh7c2VxdWVuY2U6ZCxsYWJlbHM6dS5tYXAoaD0+cltoWzFdXSksc2NvcmVzOnUubWFwKGg9PmhbMF0pfSl9cmV0dXJuIGk/bDpsWzBdfX1jbGFzcyBSeCBleHRlbmRzIFple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9jYWxsKGUse3Bvb2xpbmc6cj0ibm9uZSIsbm9ybWFsaXplOm49ITF9PXt9KXtjb25zdCBhPXRoaXMudG9rZW5pemVyKGUse3BhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLGk9YXdhaXQgdGhpcy5tb2RlbChhKTtsZXQgcz1pLmxhc3RfaGlkZGVuX3N0YXRlPz9pLmxvZ2l0cztpZihyIT09Im5vbmUiKWlmKHI9PT0ibWVhbiIpcz1wMChzLGEuYXR0ZW50aW9uX21hc2spO2Vsc2UgaWYocj09PSJjbHMiKXM9cy5zbGljZShudWxsLDApO2Vsc2UgdGhyb3cgRXJyb3IoYFBvb2xpbmcgbWV0aG9kICcke3J9JyBub3Qgc3VwcG9ydGVkLmApO3JldHVybiBuJiYocz1zLm5vcm1hbGl6ZSgyLC0xKSksc319Y2xhc3MgUHggZXh0ZW5kcyBaZXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKX1hc3luYyBfY2FsbChlLHtwb29sOnI9bnVsbH09e30pe2NvbnN0IG49YXdhaXQgWnQoZSkse3BpeGVsX3ZhbHVlczphfT1hd2FpdCB0aGlzLnByb2Nlc3NvcihuKSxpPWF3YWl0IHRoaXMubW9kZWwoe3BpeGVsX3ZhbHVlczphfSk7bGV0IHM7aWYocil7aWYoISgicG9vbGVyX291dHB1dCJpbiBpKSl0aHJvdyBFcnJvcigiTm8gcG9vbGVkIG91dHB1dCB3YXMgcmV0dXJuZWQuIE1ha2Ugc3VyZSB0aGUgbW9kZWwgaGFzIGEgJ3Bvb2xlcicgbGF5ZXIgd2hlbiB1c2luZyB0aGUgJ3Bvb2wnIG9wdGlvbi4iKTtzPWkucG9vbGVyX291dHB1dH1lbHNlIHM9aS5sYXN0X2hpZGRlbl9zdGF0ZT8/aS5sb2dpdHM/P2kuaW1hZ2VfZW1iZWRzO3JldHVybiBzfX1jbGFzcyBEeCBleHRlbmRzIFple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9jYWxsKGUse3RvcGs6cj1udWxsfT17fSl7Y29uc3Qgbj0hQXJyYXkuaXNBcnJheShlKSxhPXRoaXMucHJvY2Vzc29yLmZlYXR1cmVfZXh0cmFjdG9yLmNvbmZpZy5zYW1wbGluZ19yYXRlLGk9YXdhaXQgbmkoZSxhKSxzPXRoaXMubW9kZWwuY29uZmlnLmlkMmxhYmVsLG89W107Zm9yKGNvbnN0IGwgb2YgaSl7Y29uc3QgZD1hd2FpdCB0aGlzLnByb2Nlc3NvcihsKSxjPShhd2FpdCB0aGlzLm1vZGVsKGQpKS5sb2dpdHNbMF0sdT1QcihkdChjLmRhdGEpLHIpLm1hcChoPT4oe2xhYmVsOnNbaFswXV0sc2NvcmU6aFsxXX0pKTtyPT09MT9vLnB1c2goLi4udSk6by5wdXNoKHUpfXJldHVybiFufHxyPT09MT9vOm9bMF19fWNsYXNzIE54IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSxyLHtoeXBvdGhlc2lzX3RlbXBsYXRlOm49IlRoaXMgaXMgYSBzb3VuZCBvZiB7fS4ifT17fSl7Y29uc3QgYT0hQXJyYXkuaXNBcnJheShlKTthJiYoZT1bZV0pO2NvbnN0IGk9ci5tYXAoYz0+bi5yZXBsYWNlKCJ7fSIsYykpLHM9dGhpcy50b2tlbml6ZXIoaSx7cGFkZGluZzohMCx0cnVuY2F0aW9uOiEwfSksbz10aGlzLnByb2Nlc3Nvci5mZWF0dXJlX2V4dHJhY3Rvci5jb25maWcuc2FtcGxpbmdfcmF0ZSxsPWF3YWl0IG5pKGUsbyksZD1bXTtmb3IoY29uc3QgYyBvZiBsKXtjb25zdCB1PWF3YWl0IHRoaXMucHJvY2Vzc29yKGMpLGg9YXdhaXQgdGhpcy5tb2RlbCh7Li4ucywuLi51fSksZj1kdChoLmxvZ2l0c19wZXJfYXVkaW8uZGF0YSk7ZC5wdXNoKFsuLi5mXS5tYXAoKGcseSk9Pih7c2NvcmU6ZyxsYWJlbDpyW3ldfSkpKX1yZXR1cm4gYT9kWzBdOmR9fWNsYXNzIFV4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSxyPXt9KXtzd2l0Y2godGhpcy5tb2RlbC5jb25maWcubW9kZWxfdHlwZSl7Y2FzZSJ3aGlzcGVyIjpyZXR1cm4gdGhpcy5fY2FsbF93aGlzcGVyKGUscik7Y2FzZSJ3YXYydmVjMiI6Y2FzZSJ3YXYydmVjMi1iZXJ0IjpjYXNlInVuaXNwZWVjaCI6Y2FzZSJ1bmlzcGVlY2gtc2F0IjpjYXNlImh1YmVydCI6cmV0dXJuIHRoaXMuX2NhbGxfd2F2MnZlYzIoZSxyKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgQXV0b21hdGljU3BlZWNoUmVjb2duaXRpb25QaXBlbGluZSBkb2VzIG5vdCBzdXBwb3J0IG1vZGVsIHR5cGUgJyR7dGhpcy5tb2RlbC5jb25maWcubW9kZWxfdHlwZX0nLmApfX1hc3luYyBfY2FsbF93YXYydmVjMihlLHI9e30pe3IubGFuZ3VhZ2UmJmNvbnNvbGUud2FybignYGxhbmd1YWdlYCBwYXJhbWV0ZXIgaXMgbm90IHlldCBzdXBwb3J0ZWQgZm9yIGB3YXYydmVjMmAgbW9kZWxzLCBkZWZhdWx0aW5nIHRvICJFbmdsaXNoIi4nKSxyLnRhc2smJmNvbnNvbGUud2FybignYHRhc2tgIHBhcmFtZXRlciBpcyBub3QgeWV0IHN1cHBvcnRlZCBmb3IgYHdhdjJ2ZWMyYCBtb2RlbHMsIGRlZmF1bHRpbmcgdG8gInRyYW5zY3JpYmUiLicpO2NvbnN0IG49IUFycmF5LmlzQXJyYXkoZSk7biYmKGU9W2VdKTtjb25zdCBhPXRoaXMucHJvY2Vzc29yLmZlYXR1cmVfZXh0cmFjdG9yLmNvbmZpZy5zYW1wbGluZ19yYXRlLGk9YXdhaXQgbmkoZSxhKSxzPVtdO2Zvcihjb25zdCBvIG9mIGkpe2NvbnN0IGw9YXdhaXQgdGhpcy5wcm9jZXNzb3IobyksZD0oYXdhaXQgdGhpcy5tb2RlbChsKSkubG9naXRzWzBdLGM9W107Zm9yKGNvbnN0IGggb2YgZCljLnB1c2goQ3QoaC5kYXRhKVsxXSk7Y29uc3QgdT10aGlzLnRva2VuaXplci5kZWNvZGUoYyk7cy5wdXNoKHt0ZXh0OnV9KX1yZXR1cm4gbj9zWzBdOnN9YXN5bmMgX2NhbGxfd2hpc3BlcihlLHI9e30pe2NvbnN0IG49ci5yZXR1cm5fdGltZXN0YW1wcz8/ITEsYT1yLmNodW5rX2xlbmd0aF9zPz8wLGk9ci5jaHVua19jYWxsYmFjaz8/bnVsbCxzPXIuZm9yY2VfZnVsbF9zZXF1ZW5jZXM/PyExO2xldCBvPXIuc3RyaWRlX2xlbmd0aF9zPz9udWxsO249PT0id29yZCImJihyLnJldHVybl90b2tlbl90aW1lc3RhbXBzPSEwKTtjb25zdCBsPXdvKHIsImxhbmd1YWdlIixudWxsKSxkPXdvKHIsInRhc2siLG51bGwpO2lmKGx8fGR8fG4pe2lmKHIuZm9yY2VkX2RlY29kZXJfaWRzKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IHNwZWNpZnkgYGxhbmd1YWdlYC9gdGFza2AvYHJldHVybl90aW1lc3RhbXBzYCBhbmQgYGZvcmNlZF9kZWNvZGVyX2lkc2AgYXQgdGhlIHNhbWUgdGltZS4iKTtjb25zdCB3PXRoaXMudG9rZW5pemVyLmdldF9kZWNvZGVyX3Byb21wdF9pZHMoe2xhbmd1YWdlOmwsdGFzazpkLG5vX3RpbWVzdGFtcHM6IW59KTt3Lmxlbmd0aD4wJiYoci5mb3JjZWRfZGVjb2Rlcl9pZHM9dyl9Y29uc3QgYz0hQXJyYXkuaXNBcnJheShlKTtjJiYoZT1bZV0pO2NvbnN0IHU9dGhpcy5wcm9jZXNzb3IuZmVhdHVyZV9leHRyYWN0b3IuY29uZmlnLmNodW5rX2xlbmd0aC90aGlzLm1vZGVsLmNvbmZpZy5tYXhfc291cmNlX3Bvc2l0aW9ucyxoPXRoaXMucHJvY2Vzc29yLmZlYXR1cmVfZXh0cmFjdG9yLmNvbmZpZy5ob3BfbGVuZ3RoLGY9dGhpcy5wcm9jZXNzb3IuZmVhdHVyZV9leHRyYWN0b3IuY29uZmlnLnNhbXBsaW5nX3JhdGUsZz1hd2FpdCBuaShlLGYpLHk9W107Zm9yKGNvbnN0IHcgb2YgZyl7bGV0IHY9W107aWYoYT4wKXtpZihvPT09bnVsbClvPWEvNjtlbHNlIGlmKGE8PW8pdGhyb3cgRXJyb3IoImBjaHVua19sZW5ndGhfc2AgbXVzdCBiZSBsYXJnZXIgdGhhbiBgc3RyaWRlX2xlbmd0aF9zYC4iKTtjb25zdCB4PWYqYSxJPWYqbyxUPXgtMipJO2xldCBCPTA7Zm9yKDtCPHcubGVuZ3RoOyl7Y29uc3QgVT13LnN1YmFycmF5KEIsQit4KSxIPWF3YWl0IHRoaXMucHJvY2Vzc29yKFUpLEs9Qj09PTAsTz1CK1Q+PXcubGVuZ3RoO3YucHVzaCh7c3RyaWRlOltVLmxlbmd0aCxLPzA6SSxPPzA6SV0saW5wdXRfZmVhdHVyZXM6SC5pbnB1dF9mZWF0dXJlcyxpc19sYXN0Ok99KSxCKz1UfX1lbHNlIHY9W3tzdHJpZGU6W3cubGVuZ3RoLDAsMF0saW5wdXRfZmVhdHVyZXM6KGF3YWl0IHRoaXMucHJvY2Vzc29yKHcpKS5pbnB1dF9mZWF0dXJlcyxpc19sYXN0OiEwfV07Zm9yKGNvbnN0IHggb2Ygdil7ci5udW1fZnJhbWVzPU1hdGguZmxvb3IoeC5zdHJpZGVbMF0vaCk7Y29uc3QgST1hd2FpdCB0aGlzLm1vZGVsLmdlbmVyYXRlKHguaW5wdXRfZmVhdHVyZXMscik7bj09PSJ3b3JkIj8oeC50b2tlbnM9SS5zZXF1ZW5jZXNbMF0seC50b2tlbl90aW1lc3RhbXBzPUkudG9rZW5fdGltZXN0YW1wcy50b2xpc3QoKVswXS5tYXAoVD0+YW4oVCwyKSkpOngudG9rZW5zPUlbMF0seC5zdHJpZGU9eC5zdHJpZGUubWFwKFQ9PlQvZiksaSE9PW51bGwmJmkoeCl9Y29uc3RbayxFXT10aGlzLnRva2VuaXplci5fZGVjb2RlX2Fzcih2LHt0aW1lX3ByZWNpc2lvbjp1LHJldHVybl90aW1lc3RhbXBzOm4sZm9yY2VfZnVsbF9zZXF1ZW5jZXM6c30pO3kucHVzaCh7dGV4dDprLC4uLkV9KX1yZXR1cm4gYz95WzBdOnl9fWNsYXNzIFd4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSxyPXt9KXtjb25zdCBuPUFycmF5LmlzQXJyYXkoZSksYT1hd2FpdCBadChlKSx7cGl4ZWxfdmFsdWVzOml9PWF3YWl0IHRoaXMucHJvY2Vzc29yKGEpLHM9W107Zm9yKGNvbnN0IG8gb2YgaSl7by5kaW1zPVsxLC4uLm8uZGltc107Y29uc3QgbD1hd2FpdCB0aGlzLm1vZGVsLmdlbmVyYXRlKG8sciksZD10aGlzLnRva2VuaXplci5iYXRjaF9kZWNvZGUobCx7c2tpcF9zcGVjaWFsX3Rva2VuczohMH0pLm1hcChjPT4oe2dlbmVyYXRlZF90ZXh0OmMudHJpbSgpfSkpO3MucHVzaChkKX1yZXR1cm4gbj9zOnNbMF19fWNsYXNzIEx4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSx7dG9wazpyPTF9PXt9KXtjb25zdCBuPUFycmF5LmlzQXJyYXkoZSksYT1hd2FpdCBadChlKSx7cGl4ZWxfdmFsdWVzOml9PWF3YWl0IHRoaXMucHJvY2Vzc29yKGEpLHM9YXdhaXQgdGhpcy5tb2RlbCh7cGl4ZWxfdmFsdWVzOml9KSxvPXRoaXMubW9kZWwuY29uZmlnLmlkMmxhYmVsLGw9W107Zm9yKGNvbnN0IGQgb2Ygcy5sb2dpdHMpe2NvbnN0IGM9UHIoZHQoZC5kYXRhKSxyKS5tYXAodT0+KHtsYWJlbDpvW3VbMF1dLHNjb3JlOnVbMV19KSk7cj09PTE/bC5wdXNoKC4uLmMpOmwucHVzaChjKX1yZXR1cm4gbnx8cj09PTE/bDpsWzBdfX1jbGFzcyBGeCBleHRlbmRzIFple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuc3VidGFza3NfbWFwcGluZz17cGFub3B0aWM6InBvc3RfcHJvY2Vzc19wYW5vcHRpY19zZWdtZW50YXRpb24iLGluc3RhbmNlOiJwb3N0X3Byb2Nlc3NfaW5zdGFuY2Vfc2VnbWVudGF0aW9uIixzZW1hbnRpYzoicG9zdF9wcm9jZXNzX3NlbWFudGljX3NlZ21lbnRhdGlvbiJ9fWFzeW5jIF9jYWxsKGUse3RocmVzaG9sZDpyPS41LG1hc2tfdGhyZXNob2xkOm49LjUsb3ZlcmxhcF9tYXNrX2FyZWFfdGhyZXNob2xkOmE9LjgsbGFiZWxfaWRzX3RvX2Z1c2U6aT1udWxsLHRhcmdldF9zaXplczpzPW51bGwsc3VidGFzazpvPW51bGx9PXt9KXtpZihBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aCE9PTEpdGhyb3cgRXJyb3IoIkltYWdlIHNlZ21lbnRhdGlvbiBwaXBlbGluZSBjdXJyZW50bHkgb25seSBzdXBwb3J0cyBhIGJhdGNoIHNpemUgb2YgMS4iKTtjb25zdCBsPWF3YWl0IFp0KGUpLGQ9bC5tYXAodz0+W3cuaGVpZ2h0LHcud2lkdGhdKSx7cGl4ZWxfdmFsdWVzOmMscGl4ZWxfbWFzazp1fT1hd2FpdCB0aGlzLnByb2Nlc3NvcihsKSxoPWF3YWl0IHRoaXMubW9kZWwoe3BpeGVsX3ZhbHVlczpjLHBpeGVsX21hc2s6dX0pO2xldCBmPW51bGw7aWYobyE9PW51bGwpZj10aGlzLnN1YnRhc2tzX21hcHBpbmdbb107ZWxzZSBmb3IobGV0W3csdl1vZiBPYmplY3QuZW50cmllcyh0aGlzLnN1YnRhc2tzX21hcHBpbmcpKWlmKHYgaW4gdGhpcy5wcm9jZXNzb3IuZmVhdHVyZV9leHRyYWN0b3Ipe2Y9dGhpcy5wcm9jZXNzb3IuZmVhdHVyZV9leHRyYWN0b3Jbdl0uYmluZCh0aGlzLnByb2Nlc3Nvci5mZWF0dXJlX2V4dHJhY3Rvciksbz13O2JyZWFrfWNvbnN0IGc9dGhpcy5tb2RlbC5jb25maWcuaWQybGFiZWwseT1bXTtpZihvPT09InBhbm9wdGljInx8bz09PSJpbnN0YW5jZSIpe2NvbnN0IHc9ZihoLHIsbixhLGkscz8/ZClbMF0sdj13LnNlZ21lbnRhdGlvbjtmb3IoY29uc3QgayBvZiB3LnNlZ21lbnRzX2luZm8pe2NvbnN0IEU9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHYuZGF0YS5sZW5ndGgpO2ZvcihsZXQgST0wO0k8di5kYXRhLmxlbmd0aDsrK0kpdi5kYXRhW0ldPT09ay5pZCYmKEVbSV09MjU1KTtjb25zdCB4PW5ldyBtdChFLHYuZGltc1sxXSx2LmRpbXNbMF0sMSk7eS5wdXNoKHtzY29yZTprLnNjb3JlLGxhYmVsOmdbay5sYWJlbF9pZF0sbWFzazp4fSl9fWVsc2UgaWYobz09PSJzZW1hbnRpYyIpe2NvbnN0e3NlZ21lbnRhdGlvbjp3LGxhYmVsczp2fT1mKGgscz8/ZClbMF07Zm9yKGNvbnN0IGsgb2Ygdil7Y29uc3QgRT1uZXcgVWludDhDbGFtcGVkQXJyYXkody5kYXRhLmxlbmd0aCk7Zm9yKGxldCBJPTA7STx3LmRhdGEubGVuZ3RoOysrSSl3LmRhdGFbSV09PT1rJiYoRVtJXT0yNTUpO2NvbnN0IHg9bmV3IG10KEUsdy5kaW1zWzFdLHcuZGltc1swXSwxKTt5LnB1c2goe3Njb3JlOm51bGwsbGFiZWw6Z1trXSxtYXNrOnh9KX19ZWxzZSB0aHJvdyBFcnJvcihgU3VidGFzayAke299IG5vdCBzdXBwb3J0ZWQuYCk7cmV0dXJuIHl9fWNsYXNzIFZ4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSxyLHtoeXBvdGhlc2lzX3RlbXBsYXRlOm49IlRoaXMgaXMgYSBwaG90byBvZiB7fSJ9PXt9KXtjb25zdCBhPUFycmF5LmlzQXJyYXkoZSksaT1hd2FpdCBadChlKSxzPXIubWFwKGg9Pm4ucmVwbGFjZSgie30iLGgpKSxvPXRoaXMudG9rZW5pemVyKHMse3BhZGRpbmc6dGhpcy5tb2RlbC5jb25maWcubW9kZWxfdHlwZT09PSJzaWdsaXAiPyJtYXhfbGVuZ3RoIjohMCx0cnVuY2F0aW9uOiEwfSkse3BpeGVsX3ZhbHVlczpsfT1hd2FpdCB0aGlzLnByb2Nlc3NvcihpKSxkPWF3YWl0IHRoaXMubW9kZWwoey4uLm8scGl4ZWxfdmFsdWVzOmx9KSxjPXRoaXMubW9kZWwuY29uZmlnLm1vZGVsX3R5cGU9PT0ic2lnbGlwIj9oPT5oLnNpZ21vaWQoKS5kYXRhOmg9PmR0KGguZGF0YSksdT1bXTtmb3IoY29uc3QgaCBvZiBkLmxvZ2l0c19wZXJfaW1hZ2Upe2NvbnN0IGY9Wy4uLmMoaCldLm1hcCgoZyx5KT0+KHtzY29yZTpnLGxhYmVsOnJbeV19KSk7Zi5zb3J0KChnLHkpPT55LnNjb3JlLWcuc2NvcmUpLHUucHVzaChmKX1yZXR1cm4gYT91OnVbMF19fWNsYXNzIEh4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSx7dGhyZXNob2xkOnI9LjkscGVyY2VudGFnZTpuPSExfT17fSl7Y29uc3QgYT1BcnJheS5pc0FycmF5KGUpO2lmKGEmJmUubGVuZ3RoIT09MSl0aHJvdyBFcnJvcigiT2JqZWN0IGRldGVjdGlvbiBwaXBlbGluZSBjdXJyZW50bHkgb25seSBzdXBwb3J0cyBhIGJhdGNoIHNpemUgb2YgMS4iKTtjb25zdCBpPWF3YWl0IFp0KGUpLHM9bj9udWxsOmkubWFwKGY9PltmLmhlaWdodCxmLndpZHRoXSkse3BpeGVsX3ZhbHVlczpvLHBpeGVsX21hc2s6bH09YXdhaXQgdGhpcy5wcm9jZXNzb3IoaSksZD1hd2FpdCB0aGlzLm1vZGVsKHtwaXhlbF92YWx1ZXM6byxwaXhlbF9tYXNrOmx9KSxjPXRoaXMucHJvY2Vzc29yLmZlYXR1cmVfZXh0cmFjdG9yLnBvc3RfcHJvY2Vzc19vYmplY3RfZGV0ZWN0aW9uKGQscixzKSx1PXRoaXMubW9kZWwuY29uZmlnLmlkMmxhYmVsLGg9Yy5tYXAoZj0+Zi5ib3hlcy5tYXAoKGcseSk9Pih7c2NvcmU6Zi5zY29yZXNbeV0sbGFiZWw6dVtmLmNsYXNzZXNbeV1dLGJveDpVbShnLCFuKX0pKSk7cmV0dXJuIGE/aDpoWzBdfX1jbGFzcyBHeCBleHRlbmRzIFple2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpfWFzeW5jIF9jYWxsKGUscix7dGhyZXNob2xkOm49LjEsdG9wazphPW51bGwscGVyY2VudGFnZTppPSExfT17fSl7Y29uc3Qgcz1BcnJheS5pc0FycmF5KGUpLG89YXdhaXQgWnQoZSksbD10aGlzLnRva2VuaXplcihyLHtwYWRkaW5nOiEwLHRydW5jYXRpb246ITB9KSxkPWF3YWl0IHRoaXMucHJvY2Vzc29yKG8pLGM9W107Zm9yKGxldCB1PTA7dTxvLmxlbmd0aDsrK3Upe2NvbnN0IGg9b1t1XSxmPWk/bnVsbDpbW2guaGVpZ2h0LGgud2lkdGhdXSxnPWQucGl4ZWxfdmFsdWVzW3VdLnVuc3F1ZWV6ZV8oMCkseT1hd2FpdCB0aGlzLm1vZGVsKHsuLi5sLHBpeGVsX3ZhbHVlczpnfSksdz10aGlzLnByb2Nlc3Nvci5mZWF0dXJlX2V4dHJhY3Rvci5wb3N0X3Byb2Nlc3Nfb2JqZWN0X2RldGVjdGlvbih5LG4sZiwhMClbMF07bGV0IHY9dy5ib3hlcy5tYXAoKGssRSk9Pih7c2NvcmU6dy5zY29yZXNbRV0sbGFiZWw6clt3LmNsYXNzZXNbRV1dLGJveDpVbShrLCFpKX0pKS5zb3J0KChrLEUpPT5FLnNjb3JlLWsuc2NvcmUpO2EhPT1udWxsJiYodj12LnNsaWNlKDAsYSkpLGMucHVzaCh2KX1yZXR1cm4gcz9jOmNbMF19fWNsYXNzIHF4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSxyLG49e30pe2NvbnN0IGE9KGF3YWl0IFp0KGUpKVswXSx7cGl4ZWxfdmFsdWVzOml9PWF3YWl0IHRoaXMucHJvY2Vzc29yKGEpLHM9YDxzX2RvY3ZxYT48c19xdWVzdGlvbj4ke3J9PC9zX3F1ZXN0aW9uPjxzX2Fuc3dlcj5gLG89dGhpcy50b2tlbml6ZXIocyx7YWRkX3NwZWNpYWxfdG9rZW5zOiExLHBhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLmlucHV0X2lkcyxsPWF3YWl0IHRoaXMubW9kZWwuZ2VuZXJhdGUoaSx7Li4ubixkZWNvZGVyX2lucHV0X2lkczpvLG1heF9sZW5ndGg6dGhpcy5tb2RlbC5jb25maWcuZGVjb2Rlci5tYXhfcG9zaXRpb25fZW1iZWRkaW5nc30pLGQ9dGhpcy50b2tlbml6ZXIuYmF0Y2hfZGVjb2RlKGwpWzBdLm1hdGNoKC88c19hbnN3ZXI+KC4qPyk8XC9zX2Fuc3dlcj4vKTtsZXQgYz1udWxsO3JldHVybiBkJiZkLmxlbmd0aD49MiYmKGM9ZFsxXS50cmltKCkpLFt7YW5zd2VyOmN9XX19Y2xhc3MganggZXh0ZW5kcyBaZXtERUZBVUxUX1ZPQ09ERVJfSUQ9Ilhlbm92YS9zcGVlY2h0NV9oaWZpZ2FuIjtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnZvY29kZXI9ZS52b2NvZGVyPz9udWxsfWFzeW5jIF9jYWxsKGUse3NwZWFrZXJfZW1iZWRkaW5nczpyPW51bGx9PXt9KXtyZXR1cm4gdGhpcy5wcm9jZXNzb3I/dGhpcy5fY2FsbF90ZXh0X3RvX3NwZWN0cm9ncmFtKGUse3NwZWFrZXJfZW1iZWRkaW5nczpyfSk6dGhpcy5fY2FsbF90ZXh0X3RvX3dhdmVmb3JtKGUpfWFzeW5jIF9jYWxsX3RleHRfdG9fd2F2ZWZvcm0oZSl7Y29uc3Qgcj10aGlzLnRva2VuaXplcihlLHtwYWRkaW5nOiEwLHRydW5jYXRpb246ITB9KSx7d2F2ZWZvcm06bn09YXdhaXQgdGhpcy5tb2RlbChyKSxhPXRoaXMubW9kZWwuY29uZmlnLnNhbXBsaW5nX3JhdGU7cmV0dXJue2F1ZGlvOm4uZGF0YSxzYW1wbGluZ19yYXRlOmF9fWFzeW5jIF9jYWxsX3RleHRfdG9fc3BlY3Ryb2dyYW0oZSx7c3BlYWtlcl9lbWJlZGRpbmdzOnJ9KXtpZih0aGlzLnZvY29kZXJ8fChjb25zb2xlLmxvZygiTm8gdm9jb2RlciBzcGVjaWZpZWQsIHVzaW5nIGRlZmF1bHQgSGlmaUdhbiB2b2NvZGVyLiIpLHRoaXMudm9jb2Rlcj1hd2FpdCBIbi5mcm9tX3ByZXRyYWluZWQodGhpcy5ERUZBVUxUX1ZPQ09ERVJfSUQse2R0eXBlOiJmcDMyIn0pKSwodHlwZW9mIHI9PSJzdHJpbmcifHxyIGluc3RhbmNlb2YgVVJMKSYmKHI9bmV3IEZsb2F0MzJBcnJheShhd2FpdChhd2FpdCBmZXRjaChyKSkuYXJyYXlCdWZmZXIoKSkpLHIgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpcj1uZXcgcmUoImZsb2F0MzIiLHIsWzEsci5sZW5ndGhdKTtlbHNlIGlmKCEociBpbnN0YW5jZW9mIHJlKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWFrZXIgZW1iZWRkaW5ncyBtdXN0IGJlIGEgYFRlbnNvcmAsIGBGbG9hdDMyQXJyYXlgLCBgc3RyaW5nYCwgb3IgYFVSTGAuIik7Y29uc3R7aW5wdXRfaWRzOm59PXRoaXMudG9rZW5pemVyKGUse3BhZGRpbmc6ITAsdHJ1bmNhdGlvbjohMH0pLHt3YXZlZm9ybTphfT1hd2FpdCB0aGlzLm1vZGVsLmdlbmVyYXRlX3NwZWVjaChuLHIse3ZvY29kZXI6dGhpcy52b2NvZGVyfSksaT10aGlzLnByb2Nlc3Nvci5mZWF0dXJlX2V4dHJhY3Rvci5jb25maWcuc2FtcGxpbmdfcmF0ZTtyZXR1cm57YXVkaW86YS5kYXRhLHNhbXBsaW5nX3JhdGU6aX19fWNsYXNzIEt4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSl7Y29uc3Qgcj1hd2FpdCBadChlKSxuPWF3YWl0IHRoaXMucHJvY2Vzc29yKHIpLGE9YXdhaXQgdGhpcy5tb2RlbChuKSxpPVtdO2Zvcihjb25zdCBzIG9mIGEucmVjb25zdHJ1Y3Rpb24pe2NvbnN0IG89cy5zcXVlZXplKCkuY2xhbXBfKDAsMSkubXVsXygyNTUpLnJvdW5kXygpLnRvKCJ1aW50OCIpO2kucHVzaChtdC5mcm9tVGVuc29yKG8pKX1yZXR1cm4gaS5sZW5ndGg+MT9pOmlbMF19fWNsYXNzIFl4IGV4dGVuZHMgWmV7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9YXN5bmMgX2NhbGwoZSl7Y29uc3Qgcj1hd2FpdCBadChlKSxuPWF3YWl0IHRoaXMucHJvY2Vzc29yKHIpLHtwcmVkaWN0ZWRfZGVwdGg6YX09YXdhaXQgdGhpcy5tb2RlbChuKSxpPVtdO2ZvcihsZXQgcz0wO3M8ci5sZW5ndGg7KytzKXtjb25zdCBvPSRuKGFbc10scltzXS5zaXplLnJldmVyc2UoKSwiYmlsaW5lYXIiLCExKSxsPW8ubXVsXygyNTUvQ3Qoby5kYXRhKVswXSkudG8oInVpbnQ4Iik7aS5wdXNoKHtwcmVkaWN0ZWRfZGVwdGg6YVtzXSxkZXB0aDptdC5mcm9tVGVuc29yKGwpfSl9cmV0dXJuIGkubGVuZ3RoPjE/aTppWzBdfX1jb25zdCBMbT1PYmplY3QuZnJlZXplKHsidGV4dC1jbGFzc2lmaWNhdGlvbiI6e3Rva2VuaXplcjp1dCxwaXBlbGluZTpJeCxtb2RlbDpBbSxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2Rpc3RpbGJlcnQtYmFzZS11bmNhc2VkLWZpbmV0dW5lZC1zc3QtMi1lbmdsaXNoIn0sdHlwZToidGV4dCJ9LCJ0b2tlbi1jbGFzc2lmaWNhdGlvbiI6e3Rva2VuaXplcjp1dCxwaXBlbGluZTpBeCxtb2RlbDptMSxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2JlcnQtYmFzZS1tdWx0aWxpbmd1YWwtY2FzZWQtbmVyLWhybCJ9LHR5cGU6InRleHQifSwicXVlc3Rpb24tYW5zd2VyaW5nIjp7dG9rZW5pemVyOnV0LHBpcGVsaW5lOlR4LG1vZGVsOmIxLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvZGlzdGlsYmVydC1iYXNlLWNhc2VkLWRpc3RpbGxlZC1zcXVhZCJ9LHR5cGU6InRleHQifSwiZmlsbC1tYXNrIjp7dG9rZW5pemVyOnV0LHBpcGVsaW5lOk94LG1vZGVsOnYxLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvYmVydC1iYXNlLXVuY2FzZWQifSx0eXBlOiJ0ZXh0In0sc3VtbWFyaXphdGlvbjp7dG9rZW5pemVyOnV0LHBpcGVsaW5lOk14LG1vZGVsOnJvLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvZGlzdGlsYmFydC1jbm4tNi02In0sdHlwZToidGV4dCJ9LHRyYW5zbGF0aW9uOnt0b2tlbml6ZXI6dXQscGlwZWxpbmU6V20sbW9kZWw6cm8sZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS90NS1zbWFsbCJ9LHR5cGU6InRleHQifSwidGV4dDJ0ZXh0LWdlbmVyYXRpb24iOnt0b2tlbml6ZXI6dXQscGlwZWxpbmU6c28sbW9kZWw6cm8sZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9mbGFuLXQ1LXNtYWxsIn0sdHlwZToidGV4dCJ9LCJ0ZXh0LWdlbmVyYXRpb24iOnt0b2tlbml6ZXI6dXQscGlwZWxpbmU6engsbW9kZWw6dzEsZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9ncHQyIn0sdHlwZToidGV4dCJ9LCJ6ZXJvLXNob3QtY2xhc3NpZmljYXRpb24iOnt0b2tlbml6ZXI6dXQscGlwZWxpbmU6QngsbW9kZWw6QW0sZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9kaXN0aWxiZXJ0LWJhc2UtdW5jYXNlZC1tbmxpIn0sdHlwZToidGV4dCJ9LCJhdWRpby1jbGFzc2lmaWNhdGlvbiI6e3BpcGVsaW5lOkR4LG1vZGVsOkExLHByb2Nlc3NvcjpfdCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL3dhdjJ2ZWMyLWJhc2Utc3VwZXJiLWtzIn0sdHlwZToiYXVkaW8ifSwiemVyby1zaG90LWF1ZGlvLWNsYXNzaWZpY2F0aW9uIjp7dG9rZW5pemVyOnV0LHBpcGVsaW5lOk54LG1vZGVsOkhuLHByb2Nlc3NvcjpfdCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2NsYXAtaHRzYXQtdW5mdXNlZCJ9LHR5cGU6Im11bHRpbW9kYWwifSwiYXV0b21hdGljLXNwZWVjaC1yZWNvZ25pdGlvbiI6e3Rva2VuaXplcjp1dCxwaXBlbGluZTpVeCxtb2RlbDpbZzEsSTFdLHByb2Nlc3NvcjpfdCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL3doaXNwZXItdGlueS5lbiJ9LHR5cGU6Im11bHRpbW9kYWwifSwidGV4dC10by1hdWRpbyI6e3Rva2VuaXplcjp1dCxwaXBlbGluZTpqeCxtb2RlbDpbeTEsXzFdLHByb2Nlc3NvcjpbX3QsbnVsbF0sZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9zcGVlY2h0NV90dHMifSx0eXBlOiJ0ZXh0In0sImltYWdlLXRvLXRleHQiOnt0b2tlbml6ZXI6dXQscGlwZWxpbmU6V3gsbW9kZWw6JDEscHJvY2Vzc29yOl90LGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvdml0LWdwdDItaW1hZ2UtY2FwdGlvbmluZyJ9LHR5cGU6Im11bHRpbW9kYWwifSwiaW1hZ2UtY2xhc3NpZmljYXRpb24iOntwaXBlbGluZTpMeCxtb2RlbDp4MSxwcm9jZXNzb3I6X3QsZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS92aXQtYmFzZS1wYXRjaDE2LTIyNCJ9LHR5cGU6Im11bHRpbW9kYWwifSwiaW1hZ2Utc2VnbWVudGF0aW9uIjp7cGlwZWxpbmU6RngsbW9kZWw6W2sxLFMxXSxwcm9jZXNzb3I6X3QsZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9kZXRyLXJlc25ldC01MC1wYW5vcHRpYyJ9LHR5cGU6Im11bHRpbW9kYWwifSwiemVyby1zaG90LWltYWdlLWNsYXNzaWZpY2F0aW9uIjp7dG9rZW5pemVyOnV0LHBpcGVsaW5lOlZ4LG1vZGVsOkhuLHByb2Nlc3NvcjpfdCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2NsaXAtdml0LWJhc2UtcGF0Y2gzMiJ9LHR5cGU6Im11bHRpbW9kYWwifSwib2JqZWN0LWRldGVjdGlvbiI6e3BpcGVsaW5lOkh4LG1vZGVsOkUxLHByb2Nlc3NvcjpfdCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2RldHItcmVzbmV0LTUwIn0sdHlwZToibXVsdGltb2RhbCJ9LCJ6ZXJvLXNob3Qtb2JqZWN0LWRldGVjdGlvbiI6e3Rva2VuaXplcjp1dCxwaXBlbGluZTpHeCxtb2RlbDpDMSxwcm9jZXNzb3I6X3QsZGVmYXVsdDp7bW9kZWw6Ilhlbm92YS9vd2x2aXQtYmFzZS1wYXRjaDMyIn0sdHlwZToibXVsdGltb2RhbCJ9LCJkb2N1bWVudC1xdWVzdGlvbi1hbnN3ZXJpbmciOnt0b2tlbml6ZXI6dXQscGlwZWxpbmU6cXgsbW9kZWw6VDEscHJvY2Vzc29yOl90LGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvZG9udXQtYmFzZS1maW5ldHVuZWQtZG9jdnFhIn0sdHlwZToibXVsdGltb2RhbCJ9LCJpbWFnZS10by1pbWFnZSI6e3BpcGVsaW5lOkt4LG1vZGVsOk8xLHByb2Nlc3NvcjpfdCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL3N3aW4yU1ItY2xhc3NpY2FsLXNyLXgyLTY0In0sdHlwZToiaW1hZ2UifSwiZGVwdGgtZXN0aW1hdGlvbiI6e3BpcGVsaW5lOll4LG1vZGVsOk0xLHByb2Nlc3NvcjpfdCxkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2RwdC1sYXJnZSJ9LHR5cGU6ImltYWdlIn0sImZlYXR1cmUtZXh0cmFjdGlvbiI6e3Rva2VuaXplcjp1dCxwaXBlbGluZTpSeCxtb2RlbDpIbixkZWZhdWx0Onttb2RlbDoiWGVub3ZhL2FsbC1NaW5pTE0tTDYtdjIifSx0eXBlOiJ0ZXh0In0sImltYWdlLWZlYXR1cmUtZXh0cmFjdGlvbiI6e3Byb2Nlc3NvcjpfdCxwaXBlbGluZTpQeCxtb2RlbDpbejEsSG5dLGRlZmF1bHQ6e21vZGVsOiJYZW5vdmEvdml0LWJhc2UtcGF0Y2gxNi0yMjQtaW4yMWsifSx0eXBlOiJpbWFnZSJ9fSksWHg9T2JqZWN0LmZyZWV6ZSh7InNlbnRpbWVudC1hbmFseXNpcyI6InRleHQtY2xhc3NpZmljYXRpb24iLG5lcjoidG9rZW4tY2xhc3NpZmljYXRpb24iLGFzcjoiYXV0b21hdGljLXNwZWVjaC1yZWNvZ25pdGlvbiIsInRleHQtdG8tc3BlZWNoIjoidGV4dC10by1hdWRpbyIsZW1iZWRkaW5nczoiZmVhdHVyZS1leHRyYWN0aW9uIn0pO2FzeW5jIGZ1bmN0aW9uIFF4KHQsZT1udWxsLHtwcm9ncmVzc19jYWxsYmFjazpyPW51bGwsY29uZmlnOm49bnVsbCxjYWNoZV9kaXI6YT1udWxsLGxvY2FsX2ZpbGVzX29ubHk6aT0hMSxyZXZpc2lvbjpzPSJtYWluIixkZXZpY2U6bz1udWxsLGR0eXBlOmw9bnVsbCxzZXNzaW9uX29wdGlvbnM6ZD17fX09e30pe3Q9WHhbdF0/P3Q7Y29uc3QgYz1MbVt0LnNwbGl0KCJfIiwxKVswXV07aWYoIWMpdGhyb3cgRXJyb3IoYFVuc3VwcG9ydGVkIHBpcGVsaW5lOiAke3R9LiBNdXN0IGJlIG9uZSBvZiBbJHtPYmplY3Qua2V5cyhMbSl9XWApO2V8fChlPWMuZGVmYXVsdC5tb2RlbCxjb25zb2xlLmxvZyhgTm8gbW9kZWwgc3BlY2lmaWVkLiBVc2luZyBkZWZhdWx0IG1vZGVsOiAiJHtlfSIuYCkpO2NvbnN0IHU9e3Byb2dyZXNzX2NhbGxiYWNrOnIsY29uZmlnOm4sY2FjaGVfZGlyOmEsbG9jYWxfZmlsZXNfb25seTppLHJldmlzaW9uOnMsZGV2aWNlOm8sZHR5cGU6bCxzZXNzaW9uX29wdGlvbnM6ZH0saD1uZXcgTWFwKFtbInRva2VuaXplciIsYy50b2tlbml6ZXJdLFsibW9kZWwiLGMubW9kZWxdLFsicHJvY2Vzc29yIixjLnByb2Nlc3Nvcl1dKSxmPWF3YWl0IFp4KGgsZSx1KTtmLnRhc2s9dCxCcihyLHtzdGF0dXM6InJlYWR5Iix0YXNrOnQsbW9kZWw6ZX0pO2NvbnN0IGc9Yy5waXBlbGluZTtyZXR1cm4gbmV3IGcoZil9YXN5bmMgZnVuY3Rpb24gWngodCxlLHIpe2NvbnN0IG49T2JqZWN0LmNyZWF0ZShudWxsKSxhPVtdO2ZvcihsZXRbaSxzXW9mIHQuZW50cmllcygpKXtpZighcyljb250aW51ZTtsZXQgbztBcnJheS5pc0FycmF5KHMpP289bmV3IFByb21pc2UoYXN5bmMobCxkKT0+e2xldCBjO2ZvcihsZXQgdSBvZiBzKXtpZih1PT09bnVsbCl7bChudWxsKTtyZXR1cm59dHJ5e2woYXdhaXQgdS5mcm9tX3ByZXRyYWluZWQoZSxyKSk7cmV0dXJufWNhdGNoKGgpe2lmKGgubWVzc2FnZT8uaW5jbHVkZXMoIlVuc3VwcG9ydGVkIG1vZGVsIHR5cGUiKSljPWg7ZWxzZXtkKGgpO3JldHVybn19fWQoYyl9KTpvPXMuZnJvbV9wcmV0cmFpbmVkKGUsciksbltpXT1vLGEucHVzaChvKX1hd2FpdCBQcm9taXNlLmFsbChhKTtmb3IobGV0W2ksc11vZiBPYmplY3QuZW50cmllcyhuKSluW2ldPWF3YWl0IHM7cmV0dXJuIG59Y29uc3QgSng9Ii9tb2RlbHMvIjt0dC5hbGxvd0xvY2FsTW9kZWxzPSExLHR0LmFsbG93UmVtb3RlTW9kZWxzPSEwO2NvbnN0IGUzPXt0cmFuc2xhdGlvbjptMywidGV4dC1nZW5lcmF0aW9uIjpnMywiY29kZS1jb21wbGV0aW9uIjpfMywibWFza2VkLWxhbmd1YWdlLW1vZGVsbGluZyI6eTMsInNlcXVlbmNlLWNsYXNzaWZpY2F0aW9uIjp3MywidG9rZW4tY2xhc3NpZmljYXRpb24iOnYzLCJ6ZXJvLXNob3QtY2xhc3NpZmljYXRpb24iOmIzLCJxdWVzdGlvbi1hbnN3ZXJpbmciOiQzLHN1bW1hcml6YXRpb246eDMsImF1dG9tYXRpYy1zcGVlY2gtcmVjb2duaXRpb24iOmszLCJpbWFnZS10by10ZXh0IjpTMywiaW1hZ2UtY2xhc3NpZmljYXRpb24iOkUzLCJ6ZXJvLXNob3QtaW1hZ2UtY2xhc3NpZmljYXRpb24iOkMzLCJvYmplY3QtZGV0ZWN0aW9uIjpJM307c2VsZi5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixhc3luYyB0PT57Y29uc3R7YmFzZVVSSTplfT10LmRhdGE7ZSYmKHR0LmxvY2FsTW9kZWxQYXRoPW5ldyBVUkwoZSkub3JpZ2luK0p4KTtjb25zdCByPXQuZGF0YTtsZXQgbj1lM1tyLnRhc2tdO2lmKCFuKXJldHVybjtsZXQgYT1hd2FpdCBuKHIpO3NlbGYucG9zdE1lc3NhZ2Uoe3Rhc2s6ci50YXNrLHR5cGU6InJlc3VsdCIsZGF0YTphfSl9KTtjbGFzcyB5dHtzdGF0aWMgdGFzaz1udWxsO3N0YXRpYyBtb2RlbD1udWxsO3N0YXRpYyBpbnN0YW5jZT1udWxsO2NvbnN0cnVjdG9yKGUscil7dGhpcy50b2tlbml6ZXI9ZSx0aGlzLm1vZGVsPXJ9c3RhdGljIGdldEluc3RhbmNlKGU9bnVsbCl7aWYodGhpcy50YXNrPT09bnVsbHx8dGhpcy5tb2RlbD09PW51bGwpdGhyb3cgRXJyb3IoIk11c3Qgc2V0IHRhc2sgYW5kIG1vZGVsIik7cmV0dXJuIHRoaXMuaW5zdGFuY2U9PT1udWxsJiYodGhpcy5pbnN0YW5jZT1ReCh0aGlzLnRhc2ssdGhpcy5tb2RlbCx7cHJvZ3Jlc3NfY2FsbGJhY2s6ZX0pKSx0aGlzLmluc3RhbmNlfX1jbGFzcyB0MyBleHRlbmRzIHl0e3N0YXRpYyB0YXNrPSJ0cmFuc2xhdGlvbiI7c3RhdGljIG1vZGVsPSJYZW5vdmEvdDUtc21hbGwifWNsYXNzIHIzIGV4dGVuZHMgeXR7c3RhdGljIHRhc2s9InRleHQtZ2VuZXJhdGlvbiI7c3RhdGljIG1vZGVsPSJYZW5vdmEvZGlzdGlsZ3B0MiJ9Y2xhc3MgbjMgZXh0ZW5kcyB5dHtzdGF0aWMgdGFzaz0idGV4dC1nZW5lcmF0aW9uIjtzdGF0aWMgbW9kZWw9Ilhlbm92YS9jb2RlZ2VuLTM1ME0tbW9ubyJ9Y2xhc3MgYTMgZXh0ZW5kcyB5dHtzdGF0aWMgdGFzaz0iZmlsbC1tYXNrIjtzdGF0aWMgbW9kZWw9Ilhlbm92YS9iZXJ0LWJhc2UtY2FzZWQifWNsYXNzIGkzIGV4dGVuZHMgeXR7c3RhdGljIHRhc2s9InRleHQtY2xhc3NpZmljYXRpb24iO3N0YXRpYyBtb2RlbD0iWGVub3ZhL2JlcnQtYmFzZS1tdWx0aWxpbmd1YWwtdW5jYXNlZC1zZW50aW1lbnQifWNsYXNzIHMzIGV4dGVuZHMgeXR7c3RhdGljIHRhc2s9InRva2VuLWNsYXNzaWZpY2F0aW9uIjtzdGF0aWMgbW9kZWw9Ilhlbm92YS9iZXJ0LWJhc2UtbXVsdGlsaW5ndWFsLWNhc2VkLW5lci1ocmwifWNsYXNzIG8zIGV4dGVuZHMgeXR7c3RhdGljIHRhc2s9Inplcm8tc2hvdC1jbGFzc2lmaWNhdGlvbiI7c3RhdGljIG1vZGVsPSJYZW5vdmEvZGlzdGlsYmVydC1iYXNlLXVuY2FzZWQtbW5saSJ9Y2xhc3MgbDMgZXh0ZW5kcyB5dHtzdGF0aWMgdGFzaz0icXVlc3Rpb24tYW5zd2VyaW5nIjtzdGF0aWMgbW9kZWw9Ilhlbm92YS9kaXN0aWxiZXJ0LWJhc2UtY2FzZWQtZGlzdGlsbGVkLXNxdWFkIn1jbGFzcyB1MyBleHRlbmRzIHl0e3N0YXRpYyB0YXNrPSJzdW1tYXJpemF0aW9uIjtzdGF0aWMgbW9kZWw9Ilhlbm92YS9kaXN0aWxiYXJ0LWNubi02LTYifWNsYXNzIGQzIGV4dGVuZHMgeXR7c3RhdGljIHRhc2s9ImF1dG9tYXRpYy1zcGVlY2gtcmVjb2duaXRpb24iO3N0YXRpYyBtb2RlbD0iWGVub3ZhL3doaXNwZXItdGlueS5lbiJ9Y2xhc3MgYzMgZXh0ZW5kcyB5dHtzdGF0aWMgdGFzaz0iaW1hZ2UtdG8tdGV4dCI7c3RhdGljIG1vZGVsPSJYZW5vdmEvdml0LWdwdDItaW1hZ2UtY2FwdGlvbmluZyJ9Y2xhc3MgcDMgZXh0ZW5kcyB5dHtzdGF0aWMgdGFzaz0iaW1hZ2UtY2xhc3NpZmljYXRpb24iO3N0YXRpYyBtb2RlbD0iWGVub3ZhL3ZpdC1iYXNlLXBhdGNoMTYtMjI0In1jbGFzcyBoMyBleHRlbmRzIHl0e3N0YXRpYyB0YXNrPSJ6ZXJvLXNob3QtaW1hZ2UtY2xhc3NpZmljYXRpb24iO3N0YXRpYyBtb2RlbD0iWGVub3ZhL2NsaXAtdml0LWJhc2UtcGF0Y2gxNiJ9Y2xhc3MgZjMgZXh0ZW5kcyB5dHtzdGF0aWMgdGFzaz0ib2JqZWN0LWRldGVjdGlvbiI7c3RhdGljIG1vZGVsPSJYZW5vdmEvZGV0ci1yZXNuZXQtNTAifWFzeW5jIGZ1bmN0aW9uIG0zKHQpe2xldCBlPWF3YWl0IHQzLmdldEluc3RhbmNlKHI9PntzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJkb3dubG9hZCIsdGFzazoidHJhbnNsYXRpb24iLGRhdGE6cn0pfSk7cmV0dXJuIGUudGFzaz1gdHJhbnNsYXRpb25fJHt0Lmxhbmd1YWdlRnJvbX1fdG9fJHt0Lmxhbmd1YWdlVG99YCxhd2FpdCBlKHQudGV4dCx7Li4udC5nZW5lcmF0aW9uLGNhbGxiYWNrX2Z1bmN0aW9uOmZ1bmN0aW9uKHIpe2NvbnN0IG49ZS50b2tlbml6ZXIuZGVjb2RlKHJbMF0ub3V0cHV0X3Rva2VuX2lkcyx7c2tpcF9zcGVjaWFsX3Rva2VuczohMH0pO3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6InVwZGF0ZSIsdGFyZ2V0OnQuZWxlbWVudElkVG9VcGRhdGUsZGF0YTpufSl9fSl9YXN5bmMgZnVuY3Rpb24gZzModCl7bGV0IGU9YXdhaXQgcjMuZ2V0SW5zdGFuY2Uobj0+e3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImRvd25sb2FkIix0YXNrOiJ0ZXh0LWdlbmVyYXRpb24iLGRhdGE6bn0pfSkscj10LnRleHQudHJpbSgpO3JldHVybiBhd2FpdCBlKHIsey4uLnQuZ2VuZXJhdGlvbixjYWxsYmFja19mdW5jdGlvbjpmdW5jdGlvbihuKXtjb25zdCBhPWUudG9rZW5pemVyLmRlY29kZShuWzBdLm91dHB1dF90b2tlbl9pZHMse3NraXBfc3BlY2lhbF90b2tlbnM6ITB9KTtzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJ1cGRhdGUiLHRhcmdldDp0LmVsZW1lbnRJZFRvVXBkYXRlLGRhdGE6YX0pfX0pfWFzeW5jIGZ1bmN0aW9uIF8zKHQpe2xldCBlPWF3YWl0IG4zLmdldEluc3RhbmNlKG49PntzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJkb3dubG9hZCIsdGFzazoiY29kZS1jb21wbGV0aW9uIixkYXRhOm59KX0pLHI9dC50ZXh0O3JldHVybiBhd2FpdCBlKHIsey4uLnQuZ2VuZXJhdGlvbixjYWxsYmFja19mdW5jdGlvbjpmdW5jdGlvbihuKXtjb25zdCBhPWUudG9rZW5pemVyLmRlY29kZShuWzBdLm91dHB1dF90b2tlbl9pZHMse3NraXBfc3BlY2lhbF90b2tlbnM6ITB9KTtzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJ1cGRhdGUiLHRhcmdldDp0LmVsZW1lbnRJZFRvVXBkYXRlLHRhcmdldFR5cGU6dC50YXJnZXRUeXBlLGRhdGE6YX0pfX0pfWFzeW5jIGZ1bmN0aW9uIHkzKHQpe2xldCBlPWF3YWl0KGF3YWl0IGEzLmdldEluc3RhbmNlKHI9PntzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJkb3dubG9hZCIsdGFzazoibWFza2VkLWxhbmd1YWdlLW1vZGVsbGluZyIsZGF0YTpyfSl9KSkodC50ZXh0LHQuZ2VuZXJhdGlvbik7cmV0dXJuIHNlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6InVwZGF0ZSIsdGFyZ2V0OnQuZWxlbWVudElkVG9VcGRhdGUsZGF0YTplLm1hcChyPT5yLnNlcXVlbmNlKS5qb2luKGAKYCl9KSxlfWFzeW5jIGZ1bmN0aW9uIHczKHQpe2xldCBlPWF3YWl0KGF3YWl0IGkzLmdldEluc3RhbmNlKHI9PntzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJkb3dubG9hZCIsdGFzazoic2VxdWVuY2UtY2xhc3NpZmljYXRpb24iLGRhdGE6cn0pfSkpKHQudGV4dCx7dG9wazo1fSk7c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToiY29tcGxldGUiLHRhcmdldDp0LmVsZW1lbnRJZFRvVXBkYXRlLHRhcmdldFR5cGU6dC50YXJnZXRUeXBlLGRhdGE6ZX0pfWFzeW5jIGZ1bmN0aW9uIHYzKHQpe2xldCBlPWF3YWl0IHMzLmdldEluc3RhbmNlKHM9PntzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJkb3dubG9hZCIsdGFzazoidG9rZW4tY2xhc3NpZmljYXRpb24iLGRhdGE6c30pfSkscj1hd2FpdCBlKHQudGV4dCx7aWdub3JlX2xhYmVsczpbXX0pLG49W10sYT17dHlwZToiIix0ZXh0OltdfTtmb3IobGV0IHM9MDtzPHIubGVuZ3RoO3MrKyl7bGV0IG89ZS50b2tlbml6ZXIubW9kZWwudG9rZW5zX3RvX2lkcy5nZXQocltzXS53b3JkKSxsPXJbc10uZW50aXR5O2wuc3RhcnRzV2l0aCgiQi0iKT8oYS50ZXh0Lmxlbmd0aD4wJiYobi5wdXNoKGEpLGE9e3R5cGU6IiIsdGV4dDpbXX0pLGEudHlwZT1sLnNsaWNlKDIpLGEudGV4dD1bb10pOmwuc3RhcnRzV2l0aCgiSS0iKT9hLnRleHQucHVzaChvKTphLnRleHQubGVuZ3RoPjA/YS50eXBlPT09Ik8iP2EudGV4dC5wdXNoKG8pOihuLnB1c2goYSksYT17dHlwZToiTyIsdGV4dDpbb119KTphPXt0eXBlOiJPIix0ZXh0OltvXX19YS50ZXh0Lmxlbmd0aD4wJiZuLnB1c2goYSk7bGV0IGk9bi5tYXAocz0+KHt0eXBlOnMudHlwZSx0ZXh0OmUudG9rZW5pemVyLmRlY29kZShzLnRleHQpfSkpO3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImNvbXBsZXRlIix0YXJnZXQ6dC5lbGVtZW50SWRUb1VwZGF0ZSx0YXJnZXRUeXBlOnQudGFyZ2V0VHlwZSxkYXRhOml9KX1hc3luYyBmdW5jdGlvbiBiMyh0KXtsZXQgZT1hd2FpdChhd2FpdCBvMy5nZXRJbnN0YW5jZShuPT57c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToiZG93bmxvYWQiLHRhc2s6Inplcm8tc2hvdC1jbGFzc2lmaWNhdGlvbiIsZGF0YTpufSl9KSkodC50ZXh0LHQuY2xhc3Nlcyx0LmdlbmVyYXRpb24pLHI9ZS5sYWJlbHMubWFwKChuLGEpPT4oe2xhYmVsOm4sc2NvcmU6ZS5zY29yZXNbYV19KSk7c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToiY29tcGxldGUiLHRhcmdldDp0LmVsZW1lbnRJZFRvVXBkYXRlLHRhcmdldFR5cGU6dC50YXJnZXRUeXBlLGRhdGE6cn0pfWFzeW5jIGZ1bmN0aW9uICQzKHQpe2xldCBlPWF3YWl0KGF3YWl0IGwzLmdldEluc3RhbmNlKHI9PntzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJkb3dubG9hZCIsdGFzazoicXVlc3Rpb24tYW5zd2VyaW5nIixkYXRhOnJ9KX0pKSh0LnF1ZXN0aW9uLHQuY29udGV4dCk7cmV0dXJuIHNlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImNvbXBsZXRlIix0YXJnZXQ6dC5lbGVtZW50SWRUb1VwZGF0ZSxkYXRhOmUuYW5zd2VyfSksZX1hc3luYyBmdW5jdGlvbiB4Myh0KXtsZXQgZT1hd2FpdCB1My5nZXRJbnN0YW5jZShyPT57c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToiZG93bmxvYWQiLHRhc2s6InN1bW1hcml6YXRpb24iLGRhdGE6cn0pfSk7cmV0dXJuIGF3YWl0IGUodC50ZXh0LHsuLi50LmdlbmVyYXRpb24sY2FsbGJhY2tfZnVuY3Rpb246ZnVuY3Rpb24ocil7Y29uc3Qgbj1lLnRva2VuaXplci5kZWNvZGUoclswXS5vdXRwdXRfdG9rZW5faWRzLHtza2lwX3NwZWNpYWxfdG9rZW5zOiEwfSk7c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToidXBkYXRlIix0YXJnZXQ6dC5lbGVtZW50SWRUb1VwZGF0ZSxkYXRhOm4udHJpbSgpfSl9fSl9YXN5bmMgZnVuY3Rpb24gazModCl7bGV0IGU9YXdhaXQgZDMuZ2V0SW5zdGFuY2Uocj0+e3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImRvd25sb2FkIix0YXNrOiJhdXRvbWF0aWMtc3BlZWNoLXJlY29nbml0aW9uIixkYXRhOnJ9KX0pO3JldHVybiBhd2FpdCBlKHQuYXVkaW8se2NodW5rX2xlbmd0aF9zOjMwLHN0cmlkZV9sZW5ndGhfczo1LC4uLnQuZ2VuZXJhdGlvbixjYWxsYmFja19mdW5jdGlvbjpmdW5jdGlvbihyKXtjb25zdCBuPWUudG9rZW5pemVyLmRlY29kZShyWzBdLm91dHB1dF90b2tlbl9pZHMse3NraXBfc3BlY2lhbF90b2tlbnM6ITB9KTtzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJ1cGRhdGUiLHRhcmdldDp0LmVsZW1lbnRJZFRvVXBkYXRlLGRhdGE6bi50cmltKCl9KX19KX1hc3luYyBmdW5jdGlvbiBTMyh0KXtsZXQgZT1hd2FpdCBjMy5nZXRJbnN0YW5jZShyPT57c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToiZG93bmxvYWQiLHRhc2s6ImltYWdlLXRvLXRleHQiLGRhdGE6cn0pfSk7cmV0dXJuIGF3YWl0IGUodC5pbWFnZSx7Li4udC5nZW5lcmF0aW9uLGNhbGxiYWNrX2Z1bmN0aW9uOmZ1bmN0aW9uKHIpe2NvbnN0IG49ZS50b2tlbml6ZXIuZGVjb2RlKHJbMF0ub3V0cHV0X3Rva2VuX2lkcyx7c2tpcF9zcGVjaWFsX3Rva2VuczohMH0pO3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6InVwZGF0ZSIsdGFyZ2V0OnQuZWxlbWVudElkVG9VcGRhdGUsZGF0YTpuLnRyaW0oKX0pfX0pfWFzeW5jIGZ1bmN0aW9uIEUzKHQpe2xldCBlPWF3YWl0KGF3YWl0IHAzLmdldEluc3RhbmNlKHI9PntzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJkb3dubG9hZCIsdGFzazoiaW1hZ2UtY2xhc3NpZmljYXRpb24iLGRhdGE6cn0pfSkpKHQuaW1hZ2Use3RvcGs6NX0pO3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImNvbXBsZXRlIix0YXJnZXQ6dC5lbGVtZW50SWRUb1VwZGF0ZSx0YXJnZXRUeXBlOnQudGFyZ2V0VHlwZSx1cGRhdGVMYWJlbHM6dC51cGRhdGVMYWJlbHMsZGF0YTplfSl9YXN5bmMgZnVuY3Rpb24gQzModCl7bGV0IGU9YXdhaXQoYXdhaXQgaDMuZ2V0SW5zdGFuY2Uocj0+e3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImRvd25sb2FkIix0YXNrOiJpbWFnZS1jbGFzc2lmaWNhdGlvbiIsZGF0YTpyfSl9KSkodC5pbWFnZSx0LmNsYXNzZXMpO3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImNvbXBsZXRlIix0YXJnZXQ6dC5lbGVtZW50SWRUb1VwZGF0ZSx0YXJnZXRUeXBlOnQudGFyZ2V0VHlwZSx1cGRhdGVMYWJlbHM6dC51cGRhdGVMYWJlbHMsZGF0YTplfSl9YXN5bmMgZnVuY3Rpb24gSTModCl7bGV0IGU9YXdhaXQoYXdhaXQgZjMuZ2V0SW5zdGFuY2Uocj0+e3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImRvd25sb2FkIix0YXNrOiJvYmplY3QtZGV0ZWN0aW9uIixkYXRhOnJ9KX0pKSh0LmltYWdlLHt0aHJlc2hvbGQ6LjkscGVyY2VudGFnZTohMH0pO3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6ImNvbXBsZXRlIix0YXJnZXQ6dC5lbGVtZW50SWRUb1VwZGF0ZSx0YXJnZXRUeXBlOnQudGFyZ2V0VHlwZSxjaGFydElkOnQuY2hhcnRJZCxkYXRhOmV9KX19KSgpfSgpOwo=",X=l=>Uint8Array.from(atob(l),Z=>Z.charCodeAt(0)),b=typeof window<"u"&&window.Blob&&new Blob([X(d)],{type:"text/javascript;charset=utf-8"});function G(l){let Z;try{if(Z=b&&(window.URL||window.webkitURL).createObjectURL(b),!Z)throw"";const I=new Worker(Z,{name:l?.name});return I.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(Z)}),I}catch{return new Worker("data:text/javascript;base64,"+d,{name:l?.name})}finally{Z&&(window.URL||window.webkitURL).revokeObjectURL(Z)}}export{G as W};
