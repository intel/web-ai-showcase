/*!
 * ONNX Runtime Web v1.18.0
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */
"use strict";var ort=(()=>{var nr=Object.defineProperty;var xa=Object.getOwnPropertyDescriptor;var Pa=Object.getOwnPropertyNames;var Ra=Object.prototype.hasOwnProperty;var H=(r,t)=>()=>(r&&(t=r(r=0)),t);var ot=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),it=(r,t)=>{for(var n in t)nr(r,n,{get:t[n],enumerable:!0})},Da=(r,t,n,f)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Pa(t))!Ra.call(r,i)&&i!==n&&nr(r,i,{get:()=>t[i],enumerable:!(f=xa(t,i))||f.enumerable});return r};var Ve=r=>Da(nr({},"__esModule",{value:!0}),r);var Ut,Xe,st,Ua,Ft,It=H(()=>{"use strict";Ut=new Map,Xe=[],st=(r,t,n)=>{if(t&&typeof t.init=="function"&&typeof t.createInferenceSessionHandler=="function"){let f=Ut.get(r);if(f===void 0)Ut.set(r,{backend:t,priority:n});else{if(f.priority>n)return;if(f.priority===n&&f.backend!==t)throw new Error(`cannot register backend "${r}" using priority ${n}`)}if(n>=0){let i=Xe.indexOf(r);i!==-1&&Xe.splice(i,1);for(let m=0;m<Xe.length;m++)if(Ut.get(Xe[m]).priority<=n){Xe.splice(m,0,r);return}Xe.push(r)}return}throw new TypeError("not a valid backend")},Ua=async r=>{let t=Ut.get(r);if(!t)return"backend not found.";if(t.initialized)return t.backend;if(t.aborted)return t.error;{let n=!!t.initPromise;try{return n||(t.initPromise=t.backend.init(r)),await t.initPromise,t.initialized=!0,t.backend}catch(f){return n||(t.error=`${f}`,t.aborted=!0),t.error}finally{delete t.initPromise}}},Ft=async r=>{let t=r.executionProviders||[],n=t.map(h=>typeof h=="string"?h:h.name),f=n.length===0?Xe:n,i,m=[],d=new Set;for(let h of f){let g=await Ua(h);typeof g=="string"?m.push({name:h,err:g}):(i||(i=g),i===g&&d.add(h))}if(!i)throw new Error(`no available backend found. ERR: ${m.map(h=>`[${h.name}] ${h.err}`).join(", ")}`);for(let{name:h,err:g}of m)n.includes(h)&&console.warn(`removing requested execution provider "${h}" from session options because it is not available: ${g}`);let s=t.filter(h=>d.has(typeof h=="string"?h:h.name));return[i,new Proxy(r,{get:(h,g)=>g==="executionProviders"?s:Reflect.get(h,g)})]}});var en=H(()=>{"use strict";It()});var tn,rn=H(()=>{"use strict";tn="1.18.0"});var nn,ve,ar=H(()=>{"use strict";rn();nn="warning",ve={wasm:{},webgl:{},webgpu:{},versions:{common:tn},set logLevel(r){if(r!==void 0){if(typeof r!="string"||["verbose","info","warning","error","fatal"].indexOf(r)===-1)throw new Error(`Unsupported logging level: ${r}`);nn=r}},get logLevel(){return nn}};Object.defineProperty(ve,"logLevel",{enumerable:!0})});var G,an=H(()=>{"use strict";ar();G=ve});var on,sn,un=H(()=>{"use strict";on=(r,t)=>{let n=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);n.width=r.dims[3],n.height=r.dims[2];let f=n.getContext("2d");if(f!=null){let i,m;t?.tensorLayout!==void 0&&t.tensorLayout==="NHWC"?(i=r.dims[2],m=r.dims[3]):(i=r.dims[3],m=r.dims[2]);let d=t?.format!==void 0?t.format:"RGB",s=t?.norm,h,g;s===void 0||s.mean===void 0?h=[255,255,255,255]:typeof s.mean=="number"?h=[s.mean,s.mean,s.mean,s.mean]:(h=[s.mean[0],s.mean[1],s.mean[2],0],s.mean[3]!==void 0&&(h[3]=s.mean[3])),s===void 0||s.bias===void 0?g=[0,0,0,0]:typeof s.bias=="number"?g=[s.bias,s.bias,s.bias,s.bias]:(g=[s.bias[0],s.bias[1],s.bias[2],0],s.bias[3]!==void 0&&(g[3]=s.bias[3]));let O=m*i,E=0,v=O,C=O*2,x=-1;d==="RGBA"?(E=0,v=O,C=O*2,x=O*3):d==="RGB"?(E=0,v=O,C=O*2):d==="RBG"&&(E=0,C=O,v=O*2);for(let P=0;P<m;P++)for(let T=0;T<i;T++){let B=(r.data[E++]-g[0])*h[0],k=(r.data[v++]-g[1])*h[1],N=(r.data[C++]-g[2])*h[2],V=x===-1?255:(r.data[x++]-g[3])*h[3];f.fillStyle="rgba("+B+","+k+","+N+","+V+")",f.fillRect(T,P,1,1)}if("toDataURL"in n)return n.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")},sn=(r,t)=>{let n=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),f;if(n!=null){let i,m,d;t?.tensorLayout!==void 0&&t.tensorLayout==="NHWC"?(i=r.dims[2],m=r.dims[1],d=r.dims[3]):(i=r.dims[3],m=r.dims[2],d=r.dims[1]);let s=t!==void 0&&t.format!==void 0?t.format:"RGB",h=t?.norm,g,O;h===void 0||h.mean===void 0?g=[255,255,255,255]:typeof h.mean=="number"?g=[h.mean,h.mean,h.mean,h.mean]:(g=[h.mean[0],h.mean[1],h.mean[2],255],h.mean[3]!==void 0&&(g[3]=h.mean[3])),h===void 0||h.bias===void 0?O=[0,0,0,0]:typeof h.bias=="number"?O=[h.bias,h.bias,h.bias,h.bias]:(O=[h.bias[0],h.bias[1],h.bias[2],0],h.bias[3]!==void 0&&(O[3]=h.bias[3]));let E=m*i;if(t!==void 0&&(t.format!==void 0&&d===4&&t.format!=="RGBA"||d===3&&t.format!=="RGB"&&t.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let v=4,C=0,x=1,P=2,T=3,B=0,k=E,N=E*2,V=-1;s==="RGBA"?(B=0,k=E,N=E*2,V=E*3):s==="RGB"?(B=0,k=E,N=E*2):s==="RBG"&&(B=0,N=E,k=E*2),f=n.createImageData(i,m);for(let Y=0;Y<m*i;C+=v,x+=v,P+=v,T+=v,Y++)f.data[C]=(r.data[B++]-O[0])*g[0],f.data[x]=(r.data[k++]-O[1])*g[1],f.data[P]=(r.data[N++]-O[2])*g[2],f.data[T]=V===-1?255:(r.data[V++]-O[3])*g[3]}else throw new Error("Can not access image data");return f}});var or,fn,ln,cn,dn,pn=H(()=>{"use strict";Bt();or=(r,t)=>{if(r===void 0)throw new Error("Image buffer must be defined");if(t.height===void 0||t.width===void 0)throw new Error("Image height and width must be defined");if(t.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:n,width:f}=t,i=t.norm??{mean:255,bias:0},m,d;typeof i.mean=="number"?m=[i.mean,i.mean,i.mean,i.mean]:m=[i.mean[0],i.mean[1],i.mean[2],i.mean[3]??255],typeof i.bias=="number"?d=[i.bias,i.bias,i.bias,i.bias]:d=[i.bias[0],i.bias[1],i.bias[2],i.bias[3]??0];let s=t.format!==void 0?t.format:"RGBA",h=t.tensorFormat!==void 0&&t.tensorFormat!==void 0?t.tensorFormat:"RGB",g=n*f,O=h==="RGBA"?new Float32Array(g*4):new Float32Array(g*3),E=4,v=0,C=1,x=2,P=3,T=0,B=g,k=g*2,N=-1;s==="RGB"&&(E=3,v=0,C=1,x=2,P=-1),h==="RGBA"?N=g*3:h==="RBG"?(T=0,k=g,B=g*2):h==="BGR"&&(k=0,B=g,T=g*2);for(let Y=0;Y<g;Y++,v+=E,x+=E,C+=E,P+=E)O[T++]=(r[v]+d[0])/m[0],O[B++]=(r[C]+d[1])/m[1],O[k++]=(r[x]+d[2])/m[2],N!==-1&&P!==-1&&(O[N++]=(r[P]+d[3])/m[3]);return h==="RGBA"?new ge("float32",O,[1,4,n,f]):new ge("float32",O,[1,3,n,f])},fn=async(r,t)=>{let n=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,f=typeof ImageData<"u"&&r instanceof ImageData,i=typeof ImageBitmap<"u"&&r instanceof ImageBitmap,m=typeof r=="string",d,s=t??{},h=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},g=O=>O instanceof HTMLCanvasElement||O instanceof OffscreenCanvas?O.getContext("2d"):null;if(n){let O=h();O.width=r.width,O.height=r.height;let E=g(O);if(E!=null){let v=r.height,C=r.width;if(t!==void 0&&t.resizedHeight!==void 0&&t.resizedWidth!==void 0&&(v=t.resizedHeight,C=t.resizedWidth),t!==void 0){if(s=t,t.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");s.tensorFormat="RGBA",s.height=v,s.width=C}else s.tensorFormat="RGBA",s.height=v,s.width=C;E.drawImage(r,0,0),d=E.getImageData(0,0,C,v).data}else throw new Error("Can not access image data")}else if(f){let O,E;if(t!==void 0&&t.resizedWidth!==void 0&&t.resizedHeight!==void 0?(O=t.resizedHeight,E=t.resizedWidth):(O=r.height,E=r.width),t!==void 0&&(s=t),s.format="RGBA",s.height=O,s.width=E,t!==void 0){let v=h();v.width=E,v.height=O;let C=g(v);if(C!=null)C.putImageData(r,0,0),d=C.getImageData(0,0,E,O).data;else throw new Error("Can not access image data")}else d=r.data}else if(i){if(t===void 0)throw new Error("Please provide image config with format for Imagebitmap");let O=h();O.width=r.width,O.height=r.height;let E=g(O);if(E!=null){let v=r.height,C=r.width;return E.drawImage(r,0,0,C,v),d=E.getImageData(0,0,C,v).data,s.height=v,s.width=C,or(d,s)}else throw new Error("Can not access image data")}else{if(m)return new Promise((O,E)=>{let v=h(),C=g(v);if(!r||!C)return E();let x=new Image;x.crossOrigin="Anonymous",x.src=r,x.onload=()=>{v.width=x.width,v.height=x.height,C.drawImage(x,0,0,v.width,v.height);let P=C.getImageData(0,0,v.width,v.height);s.height=v.height,s.width=v.width,O(or(P.data,s))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(d!==void 0)return or(d,s);throw new Error("Input data provided is not supported - aborted tensor creation")},ln=(r,t)=>{let{width:n,height:f,download:i,dispose:m}=t,d=[1,f,n,4];return new ge({location:"texture",type:"float32",texture:r,dims:d,download:i,dispose:m})},cn=(r,t)=>{let{dataType:n,dims:f,download:i,dispose:m}=t;return new ge({location:"gpu-buffer",type:n??"float32",gpuBuffer:r,dims:f,download:i,dispose:m})},dn=(r,t,n)=>new ge({location:"cpu-pinned",type:r,data:t,dims:n??[t.length]})});var Je,vt,mn,hn,gn=H(()=>{"use strict";Je=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),vt=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),mn=!1,hn=()=>{if(!mn){mn=!0;let r=typeof BigInt64Array<"u"&&BigInt64Array.from,t=typeof BigUint64Array<"u"&&BigUint64Array.from,n=typeof Float16Array<"u"&&Float16Array.from;r&&(Je.set("int64",BigInt64Array),vt.set(BigInt64Array,"int64")),t&&(Je.set("uint64",BigUint64Array),vt.set(BigUint64Array,"uint64")),n?(Je.set("float16",Float16Array),vt.set(Float16Array,"float16")):Je.set("float16",Uint16Array)}}});var yn,wn,bn=H(()=>{"use strict";Bt();yn=r=>{let t=1;for(let n=0;n<r.length;n++){let f=r[n];if(typeof f!="number"||!Number.isSafeInteger(f))throw new TypeError(`dims[${n}] must be an integer, got: ${f}`);if(f<0)throw new RangeError(`dims[${n}] must be a non-negative integer, got: ${f}`);t*=f}return t},wn=(r,t)=>{switch(r.location){case"cpu":return new ge(r.type,r.data,t);case"cpu-pinned":return new ge({location:"cpu-pinned",data:r.data,type:r.type,dims:t});case"texture":return new ge({location:"texture",texture:r.texture,type:r.type,dims:t});case"gpu-buffer":return new ge({location:"gpu-buffer",gpuBuffer:r.gpuBuffer,type:r.type,dims:t});default:throw new Error(`tensorReshape: tensor location ${r.location} is not supported`)}}});var ge,Bt=H(()=>{"use strict";un();pn();gn();bn();ge=class{constructor(t,n,f){hn();let i,m;if(typeof t=="object"&&"location"in t)switch(this.dataLocation=t.location,i=t.type,m=t.dims,t.location){case"cpu-pinned":{let s=Je.get(i);if(!s)throw new TypeError(`unsupported type "${i}" to create tensor from pinned buffer`);if(!(t.data instanceof s))throw new TypeError(`buffer should be of type ${s.name}`);this.cpuData=t.data;break}case"texture":{if(i!=="float32")throw new TypeError(`unsupported type "${i}" to create tensor from texture`);this.gpuTextureData=t.texture,this.downloader=t.download,this.disposer=t.dispose;break}case"gpu-buffer":{if(i!=="float32"&&i!=="float16"&&i!=="int32"&&i!=="int64"&&i!=="uint32"&&i!=="uint8"&&i!=="bool")throw new TypeError(`unsupported type "${i}" to create tensor from gpu buffer`);this.gpuBufferData=t.gpuBuffer,this.downloader=t.download,this.disposer=t.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let s,h;if(typeof t=="string")if(i=t,h=f,t==="string"){if(!Array.isArray(n))throw new TypeError("A string tensor's data must be a string array.");s=n}else{let g=Je.get(t);if(g===void 0)throw new TypeError(`Unsupported tensor type: ${t}.`);if(Array.isArray(n)){if(t==="float16"&&g===Uint16Array)throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");t==="uint64"||t==="int64"?s=g.from(n,BigInt):s=g.from(n)}else if(n instanceof g)s=n;else throw new TypeError(`A ${i} tensor's data must be type of ${g}`)}else if(h=n,Array.isArray(t)){if(t.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let g=typeof t[0];if(g==="string")i="string",s=t;else if(g==="boolean")i="bool",s=Uint8Array.from(t);else throw new TypeError(`Invalid element type of data array: ${g}.`)}else{let g=vt.get(t.constructor);if(g===void 0)throw new TypeError(`Unsupported type for tensor data: ${t.constructor}.`);i=g,s=t}if(h===void 0)h=[s.length];else if(!Array.isArray(h))throw new TypeError("A tensor's dims must be a number array");m=h,this.cpuData=s,this.dataLocation="cpu"}let d=yn(m);if(this.cpuData&&d!==this.cpuData.length)throw new Error(`Tensor's size(${d}) does not match data length(${this.cpuData.length}).`);this.type=i,this.dims=m,this.size=d}static async fromImage(t,n){return fn(t,n)}static fromTexture(t,n){return ln(t,n)}static fromGpuBuffer(t,n){return cn(t,n)}static fromPinnedBuffer(t,n,f){return dn(t,n,f)}toDataURL(t){return on(this,t)}toImageData(t){return sn(this,t)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(t){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let n=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=n,t&&this.disposer&&(this.disposer(),this.disposer=void 0),n}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(t){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return wn(this,t)}}});var ce,Lt=H(()=>{"use strict";Bt();ce=ge});var ir,vn,He,$e,sr=H(()=>{"use strict";ar();ir=(r,t)=>{(typeof ve.trace>"u"?!ve.wasm.trace:!ve.trace)||console.timeStamp(`${r}::ORT::${t}`)},vn=(r,t)=>{let n=new Error().stack?.split(/\r\n|\r|\n/g)||[],f=!1;for(let i=0;i<n.length;i++){if(f&&!n[i].includes("TRACE_FUNC")){let m=`FUNC_${r}::${n[i].trim().split(" ")[1]}`;t&&(m+=`::${t}`),ir("CPU",m);return}n[i].includes("TRACE_FUNC")&&(f=!0)}},He=r=>{(typeof ve.trace>"u"?!ve.wasm.trace:!ve.trace)||vn("BEGIN",r)},$e=r=>{(typeof ve.trace>"u"?!ve.wasm.trace:!ve.trace)||vn("END",r)}});var kt,On=H(()=>{"use strict";It();Lt();sr();kt=class r{constructor(t){this.handler=t}async run(t,n,f){He();let i={},m={};if(typeof t!="object"||t===null||t instanceof ce||Array.isArray(t))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let d=!0;if(typeof n=="object"){if(n===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(n instanceof ce)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(n)){if(n.length===0)throw new TypeError("'fetches' cannot be an empty array.");d=!1;for(let g of n){if(typeof g!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(g)===-1)throw new RangeError(`'fetches' contains invalid output name: ${g}.`);i[g]=null}if(typeof f=="object"&&f!==null)m=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else{let g=!1,O=Object.getOwnPropertyNames(n);for(let E of this.outputNames)if(O.indexOf(E)!==-1){let v=n[E];(v===null||v instanceof ce)&&(g=!0,d=!1,i[E]=v)}if(g){if(typeof f=="object"&&f!==null)m=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else m=n}}else if(typeof n<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let g of this.inputNames)if(typeof t[g]>"u")throw new Error(`input '${g}' is missing in 'feeds'.`);if(d)for(let g of this.outputNames)i[g]=null;let s=await this.handler.run(t,i,m),h={};for(let g in s)if(Object.hasOwnProperty.call(s,g)){let O=s[g];O instanceof ce?h[g]=O:h[g]=new ce(O.type,O.data,O.dims)}return $e(),h}async release(){return this.handler.dispose()}static async create(t,n,f,i){He();let m,d={};if(typeof t=="string"){if(m=t,typeof n=="object"&&n!==null)d=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(t instanceof Uint8Array){if(m=t,typeof n=="object"&&n!==null)d=n;else if(typeof n<"u")throw new TypeError("'options' must be an object.")}else if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer){let O=t,E=0,v=t.byteLength;if(typeof n=="object"&&n!==null)d=n;else if(typeof n=="number"){if(E=n,!Number.isSafeInteger(E))throw new RangeError("'byteOffset' must be an integer.");if(E<0||E>=O.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${O.byteLength}).`);if(v=t.byteLength-E,typeof f=="number"){if(v=f,!Number.isSafeInteger(v))throw new RangeError("'byteLength' must be an integer.");if(v<=0||E+v>O.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${O.byteLength-E}].`);if(typeof i=="object"&&i!==null)d=i;else if(typeof i<"u")throw new TypeError("'options' must be an object.")}else if(typeof f<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof n<"u")throw new TypeError("'options' must be an object.");m=new Uint8Array(O,E,v)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let[s,h]=await Ft(d),g=await s.createInferenceSessionHandler(m,h);return $e(),new r(g)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}});var En,_n=H(()=>{"use strict";On();En=kt});var An=H(()=>{"use strict"});var Tn=H(()=>{"use strict"});var Sn=H(()=>{"use strict"});var Mn=H(()=>{"use strict"});var Fa,Nt,Cn=H(()=>{"use strict";It();Lt();Fa="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",Nt=class r{constructor(t,n,f){this.handler=t,this.hasOptimizerModel=n,this.hasEvalModel=f}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(t,n){let f=t.evalModel||"",i=t.optimizerModel||"",m=n||{},[d,s]=await Ft(m);if(d.createTrainingSessionHandler){let h=await d.createTrainingSessionHandler(t.checkpointState,t.trainModel,f,i,s);return new r(h,!!t.optimizerModel,!!t.evalModel)}else throw new Error(Fa)}typeNarrowingForRunStep(t,n,f,i,m){let d={},s={};if(typeof f!="object"||f===null||f instanceof ce||Array.isArray(f))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let h=!0;if(typeof i=="object"){if(i===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(i instanceof ce)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(i)){if(i.length===0)throw new TypeError("'fetches' cannot be an empty array.");h=!1;for(let g of i){if(typeof g!="string")throw new TypeError("'fetches' must be a string array or an object.");if(n.indexOf(g)===-1)throw new RangeError(`'fetches' contains invalid output name: ${g}.`);d[g]=null}if(typeof m=="object"&&m!==null)s=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else{let g=!1,O=Object.getOwnPropertyNames(i);for(let E of n)if(O.indexOf(E)!==-1){let v=i[E];(v===null||v instanceof ce)&&(g=!0,h=!1,d[E]=v)}if(g){if(typeof m=="object"&&m!==null)s=m;else if(typeof m<"u")throw new TypeError("'options' must be an object.")}else s=i}}else if(typeof i<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let g of t)if(typeof f[g]>"u")throw new Error(`input '${g}' is missing in 'feeds'.`);if(h)for(let g of n)d[g]=null;return[d,s]}convertHandlerReturnTypeToMapOfTensors(t){let n={};for(let f in t)if(Object.hasOwnProperty.call(t,f)){let i=t[f];i instanceof ce?n[f]=i:n[f]=new ce(i.type,i.data,i.dims)}return n}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(t,n,f){let[i,m]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,t,n,f),d=await this.handler.runTrainStep(t,i,m);return this.convertHandlerReturnTypeToMapOfTensors(d)}async runOptimizerStep(t){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(t||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(t,n,f){if(this.hasEvalModel){let[i,m]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,t,n,f),d=await this.handler.runEvalStep(t,i,m);return this.convertHandlerReturnTypeToMapOfTensors(d)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(t=!0){return this.handler.getParametersSize(t)}async loadParametersBuffer(t,n=!0){let f=await this.getParametersSize(n);if(t.length!==4*f)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(t,n)}async getContiguousParameters(t=!0){return this.handler.getContiguousParameters(t)}async release(){return this.handler.dispose()}}});var xn,Pn=H(()=>{"use strict";Cn();xn=Nt});var ur={};it(ur,{InferenceSession:()=>En,TRACE:()=>ir,TRACE_FUNC_BEGIN:()=>He,TRACE_FUNC_END:()=>$e,Tensor:()=>ce,TrainingSession:()=>xn,env:()=>G,registerBackend:()=>st});var Qe=H(()=>{"use strict";en();an();_n();Lt();An();Tn();sr();Sn();Mn();Pn()});var fr={};it(fr,{createReadStream:()=>Dn,readFile:()=>Ia,readFileSync:()=>Ba});var Ia,Ba,Dn,lr=H(()=>{Ia=void 0,Ba=void 0,Dn=void 0});var cr={};it(cr,{join:()=>La});var La,dr=H(()=>{La=void 0});var In=ot((Fn,pr)=>{"use strict";var Un=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(t={}){var n=t,f,i;n.ready=new Promise((o,l)=>{f=o,i=l});var m=Object.assign({},n),d="./this.program",s=typeof window=="object",h=typeof importScripts=="function",g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",O="",E,v,C;if(g){var x=(lr(),Ve(fr)),P=(dr(),Ve(cr));O=h?P.dirname(O)+"/":__dirname+"/",E=(o,l)=>(o=Me(o)?new URL(o):P.normalize(o),x.readFileSync(o,l?void 0:"utf8")),C=o=>(o=E(o,!0),o.buffer||(o=new Uint8Array(o)),o),v=(o,l,c,b=!0)=>{o=Me(o)?new URL(o):P.normalize(o),x.readFile(o,b?void 0:"utf8",(S,D)=>{S?c(S):l(b?D.buffer:D)})},!n.thisProgram&&1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),n.inspect=()=>"[Emscripten Module object]"}else(s||h)&&(h?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),r&&(O=r),O.indexOf("blob:")!==0?O=O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):O="",E=o=>{var l=new XMLHttpRequest;return l.open("GET",o,!1),l.send(null),l.responseText},h&&(C=o=>{var l=new XMLHttpRequest;return l.open("GET",o,!1),l.responseType="arraybuffer",l.send(null),new Uint8Array(l.response)}),v=(o,l,c)=>{var b=new XMLHttpRequest;b.open("GET",o,!0),b.responseType="arraybuffer",b.onload=()=>{b.status==200||b.status==0&&b.response?l(b.response):c()},b.onerror=c,b.send(null)});var T=console.log.bind(console),B=console.error.bind(console);Object.assign(n,m),m=null,typeof WebAssembly!="object"&&L("no native wasm support detected");var k,N=!1,V,Y,R,X,Fe;function Ne(){var o=k.buffer;n.HEAP8=V=new Int8Array(o),n.HEAP16=new Int16Array(o),n.HEAPU8=Y=new Uint8Array(o),n.HEAPU16=new Uint16Array(o),n.HEAP32=R=new Int32Array(o),n.HEAPU32=X=new Uint32Array(o),n.HEAPF32=new Float32Array(o),n.HEAPF64=Fe=new Float64Array(o)}var me=[],ie=[],re=[],Se=0,Ee=null,se=null;function L(o){throw o="Aborted("+o+")",B(o),N=!0,o=new WebAssembly.RuntimeError(o+". Build with -sASSERTIONS for more info."),i(o),o}var _e=o=>o.startsWith("data:application/octet-stream;base64,"),Me=o=>o.startsWith("file://"),de;if(de="ort-wasm.wasm",!_e(de)){var Ce=de;de=n.locateFile?n.locateFile(Ce,O):O+Ce}function J(o){if(C)return C(o);throw"both async and sync fetching of the wasm failed"}function ye(o){if(s||h){if(typeof fetch=="function"&&!Me(o))return fetch(o,{credentials:"same-origin"}).then(l=>{if(!l.ok)throw"failed to load wasm binary file at '"+o+"'";return l.arrayBuffer()}).catch(()=>J(o));if(v)return new Promise((l,c)=>{v(o,b=>l(new Uint8Array(b)),c)})}return Promise.resolve().then(()=>J(o))}function Ge(o,l,c){return ye(o).then(b=>WebAssembly.instantiate(b,l)).then(b=>b).then(c,b=>{B(`failed to asynchronously prepare wasm: ${b}`),L(b)})}function xe(o,l){var c=de;return typeof WebAssembly.instantiateStreaming!="function"||_e(c)||Me(c)||g||typeof fetch!="function"?Ge(c,o,l):fetch(c,{credentials:"same-origin"}).then(b=>WebAssembly.instantiateStreaming(b,o).then(l,function(S){return B(`wasm streaming compile failed: ${S}`),B("falling back to ArrayBuffer instantiation"),Ge(c,o,l)}))}var Ae,Te={791728:(o,l,c,b)=>{if(typeof n>"u"||!n.za)return 1;if(o=Q(o>>>0),o.startsWith("./")&&(o=o.substring(2)),o=n.za.get(o),!o)return 2;if(l>>>=0,c>>>=0,l+c>o.byteLength)return 3;try{return Y.set(o.subarray(l,l+c),b>>>0>>>0),0}catch{return 4}}};function je(o){this.xa=o-24,this.Ha=function(l){X[this.xa+4>>>2>>>0]=l},this.Ga=function(l){X[this.xa+8>>>2>>>0]=l},this.Aa=function(l,c){this.Fa(),this.Ha(l),this.Ga(c)},this.Fa=function(){X[this.xa+16>>>2>>>0]=0}}var we=0,Pe=0,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ae=(o,l,c)=>{l>>>=0;var b=l+c;for(c=l;o[c]&&!(c>=b);)++c;if(16<c-l&&o.buffer&&Ie)return Ie.decode(o.subarray(l,c));for(b="";l<c;){var S=o[l++];if(S&128){var D=o[l++]&63;if((S&224)==192)b+=String.fromCharCode((S&31)<<6|D);else{var W=o[l++]&63;S=(S&240)==224?(S&15)<<12|D<<6|W:(S&7)<<18|D<<12|W<<6|o[l++]&63,65536>S?b+=String.fromCharCode(S):(S-=65536,b+=String.fromCharCode(55296|S>>10,56320|S&1023))}}else b+=String.fromCharCode(S)}return b},Q=(o,l)=>(o>>>=0)?ae(Y,o,l):"",pe=o=>{for(var l=0,c=0;c<o.length;++c){var b=o.charCodeAt(c);127>=b?l++:2047>=b?l+=2:55296<=b&&57343>=b?(l+=4,++c):l+=3}return l},Be=(o,l,c,b)=>{if(c>>>=0,!(0<b))return 0;var S=c;b=c+b-1;for(var D=0;D<o.length;++D){var W=o.charCodeAt(D);if(55296<=W&&57343>=W){var oe=o.charCodeAt(++D);W=65536+((W&1023)<<10)|oe&1023}if(127>=W){if(c>=b)break;l[c++>>>0]=W}else{if(2047>=W){if(c+1>=b)break;l[c++>>>0]=192|W>>6}else{if(65535>=W){if(c+2>=b)break;l[c++>>>0]=224|W>>12}else{if(c+3>=b)break;l[c++>>>0]=240|W>>18,l[c++>>>0]=128|W>>12&63}l[c++>>>0]=128|W>>6&63}l[c++>>>0]=128|W&63}}return l[c>>>0]=0,c-S},Re=o=>o%4===0&&(o%100!==0||o%400===0),dt=[0,31,60,91,121,152,182,213,244,274,305,335],At=[0,31,59,90,120,151,181,212,243,273,304,334],Le=o=>{var l=pe(o)+1,c=St(l);return c&&Be(o,Y,c,l),c},Ke=[],We={},et=()=>{if(!tt){var o={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},l;for(l in We)We[l]===void 0?delete o[l]:o[l]=We[l];var c=[];for(l in o)c.push(`${l}=${o[l]}`);tt=c}return tt},tt,ze=[null,[],[]],pt=[31,29,31,30,31,30,31,31,30,31,30,31],mt=[31,28,31,30,31,30,31,31,30,31,30,31];function rt(o){var l=Array(pe(o)+1);return Be(o,l,0,l.length),l}function Tt(o,l,c,b){function S(y,$,q){for(y=typeof y=="number"?y.toString():y||"";y.length<$;)y=q[0]+y;return y}function D(y,$){return S(y,$,"0")}function W(y,$){function q(bt){return 0>bt?-1:0<bt?1:0}var De;return(De=q(y.getFullYear()-$.getFullYear()))===0&&(De=q(y.getMonth()-$.getMonth()))===0&&(De=q(y.getDate()-$.getDate())),De}function oe(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function he(y){var $=y.ta;for(y=new Date(new Date(y.ua+1900,0,1).getTime());0<$;){var q=y.getMonth(),De=(Re(y.getFullYear())?pt:mt)[q];if($>De-y.getDate())$-=De-y.getDate()+1,y.setDate(1),11>q?y.setMonth(q+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else{y.setDate(y.getDate()+$);break}}return q=new Date(y.getFullYear()+1,0,4),$=oe(new Date(y.getFullYear(),0,4)),q=oe(q),0>=W($,y)?0>=W(q,y)?y.getFullYear()+1:y.getFullYear():y.getFullYear()-1}o>>>=0,l>>>=0,c>>>=0,b>>>=0;var fe=X[b+40>>>2>>>0];b={Da:R[b>>>2>>>0],Ca:R[b+4>>>2>>>0],va:R[b+8>>>2>>>0],ya:R[b+12>>>2>>>0],wa:R[b+16>>>2>>>0],ua:R[b+20>>>2>>>0],oa:R[b+24>>>2>>>0],ta:R[b+28>>>2>>>0],Ia:R[b+32>>>2>>>0],Ba:R[b+36>>>2>>>0],Ea:fe?Q(fe):""},c=Q(c),fe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var le in fe)c=c.replace(new RegExp(le,"g"),fe[le]);var yt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),wt="January February March April May June July August September October November December".split(" ");fe={"%a":y=>yt[y.oa].substring(0,3),"%A":y=>yt[y.oa],"%b":y=>wt[y.wa].substring(0,3),"%B":y=>wt[y.wa],"%C":y=>D((y.ua+1900)/100|0,2),"%d":y=>D(y.ya,2),"%e":y=>S(y.ya,2," "),"%g":y=>he(y).toString().substring(2),"%G":y=>he(y),"%H":y=>D(y.va,2),"%I":y=>(y=y.va,y==0?y=12:12<y&&(y-=12),D(y,2)),"%j":y=>{for(var $=0,q=0;q<=y.wa-1;$+=(Re(y.ua+1900)?pt:mt)[q++]);return D(y.ya+$,3)},"%m":y=>D(y.wa+1,2),"%M":y=>D(y.Ca,2),"%n":()=>`
`,"%p":y=>0<=y.va&&12>y.va?"AM":"PM","%S":y=>D(y.Da,2),"%t":()=>"	","%u":y=>y.oa||7,"%U":y=>D(Math.floor((y.ta+7-y.oa)/7),2),"%V":y=>{var $=Math.floor((y.ta+7-(y.oa+6)%7)/7);if(2>=(y.oa+371-y.ta-2)%7&&$++,$)$==53&&(q=(y.oa+371-y.ta)%7,q==4||q==3&&Re(y.ua)||($=1));else{$=52;var q=(y.oa+7-y.ta-1)%7;(q==4||q==5&&Re(y.ua%400-1))&&$++}return D($,2)},"%w":y=>y.oa,"%W":y=>D(Math.floor((y.ta+7-(y.oa+6)%7)/7),2),"%y":y=>(y.ua+1900).toString().substring(2),"%Y":y=>y.ua+1900,"%z":y=>{y=y.Ba;var $=0<=y;return y=Math.abs(y)/60,($?"+":"-")+("0000"+(y/60*100+y%60)).slice(-4)},"%Z":y=>y.Ea,"%%":()=>"%"},c=c.replace(/%%/g,"\0\0");for(le in fe)c.includes(le)&&(c=c.replace(new RegExp(le,"g"),fe[le](b)));return c=c.replace(/\0\0/g,"%"),le=rt(c),le.length>l?0:(V.set(le,o>>>0),le.length-1)}var z={a:function(o,l,c){throw o>>>=0,new je(o).Aa(l>>>0,c>>>0),we=o,Pe++,we},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(o,l,c){o=l+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*l:NaN,c>>>=0,o=new Date(1e3*o),R[c>>>2>>>0]=o.getUTCSeconds(),R[c+4>>>2>>>0]=o.getUTCMinutes(),R[c+8>>>2>>>0]=o.getUTCHours(),R[c+12>>>2>>>0]=o.getUTCDate(),R[c+16>>>2>>>0]=o.getUTCMonth(),R[c+20>>>2>>>0]=o.getUTCFullYear()-1900,R[c+24>>>2>>>0]=o.getUTCDay(),R[c+28>>>2>>>0]=(o.getTime()-Date.UTC(o.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(o,l,c){o=l+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*l:NaN,c>>>=0,o=new Date(1e3*o),R[c>>>2>>>0]=o.getSeconds(),R[c+4>>>2>>>0]=o.getMinutes(),R[c+8>>>2>>>0]=o.getHours(),R[c+12>>>2>>>0]=o.getDate(),R[c+16>>>2>>>0]=o.getMonth(),R[c+20>>>2>>>0]=o.getFullYear()-1900,R[c+24>>>2>>>0]=o.getDay(),R[c+28>>>2>>>0]=(Re(o.getFullYear())?dt:At)[o.getMonth()]+o.getDate()-1|0,R[c+36>>>2>>>0]=-(60*o.getTimezoneOffset()),l=new Date(o.getFullYear(),6,1).getTimezoneOffset();var b=new Date(o.getFullYear(),0,1).getTimezoneOffset();R[c+32>>>2>>>0]=(l!=b&&o.getTimezoneOffset()==Math.min(b,l))|0},p:function(o){o>>>=0;var l=new Date(R[o+20>>>2>>>0]+1900,R[o+16>>>2>>>0],R[o+12>>>2>>>0],R[o+8>>>2>>>0],R[o+4>>>2>>>0],R[o>>>2>>>0],0),c=R[o+32>>>2>>>0],b=l.getTimezoneOffset(),S=new Date(l.getFullYear(),6,1).getTimezoneOffset(),D=new Date(l.getFullYear(),0,1).getTimezoneOffset(),W=Math.min(D,S);return 0>c?R[o+32>>>2>>>0]=+(S!=D&&W==b):0<c!=(W==b)&&(S=Math.max(D,S),l.setTime(l.getTime()+6e4*((0<c?W:S)-b))),R[o+24>>>2>>>0]=l.getDay(),R[o+28>>>2>>>0]=(Re(l.getFullYear())?dt:At)[l.getMonth()]+l.getDate()-1|0,R[o>>>2>>>0]=l.getSeconds(),R[o+4>>>2>>>0]=l.getMinutes(),R[o+8>>>2>>>0]=l.getHours(),R[o+12>>>2>>>0]=l.getDate(),R[o+16>>>2>>>0]=l.getMonth(),R[o+20>>>2>>>0]=l.getYear(),o=l.getTime(),isNaN(o)?(R[nt()>>>2>>>0]=61,o=-1):o/=1e3,ht((Ae=o,1<=+Math.abs(Ae)?0<Ae?+Math.floor(Ae/4294967296)>>>0:~~+Math.ceil((Ae-+(~~Ae>>>0))/4294967296)>>>0:0)),o>>>0},l:function(){return-52},m:function(){},t:function(o,l,c){function b(he){return(he=he.toTimeString().match(/\(([A-Za-z ]+)\)$/))?he[1]:"GMT"}c>>>=0;var S=new Date().getFullYear(),D=new Date(S,0,1),W=new Date(S,6,1);S=D.getTimezoneOffset();var oe=W.getTimezoneOffset();X[o>>>0>>>2>>>0]=60*Math.max(S,oe),R[l>>>0>>>2>>>0]=+(S!=oe),o=b(D),l=b(W),o=Le(o),l=Le(l),oe<S?(X[c>>>2>>>0]=o,X[c+4>>>2>>>0]=l):(X[c>>>2>>>0]=l,X[c+4>>>2>>>0]=o)},d:()=>{L("")},B:function(o,l,c){o>>>=0,l>>>=0,c>>>=0,Ke.length=0;for(var b;b=Y[l++>>>0];){var S=b!=105;S&=b!=112,c+=S&&c%8?4:0,Ke.push(b==112?X[c>>>2>>>0]:b==105?R[c>>>2>>>0]:Fe[c>>>3>>>0]),c+=S?8:4}return Te[o].apply(null,Ke)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(o,l,c){return l>>>=0,Y.copyWithin(o>>>0>>>0,l>>>0,l+(c>>>0)>>>0)},s:function(o){o>>>=0;var l=Y.length;if(4294901760<o)return!1;for(var c=1;4>=c;c*=2){var b=l*(1+.2/c);b=Math.min(b,o+100663296);var S=Math;b=Math.max(o,b);e:{S=(S.min.call(S,4294901760,b+(65536-b%65536)%65536)-k.buffer.byteLength+65535)/65536;try{k.grow(S),Ne();var D=1;break e}catch{}D=void 0}if(D)return!0}return!1},C:function(o,l){o>>>=0,l>>>=0;var c=0;return et().forEach((b,S)=>{var D=l+c;for(S=X[o+4*S>>>2>>>0]=D,D=0;D<b.length;++D)V[S++>>>0>>>0]=b.charCodeAt(D);V[S>>>0>>>0]=0,c+=b.length+1}),0},D:function(o,l){o>>>=0,l>>>=0;var c=et();X[o>>>2>>>0]=c.length;var b=0;return c.forEach(S=>b+=S.length+1),X[l>>>2>>>0]=b,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(o,l,c,b){l>>>=0,c>>>=0,b>>>=0;for(var S=0,D=0;D<c;D++){var W=X[l>>>2>>>0],oe=X[l+4>>>2>>>0];l+=8;for(var he=0;he<oe;he++){var fe=Y[W+he>>>0],le=ze[o];fe===0||fe===10?((o===1?T:B)(ae(le,0)),le.length=0):le.push(fe)}S+=oe}return X[b>>>2>>>0]=S,0},r:Tt,c:function(o,l,c,b){return Tt(o>>>0,l>>>0,c>>>0,b>>>0)}},I=function(){function o(c){return I=c.exports,I=Ct(),k=I.K,Ne(),ie.unshift(I.L),Se--,Se==0&&(Ee!==null&&(clearInterval(Ee),Ee=null),se&&(c=se,se=null,c())),I}var l={a:z};if(Se++,n.instantiateWasm)try{return n.instantiateWasm(l,o)}catch(c){B(`Module.instantiateWasm callback failed with error: ${c}`),i(c)}return xe(l,function(c){o(c.instance)}).catch(i),{}}();n._OrtInit=(o,l)=>(n._OrtInit=I.M)(o,l),n._OrtGetLastError=(o,l)=>(n._OrtGetLastError=I.N)(o,l),n._OrtCreateSessionOptions=(o,l,c,b,S,D,W,oe,he,fe)=>(n._OrtCreateSessionOptions=I.O)(o,l,c,b,S,D,W,oe,he,fe),n._OrtAppendExecutionProvider=(o,l)=>(n._OrtAppendExecutionProvider=I.P)(o,l),n._OrtAddFreeDimensionOverride=(o,l,c)=>(n._OrtAddFreeDimensionOverride=I.Q)(o,l,c),n._OrtAddSessionConfigEntry=(o,l,c)=>(n._OrtAddSessionConfigEntry=I.R)(o,l,c),n._OrtReleaseSessionOptions=o=>(n._OrtReleaseSessionOptions=I.S)(o),n._OrtCreateSession=(o,l,c)=>(n._OrtCreateSession=I.T)(o,l,c),n._OrtReleaseSession=o=>(n._OrtReleaseSession=I.U)(o),n._OrtGetInputOutputCount=(o,l,c)=>(n._OrtGetInputOutputCount=I.V)(o,l,c),n._OrtGetInputName=(o,l)=>(n._OrtGetInputName=I.W)(o,l),n._OrtGetOutputName=(o,l)=>(n._OrtGetOutputName=I.X)(o,l),n._OrtFree=o=>(n._OrtFree=I.Y)(o),n._OrtCreateTensor=(o,l,c,b,S,D)=>(n._OrtCreateTensor=I.Z)(o,l,c,b,S,D),n._OrtGetTensorData=(o,l,c,b,S)=>(n._OrtGetTensorData=I._)(o,l,c,b,S),n._OrtReleaseTensor=o=>(n._OrtReleaseTensor=I.$)(o),n._OrtCreateRunOptions=(o,l,c,b)=>(n._OrtCreateRunOptions=I.aa)(o,l,c,b),n._OrtAddRunConfigEntry=(o,l,c)=>(n._OrtAddRunConfigEntry=I.ba)(o,l,c),n._OrtReleaseRunOptions=o=>(n._OrtReleaseRunOptions=I.ca)(o),n._OrtCreateBinding=o=>(n._OrtCreateBinding=I.da)(o),n._OrtBindInput=(o,l,c)=>(n._OrtBindInput=I.ea)(o,l,c),n._OrtBindOutput=(o,l,c,b)=>(n._OrtBindOutput=I.fa)(o,l,c,b),n._OrtClearBoundOutputs=o=>(n._OrtClearBoundOutputs=I.ga)(o),n._OrtReleaseBinding=o=>(n._OrtReleaseBinding=I.ha)(o),n._OrtRunWithBinding=(o,l,c,b,S)=>(n._OrtRunWithBinding=I.ia)(o,l,c,b,S),n._OrtRun=(o,l,c,b,S,D,W,oe)=>(n._OrtRun=I.ja)(o,l,c,b,S,D,W,oe),n._OrtEndProfiling=o=>(n._OrtEndProfiling=I.ka)(o);var nt=()=>(nt=I.la)(),St=n._malloc=o=>(St=n._malloc=I.ma)(o);n._free=o=>(n._free=I.na)(o);var ht=o=>(ht=I.pa)(o),Mt=()=>(Mt=I.qa)(),F=o=>(F=I.ra)(o),Ye=o=>(Ye=I.sa)(o);function Ct(){var o=I;o=Object.assign({},o);var l=b=>()=>b()>>>0,c=b=>S=>b(S)>>>0;return o.la=l(o.la),o.ma=c(o.ma),o.qa=l(o.qa),o.sa=c(o.sa),o}n.stackAlloc=Ye,n.stackSave=Mt,n.stackRestore=F,n.UTF8ToString=Q,n.stringToUTF8=(o,l,c)=>Be(o,Y,l,c),n.lengthBytesUTF8=pe;var ke;se=function o(){ke||gt(),ke||(se=o)};function gt(){if(!(0<Se)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;){var o=n.preRun.shift();me.unshift(o)}for(;0<me.length;)me.shift()(n);if(!(0<Se||ke||(ke=!0,n.calledRun=!0,N))){for(;0<ie.length;)ie.shift()(n);for(f(n);0<re.length;)re.shift()(n)}}}return gt(),t.ready}})();typeof Fn=="object"&&typeof pr=="object"?pr.exports=Un:typeof define=="function"&&define.amd&&define([],()=>Un)});var Bn=ot(()=>{});var Ln=ot(()=>{});var kn={};it(kn,{cpus:()=>ka});var ka,Nn=H(()=>{ka=void 0});var $n=ot((Hn,mr)=>{"use strict";var Wn=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(t={}){function n(){return re.buffer!=L.buffer&&J(),L}function f(){return re.buffer!=L.buffer&&J(),_e}function i(){return re.buffer!=L.buffer&&J(),Me}function m(){return re.buffer!=L.buffer&&J(),de}function d(){return re.buffer!=L.buffer&&J(),Ce}var s=t,h,g;s.ready=new Promise((e,a)=>{h=e,g=a});var O=Object.assign({},s),E="./this.program",v=(e,a)=>{throw a},C=typeof window=="object",x=typeof importScripts=="function",P=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",T=s.ENVIRONMENT_IS_PTHREAD||!1,B="";function k(e){return s.locateFile?s.locateFile(e,B):B+e}var N,V,Y;if(P){var R=(lr(),Ve(fr)),X=(dr(),Ve(cr));B=x?X.dirname(B)+"/":__dirname+"/",N=(a,u)=>(a=Q(a)?new URL(a):X.normalize(a),R.readFileSync(a,u?void 0:"utf8")),Y=a=>(a=N(a,!0),a.buffer||(a=new Uint8Array(a)),a),V=(a,u,p,_=!0)=>{a=Q(a)?new URL(a):X.normalize(a),R.readFile(a,_?void 0:"utf8",(A,M)=>{A?p(A):u(_?M.buffer:M)})},!s.thisProgram&&1<process.argv.length&&(E=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),v=(a,u)=>{throw process.exitCode=a,u},s.inspect=()=>"[Emscripten Module object]";let e;try{e=Bn()}catch(a){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),a}global.Worker=e.Worker}else(C||x)&&(x?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),typeof r<"u"&&r&&(B=r),B.indexOf("blob:")!==0?B=B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):B="",P||(N=e=>{var a=new XMLHttpRequest;return a.open("GET",e,!1),a.send(null),a.responseText},x&&(Y=e=>{var a=new XMLHttpRequest;return a.open("GET",e,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),V=(e,a,u)=>{var p=new XMLHttpRequest;p.open("GET",e,!0),p.responseType="arraybuffer",p.onload=()=>{p.status==200||p.status==0&&p.response?a(p.response):u()},p.onerror=u,p.send(null)}));P&&typeof performance>"u"&&(global.performance=Ln().performance);var Fe=console.log.bind(console),Ne=console.error.bind(console);P&&(Fe=(...e)=>R.writeSync(1,e.join(" ")+`
`),Ne=(...e)=>R.writeSync(2,e.join(" ")+`
`));var me=Fe,ie=Ne;Object.assign(s,O),O=null,typeof WebAssembly!="object"&&Ie("no native wasm support detected");var re,Se,Ee=!1,se,L,_e,Me,de,Ce;function J(){var e=re.buffer;s.HEAP8=L=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAPU8=_e=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAP32=Me=new Int32Array(e),s.HEAPU32=de=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=Ce=new Float64Array(e)}var ye=16777216;if(T)re=s.wasmMemory;else if(s.wasmMemory)re=s.wasmMemory;else if(re=new WebAssembly.Memory({initial:ye/65536,maximum:65536,shared:!0}),!(re.buffer instanceof SharedArrayBuffer))throw ie("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),P&&ie("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");J(),ye=re.buffer.byteLength;var Ge=[],xe=[],Ae=[],Te=0,je=null,we=null;function Pe(){if(Te--,Te==0&&(je!==null&&(clearInterval(je),je=null),we)){var e=we;we=null,e()}}function Ie(e){throw e="Aborted("+e+")",ie(e),Ee=!0,se=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),g(e),e}var ae=e=>e.startsWith("data:application/octet-stream;base64,"),Q=e=>e.startsWith("file://"),pe;pe="ort-wasm-threaded.wasm",ae(pe)||(pe=k(pe));function Be(e){if(Y)return Y(e);throw"both async and sync fetching of the wasm failed"}function Re(e){if(C||x){if(typeof fetch=="function"&&!Q(e))return fetch(e,{credentials:"same-origin"}).then(a=>{if(!a.ok)throw"failed to load wasm binary file at '"+e+"'";return a.arrayBuffer()}).catch(()=>Be(e));if(V)return new Promise((a,u)=>{V(e,p=>a(new Uint8Array(p)),u)})}return Promise.resolve().then(()=>Be(e))}function dt(e,a,u){return Re(e).then(p=>WebAssembly.instantiate(p,a)).then(p=>p).then(u,p=>{ie(`failed to asynchronously prepare wasm: ${p}`),Ie(p)})}function At(e,a){var u=pe;return typeof WebAssembly.instantiateStreaming!="function"||ae(u)||Q(u)||P||typeof fetch!="function"?dt(u,e,a):fetch(u,{credentials:"same-origin"}).then(p=>WebAssembly.instantiateStreaming(p,e).then(a,function(_){return ie(`wasm streaming compile failed: ${_}`),ie("falling back to ArrayBuffer instantiation"),dt(u,e,a)}))}var Le,Ke={793116:(e,a,u,p)=>{if(typeof s>"u"||!s.cb)return 1;if(e=rt(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=s.cb.get(e),!e)return 2;if(a>>>=0,u>>>=0,p>>>=0,a+u>e.byteLength)return 3;try{return f().set(e.subarray(a,a+u),p>>>0),0}catch{return 4}}};function We(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var et=e=>{e.terminate(),e.onmessage=()=>{}},tt=e=>{F.Pa.length==0&&(ht(),F.Ya(F.Pa[0]));var a=F.Pa.pop();if(!a)return 6;F.Qa.push(a),F.Ma[e.Oa]=a,a.Oa=e.Oa;var u={cmd:"run",start_routine:e.kb,arg:e.hb,pthread_ptr:e.Oa};return P&&a.unref(),a.postMessage(u,e.qb),0},ze=0,pt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,mt=(e,a,u)=>{a>>>=0;var p=a+u;for(u=a;e[u]&&!(u>=p);)++u;if(16<u-a&&e.buffer&&pt)return pt.decode(e.buffer instanceof SharedArrayBuffer?e.slice(a,u):e.subarray(a,u));for(p="";a<u;){var _=e[a++];if(_&128){var A=e[a++]&63;if((_&224)==192)p+=String.fromCharCode((_&31)<<6|A);else{var M=e[a++]&63;_=(_&240)==224?(_&15)<<12|A<<6|M:(_&7)<<18|A<<12|M<<6|e[a++]&63,65536>_?p+=String.fromCharCode(_):(_-=65536,p+=String.fromCharCode(55296|_>>10,56320|_&1023))}}else p+=String.fromCharCode(_)}return p},rt=(e,a)=>(e>>>=0)?mt(f(),e,a):"",Tt=e=>{var a=tr();return e=e(),Rt(a),e};function z(e,a){var u=arguments.length-2,p=arguments;return Tt(()=>{for(var _=rr(8*u),A=_>>>3,M=0;M<u;M++){var ee=p[2+M];d()[A+M>>>0]=ee}return Yr(e,u,_,a)})}function I(e){if(T)return z(0,1,e);se=e,0<ze||(F.lb(),s.onExit?.(e),Ee=!0),v(e,new We(e))}var nt=e=>{if(se=e,T)throw Ct(e),"unwind";I(e)};function St(){for(var e=s.numThreads;e--;)ht();Ge.unshift(()=>{Te++,Mt(()=>Pe())})}function ht(){var e=k("ort-wasm-threaded.worker.js");e=new Worker(e),F.Pa.push(e)}function Mt(e){T?e():Promise.all(F.Pa.map(F.Ya)).then(e)}var F={Pa:[],Qa:[],bb:[],Ma:{},Wa(){T?(F.receiveObjectTransfer=F.jb,F.threadInitTLS=F.ab,F.setExitStatus=F.$a):St()},$a:e=>se=e,tb:["$terminateWorker"],lb:()=>{for(var e of F.Qa)et(e);for(e of F.Pa)et(e);F.Pa=[],F.Qa=[],F.Ma=[]},Za:e=>{var a=e.Oa;delete F.Ma[a],F.Pa.push(e),F.Qa.splice(F.Qa.indexOf(e),1),e.Oa=0,Kt(a)},jb(){},ab(){F.bb.forEach(e=>e())},Ya:e=>new Promise(a=>{e.onmessage=A=>{A=A.data;var M=A.cmd;if(A.targetThread&&A.targetThread!=Pt()){var ee=F.Ma[A.targetThread];ee?ee.postMessage(A,A.transferList):ie(`Internal error! Worker sent a message "${M}" to target pthread ${A.targetThread}, but that thread no longer exists!`)}else M==="checkMailbox"?xt():M==="spawnThread"?tt(A):M==="cleanupThread"?F.Za(F.Ma[A.thread]):M==="killThread"?(A=A.thread,M=F.Ma[A],delete F.Ma[A],et(M),Kt(A),F.Qa.splice(F.Qa.indexOf(M),1),M.Oa=0):M==="cancelThread"?F.Ma[A.thread].postMessage({cmd:"cancel"}):M==="loaded"?(e.loaded=!0,P&&!e.Oa&&e.unref(),a(e)):M==="alert"?alert(`Thread ${A.threadId}: ${A.text}`):A.target==="setimmediate"?e.postMessage(A):M==="callHandler"?s[A.handler](...A.args):M&&ie(`worker sent an unknown command ${M}`)},e.onerror=A=>{throw ie(`worker sent an error! ${A.filename}:${A.lineno}: ${A.message}`),A},P&&(e.on("message",A=>e.onmessage({data:A})),e.on("error",A=>e.onerror(A)));var u=[],p=["onExit"],_;for(_ of p)s.hasOwnProperty(_)&&u.push(_);e.postMessage({cmd:"load",handlers:u,urlOrBlob:s.mainScriptUrlOrBlob||r,wasmMemory:re,wasmModule:Se})})};s.PThread=F;var Ye=e=>{for(;0<e.length;)e.shift()(s)};s.establishStackSpace=()=>{var e=Pt(),a=m()[e+52>>>2>>>0];e=m()[e+56>>>2>>>0],Xr(a,a-e),Rt(a)};function Ct(e){if(T)return z(1,0,e);nt(e)}var ke=[],gt;s.invokeEntryPoint=(e,a)=>{var u=ke[e];u||(e>=ke.length&&(ke.length=e+1),ke[e]=u=gt.get(e)),e=u(a),0<ze?F.$a(e):er(e)};function o(e){this.Va=e-24,this.gb=function(a){m()[this.Va+4>>>2>>>0]=a},this.fb=function(a){m()[this.Va+8>>>2>>>0]=a},this.Wa=function(a,u){this.eb(),this.gb(a),this.fb(u)},this.eb=function(){m()[this.Va+16>>>2>>>0]=0}}var l=0,c=0;function b(e,a,u,p){return T?z(2,1,e,a,u,p):S(e,a,u,p)}function S(e,a,u,p){if(e>>>=0,a>>>=0,u>>>=0,p>>>=0,typeof SharedArrayBuffer>"u")return ie("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var _=[];return T&&_.length===0?b(e,a,u,p):(e={kb:u,Oa:e,hb:p,qb:_},T?(e.sb="spawnThread",postMessage(e,_),0):tt(e))}function D(e,a,u){return T?z(3,1,e,a,u):0}function W(e,a){if(T)return z(4,1,e,a)}var oe=e=>{for(var a=0,u=0;u<e.length;++u){var p=e.charCodeAt(u);127>=p?a++:2047>=p?a+=2:55296<=p&&57343>=p?(a+=4,++u):a+=3}return a},he=(e,a,u,p)=>{if(u>>>=0,!(0<p))return 0;var _=u;p=u+p-1;for(var A=0;A<e.length;++A){var M=e.charCodeAt(A);if(55296<=M&&57343>=M){var ee=e.charCodeAt(++A);M=65536+((M&1023)<<10)|ee&1023}if(127>=M){if(u>=p)break;a[u++>>>0]=M}else{if(2047>=M){if(u+1>=p)break;a[u++>>>0]=192|M>>6}else{if(65535>=M){if(u+2>=p)break;a[u++>>>0]=224|M>>12}else{if(u+3>=p)break;a[u++>>>0]=240|M>>18,a[u++>>>0]=128|M>>12&63}a[u++>>>0]=128|M>>6&63}a[u++>>>0]=128|M&63}}return a[u>>>0]=0,u-_},fe=(e,a,u)=>he(e,f(),a,u);function le(e,a){if(T)return z(5,1,e,a)}function yt(e,a,u){if(T)return z(6,1,e,a,u)}function wt(e,a,u){return T?z(7,1,e,a,u):0}function y(e,a){if(T)return z(8,1,e,a)}function $(e,a,u){if(T)return z(9,1,e,a,u)}function q(e,a,u,p){if(T)return z(10,1,e,a,u,p)}function De(e,a,u,p){if(T)return z(11,1,e,a,u,p)}function bt(e,a,u,p){if(T)return z(12,1,e,a,u,p)}function Tr(e){if(T)return z(13,1,e)}function Sr(e,a){if(T)return z(14,1,e,a)}function Mr(e,a,u){if(T)return z(15,1,e,a,u)}function Vt(e){e>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(i(),e>>>2,e).value.then(xt),e+=128,Atomics.store(i(),e>>>2,1))}s.__emscripten_thread_mailbox_await=Vt;var xt=()=>{var e=Pt();if(e&&(Vt(e),e=qr,!Ee))try{if(e(),!(0<ze))try{T?er(se):nt(se)}catch(a){a instanceof We||a=="unwind"||v(1,a)}}catch(a){a instanceof We||a=="unwind"||v(1,a)}};s.checkMailbox=xt;var Xt=[],at=e=>e%4===0&&(e%100!==0||e%400===0),Cr=[0,31,60,91,121,152,182,213,244,274,305,335],xr=[0,31,59,90,120,151,181,212,243,273,304,334];function Pr(e,a,u,p,_,A,M,ee){return T?z(16,1,e,a,u,p,_,A,M,ee):-52}function Rr(e,a,u,p,_,A,M){if(T)return z(17,1,e,a,u,p,_,A,M)}var Dr=e=>{var a=oe(e)+1,u=jr(a);return u&&fe(e,u,a),u},Jt=[],Qt={},Ur=()=>{if(!Zt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"},a;for(a in Qt)Qt[a]===void 0?delete e[a]:e[a]=Qt[a];var u=[];for(a in e)u.push(`${a}=${e[a]}`);Zt=u}return Zt},Zt;function Fr(e,a){if(T)return z(18,1,e,a);e>>>=0,a>>>=0;var u=0;return Ur().forEach((p,_)=>{var A=a+u;for(_=m()[e+4*_>>>2>>>0]=A,A=0;A<p.length;++A)n()[_++>>>0>>>0]=p.charCodeAt(A);n()[_>>>0>>>0]=0,u+=p.length+1}),0}function Ir(e,a){if(T)return z(19,1,e,a);e>>>=0,a>>>=0;var u=Ur();m()[e>>>2>>>0]=u.length;var p=0;return u.forEach(_=>p+=_.length+1),m()[a>>>2>>>0]=p,0}function Br(e){return T?z(20,1,e):52}function Lr(e,a,u,p){return T?z(21,1,e,a,u,p):52}function kr(e,a,u,p,_){return T?z(22,1,e,a,u,p,_):70}var _a=[null,[],[]];function Nr(e,a,u,p){if(T)return z(23,1,e,a,u,p);a>>>=0,u>>>=0,p>>>=0;for(var _=0,A=0;A<u;A++){var M=m()[a>>>2>>>0],ee=m()[a+4>>>2>>>0];a+=8;for(var Ue=0;Ue<ee;Ue++){var ue=f()[M+Ue>>>0],be=_a[e];ue===0||ue===10?((e===1?me:ie)(mt(be,0)),be.length=0):be.push(ue)}_+=ee}return m()[p>>>2>>>0]=_,0}var Wr=[31,29,31,30,31,30,31,31,30,31,30,31],Hr=[31,28,31,30,31,30,31,31,30,31,30,31];function Aa(e){var a=Array(oe(e)+1);return he(e,a,0,a.length),a}var Ta=(e,a)=>{n().set(e,a>>>0)};function $r(e,a,u,p){function _(w,j,te){for(w=typeof w=="number"?w.toString():w||"";w.length<j;)w=te[0]+w;return w}function A(w,j){return _(w,j,"0")}function M(w,j){function te(Kr){return 0>Kr?-1:0<Kr?1:0}var qe;return(qe=te(w.getFullYear()-j.getFullYear()))===0&&(qe=te(w.getMonth()-j.getMonth()))===0&&(qe=te(w.getDate()-j.getDate())),qe}function ee(w){switch(w.getDay()){case 0:return new Date(w.getFullYear()-1,11,29);case 1:return w;case 2:return new Date(w.getFullYear(),0,3);case 3:return new Date(w.getFullYear(),0,2);case 4:return new Date(w.getFullYear(),0,1);case 5:return new Date(w.getFullYear()-1,11,31);case 6:return new Date(w.getFullYear()-1,11,30)}}function Ue(w){var j=w.Ra;for(w=new Date(new Date(w.Sa+1900,0,1).getTime());0<j;){var te=w.getMonth(),qe=(at(w.getFullYear())?Wr:Hr)[te];if(j>qe-w.getDate())j-=qe-w.getDate()+1,w.setDate(1),11>te?w.setMonth(te+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1));else{w.setDate(w.getDate()+j);break}}return te=new Date(w.getFullYear()+1,0,4),j=ee(new Date(w.getFullYear(),0,4)),te=ee(te),0>=M(j,w)?0>=M(te,w)?w.getFullYear()+1:w.getFullYear():w.getFullYear()-1}e>>>=0,a>>>=0,u>>>=0,p>>>=0;var ue=m()[p+40>>>2>>>0];p={ob:i()[p>>>2>>>0],nb:i()[p+4>>>2>>>0],Ta:i()[p+8>>>2>>>0],Xa:i()[p+12>>>2>>>0],Ua:i()[p+16>>>2>>>0],Sa:i()[p+20>>>2>>>0],Na:i()[p+24>>>2>>>0],Ra:i()[p+28>>>2>>>0],ub:i()[p+32>>>2>>>0],mb:i()[p+36>>>2>>>0],pb:ue?rt(ue):""},u=rt(u),ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var be in ue)u=u.replace(new RegExp(be,"g"),ue[be]);var Qr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Zr="January February March April May June July August September October November December".split(" ");ue={"%a":w=>Qr[w.Na].substring(0,3),"%A":w=>Qr[w.Na],"%b":w=>Zr[w.Ua].substring(0,3),"%B":w=>Zr[w.Ua],"%C":w=>A((w.Sa+1900)/100|0,2),"%d":w=>A(w.Xa,2),"%e":w=>_(w.Xa,2," "),"%g":w=>Ue(w).toString().substring(2),"%G":w=>Ue(w),"%H":w=>A(w.Ta,2),"%I":w=>(w=w.Ta,w==0?w=12:12<w&&(w-=12),A(w,2)),"%j":w=>{for(var j=0,te=0;te<=w.Ua-1;j+=(at(w.Sa+1900)?Wr:Hr)[te++]);return A(w.Xa+j,3)},"%m":w=>A(w.Ua+1,2),"%M":w=>A(w.nb,2),"%n":()=>`
`,"%p":w=>0<=w.Ta&&12>w.Ta?"AM":"PM","%S":w=>A(w.ob,2),"%t":()=>"	","%u":w=>w.Na||7,"%U":w=>A(Math.floor((w.Ra+7-w.Na)/7),2),"%V":w=>{var j=Math.floor((w.Ra+7-(w.Na+6)%7)/7);if(2>=(w.Na+371-w.Ra-2)%7&&j++,j)j==53&&(te=(w.Na+371-w.Ra)%7,te==4||te==3&&at(w.Sa)||(j=1));else{j=52;var te=(w.Na+7-w.Ra-1)%7;(te==4||te==5&&at(w.Sa%400-1))&&j++}return A(j,2)},"%w":w=>w.Na,"%W":w=>A(Math.floor((w.Ra+7-(w.Na+6)%7)/7),2),"%y":w=>(w.Sa+1900).toString().substring(2),"%Y":w=>w.Sa+1900,"%z":w=>{w=w.mb;var j=0<=w;return w=Math.abs(w)/60,(j?"+":"-")+("0000"+(w/60*100+w%60)).slice(-4)},"%Z":w=>w.pb,"%%":()=>"%"},u=u.replace(/%%/g,"\0\0");for(be in ue)u.includes(be)&&(u=u.replace(new RegExp(be,"g"),ue[be](p)));return u=u.replace(/\0\0/g,"%"),be=Aa(u),be.length>a?0:(Ta(be,e),be.length-1)}F.Wa();var Sa=[I,Ct,b,D,W,le,yt,wt,y,$,q,De,bt,Tr,Sr,Mr,Pr,Rr,Fr,Ir,Br,Lr,kr,Nr],Ma={b:function(e,a,u){throw e>>>=0,new o(e).Wa(a>>>0,u>>>0),l=e,c++,l},L:function(e){zr(e>>>0,!x,1,!C,131072,!1),F.ab()},j:function(e){e>>>=0,T?postMessage({cmd:"cleanupThread",thread:e}):F.Za(F.Ma[e])},H:S,h:D,S:W,D:le,F:yt,T:wt,Q:y,J:$,P:q,n:De,E:bt,B:Tr,R:Sr,C:Mr,p:()=>1,z:function(e,a){e>>>=0,e==a>>>0?setTimeout(()=>xt()):T?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=F.Ma[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,a,u,p){a>>>=0,Xt.length=u,p=p>>>0>>>3;for(var _=0;_<u;_++)Xt[_]=d()[p+_>>>0];return e=0>e?Ke[-e-1]:Sa[e],F.ib=a,a=e.apply(null,Xt),F.ib=0,a},K:Vt,o:function(e){P&&F.Ma[e>>>0].ref()},s:function(e,a,u){e=a+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*a:NaN,u>>>=0,e=new Date(1e3*e),i()[u>>>2>>>0]=e.getUTCSeconds(),i()[u+4>>>2>>>0]=e.getUTCMinutes(),i()[u+8>>>2>>>0]=e.getUTCHours(),i()[u+12>>>2>>>0]=e.getUTCDate(),i()[u+16>>>2>>>0]=e.getUTCMonth(),i()[u+20>>>2>>>0]=e.getUTCFullYear()-1900,i()[u+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,i()[u+28>>>2>>>0]=e},t:function(e,a,u){e=a+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*a:NaN,u>>>=0,e=new Date(1e3*e),i()[u>>>2>>>0]=e.getSeconds(),i()[u+4>>>2>>>0]=e.getMinutes(),i()[u+8>>>2>>>0]=e.getHours(),i()[u+12>>>2>>>0]=e.getDate(),i()[u+16>>>2>>>0]=e.getMonth(),i()[u+20>>>2>>>0]=e.getFullYear()-1900,i()[u+24>>>2>>>0]=e.getDay(),a=(at(e.getFullYear())?Cr:xr)[e.getMonth()]+e.getDate()-1|0,i()[u+28>>>2>>>0]=a,i()[u+36>>>2>>>0]=-(60*e.getTimezoneOffset()),a=new Date(e.getFullYear(),6,1).getTimezoneOffset();var p=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(a!=p&&e.getTimezoneOffset()==Math.min(p,a))|0,i()[u+32>>>2>>>0]=e},u:function(e){e>>>=0;var a=new Date(i()[e+20>>>2>>>0]+1900,i()[e+16>>>2>>>0],i()[e+12>>>2>>>0],i()[e+8>>>2>>>0],i()[e+4>>>2>>>0],i()[e>>>2>>>0],0),u=i()[e+32>>>2>>>0],p=a.getTimezoneOffset(),_=new Date(a.getFullYear(),6,1).getTimezoneOffset(),A=new Date(a.getFullYear(),0,1).getTimezoneOffset(),M=Math.min(A,_);return 0>u?i()[e+32>>>2>>>0]=+(_!=A&&M==p):0<u!=(M==p)&&(_=Math.max(A,_),a.setTime(a.getTime()+6e4*((0<u?M:_)-p))),i()[e+24>>>2>>>0]=a.getDay(),u=(at(a.getFullYear())?Cr:xr)[a.getMonth()]+a.getDate()-1|0,i()[e+28>>>2>>>0]=u,i()[e>>>2>>>0]=a.getSeconds(),i()[e+4>>>2>>>0]=a.getMinutes(),i()[e+8>>>2>>>0]=a.getHours(),i()[e+12>>>2>>>0]=a.getDate(),i()[e+16>>>2>>>0]=a.getMonth(),i()[e+20>>>2>>>0]=a.getYear(),e=a.getTime(),isNaN(e)?(i()[Gr()>>>2>>>0]=61,e=-1):e/=1e3,Vr((Le=e,1<=+Math.abs(Le)?0<Le?+Math.floor(Le/4294967296)>>>0:~~+Math.ceil((Le-+(~~Le>>>0))/4294967296)>>>0:0)),e>>>0},q:Pr,r:Rr,y:function(e,a,u){function p(ue){return(ue=ue.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ue[1]:"GMT"}e>>>=0,a>>>=0,u>>>=0;var _=new Date().getFullYear(),A=new Date(_,0,1),M=new Date(_,6,1);_=A.getTimezoneOffset();var ee=M.getTimezoneOffset(),Ue=Math.max(_,ee);m()[e>>>2>>>0]=60*Ue,i()[a>>>2>>>0]=+(_!=ee),e=p(A),a=p(M),e=Dr(e),a=Dr(a),ee<_?(m()[u>>>2>>>0]=e,m()[u+4>>>2>>>0]=a):(m()[u>>>2>>>0]=a,m()[u+4>>>2>>>0]=e)},c:()=>{Ie("")},O:function(e,a,u){e>>>=0,a>>>=0,u>>>=0,Jt.length=0;for(var p;p=f()[a++>>>0];){var _=p!=105;_&=p!=112,u+=_&&u%8?4:0,Jt.push(p==112?m()[u>>>2>>>0]:p==105?i()[u>>>2>>>0]:d()[u>>>3>>>0]),u+=_?8:4}return Ke[e].apply(null,Jt)},k:()=>{},i:()=>Date.now(),U:()=>{throw ze+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>P?(Nn(),Ve(kn)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var a=f().length;if(e<=a||4294901760<e)return!1;for(var u=1;4>=u;u*=2){var p=a*(1+.2/u);p=Math.min(p,e+100663296);var _=Math;p=Math.max(e,p);e:{_=(_.min.call(_,4294901760,p+(65536-p%65536)%65536)-re.buffer.byteLength+65535)/65536;try{re.grow(_),J();var A=1;break e}catch{}A=void 0}if(A)return!0}return!1},M:Fr,N:Ir,G:nt,g:Br,m:Lr,v:kr,l:Nr,a:re||s.wasmMemory,w:$r,d:function(e,a,u,p){return $r(e>>>0,a>>>0,u>>>0,p>>>0)}},U=function(){function e(u,p){return U=u.exports,U=Ca(),F.bb.push(U.za),gt=U.Aa,xe.unshift(U.V),Se=p,Pe(),U}var a={a:Ma};if(Te++,s.instantiateWasm)try{return s.instantiateWasm(a,e)}catch(u){ie(`Module.instantiateWasm callback failed with error: ${u}`),g(u)}return At(a,function(u){e(u.instance,u.module)}).catch(g),{}}();s._OrtInit=(e,a)=>(s._OrtInit=U.W)(e,a),s._OrtGetLastError=(e,a)=>(s._OrtGetLastError=U.X)(e,a),s._OrtCreateSessionOptions=(e,a,u,p,_,A,M,ee,Ue,ue)=>(s._OrtCreateSessionOptions=U.Y)(e,a,u,p,_,A,M,ee,Ue,ue),s._OrtAppendExecutionProvider=(e,a)=>(s._OrtAppendExecutionProvider=U.Z)(e,a),s._OrtAddFreeDimensionOverride=(e,a,u)=>(s._OrtAddFreeDimensionOverride=U._)(e,a,u),s._OrtAddSessionConfigEntry=(e,a,u)=>(s._OrtAddSessionConfigEntry=U.$)(e,a,u),s._OrtReleaseSessionOptions=e=>(s._OrtReleaseSessionOptions=U.aa)(e),s._OrtCreateSession=(e,a,u)=>(s._OrtCreateSession=U.ba)(e,a,u),s._OrtReleaseSession=e=>(s._OrtReleaseSession=U.ca)(e),s._OrtGetInputOutputCount=(e,a,u)=>(s._OrtGetInputOutputCount=U.da)(e,a,u),s._OrtGetInputName=(e,a)=>(s._OrtGetInputName=U.ea)(e,a),s._OrtGetOutputName=(e,a)=>(s._OrtGetOutputName=U.fa)(e,a),s._OrtFree=e=>(s._OrtFree=U.ga)(e),s._OrtCreateTensor=(e,a,u,p,_,A)=>(s._OrtCreateTensor=U.ha)(e,a,u,p,_,A),s._OrtGetTensorData=(e,a,u,p,_)=>(s._OrtGetTensorData=U.ia)(e,a,u,p,_),s._OrtReleaseTensor=e=>(s._OrtReleaseTensor=U.ja)(e),s._OrtCreateRunOptions=(e,a,u,p)=>(s._OrtCreateRunOptions=U.ka)(e,a,u,p),s._OrtAddRunConfigEntry=(e,a,u)=>(s._OrtAddRunConfigEntry=U.la)(e,a,u),s._OrtReleaseRunOptions=e=>(s._OrtReleaseRunOptions=U.ma)(e),s._OrtCreateBinding=e=>(s._OrtCreateBinding=U.na)(e),s._OrtBindInput=(e,a,u)=>(s._OrtBindInput=U.oa)(e,a,u),s._OrtBindOutput=(e,a,u,p)=>(s._OrtBindOutput=U.pa)(e,a,u,p),s._OrtClearBoundOutputs=e=>(s._OrtClearBoundOutputs=U.qa)(e),s._OrtReleaseBinding=e=>(s._OrtReleaseBinding=U.ra)(e),s._OrtRunWithBinding=(e,a,u,p,_)=>(s._OrtRunWithBinding=U.sa)(e,a,u,p,_),s._OrtRun=(e,a,u,p,_,A,M,ee)=>(s._OrtRun=U.ta)(e,a,u,p,_,A,M,ee),s._OrtEndProfiling=e=>(s._OrtEndProfiling=U.ua)(e);var Gr=()=>(Gr=U.va)(),Pt=s._pthread_self=()=>(Pt=s._pthread_self=U.wa)(),jr=s._malloc=e=>(jr=s._malloc=U.xa)(e);s._free=e=>(s._free=U.ya)(e),s.__emscripten_tls_init=()=>(s.__emscripten_tls_init=U.za)();var zr=s.__emscripten_thread_init=(e,a,u,p,_,A)=>(zr=s.__emscripten_thread_init=U.Ba)(e,a,u,p,_,A);s.__emscripten_thread_crashed=()=>(s.__emscripten_thread_crashed=U.Ca)();var Yr=(e,a,u,p)=>(Yr=U.Da)(e,a,u,p),Kt=e=>(Kt=U.Ea)(e),er=s.__emscripten_thread_exit=e=>(er=s.__emscripten_thread_exit=U.Fa)(e),qr=()=>(qr=U.Ga)(),Vr=e=>(Vr=U.Ha)(e),Xr=(e,a)=>(Xr=U.Ia)(e,a),tr=()=>(tr=U.Ja)(),Rt=e=>(Rt=U.Ka)(e),rr=e=>(rr=U.La)(e);function Ca(){var e=U;e=Object.assign({},e);var a=p=>()=>p()>>>0,u=p=>_=>p(_)>>>0;return e.va=a(e.va),e.wa=a(e.wa),e.xa=u(e.xa),e.emscripten_main_runtime_thread_id=a(e.emscripten_main_runtime_thread_id),e.Ja=a(e.Ja),e.La=u(e.La),e}s.wasmMemory=re,s.stackAlloc=rr,s.stackSave=tr,s.stackRestore=Rt,s.keepRuntimeAlive=()=>0<ze,s.UTF8ToString=rt,s.stringToUTF8=fe,s.lengthBytesUTF8=oe,s.ExitStatus=We,s.PThread=F;var Dt;we=function e(){Dt||Jr(),Dt||(we=e)};function Jr(){if(!(0<Te))if(T)h(s),T||Ye(xe),startWorker(s);else{if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)Ge.unshift(s.preRun.shift());Ye(Ge),0<Te||Dt||(Dt=!0,s.calledRun=!0,Ee||(T||Ye(xe),h(s),T||Ye(Ae)))}}return Jr(),t.ready}})();typeof Hn=="object"&&typeof mr=="object"?mr.exports=Wn:typeof define=="function"&&define.amd&&define([],()=>Wn)});var Gn=ot((ti,Na)=>{Na.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\n'});var zn,Wa,hr,gr,Wt,jn,Ha,$a,Ga,Yn,ne,ut=H(()=>{"use strict";zn=In();Wa=$n(),gr=!1,Wt=!1,jn=!1,Ha=r=>{if(r===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+r+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+r+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},$a=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Ga=(r,t)=>r?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":t?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Yn=async r=>{if(gr)return Promise.resolve();if(Wt)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(jn)throw new Error("previous call to 'initializeWebAssembly()' failed.");Wt=!0;let t=r.initTimeout,n=r.numThreads,f=r.simd,i=Ha(n),m=f&&$a(),d=r.wasmPaths,s=typeof d=="string"?d:void 0,h=Ga(m,i),g=typeof d=="object"?d[h]:void 0,O=!1,E=[];if(t>0&&E.push(new Promise(v=>{setTimeout(()=>{O=!0,v()},t)})),E.push(new Promise((v,C)=>{let x=i?Wa:zn,P={locateFile:(T,B)=>i&&T.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Gn()],{type:"text/javascript"})):T.endsWith(".wasm")?g||(s??B)+h:B+T};if(i)if(P.numThreads=n,typeof Blob>"u")P.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let T=`var ortWasmThreaded=${x.toString()};`;P.mainScriptUrlOrBlob=new Blob([T],{type:"text/javascript"})}x(P).then(T=>{Wt=!1,gr=!0,hr=T,v()},T=>{Wt=!1,jn=!0,C(T)})})),await Promise.race(E),O)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},ne=()=>{if(gr&&hr)return hr;throw new Error("WebAssembly is not initialized yet.")}});var Z,Ot,K,Ht=H(()=>{"use strict";ut();Z=(r,t)=>{let n=ne(),f=n.lengthBytesUTF8(r)+1,i=n._malloc(f);return n.stringToUTF8(r,i,f),t.push(i),i},Ot=(r,t,n,f)=>{if(typeof r=="object"&&r!==null){if(n.has(r))throw new Error("Circular reference in options");n.add(r)}Object.entries(r).forEach(([i,m])=>{let d=t?t+i:i;if(typeof m=="object")Ot(m,d+".",n,f);else if(typeof m=="string"||typeof m=="number")f(d,m.toString());else if(typeof m=="boolean")f(d,m?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof m}`)})},K=r=>{let t=ne(),n=t.stackSave();try{let f=t.stackAlloc(8);t._OrtGetLastError(f,f+4);let i=t.HEAP32[f/4],m=t.HEAPU32[f/4+1],d=m?t.UTF8ToString(m):"";throw new Error(`${r} ERROR_CODE: ${i}, ERROR_MESSAGE: ${d}`)}finally{t.stackRestore(n)}}});var qn,Vn=H(()=>{"use strict";ut();Ht();qn=r=>{let t=ne(),n=0,f=[],i=r||{};try{if(r?.logSeverityLevel===void 0)i.logSeverityLevel=2;else if(typeof r.logSeverityLevel!="number"||!Number.isInteger(r.logSeverityLevel)||r.logSeverityLevel<0||r.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${r.logSeverityLevel}`);if(r?.logVerbosityLevel===void 0)i.logVerbosityLevel=0;else if(typeof r.logVerbosityLevel!="number"||!Number.isInteger(r.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${r.logVerbosityLevel}`);r?.terminate===void 0&&(i.terminate=!1);let m=0;return r?.tag!==void 0&&(m=Z(r.tag,f)),n=t._OrtCreateRunOptions(i.logSeverityLevel,i.logVerbosityLevel,!!i.terminate,m),n===0&&K("Can't create run options."),r?.extra!==void 0&&Ot(r.extra,"",new WeakSet,(d,s)=>{let h=Z(d,f),g=Z(s,f);t._OrtAddRunConfigEntry(n,h,g)!==0&&K(`Can't set a run config entry: ${d} - ${s}.`)}),[n,f]}catch(m){throw n!==0&&t._OrtReleaseRunOptions(n),f.forEach(d=>t._free(d)),m}}});var ja,za,Ya,qa,Xn,Jn=H(()=>{"use strict";ut();Ht();ja=r=>{switch(r){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${r}`)}},za=r=>{switch(r){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${r}`)}},Ya=r=>{r.extra||(r.extra={}),r.extra.session||(r.extra.session={});let t=r.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),r.executionProviders&&r.executionProviders.some(n=>(typeof n=="string"?n:n.name)==="webgpu")&&(r.enableMemPattern=!1)},qa=(r,t,n)=>{for(let f of t){let i=typeof f=="string"?f:f.name;switch(i){case"webnn":if(i="WEBNN",typeof f!="string"){let d=f;if(d?.deviceType){let s=Z("deviceType",n),h=Z(d.deviceType,n);ne()._OrtAddSessionConfigEntry(r,s,h)!==0&&K(`Can't set a session config entry: 'deviceType' - ${d.deviceType}.`)}if(d?.numThreads){let s=d.numThreads;(typeof s!="number"||!Number.isInteger(s)||s<0)&&(s=0);let h=Z("numThreads",n),g=Z(s.toString(),n);ne()._OrtAddSessionConfigEntry(r,h,g)!==0&&K(`Can't set a session config entry: 'numThreads' - ${d.numThreads}.`)}if(d?.powerPreference){let s=Z("powerPreference",n),h=Z(d.powerPreference,n);ne()._OrtAddSessionConfigEntry(r,s,h)!==0&&K(`Can't set a session config entry: 'powerPreference' - ${d.powerPreference}.`)}}break;case"webgpu":if(i="JS",typeof f!="string"){let d=f;if(d?.preferredLayout){if(d.preferredLayout!=="NCHW"&&d.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${d.preferredLayout}`);let s=Z("preferredLayout",n),h=Z(d.preferredLayout,n);ne()._OrtAddSessionConfigEntry(r,s,h)!==0&&K(`Can't set a session config entry: 'preferredLayout' - ${d.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${i}`)}let m=Z(i,n);ne()._OrtAppendExecutionProvider(r,m)!==0&&K(`Can't append execution provider: ${i}.`)}},Xn=r=>{let t=ne(),n=0,f=[],i=r||{};Ya(i);try{let m=ja(i.graphOptimizationLevel??"all"),d=za(i.executionMode??"sequential"),s=typeof i.logId=="string"?Z(i.logId,f):0,h=i.logSeverityLevel??2;if(!Number.isInteger(h)||h<0||h>4)throw new Error(`log serverity level is not valid: ${h}`);let g=i.logVerbosityLevel??0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);let O=typeof i.optimizedModelFilePath=="string"?Z(i.optimizedModelFilePath,f):0;if(n=t._OrtCreateSessionOptions(m,!!i.enableCpuMemArena,!!i.enableMemPattern,d,!!i.enableProfiling,0,s,h,g,O),n===0&&K("Can't create session options."),i.executionProviders&&qa(n,i.executionProviders,f),i.enableGraphCapture!==void 0){if(typeof i.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${i.enableGraphCapture}`);let E=Z("enableGraphCapture",f),v=Z(i.enableGraphCapture.toString(),f);t._OrtAddSessionConfigEntry(n,E,v)!==0&&K(`Can't set a session config entry: 'enableGraphCapture' - ${i.enableGraphCapture}.`)}if(i.freeDimensionOverrides)for(let[E,v]of Object.entries(i.freeDimensionOverrides)){if(typeof E!="string")throw new Error(`free dimension override name must be a string: ${E}`);if(typeof v!="number"||!Number.isInteger(v)||v<0)throw new Error(`free dimension override value must be a non-negative integer: ${v}`);let C=Z(E,f);t._OrtAddFreeDimensionOverride(n,C,v)!==0&&K(`Can't set a free dimension override: ${E} - ${v}.`)}return i.extra!==void 0&&Ot(i.extra,"",new WeakSet,(E,v)=>{let C=Z(E,f),x=Z(v,f);t._OrtAddSessionConfigEntry(n,C,x)!==0&&K(`Can't set a session config entry: ${E} - ${v}.`)}),[n,f]}catch(m){throw n!==0&&t._OrtReleaseSessionOptions(n),f.forEach(d=>t._free(d)),m}}});var yr,Qn,wr,Zn,Kn,$t,ea,br=H(()=>{"use strict";yr=r=>{switch(r){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${r}`)}},Qn=r=>{switch(r){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${r}`)}},wr=r=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][r],Zn=r=>{switch(r){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${r}`)}},Kn=r=>{switch(r){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${r}`)}},$t=r=>r==="float32"||r==="float16"||r==="int32"||r==="int64"||r==="uint32"||r==="uint8"||r==="bool",ea=r=>{switch(r){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${r}`)}}});var Et,vr=H(()=>{"use strict";Et=async r=>{if(typeof r=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(r))}catch(t){if(t.code==="ERR_FS_FILE_TOO_LARGE"){let n=(void 0)(r),f=[];for await(let i of n)f.push(i);return new Uint8Array(Buffer.concat(f))}throw t}else{let t=await fetch(r);if(!t.ok)throw new Error(`failed to load external data file: ${r}`);let n=t.headers.get("Content-Length"),f=n?parseInt(n,10):0;if(f<1073741824)return new Uint8Array(await t.arrayBuffer());{if(!t.body)throw new Error(`failed to load external data file: ${r}, no response body.`);let i=t.body.getReader(),m;try{m=new ArrayBuffer(f)}catch(s){if(s instanceof RangeError){let h=Math.ceil(f/65536);m=new WebAssembly.Memory({initial:h,maximum:h}).buffer}else throw s}let d=0;for(;;){let{done:s,value:h}=await i.read();if(s)break;let g=h.byteLength;new Uint8Array(m,d,g).set(h),d+=g}return new Uint8Array(m,0,f)}}else return r instanceof Blob?new Uint8Array(await r.arrayBuffer()):r instanceof Uint8Array?r:new Uint8Array(r)}});var Va,ra,na,ft,Xa,Or,aa,oa,ta,ia,sa,ua,fa=H(()=>{"use strict";Vn();Jn();br();ut();Ht();vr();Va=(r,t)=>{ne()._OrtInit(r,t)!==0&&K("Can't initialize onnxruntime.")},ra=async r=>{Va(r.wasm.numThreads,Kn(r.logLevel))},na=async(r,t)=>{},ft=new Map,Xa=r=>{let t=ne(),n=t.stackSave();try{let f=t.stackAlloc(8);return t._OrtGetInputOutputCount(r,f,f+4)!==0&&K("Can't get session input/output count."),[t.HEAP32[f/4],t.HEAP32[f/4+1]]}finally{t.stackRestore(n)}},Or=r=>{let t=ne(),n=t._malloc(r.byteLength);if(n===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${r.byteLength}.`);return t.HEAPU8.set(r,n),[n,r.byteLength]},aa=async(r,t)=>{let n,f,i=ne();Array.isArray(r)?[n,f]=r:r.buffer===i.HEAPU8.buffer?[n,f]=[r.byteOffset,r.byteLength]:[n,f]=Or(r);let m=0,d=0,s=0,h=[],g=[],O=[];try{if([d,h]=Xn(t),t?.externalData&&i.mountExternalData){let k=[];for(let N of t.externalData){let V=typeof N=="string"?N:N.path;k.push(Et(typeof N=="string"?N:N.data).then(Y=>{i.mountExternalData(V,Y)}))}await Promise.all(k)}m=await i._OrtCreateSession(n,f,d),m===0&&K("Can't create a session.");let[E,v]=Xa(m),C=!!t?.enableGraphCapture,x=[],P=[],T=[];for(let k=0;k<E;k++){let N=i._OrtGetInputName(m,k);N===0&&K("Can't get an input name."),g.push(N),x.push(i.UTF8ToString(N))}for(let k=0;k<v;k++){let N=i._OrtGetOutputName(m,k);N===0&&K("Can't get an output name."),O.push(N);let V=i.UTF8ToString(N);P.push(V)}let B=null;return ft.set(m,[m,g,O,B,C,!1]),[m,x,P]}catch(E){throw g.forEach(v=>i._OrtFree(v)),O.forEach(v=>i._OrtFree(v)),s!==0&&i._OrtReleaseBinding(s),m!==0&&i._OrtReleaseSession(m),E}finally{i._free(n),d!==0&&i._OrtReleaseSessionOptions(d),h.forEach(E=>i._free(E)),i.unmountExternalData?.()}},oa=r=>{let t=ne(),n=ft.get(r);if(!n)throw new Error(`cannot release session. invalid session id: ${r}`);let[f,i,m,d,s]=n;d&&(s&&t._OrtClearBoundOutputs(d.handle),t._OrtReleaseBinding(d.handle)),t.jsepOnReleaseSession?.(r),i.forEach(h=>t._OrtFree(h)),m.forEach(h=>t._OrtFree(h)),t._OrtReleaseSession(f),ft.delete(r)},ta=(r,t,n,f,i,m=!1)=>{if(!r){t.push(0);return}let d=ne(),s=r[0],h=r[1],g=r[3],O,E;if(s==="string"&&g==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(m&&g!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${i} when enableGraphCapture is true.`);if(g==="gpu-buffer"){let x=r[2].gpuBuffer,P=wr(yr(s));E=h.reduce((B,k)=>B*k,1)*P;let T=d.jsepRegisterBuffer;if(!T)throw new Error('Tensor location "gpu-buffer" is not supported without using WebGPU.');O=T(f,i,x,E)}else{let x=r[2];if(Array.isArray(x)){E=4*x.length,O=d._malloc(E),n.push(O);let P=O/4;for(let T=0;T<x.length;T++){if(typeof x[T]!="string")throw new TypeError(`tensor data at index ${T} is not a string`);d.HEAPU32[P++]=Z(x[T],n)}}else E=x.byteLength,O=d._malloc(E),n.push(O),d.HEAPU8.set(new Uint8Array(x.buffer,x.byteOffset,E),O)}let v=d.stackSave(),C=d.stackAlloc(4*h.length);try{let x=C/4;h.forEach(T=>d.HEAP32[x++]=T);let P=d._OrtCreateTensor(yr(s),O,E,C,h.length,ea(g));P===0&&K(`Can't create tensor for input/output. session=${f}, index=${i}.`),t.push(P)}finally{d.stackRestore(v)}},ia=async(r,t,n,f,i,m)=>{let d=ne(),s=ft.get(r);if(!s)throw new Error(`cannot run inference. invalid session id: ${r}`);let h=s[0],g=s[1],O=s[2],E=s[3],v=s[4],C=s[5],x=t.length,P=f.length,T=0,B=[],k=[],N=[],V=[],Y=d.stackSave(),R=d.stackAlloc(x*4),X=d.stackAlloc(x*4),Fe=d.stackAlloc(P*4),Ne=d.stackAlloc(P*4);try{[T,B]=qn(m);for(let L=0;L<x;L++)ta(n[L],k,V,r,t[L],v);for(let L=0;L<P;L++)ta(i[L],N,V,r,x+f[L],v);let me=R/4,ie=X/4,re=Fe/4,Se=Ne/4;for(let L=0;L<x;L++)d.HEAPU32[me++]=k[L],d.HEAPU32[ie++]=g[t[L]];for(let L=0;L<P;L++)d.HEAPU32[re++]=N[L],d.HEAPU32[Se++]=O[f[L]];d.jsepOnRunStart?.(h);let Ee;Ee=await d._OrtRun(h,X,R,x,Ne,P,Fe,T),Ee!==0&&K("failed to call OrtRun().");let se=[];for(let L=0;L<P;L++){let _e=d.HEAPU32[Fe/4+L];if(_e===N[L]){se.push(i[L]);continue}let Me=d.stackSave(),de=d.stackAlloc(4*4),Ce=!1,J,ye=0;try{d._OrtGetTensorData(_e,de,de+4,de+8,de+12)!==0&&K(`Can't access output tensor data on index ${L}.`);let xe=de/4,Ae=d.HEAPU32[xe++];ye=d.HEAPU32[xe++];let Te=d.HEAPU32[xe++],je=d.HEAPU32[xe++],we=[];for(let ae=0;ae<je;ae++)we.push(d.HEAPU32[Te/4+ae]);d._OrtFree(Te);let Pe=we.reduce((ae,Q)=>ae*Q,1);J=Qn(Ae);let Ie=E?.outputPreferredLocations[f[L]];if(J==="string"){if(Ie==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let ae=[],Q=ye/4;for(let pe=0;pe<Pe;pe++){let Be=d.HEAPU32[Q++],Re=pe===Pe-1?void 0:d.HEAPU32[Q]-Be;ae.push(d.UTF8ToString(Be,Re))}se.push([J,we,ae,"cpu"])}else if(Ie==="gpu-buffer"&&Pe>0){let ae=d.jsepGetBuffer;if(!ae)throw new Error('preferredLocation "gpu-buffer" is not supported without using WebGPU.');let Q=ae(ye),pe=wr(Ae);if(pe===void 0||!$t(J))throw new Error(`Unsupported data type: ${J}`);Ce=!0,se.push([J,we,{gpuBuffer:Q,download:d.jsepCreateDownloader(Q,Pe*pe,J),dispose:()=>{d._OrtReleaseTensor(_e)}},"gpu-buffer"])}else{let ae=Zn(J),Q=new ae(Pe);new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength).set(d.HEAPU8.subarray(ye,ye+Q.byteLength)),se.push([J,we,Q,"cpu"])}}finally{d.stackRestore(Me),J==="string"&&ye&&d._free(ye),Ce||d._OrtReleaseTensor(_e)}}return E&&!v&&(d._OrtClearBoundOutputs(E.handle),ft.set(r,[h,g,O,E,v,!1])),se}finally{d.stackRestore(Y),k.forEach(me=>d._OrtReleaseTensor(me)),N.forEach(me=>d._OrtReleaseTensor(me)),V.forEach(me=>d._free(me)),T!==0&&d._OrtReleaseRunOptions(T),B.forEach(me=>d._free(me))}},sa=r=>{let t=ne(),n=ft.get(r);if(!n)throw new Error("invalid session id");let f=n[0],i=t._OrtEndProfiling(f);i===0&&K("Can't get an profile file name."),t._OrtFree(i)},ua=r=>{let t=[];for(let n of r){let f=n[2];!Array.isArray(f)&&"buffer"in f&&t.push(f.buffer)}return t}});var la=ot((Oi,Qa)=>{Qa.exports='/*!\n * ONNX Runtime Web v1.18.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var Et=Object.defineProperty;var Jr=Object.getOwnPropertyDescriptor;var Xr=Object.getOwnPropertyNames;var Qr=Object.prototype.hasOwnProperty;var St=(u,c)=>()=>(u&&(c=u(u=0)),c);var tt=(u,c)=>()=>(c||u((c={exports:{}}).exports,c),c.exports),At=(u,c)=>{for(var a in c)Et(u,a,{get:c[a],enumerable:!0})},Zr=(u,c,a,h)=>{if(c&&typeof c=="object"||typeof c=="function")for(let f of Xr(c))!Qr.call(u,f)&&f!==a&&Et(u,f,{get:()=>c[f],enumerable:!(h=Jr(c,f))||h.enumerable});return u};var rt=u=>Zr(Et({},"__esModule",{value:!0}),u);var Tt={};At(Tt,{createReadStream:()=>dr,readFile:()=>Kr,readFileSync:()=>en});var Kr,en,dr,Mt=St(()=>{Kr=void 0,en=void 0,dr=void 0});var Ct={};At(Ct,{join:()=>tn});var tn,Dt=St(()=>{tn=void 0});var gr=tt((mr,Ft)=>{"use strict";var pr=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(c={}){var a=c,h,f;a.ready=new Promise((r,o)=>{h=r,f=o});var w=Object.assign({},a),g="./this.program",i=typeof window=="object",E=typeof importScripts=="function",P=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",U="",D,x,K;if(P){var R=(Mt(),rt(Tt)),I=(Dt(),rt(Ct));U=E?I.dirname(U)+"/":__dirname+"/",D=(r,o)=>(r=ve(r)?new URL(r):I.normalize(r),R.readFileSync(r,o?void 0:"utf8")),K=r=>(r=D(r,!0),r.buffer||(r=new Uint8Array(r)),r),x=(r,o,s,m=!0)=>{r=ve(r)?new URL(r):I.normalize(r),R.readFile(r,m?void 0:"utf8",(O,A)=>{O?s(O):o(m?A.buffer:A)})},!a.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),a.inspect=()=>"[Emscripten Module object]"}else(i||E)&&(E?U=self.location.href:typeof document<"u"&&document.currentScript&&(U=document.currentScript.src),u&&(U=u),U.indexOf("blob:")!==0?U=U.substr(0,U.replace(/[?#].*/,"").lastIndexOf("/")+1):U="",D=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.send(null),o.responseText},E&&(K=r=>{var o=new XMLHttpRequest;return o.open("GET",r,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),x=(r,o,s)=>{var m=new XMLHttpRequest;m.open("GET",r,!0),m.responseType="arraybuffer",m.onload=()=>{m.status==200||m.status==0&&m.response?o(m.response):s()},m.onerror=s,m.send(null)});var v=console.log.bind(console),k=console.error.bind(console);Object.assign(a,w),w=null,typeof WebAssembly!="object"&&F("no native wasm support detected");var W,H=!1,se,ee,S,j,Ce;function Ue(){var r=W.buffer;a.HEAP8=se=new Int8Array(r),a.HEAP16=new Int16Array(r),a.HEAPU8=ee=new Uint8Array(r),a.HEAPU16=new Uint16Array(r),a.HEAP32=S=new Int32Array(r),a.HEAPU32=j=new Uint32Array(r),a.HEAPF32=new Float32Array(r),a.HEAPF64=Ce=new Float64Array(r)}var ce=[],ne=[],Q=[],Oe=0,he=null,ae=null;function F(r){throw r="Aborted("+r+")",k(r),H=!0,r=new WebAssembly.RuntimeError(r+". Build with -sASSERTIONS for more info."),f(r),r}var ye=r=>r.startsWith("data:application/octet-stream;base64,"),ve=r=>r.startsWith("file://"),fe;if(fe="ort-wasm.wasm",!ye(fe)){var _e=fe;fe=a.locateFile?a.locateFile(_e,U):U+_e}function Y(r){if(K)return K(r);throw"both async and sync fetching of the wasm failed"}function pe(r){if(i||E){if(typeof fetch=="function"&&!ve(r))return fetch(r,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw"failed to load wasm binary file at \'"+r+"\'";return o.arrayBuffer()}).catch(()=>Y(r));if(x)return new Promise((o,s)=>{x(r,m=>o(new Uint8Array(m)),s)})}return Promise.resolve().then(()=>Y(r))}function Ie(r,o,s){return pe(r).then(m=>WebAssembly.instantiate(m,o)).then(m=>m).then(s,m=>{k(`failed to asynchronously prepare wasm: ${m}`),F(m)})}function Ee(r,o){var s=fe;return typeof WebAssembly.instantiateStreaming!="function"||ye(s)||ve(s)||P||typeof fetch!="function"?Ie(s,r,o):fetch(s,{credentials:"same-origin"}).then(m=>WebAssembly.instantiateStreaming(m,r).then(o,function(O){return k(`wasm streaming compile failed: ${O}`),k("falling back to ArrayBuffer instantiation"),Ie(s,r,o)}))}var be,we={791728:(r,o,s,m)=>{if(typeof a>"u"||!a.za)return 1;if(r=z(r>>>0),r.startsWith("./")&&(r=r.substring(2)),r=a.za.get(r),!r)return 2;if(o>>>=0,s>>>=0,o+s>r.byteLength)return 3;try{return ee.set(r.subarray(o,o+s),m>>>0>>>0),0}catch{return 4}}};function Le(r){this.xa=r-24,this.Ha=function(o){j[this.xa+4>>>2>>>0]=o},this.Ga=function(o){j[this.xa+8>>>2>>>0]=o},this.Aa=function(o,s){this.Fa(),this.Ha(o),this.Ga(s)},this.Fa=function(){j[this.xa+16>>>2>>>0]=0}}var me=0,Se=0,De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,te=(r,o,s)=>{o>>>=0;var m=o+s;for(s=o;r[s]&&!(s>=m);)++s;if(16<s-o&&r.buffer&&De)return De.decode(r.subarray(o,s));for(m="";o<s;){var O=r[o++];if(O&128){var A=r[o++]&63;if((O&224)==192)m+=String.fromCharCode((O&31)<<6|A);else{var L=r[o++]&63;O=(O&240)==224?(O&15)<<12|A<<6|L:(O&7)<<18|A<<12|L<<6|r[o++]&63,65536>O?m+=String.fromCharCode(O):(O-=65536,m+=String.fromCharCode(55296|O>>10,56320|O&1023))}}else m+=String.fromCharCode(O)}return m},z=(r,o)=>(r>>>=0)?te(ee,r,o):"",le=r=>{for(var o=0,s=0;s<r.length;++s){var m=r.charCodeAt(s);127>=m?o++:2047>=m?o+=2:55296<=m&&57343>=m?(o+=4,++s):o+=3}return o},Fe=(r,o,s,m)=>{if(s>>>=0,!(0<m))return 0;var O=s;m=s+m-1;for(var A=0;A<r.length;++A){var L=r.charCodeAt(A);if(55296<=L&&57343>=L){var re=r.charCodeAt(++A);L=65536+((L&1023)<<10)|re&1023}if(127>=L){if(s>=m)break;o[s++>>>0]=L}else{if(2047>=L){if(s+1>=m)break;o[s++>>>0]=192|L>>6}else{if(65535>=L){if(s+2>=m)break;o[s++>>>0]=224|L>>12}else{if(s+3>=m)break;o[s++>>>0]=240|L>>18,o[s++>>>0]=128|L>>12&63}o[s++>>>0]=128|L>>6&63}o[s++>>>0]=128|L&63}}return o[s>>>0]=0,s-O},Ae=r=>r%4===0&&(r%100!==0||r%400===0),qe=[0,31,60,91,121,152,182,213,244,274,305,335],at=[0,31,59,90,120,151,181,212,243,273,304,334],xe=r=>{var o=le(r)+1,s=st(o);return s&&Fe(r,ee,s,o),s},Ne=[],Re={},He=()=>{if(!Ge){var r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},o;for(o in Re)Re[o]===void 0?delete r[o]:r[o]=Re[o];var s=[];for(o in r)s.push(`${o}=${r[o]}`);Ge=s}return Ge},Ge,Be=[null,[],[]],Ve=[31,29,31,30,31,30,31,31,30,31,30,31],Je=[31,28,31,30,31,30,31,31,30,31,30,31];function $e(r){var o=Array(le(r)+1);return Fe(r,o,0,o.length),o}function ot(r,o,s,m){function O(d,B,$){for(d=typeof d=="number"?d.toString():d||"";d.length<B;)d=$[0]+d;return d}function A(d,B){return O(d,B,"0")}function L(d,B){function $(et){return 0>et?-1:0<et?1:0}var Te;return(Te=$(d.getFullYear()-B.getFullYear()))===0&&(Te=$(d.getMonth()-B.getMonth()))===0&&(Te=$(d.getDate()-B.getDate())),Te}function re(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function de(d){var B=d.ta;for(d=new Date(new Date(d.ua+1900,0,1).getTime());0<B;){var $=d.getMonth(),Te=(Ae(d.getFullYear())?Ve:Je)[$];if(B>Te-d.getDate())B-=Te-d.getDate()+1,d.setDate(1),11>$?d.setMonth($+1):(d.setMonth(0),d.setFullYear(d.getFullYear()+1));else{d.setDate(d.getDate()+B);break}}return $=new Date(d.getFullYear()+1,0,4),B=re(new Date(d.getFullYear(),0,4)),$=re($),0>=L(B,d)?0>=L($,d)?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}r>>>=0,o>>>=0,s>>>=0,m>>>=0;var ie=j[m+40>>>2>>>0];m={Da:S[m>>>2>>>0],Ca:S[m+4>>>2>>>0],va:S[m+8>>>2>>>0],ya:S[m+12>>>2>>>0],wa:S[m+16>>>2>>>0],ua:S[m+20>>>2>>>0],oa:S[m+24>>>2>>>0],ta:S[m+28>>>2>>>0],Ia:S[m+32>>>2>>>0],Ba:S[m+36>>>2>>>0],Ea:ie?z(ie):""},s=z(s),ie={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ue in ie)s=s.replace(new RegExp(ue,"g"),ie[ue]);var Ze="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ke="January February March April May June July August September October November December".split(" ");ie={"%a":d=>Ze[d.oa].substring(0,3),"%A":d=>Ze[d.oa],"%b":d=>Ke[d.wa].substring(0,3),"%B":d=>Ke[d.wa],"%C":d=>A((d.ua+1900)/100|0,2),"%d":d=>A(d.ya,2),"%e":d=>O(d.ya,2," "),"%g":d=>de(d).toString().substring(2),"%G":d=>de(d),"%H":d=>A(d.va,2),"%I":d=>(d=d.va,d==0?d=12:12<d&&(d-=12),A(d,2)),"%j":d=>{for(var B=0,$=0;$<=d.wa-1;B+=(Ae(d.ua+1900)?Ve:Je)[$++]);return A(d.ya+B,3)},"%m":d=>A(d.wa+1,2),"%M":d=>A(d.Ca,2),"%n":()=>`\n`,"%p":d=>0<=d.va&&12>d.va?"AM":"PM","%S":d=>A(d.Da,2),"%t":()=>"	","%u":d=>d.oa||7,"%U":d=>A(Math.floor((d.ta+7-d.oa)/7),2),"%V":d=>{var B=Math.floor((d.ta+7-(d.oa+6)%7)/7);if(2>=(d.oa+371-d.ta-2)%7&&B++,B)B==53&&($=(d.oa+371-d.ta)%7,$==4||$==3&&Ae(d.ua)||(B=1));else{B=52;var $=(d.oa+7-d.ta-1)%7;($==4||$==5&&Ae(d.ua%400-1))&&B++}return A(B,2)},"%w":d=>d.oa,"%W":d=>A(Math.floor((d.ta+7-(d.oa+6)%7)/7),2),"%y":d=>(d.ua+1900).toString().substring(2),"%Y":d=>d.ua+1900,"%z":d=>{d=d.Ba;var B=0<=d;return d=Math.abs(d)/60,(B?"+":"-")+("0000"+(d/60*100+d%60)).slice(-4)},"%Z":d=>d.Ea,"%%":()=>"%"},s=s.replace(/%%/g,"\\0\\0");for(ue in ie)s.includes(ue)&&(s=s.replace(new RegExp(ue,"g"),ie[ue](m)));return s=s.replace(/\\0\\0/g,"%"),ue=$e(s),ue.length>o?0:(se.set(ue,r>>>0),ue.length-1)}var G={a:function(r,o,s){throw r>>>=0,new Le(r).Aa(o>>>0,s>>>0),me=r,Se++,me},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(r,o,s){r=o+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*o:NaN,s>>>=0,r=new Date(1e3*r),S[s>>>2>>>0]=r.getUTCSeconds(),S[s+4>>>2>>>0]=r.getUTCMinutes(),S[s+8>>>2>>>0]=r.getUTCHours(),S[s+12>>>2>>>0]=r.getUTCDate(),S[s+16>>>2>>>0]=r.getUTCMonth(),S[s+20>>>2>>>0]=r.getUTCFullYear()-1900,S[s+24>>>2>>>0]=r.getUTCDay(),S[s+28>>>2>>>0]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(r,o,s){r=o+2097152>>>0<4194305-!!r?(r>>>0)+4294967296*o:NaN,s>>>=0,r=new Date(1e3*r),S[s>>>2>>>0]=r.getSeconds(),S[s+4>>>2>>>0]=r.getMinutes(),S[s+8>>>2>>>0]=r.getHours(),S[s+12>>>2>>>0]=r.getDate(),S[s+16>>>2>>>0]=r.getMonth(),S[s+20>>>2>>>0]=r.getFullYear()-1900,S[s+24>>>2>>>0]=r.getDay(),S[s+28>>>2>>>0]=(Ae(r.getFullYear())?qe:at)[r.getMonth()]+r.getDate()-1|0,S[s+36>>>2>>>0]=-(60*r.getTimezoneOffset()),o=new Date(r.getFullYear(),6,1).getTimezoneOffset();var m=new Date(r.getFullYear(),0,1).getTimezoneOffset();S[s+32>>>2>>>0]=(o!=m&&r.getTimezoneOffset()==Math.min(m,o))|0},p:function(r){r>>>=0;var o=new Date(S[r+20>>>2>>>0]+1900,S[r+16>>>2>>>0],S[r+12>>>2>>>0],S[r+8>>>2>>>0],S[r+4>>>2>>>0],S[r>>>2>>>0],0),s=S[r+32>>>2>>>0],m=o.getTimezoneOffset(),O=new Date(o.getFullYear(),6,1).getTimezoneOffset(),A=new Date(o.getFullYear(),0,1).getTimezoneOffset(),L=Math.min(A,O);return 0>s?S[r+32>>>2>>>0]=+(O!=A&&L==m):0<s!=(L==m)&&(O=Math.max(A,O),o.setTime(o.getTime()+6e4*((0<s?L:O)-m))),S[r+24>>>2>>>0]=o.getDay(),S[r+28>>>2>>>0]=(Ae(o.getFullYear())?qe:at)[o.getMonth()]+o.getDate()-1|0,S[r>>>2>>>0]=o.getSeconds(),S[r+4>>>2>>>0]=o.getMinutes(),S[r+8>>>2>>>0]=o.getHours(),S[r+12>>>2>>>0]=o.getDate(),S[r+16>>>2>>>0]=o.getMonth(),S[r+20>>>2>>>0]=o.getYear(),r=o.getTime(),isNaN(r)?(S[je()>>>2>>>0]=61,r=-1):r/=1e3,Xe((be=r,1<=+Math.abs(be)?0<be?+Math.floor(be/4294967296)>>>0:~~+Math.ceil((be-+(~~be>>>0))/4294967296)>>>0:0)),r>>>0},l:function(){return-52},m:function(){},t:function(r,o,s){function m(de){return(de=de.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?de[1]:"GMT"}s>>>=0;var O=new Date().getFullYear(),A=new Date(O,0,1),L=new Date(O,6,1);O=A.getTimezoneOffset();var re=L.getTimezoneOffset();j[r>>>0>>>2>>>0]=60*Math.max(O,re),S[o>>>0>>>2>>>0]=+(O!=re),r=m(A),o=m(L),r=xe(r),o=xe(o),re<O?(j[s>>>2>>>0]=r,j[s+4>>>2>>>0]=o):(j[s>>>2>>>0]=o,j[s+4>>>2>>>0]=r)},d:()=>{F("")},B:function(r,o,s){r>>>=0,o>>>=0,s>>>=0,Ne.length=0;for(var m;m=ee[o++>>>0];){var O=m!=105;O&=m!=112,s+=O&&s%8?4:0,Ne.push(m==112?j[s>>>2>>>0]:m==105?S[s>>>2>>>0]:Ce[s>>>3>>>0]),s+=O?8:4}return we[r].apply(null,Ne)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(r,o,s){return o>>>=0,ee.copyWithin(r>>>0>>>0,o>>>0,o+(s>>>0)>>>0)},s:function(r){r>>>=0;var o=ee.length;if(4294901760<r)return!1;for(var s=1;4>=s;s*=2){var m=o*(1+.2/s);m=Math.min(m,r+100663296);var O=Math;m=Math.max(r,m);e:{O=(O.min.call(O,4294901760,m+(65536-m%65536)%65536)-W.buffer.byteLength+65535)/65536;try{W.grow(O),Ue();var A=1;break e}catch{}A=void 0}if(A)return!0}return!1},C:function(r,o){r>>>=0,o>>>=0;var s=0;return He().forEach((m,O)=>{var A=o+s;for(O=j[r+4*O>>>2>>>0]=A,A=0;A<m.length;++A)se[O++>>>0>>>0]=m.charCodeAt(A);se[O>>>0>>>0]=0,s+=m.length+1}),0},D:function(r,o){r>>>=0,o>>>=0;var s=He();j[r>>>2>>>0]=s.length;var m=0;return s.forEach(O=>m+=O.length+1),j[o>>>2>>>0]=m,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(r,o,s,m){o>>>=0,s>>>=0,m>>>=0;for(var O=0,A=0;A<s;A++){var L=j[o>>>2>>>0],re=j[o+4>>>2>>>0];o+=8;for(var de=0;de<re;de++){var ie=ee[L+de>>>0],ue=Be[r];ie===0||ie===10?((r===1?v:k)(te(ue,0)),ue.length=0):ue.push(ie)}O+=re}return j[m>>>2>>>0]=O,0},r:ot,c:function(r,o,s,m){return ot(r>>>0,o>>>0,s>>>0,m>>>0)}},C=function(){function r(s){return C=s.exports,C=ut(),W=C.K,Ue(),ne.unshift(C.L),Oe--,Oe==0&&(he!==null&&(clearInterval(he),he=null),ae&&(s=ae,ae=null,s())),C}var o={a:G};if(Oe++,a.instantiateWasm)try{return a.instantiateWasm(o,r)}catch(s){k(`Module.instantiateWasm callback failed with error: ${s}`),f(s)}return Ee(o,function(s){r(s.instance)}).catch(f),{}}();a._OrtInit=(r,o)=>(a._OrtInit=C.M)(r,o),a._OrtGetLastError=(r,o)=>(a._OrtGetLastError=C.N)(r,o),a._OrtCreateSessionOptions=(r,o,s,m,O,A,L,re,de,ie)=>(a._OrtCreateSessionOptions=C.O)(r,o,s,m,O,A,L,re,de,ie),a._OrtAppendExecutionProvider=(r,o)=>(a._OrtAppendExecutionProvider=C.P)(r,o),a._OrtAddFreeDimensionOverride=(r,o,s)=>(a._OrtAddFreeDimensionOverride=C.Q)(r,o,s),a._OrtAddSessionConfigEntry=(r,o,s)=>(a._OrtAddSessionConfigEntry=C.R)(r,o,s),a._OrtReleaseSessionOptions=r=>(a._OrtReleaseSessionOptions=C.S)(r),a._OrtCreateSession=(r,o,s)=>(a._OrtCreateSession=C.T)(r,o,s),a._OrtReleaseSession=r=>(a._OrtReleaseSession=C.U)(r),a._OrtGetInputOutputCount=(r,o,s)=>(a._OrtGetInputOutputCount=C.V)(r,o,s),a._OrtGetInputName=(r,o)=>(a._OrtGetInputName=C.W)(r,o),a._OrtGetOutputName=(r,o)=>(a._OrtGetOutputName=C.X)(r,o),a._OrtFree=r=>(a._OrtFree=C.Y)(r),a._OrtCreateTensor=(r,o,s,m,O,A)=>(a._OrtCreateTensor=C.Z)(r,o,s,m,O,A),a._OrtGetTensorData=(r,o,s,m,O)=>(a._OrtGetTensorData=C._)(r,o,s,m,O),a._OrtReleaseTensor=r=>(a._OrtReleaseTensor=C.$)(r),a._OrtCreateRunOptions=(r,o,s,m)=>(a._OrtCreateRunOptions=C.aa)(r,o,s,m),a._OrtAddRunConfigEntry=(r,o,s)=>(a._OrtAddRunConfigEntry=C.ba)(r,o,s),a._OrtReleaseRunOptions=r=>(a._OrtReleaseRunOptions=C.ca)(r),a._OrtCreateBinding=r=>(a._OrtCreateBinding=C.da)(r),a._OrtBindInput=(r,o,s)=>(a._OrtBindInput=C.ea)(r,o,s),a._OrtBindOutput=(r,o,s,m)=>(a._OrtBindOutput=C.fa)(r,o,s,m),a._OrtClearBoundOutputs=r=>(a._OrtClearBoundOutputs=C.ga)(r),a._OrtReleaseBinding=r=>(a._OrtReleaseBinding=C.ha)(r),a._OrtRunWithBinding=(r,o,s,m,O)=>(a._OrtRunWithBinding=C.ia)(r,o,s,m,O),a._OrtRun=(r,o,s,m,O,A,L,re)=>(a._OrtRun=C.ja)(r,o,s,m,O,A,L,re),a._OrtEndProfiling=r=>(a._OrtEndProfiling=C.ka)(r);var je=()=>(je=C.la)(),st=a._malloc=r=>(st=a._malloc=C.ma)(r);a._free=r=>(a._free=C.na)(r);var Xe=r=>(Xe=C.pa)(r),it=()=>(it=C.qa)(),M=r=>(M=C.ra)(r),ke=r=>(ke=C.sa)(r);function ut(){var r=C;r=Object.assign({},r);var o=m=>()=>m()>>>0,s=m=>O=>m(O)>>>0;return r.la=o(r.la),r.ma=s(r.ma),r.qa=o(r.qa),r.sa=s(r.sa),r}a.stackAlloc=ke,a.stackSave=it,a.stackRestore=M,a.UTF8ToString=z,a.stringToUTF8=(r,o,s)=>Fe(r,ee,o,s),a.lengthBytesUTF8=le;var Pe;ae=function r(){Pe||Qe(),Pe||(ae=r)};function Qe(){if(!(0<Oe)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;){var r=a.preRun.shift();ce.unshift(r)}for(;0<ce.length;)ce.shift()(a);if(!(0<Oe||Pe||(Pe=!0,a.calledRun=!0,H))){for(;0<ne.length;)ne.shift()(a);for(h(a);0<Q.length;)Q.shift()(a)}}}return Qe(),c.ready}})();typeof mr=="object"&&typeof Ft=="object"?Ft.exports=pr:typeof define=="function"&&define.amd&&define([],()=>pr)});var hr=tt(()=>{});var yr=tt(()=>{});var br={};At(br,{cpus:()=>rn});var rn,wr=St(()=>{rn=void 0});var _r=tt((vr,xt)=>{"use strict";var Or=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(c={}){function a(){return Q.buffer!=F.buffer&&Y(),F}function h(){return Q.buffer!=F.buffer&&Y(),ye}function f(){return Q.buffer!=F.buffer&&Y(),ve}function w(){return Q.buffer!=F.buffer&&Y(),fe}function g(){return Q.buffer!=F.buffer&&Y(),_e}var i=c,E,P;i.ready=new Promise((e,t)=>{E=e,P=t});var U=Object.assign({},i),D="./this.program",x=(e,t)=>{throw t},K=typeof window=="object",R=typeof importScripts=="function",I=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v=i.ENVIRONMENT_IS_PTHREAD||!1,k="";function W(e){return i.locateFile?i.locateFile(e,k):k+e}var H,se,ee;if(I){var S=(Mt(),rt(Tt)),j=(Dt(),rt(Ct));k=R?j.dirname(k)+"/":__dirname+"/",H=(t,n)=>(t=z(t)?new URL(t):j.normalize(t),S.readFileSync(t,n?void 0:"utf8")),ee=t=>(t=H(t,!0),t.buffer||(t=new Uint8Array(t)),t),se=(t,n,l,y=!0)=>{t=z(t)?new URL(t):j.normalize(t),S.readFile(t,y?void 0:"utf8",(b,_)=>{b?l(b):n(y?_.buffer:_)})},!i.thisProgram&&1<process.argv.length&&(D=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),x=(t,n)=>{throw process.exitCode=t,n},i.inspect=()=>"[Emscripten Module object]";let e;try{e=hr()}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}global.Worker=e.Worker}else(K||R)&&(R?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),typeof u<"u"&&u&&(k=u),k.indexOf("blob:")!==0?k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1):k="",I||(H=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},R&&(ee=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),se=(e,t,n)=>{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?t(l.response):n()},l.onerror=n,l.send(null)}));I&&typeof performance>"u"&&(global.performance=yr().performance);var Ce=console.log.bind(console),Ue=console.error.bind(console);I&&(Ce=(...e)=>S.writeSync(1,e.join(" ")+`\n`),Ue=(...e)=>S.writeSync(2,e.join(" ")+`\n`));var ce=Ce,ne=Ue;Object.assign(i,U),U=null,typeof WebAssembly!="object"&&De("no native wasm support detected");var Q,Oe,he=!1,ae,F,ye,ve,fe,_e;function Y(){var e=Q.buffer;i.HEAP8=F=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAPU8=ye=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAP32=ve=new Int32Array(e),i.HEAPU32=fe=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=_e=new Float64Array(e)}var pe=16777216;if(v)Q=i.wasmMemory;else if(i.wasmMemory)Q=i.wasmMemory;else if(Q=new WebAssembly.Memory({initial:pe/65536,maximum:65536,shared:!0}),!(Q.buffer instanceof SharedArrayBuffer))throw ne("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),I&&ne("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Y(),pe=Q.buffer.byteLength;var Ie=[],Ee=[],be=[],we=0,Le=null,me=null;function Se(){if(we--,we==0&&(Le!==null&&(clearInterval(Le),Le=null),me)){var e=me;me=null,e()}}function De(e){throw e="Aborted("+e+")",ne(e),he=!0,ae=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),P(e),e}var te=e=>e.startsWith("data:application/octet-stream;base64,"),z=e=>e.startsWith("file://"),le;le="ort-wasm-threaded.wasm",te(le)||(le=W(le));function Fe(e){if(ee)return ee(e);throw"both async and sync fetching of the wasm failed"}function Ae(e){if(K||R){if(typeof fetch=="function"&&!z(e))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at \'"+e+"\'";return t.arrayBuffer()}).catch(()=>Fe(e));if(se)return new Promise((t,n)=>{se(e,l=>t(new Uint8Array(l)),n)})}return Promise.resolve().then(()=>Fe(e))}function qe(e,t,n){return Ae(e).then(l=>WebAssembly.instantiate(l,t)).then(l=>l).then(n,l=>{ne(`failed to asynchronously prepare wasm: ${l}`),De(l)})}function at(e,t){var n=le;return typeof WebAssembly.instantiateStreaming!="function"||te(n)||z(n)||I||typeof fetch!="function"?qe(n,e,t):fetch(n,{credentials:"same-origin"}).then(l=>WebAssembly.instantiateStreaming(l,e).then(t,function(y){return ne(`wasm streaming compile failed: ${y}`),ne("falling back to ArrayBuffer instantiation"),qe(n,e,t)}))}var xe,Ne={793116:(e,t,n,l)=>{if(typeof i>"u"||!i.cb)return 1;if(e=$e(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=i.cb.get(e),!e)return 2;if(t>>>=0,n>>>=0,l>>>=0,t+n>e.byteLength)return 3;try{return h().set(e.subarray(t,t+n),l>>>0),0}catch{return 4}}};function Re(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var He=e=>{e.terminate(),e.onmessage=()=>{}},Ge=e=>{M.Pa.length==0&&(Xe(),M.Ya(M.Pa[0]));var t=M.Pa.pop();if(!t)return 6;M.Qa.push(t),M.Ma[e.Oa]=t,t.Oa=e.Oa;var n={cmd:"run",start_routine:e.kb,arg:e.hb,pthread_ptr:e.Oa};return I&&t.unref(),t.postMessage(n,e.qb),0},Be=0,Ve=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Je=(e,t,n)=>{t>>>=0;var l=t+n;for(n=t;e[n]&&!(n>=l);)++n;if(16<n-t&&e.buffer&&Ve)return Ve.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(l="";t<n;){var y=e[t++];if(y&128){var b=e[t++]&63;if((y&224)==192)l+=String.fromCharCode((y&31)<<6|b);else{var _=e[t++]&63;y=(y&240)==224?(y&15)<<12|b<<6|_:(y&7)<<18|b<<12|_<<6|e[t++]&63,65536>y?l+=String.fromCharCode(y):(y-=65536,l+=String.fromCharCode(55296|y>>10,56320|y&1023))}}else l+=String.fromCharCode(y)}return l},$e=(e,t)=>(e>>>=0)?Je(h(),e,t):"",ot=e=>{var t=vt();return e=e(),ct(t),e};function G(e,t){var n=arguments.length-2,l=arguments;return ot(()=>{for(var y=_t(8*n),b=y>>>3,_=0;_<n;_++){var J=l[2+_];g()[b+_>>>0]=J}return ar(e,n,y,t)})}function C(e){if(v)return G(0,1,e);ae=e,0<Be||(M.lb(),i.onExit?.(e),he=!0),x(e,new Re(e))}var je=e=>{if(ae=e,v)throw ut(e),"unwind";C(e)};function st(){for(var e=i.numThreads;e--;)Xe();Ie.unshift(()=>{we++,it(()=>Se())})}function Xe(){var e=W("ort-wasm-threaded.worker.js");e=new Worker(e),M.Pa.push(e)}function it(e){v?e():Promise.all(M.Pa.map(M.Ya)).then(e)}var M={Pa:[],Qa:[],bb:[],Ma:{},Wa(){v?(M.receiveObjectTransfer=M.jb,M.threadInitTLS=M.ab,M.setExitStatus=M.$a):st()},$a:e=>ae=e,tb:["$terminateWorker"],lb:()=>{for(var e of M.Qa)He(e);for(e of M.Pa)He(e);M.Pa=[],M.Qa=[],M.Ma=[]},Za:e=>{var t=e.Oa;delete M.Ma[t],M.Pa.push(e),M.Qa.splice(M.Qa.indexOf(e),1),e.Oa=0,wt(t)},jb(){},ab(){M.bb.forEach(e=>e())},Ya:e=>new Promise(t=>{e.onmessage=b=>{b=b.data;var _=b.cmd;if(b.targetThread&&b.targetThread!=lt()){var J=M.Ma[b.targetThread];J?J.postMessage(b,b.transferList):ne(`Internal error! Worker sent a message "${_}" to target pthread ${b.targetThread}, but that thread no longer exists!`)}else _==="checkMailbox"?ft():_==="spawnThread"?Ge(b):_==="cleanupThread"?M.Za(M.Ma[b.thread]):_==="killThread"?(b=b.thread,_=M.Ma[b],delete M.Ma[b],He(_),wt(b),M.Qa.splice(M.Qa.indexOf(_),1),_.Oa=0):_==="cancelThread"?M.Ma[b.thread].postMessage({cmd:"cancel"}):_==="loaded"?(e.loaded=!0,I&&!e.Oa&&e.unref(),t(e)):_==="alert"?alert(`Thread ${b.threadId}: ${b.text}`):b.target==="setimmediate"?e.postMessage(b):_==="callHandler"?i[b.handler](...b.args):_&&ne(`worker sent an unknown command ${_}`)},e.onerror=b=>{throw ne(`worker sent an error! ${b.filename}:${b.lineno}: ${b.message}`),b},I&&(e.on("message",b=>e.onmessage({data:b})),e.on("error",b=>e.onerror(b)));var n=[],l=["onExit"],y;for(y of l)i.hasOwnProperty(y)&&n.push(y);e.postMessage({cmd:"load",handlers:n,urlOrBlob:i.mainScriptUrlOrBlob||u,wasmMemory:Q,wasmModule:Oe})})};i.PThread=M;var ke=e=>{for(;0<e.length;)e.shift()(i)};i.establishStackSpace=()=>{var e=lt(),t=w()[e+52>>>2>>>0];e=w()[e+56>>>2>>>0],ir(t,t-e),ct(t)};function ut(e){if(v)return G(1,0,e);je(e)}var Pe=[],Qe;i.invokeEntryPoint=(e,t)=>{var n=Pe[e];n||(e>=Pe.length&&(Pe.length=e+1),Pe[e]=n=Qe.get(e)),e=n(t),0<Be?M.$a(e):Ot(e)};function r(e){this.Va=e-24,this.gb=function(t){w()[this.Va+4>>>2>>>0]=t},this.fb=function(t){w()[this.Va+8>>>2>>>0]=t},this.Wa=function(t,n){this.eb(),this.gb(t),this.fb(n)},this.eb=function(){w()[this.Va+16>>>2>>>0]=0}}var o=0,s=0;function m(e,t,n,l){return v?G(2,1,e,t,n,l):O(e,t,n,l)}function O(e,t,n,l){if(e>>>=0,t>>>=0,n>>>=0,l>>>=0,typeof SharedArrayBuffer>"u")return ne("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var y=[];return v&&y.length===0?m(e,t,n,l):(e={kb:n,Oa:e,hb:l,qb:y},v?(e.sb="spawnThread",postMessage(e,y),0):Ge(e))}function A(e,t,n){return v?G(3,1,e,t,n):0}function L(e,t){if(v)return G(4,1,e,t)}var re=e=>{for(var t=0,n=0;n<e.length;++n){var l=e.charCodeAt(n);127>=l?t++:2047>=l?t+=2:55296<=l&&57343>=l?(t+=4,++n):t+=3}return t},de=(e,t,n,l)=>{if(n>>>=0,!(0<l))return 0;var y=n;l=n+l-1;for(var b=0;b<e.length;++b){var _=e.charCodeAt(b);if(55296<=_&&57343>=_){var J=e.charCodeAt(++b);_=65536+((_&1023)<<10)|J&1023}if(127>=_){if(n>=l)break;t[n++>>>0]=_}else{if(2047>=_){if(n+1>=l)break;t[n++>>>0]=192|_>>6}else{if(65535>=_){if(n+2>=l)break;t[n++>>>0]=224|_>>12}else{if(n+3>=l)break;t[n++>>>0]=240|_>>18,t[n++>>>0]=128|_>>12&63}t[n++>>>0]=128|_>>6&63}t[n++>>>0]=128|_&63}}return t[n>>>0]=0,n-y},ie=(e,t,n)=>de(e,h(),t,n);function ue(e,t){if(v)return G(5,1,e,t)}function Ze(e,t,n){if(v)return G(6,1,e,t,n)}function Ke(e,t,n){return v?G(7,1,e,t,n):0}function d(e,t){if(v)return G(8,1,e,t)}function B(e,t,n){if(v)return G(9,1,e,t,n)}function $(e,t,n,l){if(v)return G(10,1,e,t,n,l)}function Te(e,t,n,l){if(v)return G(11,1,e,t,n,l)}function et(e,t,n,l){if(v)return G(12,1,e,t,n,l)}function Bt(e){if(v)return G(13,1,e)}function kt(e,t){if(v)return G(14,1,e,t)}function Wt(e,t,n){if(v)return G(15,1,e,t,n)}function mt(e){e>>>=0,typeof Atomics.rb=="function"&&(Atomics.rb(f(),e>>>2,e).value.then(ft),e+=128,Atomics.store(f(),e>>>2,1))}i.__emscripten_thread_mailbox_await=mt;var ft=()=>{var e=lt();if(e&&(mt(e),e=or,!he))try{if(e(),!(0<Be))try{v?Ot(ae):je(ae)}catch(t){t instanceof Re||t=="unwind"||x(1,t)}}catch(t){t instanceof Re||t=="unwind"||x(1,t)}};i.checkMailbox=ft;var gt=[],Ye=e=>e%4===0&&(e%100!==0||e%400===0),Nt=[0,31,60,91,121,152,182,213,244,274,305,335],Ht=[0,31,59,90,120,151,181,212,243,273,304,334];function Gt(e,t,n,l,y,b,_,J){return v?G(16,1,e,t,n,l,y,b,_,J):-52}function $t(e,t,n,l,y,b,_){if(v)return G(17,1,e,t,n,l,y,b,_)}var jt=e=>{var t=re(e)+1,n=rr(t);return n&&ie(e,n,t),n},ht=[],yt={},Yt=()=>{if(!bt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:D||"./this.program"},t;for(t in yt)yt[t]===void 0?delete e[t]:e[t]=yt[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);bt=n}return bt},bt;function zt(e,t){if(v)return G(18,1,e,t);e>>>=0,t>>>=0;var n=0;return Yt().forEach((l,y)=>{var b=t+n;for(y=w()[e+4*y>>>2>>>0]=b,b=0;b<l.length;++b)a()[y++>>>0>>>0]=l.charCodeAt(b);a()[y>>>0>>>0]=0,n+=l.length+1}),0}function qt(e,t){if(v)return G(19,1,e,t);e>>>=0,t>>>=0;var n=Yt();w()[e>>>2>>>0]=n.length;var l=0;return n.forEach(y=>l+=y.length+1),w()[t>>>2>>>0]=l,0}function Vt(e){return v?G(20,1,e):52}function Jt(e,t,n,l){return v?G(21,1,e,t,n,l):52}function Xt(e,t,n,l,y){return v?G(22,1,e,t,n,l,y):70}var $r=[null,[],[]];function Qt(e,t,n,l){if(v)return G(23,1,e,t,n,l);t>>>=0,n>>>=0,l>>>=0;for(var y=0,b=0;b<n;b++){var _=w()[t>>>2>>>0],J=w()[t+4>>>2>>>0];t+=8;for(var Me=0;Me<J;Me++){var oe=h()[_+Me>>>0],ge=$r[e];oe===0||oe===10?((e===1?ce:ne)(Je(ge,0)),ge.length=0):ge.push(oe)}y+=J}return w()[l>>>2>>>0]=y,0}var Zt=[31,29,31,30,31,30,31,31,30,31,30,31],Kt=[31,28,31,30,31,30,31,31,30,31,30,31];function jr(e){var t=Array(re(e)+1);return de(e,t,0,t.length),t}var Yr=(e,t)=>{a().set(e,t>>>0)};function er(e,t,n,l){function y(p,N,X){for(p=typeof p=="number"?p.toString():p||"";p.length<N;)p=X[0]+p;return p}function b(p,N){return y(p,N,"0")}function _(p,N){function X(cr){return 0>cr?-1:0<cr?1:0}var We;return(We=X(p.getFullYear()-N.getFullYear()))===0&&(We=X(p.getMonth()-N.getMonth()))===0&&(We=X(p.getDate()-N.getDate())),We}function J(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function Me(p){var N=p.Ra;for(p=new Date(new Date(p.Sa+1900,0,1).getTime());0<N;){var X=p.getMonth(),We=(Ye(p.getFullYear())?Zt:Kt)[X];if(N>We-p.getDate())N-=We-p.getDate()+1,p.setDate(1),11>X?p.setMonth(X+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+N);break}}return X=new Date(p.getFullYear()+1,0,4),N=J(new Date(p.getFullYear(),0,4)),X=J(X),0>=_(N,p)?0>=_(X,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}e>>>=0,t>>>=0,n>>>=0,l>>>=0;var oe=w()[l+40>>>2>>>0];l={ob:f()[l>>>2>>>0],nb:f()[l+4>>>2>>>0],Ta:f()[l+8>>>2>>>0],Xa:f()[l+12>>>2>>>0],Ua:f()[l+16>>>2>>>0],Sa:f()[l+20>>>2>>>0],Na:f()[l+24>>>2>>>0],Ra:f()[l+28>>>2>>>0],ub:f()[l+32>>>2>>>0],mb:f()[l+36>>>2>>>0],pb:oe?$e(oe):""},n=$e(n),oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ge in oe)n=n.replace(new RegExp(ge,"g"),oe[ge]);var fr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),lr="January February March April May June July August September October November December".split(" ");oe={"%a":p=>fr[p.Na].substring(0,3),"%A":p=>fr[p.Na],"%b":p=>lr[p.Ua].substring(0,3),"%B":p=>lr[p.Ua],"%C":p=>b((p.Sa+1900)/100|0,2),"%d":p=>b(p.Xa,2),"%e":p=>y(p.Xa,2," "),"%g":p=>Me(p).toString().substring(2),"%G":p=>Me(p),"%H":p=>b(p.Ta,2),"%I":p=>(p=p.Ta,p==0?p=12:12<p&&(p-=12),b(p,2)),"%j":p=>{for(var N=0,X=0;X<=p.Ua-1;N+=(Ye(p.Sa+1900)?Zt:Kt)[X++]);return b(p.Xa+N,3)},"%m":p=>b(p.Ua+1,2),"%M":p=>b(p.nb,2),"%n":()=>`\n`,"%p":p=>0<=p.Ta&&12>p.Ta?"AM":"PM","%S":p=>b(p.ob,2),"%t":()=>"	","%u":p=>p.Na||7,"%U":p=>b(Math.floor((p.Ra+7-p.Na)/7),2),"%V":p=>{var N=Math.floor((p.Ra+7-(p.Na+6)%7)/7);if(2>=(p.Na+371-p.Ra-2)%7&&N++,N)N==53&&(X=(p.Na+371-p.Ra)%7,X==4||X==3&&Ye(p.Sa)||(N=1));else{N=52;var X=(p.Na+7-p.Ra-1)%7;(X==4||X==5&&Ye(p.Sa%400-1))&&N++}return b(N,2)},"%w":p=>p.Na,"%W":p=>b(Math.floor((p.Ra+7-(p.Na+6)%7)/7),2),"%y":p=>(p.Sa+1900).toString().substring(2),"%Y":p=>p.Sa+1900,"%z":p=>{p=p.mb;var N=0<=p;return p=Math.abs(p)/60,(N?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.pb,"%%":()=>"%"},n=n.replace(/%%/g,"\\0\\0");for(ge in oe)n.includes(ge)&&(n=n.replace(new RegExp(ge,"g"),oe[ge](l)));return n=n.replace(/\\0\\0/g,"%"),ge=jr(n),ge.length>t?0:(Yr(ge,e),ge.length-1)}M.Wa();var zr=[C,ut,m,A,L,ue,Ze,Ke,d,B,$,Te,et,Bt,kt,Wt,Gt,$t,zt,qt,Vt,Jt,Xt,Qt],qr={b:function(e,t,n){throw e>>>=0,new r(e).Wa(t>>>0,n>>>0),o=e,s++,o},L:function(e){nr(e>>>0,!R,1,!K,131072,!1),M.ab()},j:function(e){e>>>=0,v?postMessage({cmd:"cleanupThread",thread:e}):M.Za(M.Ma[e])},H:O,h:A,S:L,D:ue,F:Ze,T:Ke,Q:d,J:B,P:$,n:Te,E:et,B:Bt,R:kt,C:Wt,p:()=>1,z:function(e,t){e>>>=0,e==t>>>0?setTimeout(()=>ft()):v?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=M.Ma[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,t,n,l){t>>>=0,gt.length=n,l=l>>>0>>>3;for(var y=0;y<n;y++)gt[y]=g()[l+y>>>0];return e=0>e?Ne[-e-1]:zr[e],M.ib=t,t=e.apply(null,gt),M.ib=0,t},K:mt,o:function(e){I&&M.Ma[e>>>0].ref()},s:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),f()[n>>>2>>>0]=e.getUTCSeconds(),f()[n+4>>>2>>>0]=e.getUTCMinutes(),f()[n+8>>>2>>>0]=e.getUTCHours(),f()[n+12>>>2>>>0]=e.getUTCDate(),f()[n+16>>>2>>>0]=e.getUTCMonth(),f()[n+20>>>2>>>0]=e.getUTCFullYear()-1900,f()[n+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,f()[n+28>>>2>>>0]=e},t:function(e,t,n){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,n>>>=0,e=new Date(1e3*e),f()[n>>>2>>>0]=e.getSeconds(),f()[n+4>>>2>>>0]=e.getMinutes(),f()[n+8>>>2>>>0]=e.getHours(),f()[n+12>>>2>>>0]=e.getDate(),f()[n+16>>>2>>>0]=e.getMonth(),f()[n+20>>>2>>>0]=e.getFullYear()-1900,f()[n+24>>>2>>>0]=e.getDay(),t=(Ye(e.getFullYear())?Nt:Ht)[e.getMonth()]+e.getDate()-1|0,f()[n+28>>>2>>>0]=t,f()[n+36>>>2>>>0]=-(60*e.getTimezoneOffset()),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var l=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(t!=l&&e.getTimezoneOffset()==Math.min(l,t))|0,f()[n+32>>>2>>>0]=e},u:function(e){e>>>=0;var t=new Date(f()[e+20>>>2>>>0]+1900,f()[e+16>>>2>>>0],f()[e+12>>>2>>>0],f()[e+8>>>2>>>0],f()[e+4>>>2>>>0],f()[e>>>2>>>0],0),n=f()[e+32>>>2>>>0],l=t.getTimezoneOffset(),y=new Date(t.getFullYear(),6,1).getTimezoneOffset(),b=new Date(t.getFullYear(),0,1).getTimezoneOffset(),_=Math.min(b,y);return 0>n?f()[e+32>>>2>>>0]=+(y!=b&&_==l):0<n!=(_==l)&&(y=Math.max(b,y),t.setTime(t.getTime()+6e4*((0<n?_:y)-l))),f()[e+24>>>2>>>0]=t.getDay(),n=(Ye(t.getFullYear())?Nt:Ht)[t.getMonth()]+t.getDate()-1|0,f()[e+28>>>2>>>0]=n,f()[e>>>2>>>0]=t.getSeconds(),f()[e+4>>>2>>>0]=t.getMinutes(),f()[e+8>>>2>>>0]=t.getHours(),f()[e+12>>>2>>>0]=t.getDate(),f()[e+16>>>2>>>0]=t.getMonth(),f()[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),isNaN(e)?(f()[tr()>>>2>>>0]=61,e=-1):e/=1e3,sr((xe=e,1<=+Math.abs(xe)?0<xe?+Math.floor(xe/4294967296)>>>0:~~+Math.ceil((xe-+(~~xe>>>0))/4294967296)>>>0:0)),e>>>0},q:Gt,r:$t,y:function(e,t,n){function l(oe){return(oe=oe.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?oe[1]:"GMT"}e>>>=0,t>>>=0,n>>>=0;var y=new Date().getFullYear(),b=new Date(y,0,1),_=new Date(y,6,1);y=b.getTimezoneOffset();var J=_.getTimezoneOffset(),Me=Math.max(y,J);w()[e>>>2>>>0]=60*Me,f()[t>>>2>>>0]=+(y!=J),e=l(b),t=l(_),e=jt(e),t=jt(t),J<y?(w()[n>>>2>>>0]=e,w()[n+4>>>2>>>0]=t):(w()[n>>>2>>>0]=t,w()[n+4>>>2>>>0]=e)},c:()=>{De("")},O:function(e,t,n){e>>>=0,t>>>=0,n>>>=0,ht.length=0;for(var l;l=h()[t++>>>0];){var y=l!=105;y&=l!=112,n+=y&&n%8?4:0,ht.push(l==112?w()[n>>>2>>>0]:l==105?f()[n>>>2>>>0]:g()[n>>>3>>>0]),n+=y?8:4}return Ne[e].apply(null,ht)},k:()=>{},i:()=>Date.now(),U:()=>{throw Be+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>I?(wr(),rt(br)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var t=h().length;if(e<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var l=t*(1+.2/n);l=Math.min(l,e+100663296);var y=Math;l=Math.max(e,l);e:{y=(y.min.call(y,4294901760,l+(65536-l%65536)%65536)-Q.buffer.byteLength+65535)/65536;try{Q.grow(y),Y();var b=1;break e}catch{}b=void 0}if(b)return!0}return!1},M:zt,N:qt,G:je,g:Vt,m:Jt,v:Xt,l:Qt,a:Q||i.wasmMemory,w:er,d:function(e,t,n,l){return er(e>>>0,t>>>0,n>>>0,l>>>0)}},T=function(){function e(n,l){return T=n.exports,T=Vr(),M.bb.push(T.za),Qe=T.Aa,Ee.unshift(T.V),Oe=l,Se(),T}var t={a:qr};if(we++,i.instantiateWasm)try{return i.instantiateWasm(t,e)}catch(n){ne(`Module.instantiateWasm callback failed with error: ${n}`),P(n)}return at(t,function(n){e(n.instance,n.module)}).catch(P),{}}();i._OrtInit=(e,t)=>(i._OrtInit=T.W)(e,t),i._OrtGetLastError=(e,t)=>(i._OrtGetLastError=T.X)(e,t),i._OrtCreateSessionOptions=(e,t,n,l,y,b,_,J,Me,oe)=>(i._OrtCreateSessionOptions=T.Y)(e,t,n,l,y,b,_,J,Me,oe),i._OrtAppendExecutionProvider=(e,t)=>(i._OrtAppendExecutionProvider=T.Z)(e,t),i._OrtAddFreeDimensionOverride=(e,t,n)=>(i._OrtAddFreeDimensionOverride=T._)(e,t,n),i._OrtAddSessionConfigEntry=(e,t,n)=>(i._OrtAddSessionConfigEntry=T.$)(e,t,n),i._OrtReleaseSessionOptions=e=>(i._OrtReleaseSessionOptions=T.aa)(e),i._OrtCreateSession=(e,t,n)=>(i._OrtCreateSession=T.ba)(e,t,n),i._OrtReleaseSession=e=>(i._OrtReleaseSession=T.ca)(e),i._OrtGetInputOutputCount=(e,t,n)=>(i._OrtGetInputOutputCount=T.da)(e,t,n),i._OrtGetInputName=(e,t)=>(i._OrtGetInputName=T.ea)(e,t),i._OrtGetOutputName=(e,t)=>(i._OrtGetOutputName=T.fa)(e,t),i._OrtFree=e=>(i._OrtFree=T.ga)(e),i._OrtCreateTensor=(e,t,n,l,y,b)=>(i._OrtCreateTensor=T.ha)(e,t,n,l,y,b),i._OrtGetTensorData=(e,t,n,l,y)=>(i._OrtGetTensorData=T.ia)(e,t,n,l,y),i._OrtReleaseTensor=e=>(i._OrtReleaseTensor=T.ja)(e),i._OrtCreateRunOptions=(e,t,n,l)=>(i._OrtCreateRunOptions=T.ka)(e,t,n,l),i._OrtAddRunConfigEntry=(e,t,n)=>(i._OrtAddRunConfigEntry=T.la)(e,t,n),i._OrtReleaseRunOptions=e=>(i._OrtReleaseRunOptions=T.ma)(e),i._OrtCreateBinding=e=>(i._OrtCreateBinding=T.na)(e),i._OrtBindInput=(e,t,n)=>(i._OrtBindInput=T.oa)(e,t,n),i._OrtBindOutput=(e,t,n,l)=>(i._OrtBindOutput=T.pa)(e,t,n,l),i._OrtClearBoundOutputs=e=>(i._OrtClearBoundOutputs=T.qa)(e),i._OrtReleaseBinding=e=>(i._OrtReleaseBinding=T.ra)(e),i._OrtRunWithBinding=(e,t,n,l,y)=>(i._OrtRunWithBinding=T.sa)(e,t,n,l,y),i._OrtRun=(e,t,n,l,y,b,_,J)=>(i._OrtRun=T.ta)(e,t,n,l,y,b,_,J),i._OrtEndProfiling=e=>(i._OrtEndProfiling=T.ua)(e);var tr=()=>(tr=T.va)(),lt=i._pthread_self=()=>(lt=i._pthread_self=T.wa)(),rr=i._malloc=e=>(rr=i._malloc=T.xa)(e);i._free=e=>(i._free=T.ya)(e),i.__emscripten_tls_init=()=>(i.__emscripten_tls_init=T.za)();var nr=i.__emscripten_thread_init=(e,t,n,l,y,b)=>(nr=i.__emscripten_thread_init=T.Ba)(e,t,n,l,y,b);i.__emscripten_thread_crashed=()=>(i.__emscripten_thread_crashed=T.Ca)();var ar=(e,t,n,l)=>(ar=T.Da)(e,t,n,l),wt=e=>(wt=T.Ea)(e),Ot=i.__emscripten_thread_exit=e=>(Ot=i.__emscripten_thread_exit=T.Fa)(e),or=()=>(or=T.Ga)(),sr=e=>(sr=T.Ha)(e),ir=(e,t)=>(ir=T.Ia)(e,t),vt=()=>(vt=T.Ja)(),ct=e=>(ct=T.Ka)(e),_t=e=>(_t=T.La)(e);function Vr(){var e=T;e=Object.assign({},e);var t=l=>()=>l()>>>0,n=l=>y=>l(y)>>>0;return e.va=t(e.va),e.wa=t(e.wa),e.xa=n(e.xa),e.emscripten_main_runtime_thread_id=t(e.emscripten_main_runtime_thread_id),e.Ja=t(e.Ja),e.La=n(e.La),e}i.wasmMemory=Q,i.stackAlloc=_t,i.stackSave=vt,i.stackRestore=ct,i.keepRuntimeAlive=()=>0<Be,i.UTF8ToString=$e,i.stringToUTF8=ie,i.lengthBytesUTF8=re,i.ExitStatus=Re,i.PThread=M;var dt;me=function e(){dt||ur(),dt||(me=e)};function ur(){if(!(0<we))if(v)E(i),v||ke(Ee),startWorker(i);else{if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Ie.unshift(i.preRun.shift());ke(Ie),0<we||dt||(dt=!0,i.calledRun=!0,he||(v||ke(Ee),E(i),v||ke(be)))}}return ur(),c.ready}})();typeof vr=="object"&&typeof xt=="object"?xt.exports=Or:typeof define=="function"&&define.amd&&define([],()=>Or)});var Er=tt((On,nn)=>{nn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(){var e=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,e+`\\n`);return}console.error(e)}function threadAlert(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,t)=>{var a=Module.wasmModule;Module.wasmModule=null;var r=new WebAssembly.Instance(a,e);return t(r)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let a=[];self.onmessage=r=>a.push(r),self.startWorker=r=>{Module=r,postMessage({cmd:"loaded"});for(let s of a)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const r of e.data.handlers)Module[r]=(...s)=>{postMessage({cmd:"callHandler",handler:r,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(a){if(a!="unwind")throw a}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(a){throw Module.__emscripten_thread_crashed?.(),a}}self.onmessage=handleMessage;\\n\'});var Ar;Ar=gr();var an=_r(),Pt,Ut=!1,pt=!1,Sr=!1,on=u=>{if(u===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+u+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+u+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},sn=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},un=(u,c)=>u?c?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":c?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Tr=async u=>{if(Ut)return Promise.resolve();if(pt)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(Sr)throw new Error("previous call to \'initializeWebAssembly()\' failed.");pt=!0;let c=u.initTimeout,a=u.numThreads,h=u.simd,f=on(a),w=h&&sn(),g=u.wasmPaths,i=typeof g=="string"?g:void 0,E=un(w,f),P=typeof g=="object"?g[E]:void 0,U=!1,D=[];if(c>0&&D.push(new Promise(x=>{setTimeout(()=>{U=!0,x()},c)})),D.push(new Promise((x,K)=>{let R=f?an:Ar,I={locateFile:(v,k)=>f&&v.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Er()],{type:"text/javascript"})):v.endsWith(".wasm")?P||(i??k)+E:k+v};if(f)if(I.numThreads=a,typeof Blob>"u")I.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let v=`var ortWasmThreaded=${R.toString()};`;I.mainScriptUrlOrBlob=new Blob([v],{type:"text/javascript"})}R(I).then(v=>{pt=!1,Ut=!0,Pt=v,x()},v=>{pt=!1,Sr=!0,K(v)})})),await Promise.race(D),U)throw new Error(`WebAssembly backend initializing failed due to timeout: ${c}ms`)},Z=()=>{if(Ut&&Pt)return Pt;throw new Error("WebAssembly is not initialized yet.")};var q=(u,c)=>{let a=Z(),h=a.lengthBytesUTF8(u)+1,f=a._malloc(h);return a.stringToUTF8(u,f,h),c.push(f),f},nt=(u,c,a,h)=>{if(typeof u=="object"&&u!==null){if(a.has(u))throw new Error("Circular reference in options");a.add(u)}Object.entries(u).forEach(([f,w])=>{let g=c?c+f:f;if(typeof w=="object")nt(w,g+".",a,h);else if(typeof w=="string"||typeof w=="number")h(g,w.toString());else if(typeof w=="boolean")h(g,w?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof w}`)})},V=u=>{let c=Z(),a=c.stackSave();try{let h=c.stackAlloc(8);c._OrtGetLastError(h,h+4);let f=c.HEAP32[h/4],w=c.HEAPU32[h/4+1],g=w?c.UTF8ToString(w):"";throw new Error(`${u} ERROR_CODE: ${f}, ERROR_MESSAGE: ${g}`)}finally{c.stackRestore(a)}};var Mr=u=>{let c=Z(),a=0,h=[],f=u||{};try{if(u?.logSeverityLevel===void 0)f.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if(u?.logVerbosityLevel===void 0)f.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);u?.terminate===void 0&&(f.terminate=!1);let w=0;return u?.tag!==void 0&&(w=q(u.tag,h)),a=c._OrtCreateRunOptions(f.logSeverityLevel,f.logVerbosityLevel,!!f.terminate,w),a===0&&V("Can\'t create run options."),u?.extra!==void 0&&nt(u.extra,"",new WeakSet,(g,i)=>{let E=q(g,h),P=q(i,h);c._OrtAddRunConfigEntry(a,E,P)!==0&&V(`Can\'t set a run config entry: ${g} - ${i}.`)}),[a,h]}catch(w){throw a!==0&&c._OrtReleaseRunOptions(a),h.forEach(g=>c._free(g)),w}};var fn=u=>{switch(u){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${u}`)}},ln=u=>{switch(u){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${u}`)}},cn=u=>{u.extra||(u.extra={}),u.extra.session||(u.extra.session={});let c=u.extra.session;c.use_ort_model_bytes_directly||(c.use_ort_model_bytes_directly="1"),u.executionProviders&&u.executionProviders.some(a=>(typeof a=="string"?a:a.name)==="webgpu")&&(u.enableMemPattern=!1)},dn=(u,c,a)=>{for(let h of c){let f=typeof h=="string"?h:h.name;switch(f){case"webnn":if(f="WEBNN",typeof h!="string"){let g=h;if(g?.deviceType){let i=q("deviceType",a),E=q(g.deviceType,a);Z()._OrtAddSessionConfigEntry(u,i,E)!==0&&V(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.numThreads){let i=g.numThreads;(typeof i!="number"||!Number.isInteger(i)||i<0)&&(i=0);let E=q("numThreads",a),P=q(i.toString(),a);Z()._OrtAddSessionConfigEntry(u,E,P)!==0&&V(`Can\'t set a session config entry: \'numThreads\' - ${g.numThreads}.`)}if(g?.powerPreference){let i=q("powerPreference",a),E=q(g.powerPreference,a);Z()._OrtAddSessionConfigEntry(u,i,E)!==0&&V(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(f="JS",typeof h!="string"){let g=h;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let i=q("preferredLayout",a),E=q(g.preferredLayout,a);Z()._OrtAddSessionConfigEntry(u,i,E)!==0&&V(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${f}`)}let w=q(f,a);Z()._OrtAppendExecutionProvider(u,w)!==0&&V(`Can\'t append execution provider: ${f}.`)}},Cr=u=>{let c=Z(),a=0,h=[],f=u||{};cn(f);try{let w=fn(f.graphOptimizationLevel??"all"),g=ln(f.executionMode??"sequential"),i=typeof f.logId=="string"?q(f.logId,h):0,E=f.logSeverityLevel??2;if(!Number.isInteger(E)||E<0||E>4)throw new Error(`log serverity level is not valid: ${E}`);let P=f.logVerbosityLevel??0;if(!Number.isInteger(P)||P<0||P>4)throw new Error(`log verbosity level is not valid: ${P}`);let U=typeof f.optimizedModelFilePath=="string"?q(f.optimizedModelFilePath,h):0;if(a=c._OrtCreateSessionOptions(w,!!f.enableCpuMemArena,!!f.enableMemPattern,g,!!f.enableProfiling,0,i,E,P,U),a===0&&V("Can\'t create session options."),f.executionProviders&&dn(a,f.executionProviders,h),f.enableGraphCapture!==void 0){if(typeof f.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${f.enableGraphCapture}`);let D=q("enableGraphCapture",h),x=q(f.enableGraphCapture.toString(),h);c._OrtAddSessionConfigEntry(a,D,x)!==0&&V(`Can\'t set a session config entry: \'enableGraphCapture\' - ${f.enableGraphCapture}.`)}if(f.freeDimensionOverrides)for(let[D,x]of Object.entries(f.freeDimensionOverrides)){if(typeof D!="string")throw new Error(`free dimension override name must be a string: ${D}`);if(typeof x!="number"||!Number.isInteger(x)||x<0)throw new Error(`free dimension override value must be a non-negative integer: ${x}`);let K=q(D,h);c._OrtAddFreeDimensionOverride(a,K,x)!==0&&V(`Can\'t set a free dimension override: ${D} - ${x}.`)}return f.extra!==void 0&&nt(f.extra,"",new WeakSet,(D,x)=>{let K=q(D,h),R=q(x,h);c._OrtAddSessionConfigEntry(a,K,R)!==0&&V(`Can\'t set a session config entry: ${D} - ${x}.`)}),[a,h]}catch(w){throw a!==0&&c._OrtReleaseSessionOptions(a),h.forEach(g=>c._free(g)),w}};var Rt=u=>{switch(u){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${u}`)}},Dr=u=>{switch(u){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${u}`)}},It=u=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][u],Fr=u=>{switch(u){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${u}`)}},xr=u=>{switch(u){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${u}`)}},Pr=u=>u==="float32"||u==="float16"||u==="int32"||u==="int64"||u==="uint32"||u==="uint8"||u==="bool",Ur=u=>{switch(u){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${u}`)}};var Rr=async u=>{if(typeof u=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(u))}catch(c){if(c.code==="ERR_FS_FILE_TOO_LARGE"){let a=(void 0)(u),h=[];for await(let f of a)h.push(f);return new Uint8Array(Buffer.concat(h))}throw c}else{let c=await fetch(u);if(!c.ok)throw new Error(`failed to load external data file: ${u}`);let a=c.headers.get("Content-Length"),h=a?parseInt(a,10):0;if(h<1073741824)return new Uint8Array(await c.arrayBuffer());{if(!c.body)throw new Error(`failed to load external data file: ${u}, no response body.`);let f=c.body.getReader(),w;try{w=new ArrayBuffer(h)}catch(i){if(i instanceof RangeError){let E=Math.ceil(h/65536);w=new WebAssembly.Memory({initial:E,maximum:E}).buffer}else throw i}let g=0;for(;;){let{done:i,value:E}=await f.read();if(i)break;let P=E.byteLength;new Uint8Array(w,g,P).set(E),g+=P}return new Uint8Array(w,0,h)}}else return u instanceof Blob?new Uint8Array(await u.arrayBuffer()):u instanceof Uint8Array?u:new Uint8Array(u)};var pn=(u,c)=>{Z()._OrtInit(u,c)!==0&&V("Can\'t initialize onnxruntime.")},Lr=async u=>{pn(u.wasm.numThreads,xr(u.logLevel))},Br=async(u,c)=>{},ze=new Map,mn=u=>{let c=Z(),a=c.stackSave();try{let h=c.stackAlloc(8);return c._OrtGetInputOutputCount(u,h,h+4)!==0&&V("Can\'t get session input/output count."),[c.HEAP32[h/4],c.HEAP32[h/4+1]]}finally{c.stackRestore(a)}},Lt=u=>{let c=Z(),a=c._malloc(u.byteLength);if(a===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${u.byteLength}.`);return c.HEAPU8.set(u,a),[a,u.byteLength]},kr=async(u,c)=>{let a,h,f=Z();Array.isArray(u)?[a,h]=u:u.buffer===f.HEAPU8.buffer?[a,h]=[u.byteOffset,u.byteLength]:[a,h]=Lt(u);let w=0,g=0,i=0,E=[],P=[],U=[];try{if([g,E]=Cr(c),c?.externalData&&f.mountExternalData){let W=[];for(let H of c.externalData){let se=typeof H=="string"?H:H.path;W.push(Rr(typeof H=="string"?H:H.data).then(ee=>{f.mountExternalData(se,ee)}))}await Promise.all(W)}w=await f._OrtCreateSession(a,h,g),w===0&&V("Can\'t create a session.");let[D,x]=mn(w),K=!!c?.enableGraphCapture,R=[],I=[],v=[];for(let W=0;W<D;W++){let H=f._OrtGetInputName(w,W);H===0&&V("Can\'t get an input name."),P.push(H),R.push(f.UTF8ToString(H))}for(let W=0;W<x;W++){let H=f._OrtGetOutputName(w,W);H===0&&V("Can\'t get an output name."),U.push(H);let se=f.UTF8ToString(H);I.push(se)}let k=null;return ze.set(w,[w,P,U,k,K,!1]),[w,R,I]}catch(D){throw P.forEach(x=>f._OrtFree(x)),U.forEach(x=>f._OrtFree(x)),i!==0&&f._OrtReleaseBinding(i),w!==0&&f._OrtReleaseSession(w),D}finally{f._free(a),g!==0&&f._OrtReleaseSessionOptions(g),E.forEach(D=>f._free(D)),f.unmountExternalData?.()}},Wr=u=>{let c=Z(),a=ze.get(u);if(!a)throw new Error(`cannot release session. invalid session id: ${u}`);let[h,f,w,g,i]=a;g&&(i&&c._OrtClearBoundOutputs(g.handle),c._OrtReleaseBinding(g.handle)),c.jsepOnReleaseSession?.(u),f.forEach(E=>c._OrtFree(E)),w.forEach(E=>c._OrtFree(E)),c._OrtReleaseSession(h),ze.delete(u)},Ir=(u,c,a,h,f,w=!1)=>{if(!u){c.push(0);return}let g=Z(),i=u[0],E=u[1],P=u[3],U,D;if(i==="string"&&P==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(w&&P!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${f} when enableGraphCapture is true.`);if(P==="gpu-buffer"){let R=u[2].gpuBuffer,I=It(Rt(i));D=E.reduce((k,W)=>k*W,1)*I;let v=g.jsepRegisterBuffer;if(!v)throw new Error(\'Tensor location "gpu-buffer" is not supported without using WebGPU.\');U=v(h,f,R,D)}else{let R=u[2];if(Array.isArray(R)){D=4*R.length,U=g._malloc(D),a.push(U);let I=U/4;for(let v=0;v<R.length;v++){if(typeof R[v]!="string")throw new TypeError(`tensor data at index ${v} is not a string`);g.HEAPU32[I++]=q(R[v],a)}}else D=R.byteLength,U=g._malloc(D),a.push(U),g.HEAPU8.set(new Uint8Array(R.buffer,R.byteOffset,D),U)}let x=g.stackSave(),K=g.stackAlloc(4*E.length);try{let R=K/4;E.forEach(v=>g.HEAP32[R++]=v);let I=g._OrtCreateTensor(Rt(i),U,D,K,E.length,Ur(P));I===0&&V(`Can\'t create tensor for input/output. session=${h}, index=${f}.`),c.push(I)}finally{g.stackRestore(x)}},Nr=async(u,c,a,h,f,w)=>{let g=Z(),i=ze.get(u);if(!i)throw new Error(`cannot run inference. invalid session id: ${u}`);let E=i[0],P=i[1],U=i[2],D=i[3],x=i[4],K=i[5],R=c.length,I=h.length,v=0,k=[],W=[],H=[],se=[],ee=g.stackSave(),S=g.stackAlloc(R*4),j=g.stackAlloc(R*4),Ce=g.stackAlloc(I*4),Ue=g.stackAlloc(I*4);try{[v,k]=Mr(w);for(let F=0;F<R;F++)Ir(a[F],W,se,u,c[F],x);for(let F=0;F<I;F++)Ir(f[F],H,se,u,R+h[F],x);let ce=S/4,ne=j/4,Q=Ce/4,Oe=Ue/4;for(let F=0;F<R;F++)g.HEAPU32[ce++]=W[F],g.HEAPU32[ne++]=P[c[F]];for(let F=0;F<I;F++)g.HEAPU32[Q++]=H[F],g.HEAPU32[Oe++]=U[h[F]];g.jsepOnRunStart?.(E);let he;he=await g._OrtRun(E,j,S,R,Ue,I,Ce,v),he!==0&&V("failed to call OrtRun().");let ae=[];for(let F=0;F<I;F++){let ye=g.HEAPU32[Ce/4+F];if(ye===H[F]){ae.push(f[F]);continue}let ve=g.stackSave(),fe=g.stackAlloc(4*4),_e=!1,Y,pe=0;try{g._OrtGetTensorData(ye,fe,fe+4,fe+8,fe+12)!==0&&V(`Can\'t access output tensor data on index ${F}.`);let Ee=fe/4,be=g.HEAPU32[Ee++];pe=g.HEAPU32[Ee++];let we=g.HEAPU32[Ee++],Le=g.HEAPU32[Ee++],me=[];for(let te=0;te<Le;te++)me.push(g.HEAPU32[we/4+te]);g._OrtFree(we);let Se=me.reduce((te,z)=>te*z,1);Y=Dr(be);let De=D?.outputPreferredLocations[h[F]];if(Y==="string"){if(De==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let te=[],z=pe/4;for(let le=0;le<Se;le++){let Fe=g.HEAPU32[z++],Ae=le===Se-1?void 0:g.HEAPU32[z]-Fe;te.push(g.UTF8ToString(Fe,Ae))}ae.push([Y,me,te,"cpu"])}else if(De==="gpu-buffer"&&Se>0){let te=g.jsepGetBuffer;if(!te)throw new Error(\'preferredLocation "gpu-buffer" is not supported without using WebGPU.\');let z=te(pe),le=It(be);if(le===void 0||!Pr(Y))throw new Error(`Unsupported data type: ${Y}`);_e=!0,ae.push([Y,me,{gpuBuffer:z,download:g.jsepCreateDownloader(z,Se*le,Y),dispose:()=>{g._OrtReleaseTensor(ye)}},"gpu-buffer"])}else{let te=Fr(Y),z=new te(Se);new Uint8Array(z.buffer,z.byteOffset,z.byteLength).set(g.HEAPU8.subarray(pe,pe+z.byteLength)),ae.push([Y,me,z,"cpu"])}}finally{g.stackRestore(ve),Y==="string"&&pe&&g._free(pe),_e||g._OrtReleaseTensor(ye)}}return D&&!x&&(g._OrtClearBoundOutputs(D.handle),ze.set(u,[E,P,U,D,x,!1])),ae}finally{g.stackRestore(ee),W.forEach(ce=>g._OrtReleaseTensor(ce)),H.forEach(ce=>g._OrtReleaseTensor(ce)),se.forEach(ce=>g._free(ce)),v!==0&&g._OrtReleaseRunOptions(v),k.forEach(ce=>g._free(ce))}},Hr=u=>{let c=Z(),a=ze.get(u);if(!a)throw new Error("invalid session id");let h=a[0],f=c._OrtEndProfiling(h);f===0&&V("Can\'t get an profile file name."),c._OrtFree(f)},Gr=u=>{let c=[];for(let a of u){let h=a[2];!Array.isArray(h)&&"buffer"in h&&c.push(h.buffer)}return c};self.onmessage=u=>{let{type:c,in:a}=u.data;try{switch(c){case"init-wasm":Tr(a.wasm).then(()=>{Lr(a).then(()=>{postMessage({type:c})},h=>{postMessage({type:c,err:h})})},h=>{postMessage({type:c,err:h})});break;case"init-ep":{let{epName:h,env:f}=a;Br(f,h).then(()=>{postMessage({type:c})},w=>{postMessage({type:c,err:w})});break}case"copy-from":{let{buffer:h}=a,f=Lt(h);postMessage({type:c,out:f});break}case"create":{let{model:h,options:f}=a;kr(h,f).then(w=>{postMessage({type:c,out:w})},w=>{postMessage({type:c,err:w})});break}case"release":Wr(a),postMessage({type:c});break;case"run":{let{sessionId:h,inputIndices:f,inputs:w,outputIndices:g,options:i}=a;Nr(h,f,w,g,new Array(g.length).fill(null),i).then(E=>{E.some(P=>P[3]!=="cpu")?postMessage({type:c,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:c,out:E},Gr([...w,...E]))},E=>{postMessage({type:c,err:E})});break}case"end-profiling":Hr(a),postMessage({type:c});break;default:}}catch(h){postMessage({type:c,err:h})}};})();\n'});var Ze,Oe,_t,jt,zt,Er,_r,lt,ct,Za,Gt,ca,da,pa,ma,ha,ga,ya,Ar=H(()=>{"use strict";Qe();fa();ut();Ze=()=>!!G.wasm.proxy&&typeof document<"u",_t=!1,jt=!1,zt=!1,_r=new Map,lt=(r,t)=>{let n=_r.get(r);n?n.push(t):_r.set(r,[t])},ct=()=>{if(_t||!jt||zt||!Oe)throw new Error("worker not ready")},Za=r=>{switch(r.data.type){case"init-wasm":_t=!1,r.data.err?(zt=!0,Er[1](r.data.err)):(jt=!0,Er[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let t=_r.get(r.data.type);r.data.err?t.shift()[1](r.data.err):t.shift()[0](r.data.out);break}default:}},Gt=typeof document<"u"?document?.currentScript?.src:void 0,ca=async()=>{if(!jt){if(_t)throw new Error("multiple calls to 'initWasm()' detected.");if(zt)throw new Error("previous call to 'initWasm()' failed.");if(_t=!0,Ze())return G.wasm.wasmPaths===void 0&&Gt&&Gt.indexOf("blob:")!==0&&(G.wasm.wasmPaths=Gt.substr(0,+Gt.lastIndexOf("/")+1)),new Promise((r,t)=>{Oe?.terminate();let n=URL.createObjectURL(new Blob([la()],{type:"text/javascript"}));Oe=new Worker(n,{name:"ort-wasm-proxy-worker"}),Oe.onerror=i=>t(i),Oe.onmessage=Za,URL.revokeObjectURL(n),Er=[r,t];let f={type:"init-wasm",in:G};Oe.postMessage(f)});try{await Yn(G.wasm),await ra(G),jt=!0}catch(r){throw zt=!0,r}finally{_t=!1}}},da=async r=>{if(Ze())return ct(),new Promise((t,n)=>{lt("init-ep",[t,n]);let f={type:"init-ep",in:{epName:r,env:G}};Oe.postMessage(f)});await na(G,r)},pa=async r=>Ze()?(ct(),new Promise((t,n)=>{lt("copy-from",[t,n]);let f={type:"copy-from",in:{buffer:r}};Oe.postMessage(f,[r.buffer])})):Or(r),ma=async(r,t)=>{if(Ze()){if(t?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return ct(),new Promise((n,f)=>{lt("create",[n,f]);let i={type:"create",in:{model:r,options:{...t}}},m=[];r instanceof Uint8Array&&m.push(r.buffer),Oe.postMessage(i,m)})}else return aa(r,t)},ha=async r=>{if(Ze())return ct(),new Promise((t,n)=>{lt("release",[t,n]);let f={type:"release",in:r};Oe.postMessage(f)});oa(r)},ga=async(r,t,n,f,i,m)=>{if(Ze()){if(n.some(d=>d[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(i.some(d=>d))throw new Error("pre-allocated output tensor is not supported for proxy.");return ct(),new Promise((d,s)=>{lt("run",[d,s]);let h=n,g={type:"run",in:{sessionId:r,inputIndices:t,inputs:h,outputIndices:f,options:m}};Oe.postMessage(g,ua(h))})}else return ia(r,t,n,f,i,m)},ya=async r=>{if(Ze())return ct(),new Promise((t,n)=>{lt("end-profiling",[t,n]);let f={type:"end-profiling",in:r};Oe.postMessage(f)});sa(r)}});var wa,Ka,Yt,ba=H(()=>{"use strict";Qe();Ar();br();vr();wa=(r,t)=>{switch(r.location){case"cpu":return[r.type,r.dims,r.data,"cpu"];case"gpu-buffer":return[r.type,r.dims,{gpuBuffer:r.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${r.location} for ${t()}`)}},Ka=r=>{switch(r[3]){case"cpu":return new ce(r[0],r[2],r[1]);case"gpu-buffer":{let t=r[0];if(!$t(t))throw new Error(`not supported data type: ${t} for deserializing GPU tensor`);let{gpuBuffer:n,download:f,dispose:i}=r[2];return ce.fromGpuBuffer(n,{dataType:t,dims:r[1],download:f,dispose:i})}default:throw new Error(`invalid data location: ${r[3]}`)}},Yt=class{async fetchModelAndCopyToWasmMemory(t){return pa(await Et(t))}async loadModel(t,n){He();let f;typeof t=="string"?typeof process<"u"&&process.versions&&process.versions.node?f=await Et(t):f=await this.fetchModelAndCopyToWasmMemory(t):f=t,[this.sessionId,this.inputNames,this.outputNames]=await ma(f,n),$e()}async dispose(){return ha(this.sessionId)}async run(t,n,f){He();let i=[],m=[];Object.entries(t).forEach(v=>{let C=v[0],x=v[1],P=this.inputNames.indexOf(C);if(P===-1)throw new Error(`invalid input '${C}'`);i.push(x),m.push(P)});let d=[],s=[];Object.entries(n).forEach(v=>{let C=v[0],x=v[1],P=this.outputNames.indexOf(C);if(P===-1)throw new Error(`invalid output '${C}'`);d.push(x),s.push(P)});let h=i.map((v,C)=>wa(v,()=>`input "${this.inputNames[m[C]]}"`)),g=d.map((v,C)=>v?wa(v,()=>`output "${this.outputNames[s[C]]}"`):null),O=await ga(this.sessionId,m,h,s,g,f),E={};for(let v=0;v<O.length;v++)E[this.outputNames[s[v]]]=d[v]??Ka(O[v]);return $e(),E}startProfiling(){}endProfiling(){ya(this.sessionId)}}});var eo,qt,va=H(()=>{"use strict";Qe();Ar();ba();eo=()=>{if((typeof G.wasm.initTimeout!="number"||G.wasm.initTimeout<0)&&(G.wasm.initTimeout=0),typeof G.wasm.simd!="boolean"&&(G.wasm.simd=!0),typeof G.wasm.proxy!="boolean"&&(G.wasm.proxy=!1),typeof G.wasm.trace!="boolean"&&(G.wasm.trace=!1),typeof G.wasm.numThreads!="number"||!Number.isInteger(G.wasm.numThreads)||G.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(G.wasm.numThreads=1);let r=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;G.wasm.numThreads=Math.min(4,Math.ceil((r||1)/2))}},qt=class{async init(t){eo(),await ca(),await da(t)}async createInferenceSessionHandler(t,n){let f=new Yt;return await f.loadModel(t,n),Promise.resolve(f)}}});var Oa={};it(Oa,{wasmBackend:()=>to});var to,Ea=H(()=>{"use strict";va();to=new qt});var no={};it(no,{InferenceSession:()=>En,TRACE:()=>ir,TRACE_FUNC_BEGIN:()=>He,TRACE_FUNC_END:()=>$e,Tensor:()=>ce,TrainingSession:()=>xn,default:()=>ro,env:()=>G,registerBackend:()=>st});Qe();Qe();Qe();var Rn="1.18.0";var ro=ur;{let r=(Ea(),Ve(Oa)).wasmBackend;st("cpu",r,10),st("wasm",r,10)}Object.defineProperty(G.versions,"web",{value:Rn,enumerable:!0});return Ve(no);})();
//# sourceMappingURL=ort.wasm.min.js.map
